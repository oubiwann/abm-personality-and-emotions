(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{"+1qB":function(e,t,n){},"+6YQ":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("TGBA"),u=n("kxpR"),d=n.n(u),b=n("aK/h"),p=n("TSYQ"),h=n.n(p),m=n("od5y"),f=n("5nw9"),v=(n("ptIs"),{primary:"primary",danger:"danger",outline:"outline",outlinePrimary:"outline-primary",outlineDanger:"outline-danger",outlineTractor:"outline-tractor"}),g={small:"small",medium:"medium",large:"large"},_=(b.b.string,b.b.node,b.b.oneOf(Object(l.a)(v)),b.b.oneOf(Object(l.a)(g)),b.b.bool,b.b.string,b.b.string,{className:void 0,children:null,type:v.primary,size:g.medium,disabled:!1,icon:void 0,pillarClassName:null}),O=d.a.forwardRef(function(e,t){var n,r=e.className,i=e.children,s=e.pillarClassName,l=e.type,u=e.size,b=e.disabled,p=e.icon,v=c()(e,["className","children","pillarClassName","type","size","disabled","icon"]),g=h()("c-button","c-button--"+l,"c-button--"+u,{"c-button--disabled":b,"c-button--icon":p},r,s,s+"--"+l,s+"--"+u,(n={},o()(n,s+"--disabled",b),o()(n,s+"--icon",p),n));return d.a.createElement(f.a,a()({},v,{className:g,disabled:b,ref:t}),p?d.a.createElement(m.a,{type:p}):i)});O.defaultProps=_,O.displayName="Button",t.a=O},"+8di":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("7EGn"),a=n("F294"),i=n("fujP"),o=n("0VPD"),s=n("yHhI"),c=n("g5qt"),l=n("Smdl"),u=n("vRZS"),d=n("HO/Y"),b=n("pRVB"),p=n("DtX9"),h=n("uf9I"),m=n("6kok");function f(e,t){if(!t)return!1;if(!Object(u.a)()&&!Object(l.a)())return!1;if(!Object(m.rb)(t))return!1;if(!Object(h.a)(e))return!1;if(!Object(d.m)(e))return!1;var n=Object(h.b)(e),r=Object(s.a)({teamId:n}),p=Object(l.a)()?function(e,t){var n=v(e,t),r=Object(o.a)(Object(b.h)(e),n);if(Object(i.a)(r))return Object(a.a)(n);return r.length>0&&r[0]}(e,t):function(e,t){var n=v(e,t);if(!n)return null;var r=Object(c.E)(n);if(Array.isArray(r)&&r.length>0)return r[0];if(Array.isArray(n)&&n.length>0)return n[0];return null}(e,t);return p?p!==n:(r.warn("Missing relevant team for "+t.id+" in shouldSuppressOrgChannel"),!1)}function v(e,t){return Object(m.eb)(t)||Object(m.lb)(t)||Object(m.qb)(t)?Object(r.a)(Object(p.b)(e),"enterprise_user.teams",[]):Object(m.B)(e,t)}},"+99y":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("negh"),i=n("1zbP"),o=n("+yap"),s=n("XfeM"),c=n("SOCr"),l=n("S6VJ"),u=n("vZqh"),d=n("clTI"),b=n("DtX9"),p=n("dyRQ"),h=n("HO/Y"),m=n("6kok"),f=n("Fdc0"),v=n("Qrgz"),g=n("FHcd"),_=n("RB1+"),O=n("aLpA"),y=n("nNoG"),j=O.P.CUSTOM_ERROR,k=new y.b("cmd_handlers"),E=function(e,t){return Object(f.P)(e,t,!1,!0)},C=Object(s.b)("/remove slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,s=n.originalText,y=n.originalRest,C=n.words,I=(void 0===C?[]:C)[1]||"",w=I.startsWith("@")?I.slice(1):I,S=t(),T=Object(h.j)(t(),"feature_sonic_inputs"),R=function(e){var t=new Error(j);return t.feedback=e,Promise.reject(t)};if(!w)return R(k.t("Please specify someone to remove!"));var N=Object(b.c)(S,w);if(Object(i.c)(N)||!Object(g.a)(w))return R(k.t("*{input}* is not a recognized member name.",{input:y}));if(Object(i.b)(N)&&Object(f.yb)(N))return e(Object(l.a)({channelId:r}));if(Object(i.b)(N)&&Object(f.bb)(N))return e(Object(c.a)({appUserId:N.id,channelId:r,onError:function(){if(T){var e=Object(_.a)({viewContext:O.C.MESSAGE_PANE,channelId:r});e&&e.setText(s)}else Object(o.e)(s)},referringEventId:a.k.BUILTIN_CHAT_COMMAND_CALLED,sendEphemeralErrorMessage:!0}));var x=Object(d.d)(S,r),M=Object(v.i)(S,r),P=M.ok,A=M.reason;if(!P)switch(A){case v.a.INVALID_DM:return R(k.t("You can\u2019t remove someone from a direct message."));case v.a.REQUIRED_CHANNEL:return R(k.t("You can\u2019t remove this member from *{channel}*!",{channel:Object(m.x)(S,x)}));case v.a.ARCHIVED_CHANNEL:return R(k.t("You can\u2019t remove anyone from *{channel}* while it is archived.",{channel:Object(m.x)(S,x)}));case v.a.RESTRICTED_PRIVATE_CHANNEL:return R(k.t("Removing someone from a private channel is a restricted action."));case v.a.RESTRICTED_PUBLIC_CHANNEL:default:return R(k.t("Removing someone from a channel is a restricted action."))}var D=Object(f.h)(S,w),L=D.ok,q=D.reason;if(!L)switch(q){case O.L.EXTERNAL_MEMBER:return R(T?k.t("You can\u2019t remove {member_name} from this channel, because they\u2019re from another organization.",{member_name:E(S,N)}):"");default:return k.t("Hmm, something went wrong. Try again?")}var F=Object(p.f)(S,r,w);return F.isKnown&&!F.isMember?R(k.t("*{user}* is not a member of this {channel}.",{user:E(S,N),channel:Object(m.xb)(x)?k.t("private channel"):k.t("channel")})):e(Object(u.a)({memberId:w,channelId:r}))});C.propTypes={channelId:r.b.string.isRequired,words:r.b.arrayOf(r.b.string.isRequired).isRequired,originalText:r.b.string.isRequired},t.default=C},"+Bvv":function(e,t,n){},"+FUT":function(e,t,n){},"+Gfg":function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"i",function(){return A}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return W}),n.d(t,"e",function(){return Q}),n.d(t,"h",function(){return X}),n.d(t,"g",function(){return Z}),n.d(t,"f",function(){return J});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("TGBA"),l=n("Muja"),u=n("ipyK"),d=n("OZf9"),b=n("oTSI"),p=n("zmn3"),h=n("Z0Cl"),m=n("/1FC"),f=n("GxtX"),v=n("aK/h"),g=n("btvA"),_=n("lhZz"),O=n("Iq6W"),y=n("7dvU"),j=n("M1dg"),k=n("EzZj"),E=n("MNvw"),C=n("XfeM"),I=n("U/ze"),w=n("yHhI"),S=n("QGHb"),T=n("CXsT"),R=n("uf9I"),N=n("HO/Y"),x=Object(b.a)(function(){return new g.b({fetch:function(e){return Object(_.dispatchForTeamId)(e,q()),Object(N.j)(Object(_.getStateByTeamId)(e),"feature_starred_items_cursor_pagination")?Object(_.dispatchForTeamId)(e,V({exclude:"Ch,Gh,Dh",limit:20})):Object(_.dispatchForTeamId)(e,V({exclude:"Ch,Gh,Dh",count:20,page:1}))},isEnabled:function(){return!0},metricsName:"stars"})}),M=Object(k.b)("Adds multiple IDs of starred items to array and updates the cursor mark if provided one");M.propTypes=v.b.object.isRequired;var P=Object(k.b)("Adds ID of single starred items to array");P.propTypes=v.b.object.isRequired;var A=Object(k.b)("Removes ID single starred item from array");A.propTypes=v.b.object.isRequired;var D=Object(k.b)("Store current pagination");D.propTypes=v.b.object.isRequired;var L=Object(k.b)("Sets if stars are loading");L.propTypes=v.b.bool.isRequired;var q=Object(k.b)("Resets stars to initial state");q.propTypes=null;var F="message",B="file",U="file_comment",H="channel",K=function(e,t){return t.type===F?{type:t.type,channel:t.channel,ts:t.message.ts}:t.type===B?{type:t.type,id:t.file.id}:t.type===U?{type:t.type,id:t.comment.id,fileId:t.file.id}:{}},G=function(e,t){var n=e.ts||e.message&&e.message.ts;return Object(h.a)(t,function(t){return(e.type!==F||t.channel!==e.channel||t.ts!==n)&&(e.type!==B||t.id!==e.file_id)})},V=Object(C.b)("Fetch starred items list for user",function(e,t,n){return e(L(!0)),e(Object(S.a)(s()({reason:"fetchStarsList"},n))).then(function(n){var r=Object(h.a)(n.items,function(e){return e.type===F});Object(d.a)(r,function(t){var n=e(Object(T.a)({imsgs:[t.message],channelId:t.channel}));n.length&&e(Object(O.a)(n))});var a=Object(h.a)(n.items,function(e){return e.type===B});(a=Object(p.a)(a,function(e){return e.file})).length&&e(Object(y.a)({files:a}));var i=Object(h.a)(n.items,function(e){return e.type===U}),o={};i.forEach(function(e){o[e.file.id]=e.file}),i.forEach(function(e){var t=e.comment,n=o[e.file.id],r=Object(j.a)(t,n);o[n.id]=r}),e(Object(y.a)({files:Object(c.a)(o)}));var s=n.items,l=n.response_metadata,u=n.paging;e(M({items:s,responseMetadata:l}));var b=t();Object(N.j)(b,"feature_starred_items_cursor_pagination")||e(D(u));var m=Object(R.b)(b);x().markObjectsAsFresh(m,["stars"])}).catch(function(e){throw Object(w.a)({getState:t}).error("Error in fetchStarsList: "+JSON.stringify(e)),e}).finally(function(){e(L(!1))})});V.propTypes={options:v.b.shape({count:v.b.number,page:v.b.number,exclude:v.b.bool,cursor:v.b.string,limit:v.b.number})};var z={starsList:[],currentPage:0,totalPages:0,isLoading:!0,cursorMark:void 0},Y=Object(E.b)((r={},i()(r,M,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.items,r=t.responseMetadata;if(!n||!n.length||!Object(m.a)(n))return e;var a=Object(h.a)(n,function(e){return e.type!==H}),i=Object(p.a)(a,function(e){return K(0,e)}),o=e.starsList.concat(i),c=Object(u.a)(o,l.a);return s()({},e,{starsList:c,cursorMark:r&&r.next_cursor})}),i()(r,P,function(e,t){if(!t)return e;if(t.type===H)return e;var n=G(t,e.starsList),r=K(0,t);return n=Object(f.a)([r],n),s()({},e,{starsList:n})}),i()(r,A,function(e,t){if(!t)return e;var n=G(t,e.starsList);return s()({},e,{starsList:n})}),i()(r,D,function(e,t){return t.page&&t.pages?s()({},e,{currentPage:t.page,totalPages:t.pages}):e}),i()(r,L,function(e,t){return s()({},e,{isLoading:t})}),i()(r,q,function(){return z}),r),z,{persistenceEnabled:!0});Y.propTypes={starsList:v.b.arrayOf(v.b.shape({type:v.b.string.isRequired,channel:v.b.string,ts:v.b.string,id:v.b.string})),currentPage:v.b.number,totalPages:v.b.number,isLoading:v.b.bool,cursorMark:v.b.string},t.b=Y;var W=Object(I.b)(function(e){var t=Object(R.b)(e);return x().maybeRefetch(t,"stars"),e&&e.stars&&e.stars.starsList}),Q=Object(I.b)(function(e){return e&&e.stars&&e.stars.currentPage}),X=Object(I.b)(function(e){return e&&e.stars&&e.stars.totalPages}),Z=Object(I.b)(function(e){return e&&e.stars&&e.stars.isLoading}),J=Object(I.b)(function(e){return e&&e.stars&&e.stars.cursorMark})},"+J1t":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=(n("PWfr"),d.b.node,d.b.string,function(e){var t=e.children,n=e.className,r=o()(e,["children","className"]);return c.a.createElement("div",a()({},r,{className:u()("c-sk-modal_content_section",n)}),t)});b.displayName="ModalContentSection",b.defaultProps={children:null,className:null},t.a=b},"+JGq":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Add or replace channels, blowing away any existing channels at the same ids");i.propTypes={channels:r.b.arrayOf(r.b.shape({id:r.b.string.isRequired})).isRequired,reason:r.b.string.isRequired};var o=Object(a.b)("Remove channels by id");o.propTypes={ids:r.b.arrayOf(r.b.string).isRequired,reason:r.b.string};var s=Object(a.b)("Trigger a side effect when the last_read field of a channel has been changed");s.propTypes={id:r.b.string.isRequired,last_read:r.b.string.isRequired};var c=Object(a.b)("Join a channel");c.propTypes=r.b.shape({id:r.b.string.isRequired}).isRequired},"+Lv6":function(e,t,n){"use strict";var r=n("wdd+"),a=n("DCka");n.d(t,"a",function(){return a.a}),t.b=r.a},"+MKQ":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("1czH"),i=n("7KzH"),o=n("XfeM"),s=n("6kok"),c=n("wfE8"),l=n("aLpA").P.CUSTOM_ERROR,u=Object(o.b)("/topic slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,o=n.originalRest;if(o){if(Object(s.m)(o)){var u=new Error(l);return u.feedback=Object(s.u)(s.i),Promise.reject(u)}return e(Object(c.D)({channelId:r,topic:o})).catch(function(e){throw Object(a.s)(e),e})}return Object(i.a)(),Promise.resolve()});u.propTypes={channelId:r.b.string,originalRest:r.b.string},t.default=u},"+Vvh":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("TSYQ"),g=n.n(v),_=n("XLFM"),O=n("ynxK"),y=(n("B4s0"),f.b.string,f.b.string,f.b.string,f.b.string,f.b.node.isRequired,f.b.string,f.b.func,f.b.string,f.b.func,f.b.string,{className:void 0,imageUrl:void 0,imageUrl2x:void 0,title:"",primaryActionText:"",secondaryActionText:"",onClickPrimaryAction:p.a,onClickSecondaryAction:p.a,role:"alert"}),j=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=g()(this.props.className,"c-empty_state"),t=void 0;return this.props.imageUrl&&this.props.imageUrl2x&&(t={srcSet:this.props.imageUrl+", "+this.props.imageUrl2x+" 2x"}),m.a.createElement("div",{role:this.props.role,className:e,"data-qa":"empty_state_wrapper"},this.props.imageUrl&&m.a.createElement("div",{className:"c-empty_state__image_wrapper"},m.a.createElement("img",a()({},t,{src:this.props.imageUrl,className:"c-empty_state__image",alt:""}))),!!this.props.title.length&&m.a.createElement("div",{className:"c-empty_state__title"},this.props.title),m.a.createElement("div",{className:"c-empty_state__description"},this.props.description),this.props.primaryActionText&&m.a.createElement("div",{className:"c-empty_state__action","data-qa":"empty_state_primary_action"},m.a.createElement(_.d,{type:"outline",onClick:this.props.onClickPrimaryAction},this.props.primaryActionText)),this.props.secondaryActionText&&m.a.createElement("div",{className:"c-empty_state__secondary_action","data-qa":"empty_state_secondary_action"},m.a.createElement(O.a,{onClick:this.props.onClickSecondaryAction},this.props.secondaryActionText)))}}]),t}(h.PureComponent);j.displayName="EmptyState",j.defaultProps=y,t.a=j},"+cPl":function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"a",function(){return O}),n.d(t,"f",function(){return j}),n.d(t,"b",function(){return k}),n.d(t,"d",function(){return E}),n.d(t,"c",function(){return C});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("YEIV"),c=n.n(s),l=n("Bw5p"),u=n("7EGn"),d=n("aK/h"),b=n("4zXV"),p=n("UjNr"),h=n("yHhI"),m=n("om+M"),f=n("XfeM"),v=n("HO/Y"),g=n("St+r"),_=Object(m.a)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pref,a=n.value,i=void 0===a?null:a;return e(Object(b.b)({method:"team.prefs.set",args:{prefs:JSON.stringify(c()({},r,i))}})).catch(function(e){throw Object(h.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the pref "'+r+'"'),e})});_.propTypes={pref:d.b.string.isRequired,value:d.b.any};var O=Object(m.a)("Set multiple team prefs via the setPref API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:"team.prefs.set",args:{prefs:JSON.stringify(n)},reason:"prefs-api/setMultipleTeamPrefsByApi"};return e(Object(b.b)(r)).catch(function(e){throw Object(h.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the prefs "'+Object.keys(n).join(", ")+'"'),e})});O.propTypes={prefs:d.b.object},Object(m.a)("Get one or more named user prefs via API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prefs,a=void 0===r?[]:r,i=n.reason;return a.length?e(Object(b.b)({method:"users.prefs.get",args:{prefs:a.join(",")},reason:i})).then(function(e){return e.prefs}).catch(function(){Object(h.a)({getState:t}).error("PREFS","user.prefs.get failed to fetch the prefs",a)}):Promise.reject(new Error("No prefs were passed to getUserPrefsByApi."))}).propTypes={prefs:d.b.array.isRequired,reason:d.b.string.isRequired};var y=Object(f.b)("Trigger pref_change events for each of the preferences in the given payload",function(e,t,n){Object.keys(n).forEach(function(t){e(Object(g.c)({type:"pref_change",name:t,value:n[t]}))})});y.propTypes=d.b.object.isRequired;var j=Object(m.a)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pref,i=n.value,s=o()(n,["pref","value"]),l=t(),u={method:"users.prefs.set",args:a()({name:r,value:i},s),reason:"prefs-api/setUserPrefByApi"};return Object(v.j)(l,"feature_offline_mode")?e(Object(p.a)(u)).tap(function(){e(y(c()({},r,i)))}):e(Object(b.b)(u)).tap(function(t){return e(y(c()({},r,t.prefs[r])))}).catch(function(e){throw Object(h.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the pref "'+r+'"'),e})});j.propTypes={pref:d.b.string.isRequired,value:d.b.any};var k=Object(m.a)("Set multiple prefs via the setPref API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t(),a={method:"users.prefs.set",args:{prefs:JSON.stringify(n)},reason:"prefs-api/setMultipleUserPrefsByApi"};return Object(v.j)(r,"feature_offline_mode")?e(Object(p.a)(a)).tap(function(){return e(y(n))}):e(Object(b.b)(a)).tap(function(t){var r=t&&t.prefs?t.prefs:n;e(y(Object(l.a)(r,Object.keys(n))))}).catch(function(e){throw Object(h.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the prefs "'+Object.keys(n).join(", ")+'"'),e})});k.propTypes={prefs:d.b.object};var E=Object(m.a)("Set a global notification pref via the users.prefs.setNotifications API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.value,i=n.sync,o=void 0!==i&&i,s=n.reason,c=t(),l={method:"users.prefs.setNotifications",args:{name:r,value:a,global:!0,sync:o},reason:s};return Object(v.j)(c,"feature_offline_mode")?e(Object(p.a)(l)).tap(function(){"global_keywords"===r&&e(y({highlight_words:a}))}):e(Object(b.b)(l)).tap(function(t){t&&t.all_notifications_prefs&&(e(y({all_notifications_prefs:JSON.stringify(t.all_notifications_prefs)})),"global_keywords"===r&&Object(u.a)(t.all_notifications_prefs,"global.global_keywords")&&e(y({highlight_words:t.all_notifications_prefs.global.global_keywords})))}).catch(function(e){throw Object(h.a)({getState:t}).error("PREFS",'users.prefs.setNotifications failed to update the pref "'+r+'"'),e})});E.propTypes={name:d.b.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:d.b.oneOfType([d.b.string,d.b.number,d.b.bool]).isRequired,sync:d.b.bool,reason:d.b.string};var C=Object(m.a)("Calls users.prefs.setNotifications endpoint",function(e,t,n){var r=n.name,a=n.value,i=n.channelId,o=n.sync,s=void 0!==o&&o,c=n.reason,l={method:"users.prefs.setNotifications",args:{name:r,value:a,channel_id:i,global:!1,sync:s},reason:void 0===c?"users-prefs-set-notifications":c};return Object(v.j)(t(),"feature_offline_mode")?e(Object(p.a)(l)):e(Object(b.b)(l))});C.propTypes={name:d.b.string.isRequired,value:d.b.any.isRequired,channelId:d.b.string.isRequired,sync:d.b.bool,reason:d.b.string}},"+dLL":function(e,t,n){"use strict";var r=n("QLyv");t.a=function(e){var t,n,a,i,o=r.a.localeData(r.a.locale()),s=0,c=parseInt(e,10);return c%365==0?(s=c/365,c=0):(s=Math.floor(c/365),c%=365),t=0===s||s>1?"yy":"y",n=0===c||c>1?"dd":"d",a=o.relativeTime(s,!0,t,!1),i=o.relativeTime(c,!0,n,!1),s>=1&&c>=1?a+", "+i:s>=1?a:i}},"+epm":function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return v});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("OZf9"),c=n("fujP"),l=n("3Hq1"),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=Object(d.b)("Set members can interact flags");h.propTypes=u.b.object.isRequired;var m=Object(b.b)(a()({},h,function(e,t){var n={};return Object(s.a)(t,function(t,r){if(r&&!Object(l.a)(t))if(t){if(e[r])return;n[r]=!0}else!1!==e[r]&&(n[r]=!1)}),Object(c.a)(n)?e:o()({},e,n)}),{},{persistenceEnabled:!0});m.propTypes=u.b.objectOf(u.b.bool),t.c=m;var f=Object(p.b)(function(e,t){return!e||!e.canInteract||!1!==e.canInteract[t]}),v=function(e,t){var n=Math.abs(t);return e?n:-1*n}},"+j2t":function(e,t,n){"use strict";n.d(t,"a",function(){return r});t.b={MPIM:"mpim",DEFAULT:"default"};var r={createChannel:"create_channel",acceptInvite:"accept_invite",convertChannel:"convert_channel",disconnectChannel:"disconnect_channel",archiveChannel:"archive_channel"}},"+mjO":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("TSYQ"),m=n.n(h),f=n("aK/h"),v=n("XHGt"),g=n("acVv"),_=n("HO/Y"),O=n("lek6"),y=n("3dqR"),j=n("o4CG"),k=n("lwWk"),E=n("RRzp"),C=n("5mwC"),I=(f.b.func,f.b.string,f.b.bool,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.bool,f.b.string,{clogLinkClick:d.a,icon:null,isDistinct:!1,name:null,link:null,subname:null,subnameLink:null,memberId:null,featureReactMemberProfileCard:!1,proxiedIconUrl:null}),w=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderInLinkMaybe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.link;if(!t)return e;var n=m()("c-message_attachment__part","c-message_attachment__author_link");return p.a.createElement(k.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:n,"data-qa":"message_attachment_link"},e)}},{key:"renderIconMaybe",value:function(){var e=this.props,t=e.icon,n=e.name,r=e.memberId,a=e.featureReactMemberProfileCard,i=e.link,o=e.clogLinkClick,s=e.proxiedIconUrl;if(!t)return null;if(a){if(!r){var c=p.a.createElement("img",{className:"c-message_attachment__author_icon",alt:n,src:s,width:C.a,height:C.a,"data-qa":"message_attachment_author_icon","data-stringify-ignore":!0});return i&&(c=p.a.createElement(k.a,{className:"c-message_attachment__author_link",href:i,target:"_blank",rel:"noopener noreferrer",onClick:o},c)),c}return p.a.createElement(y.b,{className:"c-message_attachment__author_icon",userId:r,size:C.a,imageUrl:t,isInteractive:!0,showCard:!0,ariaHidden:"true",tabIndex:"-1","data-stringify-ignore":!0})}return p.a.createElement("img",{className:"c-message_attachment__author_icon",alt:n,src:s,width:C.a,height:C.a,"data-qa":"message_attachment_author_icon","data-stringify-ignore":!0})}},{key:"renderNameMaybe",value:function(){var e=this.props,t=e.clogLinkClick,n=e.name,r=e.memberId,a=e.featureReactMemberProfileCard,i=e.link;if(!n)return null;if(a){if(!r){var o=p.a.createElement(O.a,{className:"c-message_attachment__author_name",clogLinkClick:t,noHighlights:!0,noSpecials:!0,text:n,"data-qa":"message_attachment_author_name"});return i&&(o=p.a.createElement(k.a,{className:"c-message_attachment__author_link",href:i,target:"_blank",rel:"noopener noreferrer",onClick:t},o)),o}return p.a.createElement(j.a,{id:r,className:"c-message_attachment__author_name",clogLinkClick:t})}return p.a.createElement(O.a,{className:"c-message_attachment__author_name",clogLinkClick:t,noHighlights:!0,noSpecials:!0,text:n,"data-qa":"message_attachment_author_name"})}},{key:"renderIconAndNameMaybe",value:function(){var e=this.props,t=e.icon,n=e.name,r=e.featureReactMemberProfileCard;return t||n?r?p.a.createElement("span",{className:"c-message_attachment__part"},this.renderIconMaybe(),this.renderNameMaybe()):this.renderInLinkMaybe(p.a.createElement("span",{className:"c-message_attachment__part"},this.renderIconMaybe(),this.renderNameMaybe())):null}},{key:"renderSubnameMaybe",value:function(){var e=this.props,t=e.clogLinkClick,n=e.name,r=e.subname,a=e.subnameLink;return r&&r!==n?this.renderInLinkMaybe(p.a.createElement(O.a,{className:"c-message_attachment__author_subname",clogLinkClick:t,noHighlights:!0,noSpecials:!0,text:r}),a):null}},{key:"render",value:function(){var e=this.props,t=e.isDistinct,n=e.subname,r=m()("c-message_attachment__author",{"c-message_attachment__author--distinct":t,"c-message_attachment__author--has_subname":n}),a=t?" ":" | ";return p.a.createElement("span",{className:r,"data-qa":"message_attachment_author"},p.a.createElement(E.a,{separator:a},this.renderIconAndNameMaybe(),this.renderSubnameMaybe()))}}]),t}(b.PureComponent);w.displayName="AttachmentAuthor",w.defaultProps=I,t.a=Object(v.b)(function(e,t){var n=t.icon;return{featureReactMemberProfileCard:Object(_.j)(e,"feature_react_member_profile_card"),proxiedIconUrl:Object(g.a)(e,{url:n,width:C.d,height:C.d})}})(w)},"+ncu":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i});var r="CHANNELS-ACTIONS",a="Upsert a channel, group, mpim, or im",i={ADD_CHANNEL:"Add a channel, overwriting anything previously stored with the same id",ARCHIVE_CHANNEL:"Archive channel",BULK_ADD_CHANNELS:"Bulk add channels, overwriting anything previously stored with the same id",BULK_UPDATE_CHANNELS:"Update a few keys for multiple channels",CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS:"Legacy hack: set the _show_in_list_even_though_no_unreads for all channels to be false",CONVERT_TO_PRIVATE:"Convert a channel to private",CONVERT_TO_SHARED:"Convert a channel to an enterprise shared channel (cross-workspace or org-wide)",CHANNEL_UPDATED:"Channel was updated (privacy, permissions or externally shared status changed)",ORG_ACCESS:"Update the teams this channel is shared with on your organization or update to cross-workspace or org-wide",LEAVE_CHANNEL:"Leave channel",RENAME_CHANNEL:"Rename a channel",SET_PURPOSE:"Set a channel purpose",SET_STAR:"Set starred state for a channel",SET_TOPIC:"Set a channel topic",UNARCHIVE_CHANNEL:"Unarchive a channel",UPDATE_ONE_KEY:"Update one key for a channel by id",UPDATE_WORKSPACE_ACCESS:"Update workspace access for a channel",UPSERT_CHANNEL:a,CHILD_CHANNEL_CREATED:"Archive old private channel and replace it with new private channel with same name"}},"+qWH":function(e,t,n){"use strict";var r=n("ifKl"),a=n("kxpR"),i=n.n(a);t.a=i.a.createContext({registerSection:r.a,unregisterSection:r.a,setInitialActiveSection:r.a,resetSectionNavigation:r.a})},"+rBa":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("AFNo"),s=n("rWF5"),c=n("1YQg"),l=n("4zXV"),u=n("k55U"),d=n("TM4O"),b=Object(o.b)("Sends an invite response to the web API from the slack window",function(e,t,n){var r=n.id,a=n.response,i=n.toUserId;return Object(u.f)(!Object(d.a)(),"Not a slack window context"),e(Object(l.a)({method:"screenhero.rooms.inviteResponse",reason:"calls-invite-response",args:{caller:i,room:r,response:a}}))});b.propTypes=i.b.shape({id:i.b.string.isRequired,response:i.b.string.isRequired,toUserId:i.b.string.isRequired}).isRequired;var p=Object(o.b)("Reject a DM call from the slack window",function(e,t,n){var r=n.id,a=n.appId,i=n.channelId;return Object(u.f)(!Object(d.a)(),"Not a slack window context"),e(Object(l.a)({method:"calls.reject",reason:"calls-invite-response",args:{id:r,app_id:a,channel_id:i}}))});p.propTypes=i.b.shape({id:i.b.string.isRequired,appId:i.b.string.isRequired,channelId:i.b.string.isRequired}).isRequired;var h=n("HALc"),m=n("2Inn"),f=n("7Ztl"),v=n("zA5J"),g=n("dYYP"),_=n("vhct"),O=n("g5qt"),y=n("Yzeu"),j=3e4;function k(e,t){return Object(u.f)(!Object(d.a)(),"Not a slack window context"),window.setTimeout(function(){e(x({id:t,response:c.c.Missed}))},j)}var E=Object(o.f)("Handles an invite response from the callee",function(e,t,n){var r=Object(f.b)(t(),n);Object(s.u)()&&r.window&&!r.window.isClosed()&&r.window.close()}),C=Object(o.f)("Inserts an incoming invite and starts a timer to cancel it",function(e,t,n){var r=n.roomId,a=n.userId,i={direction:c.b.Incoming,userId:a,timeout:k(e,r)};e(Object(f.j)({id:r,incomingInvite:i}))}),I=Object(o.f)("Removes the invite and any pending timer",function(e,t,n){var r=Object(f.b)(t(),n).incomingInvite;r&&r.timeout&&clearTimeout(r.timeout),e(Object(f.j)({id:n,incomingInvite:void 0}))});n.d(t,"d",function(){return S}),n.d(t,"f",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"a",function(){return N}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return P});var w=Object(o.f)("Send an invite response message to the call window if needed",function(e,t,n){var r=n.roomId,a=n.userId,i=n.response,o=Object(f.b)(t(),r).window;o&&!o.isClosed()&&Object(g.b)(o,"inviteResponse",{userId:a,response:i})}),S=Object(o.f)("Opens a call invite window within sonic",function(e,t,n){Object(u.f)(!Object(d.a)(),"Not a slack window context");var r=n.room,a=n.caller;if(Object(f.g)())e(b({id:r,response:c.c.OnCall,toUserId:a}));else if(Object(y.a)())e(Object(y.c)(n.channel));else{if(n.server){var i=Object(c.n)(n.server);try{window.localStorage.setItem(c.f,JSON.stringify(i))}catch(e){Object(v.a)("INVITE").error("Could not write calls server credentials to localStorage: ",e.message)}}e(C({roomId:r,userId:a}));var o=Object(f.b)(t(),r).incomingInvite;if(Object(s.u)()){if(Object(y.b)())return void e(Object(y.d)(n.channel));var l=Object(_.e)(Object(O.Q)());e(Object(m.b)({callOrConversationId:r,incomingInvite:o,windowOptions:{height:Math.ceil(310*l),width:Math.ceil(200*l),maximizable:!1,minimizable:!1,resizable:!1,alwaysOnTop:!0,fullscreenable:!1,show:!1}}))}}});S.propTypes=i.b.shape({room:i.b.string,caller:i.b.string});var T=Object(o.f)("Handles an invite response from the callee",function(e,t,n){Object(u.f)(!Object(d.a)(),"Not a slack window context");var r=n.room,i=n.responder,o={userId:i,response:n.response};e(w(a()({roomId:r},o))),e(Object(h.a)({id:r,type:c.a.Cleanup,responderUserIds:[i]}))});T.propTypes=i.b.shape({room:i.b.string,response:i.b.string,responder:i.b.string});var R=Object(o.f)("Closes a corresponding call invite window within sonic",function(e,t,n){Object(u.f)(!Object(d.a)(),"Not a slack window context");var r=t(),a=n.room;Object(f.b)(r,a).incomingInvite&&(e(I(a)),e(E(a)))});R.propTypes=i.b.shape({room:i.b.string});var N=Object(o.f)("Accept an invite within the slack window",function(e,t,n){Object(u.f)(!Object(d.a)(),"Not a slack window context");var r=t().allCalls.byId[n];if(Object(s.u)()){var a=r.window;if(!a)return void Object(u.f)("No call window");!function(e){var t=e.getWindow();Object(_.b)(t)?(Object(_.c)(t,{width:m.a.width,height:m.a.height}),Object(_.d)(t,{width:m.a.minContentWidth,height:m.a.minContentHeight}),t.setAlwaysOnTop(!1),t.setResizable(!0),t.setMaximizable(!0),t.setMinimizable(!0),t.setFullScreenable(!0)):Object(u.f)("Not an Electron BrowserWindow")}(a)}else e(Object(m.b)({callOrConversationId:n,incomingInvite:r.incomingInvite}));e(M({id:n,response:c.c.Accept}))}),x=Object(o.f)("Decline an invite within the slack window",function(e,t,n){var r=n.id,a=n.response;Object(u.f)(!Object(d.a)(),"Not a slack window context"),e(M({id:r,response:a})),e(E(r))}),M=Object(o.f)("Respond to an invite within the slack window",function(e,t,n){var r=n.id,a=n.response,i=Object(f.b)(t(),r);i.incomingInvite&&i.incomingInvite.direction===c.b.Incoming?(e(b({id:r,response:a,toUserId:i.incomingInvite.userId})),e(I(r))):Object(u.f)("Did not have an incoming invite to respond to")}),P=Object(o.f)("Respond to the Decline button for a partner call",function(e,t,n){var r=n.id,a=n.app,i=n.channelId,o=a.id;Object(f.b)(t(),r)&&e(p({id:r,appId:o,channelId:i}))})},"+s8F":function(e,t,n){"use strict";n.r(t);var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("tn36"),v=n("HO/Y"),g=n("D4L/"),_=n("61j7"),O=n("AfrZ"),y=n("5mKg"),j=n("DTT0"),k=n("yHhI"),E=n("kOzZ"),C=n("XfeM"),I=n("nNoG"),w=n("bo4X"),S=n("FdTv"),T=n("+J1t"),R=n("8W09"),N=n("CGJF"),x=n("+6YQ"),M=new I.b("shared"),P=(h.b.func.isRequired,h.b.func.isRequired,h.b.string.isRequired,h.b.bool.isRequired,function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n.onConfirm=n.onConfirm.bind(n),n}return u()(t,e),o()(t,[{key:"onClose",value:function(e){e&&e.stopPropagation(),this.props.closeModal()}},{key:"onConfirm",value:function(e){e.stopPropagation(),this.props.onConfirm(),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.teamName;return e.featureSonicEscCreation?p.a.createElement(w.a,{closeModal:this.onClose,role:"alertdialog",contentLabel:M.t("Remove {teamName} from the beta?",{teamName:t}),labelledby:"leave_beta_confirmation_title_bar"},p.a.createElement(S.a,{title:M.t("Remove {teamName} from the beta?",{teamName:t}),id:"leave_beta_confirmation_title_bar"}),p.a.createElement(T.a,{"data-qa":"leave_beta_confirmation_body"},p.a.createElement("p",null,M.rt("This will remove your <strong>entire workspace</strong> from the shared channels beta.")),p.a.createElement("ul",null,p.a.createElement("li",null,M.rt("<strong>Admins will no longer be able to create shared channels,</strong> or accept shared channel invitations.")),p.a.createElement("li",null,M.rt("<strong>Existing shared channels will remain.</strong> You can disconnect them individually if you\u2019d like.")))),p.a.createElement(R.a,null,p.a.createElement(N.a,null,p.a.createElement(x.a,{type:"outline",onClick:this.onClose,"data-qa":"leave_beta_confirmation_cancel_button"},M.t("Cancel")),p.a.createElement(x.a,{type:"danger",onClick:this.onConfirm,"data-qa":"leave_beta_confirmation_confirm_button"},M.t("Leave Beta"))))):null}}]),t}(b.PureComponent));P.displayName="LeaveBetaConfirmationDialog";var A={closeModal:function(){return Object(j.a)()}},D=Object(m.b)(function(e){return{teamName:Object(y.e)(Object(g.d)(e)),featureSonicEscCreation:Object(v.j)(e,"feature_sonic_esc_creation")}},A)(P),L=Object(C.b)('Opens the "Leave the Beta" ESC confirmation dialog',function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onConfirm;e(Object(j.e)({element:p.a.createElement(D,{onConfirm:n}),isStackable:!0}))});L.propTypes={onConfirm:h.b.func.isRequired};var q=L,F=n("08ch"),B=n("aWll"),U=n("c/L4"),H=n("O+bt"),K=n("negh"),G=n("hI7H"),V=n("od5y"),z=n("lwWk"),Y=n("EsAD"),W=(n("6lOZ"),new I.b("shared_channels")),Q=(h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.func,h.b.func,h.b.func,h.b.func,h.b.func,h.b.func,h.b.object.isRequired,h.b.func.isRequired,h.b.func.isRequired,h.b.object.isRequired,h.b.string.isRequired,h.b.string,h.b.bool,{showCreateButtonOnly:!1,featureSonicEscCreation:!1,sharedChannelsIsEnabled:!1,isFreeTeam:!1,isEnterprise:!1,openLeaveBetaConfirmationDialog:d.a,openSharedChannelCreationOrRequestModal:d.a,goToPricingPlans:d.a,closeModal:d.a,setTeamPrefByApi:d.a,setUserPrefByApi:d.a,entryPoint:void 0,featureSharedChannelsRemoveBetaLabel:!1}),X="ESC-INTRO-MODAL",Z=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(f.a)(n,["onCreateChannel","onUpgrade","onJoinBeta","onLeaveBeta","onConfirmLeaveBeta","onCancel","onLearnMore","onGetHelp"]),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.clogEvent({action:K.v.IMPRESSION,elementType:K.j.MODAL})}},{key:"onCreateChannel",value:function(){this.props.openSharedChannelCreationOrRequestModal({showOpenTransition:!1})}},{key:"onUpgrade",value:function(){var e=this.props.logger;this.clogEvent({eventId:K.k.GROWTH_PRICING,action:K.v.CLICK,isPrimaryCta:!0,elementType:K.j.BUTTON,elementName:"pricing"}),e.info(X,"Setting user pref to opt team into ESC beta post-checkout."),this.props.setUserPrefByApi({pref:"enable_esc_post_checkout",value:!0}),e.info(X,"Opening authenticated pricing plans page."),this.props.goToPricingPlans(),e.info(X,"Closing the introduction modal."),this.props.closeModal()}},{key:"onJoinBeta",value:function(){var e=this.props.logger;this.clogEvent({action:K.v.CLICK,isPrimaryCta:!0,elementType:K.j.BUTTON,elementName:"join_beta"}),e.info(X,"Turning on the ESC beta team pref..."),this.props.setTeamPrefByApi({pref:"enable_shared_channels",value:1}),this.props.setSharedChannelsCoachmarkIsVisible(!0),this.props.setSharedChannelsCoachmarkOrigin(H.a.INTRO_MODAL),e.info(X,"Closing the introduction modal."),this.props.closeModal()}},{key:"onLeaveBeta",value:function(){this.props.logger.info(X,"Displaying the Leave the Beta confirm dialog..."),this.props.openLeaveBetaConfirmationDialog({onConfirm:this.onConfirmLeaveBeta})}},{key:"onConfirmLeaveBeta",value:function(){this.props.logger.info(X,"Leaving the ESC beta."),this.props.setTeamPrefByApi({pref:"enable_shared_channels",value:0}),this.props.closeModal()}},{key:"onCancel",value:function(){this.clogEvent({action:K.v.CLICK,elementType:K.j.BUTTON,elementName:"close"})}},{key:"onLearnMore",value:function(){this.clogEvent({action:K.v.CLICK,elementType:K.j.LINK,elementName:"learn_more"})}},{key:"onGetHelp",value:function(){this.clogEvent({action:K.v.CLICK,elementType:K.j.LINK,elementName:"help_center"})}},{key:"clogEvent",value:function(e){var t=this,n=e.eventId,r=e.action,a=e.isPrimaryCta,i=void 0!==a&&a,o=e.elementType,s=e.elementName,c=this.props,l=c.entryPoint,u=c.clogStepVariant,d=[K.k.GROWTH_INTRO_SHARED_CHANNEL];n&&d.push(n),d.forEach(function(e){t.props.clogger.track(e,{contexts:{ui_context:{step:K.z.SHARED_CHANNEL_MODAL,step_variant:u,action:r,is_primary_cta:i,ui_properties:{element_type:o,element_name:s},entry_point:l}}})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.featureSonicEscCreation,r=t.sharedChannelsIsEnabled,a=t.isFreeTeam,i=t.isEnterprise,o=t.featureSharedChannelsRemoveBetaLabel;if(!n)return null;var s=void 0,c=void 0,l=void 0,u=void 0,d=this.props.showCreateButtonOnly||i||o;return r&&d?(s=W.t("Create a Shared Channel"),c=this.onCreateChannel,l=null,u=!1):r?(s=W.t("Create a Shared Channel"),c=this.onCreateChannel,l=W.t("Leave the Beta"),u=!0):!r&&a?(s=W.t("See Upgrade Options"),c=this.onUpgrade,l=null,u=!1):r||(s=W.t("Join the Beta"),c=this.onJoinBeta,l=null,u=!1),p.a.createElement(G.a,{contentLabel:W.t("Introducing Shared Channels"),modalClasses:"p-shared_channel_introduction_modal",dataQa:"shared_channel_introduction_modal",goButtonText:s,onGo:c,secondaryButtonText:l,secondaryButtonType:"outline",showSecondaryButton:u,shouldCloseOnSecondary:!1,onSecondary:this.onLeaveBeta,showCancelButton:!1,withFooter:!0,onCancel:this.onCancel},p.a.createElement("div",{className:"p-shared_channel_introduction_modal__content"},p.a.createElement("div",{className:"p-shared_channel_introduction_modal__image"}),p.a.createElement("h2",{className:"p-shared_channel_introduction_modal__header"},a?W.t("Upgrade to share channels with other companies"):W.t("Introducing Shared Channels")),p.a.createElement("div",{className:"p-shared_channel_introduction_modal__body"},p.a.createElement("p",{className:"p-shared_channel_introduction_modal__bullet"},p.a.createElement(V.b,{type:"check-small-bold"}),W.rt("<strong>A new way to work.</strong> Shared channels let you work with other companies and teams, from right inside Slack.")),!a&&p.a.createElement("p",{className:"p-shared_channel_introduction_modal__bullet"},p.a.createElement(V.b,{type:"check-small-bold"}),W.rt("<strong>One place for everything.</strong> On multi-company projects, shared channels are a single, searchable source of truth.")),p.a.createElement("p",{className:"p-shared_channel_introduction_modal__bullet"},p.a.createElement(V.b,{type:"check-small-bold"}),a?W.rt("<strong>Secure and limited.</strong> Only admins can manage a shared channel, though any member can be added to it."):W.rt("<strong>Secure and limited.</strong> Only admins can share a channel. The rest of your workspace remains private.")),!o&&p.a.createElement("p",{className:"p-shared_channel_introduction_modal__bullet"},p.a.createElement(V.b,{type:"exclamation-small"}),W.rt("<strong>Currently in beta.</strong> For now, some features \u2014 like custom retention settings \u2014 don\u2019t affect shared channels. <a>Learn more</a>",null,function(t){var n=t.tag,r=t.text,a=t.key;return"a"!==n?null:p.a.createElement(z.a,{key:a,target:"_blank",href:"https://get.slack.help/hc/articles/115004152843","data-qa":"shared_channel_learn_more_link",onClick:e.onLearnMore},r)})),a&&p.a.createElement("p",{className:"p-shared_channel_introduction_modal__bullet"},p.a.createElement(V.b,{type:"check-small-bold"}),W.rt("<strong>Get more when you upgrade.</strong> Shared channels are just one of the features you\u2019ll get with a paid plan.")))),p.a.createElement(Y.a,{onHelpClick:this.onGetHelp}))}}]),t}(b.Component);Z.displayName="SharedChannelIntroductionModal",Z.defaultProps=Q;t.default=Object(m.b)(function(e){var t=Object(g.d)(e),n=Object(y.v)(t),r=n?"free":"paid";return{featureSonicEscCreation:Object(v.j)(e,"feature_sonic_esc_creation"),featureSharedChannelsRemoveBetaLabel:Object(v.j)(e,"feature_shared_channels_remove_beta_label"),sharedChannelsIsEnabled:Object(y.C)(e,t),isEnterprise:Object(y.q)(t),isFreeTeam:n,goToPricingPlans:function(){return Object(y.O)(t,U.g+"?entry_point=shared_channel_modal")},logger:Object(k.a)({state:e}),clogger:Object(E.a)({state:e}),clogStepVariant:r}},function(e){return{openLeaveBetaConfirmationDialog:function(){return e(q.apply(void 0,arguments))},openSharedChannelCreationOrRequestModal:function(){return e(F.a.apply(void 0,arguments))},setTeamPrefByApi:function(){return e(_.b.apply(void 0,arguments))},setUserPrefByApi:function(){return e(O.f.apply(void 0,arguments))},closeModal:function(){return e(j.a.apply(void 0,arguments))},setSharedChannelsCoachmarkIsVisible:function(){return e(B.r.apply(void 0,arguments))},setSharedChannelsCoachmarkOrigin:function(){return e(B.s.apply(void 0,arguments))}}})(Z)},"+u8r":function(e,t,n){"use strict";function r(e,t){e.eachLine(function(e,n){e.insert("\n",n);var r={insert:"\n",attributes:n};e.forEach(function(e){t(e,r)})})}n.d(t,"a",function(){return r})},"+wAm":function(e,t,n){"use strict";var r=n("aK/h"),a=n("4zXV"),i=n("om+M"),o=Object(i.a)("API call for slack-action:// URL",function(e,t,n){var r=n.botId,i=n.payload;return e(Object(a.a)({method:"chat.action",args:{bot:r,payload:decodeURIComponent(i)}}))});o.propTypes={botId:r.b.string.isRequired,payload:r.b.string.isRequired};var s=o,c=n("XfeM"),l=n("HO/Y"),u=n("HWup"),d=n("aZzC"),b=n("aLpA");var p=Object(c.b)("Execute slack-action:// URL",function(e,t,n){var r=t(),a=function(e){return JSON.stringify(e).slice(1,-1)}(n);if(Object(d.a)(n)){if(Object(l.j)(r,"feature_modernize_slack_actions")){var i=n.replace(b.F,"").split("/"),o=i.shift(),c=i.join("/");return e(s({botId:o,payload:c}))}return Object(u.a)(a)}return Promise.reject(new Error("Not a Slack action URL"))});p.propTypes=r.b.string.isRequired;t.a=p},"+yap":function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"h",function(){return b});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.msg_input.populate",r.a),o=Object(a.b)("TS.client.msg_input.focusMsgInput",r.a),s=Object(a.b)("TS.client.msg_input.value",function(){return""}),c=Object(a.b)("TS.client.msg_input.setOffline",r.a),l=Object(a.b)("TS.client.msg_input.setOnline",r.a),u=Object(a.b)("TS.client.msg_input.getInputElement",r.a),d=Object(a.b)("TS.client.msg_input.getAndClearStoredCursorPosition",r.a),b=Object(a.b)("TS.client.msg_input.storeLastMsgForActiveModelOb",function(){return""})},"+z37":function(e,t,n){"use strict";var r=n("zmn3"),a=n("x91h"),i=n("NFsq"),o=n("DtX9"),s=n("clTI"),c=n("pGee"),l=n("Y+74"),u=n("bHK9"),d=n("HO/Y"),b=n("D4L/"),p=n("nNoG"),h=n("1zbP"),m=n("Fdc0"),f=n("6kok"),v=n("K7CU"),g=n("5mKg"),_=n("aXcD"),O=n("fCVm"),y=n("JZ/c"),j=n("26ZP"),k=n("mzG2"),E=n("D3DU"),C=n("x4bP"),I=n("82mD"),w="GROWL",S=function(e){return e===w},T=n("rzSx"),R=function(e,t,n){if(!t)return"";switch(t.type){case"command":var r=t.data;if(!r)return"";var l=r.type;if("subteam"===l)return function(e){var t=e.state,n=e.data,r=e.tsfMode,a=S(r),i=n.label,o=Object(c.e)(t,n.id);if(Object(h.e)(o)&&a)return i;var s=Object(k.a)({userGroupHandle:o&&o.handle,fallbackHandle:i,isUnknown:Object(h.d)(o),isNonExistent:Object(h.c)(o)});return a?s:"<@"+n.id+"|"+s+">"}({state:e,data:r,tsfMode:n});if(Object(i.a)(["here","channel","everyone","group"],l))return Object(j.a)({type:l,tsfMode:"EDIT"});if("date"===l){var u=r.ts,d=r.format,p=r.label;return Object(I.d)(u,d,{fallbackString:p})}if("team"===l){var v=r.id,_=r.label,O=Object(b.i)(e,v);return O?Object(g.e)(O,{fallback:_}):_}return"";case"member":var y=t.id;if(!y)return"";var C=Object(o.c)(e,y),w="<@"+y+"|@"+y+">";if(Object(h.e)(C))return w;var T=Object(m.w)(C);return T?"<@"+y+"|@"+T+">":w;case"channel":return function(e){var t=e.state,n=e.object,r=e.tsfMode,a=n.id;if(!a)return"";var i=S(r),o=Object(s.d)(t,a),c=(n.text||n.name||"").replace(/^#/,"");if(Object(h.e)(o)&&i)return"#"+c;var l=Object(f.x)(t,o,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),u=c,d=Object(f.xb)(o),b=Object(h.d)(o),p=Object(h.c)(o);return Object(E.a)({channelName:l,fallbackName:u,isPrivate:d,isUnknown:b,isNonExistent:p})}({state:e,object:t,tsfMode:n});default:return t.text?Object(a.a)(t.text):t.content?t.content:t.token?t.token:t.name?t.name:t.id?t.id:""}};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,a=t.tsfMode,i=void 0===a?"EDIT":a,o=t.workflowTokens,s=void 0===o?[]:o,c=Object(O.b)(n,i),b=Object(y.a)(c).map(function(t){return R(e,t,i)}).join("");return Object(_.b)(b,{highlightWords:Object(l.a)(e),shouldRenderEmojiAsText:Object(v.m)(e),emojiNames:Object(d.j)(e,"feature_sonic_emoji")?Object(u.a)(e):Object(r.a)(Object(T.a)(),"name"),useSonicEmoji:Object(d.j)(e,"feature_sonic_emoji")||Object(C.a)(),locale:Object(p.p)(),workflowTokens:s})}},"//AP":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return _}),n.d(t,"c",function(){return j}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return E});var r,a=n("YEIV"),i=n.n(a),o=n("m1cH"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=Object(d.b)("Adds the new set of custom emoji to the existing store");h.propTypes={newCustomEmojiData:u.b.array,customEmojiTotalCount:u.b.number,currentPage:u.b.number,totalPages:u.b.number};var m=Object(d.b)("Resets the array of custom emoji in the store");m.propTypes={newCustomEmojiData:u.b.array,customEmojiTotalCount:u.b.number,currentPage:u.b.number,totalPages:u.b.number,sortBy:u.b.string,sortDir:u.b.string};var f=Object(d.b)("Removes the specified custom emoji from the store");f.propTypes={emojiName:u.b.string,isPrimaryEmoji:u.b.bool,synonyms:u.b.array};var v=Object(d.b)("Renames a disabled custom emoji");v.propTypes={oldEmojiName:u.b.string,newEmojiName:u.b.string};var g=Object(d.b)("Set the loading status for the API request when a new page is loading");g.propTypes=u.b.bool.isRequired;var _=Object(d.b)("Set the loading status for the API request when a user searches for emojis");_.propTypes=u.b.bool.isRequired;var O=Object(d.b)("Set the current sort category and direction for the table");O.propTypes={sortBy:u.b.string.isRequired,sortDir:u.b.string.isRequired};var y=Object(b.b)((r={},i()(r,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.newCustomEmojiData,r=t.disabledEmoji,a=t.customEmojiTotalCount,i=t.currentPage,o=t.totalPages;return l()({},e,{customEmojiData:[].concat(s()(e.customEmojiData),s()(n)),disabledEmoji:r,customEmojiTotalCount:a,currentPage:i,totalPages:o})}),i()(r,m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.newCustomEmojiData,r=t.disabledEmoji,a=t.customEmojiTotalCount,i=t.currentPage,o=t.totalPages,s=t.sortBy,c=t.sortDir;return l()({},e,{customEmojiData:n,disabledEmoji:r,customEmojiTotalCount:a,currentPage:i,totalPages:o,sortBy:s,sortDir:c,deletedEmojiList:[]})}),i()(r,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.emojiName,r=t.isPrimaryEmoji,a=t.synonyms,i=e.customEmojiData,o=e.deletedEmojiList,s=e.disabledEmoji,c=e.customEmojiTotalCount;return n in s?r&&a&&0!==a.length?a.forEach(function(e){s[e]?delete s[e]:(c-=1,i.forEach(function(t,n){t.name===e&&i.splice(n,1)}),o.push(e))}):delete s[n]:r&&a&&0!==a.length?a.forEach(function(e){s[e]?delete s[e]:(c-=1,i.forEach(function(t,n){t.name===e&&i.splice(n,1)}),o.push(e))}):(c-=1,o.push(n),i.forEach(function(e,t){e.name===n&&i.splice(t,1)})),l()({},e,{customEmojiData:i,customEmojiTotalCount:c,deletedEmojiList:o,disabledEmoji:s})}),i()(r,v,function(e,t){var n=e.disabledEmoji;return delete n[t],l()({},e,{disabledEmoji:n})}),i()(r,g,function(e,t){return l()({},e,{isLoadingNewPage:t})}),i()(r,_,function(e,t){return l()({},e,{isLoadingNewPage:t,isLoadingNewSearchQuery:t})}),i()(r,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sortBy,r=t.sortDir;return l()({},e,{sortBy:n,sortDir:r})}),r),{customEmojiTotalCount:0,customEmojiData:[],disabledEmoji:{},isLoadingNewPage:!1,isLoadingNewSearchQuery:!1,currentPage:0,totalPages:0,sortBy:"name",sortDir:"asc",deletedEmojiList:[]},{persistenceEnabled:!1});y.propTypes={customEmojiTotalCount:u.b.number,customEmojiData:u.b.arrayOf(u.b.shape({alias_for:u.b.string,avatar_hash:u.b.string,can_delete:u.b.bool,is_alias:u.b.number,is_bad:u.b.bool,name:u.b.string,synonyms:u.b.arrayOf(u.b.string),team_id:u.b.string,url:u.b.string,user_display_name:u.b.string,user_id:u.b.string})),disabledEmoji:u.b.object,isLoadingNewPage:u.b.bool,isLoadingNewSearchQuery:u.b.bool,currentPage:u.b.number,totalPages:u.b.number,deletedEmojiList:u.b.array},t.b=y;Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.customEmojiData&&e.customizeEmoji.customEmojiData.length?e.customizeEmoji.customEmojiData:[]}),Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.customEmojiTotalCount?e.customizeEmoji.customEmojiTotalCount:0});var j=Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.currentPage?e.customizeEmoji.currentPage:0}),k=(Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.totalPages?e.customizeEmoji.totalPages:0}),Object(p.b)(function(e){return!!(e&&e.customizeEmoji&&e.customizeEmoji.isLoadingNewPage)&&e.customizeEmoji.isLoadingNewPage}),Object(p.b)(function(e){return!!(e&&e.customizeEmoji&&e.customizeEmoji.isLoadingNewSearchQuery)&&e.customizeEmoji.isLoadingNewSearchQuery}),Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.deletedEmojiList?e.customizeEmoji.deletedEmojiList:[]}),Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.disabledEmoji?e.customizeEmoji.disabledEmoji:{}}),Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.sortDir?e.customizeEmoji.sortDir:"asc"})),E=Object(p.b)(function(e){return e&&e.customizeEmoji&&e.customizeEmoji.sortBy?e.customizeEmoji.sortBy:"name"})},"/022":function(e,t,n){},"/3PZ":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("TSYQ"),o=n.n(i),s=n("aK/h"),c=(n("6rL3"),s.b.string,s.b.bool,s.b.number,s.b.bool,s.b.bool,{className:void 0,isNonExistent:!1,size:void 0,subtler:!1,invert:!1});function l(e){var t=e.className,n=e.isNonExistent,r=e.size,i=e.subtler,s=e.invert,c=n?"non_existent":"unknown";return a.a.createElement("span",{className:o()(t,"c-missing_icon","c-missing_icon--"+c,{"c-missing_icon--unknown_inverted":"unknown"===c&&s,"c-missing_icon--non_existent_inverted":"non_existent"===c&&s,"c-missing_icon--subtler":i}),style:{height:r,width:r}})}l.displayName="MissingIcon",l.defaultProps=c,t.a=l},"/Ikh":function(e,t,n){"use strict";n.d(t,"c",function(){return w}),n.d(t,"d",function(){return R}),n.d(t,"b",function(){return N});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("oTSI"),c=n("gSGL"),l=n("IzLi"),u=n("fujP"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("XfeM"),f=n("IhRS"),v=n("btvA"),g=n("lhZz"),_=n("HO/Y"),O=n("uf9I"),y=n("PAPM"),j=n("aW/o"),k=n("aLpA"),E=Object(s.a)(function(){return new v.b({fetch:function(e,t){return Promise.all(t.map(function(t){return Object(g.dispatchForTeamId)(e,N({channelId:t,count:k.A}))}))},isEnabled:function(e){return Object(_.j)(Object(g.getStateByTeamId)(e),"feature_channel_details_membership_list")},metricsName:"member-list"})}),C=Object(b.b)("Upsert fetched ordered membership list for channel");C.propTypes={channelId:d.b.string.isRequired,memberList:d.b.array.isRequired};var I=Object(p.b)(a()({},C,function(e,t){if(!Object(l.a)(t)||!Object(c.a)(t.channelId)||!Object(l.a)(t.memberList)||Object(u.a)(t.memberList))return e;var n=t.memberList.map(function(e){return e.id});return o()({},e,a()({},t.channelId,n))}),{},{persistenceEnabled:!0});I.propTypes=d.b.objectOf(d.b.arrayOf(d.b.string)),t.a=I;var w=Object(h.b)(function(e,t){var n=Object(O.b)(e);return E().maybeRefetch(n,t),e&&e.membershipOrdered&&e.membershipOrdered[t]?e.membershipOrdered[t]:[]}),S=(Object(h.b)(function(e){return e&&e.membershipOrdered&&e.membershipOrdered.marker}),Object(m.b)("marks objects as stale via CFM for Membership List",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.channelId;E().markObjectsAsStale(r,[a])}));S.propTypes={teamId:d.b.string.isRequired,channelId:d.b.string.isRequired};var T=Object(f.a)(S,1e4),R=Object(m.b)("verify channel is active and call thunk to mark objects as stale",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.ids,i=Object(j.a)(t());a.forEach(function(t){return t!==i?null:e(T({teamId:r,channelId:t}))})});R.propTypes={teamId:d.b.string.isRequired,ids:d.b.array.isRequired};var N=Object(m.b)("Fetches top members for the channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.count;return Object(y.b)(e,t,r,a).then(function(n){var a=Object(O.b)(t());return E().markObjectsAsFresh(a,[r]),e(C({channelId:r,memberList:n}))})});N.propTypes={channelId:d.b.string.isRequired,count:d.b.number.isRequired}},"/K2e":function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("QbLZ"),h=n.n(p),m=n("TGBA"),f=n("vJtL"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("PJXc"),y=n("cD5Y"),j=n("JS8a"),k=n("BWAg"),E=n("1Y60"),C=n("Y2FI"),I=n("rz65"),w={type:v.b.oneOf(Object(m.a)(I.a)),label:v.b.node,description:v.b.string,children:v.b.element,key:v.b.string,click:v.b.func,danger:v.b.bool,dataQa:v.b.string,target:v.b.string,href:v.b.string,action:v.b.func,payload:v.b.object},S=(v.b.arrayOf(v.b.shape(h()({},w,{renderSubmenu:v.b.func,template:v.b.arrayOf(v.b.shape(w))}))).isRequired,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.template,r=a()(e,["template"]),i=n.map(function(e,n){if(!e)return null;if(e.type===I.a.separator)return _.a.createElement(E.a,h()({},e,{key:e.key||"separator-"+n}));if(e.type===I.a.header)return _.a.createElement(C.a,{key:e.key||"header-"+n,label:e.label,className:e.className});if(e.type===I.a.loading)return _.a.createElement(y.a,{key:e.key||"loading",size:"large"});if(e.type===I.a.submenu){var r=Object(f.a)(e.renderSubmenu)?e.renderSubmenu:function(n){return _.a.createElement(t,h()({template:e.template},n))};return _.a.createElement(O.a,h()({},e,{label:e.label,renderSubmenu:r,key:e.key||e.label}))}if(e.type===I.a.custom)return e.children;var a={children:e.children,className:e.className,label:e.label,description:e.description,icon:e.icon,badgeCount:e.badgeCount,badgeLabel:e.badgeLabel,shortcut:e.shortcut,showEnter:e.showEnter,onSelected:e.click,target:e.target,href:e.href,danger:e.danger,key:e.key||e.label,type:e.type,"data-qa":e.dataQa,disabled:e.disabled,showOfflineIcon:e.showOfflineIcon,showLinkIndicatorIcon:e.showLinkIndicatorIcon};return e.type===I.a.subheaderChild?_.a.createElement(k.a,h()({type:I.a.subheaderChild},a)):_.a.createElement(k.a,a)});return _.a.createElement(j.a,r,i)}}]),t}(g.PureComponent));S.displayName="MenuFromTemplate",t.a=S},"/LVU":function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return d});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=n("yHhI"),s=Object(a.a)("Snoozes notifications for a duration of time",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.duration,a=n.reason;return e(Object(i.a)({method:"dnd.setSnooze",args:{num_minutes:r},reason:a})).then(function(){Object(o.a)({getState:t}).info("DND","Snoozed notifications for "+r+" minutes")}).catch(function(){Object(o.a)({getState:t}).error("DND","Failed to snooze notifications for "+r+" minutes")})});s.propTypes={duration:r.b.number.isRequired,reason:r.b.string.isRequired};var c=Object(a.a)("Ends DND mode triggered by explicityly snoozing notifications",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(i.a)({method:"dnd.endSnooze",reason:n})).then(function(){Object(o.a)({getState:t}).info("DND","Turned off DND (SNOOZE)")}).catch(function(){Object(o.a)({getState:t}).error("DND","Failed to turn off DND (SNOOZE)"),Object(o.a)({getState:t}).error("DND",t().dnd)})});c.propTypes={reason:r.b.string.isRequired};var l=Object(a.a)("Ends DND mode triggered by the DND schedule",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(i.a)({method:"dnd.endDnd",reason:n})).then(function(){Object(o.a)({getState:t}).info("DND","Turned off DND (SCHEDULE)")}).catch(function(){Object(o.a)({getState:t}).error("DND","Failed to turn off DND (SCHEDULE)"),Object(o.a)({getState:t}).error("DND",t().dnd)})});l.propTypes={reason:r.b.string.isRequired};var u=Object(a.a)("Fetches the DND info for multiple users",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberIds,a=n.reason;return e(Object(i.a)({method:"dnd.teamInfo",args:{users:r.join(",")},reason:a})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).users;return Object(o.a)({getState:t}).info("DND","Fetched DND info for the following members: "+r),Object.keys(e).map(function(t){return{memberId:t,nextDndStartTs:e[t].next_dnd_start_ts,nextDndEndTs:e[t].next_dnd_end_ts}})}).catch(function(e){throw Object(o.a)({getState:t}).error("DND","Failed to fetch DND info for the following members: "+r),e})});u.propTypes={memberIds:r.b.arrayOf(r.b.string).isRequired,reason:r.b.string.isRequired};var d=Object(a.a)("Fetches the DND info for a single user",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.reason;return e(Object(i.a)({method:"dnd.info",args:{user:r},reason:a})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.next_dnd_start_ts,a=e.next_dnd_end_ts,i=e.snooze_enabled,s=e.snooze_endtime;return Object(o.a)({getState:t}).info("DND","Fetched DND info for the following member: "+r),{nextDndStartTs:n,nextDndEndTs:a,snoozeEnabled:i,snoozeEndTs:s}}).catch(function(e){throw Object(o.a)({getState:t}).error("DND","Failed to fetch DND info for the following member: "+r),e})});d.propTypes={memberId:r.b.string.isRequired,reason:r.b.string.isRequired}},"/MYD":function(e,t,n){"use strict";var r=n("VyaM"),a=n("gBC1"),i=n("j/30"),o=n("ASpw");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shortenMonth,s=void 0!==n&&n,c=t.excludeYear,l=void 0!==c&&c,u=Object(r.a)(e,{returnMoment:!0}),d=Object(a.a)(u),b=l||Object(o.a)(u);return d||Object(i.a)(u,{shortenMonth:s,excludeYear:b})}},"/NHa":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h});var r=n("OtLZ"),a=n("NFsq"),i=n("wd/R"),o=n.n(i),s=n("nNoG"),c=n("i26o"),l=n("uwE/"),u=n("s/st"),d=new s.b("search_menu"),b="YYYY-MM-DD";function p(e,t,n){var i=u.g.tokenListFromString(e,t);return i=function(e,t,n){var r=!1,a=t.filter(function(e){return e.type!==l.a.FILTER_TYPE||e.fileType===n&&(r=!0,!0)});n&&!r&&a.push(new u.h(n));return a}(0,i=function(e,t,n){var r=!1,a=t.filter(function(e){return e.type!==l.a.FILTER_AFTER||e.dateString===n&&(r=!0,!0)});n&&!r&&a.push(new u.c(n,l.d.AFTER));return a}(0,i=function(e,t,n){var r=!1,a=t.filter(function(e){return e.type!==l.a.FILTER_BEFORE||e.dateString===n&&(r=!0,!0)});n&&!r&&a.push(new u.c(n,l.d.BEFORE));return a}(0,i=function(e,t,n){var i=t,o=[].concat(n);return i=(i=i.filter(function(e){if(e.type!==l.a.FILTER_IN)return!0;var t=e.entityId;return!!Object(a.a)(o,t)&&(o=Object(r.a)(o,t),!0)})).concat(o.map(function(t){return new u.e(1,e,t,null)}))}(e,i=function(e,t,n){var i=t,o=[].concat(n);return i=(i=i.filter(function(e){if(e.type!==l.a.FILTER_FROM)return!0;var t=e.entityId;return!(!t||!Object(a.a)(o,t)||(o=Object(r.a)(o,t),0))})).concat(o.map(function(t){return new u.f(1,e,t,null,l.d.FROM)}))}(e,i,n.from||[]),n.in||[]),n.before),n.after),n.fileType),new c.f(e,"",i)}function h(e,t){var n=u.g.tokenListFromString(e,t),r={in:[],from:[],before:void 0,after:void 0,fileType:void 0};return n.forEach(function(e){e.type===l.a.FILTER_FROM?r.from.push(e.entityId):e.type===l.a.FILTER_IN?r.in.push(e.entityId):e.type===l.a.FILTER_BEFORE?r.before=m(e.dateString):e.type===l.a.FILTER_AFTER?r.after=m(e.dateString):e.type===l.a.FILTER_TYPE&&(r.fileType=e.fileType)}),r}function m(e){if(!e.match(/^20[0-9][0-9]$/)){if(e===d.t("today"))return o()().format(b);if(e===d.t("yesterday"))return o()().subtract(1,"days").format(b);var t=o()(e);return t.isValid()?t.format(b):void 0}}},"/Q0P":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("XfeM"),d=n("DTT0"),b=n("wdd+"),p=n("XHGt"),h=n("bo4X"),m=n("JVYW"),f=n("+J1t"),v=n("0f2Y"),g=n("nNoG"),_=(n("9v4y"),new g.b("error_boundary"));l.b.func.isRequired;function O(e){return c.a.createElement(h.a,{closeModal:e.closeModal},c.a.createElement(m.a,null,c.a.createElement(f.a,null,c.a.createElement("div",{className:"c-error_modal"},c.a.createElement("h1",{className:"margin_bottom_50"},c.a.createElement("span",null,_.t("Something went wrong")),c.a.createElement("span",{className:"p-error_boundary__turtle",role:"img","aria-label":_.t("Something went wrong")},"\ud83d\udc22")),c.a.createElement("p",null,_.rt("If the problem persists, please <a>drop us a line.</a>",null,function(e){var t=e.text,n=e.key;return c.a.createElement(v.a,{href:"https://slack.com/help/contact",rel:"noopener noreferrer",key:n},t)}))))))}O.displayName="LoadingModal";var y=Object(p.b)(null,function(e){return{closeModal:function(){return e(d.a.apply(void 0,arguments))}}})(O),j=n("cD5Y");l.b.func.isRequired;function k(e){return c.a.createElement(h.a,{closeModal:e.closeModal},c.a.createElement(m.a,null,c.a.createElement(f.a,null,c.a.createElement("div",{className:"c-lazy_modal"},c.a.createElement(j.a,null)))))}k.displayName="LoadingModal";var E=Object(p.b)(null,function(e){return{closeModal:function(){return e(d.a.apply(void 0,arguments))}}})(k),C=(l.b.string,l.b.node.isRequired,function(){return c.a.createElement(y,null)});function I(e){var t=e.children,n=e.errorSubtype;return c.a.createElement(b.a,{subtype:n,renderError:C},c.a.createElement(s.Suspense,{fallback:c.a.createElement(E,null)},t))}C.displayName="renderError",I.displayName="LazyModal",I.defaultProps={errorSubtype:"lazy_modal"};var w=I,S=Object(u.b)("Open a React.lazy modal",function(e,t,n){var r=n.element,i=n.errorSubtype,s=o()(n,["element","errorSubtype"]);e(Object(d.e)(a()({element:c.a.createElement(w,{errorSubtype:i},r)},s)))});S.propTypes={element:l.b.node,errorSubtype:l.b.string};t.a=S},"/Rx2":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return m});var r=n("lCmp"),a=n("bYYE"),i=n("pRVB"),o=n("DTT0"),s=n("3MJR"),c=n("O2xR"),l=n("KxGR"),u=n("u4Vc"),d={MESSAGE_PANE:"message_pane",WINDOW_NOT_FOCUSED:"window_not_focused",WORKSPACE_NOT_FOCUSED:"workspace_not_focused",MODAL:"fs_modal_is_showing",SEARCH:"universal_search_is_showing",POPOVER:"popover_is_showing",COMPOSER:"composer_toolbar_is_showing"};function b(e){return Object(i.k)(e)?Object(a.g)(e)?Object(o.d)(e)?d.MODAL:Object(s.s)(e)?d.SEARCH:Object(c.d)(e)?d.POPOVER:Object(l.b)(e)?d.COMPOSER:d.MESSAGE_PANE:d.WINDOW_NOT_FOCUSED:d.WORKSPACE_NOT_FOCUSED}function p(e){return b(e)===d.MESSAGE_PANE}function h(e){var t=Object(o.c)(e);return Object(r.a)(t,function(e){return e&&e.name===u.a})}function m(e){return!Object(o.d)(e)}},"/TP7":function(e,t,n){},"/foC":function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("hXpn"),l=n("kd6D"),u=n("Yujr"),d=(s.b.string,s.b.object,s.b.string,s.b.node,s.b.bool,s.b.bool,s.b.bool,{channelId:void 0,channel:void 0,className:void 0,secondaryContent:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1});function b(e){var t=e.className,n=e.secondaryContent,r=e.isActive,i=e.isDeactivated,s=e.isDisabled,d=a()(e,["className","secondaryContent","isActive","isDeactivated","isDisabled"]),b=void 0;return r?b=s||i?l.c.highlightDim:l.c.highlightLight:(s||i)&&(b=l.c.dim),o.a.createElement(c.a,{className:t,primaryContent:o.a.createElement(u.a,d),secondaryContent:n,size:"medium",style:b})}b.displayName="MediumChannelListEntity",b.defaultProps=d,t.a=b},"/icQ":function(e,t,n){},"/k8D":function(e,t,n){"use strict";var r=n("QLyv"),a=n("VyaM");t.a=function(e,t){var n=Object(a.a)(e,{returnMoment:!0}),i=Object(a.a)(t,{returnMoment:!0});return Object(r.a)(n).isSame(i,"day")}},"/lKr":function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("HvGc"),o=n("HO/Y"),s=n("4phY"),c=n("Qyw2"),l=n("pRVB"),u=n("P9LH"),d=n("2HDu"),b=n("EHyS"),p=n("NgwH"),h=n("lnxZ"),m=Object(a.b)("Hanldes user click on file container",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.e,a=n.file,m=n.clogLinkClick,f=n.ts,v=n.channelId,g=n.threadTs,_=n.viewContext;if(!Object(b.a)(r))switch(Object(u.s)(a)){case"view":r.preventDefault();var O={link_action:"file_preview_action",contexts:{ui_context:{action:"open",ui_component:"file_preview"}}};Object(u.b)(a)&&(O.contexts.ui_context.ui_properties={element_name:"office_file_preview"}),m(O);var y=!!v;Object(o.j)(t(),"feature_react_file_viewer")?e(Object(s.a)({fileId:a.id,ts:f,channelId:v,threadTs:g,viewContext:_})):Object(p.a)({modal_class:"fs_modal_file_viewer",current_file_id:a.id,show_control_btns:y,ts:f,channel_id:v,thread_ts:g,is_in_thread:Object(d.d)(_)});break;case"download":Object(h.a)(a,!0)&&r.preventDefault();break;case"detail":r.preventDefault(),"files"===Object(l.j)(t())&&Object(u.g)(a)?e(Object(c.a)({file:a})):e(Object(i.c)({fileId:a.id}));break;case"remote":m({contexts:{ui_context:{action:"open",ui_component:"remote_file"}}});break;case"external":var j={link_action:"file_viewer_external_link"};if("gdrive"===a.external_type){var k=a.mimetype&&-1!==a.mimetype.indexOf("image/");j.contexts={platform:{service_type:"GSUITE",app_id:9,has_rich_preview:a.has_rich_preview&&!k}}}m(j)}});m.propTypes={e:r.b.object,file:r.b.object,channelId:r.b.string,threadTs:r.b.string,viewContext:r.b.string,clogLinkClick:r.b.func},t.a=m},"/lqa":function(e,t,n){},"/m+M":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("fujP"),a=n("kxpR"),i=n("xsFx"),o=n("lCOO");function s(){var e=Object(a.useContext)(i.a),t=Object(o.a)();return Object(r.a)(e)&&t.error("USE_FEATURE_FLAGS","Missing feature flags context. Make sure <FeatureFlagContext.Provider> is present in component tree."),e}},"/u/P":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("vPIQ"),a=n("2HDu"),i=n("hOQf"),o=n("TcTh"),s=n("smxp");function c(e,t,n){var c=Object(a.c)(t,n),l=Object(o.h)(e,c);if(!l||!l.timestamps)return null;var u=Object(r.a)(l.timestamps,function(n){var r=Object(s.a)(e,t,n);return!!r&&Object(i.e)(r)});return u?Object(s.a)(e,t,u):null}},"/w/x":function(e,t,n){},"/xNi":function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("tn36"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("TSYQ"),y=n.n(O),j=n("wd/R"),k=n.n(j),E=n("cMxN"),C=n("e2Aa"),I=(n("aqlM"),{x:-4,y:-4}),w=(v.b.node,v.b.func,v.b.string,v.b.string,v.b.string,v.b.arrayOf(v.b.string),v.b.string,v.b.string,v.b.string.isRequired,v.b.func,v.b.func,v.b.string,v.b.string,v.b.func,{children:null,renderTrigger:void 0,dropdownClassName:void 0,onDateChange:m.a,calendarClassName:void 0,selectedDate:void 0,disabledDates:void 0,monthTitleFormat:void 0,yearTitleFormat:void 0,isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,onRenderPopover:m.a}),S=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedDate:k()(e.selectedDate,e.dateFormat).isValid()?e.selectedDate:null},n.trigger=_.a.createRef(),Object(f.a)(n,["handleDateChange","renderPopover"]),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{selectedDate:k()(e.selectedDate,e.dateFormat).isValid()?e.selectedDate:null}})}},{key:"triggerPopover",value:function(e){this.trigger.current&&this.trigger.current.getWrappedInstance().onTrigger(e)}},{key:"handleDateChange",value:function(e){this.setState(function(){return{selectedDate:e}}),this.props.onDateChange(e),this.trigger.current&&this.trigger.current.getWrappedInstance().closePopover()}},{key:"renderPopover",value:function(e){var t=this.props,n=t.calendarClassName,r=t.dropdownClassName,a=t.disabledDates,i=t.monthTitleFormat,s=t.yearTitleFormat,c=t.dateFormat,l=t.isDateDisabled,u=t.disableDatesBefore,d=t.disableDatesAfter,b=t.onRenderPopover,p=y()(r,"c-date_picker__dropdown");return b(),_.a.createElement(E.a,o()({position:"bottom-right",offsetX:I.x,offsetY:I.y},e),_.a.createElement("div",{className:p,"data-qa":"date_picker_dropdown"},_.a.createElement(C.a,{className:n,selectedDate:this.state.selectedDate,disabledDates:a,monthTitleFormat:i,yearTitleFormat:s,dateFormat:c,onDateChange:this.handleDateChange,isDateDisabled:l,disableDatesBefore:u,disableDatesAfter:d,focusOnMount:e.openedWithKeyboard})))}},{key:"renderTrigger",value:function(){return this.props.renderTrigger?this.props.renderTrigger(this.state.selectedDate):this.props.children}},{key:"render",value:function(){var e=this.props,t=(e.children,e.renderTrigger,e.calendarClassName,e.dropdownClassName,e.selectedDate,e.disabledDates,e.monthTitleFormat,e.yearTitleFormat,e.dateFormat,e.onDateChange,e.isDateDisabled,e.disableDatesBefore,e.disableDatesAfter,a()(e,["children","renderTrigger","calendarClassName","dropdownClassName","selectedDate","disabledDates","monthTitleFormat","yearTitleFormat","dateFormat","onDateChange","isDateDisabled","disableDatesBefore","disableDatesAfter"]));return _.a.createElement(E.b,o()({},t,{ref:this.trigger,renderPopover:this.renderPopover,ariaHasPopup:!0}),this.renderTrigger())}}]),t}(g.PureComponent);S.displayName="DatePickerTrigger",t.b=S,S.defaultProps=w},"0++q":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("NZ+B"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("ROZo"),_=Object(g.b)('TS.templates["c-unified_member"]',function(){return""}),O=n("HO/Y"),y=n("DtX9"),j=n("clTI"),k=n("VjHM"),E=n("Fdc0"),C=n("6kok"),I=n("1zbP"),w=(n("8Oxw"),n("TSYQ")),S=n.n(w),T=n("3dqR"),R=n("ZYn4"),N=n("JXW8"),x=n("od5y"),M=n("derf"),P=n("6avh"),A=n("7YzY"),D=n("UQ5h"),L=n("3pFD"),q=n("nNoG"),F=new q.b("unavailable_channel");h.b.object.isRequired,h.b.bool.isRequired;function B(e){var t=e.member;return e.featureEscGridMigrationsClient?f.a.createElement("div",{className:"c-unified_member__label"},f.a.createElement("span",{className:"c-unified_member__label--small"},F.t("Temporarily unavailable")),f.a.createElement(M.b,{id:Object(E.J)(t),size:16,showTooltip:!0})):null}B.displayName="UnavailableMemberLabel";var U=B;function H(e){var t=e.member,n=e.forcedPrimary,r=e.memberPrimaryName;return n?"real_name"===n?Object(E.E)(t):Object(E.w)(t):r}function K(e){var t=e.member,n=e.forcedPrimary,r=e.memberSecondaryName;if(n){if("real_name"===n)return Object(E.B)(t);if("display_name"===n)return Object(E.B)(t)?Object(E.E)(t):""}return r}var G=new L.b("inline_member"),V=(h.b.object.isRequired,h.b.string,h.b.oneOf(["real_name","display_name"]),h.b.bool,h.b.bool,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.number,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,{className:void 0,forcedPrimary:void 0,isLinked:!1,isPendingMember:!1,memberPrimaryName:void 0,memberSecondaryName:void 0,showAvatar:!1,avatarIsInteractive:!0,showDraftIcon:!1,showNotInChannelLabel:!1,showPresence:!1,showStatus:!1,showTooltip:!1,showUnreadCount:!1,unreadCount:void 0,useDarkMode:!1,useShortMode:!1,useSmallText:!1,isUnavailable:!1,showDeactivatedAnnotation:!1}),z=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderPendingMember",value:function(){var e=this.props.member,t=G.t("(invitation pending)"),n=Object(D.b)(e),r=Object(D.a)(e),a=f.a.createElement("span",null,f.a.createElement("strong",null,r),f.a.createElement("span",null," ",t));n&&(a=f.a.createElement(f.a.Fragment,null,f.a.createElement("strong",null,n),f.a.createElement("span",null," ",t),f.a.createElement("span",{className:"not_in_token"},r)));var i=f.a.createElement(f.a.Fragment,null,f.a.createElement(A.a,{member:e,retricted:Object(D.c)(e)}),f.a.createElement("span",{className:"c-unified_member__name c-unified_member__name--small"},a));return this.wrapContent(i)}},{key:"renderAvatarOrDraftIcon",value:function(){var e=this.props,t=e.member,n=e.showAvatar,r=e.avatarIsInteractive,a=e.showDraftIcon,i=e.isUnavailable;if(a)return f.a.createElement(x.b,{type:"pencil",size:"inherit",className:"c-unified_member__draft_icon","aria-hidden":"true"});if(!n)return null;var o=S()("c-unified_member__avatar",{"c-unified_member__unavailable":i});return f.a.createElement(T.b,{userId:t.id,size:20,className:o,isInteractive:r})}},{key:"renderLabelandTeamIcon",value:function(){var e=this.props,t=e.member,n=e.showNotInChannelLabel,r=e.showUnreadCount,a=e.unreadCount;return e.isUnavailable?f.a.createElement(U,{member:t,featureEscGridMigrationsClient:!0}):f.a.createElement(m.Fragment,null,Object(E.lb)(t)&&Object(E.J)(t)&&f.a.createElement(M.b,{id:Object(E.J)(t),size:16,showTooltip:!0}),r&&f.a.createElement("span",{className:"unread_count"},a),n&&f.a.createElement("span",{className:"c-unified_member__context c-unified_member__not-in-channel-context--small"},f.a.createElement("span",{className:"not_in_channel"},G.t("Not in channel",{fallbackHash:"50432998e71b6ac96852fa9a7a5a789e646818a0"}))))}},{key:"render",value:function(){var e=this.props,t=e.member,n=e.className,r=e.forcedPrimary,a=e.isLinked,i=e.isPendingMember,o=e.memberPrimaryName,s=e.memberSecondaryName,c=e.showAvatar,l=e.showPresence,u=e.showStatus,d=e.showTooltip,b=e.showDeactivatedAnnotation,p=e.useDarkMode,h=e.useShortMode,m=e.useSmallText;if(i)return this.renderPendingMember();var v=S()("c-unified_member","c-unified_member--small",{"c-unified_member__with-avatar--small":c,"c-unified_member--dark":p,"c-unified_member__short--small":h,"c-unified_member__small-font--small":!a&&m,"c-unified_member--linked":a,member_preview_link:a},n),g=K({member:t,forcedPrimary:r,memberSecondaryName:s});return f.a.createElement("span",{className:v,"data-member-id":t.id},this.renderAvatarOrDraftIcon(),f.a.createElement("span",{className:"c-unified_member__name c-unified_member__name--small"},f.a.createElement("span",{className:"c-unified_member__display-name c-unified_member__display-name--small"},H({member:t,forcedPrimary:r,memberPrimaryName:o}))," ",Object(E.yb)(t)&&f.a.createElement("span",{className:"margin_right_25"},G.t("(you)")),Object(E.eb)(t)&&b&&f.a.createElement("span",{className:"c-unified_member__name--annotation margin_right_25"},G.t("(deactivated)")),Object(E.ab)(t)&&f.a.createElement(N.a,{inverse:p}),Object(E.eb)(t)&&f.a.createElement("ts-icon",{"aria-hidden":"true",className:"c-unified_member__deleted--small ts_icon_deactivated_user"}),l&&f.a.createElement(R.a,{memberId:t.id,className:"c-unified_member__presence"}),!h&&g&&f.a.createElement("span",{className:"c-unified_member__secondary-name c-unified_member__secondary-name--small"},g),u&&f.a.createElement(P.b,{memberId:t.id,tooltip:d,animated:h,className:"c-unified_member__current-status c-unified_member__current-status--small"})),this.renderLabelandTeamIcon())}}]),t}(m.PureComponent);z.displayName="SmallUnifiedMember",z.defaultProps=V;var Y=z,W=n("0f2Y"),Q=n("A+cF"),X=n("hXpn"),Z=n("ukeO"),J=n("hCvz"),$=n("N1Yt"),ee=new q.b("members"),te=(h.b.string,h.b.oneOf(["real_name","display_name"]),h.b.bool,h.b.object.isRequired,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.node,h.b.oneOfType([h.b.object,h.b.func]),h.b.number,{className:void 0,forcedPrimary:void 0,isLinked:!1,memberPrimaryName:void 0,memberSecondaryName:void 0,showStatus:!1,noStatusText:!1,showTooltip:!1,useShortMode:!1,isUnavailable:!1,featureEscGridMigrationsClient:!1,forceModern:!1,isSelected:!1,isNonExistent:!1,isUnknown:!1,isDeactivated:!1,secondaryContent:void 0,forwardedRef:void 0,maxLines:50}),ne=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"getTitle",value:function(){var e=this.props,t=e.member,n=e.isUnavailable,r=e.featureEscGridMigrationsClient,a=Object(E.M)(t);return n&&r&&(a=ee.t("Temporarily unavailable",{ns:"unavailable_channel"})),a}},{key:"renderMissingMember",value:function(){var e=this.props,t=e.isSelected,n=e.secondaryContent,r=e.isUnknown,i=e.isNonExistent,o=f.a.createElement(J.b,{className:"c-medium-unified-member--unknown-text",isNonExistent:i,isUnknown:r,size:"random"}),s=f.a.createElement(J.b,{className:"c-medium-unified-member--unknown-subtext",isNonExistent:i,isUnknown:r,size:"random"});return f.a.createElement(X.a,{primaryContent:f.a.createElement(Q.d,{size:"medium",text:o,subtext:s,avatar:function(e){return f.a.createElement(Z.a,a()({classes:"c-base_entity__avatar"},e,{size:36,ariaHidden:!0}))}}),isSelected:t,secondaryContent:n,size:"medium"})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.forcedPrimary,r=e.isLinked,i=e.member,o=e.memberPrimaryName,s=e.memberSecondaryName,c=e.showStatus,l=e.noStatusText,u=e.showTooltip,d=e.useShortMode,b=e.isUnavailable,p=e.forceModern,h=e.isSelected,m=e.isUnknown,v=e.isNonExistent,g=e.isDeactivated,_=e.secondaryContent,O=e.forwardedRef,y=e.maxLines,j=S()("c-unified_member","c-unified_member--medium",{"c-unified_member--linked":r,member_preview_link:r},t),k=S()("c-unified_member__display-name","c-unified_member__display-name--medium",{margin_right_50:Object(E.eb)(i)}),C=this.getTitle(),I=S()({"c-unified_member__unavailable":b});if(p){if(m||v)return this.renderMissingMember();var w=H({member:i,forcedPrimary:n,memberPrimaryName:o}),x=K({member:i,forcedPrimary:n,memberSecondaryName:s}),M=f.a.createElement(Q.c,null,f.a.createElement("div",{className:"c-unified_member__entity-text-container"},f.a.createElement("span",{className:"c-unified_member__display-name c-unified_member__display-name--medium"},w&&f.a.createElement($.a,{lines:y},w)),f.a.createElement(R.a,{className:"c-unified_member__presence",memberId:i.id}),Object(E.ab)(i)&&f.a.createElement("span",{className:"margin_right_50"},f.a.createElement(N.a,null)),!d&&f.a.createElement("span",{className:"c-unified_member__secondary-name c-unified_member__secondary-name--medium"},x&&f.a.createElement($.a,{lines:y},x)),c&&f.a.createElement("span",{className:"c-unified_member__current-status"},f.a.createElement(P.b,{memberId:i.id,tooltip:u,animated:d,noText:l})))),A=C&&f.a.createElement(Q.b,null,f.a.createElement($.a,{lines:y},C)),D=g||b;return f.a.createElement(X.a,{className:t,primaryContent:f.a.createElement(Q.d,{size:"medium",text:M,subtext:A,avatar:function(e){return f.a.createElement(T.b,a()({},e,{userId:i.id,size:36,isInteractive:!1,forceSkBaseIcon:!0}))},isDeactivated:D,isSelected:h}),isSelected:h,secondaryContent:_,size:"medium"})}var L=S()("c-unified_member__title","c-unified_member__title--medium",{"c-unified_member__title--unavailable":b});return f.a.createElement(W.a,{className:j,"data-member-id":i.id,ref:O},f.a.createElement(T.b,{userId:i.id,size:36,className:I,isInteractive:!1}),f.a.createElement("div",{className:"c-unified_member__flex-container--medium"},f.a.createElement("div",{className:"c-unified_member__name c-unified_member__name--medium"},f.a.createElement("span",{className:k},H({member:i,forcedPrimary:n,memberPrimaryName:o}),f.a.createElement(R.a,{memberId:i.id})),Object(E.ab)(i)&&f.a.createElement("span",{className:"margin_right_50"},f.a.createElement(N.a,null)),!d&&f.a.createElement("span",{className:"c-unified_member__secondary-name c-unified_member__secondary-name--medium"},K({member:i,forcedPrimary:n,memberSecondaryName:s})),c&&f.a.createElement("span",{className:"c-unified_member__current-status c-unified_member__current-status--medium"},f.a.createElement(P.b,{memberId:i.id,tooltip:u,animated:d}))),C&&f.a.createElement("div",{className:L},C)))}}]),t}(m.PureComponent);ne.displayName="MediumUnifiedMember",ne.defaultProps=te;var re=f.a.forwardRef(function(e,t){return f.a.createElement(ne,a()({},e,{forwardedRef:t}))}),ae=new q.b("members"),ie=(h.b.object.isRequired,h.b.string,h.b.bool,h.b.oneOf(["real_name","display_name"]),h.b.string,h.b.string,h.b.bool,h.b.bool.isRequired,h.b.oneOfType([h.b.object,h.b.func]),{className:void 0,isLinked:!1,forcedPrimary:void 0,memberPrimaryName:void 0,memberSecondaryName:void 0,showStatus:!0,forwardedRef:void 0}),oe=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.isLinked,n=e.member,r=e.className,a=e.forcedPrimary,i=e.memberPrimaryName,o=e.memberSecondaryName,s=e.showStatus,c=e.featureGoldenGateUi,l=e.forwardedRef,u=S()("c-unified_member","c-unified_member--large",{"c-unified_member--linked":t,member_preview_link:t},r),d=Object(E.M)(n),b=K({member:n,forcedPrimary:a,memberSecondaryName:o});!b&&c&&Object(E.pb)(n)&&(b=Object(E.xb)(n)||Object(E.Db)(n)?ae.t("Invited Guest"):ae.t("Invited Member")),!d&&c&&Object(E.pb)(n)&&(d=ae.t("This person hasn\u2019t finished signing up. They may receive messages via email.",{fallbackHash:"2d9834621b3b93d6131f46ca4e82ae58d92c67c1"}));var p=b||s;return f.a.createElement(W.a,{className:u,"data-member-id":n.id,ref:l},f.a.createElement(T.b,{userId:n.id,size:56}),f.a.createElement("div",{className:"c-unified_member__flex-container--large"},f.a.createElement("div",{className:"c-unified_member__display-name c-unified_member__display-name--large","data-qa":"large_unified_member_display_name"},H({member:n,forcedPrimary:a,memberPrimaryName:i}),f.a.createElement(R.a,{memberId:n.id}),Object(E.ab)(n)&&f.a.createElement(N.a,{"data-qa":"large_unified_member_app_badge"})),p&&f.a.createElement("div",{className:"c-unified_member__other-names c-unified_member__other-names--large"},b&&f.a.createElement("span",{className:"c-unified_member__secondary-name c-unified_member__secondary-name--large"},b),s&&f.a.createElement("span",{className:"c-unified_member__current-status c-unified_member__current-status--large"},f.a.createElement(P.b,{memberId:n.id,tooltip:!1}))),d&&f.a.createElement("div",{className:"c-unified_member__title c-unified_member__title--large","data-qa":"large_unified_member_title"},d)))}}]),t}(m.PureComponent);oe.displayName="LargeUnifiedMember",oe.defaultProps=ie;var se=f.a.forwardRef(function(e,t){return f.a.createElement(oe,a()({},e,{forwardedRef:t}))}),ce=(h.b.object.isRequired,h.b.string,h.b.string,h.b.oneOf(["small","medium","large"]),h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.oneOf(["real_name","display_name"]),h.b.func,h.b.bool.isRequired,h.b.bool,h.b.bool,h.b.oneOfType([h.b.object,h.b.func]),{id:null,className:void 0,size:"medium",isDraftContext:!1,linked:!1,showAvatar:!1,showTooltip:!1,useDarkMode:!1,showPresence:!1,newPresence:!1,showStatus:!1,forcedPrimary:void 0,onClick:void 0,forceModern:!1,featureGoldenGateUi:!1,forwardedRef:void 0}),le=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.member,n=e.size,r=e.linked,i=e.isDraftContext,o=e.showAvatar,s=e.showTooltip,c=e.useDarkMode,l=e.showPresence,u=e.newPresence,d=e.showStatus,b=e.forcedPrimary,p=e.onClick,h=e.featureUnifiedMember,m=e.forceModern,v=e.forwardedRef;if(!h&&!m){var g=_({member:t,size:n,linked:r,avatar:o,no_tip:!s,dark:c,omit_presence:!l||u,new_presence:u,omit_status:!d,forced_primary:b,show_draft_icon:i});return p?f.a.createElement("span",{dangerouslySetInnerHTML:{__html:g},onClick:p,role:"presentation"}):f.a.createElement("span",{dangerouslySetInnerHTML:{__html:g}})}switch(n){case"small":return f.a.createElement(Y,a()({ref:v},this.props));case"medium":return f.a.createElement(re,a()({ref:v},this.props));case"large":return f.a.createElement(se,a()({ref:v},this.props));default:return null}}}]),t}(m.PureComponent);le.displayName="UnifiedMember",le.defaultProps=ce;var ue=Object(v.b)(function(e,t){var n=t.id,r=t.isDraftContext,a=t.showStatus,i=t.isUnknown,o=Object(y.c)(e,n),s=Object(j.j)(e,n),c=Object(O.j)(e,"feature_esc_grid_migrations_client"),l=c&&Object(E.Eb)(e,o);return{member:o,featureUnifiedMember:Object(O.j)(e,"feature_unified_member"),isClient:Object(O.i)(e),memberPrimaryName:Object(E.P)(e,o,!1,!1),memberSecondaryName:Object(E.G)(e,o),shouldShowFrecencyScores:Object(k.g)(e,"show_jumper_scores"),showDraftIcon:r&&s&&Object(C.y)(e,s.id),unreadCount:Object(E.p)(e,o),showStatus:a&&Object(E.T)(o),isUnavailable:l,featureEscGridMigrationsClient:c,isUnknown:Object(p.a)(i)?i:Object(I.d)(o),featureGoldenGateUi:Object(O.j)(e,"feature_golden_gate_ui")}})(le);t.a=f.a.forwardRef(function(e,t){return f.a.createElement(ue,a()({},e,{forwardedRef:t}))})},"04pn":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r=n("ROZo"),a=Object(r.b)("TS.client.unread.bulk_unread_count_change_sig.dispatch"),i=Object(r.b)("TS.client.unread.legacyUpdateSortOrder"),o=Object(r.b)("TS.client.unread.reload")},"04ri":function(e,t,n){"use strict";var r=n("QLyv");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unitsIn,a=void 0===n?"milliseconds":n,i=t.unitsOut,o=void 0===i?"milliseconds":i;return Math.floor(r.a.duration(e,a).as(o))}},"05v1":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("BeL+"),a=n("zmn3"),i=n("bPB8"),o=n("OtLZ"),s=n("NFsq"),c=n("HO/Y"),l=n("N52Z"),u=n("Fdc0"),d=new(n("nNoG").b)("threads");function b(e,t){var n=Object(c.b)(e),b=t;return Object(s.a)(t,n)&&(b=Object(o.a)(t,n)).push(n),Object(i.a)(Object(a.a)(Object(o.a)(Object(o.a)(Object(r.a)(b),"U00"),"B00"),function(t){var r=Object(u.Q)(e,t)||Object(l.e)(e,t);return r?t===n?d.t("you"):r:null}))}},"08ch":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DTT0"),c=n("Qrgz"),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("ifKl"),g=n("lCmp"),_=n("XHGt"),O=n("tn36"),y=n("HO/Y"),j=n("nNoG"),k=n("yHhI"),E=n("k0G2"),C=n("13mM"),I=n("5mKg"),w=n("Fdc0"),S=n("D4L/"),T=n("hI7H"),R=n("WD4z"),N=n("cTgs"),x=n("LA/b"),M=n("zAO+"),P=n("HSvc"),A=n("NWaE"),D=n("v1AT"),L=n("fvUo"),q=n("fgg+"),F=n("wfE8"),B=n("EsAD"),U=(n("ITju"),new j.b("shared_channels")),H=(i.b.func.isRequired,i.b.bool,i.b.string,i.b.object.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func,i.b.bool,i.b.bool.isRequired,i.b.bool.isRequired,i.b.string.isRequired,i.b.bool.isRequired,{featureSonicEscCreation:!1,initialSlackURL:"",onAccept:v.a,showOpenTransition:!0}),K="ESC-CREATION-MODAL",G=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={step:0,channelName:"",channelNameErrors:{},isPrivate:!n.props.hasPublicChannelPermission,invitedUsers:[],showCustomError:!1,customErrorText:"",inviteeEmailAddress:"",inviteeEmailAddressErrors:{},slackURL:n.props.initialSlackURL||"",slackURLErrors:{},invitationMessage:"",invitationMessageErrors:{},isLoading:!1},Object(O.a)(n,["goBack","onNextPage","onBack","onSubmit","onChannelNameChange","onChannelValidationChange","onPublicPrivateChange","onChannelInvitedUsersChange","onInviteeEmailAddressChange","onInviteeEmailAddressValidationChange","onInviteeEmailAddressKeyDown","onSlackURLChange","onSlackURLKeyDown","onInvitationMessageChange","onInvitationMessageValidationChange"]),n}return f()(t,e),b()(t,[{key:"onNextPage",value:function(){this.setState(function(){return{step:1}})}},{key:"onBack",value:function(){this.goBack()}},{key:"onSubmit",value:function(){var e=this,t=this.props,n=t.logger;if(t.featureSonicEscCreation){var r=this.state,a=r.channelName,i=r.channelNameErrors,o=r.invitedUsers,s=r.isPrivate,c=r.inviteeEmailAddress,l=r.inviteeEmailAddressErrors,u=r.slackURL,d=r.slackURLErrors,b=r.invitationMessage,p=r.invitationMessageErrors;!(a&&c&&u)||Object(g.a)(i)||Object(g.a)(l)||Object(g.a)(d)||Object(g.a)(p)||(n.info(K,"Starting the submit process..."),this.setState(function(){return{isLoading:!0}}),this.props.submitNewSharedChannelInvite({channelName:a,isPrivate:s,inviteeEmail:c,targetDomain:u,invitationMessage:b,reason:"shared-channel-creation-modal/onSubmit"}).then(function(t){n.info(K,"Channel created and inivation sent successfully."),o.length&&(n.info(K,"Inviting "+o.length+" user(s) to the channel."),n.info(K,t),e.props.submitInviteToChannel({channelId:t.channel.id,users:o.map(function(e){return e.value}).join(",")})),n.info(K,"Switching to the newly created shared channel."),e.props.setPrimaryView({id:t.channel.id}),n.info(K,"Closing the modal."),e.props.onAccept(),e.props.closeModal()}).catch(function(t){n.info(K,"Hit an error in the chain of create shared channel invitation API calls. See below:"),n.error(K,t);var r={isLoading:!1};switch(t.name){case"invalid_target_domain":r.slackURLErrors={hasInvalidTargetDomainError:!0,slackURLWithError:u};break;case"invalid_target_domain_sameorg":r.slackURLErrors={hasInvalidTargetDomainSameOrgError:!0,slackURLWithError:u};break;case"invalid_target_domain_self":r.slackURLErrors={hasInvalidTargetDomainSelfError:!0};break;case"invalid_email":r.inviteeEmailAddressErrors={hasInvalidEmailAddressWarning:!0};break;case"name_taken":r.channelNameErrors={hasNameTakenWarning:!0};break;case"invalid_name_required":r.channelNameErrors={hasNameRequiredWarning:!0};break;case"invalid_name_punctuation":r.channelNameErrors={hasPunctuationWarning:!0};break;case"invalid_name_maxlength":r.channelNameErrors={hasMaxLengthWarning:!0};break;case"invalid_name_specials":r.channelNameErrors={hasSpecialsWarning:!0};break;case"url_in_message":r.invitationMessageErrors={url:!0};break;case"shared_channel_invites_disabled":r.showCustomError=!0,r.customErrorText=U.t("{target_domain}.slack.com doesn\u2019t accept shared channel invitations. You may want to ask their admin to change this setting.",{target_domain:u});break;case"not_in_shared_channels_beta":r.showCustomError=!0,r.customErrorText=U.t("{target_domain}.slack.com hasn\u2019t joined the shared channels beta. They\u2019ll need to do so before you can share a channel.",{target_domain:u});break;case"target_team_is_enterprise":r.showCustomError=!0,r.customErrorText=U.t("During the beta, you can\u2019t share channels with organizations on Enterprise Grid. This is one of those rough edges we\u2019re still smoothing over \u2014 stay tuned.");break;case"invite_exists":r.showCustomError=!0,r.customErrorText=U.t("{target_domain} is already invited to this channel.",{target_domain:u});break;case"shared_channel_exists":r.showCustomError=!0,r.customErrorText=U.t("{target_domain} is already in this channel.",{target_domain:u});break;case"over_limit":r.showCustomError=!0,r.customErrorText=U.t("<b>Can\u2019t add any more organizations</b>. This channel is already shared with 11 organizations. To add another, you\u2019ll need to remove one.");break;default:r.showCustomError=!0}Object(g.a)(r.channelNameErrors)?(n.info(K,"Error is on first page of modal. Moving back to that page."),e.setState(function(){return r}),e.goBack()):(n.info(K,"Error is on this page. Displaying error."),e.setState(function(){return r}))}))}}},{key:"onChannelNameChange",value:function(e){this.setState(function(){return{channelName:e}})}},{key:"onChannelValidationChange",value:function(e){this.setState(function(){return{channelNameErrors:e}})}},{key:"onPublicPrivateChange",value:function(e){var t=e.isPrivate;this.setState(function(){return{isPrivate:t}})}},{key:"onChannelInvitedUsersChange",value:function(e){this.setState(function(){return{invitedUsers:e}})}},{key:"onSlackURLKeyDown",value:function(e){e.keyCode===E.e&&this.onSubmit()}},{key:"onInviteeEmailAddressKeyDown",value:function(e){e.keyCode===E.e&&this.onSubmit()}},{key:"onInviteeEmailAddressChange",value:function(e){this.setState(function(){return{inviteeEmailAddress:e}})}},{key:"onInviteeEmailAddressValidationChange",value:function(e){this.setState(function(){return{inviteeEmailAddressErrors:e}})}},{key:"onSlackURLChange",value:function(e){this.setState(function(){return{slackURL:e,slackURLErrors:{}}})}},{key:"onInvitationMessageChange",value:function(e){this.setState(function(){return{invitationMessage:e}})}},{key:"onInvitationMessageValidationChange",value:function(e){this.setState(function(){return{invitationMessageErrors:e}})}},{key:"getGoButtonIsDisabledState",value:function(){var e=this.state,t=e.step,n=e.channelName,r=e.channelNameErrors,a=e.inviteeEmailAddress,i=e.inviteeEmailAddressErrors,o=e.slackURL,s=e.slackURLErrors,c=e.invitationMessageErrors;return 0===t?!n||Object(g.a)(r):1===t&&(!a||Object(g.a)(i)||!o||Object(g.a)(s)||Object(g.a)(c)||this.props.featureOfflineMode&&this.props.isOffline)}},{key:"filterMembers",value:function(e){return!Object(w.lb)(e)&&!Object(w.Db)(e)}},{key:"goBack",value:function(){this.setState(function(e){return{step:e.step-1}})}},{key:"render",value:function(){var e=this.props,t=e.featureSonicEscCreation,n=e.showOpenTransition,r=e.featureOfflineMode,i=e.isOffline,o=e.teamName,s=this.state,c=s.step,l=s.channelName,u=s.channelNameErrors,d=s.showCustomError,b=s.customErrorText,p=s.isPrivate,h=s.invitedUsers,m=s.inviteeEmailAddress,f=s.inviteeEmailAddressErrors,v=s.slackURL,g=s.slackURLErrors,_=(s.invitationMessage,s.invitationMessageErrors),O=s.isLoading;if(!t)return null;var y=[U.t("Next"),U.t("Create & Invite")];return a.a.createElement(T.a,{modalClasses:"p-shared_channel_creation_modal",contentLabel:U.t("Create a shared channel"),withFooter:!0,goButtonText:y[c],onGo:0===c?this.onNextPage:this.onSubmit,goButtonIsDisabled:this.getGoButtonIsDisabledState(),goButtonIsPending:O,onBack:this.onBack,onCancel:this.props.closeModal,showBackButton:c>0,showOpenTransition:n},0===c?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"p-shared_channel_creation_modal__breadcrumbs"},U.t("Step {count} of 2",{count:c+1})),a.a.createElement("h1",{className:"p-shared_channel_creation_modal__title"},U.t("Create a shared channel")),a.a.createElement("p",null,U.t("First, choose a name and privacy setting for your channel.")),a.a.createElement(M.a,{onChange:this.onPublicPrivateChange,isPrivate:p}),p&&a.a.createElement(R.a,{icon:"warning",type:"boxed",level:"warning",align:"left",className:"margin_bottom_100"},U.rt("<strong>Note:</strong> This setting only applies to <strong>{teamName}</strong>. Each workspace in a shared channel can choose their own privacy setting.",{teamName:o})),a.a.createElement(x.a,{id:"shared_channel_name",name:"shared_channel_name",initialChannelName:l,channelNameErrors:u,onChannelNameChange:this.onChannelNameChange,onChannelValidationChange:this.onChannelValidationChange,isPrivate:p}),a.a.createElement(P.a,{onChange:this.onChannelInvitedUsersChange,exceededLimitError:h.length>1e3,filterMembers:this.filterMembers}),a.a.createElement(q.a,null)):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"p-shared_channel_creation_modal__breadcrumbs"},U.t("Step {count} of 2",{count:c+1})),a.a.createElement("h1",{className:"p-shared_channel_creation_modal__title"},U.t("Send an invitation",{note:"Send a shared channel invitation - modal title"})),r&&i&&a.a.createElement(R.a,{icon:"cloud-offline",level:"info",className:"margin_bottom_100"},U.rt("<strong>No connection.</strong> You'll be able to create a shared channel as soon as you're back online.")),d?a.a.createElement(R.a,{type:"boxed",level:"error",icon:"warning",align:"left",className:"margin_bottom_100"},a.a.createElement("span",null,b||U.t("For some weird reason, that didn\u2019t work. Please try again to continue.",{note:"A generic error that pops up when the shared channel creation modal faces an error that is not handled specifically"}))):null,a.a.createElement(A.a,{id:"invitee_email_address",name:"invitee_email_address",initialEmailAddress:m,onInviteeEmailAddressKeyDown:this.onInviteeEmailAddressKeyDown,onInviteeEmailAddressChange:this.onInviteeEmailAddressChange,onInviteeEmailAddressValidationChange:this.onInviteeEmailAddressValidationChange,inviteeEmailAddressErrors:f}),a.a.createElement(D.a,{id:"shared_channel_url",name:"shared_channel_url",initialSlackURL:v,onSlackURLKeyDown:this.onSlackURLKeyDown,onSlackURLChange:this.onSlackURLChange,slackURLErrors:g}),a.a.createElement(L.a,{id:"invitation_message",name:"invitation_message",onChange:this.onInvitationMessageChange,onValidationChange:this.onInvitationMessageValidationChange,errors:_})),a.a.createElement(B.a,null))}}]),t}(r.Component);G.displayName="SharedChannelCreationModal",G.defaultProps=H;var V=Object(_.b)(function(e){return{featureSonicEscCreation:Object(y.j)(e,"feature_sonic_esc_creation"),featureOfflineMode:Object(y.j)(e,"feature_offline_mode"),isOffline:!Object(C.c)(e),teamName:Object(I.e)(Object(S.d)(e)),hasPublicChannelPermission:Object(c.C)(e),logger:Object(k.a)({state:e})}},function(e){return{closeModal:function(){return e(s.a.apply(void 0,arguments))},submitNewSharedChannelInvite:function(){return e(F.N.apply(void 0,arguments))},submitInviteToChannel:function(){return e(F.J.apply(void 0,arguments))},setPrimaryView:function(){return e(N.a.apply(void 0,arguments))}}})(G),z=n("rMl1"),Y=n("+j2t"),W=Object(o.b)("Opens the Shared Channel Creation or Request Shared Channel/Find an admin modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.showOpenTransition,i=void 0===r||r,o=n.adminMode,l=void 0===o?Y.a.createChannel:o,u=n.initialSlackURL,d=t();Object(c.M)(d)&&Object(c.D)(d)?e(Object(s.e)({element:a.a.createElement(V,{showOpenTransition:i,initialSlackURL:u})})):Object(c.M)(d)&&e(Object(s.e)({element:a.a.createElement(z.a,{showOpenTransition:i,adminMode:l})}))});W.propTypes={showOpenTransition:i.b.bool,adminMode:i.b.string,initialSlackURL:i.b.string};t.a=W},"0AMr":function(e,t,n){"use strict";n.r(t);var r=n("g5qt"),a=n("XfeM"),i=n("PR8O"),o=Object(a.b)("/slacknetlog slash command",function(){Object(i.a)()&&Object(r.pb)()});t.default=o},"0Cnk":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("aK/h"),b=n("kxpR"),p=n.n(b),h=n("TSYQ"),m=n.n(h),f=n("26ZP"),v=(d.b.string.isRequired,d.b.bool,d.b.bool,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.noHighlights,r=e.noLinking,a=Object(f.a)({type:t,tsfMode:"NORMAL"}),i=m()("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!r,"c-mrkdwn__broadcast--mention":!n});return p.a.createElement("span",{className:i,"data-broadcast-id":"BK"+t,"data-stringify-text":a},a)}}]),t}(b.PureComponent));v.displayName="MrkdwnBroadcastCommand",v.defaultProps={noHighlights:!1,noLinking:!1},t.a=v},"0DE1":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("TSYQ"),l=n.n(c),u=n("lQgN"),d=(s.b.node,s.b.string,{children:void 0,className:void 0});function b(e){var t=e.children,n=e.className;return t?o.a.createElement("span",a()({className:l()(n,"c-base_entity__metadata")},Object(u.a)(e)),t):null}b.displayName="BaseEntityMetadata",b.defaultProps=d,t.a=b},"0E39":function(e,t,n){},"0F/N":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return _});var r=n("QbLZ"),a=n.n(r),i=n("F294"),o=n("aK/h"),s=n("QGHb"),c=n("XfeM"),l=n("Iq6W"),u=n("smxp"),d=n("P2f5"),b=n("+ncu"),p=n("clTI"),h=n("CJqQ"),m=n("Ehcm"),f=n("hOQf");function v(e,t){return function(n){return n(g(e,t)),n(Object(s.b)({starred:e,args:t,reason:"updateStar"})).catch(function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return r&&"not_starred"===r.error?n(g(!1,t)):r&&"already_starred"===r.error?n(g(!0,t)):n(g(!e,t))})}}function g(e,t){return function(n,r){if(t.timestamp){var i=Object(u.a)(r(),t.channel,t.timestamp);if(!i)return null;var o=a()({},i,{is_starred:e});return Object(m.d)(t.timestamp,t.channel,e,!0),n(Object(l.a)([o]))}if(t.file_comment){var s=Object(d.h)(r(),t.file_comment_file),c=s.comments.map(function(n){return n.id!==t.file_comment?n:a()({},n,{is_starred:e})}),f=a()({},s,{comments:c});return Object(m.b)(t.file_comment,t.file_comment_file,e),n(Object(d.a)(f))}if(t.file){var v=Object(d.h)(r(),t.file),g=a()({},v,{is_starred:e});return Object(m.c)(t.file,e),n(Object(d.a)(g))}if(t.channel){var _=Object(p.d)(r(),t.channel),O=a()({},_,{is_starred:e});return n(Object(h.a)({channel:O,reason:b.a.SET_STAR}))}return null}}var _=Object(c.b)("Toggle star for a message (including message subtypes)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ts,a=n.channelId,o=t(),s=Object(u.a)(o,a,r),c=Object(f.nb)(s),l={channel:a,timestamp:r};if(Object(f.ab)(s)){var b=Object(i.a)(s.files),p=s.comment&&Object(d.i)(o,b,s.comment.id);p&&(c=Object(f.nb)(s,null,p),l={file_comment:p.id,file_comment_file:b})}e(v(!c,l))});_.propTypes={channelId:o.b.string.isRequired,ts:o.b.string.isRequired}},"0Izy":function(e,t,n){},"0KSM":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.sorter.search",function(){return[]})},"0NgK":function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("fujP"),l=n("Z0Cl"),u=n("3Hq1"),d=n("kiPk"),b=n("m8R6"),p=n("aK/h"),h=n("EzZj"),m=n("MNvw"),f=n("U/ze"),v=n("XfeM"),g=n("HO/Y"),_=n("St+r"),O=n("TcTh"),y=n("clTI"),j=n("+8di"),k=n("59Je"),E=n("6kok");function C(e,t){if(!t)return!1;var n=Object(k.c)(e,t.id);return!(!Object(E.eb)(t)&&(Object(E.V)(t)||n||!Object(E.kb)(t)||Object(E.ab)(t)))}function I(e,t){var n=Object(y.d)(e,t.id);return Object(g.j)(e,"feature_silence_app_dms")?!Object(E.Lb)(n,e,t.unread_highlight_cnt)&&(Object(E.eb)(t)||Object(E.lb)(t)&&!Object(k.c)(e,t.id)):Object(E.eb)(t)||Object(E.lb)(t)&&!Object(k.c)(e,t.id)}n.d(t,"m",function(){return R}),n.d(t,"n",function(){return N}),n.d(t,"g",function(){return B}),n.d(t,"o",function(){return U}),n.d(t,"i",function(){return H}),n.d(t,"f",function(){return K}),n.d(t,"d",function(){return G}),n.d(t,"c",function(){return V}),n.d(t,"j",function(){return W}),n.d(t,"e",function(){return Q}),n.d(t,"h",function(){return Z}),n.d(t,"k",function(){return J}),n.d(t,"q",function(){return $}),n.d(t,"l",function(){return ee}),n.d(t,"p",function(){return te}),n.d(t,"a",function(){return ne});var w=p.b.shape({unreadCnt:p.b.number,unreadHighlightCnt:p.b.number}),S=p.b.shape({id:p.b.string,unreadCnt:p.b.number,unreadHighlightCnt:p.b.number}),T=p.b.objectOf(w),R=Object(h.b)("Set the initial unread counts");R.propTypes=T;var N=Object(h.b)("Update the initial unread count for a single channel");N.propTypes=S;var x=Object(h.b)("Set initial and per-channel counts and calculate totals");x.propTypes={initialUnreads:T,countsPerChannel:T,channelsToSuppress:p.b.objectOf(p.b.bool)};var M=Object(h.b)("Update the per-channel counts for a single channel");M.propTypes=S;var P=Object(h.b)("Update the unread counts for threads");P.propTypes={threadsUnreadCount:p.b.number,threadsMentionCount:p.b.number,threadsMentionCountByChannel:p.b.object};var A=Object(h.b)("Set the list of enterprise channels to exclude from total counts");A.propTypes=p.b.objectOf(p.b.bool).isRequired;var D=Object(h.b)("Remove some channels from countsPerChannel");D.propTypes={channelIds:p.b.arrayOf(p.b.string)};var L={initialUnreads:{},countsPerChannel:{},channelsToSuppress:{},threadsUnreadCount:0,threadsMentionCount:0,threadsMentionCountByChannel:{},totalUnreadsInChannels:0,totalUnreads:0,totalUnreadHighlights:0},q=Object(m.b)((r={},i()(r,R,function(e,t){return s()({},e,{initialUnreads:t})}),i()(r,N,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.unreadCnt,a=t.unreadHighlightCnt;return s()({},e,{initialUnreads:s()({},e.initialUnreads,i()({},n,{unreadCnt:r,unreadHighlightCnt:a}))})}),i()(r,x,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initialUnreads,r=t.countsPerChannel,a=t.channelsToSuppress;return s()({},e,{initialUnreads:n,countsPerChannel:r,channelsToSuppress:a},F(r,e.threadsUnreadCount,e.threadsMentionCount,a))}),i()(r,M,function(e,t){if(!t)return e;var n=t.id,r=t.unreadCnt,a=t.unreadHighlightCnt,o=r||a?s()({},e.countsPerChannel,i()({},n,{unreadCnt:r,unreadHighlightCnt:a})):Object(b.a)(e.countsPerChannel,n);return s()({},e,{countsPerChannel:o},F(o,e.threadsUnreadCount,e.threadsMentionCount,e.channelsToSuppress))}),i()(r,P,function(e,t){if(!t)return e;var n=t.threadsUnreadCount||0,r=t.threadsMentionCount||0,a=t.threadsMentionCountByChannel||{};return s()({},e,{threadsUnreadCount:n,threadsMentionCount:r,threadsMentionCountByChannel:a},F(e.countsPerChannel,n,r,e.channelsToSuppress))}),i()(r,A,function(e,t){return t?s()({},e,{channelsToSuppress:t},F(e.countsPerChannel,e.threadsUnreadCount,e.threadsMentionCount,t)):e}),i()(r,D,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelIds;if(!t||!t.length)return e;var n=Object(b.a)(e.countsPerChannel,t);return s()({},e,{countsPerChannel:n},F(n,e.threadsUnreadCount,e.threadsMentionCount,e.channelsToSuppress))}),r),L,{persistenceEnabled:!0});q.propTypes={initialUnreads:p.b.objectOf(p.b.shape({unreadCnt:p.b.number,unreadHighlightCnt:p.b.number})),channelsToSuppress:p.b.objectOf(p.b.bool),countsPerChannel:p.b.objectOf(p.b.shape({unreadCnt:p.b.number,unreadHighlightCnt:p.b.number})),threadsUnreadCount:p.b.number,threadsMentionCount:p.b.number,threadsMentionCountByChannel:p.b.objectOf(p.b.number),totalUnreadsInChannels:p.b.number,totalUnreads:p.b.number,totalUnreadHighlights:p.b.number};t.b=q;function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Object.keys(Object(b.a)(e,Object.keys(r))),i=Object(d.a)(a,function(t){return e[t].unreadCnt});return{totalUnreadsInChannels:i,totalUnreads:i+(t||0),totalUnreadHighlights:Object(d.a)(a,function(t){return e[t].unreadHighlightCnt})+(n||0)}}Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.totalUnreadsInChannels});var B=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.totalUnreads}),U=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.totalUnreads>0}),H=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.totalUnreadsInChannels>0}),K=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.totalUnreadHighlights}),G=Object(f.b)(function(e,t){return e&&e.unreadCounts&&e.unreadCounts.initialUnreads&&e.unreadCounts.initialUnreads[t]}),V=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.countsPerChannel}),z=Object(f.b)(function(e,t){var n=V(e);return n&&n[t]||{unreadCnt:0,unreadHighlightCnt:0}}),Y=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.channelsToSuppress}),W=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.threadsUnreadCount>0}),Q=(Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.threadsUnreadCount}),Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.threadsMentionCount})),X=Object(f.b)(function(e){return e&&e.unreadCounts&&e.unreadCounts.threadsMentionCountByChannel}),Z=Object(f.b)(function(e){return V(e)!==L.countsPerChannel}),J=Object(v.b)("Update the unread counts in response to users.counts",function(e,t,n){if(n){var r=t(),a={},i={},o={};n.forEach(function(e){var t=e.id,n=e.unread_cnt,s=e.unread_highlight_cnt;a[t]={unreadCnt:n||0,unreadHighlightCnt:s||0};var c=Object(y.d)(r,t);if((n||s)&&C(r,c)){Object(j.a)(r,c)&&(o[t]=!0);var l=I(r,c)?n:s,u=Object(O.h)(r,t).reachedEnd,d=Object(_.i)(r);i[t]=u&&d?z(r,t):{unreadCnt:n,unreadHighlightCnt:l||s}}}),e(x({initialUnreads:a,countsPerChannel:i,channelsToSuppress:o}))}});J.propTypes=p.b.arrayOf(S);var $=Object(v.b)("Update the unread count for a channel",function(e,t,n){var r=t(),a=n.id,o=n.unread_cnt,c=n.unread_highlight_cnt,l=Object(y.d)(r,a);if(C(r,l)){var d=z(r,a),b=d.unreadCnt,p=d.unreadHighlightCnt,h=Object(u.a)(o)?b||0:o,m=Object(u.a)(c)?p||0:c;e(M({id:a,unreadCnt:h,unreadHighlightCnt:I(r,l)?h:m})),Object(j.a)(r,l)&&e(A(s()({},Y(r),i()({},a,!0))))}});$.propTypes={id:p.b.string.isRequired,unread_cnt:p.b.number,unread_highlight_cnt:p.b.number};var ee=Object(v.b)("Possibly drop the channel from the countsPerChannel map",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelIds,r=t(),a=V(r),i=Object(l.a)(n,function(e){return!!a[e]});if(i.length){var o=Object(l.a)(i,function(e){var t=Object(y.d)(r,e,!1);return!C(r,t)});o.length&&e(D({channelIds:o}))}});ee.propTypes={channelId:p.b.arrayOf(p.b.string)};var te=Object(v.b)("Update the unread count for the all threads view",function(e,t,n){var r=n.threadsHasUnreads,a=n.threadsMentionCountByChannel,i=t(),o=Object.keys(a).reduce(function(e,t){var n=Object(y.d)(i,t);return Object(j.a)(i,n)?e:e+a[t]},0);e(P({threadsUnreadCount:r?1:0,threadsMentionCount:o,threadsMentionCountByChannel:a}))});te.propTypes={threadsHasUnreads:p.b.bool.isRequired,threadsMentionCountByChannel:p.b.objectOf(p.b.number).isRequired};var ne=Object(v.b)("Update the unread count based on the active workspace",function(e,t){var n=t();if(Object(g.m)(n)){var r=W(n),a=X(n)||{};Object(c.a)(a)||e(te({threadsHasUnreads:r,threadsMentionCountByChannel:a}));var i=V(n);if(!Object(c.a)(i)||!Object(c.a)(Y(n))){var o=Object.keys(i).map(function(e){return Object(y.d)(n,e)}).reduce(function(e,t){return Object(j.a)(n,t)&&(e[t.id]=!0),e},{});e(A(o))}}})},"0SSD":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s});var r=n("P1FA");function a(e){return Object(r.a)(e).toLowerCase()}function i(e,t){for(var n=a(e.replace(/^[@\uff20]/,"")),r=a(t.replace(/^[@\uff20]/,"")),i=n.split(/[ ._]/),o=r.split(/[ \-._]/),s=0;s<i.length;s++){if(i[s].split(/[-]/)[0]===o[0])return!0}return!1}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a(e)===a(t.substr(n,e.length))}function s(e,t){if(!e)return null;for(var n=0;n<e.length;n++){var a=e[n];if(a.name===t||a.alias===t||a.ms_name===t||Object(r.a)(a.name)===t)return a}return null}},"0Sj2":function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"d",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return w}),n.d(t,"g",function(){return S}),n.d(t,"f",function(){return T});var r=n("QbLZ"),a=n.n(r),i=n("oaNE"),o=n("aK/h"),s=n("HO/Y"),c=n("XfeM"),l=n("jYCR"),u=n("4hnu"),d=n("0Whs"),b={limit:100,sort:{allow_empty_query:!0,frecency:!0}},p={allowEmptyQuery:!0,limit:100,sort:{frecency:!0}},h={channels:{include_archived:!1},groups:{include_archived:!1},members:{include_self:!0},mpims:!0},m={members:{include_self:!0}},f={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!0},members:{includeSelf:!0}}},v={entities:{members:{includeSelf:!0}}},g={channels:{can_post:!0}},_={entities:{channels:{canPost:!0}}},O={members:{include_bots:!1,include_slackbot:!1}},y={entities:{members:{includeBots:!1,includeSlackbot:!1}}};function j(e,t,n){var r=function(e){var t=a()({},b,e);return function(e){return Object(u.a)(e,t).then(function(e){return{options:e.map(function(e){var t=e.model_ob;return Object(d.a)(t)})}})}}(n),i=a()({},p,t),h=Object(c.b)(e,function(e,t,n){var a=t();return Object(s.j)(a,"feature_select_model_option_fetcher_m11n")?e(Object(l.c)({query:n,options:i})).then(function(e){return{options:e.map(d.a)}}):r(n)});return h.propTypes=o.b.string.isRequired,h}var k=j("Query channels",{entities:{channels:{includeArchived:!1,includePrivate:!1}}},{channels:{include_archived:!1}}),E=j("Query conversations",f,h),C=j("Query conversations (no apps)",Object(i.a)({},f,y),Object(i.a)({},h,O)),I=j("Query conversations (can post)",Object(i.a)({},f,_),Object(i.a)({},h,g)),w=j("Query conversations (can post, no apps)",Object(i.a)({},f,_,y),Object(i.a)({},h,g,O)),S=j("Query members",v,m),T=j("Query members (no apps)",Object(i.a)({},v,y),Object(i.a)({},m,O))},"0Whs":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("Fdc0"),o=n("aK/h"),s=n("vSXf"),c=n("4aLn"),l=n("4Twu"),u=n("WTjW"),d=n("Mjmw"),b=n("ZYn4");n("bEcb"),o.b.string.isRequired,o.b.bool,o.b.bool;function p(e){var t=e.id,n=e.isMember;return e.featureNewUnifiedListEntities?a.a.createElement(c.a,{channelId:t,className:"c-input_select_options_list__option--unified"}):n?a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{memberId:t,inheritIconSize:!0}),a.a.createElement(u.a,{id:t}),a.a.createElement(d.a,{id:t,className:"c-input_select__secondary_member_name"})):a.a.createElement(l.a,{channelId:t,inline:!0,iconProps:{align:"baseline",inherit:!0}})}p.displayName="ModelOption",p.defaultProps={isMember:!1,featureNewUnifiedListEntities:!1};var h=Object(s.a)("feature_new_unified_list_entities")(p);function m(e){return{label:a.a.createElement(h,{id:e.id,isMember:Object(i.qb)(e)}),value:e.id}}function f(e){return{description:e.description,label:e.text,value:e.value}}n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f})},"0b/R":function(e,t,n){},"0b5H":function(e,t,n){},"0dpy":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("D4L/"),v=n("hOQf"),g=n("s19S"),_=n("Smdl"),O=n("hhak"),y=n("NvKv"),j=(h.b.object.isRequired,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.node,h.b.string,h.b.func,{full:!1,relative:!1,meridiem:!0,compact:!1,clickable:!1,children:null,teamDomain:void 0,jumpToMessage:d.a}),k=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleTimestampClick=n.handleTimestampClick.bind(n),n}return u()(t,e),o()(t,[{key:"handleTimestampClick",value:function(e){var t=this.props,n=t.msg,r=t.clickable;e.preventDefault(),r&&(Object(_.a)()?this.props.jumpToMessage({channelId:n.channel,ts:n.ts,threadTs:n.thread_ts}):Object(g.q)(n.channel,n.ts,n.thread_ts))}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.full,r=e.relative,a=e.meridiem,i=e.compact,o=e.clickable,s=e.children,c=e.teamDomain;if(Object(v.Y)(t))return null;var l=this.props.msg.channel,u=this.props.msg.ts,d=this.props.msg.thread_ts,b=Object(v.u)({teamDomain:c,channelId:l,ts:u,threadTs:d});return p.a.createElement(y.b,{timestamp:t.ts,full:n,relative:r,meridiem:a,compact:i,link:b,clickable:o,onClick:this.handleTimestampClick},s)}}]),t}(b.PureComponent);k.displayName="MessageTimestamp",k.defaultProps=j;var E={jumpToMessage:function(){return O.a.apply(void 0,arguments)}};t.a=Object(m.b)(function(e){var t=Object(f.d)(e);return{teamDomain:t&&t.domain}},E)(k)},"0e3b":function(e,t,n){"use strict";n.r(t),n.d(t,"getInsertData",function(){return s}),n.d(t,"getMatch",function(){return c}),n.d(t,"getNumResults",function(){return l}),n.d(t,"getResultAtIndex",function(){return u});var r=n("HiDb"),a=n("kOzZ"),i=n("KPXh"),o=/^([\/\uff0f]\S*)$/,s=function(e){return e?(Object(a.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"slash_command"}}}),"last-used"===e.type&&e.delta?{contents:e.delta.ops}:{text:Object(i.g)(e)}):null},c=function(e){return 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startIndex&&o.test(e)?(1===e.length&&Object(a.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_start",trigger:"slash_command"}}}),{match:e,index:0}):null},l=function(e){return Object(r.a)(e,"commands").length},u=function(e,t){return Object(r.a)(e,"commands")[t]}},"0f2Y":function(e,t,n){"use strict";var r=n("AgpX");t.a=r.a},"0fwO":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("ROZo"),a=Object(r.b)("TS.rxns.legacyUpdateReactionRecords"),i=Object(r.b)("TS.rxns.legacyUpdateUI")},"0gqo":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("TSYQ"),m=n.n(h),f=n("XHGt"),v=n("od5y"),g=n("llxT"),_=n("hOQf"),O=n("HvGc"),y=(n("EOha"),p.b.string,p.b.shape({reply_count:p.b.number,replies:p.b.array}),p.b.string,p.b.string,p.b.func.isRequired,{className:"",msg:{replies:[],reply_count:0},flexOrigin:void 0,flexOriginId:void 0}),j=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(){var e=this.props,t=e.msg,n=e.flexOrigin,r=e.flexOriginId,a=t.channel,i=t.ts;this.props.showThread({channelId:a,threadTs:i,origin:n,originId:r})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.className,r=m()(n,"c-message_kit__replies_count");return Object(_.R)(t)?b.a.createElement(g.a,{className:r,onClick:this.onClick},b.a.createElement(v.b,{type:"comment-alt"}),1===t.reply_count?t.reply_count+" reply":t.reply_count+" replies"):null}}]),t}(d.PureComponent);j.displayName="CondensedReplyCount",j.defaultProps=y;var k={showThread:function(){return O.l.apply(void 0,arguments)}};t.a=Object(f.b)(null,k)(j)},"0iF4":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return h});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.pins.startPinMessage",r.a),o=Object(a.b)("TS.pins.unPinMessage",r.a),s=Object(a.b)("TS.pins.updateCount",r.a),c=Object(a.b)("TS.pins.startPinFile",r.a),l=Object(a.b)("TS.pins.unPinFile",r.a),u=Object(a.b)("TS.pins.upsertPinnedItems",r.a),d=Object(a.b)("TS.pins.onFetchPins",r.a),b=Object(a.b)("TS.pins.canUserPinHere",r.a),p=Object(a.b)("TS.pins.havePinsBeenFetched",r.a),h=Object(a.b)("TS.pins.pinned_status_changed_sig.dispatch",r.a)},"0ivQ":function(e,t,n){"use strict";var r=n("/k8D");t.a=function(e){var t=new Date;return Object(r.a)(e,t)}},"0nhw":function(e,t,n){"use strict";n.d(t,"e",function(){return f}),n.d(t,"k",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return _}),n.d(t,"g",function(){return O}),n.d(t,"j",function(){return y}),n.d(t,"f",function(){return j}),n.d(t,"b",function(){return k}),n.d(t,"d",function(){return E}),n.d(t,"c",function(){return C}),n.d(t,"i",function(){return w});var r=n("QbLZ"),a=n.n(r),i=n("/1FC"),o=n("aK/h"),s=n("HO/Y"),c=n("6kok"),l=n("4zXV"),u=n("kOzZ"),d=n("yHhI"),b=n("uf9I"),p=n("om+M"),h=n("XfeM"),m=Object(p.a)("Fetch self enterprise info through legacy team.info endpoint",function(e,t){return e(Object(l.a)({method:"team.info",args:{include_primary_owner:!0,team:Object(b.a)(t())||Object(s.d)(t(),"enterprise_id")}})).then(function(e){return e&&e.team})}),f=(Object(p.a)("Fetch self enterprise inf through enterprise.info endpoint",function(e){return e(Object(l.a)({method:"enterprise.info",args:{include_primary_owner:!0}})).then(function(e){return e&&e.enterprise})}),Object(h.b)("Fetch self enterprise org info",function(e){return e(m())}),Object(p.a)("Convert a channel to org shared",function(e,t,n){var r=n.channel,a=n.orgWide,i=void 0!==a&&a,o=n.targetDomains,s=void 0===o?null:o,u=n.name,d=void 0===u?null:u,b=Object(c.xb)(r)?"enterprise.groups.createShared":"enterprise.channels.createShared",p={channel_id:r.id};return d&&(p.channel_name=d),i&&(p.all_teams=i),!i&&s&&(p.target_domains=s),e(Object(l.a)({method:b,args:p}))}));f.propTypes={channel:o.b.shape({id:o.b.string.isRequired}).isRequired,orgWide:o.b.bool,targetDomains:o.b.arrayOf(o.b.string)};var v=Object(p.a)("Update which teams/workspaces can access an enterprise shared channel",function(e,t,n){var r=n.channelId,a=n.orgWide,i=void 0!==a&&a,o=n.teamIds,s=void 0===o?null:o,c={channel_id:r,org_wide:i};return!i&&s&&(c.team_ids=s),e(Object(l.a)({method:"enterprise.channels.setShared",args:c}))});v.propTypes={channelId:o.b.string.isRequired,orgWide:o.b.bool,teamIds:o.b.arrayOf(o.b.string)};var g=Object(p.a)("Query if a name is already used by a username, channel, group, or subteam in an Org",function(e,t,n){var r=n.channel,a={name:n.newChannelName,ignore_local_team:!0};return Object(c.xb)(r)&&(a.channel=r.id),e(Object(l.a)({method:"enterprise.nameTaken",args:a}))});g.propTypes={channel:o.b.shape({id:o.b.string.isRequired}).isRequired,newChannelName:o.b.string.isRequired};var _=Object(p.a)("retrieve the originating team that created the shared channel",function(e,t,n){return e(Object(l.a)({method:"enterprise.channels.getOriginatingTeam",args:{channel_id:n}}))});_.propTypes=o.b.string.isRequired;var O=Object(p.a)("Get team on org by Id",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,i=void 0===r?null:r,o=n.additionalOptions,c=void 0===o?{}:o,u=a()({include_user_counts:!0,include_leave_team:!0,include_join_request:!0},c);i&&(u.team=i);var d=Object(s.d)(t(),"enterprise_api_token");return d&&(u.enterprise_token=d),e(Object(l.a)({method:"enterprise.teams.info",args:u})).then(function(e){return e.team})});O.propTypes=o.b.shape({teamId:o.b.string,additionalOptions:o.b.object});var y=Object(p.a)("Gets fuzzy matches for a given search term",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sortBy,a=void 0===r?"real_name_as_is":r,i=n.searchTerm,o=void 0===i?"":i,c=n.count,u=void 0===c?"100":c,d=n.nextCursorMark,b=void 0===d?"":d,p={type:"and",clauses:[{type:"is",value:"user"}]},h=t();o&&""!==o&&p.clauses.push({type:"fuzzy_with_email",value:o});var m={count:u,query:JSON.stringify(p),sort:a,ignore_guest_accounts:1,include_bots:0,include_dangling:1};if(Object(s.i)(h)){var f=Object(s.d)(h,"enterprise_api_token");f&&(m.enterprise_token=f)}return b&&(m.cursor_mark=b),e(Object(l.a)({method:"search.enterprise",args:m}))});y.propTypes=o.b.shape({sortBy:o.b.string,searchTerm:o.b.string,count:o.b.string,nextCursorMark:o.b.string}),Object(p.a)("Get the connected shared channels for an organization",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.searchQuery,a=n.nextPageId,i=n.limit,o=void 0===i?200:i,c=n.sort,u=n.sortDir,b=void 0===u?"asc":u,p=t(),h=r;h&&0===h.length&&(h=void 0);var m={query:h,limit:o,sort:c,cursor:a||void 0,sort_dir:b},f=Object(s.d)(p,"enterprise_api_token");return f&&(m.enterprise_token=f),e(Object(l.a)({method:"enterprise.channels.searchConnectedOrgs",args:m,reason:"fetch_connected_orgs"})).then(function(e){return{organizations:e.organizations,total_count:e.total_count,nextCursor:e.next_cursor}}).catch(function(e){throw Object(d.a)({getState:t}).error("failed to search for connected orgs"),e})}).propTypes=o.b.shape({query:o.b.string,limit:o.b.number,sort:o.b.string,sortDir:o.b.oneOf(["asc","desc"])}),Object(p.a)("Disconnects the external shared team for an organization",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId,r=t();if(!n)return Promise.reject(new Error("teamId cannot be empty"));var a=Object(s.d)(r,"enterprise_api_token");if(!a)return Promise.reject(new Error("unable to retrieve enterprise token"));var i={token:a,target_team:n};return e(Object(l.a)({method:"conversations.disconnectSharedTeam",args:i,reason:"disconnect_connected_orgs"})).catch(function(e){throw Object(d.a)({getState:t}).error("failed to disconnect team"),e})}).propTypes=o.b.shape({teamId:o.b.string.isRequired});var j=Object(p.a)("Fetch workspaces for the workspace directory",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.queryType,a=void 0===r?"team":r,i=n.sortBy,o=void 0===i?"real_name":i,c=n.searchTerm,u=void 0===c?"":c,d=n.count,b=void 0===d?"100":d,p=n.nextCursorMark,h=void 0===p?"":p,m=n.type,f=void 0===m?"":m,v=n.id,g=void 0===v?"":v,_={count:b,query:JSON.stringify({type:"is",value:a}),sort:o,search:u,set_active:!0,type:f,id:g};h&&(_.cursor_mark=h);var O=Object(s.d)(t(),"enterprise_api_token");return O&&(_.enterprise_token=O),e(Object(l.a)({method:"enterprise.teams.directory",args:_})).then(function(e){return e})});j.propTypes={queryType:o.b.string,sortBy:o.b.string,searchTerm:o.b.string,count:o.b.string,nextCursorMark:o.b.string,type:o.b.string,id:o.b.string};var k=Object(p.a)("Join a workspace",function(e,t,n){var r=n.teamId;!function(e){var t=e.teamId,n=e.anchorPage,r=e.fromWhere,i=void 0===r?"":r,o={anchor_page:n,entity_key:"join_workspace",target_team_id:t,tracking_code:i};Object(u.a)().track(S,a()({},o,{contexts:{ui_context:{action:"click",action_status:1}}}))}({teamId:r,anchorPage:n.anchorPage});var i={team:r},o=Object(s.d)(t(),"enterprise_api_token");return o&&(i.enterprise_token=o),e(Object(l.a)({method:"enterprise.teams.join",args:i}))});k.propTypes={teamId:o.b.string.isRequired};var E=Object(p.a)("Request to join a workspace",function(e,t,n){var r=n.teamId;!function(e){var t=e.teamId,n=e.anchorPage,r=e.fromWhere,i=void 0===r?"":r,o={anchor_page:n,entity_key:"request_to_join_workspace",target_team_id:t,tracking_code:i};Object(u.a)().track(S,a()({},o,{contexts:{ui_context:{action:"click",action_status:1}}}))}({teamId:r,anchorPage:n.anchorPage});var i={team:r},o=Object(s.d)(t(),"enterprise_api_token");return o&&(i.enterprise_token=o),e(Object(l.a)({method:"enterprise.teams.joinrequests.create",args:i}))});E.propTypes={teamId:o.b.string.isRequired};var C=Object(p.a)("Leaves the workspace",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId;!function(e){var t=e.teamId,n={anchor_page:e.anchorPage,entity_key:"leave_workspace",target_team_id:t,tracking_code:""};Object(u.a)().track(S,a()({},n,{contexts:{ui_context:{action:"click",action_status:1}}}))}({teamId:n,anchorPage:"workspace_directory"});var r={team:n},i=Object(s.d)(t(),"enterprise_api_token");return i&&(r.enterprise_token=i),e(Object(l.a)({method:"enterprise.teams.leave",args:r}))});C.propTypes={teamId:o.b.string.isRequired};Object(p.a)("Fetch completed migrations",function(e,t){var n={status:"complete"},r=Object(s.d)(t(),"enterprise_api_token");return r&&(n.token=r),e(Object(l.a)({method:"enterprise.migrations.getHistory",args:n})).then(function(e){return e.migrations}).catch(function(e){throw Object(d.a)({getState:t}).error("failed to fetch completed migrations"),e})}),Object(p.a)("Fetch current and future migrations",function(e,t){var n={},r=t(),i=Object(s.d)(r,"enterprise_api_token");i&&(n.token=i);var o=["in_progress","scheduled"];return Object(s.j)(r,"feature_migration_org_approvals")&&o.push("invite_rejected"),e(Object(l.a)({method:"enterprise.migrations.getHistory",args:a()({},n,{status:o.join(",")})})).then(function(e){return e.migrations}).catch(function(e){throw Object(d.a)({getState:t}).error("failed to fetch scheduled migrations"),e})});var I=function(e){return function(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).migrationIds;if(!Object(i.a)(r))return Promise.reject(new Error("Expected migrationIds to be an Array"));if(0===r.length)return Promise.reject(new Error("No migration IDs provided"));var a={migration_ids:r.join(",")},o=Object(s.d)(n(),"enterprise_api_token");return o&&(a.enterprise_token=o),t(Object(l.a)({method:"enterprise.migrations."+e,args:a})).catch(function(t){throw Object(d.a)({getState:n}).error("failed to "+e+" migrations"),t})}};Object(p.a)("Approve a set of migrations",I("approve")).propTypes={migrationIds:o.b.arrayOf(o.b.number).isRequired},Object(p.a)("Decline a set of migrations",I("decline")).propTypes={migrationIds:o.b.arrayOf(o.b.number).isRequired},Object(p.a)("Fetches migration status",function(e,t,n){var r=n.migrationId,a=n.includeTeamInfo,i=void 0!==a&&a,o=n.includeEnterpriseInfo,c={migration_id:r,include_team_info:i,include_enterprise_info:void 0!==o&&o},u=Object(s.d)(t(),"enterprise_api_token");return u&&(c.token=u),e(Object(l.a)({method:"enterprise.migrations.getStatus",args:c})).then(function(e){return e}).catch(function(e){throw Object(d.a)({getState:t}).error("failed to fetch migration status"),e})}).propTypes={migrationId:o.b.number.isRequired,includeEnterpriseInfo:o.b.bool,includeTeamInfo:o.b.bool};var w=Object(p.a)("Request the creation of a new enterprise workspace",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.workspaceName,a=n.workspaceMessage,i=n.reason,o=Object(s.d)(t(),"enterprise_api_token");return e(Object(l.a)({method:"enterprise.teams.creationrequests.create",args:{enterprise_token:o,name:r,reason:a},reason:i})).catch(function(e){throw Object(d.a)({getState:t}).warn("ENTERPRISE-API","failed to request the creation of a new workspace"),e})});w.propTypes={workspaceName:o.b.string.isRequired,workspaceMessage:o.b.string.isRequired,reason:o.b.string.isRequired};var S="ENTERPRISE_DISCOVER_WORKSPACES"},"0rwR":function(e,t,n){"use strict";n.d(t,"h",function(){return j}),n.d(t,"j",function(){return E}),n.d(t,"i",function(){return C}),n.d(t,"d",function(){return S}),n.d(t,"e",function(){return T}),n.d(t,"f",function(){return R}),n.d(t,"g",function(){return x}),n.d(t,"c",function(){return M}),n.d(t,"b",function(){return A});var r,a=n("jo6Y"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("cZF4"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("XfeM"),f=n("CPJ1"),v=n("k2C/"),g=n("7nxQ"),_=n("VjHM"),O=Object(b.b)("Add member IDs to the flexpane");O.propTypes=d.b.arrayOf(d.b.string).isRequired;var y=Object(b.b)("Add non-exact match member IDs to the flexpane");y.propTypes=d.b.arrayOf(d.b.string).isRequired;var j=Object(b.b)("Set the member directory flexpane scroll offset");j.propTypes=d.b.object;var k=Object(b.b)("Set the marker");k.propTypes=d.b.string;var E=Object(b.b)("Set the search query");E.propTypes=d.b.string;var C=Object(b.b)("Set the filter");C.propTypes=d.b.string;var I={searchQuery:"",scrollmark:null,marker:"",memberIds:[],nonExactMatchMemberIds:[],filter:"people"},w=Object(p.b)((r={},s()(r,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||!t.length)return e;var n=I.nonExactMatchMemberIds;return l()({},e,{memberIds:Object(u.a)(e.memberIds,t),nonExactMatchMemberIds:n})}),s()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&t.length?l()({},e,{nonExactMatchMemberIds:Object(u.a)(e.memberIds,t)}):e}),s()(r,j,function(e,t){return l()({},e,{scrollmark:t})}),s()(r,k,function(e,t){return l()({},e,{marker:t})}),s()(r,E,function(e,t){if(t===e.searchQuery)return e;var n=I.memberIds,r=I.nonExactMatchMemberIds,a=I.scrollmark,i=I.marker;return l()({},e,{memberIds:n,nonExactMatchMemberIds:r,scrollmark:a,marker:i,searchQuery:t})}),s()(r,C,function(e,t){if(t===e.filter)return e;var n=I.memberIds,r=I.nonExactMatchMemberIds,a=I.scrollmark,i=I.marker;return l()({},e,{memberIds:n,nonExactMatchMemberIds:r,scrollmark:a,marker:i,filter:t})}),r),I,{persistenceEnabled:!0});w.propTypes={searchQuery:d.b.string,scrollmark:d.b.object,marker:d.b.string,memberIds:d.b.arrayOf(d.b.string),nonExactMatchMemberIds:d.b.arrayOf(d.b.string),filter:d.b.string},t.a=w;var S=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.memberIds}),T=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.nonExactMatchMemberIds}),R=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.scrollmark}),N=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.marker}),x=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.searchQuery}),M=Object(h.b)(function(e){return e&&e.memberDirectoryFlexpane&&e.memberDirectoryFlexpane.filter}),P=Object(m.b)("Fetch and upsert membersIds displayed in member directory flexpane",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isNonExactMatchMembersSearch,a=void 0!==r&&r,o=i()(n,["isNonExactMatchMembersSearch"]),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchQuery,n=void 0===t?"":t,r=e.marker,a=void 0===r?"":r,i=e.index,o=void 0===i?"":i,s=e.filter,c=void 0===s?"":s,l=Object(v.a)(c)||Object(v.b)(c),u={count:n?100:10,index:o,locale:Object(g.f)(),external_team:l?c:void 0,filter:l?"people":c};return n?(u.query=n,u.search_profile_fields=!0):u.marker=a,u}(o);return e(Object(f.c)({query:s})).then(function(t){var n=t.members,r=void 0===n?[]:n,i=t.next_marker,s=("deactivated"===o.filter?r.filter(function(e){return e&&!e.is_bot}):r).map(function(e){return e.id});return e(a?y(s):O(s)),i&&e(k(i)),{members:r,nextMarker:i}})});P.propTypes={searchQuery:d.b.string,marker:d.b.string,index:d.b.string,filter:d.b.string,isNonExactMatchMembersSearch:d.b.bool};var A=Object(m.b)("Fetch and upsert members",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isNonExactMatchMembersSearch,r=void 0!==n&&n,a=t(),i=x(a),o=N(a),s=r?"people":M(a),c=Object(_.h)(a)?"users_by_realname":"users_by_display_name";return e(P({searchQuery:i,marker:o,index:c,filter:s,isNonExactMatchMembersSearch:r}))});A.propTypes={isNonExactMatchMembersSearch:d.b.bool}},"0sSB":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n("NFsq"),a=n("7EGn"),i=n("yHhI");function o(e){return e&&e.name}function s(e,t){var n=Object(i.a)({teamId:t});if(!e)return t;var o=e.team_id;if((e.enterprise_id||e.enterprise_user)&&t){var s=Object(a.a)(e,"enterprise_user.teams",[]);s.length>0?Object(r.a)(s,t)&&(o=t):n.warn("Cannot find workspace for app or bot user in this org.")}return o}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.member,n=e.bot,r=e.botProfile,a=e.currentTeamId;return n&&n.team_id?n.team_id:r&&r.team_id?r.team_id:t?s(t,a):a}},"0u40":function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return h});var r=n("oTSI"),a=n("lhZz"),i=n("wfE8"),o=n("btvA"),s=n("Z7Ay"),c=Object(r.a)(function(){return new o.b({fetch:function(e,t){return Object(a.dispatchForTeamId)(e,Object(i.d)({ids:t}))},isEnabled:function(){return!0},metricsName:"channels"})}),l=function(e,t){return c().maybeRefetch(e,t)},u=function(e,t){return c().markObjectsAsFresh(e,t)},d=function(e,t){return c().markObjectsAsStale(e,t)},b=function(e,t){return c().isObjectFresh(e,t)},p=function(e){return c().getFreshObjects(e)},h=function(){return o.b.pauseRefetch()};Object(s.b)("conditionalFetchManagerChannels",c)},"0wDQ":function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("TcTh"),o=n("Iq6W"),s=n("smxp"),c=n("HO/Y"),l=n("2HDu"),u=Object(a.b)("Remove a message and its timestamp",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,u=n.fromEvtLog,d=void 0!==u&&u,b=n.broadcastDelete;if(void 0!==b&&b)e(Object(o.d)({channelId:r,ts:a}));else{if(e(Object(i.j)({channelId:r,timestamp:a,fromEvtLog:d})),Object(c.j)(t(),"feature_react_threads")){var p=Object(s.a)(t(),r,a);if(p&&p.thread_ts){var h=Object(l.c)(r,p.thread_ts);e(Object(i.j)({channelId:h,timestamp:a,fromEvtLog:d}))}}e(Object(o.h)({channel:r,ts:a}))}});u.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,fromEvtLog:r.b.bool,broadcastDelete:r.b.bool},t.a=u},"13mM":function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"a",function(){return v});var r=n("U/ze"),a=n("HO/Y"),i=n("St+r"),o=n("uOc9"),s=Object(r.b)(function(e){return e&&e.connectivity&&e.connectivity.serviceOnline}),c=Object(r.b)(function(e){return e&&e.connectivity&&e.connectivity.lastSocketActivity}),l=Object(r.b)(function(e){return Object(a.j)(e,"feature_degraded_send")&&!Object(o.a)(e)&&Object(i.l)(e)?0:6e4}),u=Object(r.b)(function(e){return e&&e.connectivity&&e.connectivity.clientOnline}),d=Object(r.b)(function(e){return e&&e.connectivity&&e.connectivity.lastClientConnection}),b="offline",p="online",h="degraded",m=Object(r.b)(function(e){return u(e)&&s(e)}),f=Object(r.b)(function(e){return m(e)||Date.now()-d(e)<1e4}),v=Object(r.b)(function(e){return m(e)?Object(i.l)(e)?h:p:b})},"18Pa":function(e,t,n){"use strict";var r=n("iB/r");t.a=r.a},"1Elb":function(e,t,n){},"1F8+":function(e,t,n){"use strict";var r=n("XfeM"),a=n("tVnY"),i=n("tqA/"),o=n("Qaea"),s=n.n(o),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.getElementById("search_popover_container");s.a.unmountComponentAtNode(e)},l=n("Rmtr"),u=n("Gxzu"),d=n("HO/Y"),b=n("3MJR"),p=n("AcCB"),h=n("2Y1Y"),m=Object(r.b)("Close search UI",function(e,t){if(Object(b.t)(t())){var n=window.$&&window.$("#search_terms");n&&Object(h.c)(n),e(Object(p.n)({wasFocusedViaTabKey:!1}))}if(!Object(a.b)(t())&&!Object(d.j)(t(),"feature_classic_nav")){var r=window.$&&window.$("#search_terms"),o=Object(u.b)(t());if(r&&o)try{Object(h.j)(r,o)}catch(e){}c()}Object(l.e)(t())&&e(Object(l.a)()),e(Object(i.a)({visible:!1}))});m.propTypes={};t.a=m},"1H+G":function(e,t,n){},"1Ji4":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("FYw3"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=(n("aK/h"),n("Rjct")),h=n("3zPy"),m=n.n(h),f=m()("tab"),v=m()("f6"),g={};g[f]=!0,g[v]=!0;var _=function(e){function t(e){a()(this,t);var n=o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=n.onFocus.bind(n),n.state={hasKeyboardFocus:t.hasKeyboardFocus},n}return u()(t,e),c()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.isScreenReaderEnabled&&!t.hasKeyboardFocus?{hasKeyboardFocus:!0}:null}},{key:"onDocumentMouseDown",value:function(e){var n=e.type;t.relatedEvent={type:n},t.hasKeyboardFocus=!1;var r=new CustomEvent("focuseventmanager-focus-src-change",{detail:{hasKeyboardFocus:!1}});document.dispatchEvent(r)}},{key:"onDocumentKeyDown",value:function(e){var n=e.type,r=e.keyCode;t.relatedEvent={type:n,keyCode:r}}},{key:"onDocumentFocus",value:function(){var e=t.relatedEvent;if(!e||"keydown"!==e.type||!t.hasKeyboardFocus){var n=e&&"keydown"===e.type&&g[e.keyCode]||t.hasKeyboardFocus&&!e;if(t.relatedEvent=null,n!==t.hasKeyboardFocus){t.hasKeyboardFocus=n;var r=new CustomEvent("focuseventmanager-focus-src-change",{detail:{hasKeyboardFocus:n}});document.dispatchEvent(r)}}}},{key:"onWindowBlur",value:function(){t.relatedEvent=null}}]),c()(t,[{key:"componentDidMount",value:function(){t.instances+=1,1===t.instances&&(window.addEventListener("blur",t.onWindowBlur,!1),document.addEventListener("focus",t.onDocumentFocus,!0),document.addEventListener("keydown",t.onDocumentKeyDown,!0),document.addEventListener("mousedown",t.onDocumentMouseDown,!0)),document.addEventListener("focuseventmanager-focus-src-change",this.onFocus,!0)}},{key:"componentDidUpdate",value:function(){this.state.hasKeyboardFocus&&!t.hasKeyboardFocus&&(t.hasKeyboardFocus=!0)}},{key:"componentWillUnmount",value:function(){t.hasKeyboardFocus=!1,t.instances-=1,0===t.instances&&(window.removeEventListener("blur",t.onWindowBlur,!1),document.removeEventListener("focus",t.onDocumentFocus,!0),document.removeEventListener("keydown",t.onDocumentKeyDown,!0),document.removeEventListener("mousedown",t.onDocumentMouseDown,!0)),document.removeEventListener("focuseventmanager-focus-src-change",this.onFocus,!0)}},{key:"onFocus",value:function(e){this.setState(function(){return{hasKeyboardFocus:e.detail.hasKeyboardFocus}})}},{key:"render",value:function(){return b.a.createElement(p.a.Provider,{value:this.state.hasKeyboardFocus},this.props.children)}}]),t}(b.a.Component);_.displayName="FocusEventManager",_.defaultProps={children:null,isScreenReaderEnabled:!1},_.instances=0,_.hasKeyboardFocus=!1,t.a=_},"1Oc4":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("4Twu"),v=n("U3Q0"),g=n("nNoG"),_=n("HO/Y"),O=n("clTI"),y=n("6kok"),j=(n("/icQ"),new g.b("apps")),k=(h.b.string.isRequired,h.b.string.isRequired,h.b.func,h.b.func.isRequired,h.b.bool,h.b.bool,{featureM11nChannelDetails:!1,isChannelImOrMpim:!1,onCancel:d.a}),E=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={confirmInProgress:!1},n.onGo=n.onGo.bind(n),n}return u()(t,e),o()(t,[{key:"onGo",value:function(){var e=this.props.onConfirm;return this.setState(function(){return{confirmInProgress:!0}}),Promise.resolve(e())}},{key:"renderChannelName",value:function(){return p.a.createElement(f.a,{channelId:this.props.channelId,inline:!0})}},{key:"renderTitle",value:function(){var e=this.props,t=e.appName,n=e.isChannelImOrMpim,r=this.renderChannelName();return n?j.rt("Remove {appName} from your direct message with {channelName}?",{appName:t,channelName:r}):j.rt("Remove {appName} from {channelName}?",{appName:t,channelName:r})}},{key:"render",value:function(){var e=this.props,t=e.appName,n=e.featureM11nChannelDetails,r=e.onCancel,a=this.state.confirmInProgress;return p.a.createElement(v.a,{className:"p-app_remove_dialog",showCancelButton:!0,onCancel:r,onGo:this.onGo,goButtonType:"danger",goButtonText:j.t("Remove"),title:this.renderTitle(),titleAria:n?j.t("Remove app from channel?"):void 0,truncateTitle:!1,"data-qa":"app_remove_dialog",goButtonIsPending:a,goButtonIsDisabled:a},p.a.createElement("p",{className:"margin_bottom_0"},j.rt("{appName} will no longer be able to access or post to {channelName}, unless you invite it again.",{appName:t,channelName:this.renderChannelName()})))}}]),t}(b.PureComponent);E.displayName="AppRemoveDialog",E.defaultProps=k,E.displayName="AppRemoveDialog";var C=Object(m.b)(function(e,t){var n=t.channelId,r=Object(O.d)(e,n);return{isChannelImOrMpim:Object(y.eb)(r)||Object(y.lb)(r),featureM11nChannelDetails:Object(_.j)(e,"feature_m11n_channel_details")}})(E);t.a=C},"1VpL":function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return U}),n.d(t,"g",function(){return H}),n.d(t,"h",function(){return K}),n.d(t,"f",function(){return G});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("oTSI"),u=n("OZf9"),d=n("aK/h"),b=n("iqWe"),p=n("btvA"),h=n("1zbP"),m=n("XzsM"),f=n("EzZj"),v=n("MNvw"),g=n("U/ze"),_=n("XfeM"),O=n("HO/Y"),y=n("DtX9"),j=n("Fdc0"),k=n("lhZz"),E=n("x4bP"),C=n("yPgC"),I=n("uf9I"),w=C.a.maybeUnknown(C.a.App),S=Object(f.b)("Add apps to to store");S.propTypes=d.b.arrayOf(w).isRequired;var T=Object(f.b)("Remove apps by app ID from store");T.propTypes=d.b.arrayOf(d.b.string).isRequired;var R=Object(f.b)("Clear apps store");R.propTypes=null;var N={},x=Object(v.b)((r={},i()(r,S,function(e,t){var n=s()({},e);return Object(u.a)(t,function(e){n[e.id]=e}),n}),i()(r,T,function(e,t){return Object(c.a)(e,t)}),i()(r,R,function(){return{}}),r),N,{persistenceEnabled:!0});x.propTypes=d.b.objectOf(w),t.d=x;var M=Object(_.b)("Upsert apps and mark them as fresh for CFM",function(e,t,n){e(S(n));var r=Object(I.b)(t()),a=n.reduce(function(e,t){return Object(h.b)(t)&&e.push(t.id),e},[]);return F().markObjectsAsFresh(r,a),n});M.propTypes=d.b.arrayOf(w).isRequired;var P=function(e){return function(t,n){return Object(k.dispatchForTeamId)(t,e(n))}},A=P(b.a),D=P(M),L=Object(l.a)(function(){return new h.a({fetch:A,upsertKnown:D,upsertNonExistent:D,makeUnknownObject:function(){return{name:""}}})}),q=Object(_.b)("Fetch apps from API and upsert them into store",function(e,t,n){return e(Object(b.a)(n)).then(function(t){return e(M(t)),t})});q.propTypes=d.b.arrayOf(d.b.string).isRequired;var F=Object(l.a)(function(){return new p.b({fetch:P(q),isEnabled:function(){return!0}})}),B=Object(g.b)(function(e){return e&&e.apps||N}),U=Object(g.b)(function(e,t){if(!t)return!1;var n=B(e)[t],r=Object(I.b)(e);return n?(F().maybeRefetch(r,t),n):L().fetchObjectWithId(r,t)});U.propTypes=d.b.string.isRequired;var H=Object(g.b)(function(e){if(Object(E.a)()){var t=Object(y.b)(e);return!Object(j.xb)(t)&&Object(O.j)(e,"feature_app_space")}return Object(O.d)(e,"is_app_space_enabled")}),K=Object(g.b)(function(e){return Object(O.j)(e,"feature_app_actions_global")&&"in_experiment"===Object(m.c)(e,"plat_prototypes_global_actions")}),G=Object(g.b)(function(){return cdn_url+"/4f28/img/apps/default_new_app_icon.png"})},"1Vww":function(e,t,n){"use strict";var r=n("XfeM"),a=n("aK/h"),i=n("smxp"),o=n("HO/Y"),s=n("clTI"),c=n("hOQf"),l=n("0wDQ"),u=n("F294"),d=n("aW/o"),b=n("pRVB"),p=n("bYYE"),h=n("FLa3"),m=n("Smdl"),f=n("2HDu"),v=Object(r.b)("Checks if the message is in an active view before doing the animation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.threadTs,o=n.fromEvtLog,s=void 0!==o&&o,c=t(),v=!Object(m.a)()||Object(b.k)(c),g=Object(p.g)(c)&&v,_=Object(d.a)(c),O=Object(b.j)(c),y=Object(b.e)(c),j=function(){return e(Object(h.a)({channelId:r,ts:a}))};if(g){if(i)if(("convo"===O||"thread"===O)&&Object(u.a)(y)===Object(f.c)(r,i))return void j();if(_===r)return void j()}e(Object(l.a)({channelId:r,ts:a,fromEvtLog:s}))});v.propTypes={channelId:a.b.string,ts:a.b.string,threadTs:a.b.string,fromEvtLog:a.b.bool};var g=v,_=Object(r.b)("Conditionally animate a message deletion",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,a=n.ts,i=n.fromEvtLog,o=void 0!==i&&i,s=t();Object(p.g)(s)&&Object(d.a)(s)===r?e(Object(h.a)({channelId:r,ts:a})):e(Object(l.a)({channelId:r,ts:a,fromEvtLog:o}))});_.propTypes={channel:a.b.string,ts:a.b.string,fromEvtLog:a.b.bool};var O=_,y=n("mI5s"),j=n("2Zgd"),k=n("yHhI");n.d(t,"a",function(){return E});var E=Object(r.b)("Delete a message by channel ID and timestamp",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.deleted_ts,a=n.channel,u=n._from_evt_log,d=t(),b=Object(k.a)({state:d});if(r){var p=Object(s.u)(d,a)&&Object(s.d)(d,a);if(p){Object(j.j)(p,{deleted_ts:r});var h=Object(i.a)(d,a,r);Object(o.j)(d,"feature_react_threads")?h&&e(g({channelId:a,ts:r,threadTs:h.thread_ts,fromEvtLog:u})):h&&Object(c.ib)(h)&&!Object(c.qb)(h)?e(Object(l.a)({channelId:a,ts:r,fromEvtLog:u})):e(O({channel:a,ts:r,fromEvtLog:u})),e(Object(y.b)({channelId:a,ts:r}))}else b.error("Unknown channelId: "+a)}else b.error("Error in messageDeleted: no deleted_ts")});E.propTypes={deletedTs:a.b.string,channelId:a.b.string,fromEvtLog:a.b.bool}},"1Y60":function(e,t,n){"use strict";n.d(t,"b",function(){return O});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=(n("1mQp"),"_isSlackMenuSeparator"),g=(b.b.string,b.b.func,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.bool,{className:void 0,onMouseEnter:d.a,noPadding:!1,noPaddingAbove:!1,noPaddingBelow:!1,noFirstChild:!1,noLastChild:!1}),_=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onMouseEnter,r=e.noPadding,a=e.noPaddingAbove,i=e.noPaddingBelow,o=e.noFirstChild,s=e.noLastChild,c=f()("c-menu_separator__li",{"c-menu_separator__li--no_padding":r,"c-menu_separator__li--no_top_padding":a,"c-menu_separator__li--no_bottom_padding":i,"c-menu_separator__li--no_first_child":o,"c-menu_separator__li--no_last_child":s},t);return h.a.createElement("div",{"aria-hidden":"true",className:c,onMouseEnter:n},h.a.createElement("hr",{className:"c-menu_separator__separator"}))}}]),t}(p.PureComponent);function O(e){return!(!e||!e[v])}_.displayName="MenuSeparator",_.defaultProps=g,_[v]=!0,t.a=_},"1aDv":function(e,t,n){"use strict";t.a={"00:00":"12:00 AM","00:30":"12:30 AM","01:00":"1:00 AM","01:30":"1:30 AM","02:00":"2:00 AM","02:30":"2:30 AM","03:00":"3:00 AM","03:30":"3:30 AM","04:00":"4:00 AM","04:30":"4:30 AM","05:00":"5:00 AM","05:30":"5:30 AM","06:00":"6:00 AM","06:30":"6:30 AM","07:00":"7:00 AM","07:30":"7:30 AM","08:00":"8:00 AM","08:30":"8:30 AM","09:00":"9:00 AM","09:30":"9:30 AM","10:00":"10:00 AM","10:30":"10:30 AM","11:00":"11:00 AM","11:30":"11:30 AM","12:00":"12:00 PM","12:30":"12:30 PM","13:00":"1:00 PM","13:30":"1:30 PM","14:00":"2:00 PM","14:30":"2:30 PM","15:00":"3:00 PM","15:30":"3:30 PM","16:00":"4:00 PM","16:30":"4:30 PM","17:00":"5:00 PM","17:30":"5:30 PM","18:00":"6:00 PM","18:30":"6:30 PM","19:00":"7:00 PM","19:30":"7:30 PM","20:00":"8:00 PM","20:30":"8:30 PM","21:00":"9:00 PM","21:30":"9:30 PM","22:00":"10:00 PM","22:30":"10:30 PM","23:00":"11:00 PM","23:30":"11:30 PM"}},"1c4n":function(e,t,n){},"1czH":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return b}),n.d(t,"i",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"n",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"p",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"r",function(){return y}),n.d(t,"u",function(){return j}),n.d(t,"s",function(){return k}),n.d(t,"t",function(){return E}),n.d(t,"q",function(){return C});var r=n("ROZo"),a=n("x4bP"),i=(Object(r.b)("TS.channels.closeMpim"),Object(r.b)("TS.channels.archived_sig.dispatch")),o=Object(r.b)("TS.channels.converted_to_shared_sig.dispatch"),s=Object(r.b)("TS.channels.created_sig.dispatch"),c=Object(r.b)("TS.channels.joined_sig.dispatch"),l=Object(r.b)("TS.channels.left_sig.dispatch"),u=Object(r.b)("TS.channels.member_joined_sig.dispatch"),d=Object(r.b)("TS.channels.member_left_sig.dispatch"),b=Object(r.b)("TS.channels.renamed_sig.dispatch"),p=Object(r.b)("TS.channels.purpose_changed_sig.dispatch"),h=Object(r.b)("TS.channels.shared_invite_accepted_sig.dispatch"),m=Object(r.b)("TS.channels.shared_teams_updated_sig.dispatch"),f=Object(r.b)("TS.channels.shared_invite_pending_sig.dispatch"),v=Object(r.b)("TS.channels.topic_changed_sig.dispatch"),g=Object(r.b)("TS.channels.unarchived_sig.dispatch"),_=Object(r.b)("TS.channels.unshared_sig.dispatch"),O=Object(r.b)("TS.channels.changed_is_unknown_sig.dispatch"),y=Object(r.b)("TS.channels.leave"),j=Object(r.b)("TS.channels.legacyOnJoin"),k=Object(r.b)("TS.channels.legacyAlertSetTopicError"),E=Object(r.b)("TS.channels.legacyGetHasDraft");function C(e){return!Object(a.a)()&&!!(TS&&TS.channels&&TS.channels.temp_list_of_removed_channels[e])}},"1mQp":function(e,t,n){},"1tet":function(e,t,n){"use strict";n.d(t,"a",function(){return F}),n.d(t,"b",function(){return B}),n.d(t,"f",function(){return H}),n.d(t,"i",function(){return V}),n.d(t,"j",function(){return z}),n.d(t,"g",function(){return Y}),n.d(t,"h",function(){return W}),n.d(t,"c",function(){return X}),n.d(t,"n",function(){return Z}),n.d(t,"l",function(){return $}),n.d(t,"p",function(){return ee}),n.d(t,"m",function(){return te}),n.d(t,"q",function(){return ne}),n.d(t,"o",function(){return re}),n.d(t,"r",function(){return ae}),n.d(t,"e",function(){return ie}),n.d(t,"k",function(){return oe});var r,a=n("m1cH"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("jo6Y"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("oTSI"),p=n("ipyK"),h=n("aK/h"),m=n("EzZj"),f=n("XfeM"),v=n("U/ze"),g=n("MNvw"),_=n("yHhI"),O=n("btvA"),y=n("lhZz"),j=n("7dvU"),k=n("M1dg"),E=n("CXsT"),C=n("Iq6W"),I=n("smxp"),w=n("hOQf"),S=n("+1yX"),T=n("aW/o"),R=n("uf9I"),N=n("ntJl"),x=n("clTI"),M=n("P2f5"),P=n("HO/Y"),A=n("9cNQ"),D=n("0iF4"),L=n("HvGc"),q=n("E06p"),F={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},B={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"},U=Object(b.a)(function(){return new O.b({fetch:function(e,t){return Promise.map(t,function(t){return Object(y.dispatchForTeamId)(e,J({channelId:t})),Object(y.dispatchForTeamId)(e,ie({channelId:t}))})},isEnabled:function(){return!0},metricsName:"pins"})}),H=function(e){switch(e.type){case F.MESSAGE:return{type:e.type,channel:e.channel,ts:e.message.ts};case F.FILE:return{type:e.type,id:e.file?e.file.id:e.files[0].id};case F.FILE_COMMENT:return{type:e.type,id:e.comment.id,fileId:e.file.id};default:return{}}},K=function(e,t){return"message"===e.type?e.ts===t.ts&&e.channel===t.channel:e.id===t.id},G=Object(v.b)(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).refetchIfNeeded;if(void 0===n||n){var r=Object(R.b)(e);U().maybeRefetch(r,t)}return e&&e.pins&&e.pins.pinsByChannel[t]}),V=(Object(v.b)(function(e,t){return e&&e.pins&&e.pins.pinsByChannel[t]?e.pins.pinsByChannel[t].length:0}),Object(v.b)(function(e,t){return e&&e.pins&&e.pins.loadingStateByChannel[t]})),z=Object(v.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=Object(I.a)(e,n,r);if(!a)return!1;if(Object(w.ab)(a)&&a.comment){var i=Object(M.i)(e,a.file,a.comment.id);return!!i&&!(!i.pinned_to||!i.pinned_to.includes(n))}return!(!a.pinned_to||!a.pinned_to.includes(n))}),Y=function(e,t){switch(t.type){case F.MESSAGE:return d()({},Object(I.a)(e,t.channel,t.ts),{type:F.MESSAGE});case F.FILE:return d()({},Object(M.h)(e,t.id),{type:F.FILE});case F.FILE_COMMENT:return d()({},Object(M.i)(e,t.fileId,t.id),{fileId:t.fileId,type:F.FILE_COMMENT});default:return{}}},W=Object(v.b)(function(e,t){var n=G(e,t);return n?n.map(function(t){return Y(e,t)}):[]}),Q=Object(m.b)("Sets the current loading state for a channel");Q.propTypes=h.b.shape({loadingState:h.b.oneOf(Object.values(B)).isRequired,channelId:h.b.string.isRequired}).isRequired;var X=Object(m.b)("Adds pinned item identifiers for files and messages to list of pinned items");X.propTypes=h.b.shape({items:h.b.arrayOf(h.b.object).isRequired,channelId:h.b.string.isRequired}).isRequired;var Z=Object(m.b)("Remove an item from the pinned items list for a channel");Z.propTypes=h.b.shape({item:h.b.object.isRequired,channelId:h.b.string.isRequired}).isRequired;var J=Object(m.b)("Clears the existing pinned items for a channel and sets the loading state");J.propTypes=h.b.shape({channelId:h.b.string.isRequired}).isRequired;var $=Object(f.b)("pin a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.channelId,i=Object(x.d)(t(),a);Object(D.e)(r,i)});$.propTypes={fileId:h.b.string.isRequired,channelId:h.b.string.isRequired};var ee=Object(f.b)("unpin a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.channelId,i=Object(x.d)(t(),a);Object(D.g)(r,i)});ee.propTypes={fileId:h.b.string.isRequired,channelId:h.b.string.isRequired};var te=Object(f.b)("pin a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ts,a=n.channelId,i=t();if(Object(P.j)(i,"feature_sonic_pins")){var o={type:F.MESSAGE,channel:a,ts:r},s=Object(I.a)(i,a,r);return e(X({items:[o],channelId:a})),s&&e(Object(q.a)({item:{message:s},pinned:!0,channelId:a})),Object(S.a)(Object(T.a)(i))&&e(Object(L.e)({sectionId:"pins"})),e(Object(A.a)({ts:r,channelId:a,reason:"pin-message"})).catch(function(n){throw e(Z({item:o,channelId:a})),s&&e(Object(q.a)({item:{message:s},pinned:!1,channelId:a})),Object(_.a)({getState:t}).error("PINS","Pinning message "+r+" in "+a+" failed",n),n})}var c=Object(x.d)(i,a);return Promise.resolve(Object(D.f)(r,c))});te.propTypes={ts:h.b.string.isRequired,channelId:h.b.string.isRequired};var ne=Object(f.b)("unpin a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ts,a=n.channelId,i=t();if(Object(P.j)(i,"feature_sonic_pins")){var o={type:F.MESSAGE,channel:a,ts:r},s=Object(I.a)(i,a,r);return e(Z({item:o,channelId:a})),s&&e(Object(q.a)({item:{message:s},pinned:!1,channelId:a})),e(Object(A.c)({ts:r,channelId:a,reason:"unpin-message"})).catch(function(n){throw e(X({items:[o],channelId:a})),s&&e(Object(q.a)({item:{message:s},pinned:!0,channelId:a})),Object(_.a)({getState:t}).error("PINS","Unpinning message "+r+" in "+a+" failed",n),n})}var c=Object(x.d)(i,a);return Promise.resolve(Object(D.h)(r,c))});ne.propTypes={ts:h.b.string.isRequired,channelId:h.b.string.isRequired};var re=Object(f.b)("toggle message pin for a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ts,a=n.channelId,i=t();return z(i,{channelId:a,ts:r})?e(ne({ts:r,channelId:a})):e(te({ts:r,channelId:a}))});re.propTypes={ts:h.b.string.isRequired,channelId:h.b.string.isRequired};var ae=Object(f.b)("update a pin count for a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.count,i=t(),o=d()({},Object(x.d)(i,r));if(Object(P.j)(i,"feature_sonic_pins")){var s=G(i,r,{refetchIfNeeded:!1}),c=V(i,r)===B.LOADED?s.length:a;if(c===o.pinned_items_count)return;Object(_.a)({state:i}).info("PINS","Pins count updated for channel "+r+": "+c);var l=d()({},o,{pinned_items_count:c});e(Object(N.addChannel)({channel:l})),Object(D.i)(o,a)}else{if(o.pinned_items_count===a)return;Object(D.i)(o,a),e(Object(N.addChannel)({channel:o}))}});ae.propTypes={channelId:h.b.string.isRequired,count:h.b.number.isRequired};var ie=Object(f.b)("Fetch pinned items list for channel",function(e,t,n){var r=n.channelId;return e(Q({loadingState:B.LOADING,channelId:r})),e(Object(A.b)(d()({reason:"fetchPinsList"},n))).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).items,a=n.filter(function(e){return e.type.includes(F.FILE)}).map(function(e){if(e.type===F.FILE_COMMENT){var t=e.comment,n=e.file,r=l()(e,["comment","file"]),a=Object(k.a)(t,n);return d()({},r,{file:a})}return e}),i=n.filter(function(e){return e.type===F.MESSAGE});if(a.length){var o=a.filter(function(e){return e.type!==F.FILE_COMMENT}),s=a.filter(function(e){return e.type===F.FILE_COMMENT});e(Object(j.a)({files:o.map(function(e){return e.file})})),e(Object(j.a)({files:s.map(function(e){return e.file})}))}if(i.length){var c=i.map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message}),u=e(Object(E.a)({imsgs:c,channelId:r}));e(Object(C.a)(u))}e(ae({channelId:r,count:n.length})),e(X({items:n.map(H),channelId:r})),e(Q({loadingState:B.LOADED,channelId:r}));var b=Object(R.b)(t());U().markObjectsAsFresh(b,[r])}).catch(function(n){throw e(Q({loadingState:B.NOT_LOADED,channelId:r})),Object(_.a)({getState:t}).error("Error in fetchPinsList: "+JSON.stringify(n)),n})});ie.propTypes={channelId:h.b.string.isRequired};var oe=Object(f.b)("Fetch pinned items list for channel if not already fetched",function(e,t,n){return V(t(),n.channelId)!==B.NOT_LOADED?Promise.resolve():e(ie(n))});oe.propTypes={channelId:h.b.string.isRequired};var se=Object(g.b)((r={},s()(r,Q,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loadingState,r=t.channelId;return d()({},e,{loadingStateByChannel:d()({},e.loadingStateByChannel,s()({},r,n))})}),s()(r,X,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.items,r=t.channelId,a=e.pinsByChannel,o=a[r],c=void 0===o?[]:o,u=l()(a,[r]);if(!n)return e;if(c.length&&!n.length)return e;var b=Object(p.a)([].concat(i()(n),i()(c)),K);return d()({},e,{pinsByChannel:d()({},u,s()({},r,b))})}),s()(r,Z,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.item,r=t.channelId;if(!n||!r)return e;var a=e.pinsByChannel,i=a[r],o=l()(a,[r]);if(!i||!i.length)return e;var c=i.filter(function(e){return!K(e,n)});return d()({},e,{pinsByChannel:d()({},o,s()({},r,c))})}),s()(r,J,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId;return t?d()({},e,{loadingStateByChannel:d()({},e.loadingStateByChannel,s()({},t,B.NOT_LOADED)),pinsByChannel:d()({},e.pinsByChannel,s()({},t,void 0))}):e}),r),{pinsByChannel:{},loadingStateByChannel:{}},{persistenceEnabled:!0});se.propTypes={pinsByChannel:h.b.object,loadingStateByChannel:h.b.objectOf(h.b.oneOf(Object.values(B)))},t.d=se},"1u1e":function(e,t,n){},"1wUN":function(e,t,n){},"20gP":function(e,t,n){"use strict";n.d(t,"b",function(){return M}),n.d(t,"a",function(){return P});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("yPgC"),g=n("tn36"),_=n("TSYQ"),O=n.n(_),y=n("Py5X"),j=n("UnlJ"),k=n("TBq9"),E=n("yh68"),C=n("cRTT"),I=n("8yfr"),w=n("e4Fz"),S=n("fQ+F"),T=(f.b.arrayOf(f.b.shape({label:f.b.string.isRequired,value:f.b.oneOfType([f.b.string,f.b.number]).isRequired})).isRequired,f.b.string,f.b.array,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.func,f.b.oneOf([I.f.MEDIUM,I.f.LARGE]),f.b.oneOfType([f.b.string,f.b.number]),f.b.number,f.b.number,f.b.string,f.b.func,v.a.SlackKit.SelectState.isRequired,f.b.func.isRequired,f.b.object.isRequired,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.string,f.b.func,f.b.string,f.b.string,f.b.func,f.b.func,f.b.string,f.b.string,{selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,filter:S.a,selectId:"multi-select-"+Object(w.d)()}),R={renderOption:function(e){return e.label},size:I.f.MEDIUM,width:300,optionsRowHeight:I.a,maxHeight:92,placeholderText:"",emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:p.a,onKeyDown:p.a,className:void 0,classPrefix:void 0,onFilterQueryChange:p.a,onBlur:p.a,ariaLabelledBy:void 0,ariaDescribedBy:void 0},N=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(g.a)(n,["renderOptionsList"]),n.inputContainerRef=m.a.createRef();var r=e.selectState.selectId;return n.measurePopoverEventName="measureSelectPopover--"+r,n}return b()(t,e),c()(t,[{key:"renderOptionsList",value:function(){var e=this.props,t=e.selectState,n=e.setSelectState,r=e.renderOption,a=e.emptyStateMessage,i=e.width,o=e.inputRef,s=e.resultsInPopover,c=e.isLoading,l=e.classPrefix,u=e.selectDataQa,d=e.optionsRowHeight;return t.isDisabled?null:s?m.a.createElement(j.a,{selectState:t,setSelectState:n,renderOption:r,emptyStateMessage:a,width:i,multiSelectMode:!0,inputRef:o,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:c,classPrefix:l,selectDataQa:u,optionsRowHeight:d}):m.a.createElement(y.a,{selectState:t,setSelectState:n,renderOption:r,emptyStateMessage:a,width:i,multiSelectMode:!0,classPrefix:l,selectDataQa:u,optionsRowHeight:d})}},{key:"render",value:function(){var e=this.props,t=e.selectState,n=e.setSelectState,r=e.inputRef,a=e.maxHeight,i=e.placeholderText,o=e.size,s=e.width,c=e.isLoading,l=e.focusOnMount,u=e.resultsInPopover,d=e.onSelectedItemsChange,b=e.selectDataQa,p=e.onKeyDown,h=e.className,f=e.classPrefix,v=e.onFilterQueryChange,g=e.onBlur,_=e.ariaLabelledBy,y=e.ariaDescribedBy;return m.a.createElement("div",{className:O()(h,"c-multi-select"),"data-qa":b,ref:this.inputContainerRef},m.a.createElement(k.a,{selectState:t,setSelectState:n,size:o,width:s,maxHeight:a,placeholderText:i,isLoading:c,inputRef:r,focusOnMount:l,measurePopoverEventName:u&&this.measurePopoverEventName,onSelectedItemsChange:d,selectDataQa:b,onKeyDown:p,classPrefix:f,onFilterQueryChange:v,onBlur:g,ariaLabelledBy:_,ariaDescribedBy:y}),this.renderOptionsList())}}]),t}(h.Component);N.displayName="ControlledMultiSelect",N.defaultProps=R;var x=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterQuery:"",options:e.options,isDisabled:e.isDisabled,isExpanded:e.isExpanded,isInvalid:e.isInvalid,isRequired:e.isRequired,selectId:e.selectId,selectedOptions:e.selectedOptions||[]},n.inputRef=m.a.createRef(),Object(g.a)(n,["setSelectState"]),n}return b()(t,e),c()(t,[{key:"setSelectState",value:function(e,t){var n=this;this.setState(function(t){var r=e(),a=n.props,i=a.filter,o=a.options;return void 0!==r.filterQuery&&r.filterQuery!==t.filterQuery&&(r=i(o,r)),r},t)}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.isInvalid,r=e.isRequired;return m.a.createElement(N,a()({},this.props,{selectState:a()({},this.state,{isDisabled:t,isInvalid:n,isRequired:r}),setSelectState:this.setSelectState,inputRef:this.inputRef}))}}]),t}(h.Component);x.displayName="MultiSelect",x.defaultProps=T,t.c=x;var M=Object(E.a)(N),P=Object(E.a)(Object(C.a)(N))},"22dv":function(e,t,n){},"26ZP":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ITcr");function a(e){var t=e.type,n=e.tsfMode,a=void 0===n?"NORMAL":n;if(!t)return null;var i=void 0;return i="group"===t?"group":Object(r.b)(Object(r.a)("BK"+t)),"EDIT"===a?"<@BK"+t+"|@"+i+">":"@"+i}},"2HDu":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return u});var r=n("F294"),a=n("pRVB"),i=n("aLpA");function o(e,t){return e&&t?e+"-"+t:void 0}function s(e){if(!e)return{};var t=e.split("-");return{channelId:t[0],threadTs:t[1]}}function c(e){var t=Object(a.j)(e);if("thread"!==t&&"convo"!==t)return null;var n=Object(a.e)(e);return Object(r.a)(n)}function l(e){return e?e+"-thread-list":""}function u(e){return e===i.C.THREADS_FLEXPANE||e===i.C.THREADS_VIEW}},"2ILS":function(e,t,n){"use strict";var r=n("sk9p"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("fujP"),c=n("zmn3"),l=n("1myf"),u=n("S1sa"),d=n("Z3Pq"),b=n("vJtL"),p=n("aK/h"),h=n("yPgC"),m=n("XfeM"),f=n("XxO7"),v=n("uf9I"),g=n("0nhw"),_=n("5mKg"),O=n("k2C/"),y=n("dHuL"),j=n("om+M"),k=n("4zXV"),E=Object(j.a)("Fetch team payment/plan information",function(e){return e(Object(k.a)({method:"payments.status.get",reason:"payments-status-get"}))}),C=n("5fEN"),I=n("yHhI"),w=n("Q9r6"),S=n("D4L/");n.d(t,"g",function(){return R}),n.d(t,"j",function(){return N}),n.d(t,"k",function(){return x}),n.d(t,"i",function(){return M}),n.d(t,"a",function(){return P}),n.d(t,"h",function(){return A}),n.d(t,"l",function(){return D}),n.d(t,"c",function(){return L}),n.d(t,"b",function(){return q}),n.d(t,"m",function(){return F}),n.d(t,"f",function(){return B}),n.d(t,"d",function(){return U}),n.d(t,"e",function(){return K});var T=Object(m.b)("Update a team only if exists",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.update,i=t(),s=r||Object(v.b)(i),c=Object(S.i)(i,s,!1);if(Object(_.r)(c)){var l=Object(b.a)(a)?a(c):a;l&&e(Object(w.c)({team:o()({},c,l)}))}});T.propTypes={teamId:p.b.string,update:p.b.oneOfType([p.b.object,p.b.func]).isRequired};var R=Object(m.b)("Rename a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.name;e(T({teamId:r,update:{name:a}}))});R.propTypes={teamId:p.b.string,name:p.b.string.isRequired};var N=Object(m.b)("Update icon for a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.icon;e(T({teamId:r,update:{icon:a}}))});N.propTypes={teamId:p.b.string,icon:p.b.object.isRequired};var x=Object(m.b)("Update is_migrating for a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.isMigrating;e(T({teamId:r,update:{is_migrating:a}}))});x.propTypes={teamId:p.b.string.isRequired,isMigrating:p.b.bool.isRequired};var M=Object(m.b)("Update externalOrgMigrated (client-only property) for a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.externalOrgMigrated,i=n.isMigrating;e(T({teamId:r,update:{externalOrgMigrated:a,is_migrating:i}}))});M.propTypes={teamId:p.b.string.isRequired,externalOrgMigrated:p.b.bool.isRequired,isMigrating:p.b.bool.isRequired};var P=Object(m.b)("Delete team profile fields",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.fieldsToDelete,i=Object(d.a)(a);e(T({teamId:r,update:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;if(!e||!e.fields||!e.fields.length)return null;var t=e.fields;return{profile:o()({},e,{fields:t.filter(function(e){return void 0===i[e.id]})})}}}))});P.propTypes={teamId:p.b.string,fieldsToDelete:p.b.arrayOf(p.b.string).isRequired};var A=Object(m.b)("Reorder team profile fields",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.fields,i=Object(d.a)(a,"id");e(T({teamId:r,update:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;if(!e||!e.fields||!e.fields.length)return null;var t=Object(l.a)(Object(c.a)(e.fields,function(e){return i[e.id]?o()({},e,i[e.id]):e}),"ordering");return{profile:o()({},e,{fields:t})}}}))});A.propTypes={teamId:p.b.string,fields:p.b.arrayOf(h.a.TeamProfileField).isRequired};var D=Object(m.b)("Update team profile fields",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,i=n.fields;e(T({teamId:r,update:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;if(!e||!e.fields||!e.fields.length)return null;var t=Object(d.a)(e.fields,"id"),n=Object(u.a)(i,function(e){return void 0!==t[e.id]}),r=a()(n,2),s=r[0],b=r[1],p=Object(d.a)(s,"id"),h=e.fields;return s.length>0&&(h=Object(l.a)(Object(c.a)(e.fields,function(e){return p[e.id]?o()({},e,p[e.id]):e}),"ordering")),b.length>0&&(h=h.concat(b)),{profile:o()({},e,{fields:h})}}}))});D.propTypes={teamId:p.b.string,fields:p.b.arrayOf(h.a.TeamProfileField).isRequired};var L=Object(m.b)("Ensure team is known in org",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=void 0===r?null:r,i=n.additionalOptions,o=void 0===i?{}:i;return e(Object(g.g)({teamId:a,additionalOptions:o})).then(function(t){return e(Object(w.c)({team:t}))}).catch(function(){return!1})});L.propTypes=p.b.shape({teamId:p.b.string,additionalOptions:p.b.object});var q=Object(m.b)("Ensure team is known in org by domain",function(e,t,n){if(!n)return Promise.reject(new Error("ensureEnterpriseTeamByDomain: No domain provided!"));var r=Object(S.h)(t(),n);return r?Promise.resolve(r):e(L({teamId:null,additionalOptions:{domain:n}})).then(function(e){return e||Promise.reject(new Error("ensureEnterpriseTeamByDomain: Team not found"))})});q.propTypes=p.b.string,Object(m.b)('Upserts and sets the current user\u2019s team (workspace-level "team")',function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).team;if(!n||!n.id||!Object(O.a)(n.id))throw new Error("Invalid team model object passed into upsertSelfTeam");return e(Object(f.b)({id:n.id})),e(Object(w.c)({team:n}))}).propTypes={team:p.b.shape({id:h.a.TeamId})};var F=Object(m.b)('Upserts and sets the current user\u2019s enterprise org (org-level "team")',function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).team;if(!n||!n.id||!Object(O.b)(n.id))throw new Error("Invalid enterprise team model object passed into upsertSelfEnterprise.");return Object(O.b)(n.id)||Object(I.a)({getState:t}).error("Object with invalid enterprise id passed into upsertSelfEnterprise. Got enterprise id = "+n.id),e(Object(f.a)({id:n.id})),e(Object(w.c)({team:n}))});F.propTypes={team:p.b.shape({id:h.a.EnterpriseId})},Object(m.b)("Update self enterprise org name",function(e,t,n){if(!n)return Promise.reject(new Error("updateSelfEnterpriseName: No name provided"));var r=Object(S.g)(t());return!r||Object(_.M)(r)?Promise.reject(new Error("updateSelfEnterpriseName: Enterprise team not found")):e(Object(w.c)({team:o()({},r,{name:n})}))}).propTypes=p.b.string;var B=Object(m.b)("Get the profile for the current team",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(y.a)({reason:n})).then(function(n){if(!n||Object(s.a)(n.profile))return Promise.resolve();var r=t();return e(T({teamId:Object(v.b)(r),update:{profile:n.profile}}))})});B.propTypes={reason:p.b.string.isRequired};var U=Object(m.b)("Get local discount offers for the current team",function(e){return e(Object(C.c)()).then(function(t){if(!t||Object(s.a)(t.local_discount))return Promise.resolve();var n={country:t.local_discount.country,discountPercent:t.local_discount.discount_percent};return e(T({update:{localDiscountOffer:n}}))})}),H=0,K=Object(m.b)("Fetch team payment/plan information",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldUpsertTeam,a=void 0===r||r,i=n.forceUpdate,c=void 0!==i&&i,l=Date.now()-H;return c||l>864e5?e(E()).then(function(n){H=Date.now();var r={};if(!Object(s.a)(n)){var i=n.payment_method,c=n.provisions_status.term_info;if(r={paymentMethod:i||null,productTermEndTs:Object(s.a)(c)?null:c.end_ts},a){var l=t(),u=Object(S.d)(l);e(Object(w.c)({team:o()({},u,r)}))}}return r}):Promise.resolve()});K.propTypes={forceUpdate:p.b.bool,shouldUpsertTeam:p.b.bool}},"2Inn":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("zmn3"),o=n("aK/h"),s=n("AFNo"),c=n("+1yX"),l=n("aW/o"),u=n("7Ztl"),d=n("SZMM"),b=n("D4L/"),p=n("dYYP"),h=n("clTI"),m=n("6kok"),f=n("1YQg"),v=n("HO/Y"),g=n("k55U"),_=n("rWF5"),O=n("kOzZ"),y=n("zA5J"),j=n("HMjZ"),k=n("FN36"),E=n("4zXV"),C=n("wYji"),I=n("nNoG"),w=n("Yzeu"),S=n("jUSB"),T=n("pJ2S"),R=n("+rBa"),N=Object(s.f)("On call window closed",function(e,t,n){var r=Object(u.b)(t(),n);Object(S.a)(T.r),r.incomingInvite&&e(Object(R.b)({id:n,response:f.c.Reject}))}),x=n("x4bP");n.d(t,"a",function(){return A}),n.d(t,"c",function(){return L}),n.d(t,"b",function(){return q}),n.d(t,"e",function(){return B}),n.d(t,"d",function(){return K});var M=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,s)}c((r=r.apply(e,t||[])).next())})},P=new I.b("start_call"),A={height:576,width:1024,useContentSize:!0,minContentHeight:396,minContentWidth:704};function D(e){var t=e.teamId,n=e.callOrConversationId,r=e.incomingInviteUserId,a=e.outgoingInviteUserIds;Object(g.f)(!(r&&a),"Cannot both invite and be invited at the same time");var i="/calls/"+t+"/"+n;return r?i+"/"+r:a?i+"/"+a.join(","):i}var L=Object(s.f)("Insert a newly created call once we have a room id, copying from pending state",function(e,t,n){var r=n.roomId,i=n.windowId,o=t().allCalls.pending;if(o&&o[i]){var s=o[i],c=s.window;c?(c.onClose=function(){return e(N(r))},e(Object(u.j)(a()({id:r},s))),e(Object(u.i)(i))):Object(g.f)("No call window")}else Object(g.f)("No pending call state")}),q=Object(s.f)("Open the gantry call window",function(e,t,n){var r=n.callOrConversationId,o=n.incomingInvite,s=n.outgoingInvites,c=n.queryStringParams,l=n.windowOptions,h=t(),m=e(Object(d.d)({pathname:D({teamId:Object(b.d)(h).id,callOrConversationId:r,incomingInviteUserId:o?o.userId:void 0,outgoingInviteUserIds:s?Object(i.a)(s,"userId"):void 0}),queryStringParams:a()({},Object(x.a)()?null:{launchedFromLegacyUrl:window.location.href},c,Object(_.u)()&&o?void 0:{intentToJoinTimeMs:String(Date.now())}),windowOptions:a()({},l,{backgroundColor:"#000000",useContentSize:!0,webPreferences:{nativeWindowOpen:!0}})}));e(Object(u.h)({window:m,incomingInvite:o})),Object(f.j)(r)&&e(L({roomId:r,windowId:m.getId()})),e(Object(p.a)(m))});function F(e,t){var n=function(e,t){var n=Object(h.d)(e,t);if(Object(m.eb)(n))return[Object(m.G)(n)];if(Object(m.lb)(n)){var r=Object(v.b)(e);return Object(m.H)(n).filter(function(e){return e!==r})}}(e,t);if(n)return Object(i.a)(n,function(e){return{direction:f.b.Outgoing,userId:e}})}var B=Object(s.f)("Creates a new native call or joins an existing one, depending on the id passed",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.debugServerName,i=n.callId,o=n.channelId,s=t();Object(O.a)({state:s}).track("CALLS_USER_JOIN_INTENT",{room_id:i}),Object(y.a)("START-OR-JOIN-CALL").info("Attempting to start or join Slack call");var d=o||Object(l.a)(s);if(i||Object(c.a)(d)){if(i){var b=Object(u.b)(s,i);if(b&&b.dateEnd)return}var p=Object(u.g)();if(p)p.focus();else if(Object(w.b)())e(Object(w.d)(d));else if(Object(w.a)())e(Object(w.c)(d));else{var h=i?void 0:F(s,d),m=r?{debugServerName:r}:void 0;e(q({callOrConversationId:n.callId||d,outgoingInvites:h,queryStringParams:m,windowOptions:a()({},A)}))}}});B.propTypes=o.b.shape({callId:o.b.string,debugServerName:o.b.string});var U=Object(s.f)("Handle calls.request error",function(e,t,n){var r=n.text,a=n.conversationId;e(Object(C.b)({temporary:!0,message:{text:r,channel:a}}))}),H=Object(s.f)("Creates a new platform call",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M(void 0,void 0,void 0,regeneratorRuntime.mark(function r(){var a,i,o,s,c,u,d,b,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.channelId,i=t(),o=a||Object(l.a)(i),s=Object(k.a)(i,"calling_app_id"),c=Object(k.a)(i,"calling_app_name"),r.prev=5,r.next=8,e(Object(E.a)({method:"calls.request",reason:"call-button-clicked",args:{channel:o,app:s}}));case 8:u=r.sent,d=window.open(encodeURI(u.url),c);try{d.focus()}catch(t){Object(_.u)()||(b=P.t("Please allow pop-ups in your browser to make a call. You can <http://my.slack.com/help/requests/new|contact Slack> if you need help.",{fallbackHash:"3fdef2430e4c413f1c7ad15aa0f200067f6b0a5d",fallbackHashNs:"utility"}),e(U({text:b,conversationId:o})))}r.next=17;break;case 13:r.prev=13,r.t0=r.catch(5),p=r.t0.response||P.t("Darn, that didn\u2019t work. Try your call again or <http://my.slack.com/help/requests/new|contact us> if it\u2019s still not working.",{fallbackHash:"978df40dadeeb46bdb243a1f396d9233bc51c1b2",fallbackHashNs:"utility"}),e(U({text:p,conversationId:o}));case 17:case"end":return r.stop()}},r,this,[[5,13]])}))}),K=Object(s.f)("Creates a new platform or native call",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t();e(Object(j.f)(r)?H(n):B(n))});K.propTypes=o.b.shape({callId:o.b.string,debugServerName:o.b.string})},"2JjY":function(e,t,n){},"2Jxo":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=(n("aK/h"),n("XHGt")),_=n("N0/W"),O=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reloadFile=n.reloadFile.bind(n),n.state={fileIsFetching:!1},n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.alwaysFetchOnMount&&this.fetchFileInfo(this.props.fileId)}},{key:"componentWillReceiveProps",value:function(e){e.alwaysFetchOnMount&&e.fileId!==this.props.fileId&&this.fetchFileInfo(e.fileId)}},{key:"componentWillUnmount",value:function(){this.pendingPromise&&this.pendingPromise.cancel()}},{key:"fetchFileInfo",value:function(e){var t=this;if(!this.state.fileIsFetching&&e){this.setState(function(){return{fileIsFetching:!0}});var n=this.props.fetchAndUpsertFileById({fileId:e,reason:"file-subscription.fetchFileInfo"});this.pendingPromise=n.then(function(){t.setState(function(){return{fileIsFetching:!1}})}).catch(function(){t.setState(function(){return{fileIsFetching:!1}})}).finally(function(){t.pendingPromise=null})}}},{key:"reloadFile",value:function(){this.fetchFileInfo(this.props.fileId)}},{key:"render",value:function(){var e=this.props,t=(e.WrappedComponent,o()(e,["WrappedComponent"]));return v.a.createElement(this.props.WrappedComponent,a()({},this.state,t,{reloadFile:this.reloadFile}))}}]),t}(f.PureComponent);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(g.b)(function(n,r){return r.fileId?a()({},t,{WrappedComponent:e}):{WrappedComponent:e}},function(e){return{fetchAndUpsertFileById:function(){return e(_.e.apply(void 0,arguments))}}})(O)}O.displayName="FileSubscription",O.defaultProps={fileId:void 0,fetchAndUpsertFileById:m.a,alwaysFetchOnMount:!1}},"2LBZ":function(e,t,n){},"2SqV":function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("XHGt"),v=n("TSYQ"),g=n.n(v),_=n("D4L/"),O=n("6kok"),y=n("5mKg"),j=n("HO/Y"),k=n("nNoG"),E=n("kOzZ"),C=n("Ft5X"),I=new k.b("shared_channels"),w=(p.b.object.isRequired,p.b.object.isRequired,p.b.array.isRequired,p.b.bool,p.b.object.isRequired,p.b.bool,p.b.string,p.b.bool,p.b.bool,function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.maybeRenderLastChannelWarning=n.maybeRenderLastChannelWarning.bind(n),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clogger,n=e.showLastChannelWarning;t.track("SHARED_CHANNELS_STOP_SHARING_MODAL_OPEN",{is_last_channel_with_team:n,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_CHANNEL_OPTIONS_STOP_SHARING_OPTION",ui_component:"CHANNEL_OPTIONS_DIALOG"}}})}},{key:"maybeRenderLastChannelWarning",value:function(){var e=this.props.featureEscDisconnectV2ReleaseDependentCopy;if(!this.props.showLastChannelWarning||e)return null;var t=this.props.externalTeams.map(function(e){return e.name}),n=Object(k.h)(t,{react:!0,strong:!0});return m.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_error margin_bottom_150"},m.a.createElement("div",{className:"c-alert__message"},m.a.createElement("strong",null,I.rt("This is your only shared channel with {teamNames}",{teamNames:n})),m.a.createElement("br",null),I.t("If you stop sharing this channel, you won\u2019t be able to direct message members of their organization.")))}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.team,r=e.externalTeams,i=e.featureEscDisconnectV2ReleaseDependentCopy,o=e.featureLongerChannelNames,s=e.channelIsHostedByAnotherTeam,c=e.channelHostTeamName,l=r.map(function(e){return Object(y.e)(e)}),u=Object(k.h)(l,{react:!0,strong:!0}),d=Object(k.h)([Object(y.e)(n)].concat(a()(l)),{react:!0,strong:!0}),b=I.rt("Are you sure you want to stop sharing {channelName} with {teamNames}?",{channelName:m.a.createElement(C.a,{channel:t,strong:!0}),teamNames:u});i&&(b=s?I.rt("Are you sure you want to disconnect <strong>{teamName}</strong> from {channelName}?",{channelName:m.a.createElement(C.a,{channel:t,strong:!0}),teamName:Object(y.e)(n)}):I.rt("Are you sure you want to stop sharing {channelName}?",{channelName:m.a.createElement(C.a,{channel:t,strong:!0})}));var p=g()("p-channel-options--content_text",{"p-channel-options--content_text--wrap":o});return m.a.createElement("div",null,this.maybeRenderLastChannelWarning(),m.a.createElement("p",{className:"p-channel-options--content_text"},i&&s?I.t("You can disconnect from this shared channel at any time. Here\u2019s what will happen:"):I.t("You can stop sharing this channel at any time. Here\u2019s what will happen:")),i?m.a.createElement("ul",{className:"p-channel-options--content_text"},s?m.a.createElement(h.Fragment,null,m.a.createElement("li",null,I.t("You\u2019ll get an archived copy of the channel\u2019s contents.")),m.a.createElement("li",null,I.rt("<strong>{hostTeam}</strong> won\u2019t be able to share this channel again.",{hostTeam:c}))):m.a.createElement(h.Fragment,null,m.a.createElement("li",null,I.rt("<strong>{invitedTeamNames}</strong> will get an archived copy of the channel\u2019s contents up to this point.",{invitedTeamNames:u})),m.a.createElement("li",null,I.rt("Members of your organization can keep using this channel.")),m.a.createElement("li",null,I.rt("You won\u2019t be able to share this channel again.")))):m.a.createElement("ul",{className:"p-channel-options--content_text"},m.a.createElement("li",null,I.rt("{teamNames} will keep separate copies of this channel.",{teamNames:d})),m.a.createElement("li",null,I.t("Each organization can continue using their copy.")),m.a.createElement("li",null,I.t("Neither organization will be able to re-share this channel."))),m.a.createElement("p",{className:p},b))}}]),t}(h.PureComponent));w.displayName="StopSharingChannel",w.defaultProps={showLastChannelWarning:!1,channelIsHostedByAnotherTeam:!1,channelHostTeamName:"",featureEscDisconnectV2ReleaseDependentCopy:!1,featureLongerChannelNames:!1},t.a=Object(f.b)(function(e,t){var n=t.channel;return{team:Object(_.d)(e),externalTeams:Object(O.M)(e,n).map(function(t){return Object(_.i)(e,t)}),clogger:Object(E.a)({state:e}),channelIsHostedByAnotherTeam:Object(O.db)(e,n),featureEscDisconnectV2ReleaseDependentCopy:Object(j.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),featureLongerChannelNames:Object(j.j)(e,"feature_longer_channel_names"),channelHostTeamName:Object(O.A)(e,n)}})(w)},"2TYC":function(e,t,n){"use strict";var r=n("NFsq"),a=n("zmn3"),i=n("BeL+"),o=n("ifKl"),s=n("F294"),c=n("bPB8"),l=n("DtX9"),u=n("smxp"),d=n("zfae"),b=n("P2f5"),p=n("clTI"),h=n("VjHM"),m=n("HO/Y"),f=n("7Ztl"),v=n("1tet"),g=n("hOQf"),_=n("8dKT"),O=n("Q+UV"),y=n("Jnln"),j=n("6kok"),k=n("Fdc0"),E=n("jnHx"),C=n("lm1E"),I=n("mVkb"),w=n("05v1"),S=n("nNoG"),T=new S.b("threads");var R=n("u97G"),N=n("xJ6S"),x=n("4TVd"),M=n("Xthn"),P=n("P9LH"),A=new S.b("message"),D={addedCommentedPossessive:function(e){return A.t("added and commented on {uploader_name_possessive_html} {file_pretty_name} snippet",e)},uploadedCommentedPossessive:function(e){return A.t("uploaded and commented on {uploader_name_possessive_html} {file_pretty_name} snippet",e)},addedPossessive:function(e){return A.t("added {uploader_name_possessive_html} {file_pretty_name} snippet",e)},uploadedPossessive:function(e){return A.t("uploaded {uploader_name_possessive_html} {file_pretty_name} snippet",e)},mentionedPossessive:function(e){return A.t("mentioned {uploader_name_possessive_html} {file_pretty_name} snippet",e)},sharedPossessive:function(e){return A.t("shared {uploader_name_possessive_html} {file_pretty_name} snippet",e)},addedCommented:function(e){return A.t("added and commented on this {file_pretty_name} snippet",e)},uploadedCommented:function(e){return A.t("uploaded and commented on this {file_pretty_name} snippet",e)},added:function(e){return A.t("added this {file_pretty_name} snippet",e)},uploaded:function(e){return A.t("uploaded this {file_pretty_name} snippet",e)},mentioned:function(e){return A.t("mentioned this {file_pretty_name} snippet",e)},shared:function(e){return A.t("shared this {file_pretty_name} snippet",e)}},L={addedCommentedPossessive:function(e){return A.t("added and commented on {uploader_name_possessive_html} email",e)},uploadedCommentedPossessive:function(e){return A.t("uploaded and commented on {uploader_name_possessive_html} email",e)},addedPossessive:function(e){return A.t("added {uploader_name_possessive_html} email",e)},uploadedPossessive:function(e){return A.t("uploaded {uploader_name_possessive_html} email",e)},mentionedPossessive:function(e){return A.t("mentioned {uploader_name_possessive_html} email",e)},sharedPossessive:function(e){return A.t("shared {uploader_name_possessive_html} email",e)},addedCommented:function(){return A.t("added and commented on this email",{fallbackHash:"75f64df1dd40efa14ed0193e752d4f0db4799b0a"})},uploadedCommented:function(){return A.t("uploaded and commented on this email",{fallbackHash:"b6b70e1a20fbded111fbde8015f871bb27d6a551"})},added:function(){return A.t("added this email",{fallbackHash:"eb38c1f55d9beda94c94946b567d0dae613c1b93"})},uploaded:function(){return A.t("uploaded this email",{fallbackHash:"cd4d0769a216c63e342fb01fc575d1c768b2d046"})},mentioned:function(){return A.t("mentioned this email",{fallbackHash:"ff57fddd2500258905a124d4c38152c734082f9c"})},shared:function(){return A.t("shared this email",{fallbackHash:"cda197676d33bd707390de7c62ce3a8eeea75685"})}},q={addedCommentedPossessive:function(e){return A.t("added and commented on {uploader_name_possessive_html} post",e)},uploadedCommentedPossessive:function(e){return A.t("uploaded and commented on {uploader_name_possessive_html} post",e)},addedPossessive:function(e){return A.t("added {uploader_name_possessive_html} post",e)},uploadedPossessive:function(e){return A.t("uploaded {uploader_name_possessive_html} post",e)},mentionedPossessive:function(e){return A.t("mentioned {uploader_name_possessive_html} post",e)},sharedPossessive:function(e){return A.t("shared {uploader_name_possessive_html} post",e)},addedCommented:function(){return A.t("added and commented on this post",{fallbackHash:"c1bac3654abe753bb61273fed531d0b0c96b3d21"})},uploadedCommented:function(){return A.t("uploaded and commented on this post",{fallbackHash:"ef1acee29c55c66d8396c4cf33d8a4c435410c2f"})},added:function(){return A.t("added this post",{fallbackHash:"2323350547f905d10ed8ad37722a78a2ddb28910"})},uploaded:function(){return A.t("uploaded this post",{fallbackHash:"676b8c3136ac618b4a8015154d87b038de264e39"})},mentioned:function(){return A.t("mentioned this post",{fallbackHash:"8b632d4477dd754bef33948b29aae08329d53266"})},shared:function(){return A.t("shared this post",{fallbackHash:"b37799e71cb01d7ab339a7d001f64a6b3a623825"})}},F={addedCommentedPossessive:function(e){return A.t("added and commented on {uploader_name_possessive_html} image",e)},uploadedCommentedPossessive:function(e){return A.t("uploaded and commented on {uploader_name_possessive_html} image",e)},addedPossessive:function(e){return A.t("added {uploader_name_possessive_html} image",e)},uploadedPossessive:function(e){return A.t("uploaded {uploader_name_possessive_html} image",e)},mentionedPossessive:function(e){return A.t("mentioned {uploader_name_possessive_html} image",e)},sharedPossessive:function(e){return A.t("shared {uploader_name_possessive_html} image",e)},addedCommented:function(){return A.t("added and commented on this image",{fallbackHash:"9a205b2469dad02b6fa31d91e5cc6430b8b3761c"})},uploadedCommented:function(){return A.t("uploaded and commented on this image",{fallbackHash:"1208be89eca6c305cfa5da4655c1189a5fe6e2a6"})},added:function(){return A.t("added this image",{fallbackHash:"21285b404e2818b808431403ae9afbb7cf938fe2"})},uploaded:function(){return A.t("uploaded this image",{fallbackHash:"08c671caeec171c6248b48a30659910f16cf7c3f"})},mentioned:function(){return A.t("mentioned this image",{fallbackHash:"b935a8bdc1648a773653f60df86c82b69b5aac05"})},shared:function(){return A.t("shared this image",{fallbackHash:"ddd64b85b06efc054e1fb3802e7237655aceb18f"})}},B={addedCommentedPossessive:function(e){return A.t("added and commented on {uploader_name_possessive_html} file",e)},uploadedCommentedPossessive:function(e){return A.t("uploaded and commented on {uploader_name_possessive_html} file",e)},addedPossessive:function(e){return A.t("added {uploader_name_possessive_html} file",e)},uploadedPossessive:function(e){return A.t("uploaded {uploader_name_possessive_html} file",e)},mentionedPossessive:function(e){return A.t("mentioned {uploader_name_possessive_html} file",e)},sharedPossessive:function(e){return A.t("shared {uploader_name_possessive_html} file",e)},addedCommented:function(e){return A.t("added and commented on this file",e)},uploadedCommented:function(e){return A.t("uploaded and commented on this file",e)},added:function(e){return A.t("added this file",e)},uploaded:function(e){return A.t("uploaded this file",e)},mentioned:function(e){return A.t("mentioned this file",e)},shared:function(e){return A.t("shared this file",e)}};var U=n("GGbT"),H=n("82mD"),K=n("qc8s"),G=n("XzsM"),V=n("1YQg"),z=n("Qv4Q"),Y=n("bHK9"),W=n("uf9I"),Q=n("rzSx"),X=n("G+bj"),Z=n("UOab"),J=n("fdJE"),$=n("AC1r");n.d(t,"b",function(){return se}),n.d(t,"a",function(){return ce});var ee=new S.b("message"),te=new S.b("files"),ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=Object(u.a)(e,n,r);return a&&a.text?ae(e,a):null};function re(e,t){var n=t.user,r=Object(l.c)(e,n);return Object(k.P)(e,r)}function ae(e,t){return Object(X.a)(t.blocks)?Object(Z.a)(e,t.blocks,{convertEmoji:"phrase"}):t.text?Object(J.a)(e,t.text):""}function ie(e,t,n){var r=n.messageSubtype,a=n.messageText,i=Object(h.g)(e,"expand_inline_imgs"),o=Object(h.g)(e,"expand_non_media_attachments");return t?Object(c.a)(t.map(function(t){if(!Object(y.h)({attachment:t,messageSubtype:r,messageText:a,expandInlineImgsPref:i,expandNonMediaAttachmentsPref:o}))return null;var n=[];return t.pretext&&n.push(t.pretext),t.author_name&&n.push(t.author_name),t.title&&n.push(t.title),t.is_msg_unfurl?n.push(function(e,t){var n=Object(k.Q)(e,t.author_id,!0,!1),r=Object(H.o)(e,t.ts),a=Object(j.w)(Object(p.d)(e,t.channel_id)),i=Object(J.a)(e,t.text);return t.is_reply_unfurl?ee.t("{authorName} replied to a thread in {channelName} on {date}: {messageText}",{authorName:Object(S.n)(n),date:r,channelName:a,messageText:Object(S.n)(i)}):ee.t("{authorName} on {date} in {channelName}: {messageText}",{authorName:Object(S.n)(n),date:r,channelName:a,messageText:Object(S.n)(i)})}(e,t)):"twitter"===t.service_name?n.push(function(e,t){return t.service_name+" "+t.author_name+" "+t.author_subname+" "+Object(J.a)(e,t.text)+" "+Object(H.o)(e,t.ts)+"."}(e,t)):t.from_url?n.push(function(e,t){var n=t.text?Object(J.a)(e,t.text):"";return t.original_url+" "+n+"."}(e,t)):n.push(function(e,t){var n=[];return t.text&&n.push(Object(J.a)(e,t.text)),t.fields&&t.fields.length>0&&n.push(t.fields.map(function(e){return e.title+": "+e.value}).join("; ")),n.join(" ")}(e,t)),n.join(" ")})):[]}function oe(e,t){var n=Object(m.j)(e,"feature_sonic_emoji"),r=Object(W.b)(e);return t.replace(Object(z.c)(),function(t){return a=t,(n?Object(Y.l)(e,{text:a,teamId:r}):Object(Q.e)(a))?Object($.a)(t,{featureSonicEmoji:n}):t;var a})}function se(e,t,n){var r=Object(g.Q)(e,t),a=re(e,n),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.file,r=t.isUpload,a=t.userId,i=Object(P.p)(n),o=r,s=!o&&n.user!==a,c=!!n.initial_comment;return s?e.sharedPossessive:o?"snippet"===i?c?e.addedCommented:e.added:c?e.uploadedCommented:e.uploaded:e.shared}(function(e){if(!e)return null;switch(Object(P.p)(e)){case"snippet":return D;case"email":return L;case"post":return q;case"image":return F;default:return B}}(n),{file:n,subtype:Object(g.M)(t),isUpload:t.upload,userId:r.userId});if(!i)return null;var o=n.pretty_type||te.t("file");return i({uploader_name_possessive_html:ee.t("{uploader_name}{uploader_name_affix}",{uploader_name:a,uploader_name_affix:Object(S.m)(a)}),file_pretty_name:o})}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ts,c=t.channelId,y=t.previousMessageTs,S=t.rollup,P=Object(u.a)(e,c,n),A=Object(p.d)(e,c);if(!P||!A)return null;var D=P.files,L=Object(b.h)(e,Object(s.a)(D)),q=Object(g.M)(P),F=Object(_.a)(q),B=Object(g.Q)(e,P),H=Object(m.b)(e);if(q&&!F&&-1===["bot_message","me_message","file_comment","file_mention","file_share","file_upload","thread_broadcast","channel_join","channel_leave","group_join","group_leave","tombstone"].indexOf(q))return null;var z="",Y=null;if(-1!==["channel_join","channel_leave","group_join","group_leave"].indexOf(q)){var W=Object(x.a)(e,S);z=Object(N.a)({plainText:!0,rollup:W,channel:A,user:B.userId,isAppUser:Object(k.bb)(Object(l.c)(e,B.userId)),i18nReplaceCallback:o.a}).join("")}else if(-1!==["sh_room_shared","sh_room_created"].indexOf(q)){var Q="sh_room_shared"===q?ee.t("Shared a call"):ee.t("Started a call"),X=P._call_id,Z=Object(f.b)(e,X);if(Z){var $=Z.name?Z.name:"",te=Object(f.f)(Z),ce=Object(U.a)({dateEnd:Z.endTimestamp,isDmCall:Z.isDmCall,wasMissed:Z.callObjectInviteResponse===V.c.Missed,wasRejected:Z.callObjectInviteResponse===V.c.Reject,isCreator:H===Z.createdBy,isParticipant:-1!==te.indexOf(H),dmCallName:Object(f.e)(e,X),participantsCount:te.length});z="sh_room_shared"===q&&$?ee.t("Shared a call: {callName}. {callDescription}.",{callName:$,callDescription:ce}):"sh_room_shared"===q?ee.t("Shared a call. {callDescription}.",{callDescription:ce}):$?ee.t("Started a call: {callName}. {callDescription}.",{callName:$,callDescription:ce}):ee.t("Started a call. {callDescription}.",{callDescription:ce})}else z=Q}else if(F){var le=Object(m.j)(e,"feature_sli_channel_archive_suggestions"),ue=Object(m.j)(e,"feature_wta_conversations_api_channel_created_msg"),de=le&&"sli_channel_archive_suggestions"===Object(G.c)(e,"sli_channel_archive_suggestions"),be=Object(l.b)(e);z=Object(E.a)({message:P,channel:A,member:be,inSliChannelArchiveSuggestionsExperiment:de,featureWtaConversationsApiChannelCreated:ue}),z=Object(J.a)(e,z)}else if(L&&-1!==["file_mention","file_share","file_upload","file_comment"].indexOf(q)){var pe=L.user,he=re(e,L);if("file_comment"===q){var me=pe!==P.comment.user,fe=Object(u.a)(e,c,y),ve=Object(C.a)({plainText:!0,isFollowup:Object(I.a)(P,fe),fileMode:L.mode,fileLink:L.title?L.title:L.name,userId:me?pe:null,userName:me?he:null,userLink:me?he:null});(Y=P.comment&&L&&Object(b.i)(e,L.id,P.comment.id))&&(z=Object(J.a)(e,ve+" "+Y.comment))}else{z=ne(e,{channelId:c,ts:P.ts});var ge=se(e,P,L);ge&&(z=ge+": "+(L.title?L.title:L.name))}}else if("thread_broadcast"===q){var _e=Object(u.a)(e,c,P.thread_ts),Oe=Object(g.L)(_e);if(_e&&_e.files&&_e.files.length){var ye=Object(s.a)(_e.files),je=Object(b.h)(e,ye);Oe=Object(g.L)(_e,je)}var ke=[],Ee=0;_e&&(ke=_e.reply_users?_e.reply_users:Object(i.a)(Object(a.a)(_e.replies||[],"user")),Ee=_e.reply_users_count?_e.reply_users_count:ke.length);var Ce=_e?_e.reply_count:null,Ie=Object(r.a)(ke,H),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.names,n=e.replyCount,r=e.replyUsersCount,a=e.repliersIncludesSelf;return n&&r?1===n?T.t("1 reply"):1===r?a?T.t("{reply_count, plural, =1{1 reply} other{# replies}} from you",{reply_count:n}):T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name}",{reply_count:n,user_name:t[0]}):2===r?a?T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name} and you",{reply_count:n,user_name:t[0]}):T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1} and {user_name2}",{reply_count:n,user_name1:t[0],user_name2:t[1]}):3===r?a?T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and you",{reply_count:n,user_name1:t[0],user_name2:t[1]}):T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and {user_name3}",{reply_count:n,user_name1:t[0],user_name2:t[1],user_name3:t[2]}):T.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and {num_others, plural, =1{# other} other{# others}}",{reply_count:n,user_name1:t[0],user_name2:t[1],num_others:r-2}):""}({names:Object(w.a)(e,ke),replyCount:Ce,replyUsersCount:Ee,repliersIncludesSelf:Ie}),Se=ae(e,P);z=Object(R.a)()+" "+Oe+" "+we+" "+Se}else z=ne(e,{channelId:c,ts:P.ts});var Te=Object(O.b)(P,L),Re=Object(g.E)(P),Ne=ie(e,Re,{messageSubtype:q,messageText:P.text}),xe={name:"",time:Object(K.a)(P.ts,{do24hrTime:Object(h.g)(e,"time24"),includeSeconds:!1}),text:z&&oe(e,z),channelName:Object(j.w)(Object(p.d)(e,c)),reactionCount:Object(d.g)(e,Te),replyCount:P.reply_count,isPinned:Object(v.j)(e,{channelId:c,ts:n}),isStarred:Object(g.nb)(P,L,Y),isTombstone:Object(g.sb)(P),attachmentCount:Re?Re.length:0,attachmentTexts:Ne};return xe.name=Object(M.a)(e,{userId:B.userId,botId:B.botId,username:B.username,botProfile:P.bot_profile}),xe}},"2Y1Y":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"b",function(){return p}),n.d(t,"i",function(){return h});var r=n("ifKl"),a=n("ROZo"),i=(Object(a.b)("TS.utility.contenteditable.clear",r.a),Object(a.b)("TS.utility.contenteditable.create",r.a)),o=(Object(a.b)("TS.utility.contenteditable.unload",r.a),Object(a.b)("TS.utility.contenteditable.focus",r.a)),s=Object(a.b)("TS.utility.contenteditable.value",function(){return""}),c=Object(a.b)("TS.utility.contenteditable.hasFocus",function(){return!1}),l=Object(a.b)("TS.utility.contenteditable.isTextSelected",function(){return!1}),u=Object(a.b)("TS.utility.contenteditable.getLength",function(){return 0}),d=Object(a.b)("TS.utility.contenteditable.getDisplayTextForRange"),b=(Object(a.b)("TS.utility.contenteditable.setCursorAtEnd",r.a),Object(a.b)("TS.utility.contenteditable.isEmpty",!1)),p=Object(a.b)("TS.utility.contenteditable.cursorPosition",function(){return{start:0,end:0,length:0}}),h=Object(a.b)("TS.utility.contenteditable.legacySynchronouslyReplacePotentialMentions",function(e){return e});Object(a.b)("TS.utility.contenteditable.enable",r.a),Object(a.b)("TS.utility.contenteditable.disable",r.a),Object(a.b)("TS.utility.contenteditable.deleteSelection",r.a),Object(a.b)("TS.utility.contenteditable.clearHistory",r.a),Object(a.b)("TS.utility.contenteditable.placeholder",r.a),Object(a.b)("TS.utility.contenteditable.inlineEmojiIsEnabled",r.a)},"2Zgd":function(e,t,n){"use strict";n.d(t,"m",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"l",function(){return f});var r=n("ROZo"),a=Object(r.b)("TS.utility.msgs.setMsgs"),i=Object(r.b)("TS.utility.msgs.ingestMessagesFromBootData"),o=Object(r.b)("TS.utility.msgs.constructAbsoluteMsgPermalink",function(){return""}),s=Object(r.b)("TS.utility.msgs.constructConversationPermalink",function(){return""}),c=Object(r.b)("TS.utility.msgs.getMsgActions",function(){return{}}),l=Object(r.b)("TS.utility.msgs.countAllUnreads",function(){return null}),u=Object(r.b)("TS.utility.msgs.legacyMsgChangedWorker",function(){return!1}),d=Object(r.b)("TS.utility.msgs.legacyMsgDeletedWorker",function(){return!1}),b=Object(r.b)("TS.utility.msgs.legacyReplaceMsg",function(){return!1}),p=Object(r.b)("TS.utility.msgs.findMsg"),h=Object(r.b)("TS.utility.msgs.legacyGetChannelsWithUnreads",function(){return[]}),m=(Object(r.b)("TS.utility.msgs.legacyGetAllUnreadCnt",function(){return 0}),Object(r.b)("TS.utility.msgs.legacyIsChannelsWithUnreadsReady",function(){return!1})),f=Object(r.b)("TS.utility.msgs.legacySetChannelsWithUnreadsReady")},"2fzK":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("tRvn");function a(){return Object(r.a)(document.activeElement)}},"2jER":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("vJtL"),h=n("ifKl"),m=n("kxpR"),f=n.n(m),v=(n("aK/h"),n("tn36")),g=n("+qWH");t.a=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?void 0:n,i=function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Object(v.a)(t,["setRef","removeFromSectionNavigation","addToSectionNavigation","setInitialActiveSection","resetSectionNavigation"]),t}return b()(n,t),c()(n,[{key:"componentDidMount",value:function(){this.props.registerSection(this.props.id,{focus:this.wrappedComponent.focus},this.props.index)}},{key:"componentWillUnmount",value:function(){this.props.unregisterSection(this.props.id)}},{key:"setRef",value:function(e){this.wrappedComponent=e;var t=this.props.forwardedRef;t&&(Object(p.a)(t)?t(e):t.current=e)}},{key:"setInitialActiveSection",value:function(){this.props.setInitialActiveSection(this.props.id)}},{key:"removeFromSectionNavigation",value:function(){this.props.unregisterSection(this.props.id)}},{key:"resetSectionNavigation",value:function(){this.props.resetSectionNavigation()}},{key:"addToSectionNavigation",value:function(){this.props.registerSection(this.props.id,{focus:this.wrappedComponent.focus},this.props.index)}},{key:"render",value:function(){return f.a.createElement(e,a()({ref:this.setRef},this.props.childProps,{removeFromSectionNavigation:this.removeFromSectionNavigation,addToSectionNavigation:this.addToSectionNavigation,setInitialActiveSection:this.setInitialActiveSection,resetSectionNavigation:this.resetSectionNavigation}))}}]),n}(m.PureComponent);return i.displayName="Section",i.defaultProps={children:null,childProps:{},forwardedRef:void 0,index:void 0,registerSection:h.a,unregisterSection:h.a,setInitialActiveSection:h.a,resetSectionNavigation:h.a},f.a.forwardRef(function(e,n){return f.a.createElement(g.a.Consumer,null,function(a){var o=a.registerSection,s=a.unregisterSection,c=a.setInitialActiveSection,l=a.resetSectionNavigation;return f.a.createElement(i,{forwardedRef:n,id:t,index:r,childProps:e,registerSection:o,unregisterSection:s,setInitialActiveSection:c,resetSectionNavigation:l})})})}},"2lnT":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("gSGL"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("9rZX"),_=n.n(g),O=n("TSYQ"),y=n.n(O),j=n("tn36"),k=n("XHGt"),E=n("HO/Y"),C=n("DTT0"),I=n("XLFM"),w=n("od5y"),S=n("iB/r"),T=n("yHhI"),R=n("nNoG"),N=n("DD2j"),x=n("0f2Y"),M=n("RMmo"),P=n("RAhH");n("mvS9");var A=new R.b("generic_dialog"),D=(m.b.oneOfType([m.b.string,m.b.array]),m.b.string,m.b.string,m.b.string,m.b.func,m.b.func,{bodyText:void 0,cancelButtonText:void 0,continueButtonText:void 0,continueButtonType:"danger",onCancel:p.a,onContinue:p.a}),L=function(e){function t(e){o()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCancel=n.onCancel.bind(n),n.state={isHidden:!0},n.speedBump=null,n}return b()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame(function(){requestAnimationFrame(function(){e.setState(function(){return{isHidden:!1}})})})}},{key:"onCancel",value:function(){var e=this;this.setState(function(){return{isHidden:!0}},function(){var t,n,r;(t=e.speedBump,n="transform",new Promise(function(e,a){var i=function r(a){a.propertyName===n&&(e(a),t.removeEventListener("transitionend",r))};t.addEventListener("transitionend",i),r&&r>0&&setTimeout(function(){a(new Error("maxWaitTime exceeded")),t.removeEventListener("transitionend",i)},r)})).then(e.props.onCancel)})}},{key:"render",value:function(){var e=this,t=A.t("Your work won't be saved \u2014 are you sure you want to close?"),n=A.t("Keep Editing"),r=A.t("Close"),a=this.props,i=a.bodyText,o=void 0===i?t:i,s=a.cancelButtonText,c=void 0===s?n:s,l=a.continueButtonText,u=void 0===l?r:l,d=a.continueButtonType,b=a.onContinue,p=this.state.isHidden,h=y()("c-dialog_speed_bump_overlay",{"c-dialog_speed_bump_overlay--hidden":p}),m=y()("c-dialog_speed_bump",{"c-dialog_speed_bump--hidden":p});return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:h}),v.a.createElement("div",{className:"c-dialog_speed_bump_wrapper"},v.a.createElement("div",{className:m,ref:function(t){e.speedBump=t}},v.a.createElement("h3",{className:"c-dialog_speed_bump__body_text"},o),v.a.createElement("div",{className:"c-dialog_speed_bump__button_row"},v.a.createElement(I.d,{autoFocus:!0,className:"c-dialog_speed_bump__button",onClick:this.onCancel,"data-qa":"dialog_speed_bump_cancel",tabIndex:"0",type:"outline"},c),v.a.createElement(I.d,{className:"c-dialog_speed_bump__button",onClick:b,"data-qa":"dialog_speed_bump_continue",tabIndex:"0",type:d},u)))))}}]),t}(v.a.PureComponent);L.displayName="DialogSpeedBump";var q=L;L.defaultProps=D;n("K2X0");var F=new R.b("generic_dialog"),B=(m.b.object,m.b.any.isRequired,m.b.string,m.b.string,m.b.string,m.b.string,m.b.string,m.b.string,m.b.number,m.b.string,m.b.string,m.b.string,m.b.string,m.b.node,m.b.func,m.b.string,m.b.string,m.b.node,m.b.bool,m.b.bool,m.b.bool,m.b.func,m.b.func,m.b.func,m.b.func,m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.node,m.b.string,m.b.bool,m.b.bool,m.b.string,m.b.bool,m.b.func,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.func,m.b.oneOfType([m.b.string,m.b.array]),m.b.string,m.b.string,m.b.string,m.b.bool,m.b.bool,m.b.node,m.b.bool,{ariaContent:void 0,cancelButtonType:"outline",cancelText:void 0,overlayClassName:void 0,bodyClassName:void 0,modalBodyOpenClassName:void 0,className:void 0,contentHeight:void 0,contentLabel:void 0,"data-qa":"dialog",footerIcon:void 0,footerLink:void 0,footerText:void 0,onFooterLinkClick:void 0,goButtonType:"primary",goButtonText:void 0,goButtonTooltip:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goOnEnterPressed:!0,onCancel:p.a,onClose:p.a,onGo:p.a,onScroll:p.a,role:"dialog",showCancelButton:!0,showCloseButton:!0,showGoButton:!0,showHeader:!0,showFooter:!0,showTooltipOnCloseButton:!1,title:void 0,titleAria:null,useSlackScrollbar:!0,useSlackScrollbarWithPadding:!1,titleImage:void 0,truncateTitle:!0,closeModal:p.a,featureDialogSpeedBump:!1,shouldCloseOnOverlayClick:!0,shouldCloseOnGo:!0,shouldCloseOnCancel:!0,getShouldShowSpeedBump:p.a,speedBumpBodyText:void 0,speedBumpCancelButtonText:void 0,speedBumpContinueButtonType:"danger",speedBumpContinueButtonText:void 0,isSpeedBumpEnabled:!0,reverseButtons:!1,customFooterContent:void 0,invertCloseButton:!1});var U=function(e){function t(e){o()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(j.a)(n,["onScroll","setBodyRef","updateScrollState","onRequestGo","onGo","onEnter","onRequestClose","onRequestCancel","onCancel","onEscape","setModalRef"]),n.keyCommands=null,n.scroller=null,n.state={hasOverflow:null,scrolledToBottom:null,scrolledToTop:null},n}return b()(t,e),u()(t,null,[{key:"getDerivedStateFromProps",value:function(e){return e.isSpeedBumpEnabled?null:{isShowingSpeedBump:!1,speedBumpButton:""}}}]),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.goOnEnterPressed;window.addEventListener("scroll",this.onScroll);var t=void 0;this.modal&&this.modal.node&&(t=this.modal.node),this.keyCommands=new M.a(t);var n=[];e&&n.push({keys:["enter"],handler:this.onEnter}),n.push({keys:["escape"],handler:this.onEscape}),this.keyCommands.bindAll(n),1}},{key:"componentDidUpdate",value:function(){requestAnimationFrame(this.updateScrollState)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),this.keyCommands&&this.keyCommands.reset(),1}},{key:"onRequestClose",value:function(){var e=this.props,t=e.featureDialogSpeedBump,n=e.getShouldShowSpeedBump,r=e.isSpeedBumpEnabled,a=e.onClose;t&&n("close")&&r?this.setState(function(){return{isShowingSpeedBump:!0,speedBumpButton:"close"}}):!1!==a()&&this.props.closeModal()}},{key:"onRequestCancel",value:function(){var e=this.props,t=e.featureDialogSpeedBump,n=e.getShouldShowSpeedBump,r=e.isSpeedBumpEnabled;t&&n("cancel")&&r?this.setState(function(){return{isShowingSpeedBump:!0,speedBumpButton:"cancel"}}):this.onCancel()}},{key:"onRequestGo",value:function(e){var t=this.props,n=t.featureDialogSpeedBump,r=t.getShouldShowSpeedBump,a=t.isSpeedBumpEnabled;n&&r("go")&&a?this.setState(function(){return{isShowingSpeedBump:!0,speedBumpButton:"go"}}):this.onGo(e)}},{key:"onCancel",value:function(){var e=this.props,t=e.onClose,n=e.onCancel,r=e.shouldCloseOnCancel;!1!==n()&&r&&(t(),this.props.closeModal())}},{key:"onGo",value:function(e){var t=this,n=this.props,r=n.onGo,a=n.onClose,i=n.shouldCloseOnGo;e.defaultPrevented||Promise.resolve(r()).then(function(e){!1!==e&&i&&(a(),t.props.closeModal())})}},{key:"onEnter",value:function(e){var t=e&&e.target&&e.target.tagName;"BUTTON"!==t&&"A"!==t&&"INPUT"!==t&&this.onRequestGo(e)}},{key:"onEscape",value:function(e){e.defaultPrevented||(e.stopPropagation(),this.onRequestClose())}},{key:"onScroll",value:function(e){this.scroller&&(requestAnimationFrame(this.updateScrollState),this.props.onScroll({scrollTop:this.scroller.scrollTop},e))}},{key:"setBodyRef",value:function(e){this.scroller=e}},{key:"setModalRef",value:function(e){this.modal=e}},{key:"getScrollHeight",value:function(){var e=this.props.contentHeight;return e!==B.contentHeight?e:this.scroller.scrollHeight}},{key:"getTitleAria",value:function(){var e=this.props,t=e.contentLabel,n=e.title,r=e.titleAria,a="";return t?a=t:Object(h.a)(n)?a=n:r?a=r:Object(T.b)().warn('You should pass the "titleAria" prop when passing a non-string "title" prop if there is no "contentLabel".'),a}},{key:"updateScrollState",value:function(){if(this.scroller){var e=this.scroller.scrollTop,t=this.getScrollHeight(),n=this.scroller.offsetHeight,r=e===t-n,a=0===e,i=t>n;this.setState(function(){return{hasOverflow:i,scrolledToBottom:r,scrolledToTop:a}})}}},{key:"renderCancelButton",value:function(){var e=this.props,t=e.cancelText,n=e.cancelButtonType,r=e["data-qa"],a=t||F.t("Cancel");return v.a.createElement(I.d,{type:n,className:"c-dialog__cancel",onClick:this.onRequestCancel,"data-qa":r+"_cancel"},a)}},{key:"renderCloseButton",value:function(){var e=this.props,t=e.showTooltipOnCloseButton,n=e.invertCloseButton,r=e["data-qa"],a=F.t("Close"),i=v.a.createElement(S.a,{backgroundStyle:n?"dark":"light","aria-label":a,className:"c-dialog__close",onClick:this.onRequestClose,"data-qa":r+"_close",icon:"times"});return t?v.a.createElement(P.c,{tip:a,zIndex:"above_fs"},i):i}},{key:"renderGoButton",value:function(){var e=this.props,t=e["data-qa"],n=e.goButtonIsDisabled,r=e.goButtonIsPending,a=e.goButtonText,i=e.goButtonType,o=e.goButtonTooltip,s=a||F.t("Confirm"),c=v.a.createElement(I.b,{type:i,className:"c-dialog__go",onClick:this.onRequestGo,loading:r,disabled:n,"data-qa":t+"_go"},s);return o?v.a.createElement(P.c,{tip:o,zIndex:"above_fs"},n?v.a.createElement("div",null,c):c):c}},{key:"renderFooterTextMaybe",value:function(){var e=this.props,t=e.footerIcon,n=e.footerLink,r=e.footerText,a=e["data-qa"];return r?n?v.a.createElement("div",{className:"c-dialog__footer_text"},v.a.createElement(x.a,{href:n,className:"c-dialog__footer_link",onClick:this.props.onFooterLinkClick,"data-qa":a+"_footer_link"},t&&v.a.createElement(w.a,{inherit:!0,type:t,align:"baseline",className:"c-dialog__footer_icon"}),r)):v.a.createElement("div",{className:"c-dialog__footer_text"},t&&v.a.createElement(w.a,{inherit:!0,type:t,align:"baseline",className:"c-dialog__footer_icon"}),r):null}},{key:"renderCustomFooterMaybe",value:function(){var e=this.props.customFooterContent;return e||null}},{key:"renderOverflowPaddingMaybe",value:function(){var e=this.props.showFooter,t=this.state,n=t.hasOverflow,r=t.scrolledToBottom;if(!e&&n){var a=y()("c-dialog__overflow_padding",{"c-dialog__overflow_padding--scroll_border":n&&!r});return v.a.createElement("div",{className:a})}return null}},{key:"renderSpeedBumpMaybe",value:function(){var e=this;if(!this.state.isShowingSpeedBump)return null;var t=this.props,n=t.speedBumpBodyText,r=t.speedBumpCancelButtonText,a=t.speedBumpContinueButtonText,i=t.speedBumpContinueButtonType;return v.a.createElement(q,{bodyText:n,cancelButtonText:r,continueButtonText:a,continueButtonType:i,onCancel:function(){e.setState(function(){return{isShowingSpeedBump:!1}})},onContinue:"go"===this.state.speedBumpButton?this.onGo:this.onCancel})}},{key:"renderTitle",value:function(){var e=this.props,t=e.title,n=e.titleImage,r=e.truncateTitle,a=void 0;return a=n?v.a.createElement("div",{className:"display_flex"},v.a.createElement("img",{className:"c-dialog__title_image",src:n,alt:t}),v.a.createElement("div",{className:y()({overflow_ellipsis:r})},t)):t,v.a.createElement("h1",{className:y()("c-dialog__title",{overflow_ellipsis:r&&!n})},a)}},{key:"render",value:function(){var e=this.props,t=e.ariaContent,n=e.children,r=e.className,i=e.overlayClassName,o=e.bodyClassName,s=e.footerText,c=e.showCancelButton,l=e.showCloseButton,u=e.showGoButton,d=e.role,b=e.showHeader,p=e.showFooter,h=e.useSlackScrollbar,m=e.useSlackScrollbarWithPadding,f=e["data-qa"],g=e.shouldCloseOnOverlayClick,O=e.reverseButtons,j=e.modalBodyOpenClassName,k=y()("c-dialog",i,{"c-dialog--custom-titlebar":Object(N.b)()}),E=y()("c-dialog__content",r,{"c-dialog__content--custom-titlebar":Object(N.b)(),"c-dialog__content--frameless":Object(N.c)()}),C=y()("c-dialog__header",{"c-dialog__header--overflow":this.state.hasOverflow&&!this.state.scrolledToTop}),I=y()("c-dialog__body",o,{"c-dialog__body--slack_scrollbar":h&&!m,"c-dialog__body--slack_scrollbar_with_padding":h&&m}),w=y()("c-dialog__footer",{"c-dialog__footer--overflow":this.state.hasOverflow&&!this.state.scrolledToBottom,"c-dialog__footer--has_text":s&&!(c||u),"c-dialog__footer--has_buttons":!s&&(c||u),"c-dialog__footer--has_both":s&&(c||u)}),S=this.getTitleAria(),T=a()({},t,{label:b&&S});return v.a.createElement(_.a,{className:E,bodyOpenClassName:j,contentLabel:S,isOpen:!0,onRequestClose:this.onRequestClose,overlayClassName:k,role:d,aria:T,shouldCloseOnOverlayClick:g,shouldCloseOnEsc:!1,ref:this.setModalRef,data:{qa:f}},b&&v.a.createElement("div",{className:C,"data-qa":f+"_header"},this.renderTitle(),l&&this.renderCloseButton()),v.a.createElement("div",{className:I,onScroll:this.onScroll,ref:this.setBodyRef,"data-qa":f+"_body"},n),p&&v.a.createElement("div",{className:w,"data-qa":f+"_footer"},this.renderCustomFooterMaybe(),this.renderFooterTextMaybe(),v.a.createElement("div",{className:"c-dialog__footer_buttons"},O&&u&&this.renderGoButton(),c&&this.renderCancelButton(),!O&&u&&this.renderGoButton())),this.renderSpeedBumpMaybe(),this.renderOverflowPaddingMaybe())}}]),t}(f.PureComponent);U.displayName="BaseDialog",U.defaultProps=B;var H={closeModal:C.a};t.a=Object(k.b)(function(e){return{featureDialogSpeedBump:Object(E.j)(e,"feature_dialog_speedbump")}},H,function(e,t,n){return a()({},n,t,e)},{withRef:!0})(U)},"35v0":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("ROZo"),a=Object(r.b)("TS.ui.admin_invites.start",function(){return null}),i=Object(r.b)("TS.ui.admin_invites.updateCode");Object(r.b)("TS.ui.admin_invites.userCanViewSharedInvitesModal")},"36Nc":function(e,t,n){"use strict";var r=n("VyaM"),a=n("qc8s");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.omitTime,i=void 0!==n&&n,o=t.do24hrTime,s=void 0!==o&&o,c=t.dateFormat,l=void 0===c?"YYYY-MM-DD":c,u=Object(r.a)(e,{returnMoment:!0});return i?u.format(l):u.format(l)+", "+Object(a.a)(e,{includeMeridiem:!s,do24hrTime:s})}},"3C31":function(e,t,n){"use strict";var r=n("ifKl"),a=n("aK/h"),i=n("XfeM"),o=n("dCAd"),s=n("QbLZ"),c=n.n(s),l=n("YEIV"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("DTT0"),h=n("DtX9"),m=n("NV5S"),f=n("negh"),v=n("kOzZ"),g=n("Fdc0"),_=Object(i.b)("Opens app permission dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.cancelText,i=n.channelId,o=n.eventId,s=n.goButtonText,l=n.onAuthorize,d=n.onDismiss,_=n.referringEventId,O=n.referringUiContext,y=n.renderTitle,j=n.scopeInfo,k=n.title,E=_,C=O,I=function(e){var n,a,s=Object(h.c)(t(),r),c=u()({},f.x.action,e);Object(v.a)({state:t()}).track(o,u()({contexts:(a={},u()(a,f.c.ui_context,c),u()(a,f.c.referring_ui_context,C),u()(a,f.c.core,(n={},u()(n,f.d.app_id,Object(g.m)(s)),u()(n,f.d.channel_id,i),n)),a)},f.c.referring_event_id,E)),E=o,C=c},w={appUserId:r,cancelText:a,channelId:i,goButtonText:s,onAuthorize:function(){return I(f.v.ALLOW),l()},onDismiss:function(){return I(f.v.DO_NOT_ALLOW),d()},onClose:function(){I(f.v.CLOSE)},renderTitle:y,scopeInfo:j,title:k},S=b.a.createElement(m.b,c()({},w));e(Object(p.e)({element:S})),I(f.v.IMPRESSION)});_.propTypes={appUserId:a.b.string.isRequired,goButtonText:a.b.string,cancelText:a.b.string,scopeInfo:a.b.arrayOf(a.b.shape({scopes:a.b.arrayOf(a.b.string),is_dangerous:a.b.bool,short_description:a.b.string.isRequired,long_description:a.b.string})).isRequired,onAuthorize:a.b.func.isRequired,onDismiss:a.b.func,channelId:a.b.string,eventId:a.b.oneOfType([a.b.string,a.b.number]),referringEventId:a.b.oneOfType([a.b.string,a.b.number]),referringUiContext:a.b.object,renderTitle:a.b.func,title:a.b.string};var O=_,y=n("yPgC"),j=Object(i.b)("Adds app to channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.appUserId,i=n.channelId,s=n.inviteMessageTs,c=n.onError,l=void 0===c?r.a:c,u=n.referringEventId,d=n.referringUiContext,b=n.scopeInfo,p=n.sendEphemeralErrorMessage,h=void 0!==p&&p;return(b?Promise.resolve(b):e(Object(o.a)({appUserId:a,channelId:i,didConfirm:!1,sendEphemeralErrorMessage:h}))).then(function(t){e(O({appUserId:a,channelId:i,eventId:"APP_CHANNEL_ADD_DIALOG",onAuthorize:function(){return e(Object(o.a)({appUserId:a,channelId:i,didConfirm:!0,inviteMessageTs:s,sendEphemeralErrorMessage:h})).catch(l)},onDismiss:function(){return e(Object(o.b)({appUserId:a,channelId:i,inviteMessageTs:s}))},referringEventId:u,referringUiContext:d,scopeInfo:t}))})});j.propTypes={appUserId:a.b.string.isRequired,channelId:a.b.string.isRequired,inviteMessageTs:a.b.string,onError:a.b.func,referringEventId:a.b.oneOfType([a.b.string,a.b.number]),referringUiContext:a.b.object,scopeInfo:a.b.arrayOf(y.a.ScopeInfo),sendEphemeralErrorMessage:a.b.bool};t.a=j},"3LxC":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("X6iR"),f=n("3Hq1"),v=n("jeQL"),g=n("xWuZ"),_=n("ifKl"),O=n("m8R6"),y=n("aK/h"),j=n("kxpR"),k=n.n(j),E=n("XHGt"),C=n("yU6Y"),I=n.n(C),w=n("TSYQ"),S=n.n(w),T=n("uf9I"),R=n("HO/Y"),N=n("2ILS"),x=n("D4L/"),M=n("FN36"),P=n("lhZz"),A=n("B/i4"),D=n("cErB"),L=n("LaJC"),q=n("hXS5"),F=n("n74X"),B=n("rWF5"),U=n("EHyS"),H=n("Smdl"),K=n("5mKg"),G=new Set(["/apps","/services"]);var V=n("6kok"),z=n("+1yX"),Y=n("clTI"),W=n("NcDR"),Q=n("NV6F");n.d(t,"a",function(){return te});y.b.string,y.b.string.isRequired,y.b.node,y.b.func,y.b.string,y.b.bool,y.b.bool,y.b.string,y.b.func,y.b.string,y.b.bool,y.b.func,y.b.bool,y.b.bool,y.b.func,y.b.func,y.b.func,y.b.func,y.b.bool,y.b.func,y.b.bool,y.b.oneOfType([y.b.object,y.b.func]),y.b.object;var X={teamId:void 0,children:void 0,onClick:void 0,className:void 0,disabled:!1,invert:!1,redirDomain:void 0,clogLinkClick:_.a,teamDomain:void 0,isEnterprise:!1,ensureEnterpriseTeamIsKnown:_.a,hideReferersPref:!0,permalinkContainsUnknownChannel:!1,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,onCopy:void 0,hasKeyboardFocus:!1,openPermalink:_.a,featureOpenPermalink:!1,forwardedRef:void 0,currentTeam:void 0},Z=/(^\w+:|^)\/\//,J=function(e,t){var n=t&&t.length&&Object(g.a)(t)[0],r=e&&e.replace(Z,"");return n&&(n===e||n===r)},$=function(e,t){e.setAttribute("href",t)},ee=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onCopy=n.onCopy.bind(n),n}return h()(t,e),u()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,r=t.clogLinkClick,a=t.href,i=t.children,o=t.isEnterprise,s=t.teamDomain,c=t.teamId,l=t.featureOpenPermalink,u=t.disabled,d=t.currentTeam;if(u)e.preventDefault();else{r({link_is_raw:J(a,i),url:a});var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2];if(!e)return!1;var r=e,a=Object(K.o)(t);e.startsWith(a)&&(r=r.slice(a.length-1));var i=r;i.startsWith("/")||(i="/"+i);var o=i.indexOf("/",1);o>-1&&(i=i.slice(0,o));var s=i.indexOf("?");return s>-1&&(i=i.slice(0,s)),!!G.has(i)&&(n&&n.preventDefault&&n.preventDefault(),n&&n.stopPropagation&&n.stopPropagation(),Object(K.O)(t,r),!0)}(a,d,e);if(n)n(e);else if(!b){if(l){if(Object(U.a)(e))return;if(1===e.button)return;return this.props.openPermalink({permalink:a}),e.preventDefault(),void e.stopPropagation()}var p=Object(A.e)(a);if(p){var h=p.path,m=p.team;if(c&&Object(A.d)(c,a))e.preventDefault();else if(o&&s&&m!==s){var f=h[1];this.handleGridCrossWorkspaceLink(e,m,f)}}}}}},{key:"onMouseDown",value:function(e){if((!e.ctrlKey||!Object(B.p)())&&(2!==e.button||I.a.msie)){var t=this.props.onMouseDown;t&&(e.persist(),t(e)),$(e.currentTarget,this.proxyURL)}}},{key:"onMouseLeave",value:function(e){var t=this.props.onMouseLeave;t&&(e.persist(),t(e)),$(e.currentTarget,this.proxyURL)}},{key:"onMouseEnter",value:function(e){var t=this.props.onMouseEnter;t&&(e.persist(),t(e)),$(e.currentTarget,this.originalURL)}},{key:"onCopy",value:function(e){var t=this.props.onCopy;t&&(e.persist(),t(e)),$(e.currentTarget,this.originalURL)}},{key:"handleGridCrossWorkspaceLink",value:function(e,t,n){var r=this.props,a=r.href,i=r.teamId;if(i){var o=Object(P.getStateByTeamId)(i),s=Object(A.b)(o,n,i);if(!s||Object(V.nb)(s)||Object(V.ab)(s)){e.preventDefault();var c=Object(x.h)(o,t);c&&c.discoverable?Object(q.b)(c,a):this.props.ensureEnterpriseTeamIsKnown({additionalOptions:{domain:t}}).then(function(e){if(!e){if(Object(A.d)(i,a))return;Object(F.e)(a,"blank")}Object(q.b)(e,a)})}else Object(A.d)(i,a)&&e.preventDefault()}}},{key:"render",value:function(){var e=Object(O.a)(this.props,"dispatch","onClick","onCopy","onMouseDown","onMouseEnter","onMouseLeave","clogLinkClick","teamDomain","isEnterprise","ensureEnterpriseTeamIsKnown","featureOpenPermalink","openPermalink","forwardedRef","currentTeam"),t=e.children,n=e.href,r=(e.teamId,e.redirDomain),i=e.className,s=e.disabled,c=e.invert,l=e.hideReferersPref,u=(e.isUnknownChannel,e.permalinkContainsUnknownChannel),d=e.hasKeyboardFocus,b=o()(e,["children","href","teamId","redirDomain","className","disabled","invert","hideReferersPref","isUnknownChannel","permalinkContainsUnknownChannel","hasKeyboardFocus"]),p=Object(L.b)(n,{redirDomain:r,hideReferrers:l}),h=p.proxyURL,m=p.originalURL,g=p.isProxied,_=o()(p,["proxyURL","originalURL","isProxied"]);this.proxyURL=h,this.originalURL=m;var y=S()("c-link",{"c-link--focus-visible":d,"c-link--disabled":s,"c-link--invert":c},i);if(u)return k.a.createElement("span",null,t||m);var j=g?this.onMouseEnter:this.props.onMouseEnter,E=g?this.onMouseLeave:this.props.onMouseLeave,C=g?this.onMouseDown:this.props.onMouseDown,I=g?this.onCopy:this.props.onCopy;return k.a.createElement("a",a()({onClick:this.onClick,onMouseDown:C,onMouseEnter:j,onMouseLeave:E,onCopy:I,ref:this.props.forwardedRef,target:Object(D.e)(m),"aria-disabled":!!s||void 0,className:y},Object(v.a)(b,f.a),_),t||m)}}]),t}(j.PureComponent);ee.displayName="ExternalLink",ee.defaultProps=X,ee.displayName="ExternalLink";var te=k.a.forwardRef(function(e,t){return k.a.createElement(ee,a()({},e,{forwardedRef:t}))}),ne={ensureEnterpriseTeamIsKnown:function(){return N.c.apply(void 0,arguments)},openPermalink:function(){return Q.a.apply(void 0,arguments)}},re=Object(E.b)(function(e,t){var n=t.href,r=Object(T.b)(e),a=Object(x.i)(e,r);Object(H.a)()&&n.startsWith("/")&&(n=Object(K.o)(a,n));var i=Object(A.c)(n),o=!1;if(i&&Object(z.a)(i)){var s=Object(Y.d)(e,i);o=Object(V.Ib)(s)}var c=Object(D.j)(n),l=c&&c.pathname,u=c&&c.hostname;return(Object(D.h)(u)&&Object(m.a)(l,"/files/")||Object(D.g)(n)&&Object(m.a)(l,"/docs/"))&&(n=Object(D.o)(n,"origin_team",r)),{href:n,currentTeam:a,teamId:r,teamDomain:a&&a.domain,redirDomain:Object(R.d)(e,"redir_domain"),isEnterprise:Object(R.m)(e),hideReferersPref:Object(M.a)(e,"hide_referers"),permalinkContainsUnknownChannel:o,featureOpenPermalink:Object(R.j)(e,"feature_open_permalink")}},ne)(ee),ae=k.a.forwardRef(function(e,t){return k.a.createElement(re,a()({},e,{forwardedRef:t}))});te.propTypes={href:y.b.string.isRequired};t.b=Object(W.a)(ae)},"3MJR":function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"r",function(){return i}),n.d(t,"s",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"o",function(){return c}),n.d(t,"q",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"t",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"m",function(){return v}),n.d(t,"p",function(){return g}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"k",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"n",function(){return k});var r=n("U/ze"),a=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.interfaceMode}),i=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.tab}),o=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.visible}),s=Object(r.b)(function(e,t){return e&&e.searchUi&&e.searchUi.modules&&e.searchUi.modules[t]}),c=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.scrollPosition}),l=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.sessionTimeoutId}),u=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.lastOpenMethod}),d=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.focusedViaTabKey}),b=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.isDebugInfoVisible}),p=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.channelSearchFilterType}),h=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.channelSearchOrgFilterSuggestions}),m=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.peopleSearchOrgFilterSuggestions}),f=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.channelSearchOrgFilters}),v=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.peopleSearchOrgFilters}),g=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.sharedTeams}),_=Object(r.b)(function(e,t){return e&&e.searchUi&&e.searchUi.channelJoins&&e.searchUi.channelJoins[t]}),O=Object(r.b)(function(e,t){return e&&e.searchUi&&e.searchUi.channelLeaves&&e.searchUi.channelLeaves[t]}),y=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.peopleSearchFilterType}),j=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.peopleSearchCustomFilters}),k=Object(r.b)(function(e){return e&&e.searchUi&&e.searchUi.peopleSearchTimezoneFilterSuggestions})},"3OZj":function(e,t,n){"use strict";n.d(t,"b",function(){return l});var r=n("YEIV"),a=n.n(r),i=n("EzZj"),o=n("MNvw"),s=n("U/ze"),c=n("aK/h"),l=Object(i.b)("Update the last time we sent something over the network");l.propTypes=null;var u=Object(o.b)(a()({},l,function(){return Date.now()}),null,{persistenceEnabled:!1});u.propTypes=c.b.number,t.a=u;Object(s.b)(function(e){return e&&e.lastNetworkSend})},"3PKk":function(e,t,n){"use strict";n.d(t,"c",function(){return I}),n.d(t,"a",function(){return w}),n.d(t,"e",function(){return D}),n.d(t,"b",function(){return F}),n.d(t,"d",function(){return U}),n.d(t,"f",function(){return G});var r=n("QbLZ"),a=n.n(r),i=n("Jnq/"),o=n("yIs4"),s=n("OL4R"),c=n("vFlG"),l=n("aK/h"),u=n("om+M"),d=n("HO/Y"),b=n("lhZz"),p=n("VjHM"),h=n("St+r"),m=n("BeG2"),f=n("iEG+"),v=n("Smdl"),g=n("rWF5"),_=n("6TBL"),O=n("Z7Ay"),y=n("uOc9"),j=n("wnkz"),k=n("yHhI"),E=n("cErB"),C=n("8Az7"),I={MEMBER_INFO:"users/info",MEMBER_SEARCH:"users/search",MEMBER_LIST:"users/list",MEMBER_COUNTS:"users/counts",CHANNEL_INFO:"channels/info",CHANNEL_SEARCH:"channels/search",CHANNEL_LIST:"channels/list",CHANNEL_MEMBERSHIP:"channels/membership",USERGROUP_INFO:"usergroups/info",USERGROUP_SEARCH:"usergroups/search",OBJECT_SEARCH:"objects/search"},w={MEMBER_QUERY:"user_query_request",MEMBER_SUBSCRIBE:"user_subscribe_request",MEMBER_UNSUBSCRIBE:"user_unsubscribe_request",CHANNEL_QUERY:"channel_query_request",USERGROUP_QUERY:"usergroup_query_request",MEMBERSHIP:"membership_query",COUNTS:"user_counts_request"},S=Object(s.a)(I),T="wss",R="ws",N="wss-primary",x="wss-backup",M="slack.com",P="dev.slack.com",A="localhost:8080";function D(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useBackup,n=void 0!==t&&t,r=(Object(j.a)()?R:T)+"://"+L({state:e,useBackup:n}),a=Object(d.d)(e,"enterprise_id");a&&(r=Object(E.o)(r,"enterprise_id",a));var i=Object(d.d)(e,"api_token");if(!i)throw new Error("Cannot create Flannel URL without an API token");return r=Object(E.o)(r,"token",i),r=Object(E.o)(r,"bots_as_apps",1),Object(d.j)(e,"feature_desync_resync")&&(r=Object(E.o)(r,"sync_desync",1)),Object(d.j)(e,"feature_stranger_danger")&&(r=Object(E.o)(r,"no_query_on_subscribe",1)),r=H({state:e,useBackup:n,url:r=Object(E.o)(r,"start_args",Object(E.k)(function(e){if(!e)throw new Error("getSocketStartArgs requires a state object");var t={agent:Object(v.a)()?"sonic":"webapp_"+Object(d.d)(e,"version_uid"),agent_version:Object(d.d)(e,"version_ts"),eac_cache_ts:!0,cache_ts:0,name_tagging:!0,only_self_subteams:!0};Object(d.i)(e)||(t.no_presence=!0);Object(d.k)(e)&&(t.no_subteams=!0);Object(d.j)(e,"feature_ms_latest")&&(t.ms_latest=!0);(Object(v.a)()||Object(d.j)(e,"feature_degraded_send"))&&(t.connect_only=!0);var n=Object(E.q)(window.location.href);return Object.keys(n).filter(function(e){return 0===e.indexOf("feature_")}).forEach(function(e){t[e]=n[e]}),t}(e)))})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useBackup,n=void 0!==t&&t,r=e.isDevEnv,a=void 0===r?g.k||g.s:r;if(Object(j.a)())return A;var i=Object(E.q)(window.location.href);return[q(i.ws_region)&&i.ws_region,n?x:N,a?P:M].filter(function(e){return e}).join(".")}function q(e){return!!e&&/^[a-z0-9-.]+$/i.test(e)}var F=3,B=function(e){var t=Object(C.a)(e),n=Object(b.getStateByTeamId)(t);if(Object(d.j)(n,"feature_flannel_always_use_canary"))return!0;if(!Object(d.j)(n,"feature_flannel_use_canary_sometimes")&&!Object(d.j)(n,"feature_tinyspeck"))return!1;var r=Object(d.d)(n,"flannel_server_pool"),a=Object(p.g)(n,"flannel_server_pool")||r;return"random"===a?0===Object(i.a)(0,1):"canary"===a};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseUrl,n=e.useBackup,r=e.token,a=t,i=Object(C.a)(r),o=Object(b.getStateByTeamId)(i);if(g.k||g.s){var s=window.location.hostname.split(".").slice(1).join("."),c=window.location.protocol+"//"+s;a=Object(E.o)(a,"api_url",c)}else B(r)&&(a=Object(E.o)(a,"canary",1));return a=Object(E.n)(a,L({state:o,useBackup:n})),a=Object(E.o)(a,"flannel",3),a=H({state:o,useBackup:n,url:a=Object(E.o)(a,"lazy_channels",1)})}function H(e){var t=e.url,n=e.useBackup,r=e.state;if(!n)return t;var a=t;a=Object(E.o)(a,"is_backup",1);var i=Object(h.e)(r);return i&&(a=Object(E.o)(a,"last_primary_region",i)),a}var K=Object(u.a)("Pass a method to flannel via XHR",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,a=n.args,i=Object(k.a)({getState:t}),o=t();if(!Object(y.a)(o))throw new Error("Disabled - this is a programming error");if(!r)throw new Error("Must include a method");var s={method:r,args:a,reason:"flannel-call:"+r,EXPEDITED:!0};return e(Object(f.a)(s)).catch(function(e){return g.k&&i.error("Flannel call failed; params were "+JSON.stringify(s)+", error was "+e),i.info("FLANNEL","giving up on "+r+" call"),Promise.reject(e)})});K.propTypes={method:l.b.string,args:l.b.object,attemptNumber:l.b.number};var G=Object(u.a)("Pass a method to flannel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,i=n.args,s=n.attemptNumber,l=void 0===s?1:s,u=Object(k.a)({getState:t}),b=t();if(Object(y.a)(t())&&S[r])return e(K(n));if(!Object(o.a)(l)||l<1)throw new Error("Invalid value for attemptNumber");if(Object(c.a)(i,"type")||Object(c.a)(i,"subtype"))throw new Error("Arguments must not include `type` or `subtype` fields");var p=a()({type:"flannel",subtype:r},i);return Object(h.g)(b)?new Promise(function(t,i){e(Object(m.h)(p)).then(function(e){var n=Object(O.d)("networkDelay.flannel")||0;Promise.delay(n,t(e))}).catch(function(o){if(!(o&&o.message===_.c)){var s=new Error("Flannel call failed for command '"+r+"' -- error "+o);return g.k&&u.error("Flannel call failed; imsg was "+JSON.stringify(p)+", error was "+o),s.imsg=o.msg,void i(s)}if(l<F){u.info("FLANNEL","retrying "+r+" call; attempt #"+l+" of "+F);var c=a()({},n,{attemptNumber:l+1});e(G(c)).then(t).catch(i)}else u.info("FLANNEL","giving up on "+r+" call"),i(new Error("Lost Flannel connection"))})}):(u.info("FLANNEL","received a "+r+" call while we are not connected; deferring"),Object(d.j)(b,"feature_degraded_send")?Object(h.q)(b).then(function(){return u.info("FLANNEL","connected and trouble free! Continuing deferred "+r+" call"),e(G(n))}).catch(function(e){throw u.info("FLANNEL","troubled! Exiting deferred "+r+" call"),e}):Object(h.r)(b).then(function(){return u.info("FLANNEL","connected! Continuing deferred "+r+" call"),e(G(n))}))});G.propTypes={method:l.b.string.isRequired,args:l.b.object,attemptNumber:l.b.number}},"3dqR":function(e,t,n){"use strict";var r=n("IF1j");n.d(t,"a",function(){return r.a}),t.b=r.b},"3fDw":function(e,t,n){},"3jSj":function(e,t,n){"use strict";n.d(t,"c",function(){return L}),n.d(t,"a",function(){return q});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("1myf"),b=n("Cjy0"),p=n.n(b),h=n("mM05"),m=n.n(h),f=n("aLpA"),v=n("XoJV"),g=n("Qv4Q"),_=n("K7CU"),O=n("bHK9"),y=n("rzSx"),j=n("7nxQ"),k=n("rqfA"),E=n("WExW"),C=n("hWsQ"),I=n("WKJn"),w=n("dG3r"),S=n("qm5R"),T=n("+u8r"),R=n("lhZz"),N=n("9PC1"),x=p.a.import("core/module"),M=p.a.import("parchment"),P=/^(:skin-tone-([2-6]):)$/,A=/\S/,D=/^\s*:\S*\n$/;function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.emojiNames,r=t.useSonicEmoji,a=t.locale;if(!n)return null;var i=function(e){return r?Object(v.c)({text:e,locale:a}):Object(y.f)(e)},o=Object(g.g)(i(e)),s=-1!==n.indexOf(o.name);return s||(o=Object(g.g)(i(e.replace(/-/g,"_"))),s=-1!==n.indexOf(o.name)),s||(o=Object(g.g)(i(e.replace(/_/g,"-"))),s=-1!==n.indexOf(o.name)),s?o.skinTone?":"+o.name+"::skin-tone-"+o.skinTone+":":":"+o.name+":":null}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useWysiwyg:!1,inlineEmojiIsEnabled:!1,emojiNames:[],useSonicEmoji:!1,locale:void 0,replaceNativeEmoji:!1},n=new m.a,r=0,a=0;if(!t.inlineEmojiIsEnabled)return n;var i=null;return Object(T.a)(e,function(o,s){var c=!Object(S.a)(s),l=Object(N.g)(o);if(!c||!Object(k.a)(o)||Object(E.a)(o)||Object(C.a)(o))return r+=l,void(i=o);var u=[],b=Object(j.c)()?o.insert.replace(/\uff1a/g,":"):o.insert,p=t.useWysiwyg?[]:Object(N.d)(b);if(b.replace(Object(g.c)(),function(n,a,i){if((t.useWysiwyg||!Object(N.i)(i,p))&&(t.useWysiwyg||!Object(N.j)(Object(N.f)(e,0,r+i)))){var o=L(n,{emojiNames:t.emojiNames,useSonicEmoji:t.useSonicEmoji,locale:t.locale});o&&u.push({match:o,index:i,matchLength:n.length})}}),t.replaceNativeEmoji&&b.replace(Object(g.e)(),function(e,t,n,r){var a=Object(g.a)(e),i=Object(O.f)(a),o=i?":"+i+":":null;o&&u.push({match:o,index:r,matchLength:e.length,nativeEmojiReplacement:!0})}),(u=Object(d.a)(u,"index")).length){var h=0,m=0;u.forEach(function(e,t){var o=e.match,s=0,c=e.matchLength;if(s=0===t?r+e.index-a:e.index-h-m,!e.nativeEmojiReplacement&&0===t&&0===e.index&&o.match(P)&&i&&i.insert.slackemoji){var l=Object(g.g)(i.insert.slackemoji.text);Object(_.d)(l.name)&&(s-=1,c+=1,o=":"+l.name+":"+o)}h=e.index,m=e.matchLength,s&&n.retain(s),n.delete(c).insert({slackemoji:{text:o}}),a=r+h+m})}r+=l,i=o}),n}var F=function(e){function t(e,n){a()(this,t);var r=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onSpace=r.onSpace.bind(r),r.onCompositionStart=r.onCompositionStart.bind(r),r.onCompositionEnd=r.onCompositionEnd.bind(r),r.onEmojiClick=r.onEmojiClick.bind(r),r.toggleJumbomoji=r.toggleJumbomoji.bind(r),r.updateJumbomojiClass=n.updateJumbomojiClass,r.isInComposition=!1,r.options.inlineEmojiIsEnabled||(r.options.inlineEmojiIsEnabled=function(){return!1}),r.options.convertEmoticonsIsEnabled||(r.options.convertEmoticonsIsEnabled=function(){return!1}),r.listen(),r}return u()(t,e),o()(t,[{key:"unload",value:function(){this.quill.root.removeEventListener("click",this.onEmojiClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}},{key:"listen",value:function(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{link:!1,code:!1,"code-block":!1}},this.onSpace),this.quill.root.addEventListener("click",this.onEmojiClick,!1),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}},{key:"onCompositionStart",value:function(){this.isInComposition=!0}},{key:"onCompositionEnd",value:function(){this.isInComposition=!1}},{key:"onSpace",value:function(e,t){if(this.isInComposition)return!0;var n=Object(g.d)();if(!n)return!0;if(!this.options.convertEmoticonsIsEnabled())return!0;var r=t.prefix,a=-1,i="";r.replace(n,function(e,t,n,r){a=r+t.length,i=n});var o=e.index-r.length+a;if(!f.k[i])return!0;if(!this.options.useWysiwyg){if(Object(N.j)(this.quill.getText(0,o)))return!0;var s=Object(N.d)(r);if(Object(N.i)(o,s))return!0}if(!this.options.useWysiwyg&&"8)"===i&&o>3&&"\n"===this.quill.getText(o-1,1)){var c=this.quill.getText(0,o-1);if("7)"===c.substr(c.lastIndexOf("\n")+1,2))return!0}var l=(new m.a).retain(o).delete(i.length).insert({slackemoji:{text:":"+f.k[i]+":"}});return this.quill.updateContents(l),!0}},{key:"onEmojiClick",value:function(e){if(!e.target.classList.contains("emoji")||!e.target.hasAttribute("data-has-skin-tone"))return!0;var t=M.find(e.target).offset(this.quill.scroll),n=this.quill.getContents(t,1);if(n.ops[0]&&Object(I.a)(n.ops[0])){var r=n.ops[0].insert.slackemoji.text,a=Object(g.g)(r),i=this.options.teamId&&Object(R.getStateByTeamId)(this.options.teamId);if(!(i&&Object(O.k)(i,{text:a.name,teamId:this.options.teamId})||Object(_.d)(a.name)))return!0;var o=":skin-tone-2:";if(a.name.length!==r.length-2){var s=r.substr(a.name.length+2).match(P);o="6"===s[2]?"":":skin-tone-"+(parseInt(s[2],10)+1)+":"}var c=new m.a;c.retain(t).delete(1).insert({slackemoji:{text:":"+a.name+":"+o}}),this.quill.updateContents(c)}return!0}},{key:"toggleJumbomoji",value:function(e){if(this.options.isJumbomojiEnabled)if(!this.options.isJumbomojiEnabled()||e.length()<=1)this.updateJumbomojiClass(!1);else{var t=!0,n=0,r=e.ops.length-1;e.forEach(function(e,a){Object(I.a)(e)?n+=1:Object(w.a)(e)||!Object(k.a)(e)?t=!1:r===a&&t?t=!A.test(e.insert)||D.test(e.insert):A.test(e.insert)&&(t=!1)}),this.updateJumbomojiClass(t&&n>0&&n<=f.x)}}},{key:"buildTextChangeDelta",value:function(e,t){return q(e,{useWysiwyg:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).useWysiwyg,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled(),emojiNames:this.options.getEmojiNames?this.options.getEmojiNames():[],useSonicEmoji:this.options.useSonicEmoji,locale:this.options.getLocale?this.options.getLocale():void 0,replaceNativeEmoji:this.options.replaceNativeEmoji})}},{key:"afterTextChangeQueue",value:function(e){this.toggleJumbomoji(e)}}]),t}(x);t.b=F},"3ksD":function(e,t,n){},"3m4Y":function(e,t,n){},"3ooo":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("XIp8"),i=n("GQZf");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;if(!e)return e;for(var n=Object(a.a)(e),o=0;o<n.length;o++)if(n[o].type===i.a.LIST)for(var s=0;s<n[o].elements.length;s++)n[o].elements[s].elements=t(n[o].elements[s].elements||[]);else n[o].elements=t(n[o].elements||[]);return n}},"3tRM":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("TSYQ"),l=n.n(c),u=n("N1Yt"),d=n("lQgN"),b=(s.b.node,s.b.string,s.b.bool,{children:void 0,className:void 0,multiline:!1});function p(e){var t=e.children,n=e.className,r=e.multiline;if(!t)return null;var i=r?2:1;return o.a.createElement("span",a()({className:l()(n,"c-base_entity__text")},Object(d.a)(e)),o.a.createElement(u.a,{lines:i},t))}p.displayName="BaseEntityText",p.defaultProps=b,t.a=p},"45LW":function(e,t,n){},"46+D":function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("TSYQ"),s=n.n(o),c=n("MnCE"),l=n("hCvz"),u=n("nNoG"),d=(n("bXFF"),new u.b("team_token")),b=(r.b.oneOf(["unknown","non-existent"]),r.b.bool,r.b.bool,function(e){var t=e.invert,n=e.type,r=e.subtler,a=s()("c-missing_team",{"c-missing_team--unknown":"unknown"===n,"c-missing_team--nonexistent":"non-existent"===n,"c-missing_team--subtler":r,"c-missing_team--unknown_inverted":"unknown"===n&&t,"c-missing_team--non_existent_inverted":"non-existent"===n&&t}),o=void 0;if("unknown"===n)o=d.t("Loading\u2026");else{if("non-existent"!==n)return null;o=d.t("Private organization info")}return i.a.createElement(l.b,{tooltip:o,isNonExistent:"non-existent"===n,size:"random",className:a,invert:t})});b.displayName="MissingTeam",b.defaultProps={type:"unknown",subtler:!1,invert:!1};var p=Object(c.a)(b);t.a=p},"4B0G":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return a});var r={CANADA:"Canada",JAPAN:"Japan",RUSSIAN_FEDERATION:"Russian Federation",UNITED_KINGDOM:"United Kingdom",UNITED_KINGDOM_UK:"United Kingdom (UK)",UNITED_STATES:"United States",SOUTH_AFRICA:"South Africa",SOUTH_KOREA:"Republic of Korea"},a={COMPANY_NAME_IS_REQUIRED:"company_name_is_required",STREET_IS_REQUIRED:"street_is_required",CITY_IS_REQUIRED:"city_is_required",POSTAL_CODE_IS_REQUIRED:"postal_code_is_required",ZIP_CODE_IS_REQUIRED:"zip_code_is_required",REGION_IS_REQUIRED:"region_is_required",STATE_IS_REQUIRED:"state_is_required",COUNTRY_IS_REQUIRED:"country_is_required",VAT_ID_IS_REQUIRED:"vat_id_is_required",TIN_ID_IS_REQUIRED:"tin_id_is_required",BRN_IS_REQUIRED:"brn_is_required",IS_BUSINESS_PURCHASE_IS_REQUIRED:"is_business_purchase_is_required",STREET_INVALID_CHARACTERS:"street_invalid_characters",CITY_INVALID_CHARACTERS:"city_invalid_characters",REGION_INVALID_CHARACTERS:"region_invalid_characters",STATE_INVALID_CHARACTERS:"state_invalid_characters",POSTAL_CODE_INVALID_CHARACTERS:"postal_code_invalid_characters",ZIP_CODE_INVALID_CHARACTERS:"zip_code_invalid_characters",VAT_ID_INVALID_CHARACTERS:"vat_id_invalid_characters",ABN_ID_INVALID_CHARACTERS:"abn_id_invalid_characters",US_ZIP_CODE_INVALID_FORMAT:"us_zip_code_invalid_format",CANADA_POSTAL_CODE_INVALID_FORMAT:"canada_zip_code_invalid_format",ZIP_CODE_INVALID_API_ERROR:"zipcode_invalid_api_error",VAT_ID_INVALID_API_ERROR:"vat_id_invalid_api_error",VAT_ID_INPUT_ERROR:"vat_input_error",VAT_ID_INVALID_FORMAT:"vat_id_invalid_format",API_ERROR:"api_error",ABN_ID_INVALID_LENGTH:"abn_id_invalid_length",QST_ID_INVALID_FORMAT:"qst_id_invalid_format",TIN_ID_INVALID_LENGTH:"tin_id_invalid_length",BRN_INVALID_FORMAT:"brn_invalid_format",ADDRESS_INPUT_ERROR:"address_input_error",ERROR_UPDATING_BILLING_ADDRESS:"error_updating_billing_address",NO_PERMS:"no_perms",INVALID_AUTH:"invalid_auth",DEFAULT_ERROR:"default_error"},i={ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX:/^[a-zA-Z\xc0-\xff0-9-'-\/.\s]+$/i,ALPHA_NUMERIC_WITH_DASH_REGEX:/^[A-Z0-9-\-\s]+$/i,VAT_ID_SOUTH_AFRICA_REGEX:/^([0-9]){10}$/i,ABN_ID_REGEX:/^(\d *?){11}$/i,QST_ID_TQ_REGEX:/^([0-9]){10}TQ([0-9]){4}$/i,QST_ID_NINE_NUM_REGEX:/^([0-9]){9}$/i,QST_ID_TEN_NUM_REGEX:/^([0-9]){10}$/i,QST_ID_NR_REGEX:/^NR([0-9]){8}$/i,BRN_REGEX:/^[0-9](-?[0-9]){8}-?[0-9]$/i,TIN_ID_REGEX:/^(?=(?:.{10}|.{12})$)[0-9]*$/i,US_POSTAL_CODE_FORMAT_REGEX:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/i,CANADA_POSTAL_CODE_FORMAT_REGEX:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1} *\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1}\d{1}$/i},o={COMPANY_NAME:"companyName",STREET:"street",SUITE:"suite",CITY:"city",REGION:"region",POSTAL_CODE:"postalCode",COUNTRY:"country",IS_BUSINESS_PURCHASE:"isBusinessPurchase",IS_VAT_AVAILABLE:"isVatIdAvailable",VAT_ID:"vatId",ABN_ID:"abnId",QST_ID:"qstId"},s={COMPANY_NAME:"",STREET:"",SUITE:"",CITY:"",REGION:"",POSTAL_CODE:"",COUNTRY:"",IS_BUSINESS_PURCHASE:!0,IS_VAT_AVAILABLE:!0,VAT_ID:"",ABN_ID:"",QST_ID:""},c={COMPANY_NAME:83,STREET:83,SUITE:83,CITY:150,REGION:100,POSTAL_CODE:15,VAT_ID:15,ABN_ID:14,TIN_ID:12,QST_ID:16}},"4GF8":function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("yIs4"),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("9HJ0"),y=n("Jnln"),j=n("m36V"),k=n("nNoG"),E=n("Lnf+"),C=n("lwWk"),I=new k.b("attachments"),w={default:"default",caption:"caption"},S=(f.b.string,f.b.string,f.b.number,f.b.bool,f.b.bool,f.b.oneOf(Object(d.a)(w)),f.b.func,{expandableKey:void 0,imageBytes:void 0,imageUrl:void 0,tooLarge:!1,type:"caption",onExpand:p.a,tooLargeWarning:!0}),T=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onExpand=n.onExpand.bind(n),n}return u()(t,e),o()(t,[{key:"onExpand",value:function(e){e.preventDefault(),this.props.onExpand(this.props.expandableKey)}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageUrl,r=t.imageBytes,a=t.expandableKey,i=t.tooLarge,o=t.type,s=t.tooLargeWarning,c=Object(E.a)(r),l=_()("c-message_attachment__media_trigger",{"c-message_attachment__media_trigger--too_large":i&&s,"c-message_attachment__media_trigger--caption":"caption"===o&&!(i&&s)}),u=i&&s?I.rt('(Not automatically expanded because {filesize} is too large. You can <a className="expand">expand it anyway</a> or <a className="open">open it in a new window</a>.)',{filesize:c},function(t){var r=t.text,a=t.key;return"expand"===t.className?m.a.createElement(C.a,{href:n,key:a,onClick:e.onExpand},r):m.a.createElement(C.a,{href:n,target:n,key:a},r)}):"("+c+")";return m.a.createElement("span",{className:l,"data-stringify-ignore":!0},Object(b.a)(r)&&u,m.a.createElement(j.a,{expandableKey:a,imageBytes:r}))}}]),t}(h.PureComponent);T.displayName="AttachmentMediaTrigger",T.defaultProps=S;t.b=Object(v.b)(function(e,t){var n=t.expandableKey,r=t.imageBytes;return{tooLarge:Object(y.f)(e,n,r)}},function(e){return{onExpand:function(t){e(Object(O.e)({key:t,isExpanded:!0}))}}})(T)},"4GGS":function(e,t,n){"use strict";var r=n("vJtL"),a=n("yHhI"),i=n("rWF5"),o=n("YS90"),s=n("Z7Ay"),c=[],l=Object(a.b)(),u=Object(o.b)("Allows devs to get console logging or trigger breakpoints when state they care about changes",function(e,t,n){var r=[],a=e.getState();c.forEach(function(e){r.push(e(a,n))});var o=t(n),s=e.getState();return c.forEach(function(e,t){var a=e(s,n);r[t]!==a&&(l.warn("redux watcher","watcher value has changed! \nAction: ",n,"\nBefore: ",r[t],"\nAfter:  ",a),i.k||i.n)}),o});t.a=u,Object(s.a)("reduxWatcher",{addWatcher:function(e){Object(r.a)(e)?c.push(e):l.error("watcherFn passed in to addWatcher must be a function")},clearAllWatchers:function(){c=[]}})},"4Rcn":function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("TSYQ"),s=n.n(o),c=(n("eLtP"),r.b.node.isRequired,r.b.string,r.b.number,r.b.oneOf(["success"]),r.b.string,r.b.string,function(e){var t=e.children,n=e.position,r=e.arrowOffset,a=e.status,o=e.className,c=e["data-qa"],l=s()("c-tooltip__tip","c-tooltip__tip--"+n,{"c-tooltip__tip--success":"success"===a},o),u={};return r&&("top-right"===n||"bottom-right"===n?u.right=r:"top-left"!==n&&"bottom-left"!==n||(u.left=r)),i.a.createElement("div",{className:l,"data-qa":c},t,i.a.createElement("div",{className:"c-tooltip__tip__arrow",style:u}))});c.displayName="TooltipTip",c.defaultProps={position:"top",arrowOffset:null,status:null,className:null,"data-qa":"tooltip-tip"},t.a=c},"4TJ0":function(e,t,n){},"4TVd":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("TSHB"),a=n("Fdc0");function i(e,t){return t?Object(r.a)(t,function(t,n){var r=t.action,i=t.inviter;return{action:r,inviter:i,name:Object(a.Q)(e,n),inviterName:Object(a.Q)(e,i)}}):null}},"4Twu":function(e,t,n){"use strict";var r=n("FXuT");t.a=r.a},"4ZYW":function(e,t,n){"use strict";var r=n("zmn3"),a=n("aK/h"),i=n("mM05"),o=n.n(i),s=n("HO/Y"),c=n("bHK9"),l=n("nNoG"),u=n("U/ze"),d=n("rzSx"),b=n("Y+74"),p=n("OqoL"),h=n("aLpA"),m=n("K7CU"),f=n("aXcD"),v=n("OF9j"),g=n("QbLZ"),_=n.n(g),O=n("raPK"),y=n("9PC1");var j=n("0SSD"),k=n("ITcr"),E=n("x4bP"),C=n("jYCR"),I=n("3jSj"),w=Object(u.b)(function(e,t){var n=t.channelId,a=t.inThread,i=t.text,u=void 0===i?"":i,g=t.delta,w=void 0===g?null:g,S=t.featureWysiwygComposer,T=Object(b.a)(e),R=Object(m.m)(e),N=a?[]:Object(k.c)(e,n),x=void 0;if(S&&w){var M=w;if(R){var P=Object(I.a)(w,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,useSonicEmoji:!0,locale:Object(l.p)(),emojiNames:Object(c.a)(e),replaceNativeEmoji:!1});P.length()>0&&(M=w.compose(P))}x={contents:M.ops}}else x=Object(f.b)(u,{highlightWords:T,shouldRenderEmojiAsText:R,emojiNames:Object(s.j)(e,"feature_sonic_emoji")?Object(c.a)(e):Object(r.a)(Object(d.a)(),"name"),useSonicEmoji:Object(s.j)(e,"feature_sonic_emoji")||Object(E.a)(),locale:Object(l.p)()});var A=function(e){var t=e.contents,n=e.searchFunc,r=e.highlightWords,a=e.skipRangeInCodeCheck,i=Object(y.o)(t.ops),o=[];if(Object(O.d)(t).forEach(function(e){if(!a){var t=i.substr(0,e.globalIndex);if(Object(y.j)(t))return}var r=n(e.label);if(r.length){var s=Object(O.b)(_()({results:r},e));"UNVERIFIED"!==s.id&&o.push(s)}}),!o.length)return t;var s=Object(O.a)(o,r);return t.compose(s)}({contents:new o.a(x.contents),highlightWords:T,skipRangeInCodeCheck:S,searchFunc:function(t){var n=t.replace(/^[@\uff20]/,""),r=Object(j.a)(N,n);return r?[r]:Object(C.d)(e,{query:n,options:{entities:{userGroups:!0,members:{includeSelf:!0,includeSlackbot:!1}},limit:h.c}})}});if(S)return{processedDelta:A};var D=Object(v.a)({contents:A.ops});return{rawText:D,formattedText:Object(p.b)(e,D).trim(),processedDelta:A}});w.propTypes={channelId:a.b.string,text:a.b.string};t.a=w},"4aLn":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("fujP"),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("clTI"),_=n("6kok"),O=n("Fdc0"),y=n("FHcd"),j=n("nNoG"),k=n("od5y"),E=n("fyoz"),C=n("a69O"),I=n("Qc6J"),w=n("Ov61"),S=(n("0E39"),new j.b("inline_channel")),T=(p.b.object,p.b.string,p.b.oneOf(["im","mpim","private","channel"]),p.b.string,p.b.bool,p.b.string,p.b.number,p.b.bool,p.b.bool,p.b.string,p.b.bool,{channel:void 0,channelName:void 0,channelType:"channel",className:void 0,invert:!1,memberId:void 0,mpimMemberCount:void 0,showMemberAvatar:!1,displayBestFormerNameOnly:!1,bestFormerName:void 0,hideFormerNames:!1}),R=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderTypeIcon",value:function(){var e=this.props,t=e.channelType,n=e.mpimMemberCount,r=e.channel,a=void 0;return a=!Object(_.V)(r)||Object(_.bb)(r)&&Object(_.gb)(r)?"mpim"===t?"multiparty-dm-"+n:"private"===t?"lock":"channel":"archive",b.a.createElement(k.b,{className:"c-unified_channel__prefix",type:a,size:"inherit",inline:!0})}},{key:"renderPreviousNames",value:function(){var e=this.props,t=e.channel,n=e.bestFormerName,r=e.displayBestFormerNameOnly,a=void 0;if(n)a="#"+n;else{if(r)return null;var i=Object(_.s)(t);if(Object(h.a)(i))return null;var o=i.map(function(e){return"#"+e});a=Object(j.h)(o,{noConj:!0}).join("")}var s=S.t("(formerly {names})",{names:a,note:'Shown when a user is typing the old name of a channel, e.g. "(formerly #cats)"'});return b.a.createElement("span",{className:"c-unified_channel__suffix","data-channel-former-name":!0},s)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.channelName,r=e.className,a=e.invert,i=e.memberId,o=e.hideFormerNames,s=!Object(_.lb)(t);return i?b.a.createElement(E.b,{id:i,className:v()(r,"c-unified_channel","c-unified_channel--member"),size:"small",useDarkMode:a,showPresence:!0,showAvatar:this.props.showMemberAvatar}):b.a.createElement(C.a,{className:v()(r,"c-unified_channel"),description:b.a.createElement(I.a,{channel:t}),prefix:this.renderTypeIcon(),invert:a,label:b.a.createElement(b.a.Fragment,null,n,s&&b.a.createElement(w.a,{channel:t,className:"c-unified_channel__suffix"}),!o&&this.renderPreviousNames()),"data-channel-id":t.id})}}]),t}(d.Component);R.displayName="SmallUnifiedChannel",R.defaultProps=T;var N=Object(m.b)(function(e,t){var n=t.channel,r=t.channelId,a=n||Object(g.d)(e,r),i=void 0;n&&n.id&&Object(O.qb)(n)?i=n.id:Object(y.a)(r)?i=r:Object(_.eb)(a)&&(i=Object(_.G)(a));var o=a&&a.members&&a.members.length,s=Object(_.lb)(a)?Math.min(Math.max((o||1)-1,2),9):null;return{channel:a,channelName:Object(_.x)(e,a,{publicChannelIncludeHashSign:!1}),channelType:Object(_.v)(a),memberId:i,mpimMemberCount:s}})(R),x=n("HO/Y"),M=n("XLFM"),P=n("lek6"),A=n("xE6W"),D=n("EetU"),L=new j.b("search"),q=new j.b("inline_channel"),F=(p.b.string,p.b.object.isRequired,p.b.string.isRequired,p.b.func,p.b.bool,p.b.bool,p.b.number.isRequired,p.b.node,p.b.node,p.b.node,p.b.bool,p.b.string,{className:null,onClick:null,showPurpose:!0,showUnreadBadge:!1,metadata:null,inlineNameSuffix:null,nameSuffix:null,featureSliChannelSearch:!1,bestFormerName:void 0}),B=function(e){return e.onClick?b.a.createElement(M.c,{onClick:e.onClick},e.children):e.children};B.defaultProps={onClick:null,children:null};var U=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.bestFormerName,n=e.className,r=e.channel,a=e.channelName,i=e.showPurpose,o=e.metadata,s=e.inlineNameSuffix,c=e.nameSuffix,l=e.showUnreadBadge,u=e.badgeCount,p=e.featureSliChannelSearch,h=e.onClick,m=r.purpose&&r.purpose.value,f=Object(_.Ib)(r),g=i&&m&&!f,O=o&&!f,y=l&&u>0&&!f,j=Object(_.V)(r),E=Object(_.xb)(r),C=a;p&&(C=a+(j?" "+L.t("(archived)",{note:'This will come after a channel name to indicate that it is archived, e.g. "#feat-old-project (archived)"'}):"")),t&&(C+=" "+q.t("(formerly {names})",{names:"#"+t,note:'Shown when a user is typing the old name of a channel, e.g. "(formerly #cats)"'}));var S="hash-small-bold";return!Object(_.V)(r)||Object(_.bb)(r)&&Object(_.gb)(r)?E&&(S="lock"):S="archived-channel",b.a.createElement("div",{className:v()("c-unified_channel","c-unified_channel--medium",n,{"c-unified_channel--unknown":f,"c-unified_channel--archived":j}),"data-channel-id":r.id,role:"presentation"},b.a.createElement("div",{className:"c-unified_channel__label"},b.a.createElement("span",{className:"c-unified_channel__label_action"},b.a.createElement(B,{onClick:h},f?b.a.createElement(A.a,{type:"unknown",size:"medium"}):b.a.createElement(d.Fragment,null,b.a.createElement("span",{className:"c-unified_channel__name"},b.a.createElement(k.b,{className:"c-unified_channel__prefix",type:S,size:"inherit",inline:!0}),b.a.createElement(P.a,{className:"c-unified_channel__name_text","data-qa":"unified_channel_name",text:C,noJumbomoji:!0}),b.a.createElement(w.a,{channel:r,inherit:!1,className:"c-unified_channel__suffix"})),b.a.createElement("span",{className:"c-unified_channel__team"},b.a.createElement(I.a,{iconSize:16,channel:r}),s&&b.a.createElement("span",{className:"c-unified_channel__inline_name_suffix","data-qa":"unified_channel_inline_name_suffix"},s))))),b.a.createElement("div",{className:"c-unified_channel__name_suffix","data-qa":"unified_channel_name_suffix"},c),y&&b.a.createElement(D.b,{count:u,className:"c-unified_channel__mentions"})),g&&b.a.createElement("div",{className:"c-unified_channel__purpose","data-qa":"unified_channel_purpose"},b.a.createElement(P.a,{text:m,noJumbomoji:!0})),O&&b.a.createElement("div",{className:"c-unified_channel__metadata","data-qa":"unified_channel_metadata"},o))}}]),t}(d.Component);U.displayName="MediumUnifiedChannel",U.defaultProps=F;var H=Object(m.b)(function(e,t){var n=t.channelId,r=t.channel||Object(g.d)(e,n);return{channel:r,channelName:Object(_.x)(e,r,{publicChannelIncludeHashSign:!1}),badgeCount:Object(g.c)(e,r)||0,featureSliChannelSearch:Object(x.j)(e,"feature_sli_channel_search")}})(U),K=(p.b.oneOf(["small","medium"]),function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){switch(this.props.size){case"small":return b.a.createElement(N,this.props);case"medium":return b.a.createElement(H,this.props);default:return null}}}]),t}(d.Component));K.displayName="UnifiedChannel",K.defaultProps={size:"small"};var G=K;n.d(t,"a",function(){return G});t.b=G},"4dvI":function(e,t,n){},"4hnu":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.searcher.search",function(){return new Promise(function(e){return e([])})})},"4l1r":function(e,t,n){},"4om7":function(e,t,n){"use strict";n.d(t,"b",function(){return b});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("m8R6"),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Update the needsCreatedMessage flag for a channel");b.propTypes={name:c.b.string.isRequired,needsCreatedMessage:c.b.bool.isRequired};var p=Object(u.b)(a()({},b,function(e,t){return t.name?t.needsCreatedMessage&&e[t.name]?e:t.needsCreatedMessage||e[t.name]?t.needsCreatedMessage?o()({},e,a()({},t.name,!0)):Object(s.a)(e,t.name):e:e}),{},{persistenceEnabled:!0});p.propTypes=c.b.objectOf(c.b.bool),t.a=p;Object(d.b)(function(e,t){return!!(e&&e.channelsMeta&&e.channelsMeta.needsCreatedMessage&&e.channelsMeta.needsCreatedMessage[t])})},"4phY":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("XfeM"),c=n("DTT0"),l=n("HO/Y"),u=n("aK/h"),d=n("Ykz6"),b=n("7WZX"),p=n("FN36"),h=n("O1SN"),m=n("iCc5"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("V7oC"),O=n.n(_),y=n("mRg0"),j=n.n(y),k=n("ifKl"),E=n("HI9p"),C=n("XHGt"),I=n("sk9p"),w=n.n(I),S=n("yPgC"),T=n("P2f5"),R=n("N0/W"),N=n("P9LH"),x=n("aLpA"),M=n("b98e"),P=n("3dqR"),A=n("WTjW"),D=n("NvKv"),L=n("MREy"),q=n("18Pa"),F=n("g5qt"),B=n("0F/N"),U=n("HvGc"),H=n("7DVE"),K=n("MrXf"),G=n("rO6I"),V=n("GTwG"),z=n("9/DQ"),Y=n("u7Kl"),W=n("IhBA"),Q=n("EDLf"),X=n("13mM"),Z=new(n("nNoG").b)("file"),J=(S.a.File(),u.b.objectOf(u.b.bool),u.b.string,u.b.func,u.b.func,u.b.func,u.b.func,u.b.func,u.b.func,u.b.bool.isRequired,u.b.bool.isRequired,u.b.bool.isRequired,u.b.func.isRequired,u.b.func.isRequired,u.b.func.isRequired,u.b.func.isRequired,{file:void 0,fileActions:null,attachmentSrc:void 0,closeModal:k.a,updateStar:k.a,previewFile:k.a,startDesktopDownload:k.a,openFilePublicUrlDialog:k.a,createPublicFileUrlAndOpenDialog:k.a}),$=function(e){function t(e){f()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDownload=n.onDownload.bind(n),n.clogLinkClick=n.clogLinkClick.bind(n),n.renameFile=n.renameFile.bind(n),n.deleteFile=n.deleteFile.bind(n),n.renderMenu=n.renderMenu.bind(n),n.handlePreviewFile=n.handlePreviewFile.bind(n),n}return j()(t,e),O()(t,[{key:"onDownload",value:function(e){var t=this.props.file;e.stopPropagation(),F.X&&(this.props.startDesktopDownload({fileId:t.id,downloadUrl:t.url_private_download,showFlexpane:!0}),e.preventDefault())}},{key:"handlePreviewFile",value:function(){var e=this.props.file;this.props.previewFile({fileId:e.id}),this.props.closeModal()}},{key:"clogLinkClick",value:function(e){var t=this.props.file;this.props.clogFileClick({file:t,payload:e})}},{key:"renameFile",value:function(){var e=this.props.file;this.props.openRenameFileDialog({file:e,isStackable:!0})}},{key:"deleteFile",value:function(){var e=this.props.file;this.props.openDeleteFileDialog({fileId:e.id,isStackable:!0})}},{key:"renderMenu",value:function(e){var t={file:this.props.file,actions:this.props.fileActions,isSnippet:!1,fileRefreshState:void 0,clogLinkClick:this.clogLinkClick,refreshFile:this.props.refreshFile,updateStar:this.props.updateStar,renameFile:this.renameFile,deleteFile:this.deleteFile,openWindow:k.a,previewFile:this.handlePreviewFile,openFilePublicUrlDialog:this.props.openFilePublicUrlDialog,createPublicFileUrlAndOpenDialog:this.props.createPublicFileUrlAndOpenDialog,inFileDetails:!1,featureModernDeleteFile:this.props.featureModernDeleteFile,featureOfflineMode:this.props.featureOfflineMode,isOffline:this.props.isOffline},n=Object(W.a)(t);return o.a.createElement(L.a,a()({},e,{width:220,template:n,stripTerminalSeparators:!0,onMenuItemSelected:function(t,n){return!n.defaultPrevented&&e.onMenuItemSelected(t,n)}}))}},{key:"renderFileActions",value:function(){if(!this.props.file)return null;var e=this.props,t=e.featureOfflineMode,n=e.isOffline,r=!t||!n;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(q.a,{className:"p-file_viewer__header__button",icon:"cloud-download",backgroundStyle:null,href:this.props.file.url_private_download,onClick:this.onDownload,"aria-label":Z.t("Download")}),o.a.createElement(L.e,{renderMenu:this.renderMenu,position:"left-bottom"},o.a.createElement(q.a,{className:"p-file_viewer__header__button",icon:"ellipsis",backgroundStyle:null,onClick:k.a,"data-qa":"file_viewer_actions_menu_btn"})))}},{key:"renderAttachmentActions",value:function(){return!this.props.attachmentSrc||this.props.file?null:o.a.createElement(q.a,{className:"p-file_viewer__header__button",icon:"external-link",backgroundStyle:null,href:this.props.attachmentSrc,"aria-label":Z.t("Open original")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"p-file_viewer__header__actions"},this.renderFileActions(),this.renderAttachmentActions(),o.a.createElement("div",{className:"p-file_viewer__header__separator"}),o.a.createElement(q.a,{className:"p-file_viewer__header__button",icon:"times",backgroundStyle:null,onClick:this.props.closeModal}))}}]),t}(i.Component);$.displayName="FileViewerActions",$.defaultProps=J;var ee={closeModal:function(){return Object(c.a)()},updateStar:function(){return B.a.apply(void 0,arguments)},previewFile:function(){return U.c.apply(void 0,arguments)},startDesktopDownload:function(){return z.r.apply(void 0,arguments)},openFilePublicUrlDialog:function(){return Q.b.apply(void 0,arguments)},createPublicFileUrlAndOpenDialog:function(){return Q.a.apply(void 0,arguments)},clogFileClick:function(){return V.a.apply(void 0,arguments)},openRenameFileDialog:function(){return H.a.apply(void 0,arguments)},openDeleteFileDialog:function(){return K.a.apply(void 0,arguments)},refreshFile:function(){return G.b.apply(void 0,arguments)}},te=Object(C.b)(function(e,t){return{fileActions:Object(Y.a)(e,t.file)||{},featureModernDeleteFile:Object(l.j)(e,"feature_modern_delete_file"),featureOfflineMode:Object(l.j)(e,"feature_offline_mode"),isOffline:!Object(X.c)(e)}},ee)($),ne=(n("lKsX"),S.a.File(),u.b.string,u.b.string,u.b.number,u.b.string,{file:void 0,title:void 0,userId:void 0,date:void 0,attachmentSrc:void 0}),re=function(e){function t(){return f()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.userId,r=e.date,a=e.file,s=e.attachmentSrc,c=n&&o.a.createElement(P.b,{size:36,userId:n,className:"p-file_viewer__header__meta__avatar",tabIndex:null,isInteractive:!1}),l=n&&o.a.createElement(A.a,{className:"p-file_viewer__header__meta__name",id:n}),u=r&&o.a.createElement(D.b,{timestamp:r.toString(),full:!0});return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"p-file_viewer__header"},o.a.createElement("div",{className:"p-file_viewer__header__meta"},c,o.a.createElement("div",{className:"p-file_viewer__header__meta__stack"},o.a.createElement("div",{className:"p-file_viewer__header__meta__title","data-qa":"file_viewer_header_title"},t),o.a.createElement("div",{className:"p-file_viewer__header__meta__minor"},l,u))),o.a.createElement(te,{file:a,attachmentSrc:s})))}}]),t}(i.PureComponent);re.displayName="Header",re.defaultProps=ne;var ae=re,ie=n("N36p"),oe=n("llxT"),se=n("od5y"),ce=n("RMmo"),le=(u.b.bool,u.b.bool,u.b.func,u.b.func,{showPrev:!1,showNext:!1,onPrev:k.a,onNext:k.a}),ue=function(e){function t(e){f()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPrev=n.onPrev.bind(n),n.onNext=n.onNext.bind(n),n.keyCommands=new ce.a,n}return j()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.keyCommands.bindAll([{keys:"left",handler:this.onPrev},{keys:"right",handler:this.onNext}])}},{key:"componentWillUnmount",value:function(){this.keyCommands.reset()}},{key:"onPrev",value:function(){this.props.showPrev&&this.props.onPrev()}},{key:"onNext",value:function(){this.props.showNext&&this.props.onNext()}},{key:"renderPrev",value:function(){return o.a.createElement(oe.a,{className:"p-file_viewer__nav p-file_viewer__nav--prev",onClick:this.onPrev,"data-qa":"file_viewer_navigation_prev"},o.a.createElement(se.b,{type:"arrow_large_left"}))}},{key:"renderNext",value:function(){return o.a.createElement(oe.a,{className:"p-file_viewer__nav p-file_viewer__nav--next",onClick:this.onNext,"data-qa":"file_viewer_navigation_next"},o.a.createElement(se.b,{type:"arrow_large_right"}))}},{key:"render",value:function(){var e=this.props,t=e.showPrev,n=e.showNext;return t||n?o.a.createElement(i.Fragment,null,t&&this.renderPrev(),n&&this.renderNext()):null}}]),t}(i.PureComponent);ue.displayName="FileViewerNavigation";var de=ue;ue.defaultProps=le;n("yz0T"),u.b.string,u.b.string,u.b.number,u.b.shape({src:u.b.string,width:u.b.number,height:u.b.number}),u.b.shape({src:u.b.string,isConvertedPdf:u.b.bool}),u.b.shape({src:u.b.string}),S.a.File(),u.b.string,u.b.bool,u.b.bool,u.b.func,u.b.func,u.b.func.isRequired;var be={title:void 0,userId:void 0,date:void 0,image:void 0,pdf:void 0,youtube:void 0,file:void 0,fileId:void 0,showPrev:!1,showNext:!1,onPrev:k.a,onNext:k.a};function pe(e){var t=e.title,n=e.userId,r=e.date,a=e.image,s=e.pdf,c=e.youtube,l=e.file,u=e.fileId,d=e.showPrev,b=e.showNext,p=e.onPrev,h=e.onNext,m=e.dispatch,f=Object(i.useState)(0),v=w()(f,2),g=v[0],_=v[1];Object(i.useEffect)(function(){u&&!l&&m(Object(R.e)({fileId:u,reason:"file-viewer"}))},[u,l,m]);var O=c&&c.src||a&&a.src||null;return o.a.createElement(M.a,{contentLabel:t},o.a.createElement(ae,{title:t,userId:n,date:r,file:l,attachmentSrc:O}),o.a.createElement(ie.a,{title:t,image:a,pdf:s,youtube:c,onDidZoomLevelChange:_},o.a.createElement(de,{showPrev:d&&0===g,showNext:b&&0===g,onPrev:p,onNext:h})))}pe.displayName="FileViewer",pe.defaultProps=be;var he=Object(C.b)(function(e,t){if(t.fileId){var n=Object(T.h)(e,t.fileId);if(!n)return t;var r=void 0;if(Object(N.e)(n)){var i=n.image_exif_rotation,o=i&&i>4,s=o?n.original_h:n.original_w,c=o?n.original_w:n.original_h;r={src:n.url_private,width:s,height:c,thumbnailUrl:Object(N.y)(n,{maxSize:x.D})}}var l=void 0;return Object(N.f)(n)&&(l={src:Object(N.u)(n),isConvertedPdf:Object(N.b)(n)}),a()({},t,{title:n.title,userId:n.user,date:n.timestamp,image:r,pdf:l,file:n})}return t})(pe),me=n("TcTh"),fe=n("smxp"),ve=n("2HDu"),ge=n("hOQf"),_e=n("acVv");function Oe(e,t){var n=t.channelId,r=t.threadTs,a=t.ts,i=t.viewContext;if(!n||!a)return[];var o=Object(fe.a)(e,n,a),s=r||Object(ge.N)(o),c=(i===x.C.THREADS_FLEXPANE||i===x.C.THREADS_VIEW)&&s,l=c?Object(ve.c)(n,s):n,u=Object(me.h)(e,l,a).timestamps.map(function(t){return Object(fe.a)(e,n,t)}),d=[];return u.forEach(function(t){if(c||!Object(ge.db)(t)){var n=t.attachments;n&&n.forEach(function(n){n.image_url&&d.push({ts:t.ts,image:{src:Object(_e.a)(e,{url:n.image_url,rotate:!0}),width:n.image_width,height:n.image_height},title:n.title}),n.files&&n.files.forEach(function(e){Object(N.e)(e)&&d.push({ts:t.ts,fileId:e.id})})});var r=t.files||t.file&&[t.file];r&&r.forEach(function(n){var r=Object(T.h)(e,n);Object(N.e)(r)&&d.push({ts:t.ts,fileId:n})})}}),d}var ye=u.b.shape({src:u.b.string,width:u.b.number,height:u.b.number}),je=(u.b.string.isRequired,u.b.arrayOf(u.b.shape({ts:u.b.string,fileId:u.b.string,image:ye,title:u.b.string})).isRequired,u.b.string,u.b.func,{image:void 0,fileId:void 0,closeModal:k.a}),ke=function(e){function t(e){f()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onPrev=n.onPrev.bind(n),n.onNext=n.onNext.bind(n);var r=e.ts,a=e.image,i=e.fileId,o={ts:r,image:a,fileId:i},s=e.images.findIndex(function(e){return t.matchImage(e,o)});return n.state={ts:r,index:s,image:a,fileId:i},n}return j()(t,e),O()(t,null,[{key:"matchImage",value:function(e,t){return e.ts===t.ts&&(!(!e.fileId||!t.fileId||e.fileId!==t.fileId)||!(!e.image||!t.image||e.image.src!==t.image.src))}}]),O()(t,[{key:"componentDidUpdate",value:function(){this.props.images.length||this.props.closeModal()}},{key:"onPrev",value:function(){this.setState(function(e,t){if(0===e.index)return e;var n=e.index-1,r=t.images[n]||{};return{index:n,ts:r.ts,image:r.image,fileId:r.fileId}})}},{key:"onNext",value:function(){this.setState(function(e,t){if(e.index>=t.images.length-1)return e;var n=e.index+1,r=t.images[n]||{};return{index:n,ts:r.ts,image:r.image,fileId:r.fileId}})}},{key:"render",value:function(){var e=this.props.images,t=this.state.index;if(!e.length)return null;var n=t>0,r=t<e.length-1,a=e[t]||{},i=a.image,s=a.fileId,c=a.title;return o.a.createElement(he,{fileId:s,image:i,title:c,showPrev:n,showNext:r,onPrev:this.onPrev,onNext:this.onNext})}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r=n.index,a=n.ts,i=n.image,o=n.fileId,s={ts:a,image:i,fileId:o},c=Object(E.a)(e.images,function(e){return t.matchImage(e,s)});if(c<0){var l=Math.min(r,e.images.length-1),u=e.images[l];return{index:l,ts:u&&u.ts,fileId:u&&u.fileId,image:u&&u.image}}return{index:c,ts:a,image:i,fileId:o}}}]),t}(i.Component);ke.displayName="FileNavigationController",ke.defaultProps=je;var Ee={closeModal:function(){return c.a.apply(void 0,arguments)}},Ce=Object(C.b)(function(e,t){return{images:Oe(e,{channelId:t.channelId,threadTs:t.threadTs,ts:t.ts,viewContext:t.viewContext})}},Ee)(ke),Ie=he,we=function(e,t,n){if(Object(l.j)(t,"feature_react_file_viewer_navigation")&&n.channelId&&n.ts){var r=Oe(t,n),a={ts:n.ts,fileId:n.fileId,image:n.image};if(r.find(function(e){return Ce.matchImage(e,a)}))return void e(Object(c.e)({element:o.a.createElement(Ce,n)}))}e(Object(c.e)({element:o.a.createElement(Ie,n)}))},Se=Object(s.b)("Opens the FileViewer",function(e,t,n){var r=t();Object(p.a)(r,"block_file_download")&&!!n.fileId?e(Object(d.a)({reason:"FileActions_checkIP"})).then(function(t){t.ip_allowed?we(e,r,n):function(e){e(Object(b.c)({element:o.a.createElement(h.a)}))}(e)}):we(e,r,n)});Se.propTypes=a()({},Ie.propTypes,{fileId:u.b.string});t.a=Se},"4wYP":function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"f",function(){return I}),n.d(t,"g",function(){return w}),n.d(t,"e",function(){return S}),n.d(t,"d",function(){return T}),n.d(t,"a",function(){return R});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("mkut"),l=n("m8R6"),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=n("b+9+"),f=n("gEbr"),v=n("HO/Y"),g=n("N0/W"),_=n("aLpA"),O=Object(d.b)("Expand an inline file preview");O.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string};var y=Object(d.b)("Collapse an inline file preview");y.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string};var j=Object(d.b)("Start loading a file to be expanded");j.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string};var k=Object(d.b)("Finished loading a file to be expanded");function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileId,n=e.ts,r=e.channelId,a=e.viewContext;return r+"-"+n+"-"+t+"-"+(a?"-"+a:"")}k.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string};var C=Object(b.b)((r={},i()(r,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.ts,a=t.channelId,o=t.viewContext;return s()({},e,{files:s()({},e.files,i()({},E({fileId:n,ts:r,channelId:a,viewContext:o}),!0))})}),i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.ts,a=t.channelId,i=t.viewContext;return s()({},e,{files:Object(l.a)(e.files,E({fileId:n,ts:r,channelId:a,viewContext:i}))})}),i()(r,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.ts,a=t.channelId,o=t.viewContext;return s()({},e,{expanding:s()({},e.expanding,i()({},E({fileId:n,ts:r,channelId:a,viewContext:o}),!0))})}),i()(r,k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.ts,a=t.channelId,i=t.viewContext;return s()({},e,{expanding:Object(l.a)(e.expanding,E({fileId:n,ts:r,channelId:a,viewContext:i}))})}),r),{files:{},expanding:{}},{persistenceEnabled:!0});C.propTypes={files:u.b.objectOf(u.b.bool),expanding:u.b.objectOf(u.b.bool)},t.c=C;var I=Object(p.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=E({fileId:t.fileId,ts:t.ts,channelId:t.channelId,viewContext:t.viewContext});return e&&e.inlineFilePreviews&&e.inlineFilePreviews.files&&!!e.inlineFilePreviews.files[n]}),w=Object(p.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=E({fileId:t.fileId,ts:t.ts,channelId:t.channelId,viewContext:t.viewContext});return e&&e.inlineFilePreviews&&e.inlineFilePreviews.expanding&&!!e.inlineFilePreviews.expanding[n]}),S=Object(p.b)(function(e){return e&&e.inlineFilePreviews&&e.inlineFilePreviews.expanding&&Object(c.a)(e.inlineFilePreviews.expanding).length>0}),T=Object(h.b)("fetch and expand file info",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.ts,i=n.channelId,o=n.viewContext,s=e(Object(g.e)({fileId:r,reason:"inline-file-previews.fetchAndExpand"}));e(j({fileId:r,ts:a,channelId:i,viewContext:o})),s.then(function(){e(O({fileId:r,ts:a,channelId:i,viewContext:o}))}).finally(function(){e(k({fileId:r,ts:a,channelId:i,viewContext:o}))})});T.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string};var R=Object(h.b)("collapse a file and ensure it is still in view",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.ts,i=n.channelId,o=n.viewContext;e(y({fileId:r,ts:a,channelId:i,viewContext:o})),Object(v.j)(t(),"feature_react_threads")&&o?o===_.C.THREADS_FLEXPANE&&(e(Object(f.i)(a)),e(Object(f.a)())):e(Object(m.c)({ts:a,highlightLazy:!0}))});R.propTypes={fileId:u.b.string.isRequired,ts:u.b.string.isRequired,channelId:u.b.string.isRequired,viewContext:u.b.string}},"4xnH":function(e,t,n){},"4yrM":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("x91h"),h=n("X6iR"),m=n("ifKl"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("+wAm"),y=n("N52Z"),j=n("DtX9"),k=n("HO/Y"),E=n("uf9I"),C=n("D4L/"),I=n("B/i4"),w=n("Fdc0"),S=n("XLFM"),T=n("0f2Y"),R=n("O/xh"),N=n("aLpA"),x=n("ROZo"),M=Object(x.b)("TS.client.msg_pane.maybeClick",m.a),P=n("2aqP"),A=n("05YO"),D=n("cErB"),L=n("u9my"),q=n("yHhI"),F="javascript:",B=(f.b.string,f.b.node,f.b.string,f.b.node,f.b.string,f.b.func.isRequired,f.b.bool,f.b.bool,f.b.string,f.b.func,f.b.bool,f.b.bool,{botId:null,botName:null,botTeamId:null,children:null,origin:Object(P.a)(),doSlackActionLinks:!0,noLinking:!1,url:null,clogLinkClick:m.a,explicitlyRenameBotLink:!1,featureReactMemberProfileCard:!1});var U=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSlackActionClick=n.onSlackActionClick.bind(n),n.onJavascriptLinkClick=n.onJavascriptLinkClick.bind(n),n.onBotClick=n.onBotClick.bind(n),n.clogLinkClick=n.clogLinkClick.bind(n),n}return b()(t,e),c()(t,[{key:"onSlackActionClick",value:function(){var e=this.props.url;this.props.doSlackAction(e)}},{key:"onJavascriptLinkClick",value:function(){var e=this.props.url.slice(F.length);M(e)}},{key:"onBotClick",value:function(e){var t=this.props,n=t.botId,r=t.botTeamId,a=t.featureReactMemberProfileCard;e.persist(),a||Object(L.a)(e,n,r,!0)}},{key:"clogLinkClick",value:function(e){var t=this.props,n=t.url,r=t.clogLinkClick,i="external",o={},s=Object(I.e)(n);if(s){var c=s.type,l=s.path;"archives"===c?i="message":"files"===c?(i="file",l&&l.length>=2&&"F"===l[2][0]&&(o.item_id=l[2],o.item_type="F",o.link_action="file_preview_link")):i="internal"}r(a()({},e,o,{link_type:i}))}},{key:"render",value:function(){var e=this.props,t=e.botId,n=e.botName,r=e.children,a=e.doSlackActionLinks,i=e.noLinking,o=e.origin,s=e.url,c=e.explicitlyRenameBotLink,l=e.featureReactMemberProfileCard;if(i)return g.a.createElement("span",null,r);var u=function(e){var t=e.url,n=e.origin;return e.botId?"bot":Object(h.a)(t,F)?"javascript":Object(h.a)(t,n+"/messages")?"messages":Object(h.a)(t,N.H+"chat.help")?"old-slack-action":Object(h.a)(t,""+N.F)?"slack-action":"external"}({url:s,origin:o,botId:t}),d=void 0,b=null,m=!1,f=!1,v=r,_=!1;if("slack-action"===u?(f=!0,a?b=this.onSlackActionClick:(m=!0,d="(Disabled) ")):"old-slack-action"===u?(m=!0,d="(Disabled) "):"javascript"===u?(f=!0,b=this.onJavascriptLinkClick):"bot"===u&&c&&(f=!0,b=this.onBotClick,v=n||r,_=l),f){var O=g.a.createElement(S.a,{type:"link",onClick:!m&&b,isDisabled:m},d,v);return _&&(O=g.a.createElement(R.a,{botId:t,onClick:!m&&b},O)),O}return g.a.createElement(T.a,{href:Object(p.a)(s),onClick:b,clogLinkClick:this.clogLinkClick},r)}}]),t}(v.PureComponent);U.displayName="BaseMrkdwnLink",U.defaultProps=B;var H=Object(_.b)(function(e,t){var n=t.children,r=t.memberId,a=t.url,i=Object(A.a)(a),o=Object(D.j)(a),s=void 0,c=void 0;if(i&&!(s=Object(y.e)(e,i))&&r){Object(q.a)({state:e}).warn("MrkdwnLink: no bot found for "+i);var l=Object(j.c)(e,r),u=Object(w.J)(l);if(u&&(s=n,c=u),l.enterprise_user&&-1!==o.hostname.indexOf("slack.com")){var d=o.hostname&&o.hostname.split(".").length?o.hostname.split(".")[0]:null,b=Object(C.h)(e,d);c=b&&b.id!==u?b.id:u}}return{botId:i,botName:s,botTeamId:c,teamId:Object(E.b)(e),featureReactMemberProfileCard:Object(k.j)(e,"feature_react_member_profile_card")}},function(e){return{doSlackAction:function(){return e(O.a.apply(void 0,arguments))}}})(U);H.propTypes={url:f.b.string.isRequired,children:f.b.node,memberId:f.b.string},H.defaultProps={children:void 0,memberId:void 0};t.a=H},"4zXV":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("HO/Y"),c=n("uf9I"),l=n("zNK5"),u=n("3Hq1");var d=n("83t0"),b=n("lhZz"),p=n("13mM");var h=n("yHhI"),m=n("1PKr"),f={"channels.view":{canonical_avatars:!0,name_tagging:!0,visible:!0},"conversations.view":{canonical_avatars:!0,name_tagging:!0,visible:!0},"groups.view":{visible:!0},"im.view":{visible:!0},"mpim.view":{visible:!0},"rtm.leanStart":{canonical_avatars:!0,name_tagging:!0},"rtm.start":{canonical_avatars:!0,name_tagging:!0},"users.info":{canonical_avatars:!0,name_tagging:!0},"users.list":{canonical_avatars:!0,name_tagging:!0}};var v=n("U9sN"),g=["api.benchmark","api.statusSite","channels.insights","channels.view","chat.postMessage","conversations.view","dnd.teamInfo","highlights.list","enterprise.channels.createShared","enterprise.groups.createShared","enterprise.teams.create","screenhero.rooms.create","screenhero.rooms.invite","screenhero.rooms.join","screenhero.rooms.refreshToken","search.team","search.enterprise","apps.whitelist.requests.add","rtm.shouldReload","missions.apps.create"];var _=n("/V1y"),O=n("iJtp"),y=n("jzln"),j=n("rWF5"),k=50;var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,n=e.method,r=e.shouldValidate;if(void 0===r?j.k:r){if(!t)throw new Error("Reason missing for `"+n+"`.");if(t.match(/\s/))throw new Error("Reason `"+t+"` cannot contain whitespace.");if(t.length>k)throw new Error("Reason `"+t+"` is over "+k+" characters.")}};n.d(t,"a",function(){return C}),n.d(t,"b",function(){return I});var C=Object(o.b)("Dispatch an API call",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,i=n.args,o=n.defaultArgs,j=void 0===o?function(e){return f[e]||{}}(r):o,k=n.reason,C=n.EXPEDITED,I=void 0!==C&&C,w=n.SET_ACTIVE,S=void 0!==w&&w,T=t(),R=Object(c.b)(T),N=Object(_.b)(Object(_.c)(T)),x=Object(O.a)()||Object(y.a)(),M=Object(m.d)()&&new m.a({method:r,teamId:R}),P=function(e){return!0!==g.includes(e)}(r),A=Object(v.a)(r)&&!x,D=Object(h.a)({teamId:R});try{E({reason:k,method:r})}catch(e){D.warn("[API-CALL-REASON-WARNING]",e)}var L=a()({},j,i),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1].setActive;return Object(u.a)(e.set_active)?t?{set_active:!0}:{}:{set_active:e.set_active}}(L,{setActive:S}),F=Object(d.a)(L,{teamId:R,method:r}),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.teamId,r=t.reason,a={},i=Object(b.getStateByTeamId)(n);return e._x_reason?a._x_reason=e._x_reason:r&&(a._x_reason=r),Object(s.j)(i,"feature_degraded_send")&&(a._x_mode=Object(p.a)(i)),a}(L,{teamId:R,reason:k}),U=a()({},L,q,F,B),H=Object(s.d)(T,"version_ts"),K=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).teamId,t=Object(b.getStateByTeamId)(e),n=Object(c.a)(t)||Object(s.d)(t,"enterprise_id");return n?n+":"+e:e}({teamId:R}),G=Object(m.c)({infoLogger:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D.info.apply(D,["API-Q"].concat(t))},reason:k||"no_reason_provided",shouldLog:A},{method:r,args:U,slackRoute:K,sessionId:N?N.id:void 0,versionTs:H,versionUid:Object(s.d)(T,"version_uid"),teamId:R,maxAttempts:P?void 0:1,onStateChange:function(e){M&&M.measureOnStateChange(e)}});return e(Object(l.b)({request:G,expedited:I})).catch(function(e){if(!e.handled)throw e})});C.propTypes={method:i.b.string,args:i.b.object,defaultArgs:i.b.object,reason:i.b.string,EXPEDITED:i.b.bool,SET_ACTIVE:i.b.bool};var I=Object(o.b)("Dispatch an expedited API call",function(e,t,n){return e(C(a()({},n,{EXPEDITED:!0})))});I.propTypes=C.propTypes},"5+aj":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("DTT0"),s=n("XfeM"),c=n("QLy6"),l=Object(s.b)("Opens the connected workspaces modal in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.showOpenTransition,i=n.onBack,s=n.referringUiElement;e(Object(o.e)({element:a.a.createElement(c.a,{showOpenTransition:r,onBack:i,referringUiElement:s})}))});l.propTypes={showOpenTransition:i.b.bool,onBack:i.b.func},t.a=l},"52Su":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("ROZo"),a=n("6kok"),i=Object(r.b)("TS.mpims.legacyGetDisplayName",function(e){return e._display_name||e.name}),o=(Object(r.b)("TS.mpims.legacyDisplayMpim"),Object(r.a)("TS.mpims.makeNameForMpim",function(e,t){return Object(a.Rb)(e,t)}))},"52et":function(e,t,n){},"57p7":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=(n("aK/h"),n("XHGt")),v=n("tn36"),g=n("DTT0"),_=n("t3QL"),O=n("oDBd");t.a=function(e){var t=function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Object(v.a)(t,["showConfirmDialog","hideConfirmDialog","handleConfirmDialogGo","handleConfirmDialogCancel"]),t}return b()(n,t),c()(n,[{key:"showConfirmDialog",value:function(e){var t=e.onConfirmDialogGo,n=void 0===t?p.a:t,r=e.onConfirmDialogCancel,a=void 0===r?p.a:r;this.onConfirmDialogGo=n,this.onConfirmDialogCancel=a,this.dialog=this.props.openModal({element:this.renderConfirmDialog()})}},{key:"hideConfirmDialog",value:function(e){e&&this.dialog&&this.dialog.close()}},{key:"handleConfirmDialogCancel",value:function(){this.onConfirmDialogCancel(),this.hideConfirmDialog()}},{key:"handleConfirmDialogGo",value:function(){this.onConfirmDialogGo(),this.hideConfirmDialog()}},{key:"renderConfirmDialog",value:function(){var e=this.props,t=e.confirm,n=e.variant;return m.a.createElement(O.a,a()({},Object(_.b)(t),{dangerGoButton:"danger"===n,onCancel:this.handleConfirmDialogCancel,onGo:this.handleConfirmDialogGo}))}},{key:"render",value:function(){return m.a.createElement(e,a()({showConfirmDialog:this.showConfirmDialog,hideConfirmDialog:this.hideConfirmDialog},this.props))}}]),n}(h.PureComponent);t.displayName="AttachmentActionConfirmDialogWrapper",t.defaultProps={confirm:void 0,variant:void 0};var n={openModal:g.e};return Object(f.b)(null,n)(t)}},"58KB":function(e,t,n){},"59Je":function(e,t,n){"use strict";n.d(t,"e",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return O});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("3Hq1"),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=Object(d.b)("Rebuild muted channel list");m.propTypes=u.b.object.isRequired;var f=Object(d.b)("Set a channel as muted or unmuted");f.propTypes={id:u.b.string.isRequired,muted:u.b.bool.isRequired};var v=Object(b.b)((r={},i()(r,m,function(e,t){return t}),i()(r,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.muted;return!n||Object(l.a)(r)?e:r?e[n]?e:s()({},e,i()({},n,!0)):e[n]?Object(c.a)(e,n):e}),r),{},{persistenceEnabled:!0});v.propTypes=u.b.objectOf(u.b.bool),t.a=v;var g=Object(p.b)(function(e,t){return e&&e.channelsMeta&&e.channelsMeta.mutedChannels&&!!e.channelsMeta.mutedChannels[t]}),_=Object(p.b)(function(e){return e&&e.channelsMeta&&e.channelsMeta.mutedChannels}),O=Object(h.b)("Sets muted channels from the prefs string",function(e,t,n){if(n&&n.length){var r=n.split(",");if(r.length){var a={};r.forEach(function(e){a[e]=!0}),e(m(a))}}});O.propTypes=u.b.string.isRequired},"5BKc":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"h",function(){return b}),n.d(t,"n",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"m",function(){return f});var r={None:"none",Timeout:"timeout",RenderErrorCaught:"renderErrorCaught",Unknown:"unknown",NoQuery:"noQuery"},a={relevantMessages:"relevantMessages",recentMessages:"recentMessages"},i={relevant:"score",recent:"timestamp"},o={relevant:"relevant",name:"name",created:"created",memberCount:"member_count"},s={relevant:"relevant",name:"name"},c={all:"all",private:"private",archived:"archived",shared:"shared"},l={all:"0,1,2,3,4,5,6,7,8",owners:"0,1",admins:"2",full:"0,1,2,3,7",guests:"4,5,8",deactivated:"6"},u="search_hide_my_channels",d="search_only_current_team",b="search_channel_sort",p="search_people_sort",h="search_hide_deactivated_users",m="search_exclude_bots",f="search_only_my_channels"},"5Fft":function(e,t,n){"use strict";n("mk6Z");var r=n("JtAu");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"e",function(){return r.c}),n.d(t,"f",function(){return r.d}),n.d(t,"l",function(){return r.e}),n.d(t,"n",function(){return r.f}),n.d(t,"p",function(){return r.g}),n.d(t,"q",function(){return r.h}),n.d(t,"s",function(){return r.i}),n.d(t,"u",function(){return r.j}),n.d(t,"v",function(){return r.k}),n.d(t,"w",function(){return r.l}),n.d(t,"x",function(){return r.m}),n.d(t,"A",function(){return r.n}),n.d(t,"B",function(){return r.o}),n.d(t,"C",function(){return r.p}),n.d(t,"D",function(){return r.q}),n.d(t,"E",function(){return r.r}),n.d(t,"G",function(){return r.s}),n.d(t,"H",function(){return r.t}),n.d(t,"J",function(){return r.u}),n.d(t,"K",function(){return r.v}),n.d(t,"L",function(){return r.w}),n.d(t,"M",function(){return r.x}),n.d(t,"O",function(){return r.y}),n.d(t,"Q",function(){return r.z}),n.d(t,"R",function(){return r.A}),n.d(t,"S",function(){return r.B}),n.d(t,"V",function(){return r.C}),n.d(t,"W",function(){return r.D}),n.d(t,"Y",function(){return r.E}),n.d(t,"Z",function(){return r.F}),n.d(t,"ab",function(){return r.G}),n.d(t,"bb",function(){return r.H}),n.d(t,"db",function(){return r.I}),n.d(t,"eb",function(){return r.J}),n.d(t,"fb",function(){return r.K}),n.d(t,"gb",function(){return r.L}),n.d(t,"ib",function(){return r.M}),n.d(t,"kb",function(){return r.N}),n.d(t,"ob",function(){return r.O}),n.d(t,"pb",function(){return r.P}),n.d(t,"qb",function(){return r.Q}),n.d(t,"tb",function(){return r.R}),n.d(t,"ub",function(){return r.S}),n.d(t,"vb",function(){return r.T}),n.d(t,"xb",function(){return r.U}),n.d(t,"yb",function(){return r.V}),n.d(t,"Ab",function(){return r.W}),n.d(t,"Bb",function(){return r.X}),n.d(t,"Cb",function(){return r.Y}),n.d(t,"Db",function(){return r.Z}),n.d(t,"Eb",function(){return r.ab}),n.d(t,"Fb",function(){return r.bb}),n.d(t,"Gb",function(){return r.cb}),n.d(t,"Ib",function(){return r.db}),n.d(t,"Kb",function(){return r.eb}),n.d(t,"Lb",function(){return r.fb}),n.d(t,"Mb",function(){return r.gb}),n.d(t,"Nb",function(){return r.hb}),n.d(t,"Ob",function(){return r.ib}),n.d(t,"Pb",function(){return r.jb}),n.d(t,"Qb",function(){return r.kb}),n.d(t,"Tb",function(){return r.lb}),n.d(t,"Ub",function(){return r.mb}),n.d(t,"Vb",function(){return r.nb}),n.d(t,"Xb",function(){return r.ob}),n.d(t,"Yb",function(){return r.pb}),n.d(t,"Zb",function(){return r.qb}),n.d(t,"ac",function(){return r.rb}),n.d(t,"bc",function(){return r.sb}),n.d(t,"cc",function(){return r.tb}),n.d(t,"dc",function(){return r.ub}),n.d(t,"ec",function(){return r.vb}),n.d(t,"fc",function(){return r.wb}),n.d(t,"ic",function(){return r.xb}),n.d(t,"jc",function(){return r.yb}),n.d(t,"kc",function(){return r.zb}),n.d(t,"lc",function(){return r.Ab}),n.d(t,"nc",function(){return r.Bb});var a=n("HDoQ");n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return a.b}),n.d(t,"g",function(){return a.c}),n.d(t,"h",function(){return a.d}),n.d(t,"i",function(){return a.e}),n.d(t,"j",function(){return a.f}),n.d(t,"k",function(){return a.g}),n.d(t,"m",function(){return a.h}),n.d(t,"o",function(){return a.i}),n.d(t,"r",function(){return a.j}),n.d(t,"t",function(){return a.k}),n.d(t,"y",function(){return a.l}),n.d(t,"z",function(){return a.m}),n.d(t,"F",function(){return a.n}),n.d(t,"I",function(){return a.o}),n.d(t,"N",function(){return a.p}),n.d(t,"P",function(){return a.q}),n.d(t,"T",function(){return a.r}),n.d(t,"U",function(){return a.s}),n.d(t,"X",function(){return a.t}),n.d(t,"cb",function(){return a.u}),n.d(t,"hb",function(){return a.v}),n.d(t,"jb",function(){return a.w}),n.d(t,"lb",function(){return a.x}),n.d(t,"mb",function(){return a.y}),n.d(t,"nb",function(){return a.z}),n.d(t,"rb",function(){return a.A}),n.d(t,"sb",function(){return a.B}),n.d(t,"wb",function(){return a.C}),n.d(t,"zb",function(){return a.D}),n.d(t,"Hb",function(){return a.E}),n.d(t,"Rb",function(){return a.F}),n.d(t,"Sb",function(){return a.G}),n.d(t,"Wb",function(){return a.H}),n.d(t,"gc",function(){return a.I}),n.d(t,"hc",function(){return a.J}),n.d(t,"mc",function(){return a.K});var i=n("iTOt");n.d(t,"Jb",function(){return i.a})},"5TgM":function(e,t,n){},"5UAc":function(e,t,n){"use strict";var r=n("XfeM"),a=n("Zr7G"),i=n("eK5+"),o=n("lDGG"),s=Object(i.a)(1),c=null,l=null,u=Object(r.b)("Resolves only when we have established and upserted client online status",function(e){return e(Object(o.e)()).catch(function(){return new Promise(function(t){c=setTimeout(function(){t(e(u()))},5e3)})})});u.propTypes=null;var d=Object(r.b)("Resolves only when we have established and upserted client online status",function(e){return l||(s&&Object(a.a)().mark("network_connectivity_lost"),l=e(u()).tap(function(){s&&Object(a.a)().measureAndClear("network_connectivity_lost","network_connectivity_lost")}).finally(function(){clearTimeout(c),l=null,c=null})),l});d.propTypes=null,t.a=d},"5VWh":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("Qaea"),g=n("LxWA"),_=n("nNoG"),O=n("tn36"),y=n("qEEt"),j=(n("X7v7"),new _.b("form_inputs")),k={inline:"inline",multiline:"multiline"},E=(b.b.node.isRequired,b.b.number,b.b.bool,b.b.number.isRequired,b.b.number,b.b.oneOf(Object(d.a)(k)),b.b.oneOf(Object(d.a)(y.a)),b.b.string.isRequired,{currentCount:0,isDisabled:!1,type:k.inline,size:y.a.medium,counterMinimumCharacters:0}),C=function(e,t){return t-e},I=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.makeCharactersRemainingMessage(e.currentCount,e.maxCharacterLimit);return n.state={characterCountLength:0,charactersRemainingMessage:r,hasFocus:!1},n.characterCountWidth=0,Object(O.a)(n,["setCharacterCountRef","setCharactersRemainingMessage","onFocus","onBlur"]),n.updateCharactersRemainingMessage=Object(g.a)(n.setCharactersRemainingMessage,500),n}return u()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){if(e.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(e.currentCount,e.maxCharacterLimit);var t=C(e.currentCount,e.maxCharacterLimit),n=t.toString().length;this.state.characterCountLength!==n&&this.setCharacterCountLength(n)}}},{key:"componentDidUpdate",value:function(e,t){this.props.type===k.inline&&t.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}},{key:"onFocus",value:function(){this.setState(function(){return{hasFocus:!0}})}},{key:"onBlur",value:function(){this.setState(function(){return{hasFocus:!1}})}},{key:"setCharacterCountRef",value:function(e){this.characterCount=e}},{key:"getCharacterCountWidth",value:function(){return this.characterCountWidth||this.measureCountWidth()}},{key:"setCharacterCountLength",value:function(e){this.setState(function(){return{characterCountLength:e}})}},{key:"setCharactersRemainingMessage",value:function(e,t){var n=this.makeCharactersRemainingMessage(e,t);this.setState(function(){return{charactersRemainingMessage:n}})}},{key:"makeCharactersRemainingMessage",value:function(e,t){var n=C(e,t);return j.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:n})}},{key:"measureCountWidth",value:function(){var e=Object(v.findDOMNode)(this.characterCount),t=window.getComputedStyle(e,":after"),n=parseFloat(t.width)||9*this.state.characterCountLength;return this.characterCountWidth=n,n}},{key:"renderCharactersRemaining",value:function(){if(!this.state.hasFocus)return null;var e,t,n,r=this.props,a=r.currentCount,i=r.maxCharacterLimit,o=r.counterMinimumCharacters,s=(e=a,t=i,!(n=o)||e>=n?C(e,t):"");return h.a.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining"},s)}},{key:"render",value:function(){var e,t,n=this.props,r=n.currentCount,a=n.maxCharacterLimit,i=n.children,o=n.isDisabled,s=n.size,c=n.type,l=n.id,u=f()("c-input_character_count",{"c-input_character_count--multiline":c===k.multiline,"c-input_character_count--large":s===y.a.large,"c-input_character_count--invalid":this.state.hasFocus&&(e=r,t=a,e>t),"c-input_character_count--disabled":o});return h.a.createElement("div",{role:"presentation",className:u,"data-qa":"input_character_count",ref:this.setCharacterCountRef,onFocus:this.onFocus,onBlur:this.onBlur},i,this.renderCharactersRemaining(),h.a.createElement("div",{id:l,className:"c-input_character_count__hidden-message","aria-live":"polite"},this.state.charactersRemainingMessage))}}]),t}(p.PureComponent);I.displayName="CharacterCount",I.defaultProps=E,t.a=I},"5XmD":function(e,t,n){},"5fEN":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return b});var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("4zXV"),s=n("om+M"),c=n("c/L4"),l=n("pfQy"),u=Object(s.a)("Fetch Available Plans",function(e,t,n){return e(Object(o.a)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:n})).then(function(e){return Object(c.k)(e.plans)})});u.propTypes=i.b.object;var d=Object(s.a)("Fetch Available Plans",function(e,t,n){var r=n.productId,i=n.country,s=n.region,u=n.postalCode,d=n.street,b=n.isBusinessPurchase,p=n.isInvoice,h=n.numInvoiceSeats,m=n.isFinalReview,f={state:s,product_id:r,is_final_review:m,checkout_step:Object(l.p)(t())};return m||(f=a()({},f,{country:i,street1:d,zip:u,is_business:b})),p&&(f=a()({},f,{requested_invoice_seats:h})),e(Object(o.a)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:f})).then(function(e){return Object(c.j)(e.plan_cost)})});d.propTypes={productId:i.b.string,country:i.b.string,postalCode:i.b.string,isBusinessPurchase:i.b.bool,isInvoice:i.b.bool,numInvoiceSeats:i.b.number,isFinalReview:i.b.bool};var b=Object(s.a)("Fetch Eligible Promo Offers",function(e){return e(Object(o.a)({reason:"payments-plans-fetch-eligible-offer",method:"promo.getEligibleOffer"}))})},"5lF5":function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d});var r=n("ROZo"),a=Object(r.b)("TS.ui.replies.openConversation"),i=(Object(r.b)("TS.ui.replies.openConversationFromMessagePane"),Object(r.b)("TS.ui.replies.activeConvoModelId")),o=Object(r.b)("TS.ui.replies.activeConvoThreadTs"),s=Object(r.b)("TS.ui.replies.replyInputValue",function(){return""}),c=Object(r.b)("TS.ui.replies.populateReplyInput"),l=Object(r.b)("TS.ui.replies.clearReplyInput"),u=Object(r.b)("TS.ui.replies.getActiveMessage"),d=Object(r.b)("TS.ui.replies.isBroadcastChecked",function(){return!1})},"5mKg":function(e,t,n){"use strict";var r=n("OtLZ"),a=(n("IzLi"),n("NFsq")),i=n("F294"),o=n("7EGn"),s=n("1zbP"),c=n("lhZz"),l=n("FN36"),u=n("uf9I"),d=n("rWF5"),b=n("k2C/"),p=n("D4L/"),h=n("vFlG"),m=n("U/ze"),f=Object(m.b)(function(e,t){return Object(h.a)(e,["externalTeamIds",t])}),v=n("RAAT"),g=n("HO/Y"),_=n("g5qt"),O=n("nNoG");function y(e){return e&&Object(b.a)(e.id)}function j(e){return!!e&&!!e.plan&&""!==e.plan}function k(e){return!!e&&!!e.enterprise_id}function E(e){return!(!e||!e.is_open)}function C(e){var t=Object(l.a)(Object(c.getStateByTeamId)(e.id),"auth_mode");return t&&"normal"!==t}function I(e){return!1===Object(l.a)(Object(c.getStateByTeamId)(e.id),"sso_choose_username")}function w(e){if(!function(e){return"saml"===Object(l.a)(Object(c.getStateByTeamId)(e.id),"auth_mode")}(e))return!1;var t=Object(l.a)(Object(c.getStateByTeamId)(e.id),"sso_auth_restrictions");return 0===t||1===t}function S(e){return Object(s.e)(e)}function T(e){return Object(s.d)(e)}function R(e){return Object(s.c)(e)}function N(e){return Object(s.b)(e)}function x(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,n=new O.b("team_token").t("Unknown Workspace");return!e||R(e)?t||n:T(e)?n:e.name?e.name:t||n}function M(e){return e&&e.profile&&e.profile.fields}function P(e,t){if(!e||!t)return!1;var n=Object(l.a)(Object(c.getStateByTeamId)(e.id),"who_can_manage_guests");if(!n)return!0;var r=!!t.is_admin,s=!!t.enterprise_user&&!!t.enterprise_user.is_admin,u=Object(i.a)(Object(o.a)(n,"type"));return!("admin"!==u||!r&&!s)||(!("owner"!==u||!s)||!("owner"!==u||!Object(a.a)(n.user,t.id)))}function A(e){return!!e&&"compliance"===e.plan}function D(e){return!!e&&"plus"===e.plan}function L(e){return!!e&&"std"===e.plan}function q(e){return!!e&&!e.plan}function F(e){return!!e&&"trial"===e.paymentMethod}function B(e){return e&&e.productTermEndTs||0}function U(e){return!!e&&e.over_storage_limit}function H(e){return q(e)&&e.messages_count>=10100}function K(e){return function(e){return!!e&&e.is_migrating}(e)||z(e)}function G(e,t){return!!t&&K(Object(p.i)(e,t))}function V(e,t){return!!j(t)&&((!k(t)||!Object(g.j)(e,"feature_shared_channels_block_large_orgs"))&&(!!k(t)||1===Object(l.a)(e,"enable_shared_channels")))}function z(e){return!!e&&!1===e.is_migrating&&!!e.externalOrgMigrated}function Y(e){return e&&e.icon}function W(e){return e&&e.id}function Q(e){return e&&e.domain}function X(e,t){if(!e||!t)return!1;var n=W(t);if(Object(u.c)(e)===n||Object(u.b)(e)===n)return!1;var r=Object(u.a)(e);return(!r||r!==t.enterprise_id)&&f(e,t.id)}function Z(e,t){if(!t||!t.id)return!1;var n=Object(v.a)(e,t.id),r=Object(v.b)(e,t.id);return n?(n.public||0)+(n.private||0)>0:r&&r.length>0}function J(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===t?1/0:t;if(!e)return"";var r=e.replace(/[^\w\s-]/g,"").split(/[\s|-]+/).map(function(e){return e[0]}).slice(0,n).join("");return r?r.toUpperCase():e.slice(0,n)}function $(e){return e.email_domain}function ee(e){return e&&e.date_create||0}function te(e){return e&&e.limit_ts||0}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(d.h)();return"https://"+(e?e.domain+".":"my.")+(n.envSubdomain?n.envSubdomain+".":"")+(n.isEU?"slack.eu":"slack.com")+"/"+("/"===t[0]?t.slice(1,t.length):t)}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_blank",r=ne(e),a="/"===t[0]?t.slice(1,t.length):t;_.X?(r+="web/open/"+a,Object(_.jb)(r)):(r+=a,window.open(r,n))}function ae(e,t){var n=Object(u.c)(e);return Object(r.a)(t,n)}function ie(e){return e&&e.messages_count||0}function oe(e){return e?e.localDiscountOffer:null}function se(e){return!!e&&!!e.is_unlisted}n.d(t,"F",function(){return y}),n.d(t,"B",function(){return j}),n.d(t,"q",function(){return k}),n.d(t,"H",function(){return E}),n.d(t,"D",function(){return C}),n.d(t,"E",function(){return I}),n.d(t,"s",function(){return w}),n.d(t,"M",function(){return S}),n.d(t,"L",function(){return T}),n.d(t,"t",function(){return R}),n.d(t,"r",function(){return N}),n.d(t,"e",function(){return x}),n.d(t,"n",function(){return M}),n.d(t,"a",function(){return P}),n.d(t,"u",function(){return A}),n.d(t,"w",function(){return D}),n.d(t,"x",function(){return L}),n.d(t,"v",function(){return q}),n.d(t,"y",function(){return F}),n.d(t,"c",function(){return B}),n.d(t,"A",function(){return U}),n.d(t,"z",function(){return H}),n.d(t,"J",function(){return K}),n.d(t,"K",function(){return G}),n.d(t,"C",function(){return V}),n.d(t,"b",function(){return z}),n.d(t,"h",function(){return Y}),n.d(t,"i",function(){return W}),n.d(t,"f",function(){return Q}),n.d(t,"G",function(){return X}),n.d(t,"p",function(){return Z}),n.d(t,"j",function(){return J}),n.d(t,"g",function(){return $}),n.d(t,"d",function(){return ee}),n.d(t,"l",function(){return te}),n.d(t,"o",function(){return ne}),n.d(t,"O",function(){return re}),n.d(t,"N",function(){return ae}),n.d(t,"m",function(){return ie}),n.d(t,"k",function(){return oe}),n.d(t,"I",function(){return se})},"5mwC":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s});var r=360,a=360,i=16,o=2*i,s=160},"5nw9":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("yU6Y"),d=n.n(u),b=n("TSYQ"),p=n.n(b),h=n("0f2Y"),m=n("NcDR"),f=n("iCc5"),v=n.n(f),g=n("V7oC"),_=n.n(g),O=n("FYw3"),y=n.n(O),j=n("mRg0"),k=n.n(j),E=(l.b.func,l.b.string,{onClick:void 0,className:void 0}),C=function(e){function t(e){v()(this,t);var n=y()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyPress=n.onKeyPress.bind(n),n}return k()(t,e),_()(t,[{key:"onKeyPress",value:function(e){" "!==e.key&&"Enter"!==e.key||this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return c.a.createElement("div",a()({},this.props,{className:p()("c-firefox-compat-button",this.props.className),type:void 0,role:"button",tabIndex:0,onKeyPress:this.onKeyPress}))}}]),t}(s.Component);C.displayName="FirefoxCompatButton",C.defaultProps=E;var I=C,w=(l.b.string,l.b.node,l.b.string,l.b.string,l.b.bool,{className:void 0,children:void 0,href:void 0,htmlType:"button",hasKeyboardFocus:!1}),S=c.a.forwardRef(function(e,t){var n=e.className,r=e.children,i=e.href,s=e.htmlType,l=e.hasKeyboardFocus,u=o()(e,["className","children","href","htmlType","hasKeyboardFocus"]);if(i)return c.a.createElement(h.a,a()({className:n,href:i,ref:t,hasKeyboardFocus:l},u),r);var b=d.a.firefox&&d.a.version<"52"?I:"button",m=p()({"c-button--focus-visible":l},n);return c.a.createElement(b,a()({className:m,type:s,ref:t},u),r)});S.defaultProps=w,S.displayName="BaseButton";t.a=Object(m.a)(S)},"5tH5":function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return j}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return E});var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("YEIV"),c=n.n(s),l=n("owWc"),u=n("NFsq"),d=n("nNoG"),b=n("1VpL"),p=n("VjHM"),h=n("V18M"),m=n("4v0o"),f=n("wHps"),v=n("btH0"),g=new d.b("model"),_=new d.b("threads"),O=m.a,y=f.a;function j(e){return Object(v.a)(e)}function k(e){return Object(u.a)(O,e)||"Vapp_space"===e?{id:e,name:(t={},c()(t,O.allUnreads,g.t("All Unreads")),c()(t,O.allThreads,_.t("Threads")),c()(t,"Vapp_space",g.t("Apps")),c()(t,O.search,"Search Results"),t)[e],is_view:!0}:null;var t}function E(e){return Object(l.a)(o()({},O,{appSpace:"Vapp_space"}),function(t,n){return("Vapp_space"!==n||Object(b.g)(e))&&(n!==O.allUnreads||Object(p.g)(e,"enable_unread_view"))&&(n!==O.search||Object(h.a)(e))?[].concat(a()(t),[k(n)]):t},[])}},"5vPQ":function(e,t,n){},"5yEy":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("x91h"),h=n("ifKl"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("XHGt"),_=n("tn36"),O=n("TSYQ"),y=n.n(O),j=n("clTI"),k=n("P2f5"),E=n("HO/Y"),C=n("1tet"),I=n("7WZX"),w=n("FN36"),S=n("Ykz6"),T=n("13mM"),R=n("rO6I"),N=n("Tg3t"),x=n("0F/N"),M=n("HvGc"),P=n("7DVE"),A=n("iZHp"),D=n("MrXf"),L=n("XfeM"),q=n("DTT0"),F=n("7EGn"),B=n("2Jxo"),U=n("U3Q0"),H=n("8wro"),K=n("fL8H"),G=n("aLpA"),V=n("nNoG"),z=n("JvzI"),Y=n("yHhI"),W=n("XoJV"),Q=(n("T/b3"),new V.b("snippet-dialog")),X=(v.b.object,v.b.bool,v.b.object.isRequired,v.b.bool.isRequired,v.b.func.isRequired,v.b.func.isRequired,v.b.func.isRequired,{file:void 0,fileIsFetching:!1}),Z=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(_.a)(n,["handleFileNameChange","handleFileTypeChange","handleFileContentChange","handleSubmit","shouldShowSpeedBump"]);var r=e.file;return n.state=a()({submitting:!1},n.getInitialState(r)),n.edited=!1,n}return b()(t,e),c()(t,[{key:"getInitialState",value:function(e){var t=Object(F.a)(e,"title");return t&&(t=Object(p.a)(t),t=Object(W.d)({locale:Object(z.a)(),text:t})),{fileName:t,fileType:Object(F.a)(e,"filetype"),fileContent:Object(F.a)(e,"content")}}},{key:"componentDidUpdate",value:function(e){e.file===this.props.file||this.edited||this.updateInitialState(this.props.file)}},{key:"componentWillUnmount",value:function(){this.pendingSave&&this.pendingSave.cancel()}},{key:"updateInitialState",value:function(e){var t=this;this.setState(function(){return t.getInitialState(e)})}},{key:"shouldShowSpeedBump",value:function(e){if("cancel"===e||"close"===e){var t=this.state.fileContent,n=this.props.file;return t!==Object(F.a)(n,"content")}return!1}},{key:"handleFileNameChange",value:function(e){this.setState(function(){return{fileName:e}})}},{key:"handleFileTypeChange",value:function(e){this.setState(function(){return{fileType:e}})}},{key:"handleFileContentChange",value:function(e){this.edited=!0,this.setState(function(){return{fileContent:e}})}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.file,r=t.logger,a=t.featureSonicSnippets,i=this.state,o=i.fileName,s=i.fileType,c=i.fileContent;return!!a&&(this.setState(function(){return{submitting:!0}}),this.pendingSave=this.props.editSnippet({fileId:n.id,title:Object(W.c)({locale:Object(z.a)(),text:o}),content:c,filetype:s,reason:"edit-snippet-dialog/handleSubmit"}).then(function(){e.pendingSave=null,e.props.closeModal()}).catch(function(t){e.pendingSave=null,e.setState(function(){return{submitting:!1}}),r.error("EDIT-SNIPPET",t,{subtype:"edit_snippet_api_fail"}),e.props.openModal({element:f.a.createElement(K.a,{title:Q.t("Saving failed")},Q.t("Sorry, something went wrong with saving your changes. Try again in a moment.")),isStackable:!0})}),!1)}},{key:"isGoDisabled",value:function(){var e=this.state,t=e.fileContent,n=e.fileName;return this.state.submitting||n.length>G.v||!t}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.fileIsFetching;if(!e.featureSonicSnippets||!t)return null;var r=this.state,a=r.fileName,i=r.fileType,o=r.fileContent,s=Q.t("Edit snippet"),c=Q.t("Save Changes"),l=n&&!o,u=l?Q.t("Loading..."):o;return f.a.createElement(U.a,{className:"p-snippet_dialog",title:s,goButtonText:c,useSlackScrollbarWithPadding:!0,onGo:this.handleSubmit,goButtonIsDisabled:this.isGoDisabled(),getShouldShowSpeedBump:this.shouldShowSpeedBump,speedBumpBodyText:Q.t("Are you sure you want to discard your changes?"),speedBumpCancelButtonText:Q.t("No, keep it"),speedBumpContinueButtonText:Q.t("Yes, discard the changes")},f.a.createElement(H.a,{fileName:a,onFileNameChange:this.handleFileNameChange,fileType:i,onFileTypeChange:this.handleFileTypeChange,fileContent:u||"",onFileContentChange:this.handleFileContentChange,onKBSubmit:this.handleSubmit,readOnly:l}))}}]),t}(m.PureComponent);Z.displayName="EditSnippetDialog",Z.defaultProps=X;var J=Object(g.b)(function(e,t){var n=t.fileId;return{logger:Object(Y.a)({state:e}),file:Object(k.h)(e,n),featureSonicSnippets:Object(E.j)(e,"feature_sonic_snippets")}},function(e){return{editSnippet:function(){return e(k.e.apply(void 0,arguments))},closeModal:function(){return e(q.a.apply(void 0,arguments))},openModal:function(){return e(q.e.apply(void 0,arguments))}}})(Z),$=Object(B.a)(J,{alwaysFetchOnMount:!0}),ee=Object(L.b)("Loads an existing snippet into the snippet editor",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;e(Object(q.e)({element:f.a.createElement($,{fileId:n})}))});ee.propTypes={fileId:v.b.string.isRequired};var te=ee,ne=n("Qyw2"),re=n("auxT"),ae=n("uf9I"),ie=n("EDLf"),oe=n("P9LH"),se=n("N0/W"),ce=n("yPgC"),le=n("XLFM"),ue=n("od5y"),de=n("RAhH"),be=n("MREy"),pe=n("g5qt"),he=n("9/DQ"),me=n("QLsh"),fe=n("Ggy7"),ve=n("8pCN"),ge=n("O1SN"),_e=n("u7Kl"),Oe=n("IhBA"),ye=(n("GLRY"),new V.b("file")),je=(ce.a.File().isRequired,v.b.objectOf(v.b.bool),v.b.string,v.b.bool,v.b.bool,v.b.bool,v.b.bool,v.b.bool,v.b.number,v.b.bool,v.b.bool,v.b.bool,v.b.func,v.b.func,v.b.bool,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.func,v.b.string,v.b.func,v.b.bool,v.b.bool,v.b.bool,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool,v.b.string,v.b.bool,v.b.string,{fileActions:null,channelId:null,isImage:!1,isSnippet:!1,isEmail:!1,isDocFile:!1,isExpanded:!1,isFileAuthorExternal:!1,fileRefreshState:N.a.READY,inFileDetails:!1,includeRootDownloadAction:!0,includeRootStarAction:!1,pinFile:h.a,unpinFile:h.a,updateStar:h.a,collapse:h.a,refreshFile:h.a,startDesktopDownload:h.a,clogLinkClick:h.a,openRenameFileDialog:h.a,openDeleteFileDialog:h.a,previewFile:h.a,openShareDialog:h.a,openEditSnippetDialog:h.a,openFilePublicUrlDialog:h.a,createPublicFileUrlAndOpenDialog:h.a,openFileInNewWindow:h.a,enqueueToast:h.a,checkIPForBlockedDownloads:h.a,teamId:null,editFile:h.a,featureReactMessages:!1,featureModernDeleteFile:!1,featureSonicSnippets:!1,blockFileDownloadsForUntrustedClients:!1,className:void 0,useRowAction:!1,appName:void 0}),ke=function(e){return e.stopPropagation()},Ee=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(_.a)(n,["deleteFile","onCollapse","onComment","onDownload","onEdit","onPin","onRemovePreview","onShare","onStar","openWindow","renameFile","renderMenu"]),n}return b()(t,e),c()(t,[{key:"onCollapse",value:function(){var e;(e=this.props).collapse.apply(e,arguments),this.props.clogLinkClick({subtype:"file_collapse"})}},{key:"onDownload",value:function(e){var t=this,n=this.props,r=n.file,a=n.blockFileDownloadsForUntrustedClients,i=n.checkIPForBlockedDownloads;if(e.stopPropagation(),a){if(e.persist(),!this.downloadIsAllowed)return e.preventDefault(),void i().then(function(n){n.ip_allowed?(t.downloadIsAllowed=!0,e.target.click()):t.showBlockedDownloadToast()}).catch(function(){t.showBlockedDownloadToast()});this.downloadIsAllowed=null}this.props.clogLinkClick({link_action:"file_ssb_download_link",subtype:"file_download",is_successful:!0}),pe.X&&(this.props.startDesktopDownload({fileId:r.id,downloadUrl:r.url_private_download,showFlexpane:!0}),e.preventDefault())}},{key:"onComment",value:function(e){e.stopPropagation(),this.props.clogLinkClick({link_action:"file_comment_link"}),this.props.previewFile({fileId:this.props.file.id})}},{key:"onEdit",value:function(e){var t=this.props,n=t.file,r=t.featureSonicSnippets;e.stopPropagation(),r?this.props.openEditSnippetDialog({fileId:n.id}):Object(fe.b)(n.id)}},{key:"onPin",value:function(e){var t=this.props,n=t.file,r=t.channelId,a=t.pinFile,i=t.unpinFile;return e?i({fileId:n.id,channelId:r}):a({fileId:n.id,channelId:r})}},{key:"onShare",value:function(){var e=this.props,t=e.channelId,n=e.file;this.props.openShareDialog({fileId:n.id,initialChannelId:t})}},{key:"onStar",value:function(){var e=this.props.file;this.props.updateStar(!Object(oe.L)(e),{file:e.id})}},{key:"onRemovePreview",value:function(){var e=this.props.file;this.props.clogLinkClick({contexts:{ui_context:{action:"delete",ui_component:"file_preview"}}}),this.props.editFile({fileId:e.id,title:e.title,removeThumbPdf:!0})}},{key:"getTitleForAriaLabel",value:function(){return Object(V.n)(Object(p.a)(this.props.file.title))}},{key:"showBlockedDownloadToast",value:function(){this.props.enqueueToast({element:f.a.createElement(ge.a,null)})}},{key:"renameFile",value:function(){var e=this.props.file;this.props.openRenameFileDialog({file:e})}},{key:"deleteFile",value:function(){var e=this.props.file;this.props.openDeleteFileDialog({fileId:e.id})}},{key:"openWindow",value:function(e){var t=this.props.file;e.stopPropagation(),pe.X&&(Object(oe.g)(t)?(this.props.openFileInNewWindow({file:t}),e.preventDefault()):Object(me.openFileWindow)(this.props.file.id)&&e.preventDefault())}},{key:"renderActionButton",value:function(e){if(this.props.useRowAction)return f.a.createElement(ve.a,e);var t=e.icon,n=e.tooltip,r=e.href,a=e.dark,i=e.onClick,o=e.ariaLabel,s=e["data-qa"],c=f.a.createElement(le.c,{className:y()("c-file__action_button","c-file__action_button--icon",{"c-file__action_button--dark":a}),href:r,onClick:i,"aria-label":o||n,"data-qa":s},f.a.createElement(ue.a,{type:t}));return n?f.a.createElement(de.c,{tip:n,delay:de.a},c):c}},{key:"renderMenu",value:function(e){var t=this.props,n=t.file,r=t.fileActions,i=t.isSnippet,o=t.fileRefreshState,s=t.clogLinkClick,c=t.teamId,l=t.inFileDetails,u=t.featureModernDeleteFile,d=t.featureOfflineMode,b=t.isOffline,p={file:n,isSnippet:i,fileRefreshState:o,clogLinkClick:s,teamId:c,inFileDetails:l,featureModernDeleteFile:u,refreshFile:this.props.refreshFile,includeDownload:!this.props.includeRootDownloadAction,onDownload:this.onDownload,includeStar:!this.props.includeRootStarAction,updateStar:this.props.updateStar,renameFile:this.renameFile,onPin:this.onPin,actions:r,previewFile:this.props.previewFile,deleteFile:this.deleteFile,removePreview:this.onRemovePreview,openFilePublicUrlDialog:this.props.openFilePublicUrlDialog,createPublicFileUrlAndOpenDialog:this.props.createPublicFileUrlAndOpenDialog,featureOfflineMode:d,isOffline:b,openWindow:this.openWindow},h=Object(Oe.a)(p);return f.a.createElement(be.a,a()({},e,{width:220,template:h,stripTerminalSeparators:!0,onMenuItemSelected:function(t,n){return!n.defaultPrevented&&e.onMenuItemSelected(t,n)}}))}},{key:"renderStar",value:function(){var e=this.props.file,t=void 0,n=void 0;return Object(oe.L)(e)?(t="small-star-filled",n=ye.t("Unstar file")):(t="small-star",n=ye.t("Star file")),this.renderActionButton({icon:t,tooltip:n,onClick:this.onStar,dark:!0,"data-qa":"star_file"})}},{key:"renderCollapse",value:function(){return this.props.isExpanded?this.renderActionButton({icon:"collapse-vertical",tooltip:ye.t("Collapse"),onClick:this.onCollapse,dark:!0,ariaLabel:ye.t("Collapse {fileTitle}",{fileTitle:this.getTitleForAriaLabel()}),"data-qa":"collapse_action"}):null}},{key:"renderDownload",value:function(){var e=this.props,t=e.file,n=e.fileActions;if(Object(oe.B)(t)||Object(oe.K)(t)||Object(oe.g)(t))return null;if(!n.download)return null;var r={icon:"cloud-download",tooltip:ye.t("Download"),href:t.url_private_download,onClick:this.onDownload,ariaLabel:ye.t("Download {fileTitle}",{fileTitle:this.getTitleForAriaLabel()}),"data-qa":"download_action"};return this.renderActionButton(r)}},{key:"renderExternal",value:function(e){var t=this.props,n=t.file,r=t.isSnippet,a=t.isEmail;if(!(Object(oe.B)(n)||a||r&&!e.edit||Object(oe.g)(n)&&!e.edit))return null;var i=Object(oe.B)(n)?n.url_private:n.permalink,o=function(){if(!Object(oe.B)(n))return ye.t("Open in new window");switch(n.external_type){case"gdrive":return ye.t("Open file on Google Drive");case"dropbox":return ye.t("Open file on Dropbox");case"box":return ye.t("Open file on Box");case"onedrive":return ye.t("Open file on OneDrive");default:return ye.t("Open file on a web page")}}(),s=Object(oe.B)(n)?null:this.openWindow;return this.renderActionButton({icon:"external-link",tooltip:o,href:i,onClick:s})}},{key:"renderRemote",value:function(){var e=this.props,t=e.file,n=e.appName;if(!Object(oe.K)(t))return null;var r=t.url_private,a=this.openWindow,i=ye.t("Click to open in {appName}",{appName:n,fallbackHash:"97f5e2857d91c560ba778d8fbe539052be938835",fallbackHashNs:"files"});return this.renderActionButton({icon:"external-link",tooltip:i,href:r,onClick:a})}},{key:"renderEdit",value:function(e){var t=this.props,n=t.file,r=t.isSnippet;if(!e.edit)return null;if(r){var a=ye.t("Edit {fileTitle}",{fileTitle:this.getTitleForAriaLabel()});return Object(oe.D)(n)?this.renderActionButton({icon:"pencil",tooltip:ye.t("Edit"),href:n.edit_link,onClick:ke,ariaLabel:a}):this.renderActionButton({icon:"pencil",tooltip:ye.t("Edit"),onClick:this.onEdit,ariaLabel:a})}var i=ye.t("Edit {fileTitle} in new window",{fileTitle:this.getTitleForAriaLabel()});return this.renderActionButton({icon:"external-link",tooltip:ye.t("Edit in new window"),href:n.permalink,onClick:this.openWindow,ariaLabel:i,"data-qa":"edit_new_window"})}},{key:"renderShare",value:function(){var e=this.props.fileActions;if(!e.share&&!e.share_private_file)return null;var t=ye.t("Share {fileTitle}",{fileTitle:this.getTitleForAriaLabel()});return this.renderActionButton({icon:"share-action",tooltip:ye.t("Share file\u2026",{fallbackHash:"9056b6c934805611f8d5a90ad5c937b656be6641"}),onClick:this.onShare,ariaLabel:t,"data-qa":"share_file"})}},{key:"render",value:function(){var e=this.props,t=e.fileActions,n=e.className,r=e.useRowAction,a=e.includeRootDownloadAction,i=e.includeRootStarAction,o=e.featureOfflineMode,s=e.isOffline,c=e.wasRecentlyOnline,l=ye.t("{fileTitle}: More actions",{fileTitle:this.getTitleForAriaLabel()}),u=o?!s&&a:a,d=ye.t("More actions");return o&&!c&&(d=f.a.createElement(re.a,{tooltipLabel:d})),r?f.a.createElement(ve.b,{customClasses:y()("c-file__actions",n)},this.renderCollapse(),u&&this.renderDownload(),this.renderEdit(t),this.renderExternal(t),this.renderRemote(),this.renderShare(),i&&this.renderStar(),f.a.createElement(ve.a,{menuProps:{renderMenu:this.renderMenu,offsetX:-4},tooltip:d,icon:"ellipsis","data-qa":"more_file_actions",onClick:h.a})):f.a.createElement("div",{className:y()("c-file__actions",n)},this.renderCollapse(),u&&this.renderDownload(),this.renderEdit(t),this.renderExternal(t),this.renderRemote(),this.renderShare(),i&&this.renderStar(),f.a.createElement(be.e,{renderMenu:this.renderMenu,position:"left-bottom",offsetX:-4},f.a.createElement("span",null,f.a.createElement(de.c,{tip:d,delay:de.a,position:"top-right"},f.a.createElement(le.c,{className:"c-file__action_button c-file__action_button--icon","aria-label":l,"data-qa":"more_file_actions"},f.a.createElement(ue.a,{type:"ellipsis"}))))))}}]),t}(f.a.PureComponent);Ee.displayName="FileActions",Ee.defaultProps=je;t.a=Object(g.b)(function(e,t){var n=Object(j.d)(e,t.channelId),r=Object(oe.p)(t.file);return{fileActions:Object(_e.a)(e,t.file)||{},isImage:"image"===r,isSnippet:"snippet"===r,isEmail:"email"===r,channelId:n&&n.id,isFileAuthorExternal:Object(k.l)(e,t.file.id),fileRefreshState:Object(N.c)(e,t.file.id),teamId:Object(ae.b)(e),featureReactMessages:Object(E.j)(e,"feature_react_messages"),featureModernDeleteFile:Object(E.j)(e,"feature_modern_delete_file"),featureSonicSnippets:Object(E.j)(e,"feature_sonic_snippets"),featureOfflineMode:Object(E.j)(e,"feature_offline_mode"),blockFileDownloadsForUntrustedClients:Object(w.a)(e,"block_file_download"),isDocFile:Object(oe.c)(t.file),isOffline:!Object(T.c)(e),wasRecentlyOnline:Object(T.h)(e),appName:Object(k.g)(e,t.file)}},function(e){return{pinFile:function(){return e(C.l.apply(void 0,arguments))},unpinFile:function(){return e(C.p.apply(void 0,arguments))},refreshFile:function(){return e(R.b.apply(void 0,arguments))},updateStar:function(){return e(x.a.apply(void 0,arguments))},openRenameFileDialog:function(){return e(P.a.apply(void 0,arguments))},previewFile:function(){return e(M.c.apply(void 0,arguments))},openShareDialog:function(){return e(A.a.apply(void 0,arguments))},startDesktopDownload:function(){return e(he.r.apply(void 0,arguments))},openDeleteFileDialog:function(){return e(D.a.apply(void 0,arguments))},editFile:function(){return e(se.d.apply(void 0,arguments))},openEditSnippetDialog:function(){return e(te.apply(void 0,arguments))},openFilePublicUrlDialog:function(){return e(ie.b.apply(void 0,arguments))},createPublicFileUrlAndOpenDialog:function(){return e(ie.a.apply(void 0,arguments))},openFileInNewWindow:function(){return e(ne.a.apply(void 0,arguments))},enqueueToast:function(){return e(I.c.apply(void 0,arguments))},checkIPForBlockedDownloads:function(){return e(Object(S.a)({reason:"FileActions_checkIP"}))}}})(Ee)},"60Se":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("X6iR"),c=n("weu1"),l=n("i26o"),u=n("uwE/"),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a()(this,e),this._string=t}return o()(e,[{key:"lastUnigramQuery",value:function(){return new e(this._string.split(/\s+/).slice(-1)[0])}},{key:"lastUnigramPrefixQuery",value:function(){return new e(Object(c.a)(this._string.split(/\s+/).slice(0,-1)," "))}},{key:"lastBigramQuery",value:function(){return new e(Object(c.a)(this._string.split(/\s+/).slice(-2)," "))}},{key:"lastBigramPrefixQuery",value:function(){return new e(Object(c.a)(this._string.split(/\s+/).slice(0,-2)," "))}},{key:"normalQuery",value:function(){return new e(this._string.toLowerCase())}},{key:"asQuerySuggestion",value:function(e){return l.f.fromString(e,this.toString())}},{key:"isModifierMatch",value:function(e){var t=Object(u.f)()[e];return this._string.length>=1&&(Object(s.a)(e+":",this._string)||Object(s.a)(e+" ",this._string)||t&&(Object(s.a)(t+":",this._string)||Object(s.a)(t+" ",this._string)))||Object(s.a)(this._string,e)&&(this._string.length<=e.length||":"===this._string[e.length]||" "===this._string[e.length])||t&&Object(s.a)(this._string,t)&&(this._string.length<=t.length||":"===this._string[t.length]||" "===this._string[t.length])}},{key:"isEmpty",value:function(){return!this._string}},{key:"toString",value:function(){return this._string}}]),e}()},"61j7":function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("HO/Y"),c=n("QbLZ"),l=n.n(c),u=n("om+M"),d=n("4zXV"),b=n("w0D2"),p=Object(u.a)("Load transalations",function(e,t,n){var r=n.args;return e(Object(d.a)({method:"i18n.translations.get",args:r}))});function h(e){return e.map(function(e){return[e.emoji||"",e.text||"",e.canonical||"",e.duration||"no_expiration"]})}p.propTypes={args:i.b.object};var m=Object(u.a)("Load custom status presets in the users local",function(e,t){return e(p({args:{include_custom_status:!0}})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).custom_status_presets;if(!e)return h(Object(b.a)(t()));var n={};return e.forEach(function(e){n[e.text_canonical]=e.text}),h(Object(b.a)(t()).map(function(e){return l()({},e,{text:n[e.canonical]||e.text})}))})}),f=n("+cPl"),v=n("FN36"),g=n("zWa+");n.d(t,"a",function(){return _}),n.d(t,"b",function(){return O});var _=Object(o.b)("Update one team pref foo",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pref,a=n.value;e(Object(g.b)({pref:r,value:a})),"uses_customized_custom_status_presets"===r&&!1===a&&e(m()).then(function(t){e(_({pref:"custom_status_presets",value:t}))})});_.propTypes={pref:i.b.string.isRequired,value:i.b.any.isRequired};var O=Object(o.b)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pref,i=n.value,o=void 0===i?null:i,c=n.otherPrefsToCheck,l=void 0===c?[]:c,u=n.optimistically,d=void 0===u||u,b=t(),p=Object(v.a)(b,r);return d&&e(_({pref:r,value:o})),e(Object(f.e)({pref:r,value:o})).tap(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).prefs;if(Object(s.l)(b)){var n=t||{};[r].concat(a()(l)).filter(function(e){return void 0!==n[e]}).forEach(function(t){e(_({pref:t,value:n[t]}))})}}).catch(function(t){throw d&&e(_({pref:r,value:p})),t})});Object(o.b)("Set multiple prefs via the setPref API, updating local prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t(),a={},i=Object.keys(n);return i.length?(i.forEach(function(e){a[e]=Object(v.a)(r,e)}),e(Object(g.a)(n)),e(Object(f.a)(n)).catch(function(){e(Object(g.a)(a))})):Promise.reject(new Error("No prefs were passed."))}).propTypes={prefs:i.b.object},O.propTypes={pref:i.b.string.isRequired,value:i.b.any,otherPrefsToCheck:i.b.arrayOf(i.b.string),optimistically:i.b.bool}},"699E":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r={medium:"medium",large:"large"},a={medium:26,large:32}},"6FZx":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return b});var r=n("QbLZ"),a=n.n(r),i=n("OZf9"),o=n("aK/h"),s=n("yHhI"),c=n("rWF5"),l="_isSlackMenuItem",u={menuCallback:o.b.func,menuCallbackId:o.b.number,highlighted:o.b.bool};function d(e){return!!e[l]}function b(e){if(c.k){var t=e.propTypes||{},n=void 0;Object.defineProperty(e,"propTypes",{get:function(){return n},set:function(t){var r=e.displayName||e.name||"Component";Object(i.a)(u,function(e,n){var a=t[n];a&&a!==e&&a!==e.isRequired&&Object(s.b)().warn(r+"'s "+n+" prop type doesn't match menu item")}),n=a()({},u,t)}}),e.propTypes=t}return e[l]=!0,e}},"6GV3":function(e,t,n){"use strict";var r=n("qAkX"),a=n("F294"),i=[1024,512,192,72,48,32,24];t.a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i).slice().sort(function(e,t){return t-e}),n=Object(a.a)(t),o=Object(r.a)(t);if(!e||e<=o)return o;if(e>=n)return n;for(var s=n,c=0;c<t.length;c+=1)t[c]>=e&&(s=t[c]);return s}},"6Iy0":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n("aLpA"),a=[r.e.users_select,r.e.conversations_select,r.e.channels_select,r.e.multi_users_select,r.e.multi_conversations_select,r.e.multi_channels_select,r.e.external_select,r.e.static_select,r.e.datepicker,r.e.plain_text_input],i={message:"message",message_attachment:"message_attachment",search:"search",threads_flexpane:"threads_flexpane",block_kit_builder:"block_kit_builder",delete_dialog:"delete_dialog",share_dialog:"share_dialog",app_actions:"app_actions",block_kit_builder_template:"block_kit_builder_template",workflow_message_preview:"workflow_message_preview",all_threads:"all_threads",all_unreads:"all_unreads",shared_message:"shared_message",starred_message:"starred_message",activity:"activity",pinned_items:"pinned_items",modal:"modal",view:"view"}},"6Jf9":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("XfeM"),d=n("HO/Y"),b=n("DTT0"),p=n("iCc5"),h=n.n(p),m=n("V7oC"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("mRg0"),O=n.n(_),y=n("fujP"),j=n("ifKl"),k=n("XHGt"),E=n("tn36"),C=n("aolG"),I=n("UxT1"),w=n("D4L/"),S=n("cqED"),T=n("F7O2"),R=n("kOzZ"),N=n("yHhI"),x=n("Zr7G"),M=n("FN36"),P=n("VjHM"),A=n("clTI"),D=n("DtX9"),L=n("Fdc0"),q=n("5mKg"),F=n("UEyp"),B=n("iqSe"),U=n("ewFY"),H=n("+eoN"),K=n("HA5h"),G=n("dYt1"),V=n("lCmp"),z=n("CpTu"),Y=n("3Hq1"),W=n("7EGn"),Q=n("TGBA"),X=n("9ToC"),Z=n("nNoG"),J=n("vJtL"),$=n("7nxQ"),ee=n("81nI"),te=n("0f2Y"),ne=new Z.b("invite-errors"),re=function(e){if(!e.featureModernizeInvites)return"";var t={url_in_message:ne.t("Sorry, but URLs are not allowed in the custom message. Please remove it and try again!",{fallbackHash:"c5c67b5cc285cd50bd21d7c8a5f7c7b3062a2355",fallbackHashNs:"invite"}),invalid_email:ne.t("That doesn\u2019t look like a valid email address!",{fallbackHash:"76661e07127b04a9a5f2432546db6d1e207ada8e",fallbackHashNs:"invite"}),already_in_team:ne.t("This person is already in your workspace.",{fallbackHash:"9f2c048973975735011104ec8346227563fc7f0f",fallbackHashNs:"invite"}),already_in_team_invited_user:ne.t("This person is already in your workspace.",{fallbackHash:"9f2c048973975735011104ec8346227563fc7f0f",fallbackHashNs:"invite"}),user_disabled:ne.rt("This person is already in your workspace, but their account is deactivated. You can <Link>manage</Link> their account.",{fallbackHash:"6e4e7f3247110a03f76b3129f91131e8220a1f7d",fallbackHashNs:"invite"},function(e){var t=e.key,n=e.text;return c.a.createElement(te.a,{key:t,href:"https://my.slack.com/admin#disabled"},n)}),already_invited:ne.t("This person has already been invited to your workspace.",{fallbackHash:"3224a0142154d4e26bfc0ce3cc8e5e2e214ec320",fallbackHashNs:"invite"}),sent_recently:ne.t("This person was recently invited. No need to invite them again just yet.",{fallbackHash:"7863e871fac1b7c7f04652d5aa29c07f0f8f689b",fallbackHashNs:"invite"}),invite_failed:ne.t("Something went wrong with this invite :(",{fallbackHash:"3833f5b042469f9bd925c62b591a0c323804da8f",fallbackHashNs:"invite"}),ura_limit_reached:ne.t("You\u2019ve reached your workspace limit for Single-channel Guests. You must invite more paid members first.",{fallbackHash:"1dedfc01a2aee3b85da6258ea559a54f94bc7476",fallbackHashNs:"invite"}),user_limit_reached:ne.t("You\u2019ve reached the maximum number of users for this workspace.",{fallbackHash:"839d8fe3ee7deef6a76c9554335898226b9a0f1f",fallbackHashNs:"invite"}),not_allowed:ne.t("You can\u2019t invite this type of account based on your current SSO settings.",{fallbackHash:"77ca9f6115ea855da15e90a9a15011a102b49a0b",fallbackHashNs:"invite"}),custom_message_not_allowed:ne.t("Sorry, you can\u2019t add a custom message to this invite. Please remove it and try again!",{fallbackHash:"eff36ebe297c32b61029d9e406be6c352163a934",fallbackHashNs:"invite"}),domain_mismatch:ne.t("Your SSO settings prevent you from inviting people from this email domain.",{fallbackHash:"8cf982312dab7c9deb914a3c2cacb05f81f35d21",fallbackHashNs:"invite"}),invite_limit_reached:ne.rt("Your workspace has exceeded the limit on invitations. After more people have accepted the ones your workspace has sent, you can send more. Revoking invitations will not lift the limit. Our Help Center has <Link>more details on invitation limits</Link>.",{fallbackHash:"077ba36b3323ba4ce03078ec53454a5773ada919",fallbackHashNs:"invite"},function(e){var t=e.key,n=e.text;return c.a.createElement(te.a,{key:t,href:Object(ee.b)({articleId:201330256,zdLocale:Object($.a)()})+"#invitation_limits"},n)}),too_long:ne.t("This person\u2019s name exceeds the 35-character limit.",{fallbackHash:"d6245db3b501f2fbed8a82aa812e7fa4da6bcfba",fallbackHashNs:"invite"}),org_user_is_disabled:ne.t("This person has a deactivated account for your organization.",{fallbackHash:"103cd16b82eb395900a6a8664128ff5b47970225",fallbackHashNs:"invite"}),org_user_is_disabled_but_present:ne.t("This person is already in your workspace, but they have been deactivated by your organization. Contact an organization administrator to re-enable their account.",{fallbackHash:"733ce03fbafeb23d1b3265c93f87104f0356e6c1",fallbackHashNs:"invite"}),mismatch_with_pending_team_invite:function(e){switch(e.userType){case"ultra_restricted":return ne.t("This person can\u2019t be invited, because they have already been invited as a Single-Channel Guest to your organization.",{fallbackHash:"9fceb667eb3c37135589a1cb1058998cfb727b1c",fallbackHashNs:"invite"});case"restricted":return ne.t("This person can\u2019t be invited, because they have already been invited as a Multi-Channel Guest to your organization.",{fallbackHash:"43bb8bd623affb0e68ced227d81a8e04061338c3",fallbackHashNs:"invite"});default:return ne.t("This person can\u2019t be invited, because they have already been invited as a Full Member to your organization.",{fallbackHash:"713f0aced7ee6071f30ecb3f4e8f7c69f73e55c2",fallbackHashNs:"invite"})}},user_type_mismatch:function(e){switch(e.issue){case"org_user_is_restricted":return ne.t("This person already has a Multi-Channel Guest account for your organization, so you can only invite them in that role.",{fallbackHash:"bf325ef57c0e4821cd51813cfdfe53a3979a4f3a",fallbackHashNs:"invite"});case"org_user_is_ultra_restricted":return ne.t("This person already has a Single-Channel Guest account for your organization, so you can only invite them in that role.",{fallbackHash:"e14e30ef4965ada976e1ad6208c743e28c86b60b",fallbackHashNs:"invite"});case"org_user_not_restricted":case"org_user_not_ultra_restricted":return ne.t("This person already has a Full Member account for your organization, so you can only invite them in that role.",{fallbackHash:"bf25d92a7b1e707b872d56f3fcb9cad89af135ea",fallbackHashNs:"invite"});default:return ne.t("This person already has an account for your organization.",{fallbackHash:"c30fbc31c6b47bfad1851b6f5776ed3cd02eac08",fallbackHashNs:"invite"})}},requires_channel:ne.t("Pick at least one channel before inviting Multi-Channel Guests.",{fallbackHash:"7f285e6039d3dc1caff8ddd26cfcdce5365ba366",fallbackHashNs:"invite"}),requires_one_channel:ne.t("Pick a channel before inviting Single-Channel Guests.",{fallbackHash:"495e862008c57a1766c72f4a4ee2da9f4e0aaaa6",fallbackHashNs:"invite"}),already_requested:e.featureRequestToInvite?ne.t("You\u2019ve already requested an invite for this person.",{fallbackHash:"504bb70ffb3ee64ed192f268a4d669766acd64fa",fallbackHashNs:"invite"}):""},n=e.errorKey,r=e.userType,a=e.issue,i=t[n];return Object(J.a)(i)&&(i=i({userType:r,issue:a})),i},ae=n("c8Bs"),ie=n("c695"),oe=n("od5y"),se=n("O0RF"),ce=n("WD4z"),le=n("P3Po"),ue=n("cErB"),de=n("sJy+"),be=n("e4Fz"),pe=n("wd/R"),he=n.n(pe),me=n("CSaH"),fe=n("VyaM"),ve=n("zlNY"),ge=n("llxT"),_e=n("/xNi"),Oe=new Z.b("admin"),ye=(l.b.func,l.b.number,l.b.func,l.b.object.isRequired,{clogInviteModal:j.a,currentExpirationTs:null,onExpirationChange:j.a}),je=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={selectedExpirationOption:null,selectedCustomExpiration:null};var r=e.currentExpirationTs;return r&&(n.state.selectedExpirationOption={label:n.makeCurrentExpirationString(),value:String(r)}),n.handleExpirationChange=n.handleExpirationChange.bind(n),n.handleDatePickerChange=n.handleDatePickerChange.bind(n),n.onClickExpiration=n.onClickExpiration.bind(n),n}return O()(t,e),f()(t,[{key:"onClickExpiration",value:function(){var e=this.props,t=e.clogger;(0,e.clogInviteModal)({elementName:"set_time_limit",elementType:"dropdown"}),t.track("ADMIN_SITE_MANAGE_MEMBERS_ACTION",{contexts:{ui_context:{step:"admin_home",action:"click",ui_element:"ADMIN_ACTION_UPDATE_TIME_LIMIT"}}})}},{key:"makeCurrentExpirationString",value:function(){var e=this.props.currentExpirationTs;if(!e)return null;var t=Object(me.a)(e,"{date}");return Oe.t("Deactivate on {date}",{date:t})}},{key:"makeGuestExpirationTsFromDate",value:function(e){return e.setHours(23,59,59,0),e.getTime()/1e3}},{key:"makeStandardExpirationTs",value:function(){var e=this.props.currentExpirationTs,t=this.state.selectedExpirationOption.value,n=void 0;if("0"===t)n=0;else if(t===String(e))n=null;else{var r=new Date,a=parseInt(t,10);r.setDate(r.getDate()+a),n=this.makeGuestExpirationTsFromDate(r)}return n}},{key:"makeCustomExpirationTs",value:function(){var e=this.state.selectedCustomExpiration,t=Object(fe.a)(e,{parseFormat:"YYYY-MM-DD"});return this.makeGuestExpirationTsFromDate(t)}},{key:"handleExpirationChange",value:function(e,t){var n=this;this.setState(function(){return{selectedExpirationOption:{value:e,label:t}}},function(){var t="-1"!==e?n.makeStandardExpirationTs():null;n.props.onExpirationChange(t)})}},{key:"handleDatePickerChange",value:function(e){var t=this;this.setState(function(){return{selectedCustomExpiration:e}},function(){var e=t.makeCustomExpirationTs();t.props.onExpirationChange(e)})}},{key:"maybeRenderDatePicker",value:function(){var e=this.state,t=e.selectedExpirationOption,n=e.selectedCustomExpiration;if(!t||"-1"!==t.value)return null;var r=window.screen.width,a=he()().add(1,"day").format("YYYY-MM-DD"),i=Object(fe.a)(n,{parseFormat:"YYYY-MM-DD",returnMoment:!0}).format("MMMM D, YYYY"),o=r<450?Oe.t("{date}",{date:i,fallbackHash:"36958644c5c8ec9b5aa5322b42214fc53490d1f9",fallbackHashNs:"admin"}):Oe.t("Deactivate on {date}",{date:i});return c.a.createElement(_e.b,{position:"bottom",offsetX:-231,offsetY:-369,selectedDate:n,dateFormat:"YYYY-MM-DD",onDateChange:this.handleDatePickerChange,disableDatesBefore:a,dropdownClassName:"p-admin_member_table__date_picker_wrapper",calendarClassName:"p-admin_member_table__date_picker",modalBodyOpenClassName:"c-date_picker__ReactModal__Body--open"},c.a.createElement(ge.a,{className:"p-admin_member_table__date_picker_trigger","aria-label":Oe.t("Custom expiration date"),"data-qa":"guest_expiration_input_custom_date"},c.a.createElement(oe.b,{type:"calendar",className:"p-search_filter__calendar_icon margin_right_50"}),c.a.createElement("span",null,n?o:"")))}},{key:"render",value:function(){var e=this.props.currentExpirationTs,t=this.state.selectedExpirationOption,n=[{label:Oe.t("No limit"),value:"0"},{label:Oe.t("7 days"),value:"7"},{label:Oe.t("30 days"),value:"30"},{label:Oe.t("60 days"),value:"60"},{label:Oe.t("Custom"),value:"-1"}];return e&&n.push({label:this.makeCurrentExpirationString(),value:String(e)}),c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{htmlFor:"guest_expiration",text:Oe.rt('<span className="bold">Set a time limit</span> <span className="sk_dark_gray">(optional)</span>')},c.a.createElement(ve.d,{id:"guest_expiration",options:n,selectedOption:t,onChange:this.handleExpirationChange,value:t?t.value:null,isDisabled:!1,onOpen:this.onClickExpiration})),this.maybeRenderDatePicker(),c.a.createElement("p",{className:"p-admin_member_table__caption"},Oe.t("Guest accounts will expire on 11:59PM on the last day. We\u2019ll send you a message 2 days prior as a reminder.")))}}]),t}(s.PureComponent);je.displayName="GuestExpirationInput",je.defaultProps=ye;var ke=Object(k.b)(function(e){return{clogger:Object(R.a)({state:e})}})(je),Ee=(n("yhC+"),n("ynxK")),Ce=n("18Pa"),Ie=n("lwWk"),we=new Z.b("invite"),Se=(l.b.bool,l.b.object.isRequired,l.b.func,{featureModernizeInvites:!1,clogInviteModal:j.a}),Te="pricing_plans_link",Re=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogger.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_invites",action:"impression",ui_element:"invite_modal_guest_alert"}}}),this.props.clogInviteModal({step:"invite_email",action:"impression",elementName:"pricing_plans",elementType:"alert"})}},{key:"render",value:function(){var e=this;return this.props.featureModernizeInvites?c.a.createElement("div",{className:"p-invite_members_form__pricing_banner align_center"},c.a.createElement("p",{className:"inline"},c.a.createElement(oe.b,{type:"add_user",className:"p-invite_members_form__pricing_banner__icon margin_right_50",size:20}),c.a.createElement("span",null,we.rt("Workspaces with paid plans can also invite <strong>guests</strong>, like contractors, vendors, or clients.")))," ",c.a.createElement(Ie.a,{className:"no_underline",target:"_blank",href:"/pricing?ui_step=66&ui_element=5","data-qa":Te,onClick:function(){return e.props.clogInviteModal({elementName:"pricing_plans",elementType:"link"})}},we.t("See pricing plans"))):null}}]),t}(s.Component);Re.displayName="PricingPlansBanner";var Ne=Re;Re.defaultProps=Se;var xe=new Z.b("invite"),Me=(l.b.bool,l.b.func,l.b.func,l.b.object,l.b.bool,{featureModernizeInvites:!1,canInviteUsingLink:!1,clogInviteModal:j.a,onClickShareInvitesLink:j.a,activeInviteCodeOb:{}}),Pe="create_invite_link",Ae="share_invite_link",De=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogInviteModal({action:"impression",elementName:"invite_link",elementType:"button"})}},{key:"render",value:function(){var e=this.props,t=e.activeInviteCodeOb,n=e.featureModernizeInvites,r=e.onClickShareInvitesLink,a=e.canInviteUsingLink;return n&&a?c.a.createElement("span",{className:"p-invite_members_form__show_invite_link_view_wrapper"},c.a.createElement(Ee.a,{className:"p-invite_members_form__show_invite_link_view",onClick:function(){return r()}},c.a.createElement(oe.b,{className:"p-invite_members_form__share_invite_icon",type:"link"}),c.a.createElement("span",{className:"p-invite_members_form__show_invite_link_view_copy"},t?c.a.createElement("span",{"data-qa":Ae},xe.t("Share invite link")):c.a.createElement("span",{"data-qa":Pe},xe.t("Get an invite link to share"))))):null}}]),t}(s.Component);De.displayName="InvitesShareButton";var Le=De;De.defaultProps=Me;var qe=n("TSYQ"),Fe=n.n(qe),Be=n("plEq"),Ue=new Z.b("invite"),He=(l.b.bool,l.b.arrayOf(l.b.shape({email:l.b.string,emailError:l.b.string,apiError:l.b.string,name:l.b.string})),l.b.func,l.b.func,l.b.func,l.b.func,{featureModernizeInvites:!1,invites:[],getCopy:j.a,updateInviteEmail:j.a,updateInviteName:j.a,deleteInviteRow:j.a}),Ke="invite_modal_delete_row_button",Ge="invite_modal_invite_email",Ve="invite_modal_invite_name",ze="invite_modal_invite_row",Ye=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"updateInviteEmail",value:function(e){var t=this;return function(n){return t.props.updateInviteEmail(n,e)}}},{key:"updateInviteName",value:function(e){var t=this;return function(n){return t.props.updateInviteName(n,e)}}},{key:"deleteInviteRow",value:function(e){var t=this;return function(){return t.props.deleteInviteRow(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.invites,r=t.getCopy,i=t.featureModernizeInvites;return i?n.map(function(t,o){var s=Fe()("p-invite_members_form__invite_row_field","p-invite_members_form__invite_row_field--name",{"p-invite_members_form__invite_row_field--name_without_close_button":1===n.length}),l="invite_"+o,u={},d={},b=0===o;b?(u.labelId=r("initial_email_label_id"),d.labelId=r("initial_name_label_id")):(u["aria-label"]=r("email_address_label"),d["aria-label"]=r("name_label"));var p=t.emailError,h=t.nameError,m=t.apiError,f=t.userType,v=t.issue,g="";return p?g=p:m&&(g=re({errorKey:m,userType:f,issue:v,featureModernizeInvites:i})),c.a.createElement("div",{className:"p-invite_members_form__invite_row","data-qa":ze,key:l},c.a.createElement("div",{className:"p-invite_members_form__invite_row_field p-invite_members_form__invite_row_field--email-address","data-qa":Ge},c.a.createElement(Be.a,a()({name:"invite_modal_email_"+o,id:"invite_modal_email_"+o,className:"p-invite_members_form__invite_row_input",placeholder:Ue.t("name@example.com"),value:t.email,onChange:e.updateInviteEmail(o),spellCheck:"false",errorText:g,focusOnMount:b},u))),c.a.createElement("div",{className:s,"data-qa":Ve},c.a.createElement(Be.a,a()({name:"invite_modal_name_"+o,id:"invite_modal_name_"+o,placeholder:Ue.t("Optional"),value:t.name,onChange:e.updateInviteName(o),spellCheck:"false",errorText:h},d))),1!==n.length&&c.a.createElement(Ce.a,{className:"p-invite_members_form__invite_row_delete_button",onClick:e.deleteInviteRow(o),"data-qa":Ke,icon:"times"}))}):null}}]),t}(s.Component);Ye.displayName="InviteModalInviteRows",Ye.defaultProps=He;var We=Ye,Qe=n("XLFM"),Xe=new Z.b("invite"),Ze=(l.b.func.isRequired,l.b.bool,l.b.func.isRequired,l.b.bool,"invite_modal_add_row_button"),Je="invite_modal_bulk_invite_button",$e=function(e){var t=e.onClickAddRowButton,n=e.onClickBulkInvite,r=e.featureModernizeInvites,a=e.featureSkInviteModalI18n;return r?c.a.createElement("span",{className:"p-invite_members_form__add_row_and_bulk_copy"},Xe.rt("<AddRowButton>Add another</AddRowButton> or <BulkInviteButton>add many at once</BulkInviteButton>",null,function(e){var r=e.text;switch(e.tag){case"AddRowButton":return c.a.createElement(Qe.c,{className:"p-invite_members_form__add_row_and_bulk_button",onClick:t,"data-qa":Ze,"aria-label":a?Xe.t("Add another email address and name"):null},c.a.createElement(oe.b,{type:"plus_circle",size:20,className:"p-invite_members_form__add_row_icon margin_right_25"})," ",r);case"BulkInviteButton":return c.a.createElement(Qe.c,{className:"p-invite_members_form__add_row_and_bulk_button","data-qa":Je,onClick:n,"aria-label":a?Xe.t("Add many email addresses at once"):null},r);default:return null}})):null};$e.displayName="InviteModalAddRowButtons",$e.defaultProps={featureModernizeInvites:!1,featureSkInviteModalI18n:!1};var et=$e,tt=n("zbZx"),nt=new Z.b("invite"),rt=(l.b.bool.isRequired,l.b.oneOf(Object(Q.a)(U.d)).isRequired,l.b.object.isRequired,l.b.bool,l.b.string,l.b.string,l.b.func,l.b.bool,l.b.bool,l.b.array,l.b.string,{isAdminUser:!1,helpCenterTrackingToken:void 0,source:null,clogInviteModal:j.a,shouldShowSsoAlert:!1,shouldShowGoogleDomainsNotice:!0,emailDomains:[],ssoProviderLabel:null}),at="billing_guide_link",it="change_sso_settings_link",ot="invites_billing_message",st="pending_invites_link",ct=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"renderGoogleDomainsMessage",value:function(){var e=this;if(!this.props.featureModernizeInvites||!this.props.shouldShowGoogleDomainsNotice)return null;var t=nt.rt("You can invite people with email addresses ending in {emailDomains}. <a>Change SSO settings</a>",{emailDomains:Object(Z.h)(this.props.emailDomains,{react:!0})},function(t){var n=t.key,r=t.text;return c.a.createElement(Ie.a,{onClick:function(){return e.props.clogInviteModal({elementName:"change_sso_settings",elementType:"link"})},key:n,href:"/admin/auth/google",className:"underline p-invite_members_form__footer_link",target:"_blank","data-qa":it,rel:"noopener noreferrer"},r)});return c.a.createElement("div",{className:"p-invite_members_form__footer_message"},t)}},{key:"renderBillingMessage",value:function(){var e=this,t=this.props,n=t.currentTeam,r=t.inviteType;if(!t.featureModernizeInvites)return null;if(!(Object(q.B)(n)&&!Object(q.q)(n)&&(r===U.d.REGULAR||r===U.d.RESTRICTED)))return null;var a=nt.t("You'll be charged a prorated amount for each new member."),i=Object(ee.b)({articleId:201723133,locale:Object($.a)(),sidTrackingToken:this.props.helpCenterTrackingToken}),o=nt.rt("See our <a>Guide to billing at Slack</a>.",null,function(t){var n=t.key,r=t.text;return c.a.createElement(Ie.a,{onClick:function(){return e.props.clogInviteModal({elementName:"billing_guide",elementType:"link"})},key:n,href:i,className:"underline p-invite_members_form__footer_link",target:"_blank","data-qa":at,rel:"noopener noreferrer"},r)});return c.a.createElement("div",{className:"p-invite_members_form__footer_message","data-qa":ot},c.a.createElement("span",null,a),c.a.createElement("span",null," ",o))}},{key:"renderSsoMessage",value:function(){if(!this.props.featureModernizeInvites||!this.props.shouldShowSsoAlert)return null;var e=this.props.ssoProviderLabel,t=void 0;return t=e?nt.t("Only people with {accountType} accounts will be able to accept invitations.",{accountType:e}):nt.t("Only people with single sign-on accounts will be able to accept invitations."),c.a.createElement("div",{className:"p-invite_members_form__footer_message"},t)}},{key:"render",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=this.props,n=t.isAdminUser,r=t.source,a=t.currentTeam;return c.a.createElement(s.Fragment,null,c.a.createElement("hr",{className:"margin_bottom_250 margin_top_250"}),this.renderBillingMessage(),this.renderSsoMessage(),this.renderGoogleDomainsMessage(),n?c.a.createElement("div",{className:"margin_top_100 p-invite_members_form__footer_message"},c.a.createElement(te.a,{className:"underline p-invite_members_form__footer_link",onClick:function(){e.props.clogInviteModal({elementName:"admin_invites_view_pending_and_accepted",elementType:"link",elementValue:r}),Object(q.O)(a,"/admin/invites#pending")},"data-qa":st},nt.t("See pending and accepted invites"))):null)}}]),t}(s.Component);ct.displayName="InviteModalFooter",ct.defaultProps=rt;var lt=Object(k.b)(function(e,t){var n=t.inviteType,r=Object(w.d)(e),a=r.email_domain||"";return{currentTeam:r,shouldShowSsoAlert:Object(F.h)({state:e,inviteType:n}),shouldShowGoogleDomainsNotice:Object(F.g)({state:e,inviteType:n}),emailDomains:a.split(","),ssoProviderLabel:Object(tt.c)(Object(w.g)(e))}})(ct),ut=n("vFLu"),dt=(l.b.arrayOf(l.b.shape({email:l.b.string,name:l.b.string})),l.b.bool,l.b.func,l.b.func,l.b.func,l.b.func.isRequired,l.b.string,l.b.bool,l.b.string,l.b.oneOf([U.b.LEGACY_INVITE,U.b.INVITE_REQUEST]),{invites:[],source:null,hasInvitesLimit:!1,clogInviteModal:j.a,onClickBulkInviteCancel:j.a,onClickBulkInviteSubmit:j.a,helpCenterTrackingToken:void 0,featureModernizeInvites:!1,legacyClogEventId:U.b.LEGACY_INVITE}),bt=new Z.b("invite"),pt=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={invitesStr:n.stringifyInvites(e.invites),error:""},n.clogError=n.clogError.bind(n),n.onClickSubmit=n.onClickSubmit.bind(n),n.onClickCancel=n.onClickCancel.bind(n),n.onEmailsChange=n.onEmailsChange.bind(n),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogInviteModal({step:"invite_bulk",action:"impression"})}},{key:"onClickCancel",value:function(){this.props.clogInviteModal({step:"invite_bulk",elementName:"cancel",elementType:"button"}),this.props.onClickBulkInviteCancel()}},{key:"onClickSubmit",value:function(){var e=this;this.props.clogInviteModal({step:"invite_bulk",elementName:"add_invitees",elementType:"button",isPrimaryCta:!0});var t=this.state.invitesStr;if(t.replace(/[\u200B-\u200D\uFEFF]/g,""),t.trim())this.setState(function(){return{isProcessing:!0,error:""}}),this.props.parseEmails({emails:t}).then(function(t){if(t.ok)if(e.props.clogInviteModal({step:"invite_bulk",actionStatus:"success",elementName:"add_invitees",elementType:"button"}),0===t.emails.length){e.clogError("no_email_addresses");var n=bt.t("We couldn\u2019t find any email addresses in that text. Please try again.");e.setState(function(){return{isProcessing:!1,error:n}})}else{e.setState(function(){return{isProcessing:!1,error:""}});var r=[];t.emails.forEach(function(e,t){r[t]={},r[t].email=e.email;var n=e.first_name,a=e.last_name;r[t].name=n&&a?n.concat(" ",a):n}),e.props.onClickBulkInviteSubmit(r)}else e.props.clogInviteModal({step:"invite_bulk",actionStatus:"fail",elementName:"add_invitees",elementType:"button"}),e.showGenericProcessingError()}).catch(function(){e.props.clogInviteModal({step:"invite_bulk",actionStatus:"fail",elementName:"add_invitees",elementType:"button"}),e.showGenericProcessingError()});else{this.clogError("no_email_addresses");var n=bt.t("We couldn\u2019t find any email addresses in that text. Please try again.");this.setState(function(){return{isProcessing:!1,error:n}})}}},{key:"onEmailsChange",value:function(e){this.setState(function(){return{invitesStr:e}})}},{key:"clogError",value:function(e){this.props.clogInviteModal({step:"invite_bulk",action:"error",elementName:e,elementType:"alert"})}},{key:"showGenericProcessingError",value:function(){this.clogError("general_error");var e=bt.t("Oops! There was an error processing those emails. Please try again.");this.setState(function(){return{isProcessing:!1,error:e}})}},{key:"stringifyInvites",value:function(e){var t="";return e.forEach(function(e){e.name&&(t+=e.name+" "),e.email&&(t+="<"+e.email+">, ")}),t}},{key:"renderInvitesLimitText",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=Object(ee.b)({articleId:201330256,locale:Object($.a)(),hash:"invitation_limits",sidTrackingToken:this.props.helpCenterTrackingToken});if(this.props.hasInvitesLimit){var n=bt.rt("Please separate multiple addresses with commas. <strong>Keep in mind that Slack may limit the number of invitations you can send if your workspace currently has a low acceptance rate.</strong>"),r=bt.rt("Our Help Center has <a>more details on invitation limits</a>.",null,function(n){var r=n.key,a=n.text;return c.a.createElement(Ie.a,{key:r,href:t,target:"new",onClick:function(){return e.props.clogInviteModal({step:"invite_bulk",elementName:"help_center_invitation_limits",elementType:"link"})}},a)});return this.props.clogInviteModal({step:"invite_bulk",action:"impression",elementName:"invite_limit",elementType:"copy"}),c.a.createElement("p",{className:"p-bulk_invite_emails__note margin_top_25 normal"},n," ",r)}var a=bt.rt("<strong>Tip:</strong> Copy and paste a list of contacts from your email. Please separate multiple addresses with\xa0commas!");return c.a.createElement("p",{className:"p-bulk_invite_emails__note margin_top_25 normal"},a)}},{key:"renderErrorMessageIfAny",value:function(){var e=this.state.error;return e?c.a.createElement(ce.a,{type:"boxed",level:"warning",icon:"warning",align:"left",className:"margin_bottom_100"},c.a.createElement("span",{"data-qa":"bulk_invites_alert"},e)):null}},{key:"renderSubmitButton",value:function(){var e=this.state.isProcessing,t=this.props,n=t.legacyClogEventId,r=t.source,a=e?bt.t("Processing email addresses ..."):bt.t("Add Invitees");return c.a.createElement(Qe.d,{size:"large",disabled:e,onClick:this.onClickSubmit,type:"primary","data-qa":"bulk_invites_submit_button",className:"margin_right_75","data-clog-click":"true","data-clog-event":n,"data-clog-params":"action=invite_bulk,trigger=click_cta_submit_bulk_btn,source="+r},a)}},{key:"render",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t="bulk-invites-input",n=this.state.invitesStr,r=this.props,a=r.legacyClogEventId,i=r.source;return c.a.createElement(s.Fragment,null,this.renderErrorMessageIfAny(),c.a.createElement(se.a,{text:bt.t("Enter multiple email addresses"),htmlFor:t,id:"textarea-label"},c.a.createElement(ut.b,{id:t,name:t,ariaDescribedby:"textarea-label",onChange:function(t){return e.onEmailsChange(t)},value:n}),this.renderInvitesLimitText(),this.renderSubmitButton(),c.a.createElement(Qe.d,{size:"large",type:"outline",onClick:this.onClickCancel,"data-clog-click":"true","data-clog-event":a,"data-clog-params":"action=switch_view_to_individual,trigger=click_cta_switch_view_to_individual,source="+i},bt.t("Cancel"))))}}]),t}(c.a.Component);pt.displayName="BulkInviteEmails";var ht=pt;pt.defaultProps=dt;var mt=n("m1cH"),ft=n.n(mt),vt=n("zZZw"),gt=n("6kok"),_t=n("20gP"),Ot=n("nlS/"),yt=n("Zhly"),jt=new Z.b("invite"),kt=(l.b.bool,l.b.oneOf(Object(Q.a)(U.d)).isRequired,l.b.arrayOf(l.b.object),l.b.object,l.b.bool,l.b.func,l.b.func,l.b.array,l.b.object,l.b.oneOf([U.b.LEGACY_INVITE,U.b.INVITE_REQUEST]),{featureModernizeInvites:!1,defaultChannels:[],initialChannel:void 0,isAdminUser:!1,clogInviteModal:j.a,updateSelectedChannels:j.a,selectedChannels:[],generalChannel:void 0,legacyClogEventId:U.b.LEGACY_INVITE}),Et="default_channels_label_input_closed",Ct="default_channels_label_input_open",It="edit_add_link",wt="change_defaults_link",St="channel_picker_dropdown",Tt=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showChannelPicker:e.inviteType!==U.d.REGULAR,autoFocusMultiSelect:!1},n.preselectedOptions=n.getPreselectedOptions(),Object(E.a)(n,["showChannelPicker","renderEmptyStateMessage","onSelectedItemsChange","onOptionSelected","processOptions"]),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){if(this.props.selectedChannels.length)this.setState(function(){return{showChannelPicker:!0}});else{var e=this.preselectedOptions.map(function(e){return e.entity});this.props.updateSelectedChannels(e)}}},{key:"onSelectedItemsChange",value:function(e){var t=e.map(function(e){return e.entity});this.props.updateSelectedChannels(t)}},{key:"onOptionSelected",value:function(e){var t=[e.entity];this.props.updateSelectedChannels(t)}},{key:"getChannelsToAutoJoin",value:function(){var e=this.props,t=e.initialChannel,n=e.defaultChannels,r=[].concat(ft()(n));return t&&(r=[].concat(ft()(r),[t])),r}},{key:"getSearcherOptions",value:function(){var e=this.props.inviteType,t=e===U.d.ULTRA_RESTRICTED;return{entities:{channels:{includeArchived:!1,includeRequired:!(e===U.d.REGULAR)}},allowEmptyQuery:t,returnMetadata:!1,sort:{preferExactMatch:!1,frecency:!1,preferChannelsUserBelongsTo:!1,flat:!0}}}},{key:"getPreselectedOptions",value:function(){if(this.props.selectedChannels.length)return this.props.selectedChannels.map(function(e){return{label:Object(gt.L)(e),value:e.id,entity:e}});if(this.props.inviteType===U.d.REGULAR)return this.getChannelsToAutoJoin().filter(function(e){return!Object(gt.cb)(e)}).map(function(e){return{label:Object(gt.L)(e),value:e.id,entity:e}});var e=this.props.initialChannel;return e?[{label:Object(gt.L)(e),value:e.id,entity:e}]:[]}},{key:"processOptions",value:function(e){var t=[],n=[],r=this.props.inviteType;e.forEach(function(e){r===U.d.REGULAR&&Object(gt.cb)(e.entity)||(Object(gt.xb)(e.entity)?n.push(a()({},e,{label:Object(gt.L)(e.entity)})):t.push(a()({},e,{label:"# "+Object(gt.L)(e.entity)})))});var i=[];return t.length&&i.push({label:jt.t("Channels"),options:t}),n.length&&i.push({label:jt.t("Private Channels"),options:n}),Promise.resolve(i)}},{key:"listifyChannelNames",value:function(e){var t=e.map(function(e){return Object(gt.L)(e)});return t.length?Object(vt.a)(t,{react:!0,strong:!0}):""}},{key:"showChannelPicker",value:function(){this.props.clogInviteModal({elementName:"edit_channels",elementType:"button"}),this.setState(function(){return{showChannelPicker:!0,autoFocusMultiSelect:!0}})}},{key:"renderAutoJoinMessage",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props,t=e.isAdminUser,n=e.initialChannel,r=e.clogInviteModal,a=e.generalChannel,i=e.inviteType,o=e.legacyClogEventId,s=this.state.showChannelPicker,l="",u=jt.t("Edit/add");if(n||s){var d=jt.t("change defaults");l=c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{"data-qa":Ct},jt.rt("New <strong>members</strong> will automatically join these channels and <strong>#{generalName}</strong>",{generalName:Object(gt.L)(this.props.generalChannel)||""})),t?c.a.createElement(Ie.a,{onClick:function(){return r({elementName:"settings_default_channels",elementType:"link"})},href:"/admin/settings#default_channels",target:"admin_settings",className:"small_left_margin greigh underline","data-qa":wt},d):null)}else{var b=this.getChannelsToAutoJoin();b.some(function(e){return Object(gt.cb)(e)})||i!==U.d.REGULAR||b.push(a),l=c.a.createElement("span",{"data-qa":Et},c.a.createElement("span",null,jt.rt("New <strong>members</strong> will automatically join {autoJoinChannels}",{autoJoinChannels:this.listifyChannelNames(b)})),c.a.createElement(Ee.a,{onClick:this.showChannelPicker,className:"p-invites_channel_picker__edit_add","data-clog-click":"true","data-clog-event":o,"data-clog-params":"action=edit_channels,trigger=click_cta_edit_channels","data-qa":It},u))}return l}},{key:"renderEmptyStateMessage",value:function(e){return this.props.featureModernizeInvites?c.a.createElement("div",{className:"align_center"},jt.rt("No items matched {query}",{query:c.a.createElement("strong",null,e)})):null}},{key:"renderChannelPickerDropdown",value:function(){var e=this.props.inviteType===U.d.ULTRA_RESTRICTED;return c.a.createElement("div",{className:"margin_bottom_50"},c.a.createElement("div",{id:"channel_picker_dropdown","data-qa":St},e?this.renderSingleChannelPicker():this.renderMultiChannelPicker()))}},{key:"renderOption",value:function(e){return"heading"===e.type?e.label:c.a.createElement(yt.a,{channel:e.entity})}},{key:"renderMultiChannelPicker",value:function(){return this.props.featureModernizeInvites?c.a.createElement(_t.b,{focusOnMount:this.state.autoFocusMultiSelect,selectedOptions:this.preselectedOptions,renderOption:this.renderOption,width:"100%",onSelectedItemsChange:this.onSelectedItemsChange,selectId:"admin_invites_channel_multi_select",placeholderText:jt.t("Choose an option..."),size:"medium",searcherOptions:this.getSearcherOptions(),optionsRowHeight:32,emptyStateMessage:this.renderEmptyStateMessage,processOptions:this.processOptions,classPrefix:"p-invites"}):null}},{key:"renderSingleChannelPicker",value:function(){return this.props.featureModernizeInvites?c.a.createElement(Ot.d,{selectedOption:this.preselectedOptions.length?this.preselectedOptions[0]:void 0,renderOption:this.renderOption,width:"100%",onOptionSelected:this.onOptionSelected,selectId:"admin_invites_channel_search_select",placeholderText:jt.t("Choose an option..."),size:"medium",searcherOptions:this.getSearcherOptions(),optionsRowHeight:32,emptyStateMessage:this.renderEmptyStateMessage,showDropdownIcon:!1,processOptions:this.processOptions,classPrefix:"p-invites"}):null}},{key:"render",value:function(){var e=this.props,t=e.inviteType,n=e.initialChannel,r=this.state.showChannelPicker,a="",i=null;return t===U.d.REGULAR?(a=jt.t("Default Channels"),i=this.renderAutoJoinMessage()):t!==U.d.RESTRICTED&&t!==U.d.ULTRA_RESTRICTED||(a=jt.t("Invite to")),c.a.createElement("div",{className:"p-invites_channel_picker margin_top_200 margin_bottom_200"},c.a.createElement(se.a,{className:"p-invites_channel_picker__heading no_padding",text:a,htmlFor:"channel_picker_dropdown_section"}),c.a.createElement("div",{id:"channel_picker_dropdown_section"},r||n?this.renderChannelPickerDropdown():null,c.a.createElement("span",{className:"p-invites_channel_picker__note"},i)))}}]),t}(c.a.Component);Tt.displayName="InvitesChannelPicker",Tt.defaultProps=kt;var Rt=Object(k.b)(function(e){return{legacyClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.LEGACY_INVITE,generalChannel:Object(A.i)(e)}})(Tt),Nt=n("8vnj"),xt=n("fshX"),Mt=n("qEEt"),Pt=n("RAhH"),At=n("E4aE"),Dt=n("fL8H"),Lt=n("Rszm"),qt=n("82mD"),Ft=n("ICFZ"),Bt=new Z.b("invite"),Ut=(l.b.bool,l.b.string.isRequired,l.b.bool,l.b.object.isRequired,l.b.func,l.b.string,l.b.bool,l.b.func,l.b.func,l.b.shape({code:l.b.string,date_create:l.b.number,date_delete:l.b.number,date_expire:l.b.number,inviter_id:l.b.string,max_signups:l.b.number,notifications_enabled:l.b.bool,url:l.b.string}),l.b.func,l.b.func.isRequired,l.b.string,l.b.bool,l.b.func,l.b.element,l.b.oneOf([U.b.INVITE_REQUEST,U.b.MODERN_INVITE]),{featureModernizeInvites:!1,isAdminUser:!1,do24hrTime:!1,source:null,clogInviteModal:j.a,activeInviteCodeOb:null,inviteLinkWarning:"",onClickDeactivateInviteLink:j.a,onClickCreateNewInviteLink:j.a,openModal:j.a,isCreatingInviteLink:!1,onClickDisableJoinNotifications:j.a,joinNotificationsMessage:null,modernClogEventId:U.b.MODERN_INVITE}),Ht=function(){return[{label:Bt.t("Expires in 1 day"),value:"1"},{label:Bt.t("Expires in 7 days"),value:"7"},{label:Bt.t("Expires in 30 days"),value:"30"},{label:Bt.t("Never expires"),value:"365000"}]},Kt="active_code",Gt="copy_button",Vt="create_new_invite_button",zt="deactivate_invite_link",Yt="rate_limited_warning",Wt="select_expiration_period",Qt=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=Ht()[2];return n.state={selectedOption:r,isCopying:!1},n.onChangeExpiryPeriod=n.onChangeExpiryPeriod.bind(n),n.onClickCreateNewInviteLink=n.onClickCreateNewInviteLink.bind(n),n.onClickCopy=n.onClickCopy.bind(n),n.onClickDeactivateLink=n.onClickDeactivateLink.bind(n),n.onChangeJoinNotifications=n.onChangeJoinNotifications.bind(n),n.onClickUrlInput=n.onClickUrlInput.bind(n),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props.activeInviteCodeOb?"share_link":"share_link_expiration";this.props.clogInviteModal({step:e,action:"impression"})}},{key:"onClickCreateNewInviteLink",value:function(){var e=this.state.selectedOption.value,t=Object(xt.a)(e);this.props.onClickCreateNewInviteLink({expiration:t,maxSignups:2e3,disableEmail:!0});var n="365000"===e?null:parseInt(e,10);this.props.clogger.track(this.props.modernClogEventId,{entry_point:this.props.source,is_primary_cta:!0,time_limit:n,contexts:{ui_context:{step:"share_link_expiration",step_variant:"regular",action:"click",ui_properties:{element_type:"button",element_name:"create_invite_link"}}}}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"share_link",action:"click",ui_element:"create_invite_link_button"}}})}},{key:"onClickCopy",value:function(){var e=this;this.setState(function(){return{isCopying:!0}}),window.setTimeout(function(){e.setState(function(){return{isCopying:!1}})},2e3);var t=this.props.activeInviteCodeOb.url;Object(Ft.b)(t),this.highlightInputText(),document.execCommand("copy"),this.props.clogInviteModal({elementName:"copy",elementType:"button",isPrimaryCta:!0}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"share_link",action:"click",ui_element:"copy_button"}}})}},{key:"onClickDeactivateLink",value:function(){this.props.openModal({element:this.renderDeactivateDialog(),isStackable:!0}),this.props.clogInviteModal({elementName:"deactivate_link",elementType:"button"}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"share_link",action:"click",ui_element:"disable_link"}}})}},{key:"onChangeExpiryPeriod",value:function(e){this.setState(function(){return{selectedOption:e}}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"share_link",action:"click",ui_element:"expiration_period_menu"}}})}},{key:"onChangeJoinNotifications",value:function(e){var t=e.target.checked,n=t?1:0;this.props.onClickDisableJoinNotifications(t),this.props.clogInviteModal({elementName:"slackbot_message",elementType:"checkbox",elementValue:n}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"invite_people",action:"toggle",ui_element:"notification_preference"}}})}},{key:"onClickUrlInput",value:function(){this.highlightInputText(),this.props.clogInviteModal({elementName:"copy",elementType:"input",isPrimaryCta:!0}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"share_link",action:"click",ui_element:"invite_link"}}})}},{key:"highlightInputText",value:function(){this.inviteUrlInputRef&&this.inviteUrlInputRef.select()}},{key:"makeTimeUntilExpirationString",value:function(e){var t=void 0,n=Object(qt.b)(Object(qt.n)(e),new Date)+1,r=n/7;return n>30?"":(t=Object(Nt.a)(r)?Bt.t("in {num_weeks, plural, =1{one week}other{{num_weeks} weeks}}",{num_weeks:r}):Bt.t("in {num_days, plural, =1{one day}other{{num_days} days}}",{num_days:n}),Object(qt.h)(e,{fallbackString:t,uncapitalized:!0}))}},{key:"renderDeactivateDialog",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=this.props,n=t.currentTeamName,r=t.source,a=t.clogger,i=t.clogInviteModal,o=Bt.t("Deactivate your invite link?"),s=Bt.rt("The invite link for <strong>{currentTeamName}</strong> will stop working. Please note that if you sent the link to anyone, they may not be able to join your workspace.",{currentTeamName:n});return i({step:"deactivate_link",action:"impression"}),c.a.createElement(Dt.a,{cancelButtonText:Bt.t("Cancel"),shouldCloseOnCancel:!1,shouldCloseOnGo:!1,title:o,goButtonText:Bt.t("Deactivate Link"),goButtonType:"danger",showCancelButton:!0,onClose:function(){i({step:"deactivate_link",elementName:"close",elementType:"button"})},onCancel:function(){i({step:"deactivate_link",elementName:"cancel",elementType:"button"}),a.track("INAPP_INVITES",{source:r,contexts:{ui_context:{step:"deactivate_link",action:"click",ui_element:"cancel_button"}}}),e.props.closeModal()},onGo:function(){i({step:"deactivate_link",elementName:"deactivate_link",elementType:"button"}),a.track("INAPP_INVITES",{source:r,contexts:{ui_context:{step:"deactivate_link",action:"click",ui_element:"deactivate_link_button"}}}),e.props.onClickDeactivateInviteLink(),e.props.closeModal()}},s)}},{key:"renderWarning",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props.inviteLinkWarning;return e&&"ratelimited"===e?c.a.createElement(ce.a,{type:"boxed",level:"error",icon:"info_circle",align:"left","data-qa":Yt,className:"margin_bottom_100"},c.a.createElement("div",{className:"inline_block"},c.a.createElement("div",null,Bt.t("You're creating links too fast!")),c.a.createElement("div",{className:"sk_dark_gray"},Bt.t("Try again in a few minutes, please.")))):null}},{key:"renderCreateLinkView",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props.isCreatingInviteLink,t=this.state.selectedOption,n=Ht();return c.a.createElement("div",{className:"display_flex"},c.a.createElement("div",{className:"full_width margin_right_100"},c.a.createElement(At.a,{selectId:"select_expiration_period",ariaLabel:Bt.t("Select the expiration for the invite link"),options:n,onOptionSelected:this.onChangeExpiryPeriod,selectedOption:t,width:"100%",selectDataQa:Wt,"data-qa":Wt})),c.a.createElement("div",null,c.a.createElement(ie.a,{size:"medium",onClick:this.onClickCreateNewInviteLink,loading:e,"data-qa":Vt},Bt.t("Create Invite Link"))))}},{key:"renderExistingLinkView",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=this.props,n=t.currentTeamName,r=t.isAdminUser,a=t.do24hrTime,i=t.activeInviteCodeOb,o=t.joinNotificationsMessage,l=this.state.isCopying,u=i?i.date_expire:null,d=u?this.makeTimeUntilExpirationString(u):null,b=Object(qt.k)(u),p=Object(qt.p)(u,{do24hrTime:a});return c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"margin_bottom_50"},c.a.createElement("strong",null,Bt.t("Invite link for {currentTeamName}",{currentTeamName:n}))),c.a.createElement("div",{className:"display_flex margin_bottom_50"},c.a.createElement("div",{className:"full_width margin_right_100"},c.a.createElement(Mt.b,{ref:function(t){e.inviteUrlInputRef=t},id:"active_code",name:"active_code",value:this.props.activeInviteCodeOb.url,readOnly:!0,onClick:this.onClickUrlInput,"data-qa":Kt})),c.a.createElement("div",null,c.a.createElement(Pt.c,{tip:Bt.t("Invite link copied!"),tipClassName:l?"":"hidden",position:"top",offsetX:-120},c.a.createElement(Qe.d,{size:"medium",onClick:this.onClickCopy,"data-action":"copy_shared_link","data-clog-click":"true","data-clog-event":"INVITE_SHARED_CLICK","data-clog-params":"action=copy_shared_invite_link,trigger=click_copy_btn","data-qa":Gt},c.a.createElement("span",null,Bt.t("Copy")))))),d?c.a.createElement("span",{className:"padding_top_300"},c.a.createElement(Pt.c,{tip:Bt.t("This link will expire on {expirationDate} at {expirationTime}",{expirationDate:b,expirationTime:p}),position:"top"},c.a.createElement("span",null,c.a.createElement("strong",{className:"p-invites_share_link__expires_message sk_dark_gray"},Bt.t("Expires {timeUntilExpirationString}.",{timeUntilExpirationString:d}))))):c.a.createElement("strong",null,Bt.t("This link doesn't expire.")),r?c.a.createElement(s.Fragment,null,c.a.createElement("span",{className:"p-invites_share_link__deactivate_text padding_left_25 sk_dark_gray"},Bt.t("Need to change this? Deactivate your link and choose a new duration.")),c.a.createElement(te.a,{className:"sk_warning_red p-invites_share_link__deactivate underline",onClick:this.onClickDeactivateLink,"data-qa":zt},Bt.t("Deactivate link")),c.a.createElement("div",{className:"margin_top_200 display_flex"},c.a.createElement("div",null,c.a.createElement(se.a,{text:Bt.t("Send me a Slackbot message each time someone joins using this link."),type:"inline",cursor:"pointer",className:"p-invites-share-link__disable_notifications__label"},c.a.createElement(Lt.a,{id:"disable_join_notifications",name:"disable_join_notifications",checked:i.notifications_enabled,onChange:this.onChangeJoinNotifications}))),c.a.createElement("div",{className:"margin_left_50 nudge_bottom_2"},o))):null)}},{key:"render",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props.activeInviteCodeOb;return c.a.createElement(s.Fragment,null,this.renderWarning(),e?this.renderExistingLinkView():this.renderCreateLinkView())}}]),t}(s.PureComponent);Qt.displayName="InvitesShareLink",Qt.defaultProps=Ut;var Xt={closeModal:b.a},Zt=Object(k.b)(function(e){return{modernClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.MODERN_INVITE}},Xt)(Qt),Jt=new Z.b("invite"),$t=(l.b.object.isRequired,l.b.func,l.b.func,l.b.func,l.b.bool,l.b.bool,l.b.arrayOf(l.b.object),l.b.func,l.b.func,l.b.func,l.b.bool,l.b.func,l.b.oneOf(Object(Q.a)(U.d)).isRequired,l.b.arrayOf(l.b.object),l.b.object,l.b.bool,l.b.func,l.b.bool,l.b.object.isRequired,l.b.func,l.b.string,l.b.func,l.b.bool,l.b.shape({code:l.b.string,date_create:l.b.number,date_delete:l.b.number,date_expire:l.b.number,inviter_id:l.b.string,max_signups:l.b.number,notifications_enabled:l.b.bool,url:l.b.string}),l.b.func,l.b.func,l.b.string,l.b.func,l.b.number,l.b.string,l.b.bool,l.b.func,l.b.oneOfType([l.b.string,l.b.element]),l.b.bool,l.b.array,l.b.oneOf([U.b.LEGACY_INVITE,U.b.INVITE_REQUEST]),l.b.func,l.b.func,l.b.func,l.b.func,l.b.func.isRequired,l.b.bool,{onSubmit:j.a,getCopy:j.a,clogInviteModal:j.a,addInviteRow:j.a,featureModernizeInvites:!1,featureRequestToInvite:!1,invites:[],updateInviteEmail:j.a,updateInviteName:j.a,deleteInviteRow:j.a,hasInvitesLimit:!1,updateInvites:j.a,defaultChannels:[],initialChannel:void 0,isAdminUser:!1,openModal:j.a,do24hrTime:!1,source:null,createSharedInvite:j.a,revokeSharedInvite:j.a,listSharedInvites:j.a,updateBackButtonState:j.a,canInviteUsingLink:!1,updateSharedInvite:j.a,activeInviteCodeOb:null,updateInviteType:j.a,updateCustomMessage:j.a,customMessage:"",updateExpirationTs:j.a,expirationTs:0,helpCenterTrackingToken:void 0,isPending:!1,updateSelectedChannels:j.a,formError:"",isRequestingInvite:!1,selectedChannels:[],legacyClogEventId:U.b.LEGACY_INVITE,featureSkInviteModalI18n:!1}),en={inviteFormView:"inviteFormView",bulkInviteView:"bulkInviteView",shareInviteView:"shareInviteView"},tn="bulk_invite_view",nn="invite_modal_form",rn="submit_invites_button",an=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={viewType:en.inviteFormView,alertText:"",invites:e.invites,activeInviteCodeOb:e.activeInviteCodeOb,inviteLinkWarning:"",isCreatingInviteLink:!1,showCustomMessageSection:!!n.props.customMessage,customMessageError:""},n.onClickBulkInvite=n.onClickBulkInvite.bind(n),n.onClickBulkInviteCancel=n.onClickBulkInviteCancel.bind(n),n.onClickBulkInviteSubmit=n.onClickBulkInviteSubmit.bind(n),n.onClickShareInvitesLink=n.onClickShareInvitesLink.bind(n),n.deleteLastActiveCode=n.deleteLastActiveCode.bind(n),n.onClickCreateNewInviteLink=n.onClickCreateNewInviteLink.bind(n),n.onClickDisableJoinNotifications=n.onClickDisableJoinNotifications.bind(n),n.onChangeCustomMessage=n.onChangeCustomMessage.bind(n),n.toggleCustomMessageSection=n.toggleCustomMessageSection.bind(n),n.onExpirationChange=n.onExpirationChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.customMessage&&this.validateCustomMessageAndShowError(this.props.customMessage)}},{key:"componentWillReceiveProps",value:function(e){this.props.canInviteUsingLink!==e.canInviteUsingLink&&this.setState(function(){return{activeInviteCodeOb:e.activeInviteCodeOb}}),this.setState(function(){return{invites:e.invites}})}},{key:"onClickBulkInvite",value:function(){this.props.clogInviteModal({elementName:"invite_bulk",elementType:"button",isPrimaryCta:!0}),this.setState(function(){return{viewType:en.bulkInviteView,alertText:""}})}},{key:"onClickBulkInviteCancel",value:function(){this.setState(function(){return{viewType:en.inviteFormView,alertText:""}})}},{key:"onClickBulkInviteSubmit",value:function(e){if(this.props.featureModernizeInvites){var t="";t=1===e.length?Jt.t("We found 1 email address to invite. We\u2019ve done our best to guess a name. See if it looks right, then press Invite."):Jt.t("We found {invitesLength} email addresses to invite. We\u2019ve done our best to guess a name for each one. See if everything looks right, then press Invite.",{invitesLength:e.length}),this.setState(function(){return{viewType:en.inviteFormView,alertText:t,alertLevel:de.b.success,invites:e}}),this.props.updateInvites(e)}}},{key:"onClickShareInvitesLink",value:function(){this.setState(function(){return{viewType:en.shareInviteView,alertText:""}}),this.props.updateBackButtonState({showBackButton:!0,onBack:this.onBack.bind(this)}),this.props.clogger.track("INAPP_INVITES",{source:this.props.source,contexts:{ui_context:{step:"invite_people",action:"click",ui_element:"share_or_get_invite_link_trigger"}}}),this.props.clogInviteModal({elementName:"invite_link",elementType:"button",isPrimaryCta:!0})}},{key:"onBack",value:function(){var e=this;this.setState(function(){return{viewType:en.inviteFormView}}),Object(q.B)(this.props.currentTeam)?this.props.updateBackButtonState({showBackButton:!0,onBack:function(){return e.props.updateInviteType(null)}}):this.props.updateBackButtonState({showBackButton:!1,onBack:j.a}),this.props.clogInviteModal({elementName:"back",elementType:"button"})}},{key:"onClickCreateNewInviteLink",value:function(e){var t=this,n=e.expiration,r=e.maxSignups,a=e.disableEmail,i=this.props,o=i.clogger,s=i.createSharedInvite,c=i.clogInviteModal;return o.track("INAPP_INVITES",{contexts:{ui_context:{step:"share_link",action:"click",ui_element:"invite_members_share_invite_link"}}}),this.setState(function(){return{isCreatingInviteLink:!0}}),s({expiration:n,maxSignups:r,disableEmail:a}).then(function(e){var n=void 0;e&&e.ok?(t.setActiveCodeOb(e),t.setState(function(){return{isCreatingInviteLink:!1}}),n="success"):e&&e.error&&(t.setState(function(){return{inviteLinkWarning:e.error||"",isCreatingInviteLink:!0}}),n="fail"),c({step:"share_link_expiration",actionStatus:n,elementName:"create_invite_link",elementType:"button"})}).catch(function(e){t.setState(function(){return{inviteLinkWarning:!e.data.ok&&e.data.error?e.data.error:"",isCreatingInviteLink:!0}}),c({step:"share_link_expiration",actionStatus:"fail",elementName:"create_invite_link",elementType:"button"})})}},{key:"onClickDisableJoinNotifications",value:function(e){var t=this;if(!this.props.featureModernizeInvites)return Promise.resolve();var n=this.props,r=n.updateSharedInvite,a=n.clogger,i=n.clogInviteModal,o=this.state.activeInviteCodeOb;this.setState(function(){return{joinNotificationsMessage:c.a.createElement("span",{className:"sk_seafoam_green"},c.a.createElement(oe.b,{type:"spinner",animation:"spin",inline:!0}),Jt.t("Saving..."))}});var s={code:o.code,joinNotificationsEnabled:e},l=o;return l.notifications_enabled=e,a.track("INAPP_INVITES",{contexts:{ui_context:{step:"invite_people",action:"toggle",ui_element:"notification_preference"}}}),r(s).then(function(){t.setState(function(){return{activeInviteCodeOb:l,joinNotificationsMessage:c.a.createElement("span",{className:"sk_seafoam_green"},c.a.createElement(oe.b,{type:"check-circle-o",inline:!0}),Jt.t("Saved!"))}}),setTimeout(function(){t.setState(function(){return{joinNotificationsMessage:null}})},1e3),i({step:"share_link",actionStatus:"success",elementName:"slackbot_message",elementType:"checkbox"})}).catch(function(){t.setState(function(){return{joinNotificationsMessage:c.a.createElement("span",{className:"sk_warning_red"},Jt.t("Failed!"))}}),setTimeout(function(){t.setState(function(){return{joinNotificationsMessage:null}})},1e3),i({step:"share_link",actionStatus:"fail",elementName:"slackbot_message",elementType:"checkbox"})})}},{key:"onChangeCustomMessage",value:function(e){this.props.featureModernizeInvites&&("reachedMaxCharacterLimit"!==this.validateCustomMessageAndShowError(e)&&this.props.updateCustomMessage(e))}},{key:"onExpirationChange",value:function(e){this.props.updateExpirationTs(e)}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.props.featureModernizeInvites){var t=this.state.invites;if(!t.length||Object(ae.a)(t,y.a)){this.props.clogInviteModal({step:"invite_email",action:"error",elementName:"no_email",elementType:"alert"});var n=Jt.t("Add at least one email address before sending invitations.");this.setState(function(){return{alertText:n,alertLevel:de.b.error}})}else this.props.onSubmit(e)}}},{key:"getBulkInviteView",value:function(){var e=this.state.invites,t=this.props,n=t.hasInvitesLimit,r=t.parseEmails,a=t.featureModernizeInvites,i=t.source,o=t.clogInviteModal,l=t.helpCenterTrackingToken;return c.a.createElement(s.Fragment,null,this.renderPricingPlansBanner(),this.renderHeader(),c.a.createElement(ht,{"data-qa":tn,invites:e,source:i,clogInviteModal:o,hasInvitesLimit:n,onClickBulkInviteCancel:this.onClickBulkInviteCancel,onClickBulkInviteSubmit:this.onClickBulkInviteSubmit,parseEmails:r,helpCenterTrackingToken:l,featureModernizeInvites:a}))}},{key:"getShareInviteView",value:function(){var e=this.props,t=e.featureModernizeInvites,n=e.currentTeam,r=e.openModal,a=e.clogger,i=e.clogInviteModal,o=e.source,l=e.do24hrTime,u=e.isAdminUser,d=e.inviteType,b=this.state,p=b.activeInviteCodeOb,h=b.isCreatingInviteLink,m=b.inviteLinkWarning;if(d!==U.d.REGULAR)return null;var f=Object(q.e)(n);return c.a.createElement(s.Fragment,null,this.renderHeader(),c.a.createElement(Zt,{featureModernizeInvites:t,currentTeamName:f,activeInviteCodeOb:p,openModal:r,clogger:a,clogInviteModal:i,source:o,do24hrTime:l,isAdminUser:u,onClickCreateNewInviteLink:this.onClickCreateNewInviteLink,onClickDeactivateInviteLink:this.deleteLastActiveCode,isCreatingInviteLink:h,inviteLinkWarning:m,onClickDisableJoinNotifications:this.onClickDisableJoinNotifications,joinNotificationsMessage:this.state.joinNotificationsMessage}))}},{key:"getInviteFormView",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props,t=e.currentTeam,n=e.getCopy,r=e.addInviteRow,a=e.updateInviteEmail,i=e.updateInviteName,o=e.deleteInviteRow,l=e.featureModernizeInvites,u=e.inviteType,d=e.defaultChannels,b=e.isAdminUser,p=e.initialChannel,h=e.helpCenterTrackingToken,m=e.updateSelectedChannels,f=e.featureRequestToInvite,v=e.isRequestingInvite,g=e.selectedChannels,_=e.legacyClogEventId,O=e.featureSkInviteModalI18n,y=this.props,j=y.invites,k=y.source,E=y.clogInviteModal,C=void 0;return C=f&&v?Jt.t("Send Request"):u!==U.d.REGULAR?Jt.t("Invite Guests"):Jt.t("Send Invitations"),c.a.createElement(s.Fragment,null,this.renderPricingPlansBanner(),this.renderHeader(),this.renderAlert(),c.a.createElement("form",{onSubmit:this.onSubmit,"data-qa":nn},c.a.createElement("div",{className:"p-invite_members_form__invite_row"},c.a.createElement(se.a,{className:"p-invite_members_form__invite_row_field p-invite_members_form__invite_row_field--email-address",text:n("email_address_label"),htmlFor:"invite_modal_email_0",id:n("initial_email_label_id")}),c.a.createElement(se.a,{className:"p-invite_members_form__invite_row_field p-invite_members_form__invite_row_field--name p-invite_members_form__invite_row_field--name_without_close_button",text:n("name_label"),htmlFor:"invite_modal_name_0",id:n("initial_name_label_id")})),c.a.createElement(We,{featureModernizeInvites:l,invites:j,getCopy:n,updateInviteEmail:a,updateInviteName:i,deleteInviteRow:o}),c.a.createElement(et,{source:k,onClickAddRowButton:r,onClickBulkInvite:this.onClickBulkInvite,featureModernizeInvites:l,featureSkInviteModalI18n:O}),c.a.createElement("div",null,c.a.createElement(Rt,{clogInviteModal:E,inviteType:u,featureModernizeInvites:l,defaultChannels:d,isAdminUser:b,initialChannel:p,updateSelectedChannels:m,selectedChannels:g})),this.maybeRenderGuestExpiration(),this.maybeRenderCustomMessage(),c.a.createElement("div",{className:"p-invite_members_form__invitation_buttons"},this.maybeRenderSharedInviteButton(),c.a.createElement(ie.a,{size:"large",htmlType:"submit",disabled:!!this.state.customMessageError,loading:this.props.isPending,"data-qa":rn,"data-clog-click":"true","data-clog-event":_,"data-clog-params":"action=invite,trigger=click_cta_submit_btn,source="+k},C))),c.a.createElement(lt,{featureModernizeInvites:l,inviteType:u,isAdminUser:b,currentTeam:t,helpCenterTrackingToken:h,source:k,clogInviteModal:E}))}},{key:"setActiveCodeOb",value:function(e){var t=e;if(clearTimeout(this.updateOnExpiry),t){var n=1e3*t.date_expire-new Date;n<0&&(t=null),n>2147483647&&(n=2147483647),this.updateOnExpiry=setTimeout(this.getLastActiveCode,n),this.setState(function(){return{activeInviteCodeOb:e}})}}},{key:"getLastActiveCode",value:function(){var e=this;return(0,this.props.listSharedInvites)({mode:"last_active"}).then(function(t){var n=t.invites;if(n&&n.length){var r=n[0];return e.setActiveCodeOb(r),Promise.resolve(r)}return e.setActiveCodeOb(null),Promise.resolve(null)}).catch(function(){return e.setActiveCodeOb(null),Promise.resolve(null)})}},{key:"maybeRenderGuestExpiration",value:function(){var e=this.props,t=e.featureModernizeInvites,n=e.inviteType,r=e.clogInviteModal,a=n===U.d.RESTRICTED||n===U.d.ULTRA_RESTRICTED;return t&&a?c.a.createElement("div",{className:"padding_bottom_75"},c.a.createElement(ke,{clogInviteModal:r,currentExpirationTs:this.props.expirationTs,onExpirationChange:this.onExpirationChange})):null}},{key:"maybeRenderSharedInviteButton",value:function(){var e=this.props,t=e.clogInviteModal,n=e.canInviteUsingLink,r=e.featureModernizeInvites;return r&&n?c.a.createElement(Le,{canInviteUsingLink:n,clogInviteModal:t,featureModernizeInvites:r,onClickShareInvitesLink:this.onClickShareInvitesLink,activeInviteCodeOb:this.state.activeInviteCodeOb}):null}},{key:"toggleCustomMessageSection",value:function(){var e=!this.state.showCustomMessageSection,t=e?"expand":"collapse";this.props.clogInviteModal({elementName:"compose_custom_message",elementType:"button",elementValue:t}),this.setState(function(){return{showCustomMessageSection:e}}),e||this.props.updateCustomMessage("")}},{key:"deleteLastActiveCode",value:function(){var e=this;return this.getLastActiveCode().then(function(t){t&&(0,e.props.revokeSharedInvite)({code:t.code}).then(function(){e.setState(function(){return{activeInviteCodeOb:null,viewType:en.inviteFormView}}),e.props.clogInviteModal({step:"deactivate_link",actionStatus:"success",elementName:"deactivate_link",elementType:"button"})}).catch(function(){e.props.clogInviteModal({step:"deactivate_link",actionStatus:"fail",elementName:"deactivate_link",elementType:"button"})})}).catch(function(){e.setState(function(){return{viewType:en.inviteFormView}})})}},{key:"validateCustomMessageAndShowError",value:function(e){if(!this.props.featureModernizeInvites)return null;var t=e.length>U.a,n=!Object(q.q)(this.props.currentTeam)&&Object(ue.c)(e).length;return t?(this.setState(function(){return{customMessageError:Object(be.b)(U.a)}}),"reachedMaxCharacterLimit"):n?(this.setState(function(){return{customMessageError:Jt.t("Unfortunately, custom messages can\u2019t contain URLs.")}}),"urlError"):(""!==this.state.customMessageError&&this.setState(function(){return{customMessageError:""}}),null)}},{key:"maybeRenderCustomMessage",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=this.props,n=t.currentTeam,r=t.clogInviteModal;if(!Object(q.B)(n))return null;if(!this.state.showCustomMessageSection){var a=Jt.rt('<a className="p-invite_members_form__add_custom_message__link">Compose a custom message</a> to make your invites more personal.',{},function(t){var n=t.text,r=t.key;return c.a.createElement(Ee.a,{key:r,onClick:e.toggleCustomMessageSection},n)});return c.a.createElement("div",{className:"margin_bottom_200"},a)}return c.a.createElement("div",{className:"display_flex align_items_top full_width"},c.a.createElement(se.a,{id:"custom_message_label",htmlFor:"custom_message_input",text:Jt.t("Custom Message"),className:"full_width"},c.a.createElement(le.a,{id:"custom_message_input",name:"extraMessage",placeholder:Jt.t("Enter a custom message to attach to the invites"),labelId:"custom_message_label",onChange:this.onChangeCustomMessage,value:this.props.customMessage,errorText:this.state.customMessageError,errorLevel:de.b.warning,onClick:function(){return r({elementName:"custom_message\u200b",elementType:"textarea"})}})),c.a.createElement("div",{className:"p-invite_members_form__custom_message__close_icon nudge_right_3 nudge_top_3"},c.a.createElement(Ce.a,{icon:"times",badgeSize:"20px",onClick:this.toggleCustomMessageSection})))}},{key:"renderAlert",value:function(){var e=this.state,t=e.alertText,n=e.alertLevel,r=this.props.formError;return r||t?c.a.createElement(ce.a,{type:"boxed",level:n||"info",align:"left",className:"margin_bottom_100"},c.a.createElement("span",null,r||t)):null}},{key:"renderPricingPlansBanner",value:function(){var e=this.props,t=e.currentTeam,n=e.featureModernizeInvites,r=e.clogger,a=e.clogInviteModal;return Object(q.B)(t)?null:c.a.createElement(Ne,{featureModernizeInvites:n,clogger:r,clogInviteModal:a})}},{key:"renderHeader",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props,t=e.currentTeam,n=e.inviteType,r=e.featureRequestToInvite,a=e.isRequestingInvite,i=this.state.viewType,o=Object(q.e)(t),l=Object(q.B)(t),u="",d="";return i===en.shareInviteView?(u=c.a.createElement("strong",null,Jt.t("Invite anyone instantly")),d=Jt.rt("Anyone can use this link to join {currentTeamName} on Slack",{currentTeamName:o})):r&&a?(u=c.a.createElement("strong",null,Jt.t("Request invitations")),d=Jt.t("Fill in the name and email address of the people you\u2019d like to invite. Your request will be sent to your admins, and you\u2019ll be notified when it\u2019s approved or denied.")):(l?n===U.d.REGULAR?u=Jt.rt("Invite <strong>Members</strong>"):n===U.d.RESTRICTED?(u=Jt.rt("Invite <strong>Multi-Channel Guests</strong>"),d=Jt.t("These guests will only have access to messages and files in specified channels.")):(u=Jt.rt("Invite <strong>Single-Channel Guests</strong>"),d=Jt.t("These guests will only have access to messages and files in a single channel.")):u=Jt.rt("Invite people to <strong>{currentTeamName}</strong>",{currentTeamName:o}),u=c.a.createElement("div",{className:"align_center"},u)),c.a.createElement(s.Fragment,null,c.a.createElement("header",{className:"p-invite_members_form__header "+(d?"margin_bottom_100":"")},c.a.createElement("h1",{className:"p-invite_members_form__header_copy"},u)),d?c.a.createElement("div",{className:"margin_bottom_300 align_center"},d):null)}},{key:"renderView",value:function(){var e=this.state.viewType;return e===en.inviteFormView?this.getInviteFormView():e===en.bulkInviteView?this.getBulkInviteView():e===en.shareInviteView?this.getShareInviteView():null}},{key:"render",value:function(){return this.props.featureModernizeInvites?c.a.createElement(s.Fragment,null,this.renderView()):null}}]),t}(s.Component);an.displayName="InviteModalSendInvitesForm",an.defaultProps=$t;var on=Object(k.b)(function(e){return{legacyClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.LEGACY_INVITE,featureModernizeInvites:Object(d.j)(e,"feature_modernize_invites"),featureSkInviteModalI18n:Object(d.j)(e,"feature_sk_invite_modal_i18n"),featureRequestToInvite:Object(d.j)(e,"feature_request_to_invite"),isRequestingInvite:!Object(F.a)(e)&&Object(F.b)(e)}})(an),sn=n("BeL+"),cn=new Z.b("invite"),ln=(l.b.bool,l.b.string,l.b.string,l.b.func,l.b.func,l.b.func,l.b.node,{isPaid:!1,emailDomains:null,currentTeamName:null,clogInviteModal:j.a,saveEmailDomains:j.a,onChangeEmailDomains:j.a,domainsSaveButton:null}),un=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogInviteModal({action:"impression",elementName:"domain_sign_up",elementType:"alert"})}},{key:"render",value:function(){var e=this.props,t=e.isPaid,n=e.emailDomains,r=e.currentTeamName,a=e.saveEmailDomains,i=e.onChangeEmailDomains,o=e.domainsSaveButton;return c.a.createElement(ce.a,{type:"boxed",level:"success",align:"left",className:"margin_bottom_100"},c.a.createElement("div",null,cn.rt("You can set <strong>{currentTeamName}</strong> to allow automatic sign up from anyone with a confirmed email address.",{currentTeamName:r})),t?c.a.createElement("div",null,cn.t("Slack will automatically charge or credit your account when active members are added to or removed from your team.")):null,c.a.createElement("div",{className:"display_flex margin_top_75"},c.a.createElement(Mt.b,{value:n,id:"domains",name:"domains",className:"margin_right_75",onChange:i}),c.a.createElement(Qe.d,{size:"medium",onClick:a,className:"margin_left_75"},o)),c.a.createElement("div",{className:"sk_dark_gray"},cn.t("To allow email addresses from multiple domains, separate them with commas.")))}}]),t}(s.Component);un.displayName="AutomaticDomainSignUpAlert";var dn=un;un.defaultProps=ln;var bn=n("Qrgz"),pn=new Z.b("invite"),hn=(l.b.arrayOf(l.b.shape({email:l.b.string.isRequired,name:l.b.string})),l.b.arrayOf(l.b.shape({email:l.b.string.isRequired,apiError:l.b.string,userType:l.b.string,issue:l.b.string})),l.b.bool,l.b.bool,l.b.func,l.b.func,l.b.string,l.b.object.isRequired,l.b.oneOf(Object(Q.a)(U.d)).isRequired,l.b.bool,l.b.string,l.b.number,l.b.string,l.b.object.isRequired,l.b.func,l.b.oneOf([U.b.MODERN_INVITE,U.b.INVITE_REQUEST]),l.b.oneOf([U.b.INVITE_REQUEST,U.b.LEGACY_INVITE]),l.b.bool,l.b.bool,l.b.func.isRequired,l.b.func.isRequired,l.b.func,l.b.func,{successfulInvites:[],unsuccessfulInvites:[],featureModernizeInvites:!1,featureRequestToInvite:!1,createClogCookie:j.a,onClickDoneButton:j.a,onClickTryAgainButton:j.a,getReferringUiContext:j.a,clogInviteModal:j.a,customMessage:"",isOwner:!1,authMode:null,expirationTs:0,source:null,isRequestingInvite:!1,isUserAdmin:!1,modernClogEventId:U.b.MODERN_INVITE,legacyClogEventId:U.b.LEGACY_INVITE}),mn="invite_modal_invites_sent_done_button",fn="invite_modal_invites_sent_header_copy_failure",vn="invite_modal_invites_sent_header_copy_partial_success",gn="invite_modal_invites_sent_header_copy_success",_n="invite_modal_invites_sent_successful_invites",On="invite_modal_invites_sent_try_again_failure",yn="invite_modal_invites_sent_try_again_success",jn="invite_modal_invites_sent_try_again_success_and_failure",kn="invite_modal_invites_sent_unsuccessful_invites",En="invite_modal_view_pending_invites",Cn=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={emailDomains:"",domainsSaveButton:pn.t("Set Up")},n.saveEmailDomains=n.saveEmailDomains.bind(n),n.onChangeEmailDomains=n.onChangeEmailDomains.bind(n),n.onClickDoneButton=n.onClickDoneButton.bind(n),n.clogInviteSentInteraction=n.clogInviteSentInteraction.bind(n),n.getCopyForInviteRequests=n.getCopyForInviteRequests.bind(n),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.successfulInvites.length&&this.parseInvitesForAutomaticDomainsSignUp(this.props.successfulInvites),this.clogInviteSentInteraction({action:"impression"})}},{key:"componentWillReceiveProps",value:function(e){e.successfulInvites.length===this.props.successfulInvites.length&&JSON.stringify(e.successfulInvites)===JSON.stringify(this.props.successfulInvites)||this.parseInvitesForAutomaticDomainsSignUp(e.successfulInvites)}},{key:"onClickDoneButton",value:function(){var e=0===this.props.unsuccessfulInvites.length;this.clogInviteSentInteraction({action:"click",elementType:"button",elementName:"done",isPrimaryCta:e}),this.props.onClickDoneButton()}},{key:"onClickTryAgainButton",value:function(e){var t=0===e.length,n=t?"invite_more_people":"try_again";this.clogInviteSentInteraction({action:"click",elementType:"button",elementName:n,isPrimaryCta:!t}),this.props.onClickTryAgainButton(e)}},{key:"onChangeEmailDomains",value:function(e){this.setState(function(){return{emailDomains:e}})}},{key:"getCopy",value:function(e){if(!this.props.featureModernizeInvites)return{};var t=e.successfulInvitesCount,n=e.unsuccessfulInvitesCount,r=this.props,a=r.featureRequestToInvite,i=r.isRequestingInvite,o=r.inviteType;if(a&&i)return this.getCopyForInviteRequests(e);if(t&&n){var s=void 0;return o===U.d.REGULAR&&(s=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Member} other {# Members}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# invitation} other {# invitations}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),o===U.d.RESTRICTED&&(s=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Multi-Channel Guest} other {# Multi-Channel Guests}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# invitation} other {# invitations}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),o===U.d.ULTRA_RESTRICTED&&(s=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Single-Channel Guest} other {# Single-Channel Guests}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# invitation} other {# invitations}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),{headerCopy:pn.t("That was only a partial success."),headerQaAttr:vn,subheaderCopy:s,tryAgainCopy:pn.t("Try Again"),tryAgainQaAttr:jn}}if(t){var c=void 0;return o===U.d.REGULAR&&(c=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Member} other {# Members}}</strong> to your workspace.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),o===U.d.RESTRICTED&&(c=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Multi-Channel Guest} other {# Multi-Channel Guests}}</strong> to your workspace.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),o===U.d.ULTRA_RESTRICTED&&(c=pn.rt("You\u2019ve invited <strong>{successfulInvitesCount, plural, =1 {# Single-Channel Guest} other {# Single-Channel Guests}}</strong> to your workspace.",{successfulInvitesCount:t,unsuccessfulInvitesCount:n})),{headerCopy:pn.t("Your {successfulInvitesCount, plural, =1 {# invitation has} other {# invitations have}} been sent!",{successfulInvitesCount:t}),headerQaAttr:gn,subheaderCopy:c,tryAgainCopy:pn.t("Invite More People"),tryAgainQaAttr:yn}}return{headerCopy:pn.t("That didn\u2019t work!"),headerQaAttr:fn,subheaderCopy:pn.rt("<strong>{unsuccessfulInvitesCount, plural, =1 {# invitation} other {# invitations}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{unsuccessfulInvitesCount:n}),tryAgainCopy:pn.t("Try Again"),tryAgainQaAttr:On}}},{key:"getCopyForInviteRequests",value:function(e){if(!this.props.featureRequestToInvite)return{};var t=this.props.inviteType,n=e.successfulInvitesCount,r=e.unsuccessfulInvitesCount;if(n&&r){var a=void 0;return t===U.d.REGULAR&&(a=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Member} other {# Members}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# request} other {# requests}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:n,unsuccessfulInvitesCount:r})),t===U.d.RESTRICTED&&(a=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Multi-Channel Guest} other {# Multi-Channel Guests}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# request} other {# requests}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:n,unsuccessfulInvitesCount:r})),t===U.d.ULTRA_RESTRICTED&&(a=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Single-Channel Guest} other {# Single-Channel Guests}},</strong> but <strong>{unsuccessfulInvitesCount, plural, =1 {# request} other {# requests}} didn\u2019t send.</strong> Review the {unsuccessfulInvitesCount, plural, =1 {error} other {errors}} below.",{successfulInvitesCount:n,unsuccessfulInvitesCount:r})),{headerCopy:pn.t("That was only a partial success."),headerQaAttr:vn,subheaderCopy:a,tryAgainCopy:pn.t("Try Again"),tryAgainQaAttr:jn}}if(n){var i=void 0;return t===U.d.REGULAR&&(i=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Member} other {# Members}}</strong>. Once an admin has approved or declined your request, you\u2019ll get an update from Slackbot.",{successfulInvitesCount:n})),t===U.d.RESTRICTED&&(i=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Multi-Channel Guest} other {# Multi-Channel Guests}}</strong>. Once an admin has approved or declined your request, you\u2019ll get an update from Slackbot.",{successfulInvitesCount:n})),t===U.d.ULTRA_RESTRICTED&&(i=pn.rt("You\u2019ve successfully requested {successfulInvitesCount, plural, =1 {an invitation} other {# invitations}} for <strong>{successfulInvitesCount, plural, =1 {# Single-Channel Guest} other {# Single-Channel Guests}}</strong>. Once an admin has approved or declined your request, you\u2019ll get an update from Slackbot.",{successfulInvitesCount:n})),{headerCopy:pn.t("Request sent"),headerQaAttr:gn,subheaderCopy:i,tryAgainCopy:pn.t("Invite More People"),tryAgainQaAttr:yn}}return{headerCopy:pn.t("Couldn\u2019t send request"),headerQaAttr:fn,subheaderCopy:pn.rt("Slack wasn\u2019t able to send your invitation request. Check below for issues, then try again."),tryAgainCopy:pn.t("Try Again"),tryAgainQaAttr:On}}},{key:"clogInviteSentInteraction",value:function(e){var t=e.action,n=e.elementType,r=e.elementName,i=e.isPrimaryCta,o=this.props,s=o.clogger,c=o.source,l=o.inviteType,u=o.successfulInvites,d=o.unsuccessfulInvites,b=o.createClogCookie,p=this.props.modernClogEventId,h=this.props.getReferringUiContext(t,"invite_sent"),m=d.map(function(e){var t=a()({},e);return delete t.email,t}),f={email_invite_errors:0===m.length?void 0:m,successful_invites:u.length,failed_invites:d.length,contexts:{ui_context:{entry_point:c,step:"invite_sent",step_variant:l,action:t,is_primary_cta:i,ui_properties:{element_type:n,element_name:r}},referring_ui_context:h},referring_event_id:h?p:void 0};s.track(p,f),b("last_clog",f.contexts.ui_context)}},{key:"maybeRenderSuccessfulInvites",value:function(e){return 0!==e.length&&this.props.featureModernizeInvites?c.a.createElement("table",{className:"p-invite_members_form__sent_invites_table","data-qa":_n},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_header_cell--successful"},pn.t("Email Address")),c.a.createElement("th",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_header_cell--successful"},pn.t("Name")))),c.a.createElement("tbody",null,e.map(function(e){var t=e.email,n=e.name;return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_cell--non_header"},t),c.a.createElement("td",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_cell--non_header"},n))}))):null}},{key:"maybeRenderUnsuccessfulInvites",value:function(e){var t=this.props,n=t.featureModernizeInvites,r=t.featureRequestToInvite;if(0===e.length||!n)return null;var a=e.map(function(e,t){var a=e.email,i=e.apiError,o=e.userType,s=e.issue,l=i?re({errorKey:i,userType:o,issue:s,featureModernizeInvites:n,featureRequestToInvite:r}):"",u=""+a+t;return c.a.createElement("tr",{key:u},c.a.createElement("td",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_cell--non_header"},a),c.a.createElement("td",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_cell--non_header"},l))});return c.a.createElement("table",{className:"p-invite_members_form__sent_invites_table","data-qa":kn},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_header_cell--unsuccessful"},pn.t("Email Address")),c.a.createElement("th",{className:"p-invite_members_form__sent_invites_cell p-invite_members_form__sent_invites_header_cell--unsuccessful"},pn.t("What went wrong")))),c.a.createElement("tbody",null,a))}},{key:"maybeRenderViewPendingInvitesButton",value:function(){var e=this,t=this.props,n=t.currentTeam;return t.isUserAdmin?c.a.createElement(te.a,{"data-qa":En,className:"p-invite_members_form__pending_invites c-button c-button--outline c-button--large null--outline null--large",onClick:function(){e.clogInviteSentInteraction({action:"click",elementType:"link",elementName:"admin_invites"}),Object(q.O)(n,"/admin/invites#pending")}},pn.t("View Pending Invites")):null}},{key:"parseInvitesForAutomaticDomainsSignUp",value:function(e){var t=this;if(e.length&&this.canUserSaveDomains()){var n=this.props.successfulInvites.map(function(e){return e.email.split("@")[1]}),r=this.props.currentTeam,a=Object(q.g)(r);if(a){var i=a.split(",").reduce(function(e,t){return e[t]=!0,e},{});n=Object(sn.a)(n.filter(function(e){return!i[e]}))}(n=n.join(", "))&&this.props.checkEmailDomains({emailDomains:n}).then(function(e){e.ok?t.setState(function(){return{emailDomains:e.email_domains}}):t.setState(function(){return{emailDomains:""}})}).catch(function(){""!==t.state.emailDomains&&t.setState(function(){return{emailDomains:""}})})}}},{key:"canUserSaveDomains",value:function(){var e=this.props,t=e.isOwner,n=e.inviteType,r=e.authMode;return n===U.d.REGULAR&&t&&"normal"===r}},{key:"saveEmailDomains",value:function(){var e=this;if(this.props.featureModernizeInvites){this.props.clogInviteModal({elementName:"domain_sign_up",elementType:"button"}),this.setState(function(){return{domainsSaveButton:pn.t("Saving")}});var t=this.props.currentTeam,n=this.state.emailDomains,r=Object(q.g)(t),a=r?[r,n].join(","):n,i=a.split(",").reduce(function(e,t){return e[t]=!0,e},{});a={prefs:{signup_mode:"email",signup_domains:Object.keys(i).join(",")}},this.props.submitMultipleTeamPrefs(a).then(function(){e.props.clogInviteModal({actionStatus:"success",elementName:"domain_sign_up",elementType:"button"}),e.setState(function(){return{domainsSaveButton:c.a.createElement("span",null,c.a.createElement(oe.b,{type:"check-circle-o",className:"padding_right_50"}),pn.t("Saved"))}})}).catch(function(){e.props.clogInviteModal({actionStatus:"fail",elementName:"domain_sign_up",elementType:"button"}),e.setState(function(){return{domainsSaveButton:c.a.createElement("span",null,c.a.createElement(oe.b,{type:"check-circle-o",className:"padding_right_50"}),pn.t("Saved"))}})})}}},{key:"renderCustomMessage",value:function(){if(!this.props.featureModernizeInvites||!this.props.customMessage)return null;var e=this.props.customMessage;return c.a.createElement("div",{className:"margin_top_200 margin_bottom_200"},c.a.createElement("strong",null,pn.t("Custom Message")),c.a.createElement("hr",{className:"margin_bottom_50"}),c.a.createElement("span",null,e))}},{key:"renderAutomaticDomainSignUpAlert",value:function(){if(!this.props.featureModernizeInvites||this.props.inviteType!==U.d.REGULAR||!this.state.emailDomains)return null;var e=this.props.currentTeam,t=Object(q.e)(e),n=Object(q.B)(e);return c.a.createElement(dn,{isPaid:n,clogInviteModal:this.props.clogInviteModal,emailDomains:this.state.emailDomains,currentTeamName:t,saveEmailDomains:this.saveEmailDomains,onChangeEmailDomains:this.onChangeEmailDomains,domainsSaveButton:this.state.domainsSaveButton})}},{key:"render",value:function(){var e=this;if(!this.props.featureModernizeInvites)return null;var t=this.props,n=t.legacyClogEventId,r=t.expirationTs,a=t.source,i=t.successfulInvites,o=t.unsuccessfulInvites,s=this.getCopy({successfulInvitesCount:i.length,unsuccessfulInvitesCount:o.length}),l=s.headerCopy,u=s.headerQaAttr,d=s.subheaderCopy,b=s.tryAgainCopy,p=s.tryAgainQaAttr,h=r&&i.length?pn.t("{invitesLength,plural,=1{This account}other{These accounts}} will be deactivated on {dateAtTime}.",{invitesLength:i.length,dateAtTime:Object(me.a)(r,"{date} at {time}")}):"";return c.a.createElement("div",null,c.a.createElement("header",{className:"p-invite_members_form__header margin_bottom_150","data-qa":u},c.a.createElement("h1",{className:"p-invite_members_form__header_copy"},l),c.a.createElement("h3",{className:"p-invite_members_form__subheader_copy"},d),c.a.createElement("h3",{className:"p-invite_members_form__expiration_copy"},h)),this.maybeRenderSuccessfulInvites(i),this.maybeRenderUnsuccessfulInvites(o),this.renderCustomMessage(),this.renderAutomaticDomainSignUpAlert(),c.a.createElement("div",{className:"p-invite_members_form__post_send_buttons"},c.a.createElement("div",{className:"p-invite_members_form__left_post_send_buttons"},this.maybeRenderViewPendingInvitesButton(),c.a.createElement(Qe.d,{size:"large",type:"outline",onClick:function(){return e.onClickTryAgainButton(o)},"data-qa":p,className:"align_top","data-clog-click":"true","data-clog-event":n,"data-clog-action":"click","data-clog-ui-element":"invite_people_button","data-clog-params":"source="+a},b)),c.a.createElement(Qe.d,{size:"large",onClick:this.onClickDoneButton,"data-qa":mn},"Done")))}}]),t}(s.Component);Cn.displayName="InviteModalInvitesSent",Cn.defaultProps=hn;var In=Object(k.b)(function(e){return{modernClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.MODERN_INVITE,legacyClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.LEGACY_INVITE,featureModernizeInvites:Object(d.j)(e,"feature_modernize_invites"),featureRequestToInvite:Object(d.j)(e,"feature_request_to_invite"),isRequestingInvite:!Object(F.a)(e)&&Object(F.b)(e),isUserAdmin:Object(bn.P)(e)}})(Cn),wn=(n("hoim"),l.b.bool,l.b.bool,l.b.object.isRequired,l.b.func,l.b.oneOf(Object(Q.a)(U.d)).isRequired,l.b.func.isRequired,l.b.array,l.b.bool,l.b.arrayOf(l.b.object),l.b.object,l.b.string,l.b.string,l.b.bool,l.b.bool,l.b.func,l.b.bool,l.b.object.isRequired,l.b.object.isRequired,l.b.object.isRequired,l.b.string,l.b.func,l.b.bool,l.b.shape({code:l.b.string,date_create:l.b.number,date_delete:l.b.number,date_expire:l.b.number,inviter_id:l.b.string,max_signups:l.b.number,notifications_enabled:l.b.bool,url:l.b.string}),l.b.func,l.b.func,l.b.string,l.b.string,l.b.string,l.b.bool,l.b.func,l.b.func,l.b.func,l.b.func,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.func,l.b.func,l.b.func,l.b.oneOf([U.b.INVITE_REQUEST,U.b.MODERN_INVITE]),{sendInvitesForm:"sendInvitesForm",invitesSent:"invitesSent"}),Sn={featureModernizeInvites:!1,featureRequestToInvite:!1,clogInviteModal:j.a,createClogCookie:j.a,closeModal:j.a,unsentInvites:[],hasInvitesLimit:!1,defaultChannels:[],initialChannel:void 0,initialEmail:void 0,initialName:void 0,isAdminUser:!1,openModal:j.a,do24hrTime:!1,createSharedInvite:j.a,revokeSharedInvite:j.a,listSharedInvites:j.a,updateBackButtonState:j.a,canInviteUsingLink:!1,updateSharedInvite:j.a,activeInviteCodeOb:null,updateInviteType:j.a,updateCustomMessage:j.a,getReferringUiContext:j.a,customMessage:"",isOwner:!1,authMode:null,helpCenterTrackingToken:void 0,source:null,isRequestingInvite:!1,modernClogEventId:U.b.MODERN_INVITE},Tn=new Z.b("invite"),Rn=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props,a=r.unsentInvites,i=r.initialEmail,o=r.initialName,s=void 0;return a.length?(s=a.slice(0),(i||o)&&s.push({email:i||"",name:o||""})):s=i||o?[{email:i||"",name:o||""},{},{}]:[{},{},{}],n.state={invites:s,view:wn.sendInvitesForm,expirationTs:0,isPending:!1,selectedChannels:[],formError:""},n.successfulInvites=[],n.unsuccessfulInvites=[],Object(E.a)(n,["getCopy","updateInviteEmail","updateInviteName","addInviteRow","deleteInviteRow","submitForm","showSentInvites","showSendInvitesForm","logInvitesSentEvent","onInvitesSentSuccess","onInvitesSentError","onInviteRequestsSentSuccess","onInviteRequestsSentError","updateInvites","updateExpirationTs","onClickClogSendInvites","updateSelectedChannels"]),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogInviteModal({step:"invite_email",action:"impression"})}},{key:"onClickClogSendInvites",value:function(){var e=this.state,t=e.invites,n=e.expirationTs,r=this.props,a=r.inviteType,i=r.customMessage,o=r.defaultChannels,s=r.source,c=r.clogger,l=r.createClogCookie,u=r.clogInviteModal,d=r.modernClogEventId,b=Object(W.a)(t,"[0].email")?t.length:0,p=Object(H.a)(t,function(e){return!!e.emailError}),h=a===U.d.REGULAR?"send_invitations":"invite_guests",m=this.props.getReferringUiContext("click","invite_email"),f={num_of_invites:b,custom_message:!!i,channel_ids:o.map(function(e){return e.id}),time_limit:n||null,email_validation_errors:p.true||0,contexts:{ui_context:{entry_point:s,step:"invite_email",step_variant:a,action:"click",is_primary_cta:!0,ui_properties:{element_type:"button",element_name:h}},referring_ui_context:m},referring_event_id:m?d:void 0};if(c.track(d,f),l("last_clog",f.contexts.ui_context),p.true)for(var v=p.true;v>0;)u({step:"invite_email",action:"error",elementName:"email_validation_errors",elementType:"input"}),v-=1}},{key:"onInvitesSentSuccess",value:function(e,t,n){this.setState(function(){return{isPending:!1}}),this.props.logger.info(U.e,"Invites sent successfully."),e&&t&&(this.showSentInvites(t),this.props.clogInviteModal({step:"invite_email",actionStatus:"success",elementName:n,elementType:"button"}))}},{key:"onInvitesSentError",value:function(e,t){if(this.setState(function(){return{isPending:!1}}),this.props.logger.error(U.e,"Error while sending invites:",e.error),e&&!e.ok)if(e.error){var n=re({errorKey:e.error,featureModernizeInvites:!0});n&&this.setState(function(){return{formError:n}}),this.props.telemeter.count("modern_invite_modal_invites_sent_error")}else this.showSentInvites(e.invites);this.props.clogInviteModal({step:"invite_email",actionStatus:"fail",elementName:t,elementType:"button"})}},{key:"onInviteRequestsSentSuccess",value:function(e,t,n){if(this.setState(function(){return{isPending:!1}}),this.props.logger.info(U.e,"Invite requests sent successfully."),e&&t){var r=t.map(function(e){return a()({},e,{ok:!0})});this.showSentInvites(r),this.props.clogInviteModal({step:"invite_email",actionStatus:"success",elementName:n,elementType:"button"})}}},{key:"onInviteRequestsSentError",value:function(e,t,n){var r=this.props,a=r.featureModernizeInvites,i=r.featureRequestToInvite;if(this.setState(function(){return{isPending:!1}}),this.props.logger.error(U.e,"Error while sending invite requests:",e.error),e&&!e.ok&&e.error){var o=e.error;"invalid_arguments"===e.error&&(o=Object(W.a)(e,"response_metadata.messages[0]"))&&"[ERROR] missing required field: channels"===o&&(t.restricted&&(o="requires_channel"),t.ultraRestricted&&(o="requires_one_channel"));var s=re({errorKey:o,featureModernizeInvites:a,featureRequestToInvite:i});s?(this.props.telemeter.count("modern_invite_modal_invites_sent_error"),this.setState(function(){return{formError:s}})):this.showSentInvites(e.requests)}this.props.clogInviteModal({step:"invite_email",actionStatus:"fail",elementName:n,elementType:"button"})}},{key:"getCopy",value:function(e){if(this.props.featureModernizeInvites)switch(e){case"email_address_label":return Tn.t("Email Address");case"name_label":return Tn.t("Name (optional)");case"initial_email_label_id":return"invite_modal_initial_email_label";case"initial_name_label_id":return"invite_modal_initial_name_label";default:return}}},{key:"getNameError",value:function(e){return!this.props.featureModernizeInvites||this.isValidName(e)?null:Tn.t("Mostly, names can\u2019t contain punctuation. (Apostrophes, spaces, and periods are fine.)")}},{key:"updateSelectedChannels",value:function(e){this.setState(function(){return{selectedChannels:e}})}},{key:"isValidName",value:function(e){return!U.c.test(e)}},{key:"updateInvites",value:function(e){this.setState(function(){return{invites:e}})}},{key:"deleteInviteRow",value:function(e){this.props.clogInviteModal({elementName:"remove_email",elementType:"button"}),this.setState(function(t){var n=t.invites,r=Object(G.a)(n);return r.splice(e,1),{invites:r}})}},{key:"addInviteRow",value:function(){this.props.clogInviteModal({elementName:"add_one_email_row\u200b",elementType:"button"}),this.setState(function(e){return{invites:e.invites.concat([{}])}})}},{key:"updateInviteEmail",value:function(e,t){this.updateInviteValue({email:e,emailError:"",apiError:""},t)}},{key:"updateInviteName",value:function(e,t){var n=this.getNameError(e);this.updateInviteValue({name:e,nameError:n},t)}},{key:"updateInviteValue",value:function(e,t){this.setState(function(n){var r=n.invites,a=Object(G.a)(r);return Object(K.a)(a[t],e),{invites:a}})}},{key:"updateExpirationTs",value:function(e){this.setState(function(){return{expirationTs:e}})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault(),this.setState(function(e){var n=e.invites;return{invites:t.validateInvites(n),formError:""}},this.sendInvites)}},{key:"validateInvites",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=e.email,a=e.name;r&&r.trim()&&n.push({email:r,emailError:Object(X.a)(r)?void 0:Tn.t("That doesn\u2019t look like a valid email address!"),name:a,nameError:t.getNameError(a)})}),0===n.length&&n.push({}),n}},{key:"sendInvites",value:function(){var e=this,t=this.state,n=t.invites,r=t.expirationTs,a=this.props,i=a.inviteType,o=a.customMessage,s=a.source,c=a.isRequestingInvite,l=i===U.d.REGULAR?"send_invitations":"invite_guests";this.onClickClogSendInvites();var u=Object(W.a)(n,"[0].email"),d=Object(V.a)(n,"emailError"),b=Object(V.a)(n,"nameError");if(u&&!d&&!b){this.setState(function(){return{isPending:!0}});var p=n.map(function(e){return{email:e.email,real_name:e.name,type:i,source:"invite_modal",mode:"manual"}}),h={campaign:s,extraMessage:o,expirationTs:r,restricted:i===U.d.RESTRICTED,ultraRestricted:i===U.d.ULTRA_RESTRICTED,channels:this.state.selectedChannels.map(function(e){return e.id})};return c?(h.requests=p,this.props.submitCreateInviteRequests(h).then(function(t){var n=t.ok;return e.onInviteRequestsSentSuccess(n,h.requests,l)}).catch(function(t){var n=t.data;return e.onInviteRequestsSentError(n,h,l)})):(h.invites=p,this.props.submitSendInvites(h).then(function(t){var n=t.ok,r=t.invites;return e.onInvitesSentSuccess(n,r,l)}).catch(function(t){var n=t.data;return e.onInvitesSentError(n,l)}))}return Promise.resolve()}},{key:"sortInvitesAndUpdateStore",value:function(e){var t=this;this.successfulInvites=[],this.unsuccessfulInvites=[],e.forEach(function(e){var n=e.email,r=e.ok,a=e.apiError,i=e.userType,o=e.issue,s=e.name;r?t.successfulInvites.push({email:n,name:s}):t.unsuccessfulInvites.push({email:n,apiError:a,userType:i,issue:o})}),this.logInvitesSentEvent(),this.props.setUnsentInvites(this.unsuccessfulInvites)}},{key:"logInvitesSentEvent",value:function(){this.successfulInvites.length>0&&0===this.unsuccessfulInvites.length?this.props.telemeter.count("modern_invite_modal_invites_sent_success"):this.successfulInvites.length>0&&this.unsuccessfulInvites.length>0?this.props.telemeter.count("modern_invite_modal_invites_sent_partial_success"):this.props.telemeter.count("modern_invite_modal_invites_sent_error")}},{key:"showSentInvites",value:function(e){var t=this;this.setState(function(n){var r=n.invites,a=e.map(function(e){var t=e.email,n=e.ok,a=e.error,i=e.user_type,o=e.issue,s=Object(z.a)(r,function(e){return Object(Y.a)(a)&&e.email===t&&!Object(Y.a)(e.name)}),c=s&&s.name;return{email:t,ok:n,apiError:a,userType:i,issue:o,name:c}});return t.sortInvitesAndUpdateStore(a),{view:wn.invitesSent,invites:a}})}},{key:"showSendInvitesForm",value:function(){var e=this.unsuccessfulInvites;0===e.length&&e.push({},{},{}),this.setState(function(){return{view:wn.sendInvitesForm,invites:e}})}},{key:"renderCurrentView",value:function(){var e=this;switch(this.state.view){case wn.sendInvitesForm:return c.a.createElement(on,{source:this.props.source,currentTeam:this.props.currentTeam,onSubmit:this.submitForm,getCopy:this.getCopy,addInviteRow:this.addInviteRow,featureModernizeInvites:this.props.featureModernizeInvites,invites:this.state.invites,updateInviteEmail:this.updateInviteEmail,updateInviteName:this.updateInviteName,deleteInviteRow:this.deleteInviteRow,hasInvitesLimit:this.props.hasInvitesLimit,parseEmails:this.props.parseEmails,updateInvites:this.updateInvites,inviteType:this.props.inviteType,defaultChannels:this.props.defaultChannels,isAdminUser:this.props.isAdminUser,initialChannel:this.props.initialChannel,openModal:this.props.openModal,do24hrTime:this.props.do24hrTime,createSharedInvite:this.props.createSharedInvite,revokeSharedInvite:this.props.revokeSharedInvite,canInviteUsingLink:this.props.canInviteUsingLink,listSharedInvites:this.props.listSharedInvites,clogger:this.props.clogger,clogInviteModal:this.props.clogInviteModal,updateBackButtonState:this.props.updateBackButtonState,updateSharedInvite:this.props.updateSharedInvite,activeInviteCodeOb:this.props.activeInviteCodeOb,updateInviteType:this.props.updateInviteType,updateCustomMessage:this.props.updateCustomMessage,customMessage:this.props.customMessage,updateExpirationTs:this.updateExpirationTs,expirationTs:this.state.expirationTs,helpCenterTrackingToken:this.props.helpCenterTrackingToken,isPending:this.state.isPending,ref:function(t){e.invitesFormRef=t},updateSelectedChannels:this.updateSelectedChannels,formError:this.state.formError,selectedChannels:this.state.selectedChannels});case wn.invitesSent:return c.a.createElement(In,{createClogCookie:this.props.createClogCookie,getReferringUiContext:this.props.getReferringUiContext,successfulInvites:this.successfulInvites,unsuccessfulInvites:this.unsuccessfulInvites,featureModernizeInvites:this.props.featureModernizeInvites,onClickDoneButton:this.props.closeModal,onClickTryAgainButton:this.showSendInvitesForm,clogger:this.props.clogger,clogInviteModal:this.props.clogInviteModal,source:this.props.source,currentTeam:this.props.currentTeam,inviteType:this.props.inviteType,isOwner:this.props.isOwner,authMode:this.props.authMode,checkEmailDomains:this.props.checkEmailDomains,submitMultipleTeamPrefs:this.props.submitMultipleTeamPrefs,customMessage:this.props.customMessage,expirationTs:this.state.expirationTs});default:return null}}},{key:"render",value:function(){return this.props.featureModernizeInvites?c.a.createElement("div",{className:"p-invite_members"},this.renderCurrentView()):null}}]),t}(c.a.Component);Rn.displayName="InvitesForm",Rn.defaultProps=Sn;var Nn=Object(k.b)(function(e){return{modernClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.MODERN_INVITE,featureModernizeInvites:Object(d.j)(e,"feature_modernize_invites"),featureRequestToInvite:Object(d.j)(e,"feature_request_to_invite"),isRequestingInvite:!Object(F.a)(e)&&Object(F.b)(e),logger:Object(N.a)({state:e}),telemeter:Object(x.c)({state:e})}})(Rn),xn=(n("qx17"),l.b.bool,l.b.bool,l.b.func,l.b.object.isRequired,l.b.bool,l.b.oneOf([U.f.LOADING,U.f.CAN_ADD,U.f.LIMIT_REACHED]),l.b.string,l.b.func,l.b.bool,l.b.bool,l.b.bool,{clogInviteModal:j.a,featureModernizeInvites:!1,featureRequestToInvite:!1,updateInviteType:j.a,shouldDisableFullMemberInviteOption:!1,scgLimitStatus:U.f.LOADING,helpCenterTrackingToken:"",isClient:!1,isAdminUser:!1,isRequestingInvite:!1}),Mn=new Z.b("invite"),Pn="invite_learn_link",An="invite_mcg_link",Dn="invite_member_link",Ln="pending-invites-link",qn="invite_scg_link",Fn="invite_type_header",Bn="invite_scg_limit_alert",Un="invite_saml_signup_alert",Hn=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.enrichedLearnUrl=Object(ee.a)("https://get.slack.help/hc/"+Object($.a)()+"/articles/202518103-Restricted-account-and-single-channel-guest-FAQ",n.props.helpCenterTrackingToken),Object(E.a)(n,["onClickType","onClickFullMemberOption","onClickMcgOption","onClickScgOption","onClickChangeSamlSettings","onClickLearnMore","onClickMemberSignup"]),n.teamUrlForSignup=Object(q.o)(e.currentTeam)+"signup",n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.clogInviteModal({step:"invite_switcher",action:"impression"})}},{key:"onClickType",value:function(e,t){"invite_learn_link"!==e.target.id&&(t&&((0,this.props.updateInviteType)(t),this.props.clogInviteModal({elementName:t,elementType:"button",isPrimaryCta:!0})))}},{key:"onClickFullMemberOption",value:function(e){e.stopPropagation(),this.props.shouldDisableFullMemberInviteOption||this.onClickType(e,U.d.REGULAR)}},{key:"onClickMcgOption",value:function(e){e.stopPropagation(),this.onClickType(e,U.d.RESTRICTED)}},{key:"onClickScgOption",value:function(e){e.stopPropagation(),this.props.scgLimitStatus===U.f.CAN_ADD&&this.onClickType(e,U.d.ULTRA_RESTRICTED)}},{key:"onClickChangeSamlSettings",value:function(e){e.stopPropagation();var t=this.props.isClient;window.open("/admin/auth/saml",t?"auth":"_blank")}},{key:"onClickLearnMore",value:function(e){e.stopPropagation(),this.props.clogInviteModal({elementName:"help_center_guests",elementType:"link"})}},{key:"onClickMemberSignup",value:function(e){e.stopPropagation()}},{key:"shouldShowSSOSignupUrl",value:function(){var e=this.props,t=e.currentTeam,n=e.isAdminUser;return!Object(q.q)(t)&&n}},{key:"maybeRenderPendingInvitesLink",value:function(){var e=this;if(!this.props.isAdminUser)return null;var t=this.props.currentTeam;return c.a.createElement("div",{className:"align_center margin_top_200"},c.a.createElement(te.a,{onClick:function(){e.props.clogInviteModal({elementName:"admin_invites",elementType:"link"}),Object(q.O)(t,"/admin/invites#pending")},className:"p-select_invite_type__pending","data-qa":Ln},Mn.t("See pending and accepted invites for your workspace")))}},{key:"maybeRenderSamlSignupAlert",value:function(){var e=this.props,t=e.shouldDisableFullMemberInviteOption,n=e.currentTeam,r=e.isAdminUser;return t&&!Object(q.q)(n)&&r?c.a.createElement(ce.a,{type:"boxed",level:"info",align:"left",icon:"info_circle",className:"margin_top_100","data-qa":Un},Mn.rt("Members can sign up at {link}.",{link:c.a.createElement(Ie.a,{onClick:this.onClickMemberSignup,href:this.teamUrlForSignup,target:"_blank",invert:!0},this.teamUrlForSignup),fallbackHash:"0b4ca02ba764262a101459417ae19b697de15066"}),c.a.createElement(Qe.d,{type:"outline",size:"small",className:"margin_top_50 block",onClick:this.onClickChangeSamlSettings},Mn.t("Change SSO Settings"))):null}},{key:"maybeRenderSCGLimitAlert",value:function(){return this.props.scgLimitStatus===U.f.LIMIT_REACHED?c.a.createElement(ce.a,{type:"boxed",level:"info",align:"left",icon:"info_circle",className:"margin_top_100","data-qa":Bn},Mn.rt("You\u2019ve reached the limit for Single-Channel Guests.",{fallbackHash:"e58a8f27e07d74dc6642a9f3bc36c3e1b0af23bf"}),c.a.createElement(Ie.a,{onClick:this.onClickLearnMore,href:this.enrichedLearnUrl,target:"zendesk",className:"padding_25 underline p-select_invite_type__link--learn",id:"invite_learn_link","data-qa":Pn,invert:!0},Mn.t("Learn more"))):null}},{key:"render",value:function(){if(!this.props.featureModernizeInvites)return null;var e=this.props,t=e.shouldDisableFullMemberInviteOption,n=e.scgLimitStatus,r=e.currentTeam,a=e.featureRequestToInvite,i=e.isRequestingInvite,o=n!==U.f.CAN_ADD,s=Fe()("p-select_invite_type__link--main",{"p-select_invite_type__link--disabled":t}),l=Fe()("p-select_invite_type__link--main",{"p-select_invite_type__link--disabled":o}),u=Mn.rt('Invite people to <span class="normal">{currentTeamName}</span>',{currentTeamName:Object(q.e)(r)});return a&&i&&(u=c.a.createElement("span",{className:"normal"},Mn.t("Request invitations"))),c.a.createElement("div",{className:"p-select_invite_type"},c.a.createElement("h1",{className:"p-select_invite_type__header align_center","data-qa":Fn},u),c.a.createElement("hr",{className:"p-select_invite_type__first_divider no_margin"}),c.a.createElement("div",{role:"presentation",className:s,"aria-disabled":t,onClick:this.onClickFullMemberOption,"data-qa":Dn},c.a.createElement(ge.a,{disabled:t,onClick:this.onClickFullMemberOption},c.a.createElement("h2",{className:"p-select_invite_type__member_type no_margin"},Mn.t("Members"))),c.a.createElement("div",{className:"p-select_invite_type__link--subtitle margin_top_50"},Mn.t("Members can access messages and files in any public channel and access the full directory.")),t?null:c.a.createElement(oe.b,{type:"arrow-right-medium",className:"p-select_invite_type__arrow_icon",size:"inherit"}),this.maybeRenderSamlSignupAlert()),c.a.createElement("hr",{className:"no_margin"}),c.a.createElement("div",{role:"presentation",className:"p-select_invite_type__link--main",onClick:this.onClickMcgOption,"data-qa":An},c.a.createElement(ge.a,{onClick:this.onClickMcgOption},c.a.createElement("h2",{className:"p-select_invite_type__member_type no_margin"},Mn.t("Multi-Channel Guests"))),c.a.createElement("div",{className:"p-select_invite_type__link--subtitle margin_top_50"},Mn.t("Multi-Channel Guests see a partial directory and can only access messages and files from selected channels."),c.a.createElement(Ie.a,{onClick:this.onClickLearnMore,href:this.enrichedLearnUrl,target:"zendesk",className:"padding_25 underline p-select_invite_type__link--learn",id:"invite_learn_link","data-qa":Pn,invert:!0},Mn.t("Learn more"))),c.a.createElement(oe.b,{type:"arrow-right-medium",className:"p-select_invite_type__arrow_icon",size:"inherit"})),c.a.createElement("hr",{className:"no_margin"}),c.a.createElement("div",{role:"presentation",className:l,onClick:this.onClickScgOption,disabled:o,"data-qa":qn},c.a.createElement(ge.a,{onClick:this.onClickScgOption,disabled:o},c.a.createElement("h2",{className:"p-select_invite_type__member_type no_margin"},Mn.t("Single-Channel Guests"))),c.a.createElement("div",{className:"p-select_invite_type__link--subtitle margin_top_50"},Mn.t("Single-Channel Guests can only access messages and files in a single channel. This account type is free."),c.a.createElement(Ie.a,{onClick:this.onClickLearnMore,href:this.enrichedLearnUrl,target:"zendesk",className:"padding_25 underline p-select_invite_type__link--learn",id:"invite_learn_link","data-qa":Pn,invert:!0,"aria-disabled":o,tabIndex:o?-1:0},Mn.t("Learn more")),c.a.createElement(oe.b,{type:"arrow-right-medium",className:"p-select_invite_type__arrow_icon",size:"inherit"})),this.maybeRenderSCGLimitAlert()),c.a.createElement("hr",{className:"no_margin"}),this.maybeRenderPendingInvitesLink())}}]),t}(c.a.Component);Hn.displayName="SelectInviteType",Hn.defaultProps=xn;var Kn=Object(k.b)(function(e){return{featureModernizeInvites:Object(d.j)(e,"feature_modernize_invites"),featureRequestToInvite:Object(d.j)(e,"feature_request_to_invite"),isRequestingInvite:!Object(F.a)(e)&&Object(F.b)(e),isAdminUser:Object(bn.P)(e)}})(Hn),Gn=(n("tafa"),l.b.bool,l.b.func,l.b.object.isRequired,l.b.object.isRequired,l.b.object.isRequired,l.b.object.isRequired,l.b.string,l.b.array,l.b.bool,l.b.arrayOf(l.b.object),l.b.string,l.b.object,l.b.string,l.b.string,l.b.bool,l.b.bool,l.b.bool,l.b.bool,l.b.bool,l.b.string,l.b.bool,l.b.bool,l.b.func,l.b.func,l.b.func.isRequired,l.b.func,l.b.func,l.b.func,l.b.func,l.b.func,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.string,l.b.func,l.b.oneOf([U.b.MODERN_INVITE,U.b.INVITE_REQUEST]),l.b.oneOf([U.b.INVITE_REQUEST,U.b.LEGACY_INVITE]),{featureModernizeInvites:!1,onClose:j.a,source:null,unsentInvites:[],hasInvitesLimit:!1,defaultChannels:[],initialChannelId:void 0,initialChannel:void 0,initialEmail:void 0,initialName:void 0,isAdminUser:!1,isOwner:!1,shouldDisableFullMemberInviteOption:!1,do24hrTime:!1,canUserInvite:!1,authMode:null,canSeeAccountTypeOptions:!0,helpCenterTrackingToken:"",isClient:!1,modernClogEventId:U.b.MODERN_INVITE,legacyClogEventId:U.b.LEGACY_INVITE,openModal:j.a,closeModal:j.a,createSharedInvite:j.a,revokeSharedInvite:j.a,canGetSharedInvite:j.a,listSharedInvites:j.a,updateSharedInvite:j.a,fetchCanAddUltraRestricted:j.a}),Vn=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inviteType:n.props.canSeeAccountTypeOptions?null:U.d.REGULAR,showBackButton:!1,onBack:j.a,canInviteUsingLink:!1,activeInviteCodeOb:null,customMessage:"",scgLimitStatus:U.f.LOADING},Object(E.a)(n,["updateInviteType","updateBackButtonState","updateCustomMessage","onCancel","onClose","setCurrentViewRef","getClogStep","clogInviteModal","createClogCookie","getClogCookie","getReferringUiContext"]),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.logger.info(U.e,"Invite modal mounted."),this.props.telemeter.count("modern_invite_modal_open"),this.getShareInviteLinkPermissions(),Object(q.B)(this.props.currentTeam)&&this.props.fetchCanAddUltraRestricted().then(function(t){t.ok?e.setState(function(){return{scgLimitStatus:U.f.CAN_ADD}}):e.setState(function(){return{scgLimitStatus:U.f.LIMIT_REACHED}})})}},{key:"onCancel",value:function(){this.clogInviteModal({elementName:"esc",elementType:"button"});var e=this.props.legacyClogEventId;this.props.clogger.track(e,{action:"close_modal",trigger:"click_fs_modal_close_btn",source:this.props.source}),window.sessionStorage.clear(),this.onClose()}},{key:"onClose",value:function(){this.props.logger.info(U.e,"Unmounting invite modal."),this.props.onClose(),this.props.closeModal()}},{key:"getClogStep",value:function(){var e=void 0;return this.state.inviteType?this.currentView&&this.currentView.invitesFormRef&&"bulkInviteView"===this.currentView.invitesFormRef.state.viewType?e="invite_bulk":this.currentView&&this.currentView.invitesFormRef&&"shareInviteView"===this.currentView.invitesFormRef.state.viewType&&this.currentView.invitesFormRef.state.activeInviteCodeOb?e="share_link":this.currentView&&this.currentView.invitesFormRef&&"shareInviteView"===this.currentView.invitesFormRef.state.viewType?e="share_link_expiration":this.currentView&&"sendInvitesForm"===this.currentView.state.view?e="invite_email":this.currentView&&"invitesSent"===this.currentView.state.view&&(e="invite_sent"):e="invite_switcher",e}},{key:"getShareInviteLinkPermissions",value:function(){var e=this,t=this.props,n=t.isAdminUser,r=t.canUserInvite;n&&r?this.props.canGetSharedInvite().then(function(t){e.clogInviteModal({step:"invite_email",actionStatus:"success",elementName:"invite_link",elementType:"button",elementValue:"can_get_shared_invite"});var n=!!t.can_get;n?e.props.listSharedInvites({mode:"last_active"}).then(function(t){e.clogInviteModal({step:"invite_email",actionStatus:"success",elementName:"invite_link",elementType:"button",elementValue:"list_shared_invites"});var r=t.invites;if(r&&r.length){var a=r[0];e.updateSharedInvitesData(n,a)}else e.updateSharedInvitesData(n,null)}).catch(function(){e.clogInviteModal({step:"invite_email",actionStatus:"fail",elementName:"invite_link",elementType:"button",elementValue:"list_shared_invites"})}):e.updateSharedInvitesData(n,null)}).catch(function(){e.clogInviteModal({step:"invite_email",actionStatus:"fail",elementName:"invite_link",elementType:"button",elementValue:"can_get_shared_invite"}),e.updateSharedInvitesData(!1,null)}):this.updateSharedInvitesData(!1,null)}},{key:"setCurrentViewRef",value:function(e){this.currentView=e}},{key:"getClogCookie",value:function(e){var t=window.sessionStorage.getItem(e),n=JSON.parse(t);return Object(y.a)(n)?void 0:n}},{key:"getReferringUiContext",value:function(e,t){if("impression"===e){var n=this.getClogCookie("last_clog");return this.createClogCookie("referring_ui_context",n),n}var r=this.getClogCookie("referring_ui_context"),a=this.getClogCookie("last_clog");return a&&a.step!==t?a:r}},{key:"createClogCookie",value:function(e,t){if(t&&"click"===t.action){var n=JSON.stringify(t,e);window.sessionStorage.setItem(e,n)}}},{key:"clogInviteModal",value:function(e){var t=e.step,n=e.action,r=void 0===n?"click":n,a=e.actionStatus,i=e.elementName,o=e.elementType,s=e.elementValue,c=e.isPrimaryCta,l=this.props.modernClogEventId,u=this.getClogStep(),d=a?void 0:r,b=this.getReferringUiContext(d,u),p={contexts:{ui_context:{entry_point:this.props.source,step:t||u,step_variant:this.state.inviteType,action:d,action_status:a,is_primary_cta:c,ui_properties:{element_type:o,element_name:i,element_value:s}},referring_ui_context:b},referring_event_id:b?l:void 0};this.props.clogger.track(l,p),this.createClogCookie("last_clog",p.contexts.ui_context)}},{key:"updateInviteType",value:function(e){var t=this;this.state.showBackButton&&this.clogInviteModal({elementName:"back",elementType:"button"}),this.setState(function(){return{inviteType:e}}),this.props.canSeeAccountTypeOptions&&e?this.updateBackButtonState({showBackButton:!0,onBack:function(){return t.updateInviteType(null)}}):this.updateBackButtonState({showBackButton:!1,onBack:j.a})}},{key:"updateCustomMessage",value:function(e){this.setState(function(){return{customMessage:e}})}},{key:"updateBackButtonState",value:function(e){var t=e.showBackButton,n=e.onBack;this.setState(function(){return{showBackButton:t,onBack:n}})}},{key:"updateSharedInvitesData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t;t&&t.date_expire&&(1e3*t.date_expire-new Date<0&&(n=null));this.setState(function(){return{canInviteUsingLink:e,activeInviteCodeOb:n}})}},{key:"renderView",value:function(){var e=this.props.canSeeAccountTypeOptions,t=this.state,n=t.inviteType,r=t.canInviteUsingLink,i=t.activeInviteCodeOb,o=t.scgLimitStatus,s=a()({},this.props,{inviteType:n,ref:this.setCurrentViewRef,hasInvitesLimit:""===this.props.currentTeam.plan&&this.props.hasInvitesLimit,canInviteUsingLink:r&&n===U.d.REGULAR,activeInviteCodeOb:i,updateBackButtonState:this.updateBackButtonState,updateInviteType:this.updateInviteType,updateCustomMessage:this.updateCustomMessage,customMessage:this.state.customMessage,clogInviteModal:this.clogInviteModal,closeModal:this.onClose,createClogCookie:this.createClogCookie,getReferringUiContext:this.getReferringUiContext});return n?c.a.createElement(Nn,s):e?c.a.createElement(Kn,{clogInviteModal:this.clogInviteModal,featureModernizeInvites:this.props.featureModernizeInvites,shouldDisableFullMemberInviteOption:this.props.shouldDisableFullMemberInviteOption,updateInviteType:this.updateInviteType,helpCenterTrackingToken:this.props.helpCenterTrackingToken,scgLimitStatus:o,currentTeam:this.props.currentTeam,isClient:this.props.isClient}):c.a.createElement(Nn,a()({},s,{inviteType:U.d.REGULAR}))}},{key:"render",value:function(){return this.props.featureModernizeInvites?c.a.createElement(C.a,{showBackButton:this.state.showBackButton,onBack:this.state.onBack,onCancel:this.onCancel,showCancelButton:!1,showGoButton:!1,modalClasses:"p-invite_modal",contentLabel:"invite-modal",modalBodyOpenClassName:"p-invite_modal--open",dataQa:"invite_modal"},this.renderView()):null}}]),t}(s.Component);Vn.displayName="InviteModalContainer",Vn.defaultProps=Gn;var zn={submitSendInvites:S.i,submitCreateInviteRequests:S.h,setUnsentInvites:I.c,parseEmails:S.f,openModal:b.e,closeModal:b.a,createSharedInvite:S.c,revokeSharedInvite:S.g,canGetSharedInvite:S.a,listSharedInvites:S.e,updateSharedInvite:S.j,checkEmailDomains:S.b,submitMultipleTeamPrefs:T.f,fetchCanAddUltraRestricted:S.d},Yn=Object(k.b)(function(e,t){var n=t.initialChannelId,r=Object(D.b)(e),a=Object(w.d)(e),i=Object(M.a)(e,"default_channels"),o=i?i.map(function(t){return Object(A.d)(e,t)}):[];return{featureModernizeInvites:Object(d.j)(e,"feature_modernize_invites"),currentTeam:a,clogger:Object(R.a)({state:e}),logger:Object(N.a)({state:e}),telemeter:Object(x.c)({state:e}),unsentInvites:Object(I.b)(e),hasInvitesLimit:Object(M.a)(e,"invites_limit"),defaultChannels:o,authMode:Object(M.a)(e,"auth_mode"),isAdminUser:Object(L.X)(r),isOwner:Object(L.vb)(r),shouldDisableFullMemberInviteOption:Object(F.f)(r,a),initialChannel:Object(A.d)(e,n),do24hrTime:Object(P.g)(e,"time24"),canUserInvite:Object(F.a)(e),helpCenterTrackingToken:Object(B.b)(e),canSeeAccountTypeOptions:Object(F.c)(e),isClient:Object(d.i)(e),modernClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.MODERN_INVITE,legacyClogEventId:Object(F.e)(e)?U.b.INVITE_REQUEST:U.b.LEGACY_INVITE}},zn)(Vn),Wn=Object(u.b)("Opens the invite (new users) modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initialEmail,i=n.initialName,s=n.initialChannelId,l=o()(n,["initialEmail","initialName","initialChannelId"]);if(Object(d.j)(t(),"feature_modernize_invites")){var u={};r&&(u.initialEmail=r),i&&(u.initialName=i),s&&(u.initialChannelId=s),e(Object(b.e)({element:c.a.createElement(Yn,a()({},u,l))}))}});Wn.propTypes={initialEmail:l.b.string,initialName:l.b.string,initialChannelId:l.b.obect};t.a=Wn;Wn.propTypes={}},"6LT7":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return p});var r=n("HO/Y"),a=n("uf9I"),i=n("St+r"),o=n("V5VI"),s={},c={},l={};function u(e){if(!Object(r.r)(e))return Promise.reject(new Error("Socket intentionally disabled in this app"));if(Object(i.l)(e))return Promise.reject(new Error("Socket in a troubled connection state"));if(Object(i.g)(e))return Promise.resolve();var t=Object(a.b)(e);return s[t]||(s[t]=new Promise(function(e,n){c[t]=e,l[t]=n})),s[t]}function d(e,t,n){var r=Object(a.b)(n());c[r]&&(c[r](),c[r]=void 0,l[r]=void 0,s[r]=void 0)}function b(e,t,n){var r=Object(a.b)(n());l[r]&&(l[r](new Error("Socket entered trouble connecting state")),l[r]=void 0,c[r]=void 0,s[r]=void 0)}function p(){Object(o.d)({actions:[i.a,i.t],sideEffect:d}),Object(o.d)({actions:[i.z],sideEffect:b})}},"6MAr":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("aK/h"),u=n("EzZj"),d=n("MNvw"),b=n("U/ze"),p=Object(u.b)("Add an inviter for a channel");p.propTypes={channelId:l.b.string.isRequired,inviter:l.b.string.isRequired};var h=Object(u.b)("Remove an inviter for a channel");h.propTypes=l.b.string.isRequired;var m=Object(d.b)((r={},i()(r,p,function(e,t){var n=t.channelId,r=t.inviter;return n&&r?s()({},e,i()({},n,r)):e}),i()(r,h,function(e,t){return t&&e[t]?Object(c.a)(e,t):e}),r),{},{persistenceEnabled:!0});m.propTypes=l.b.objectOf(l.b.string),t.b=m;Object(b.b)(function(e,t){return e&&e.channelsMeta&&e.channelsMeta.inviters&&e.channelsMeta.inviters[t]})},"6NDi":function(e,t,n){},"6TBL":function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return O});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("ifKl"),u=n("gSGL"),d=n("vJtL"),b=n("7EGn"),p=n("WQtW"),h=n("yHhI"),m=n("cErB"),f=n("q/xz"),v=Object(h.b)(),g="socket_closed",_=4998,O=4999,y=16384;function j(e,t){if(e.SENT_MSG=t.msg,!1===e.ok){var n=Object(u.a)(e.error)?e.error:Object(b.a)(e,"error.msg","unknown_error"),r=new Error(n);r.msg=e,t.reject(r)}t.resolve(e)}var k=function(){function e(t){var n=this;if(o()(this,e),!Object(m.i)(t))throw new Error("Invalid WebSocket URL");this._receiveBuffer=[],this._sendBuffer=[],this._socket=new e.WebSocket(t),this._pendingMessages={},this.onCloseCallback=l.a,this.onConnectCallback=l.a,this.onErrorMessageCallback=l.a,this.startData=new Promise(function(e,t){n._resolveStartDataPromise=e,n._rejectStartDataPromise=t}),this.startData.suppressUnhandledRejections(),this._socket.onclose=function(e){return n._onSocketClose(e)},this._socket.onmessage=function(e){return n._onSocketMessage(e)},this._socket.onerror=l.a,this._socket.onopen=function(){return n._onSocketOpen()},Object(f.a)(this)}return c()(e,[{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").slice(0,120);this._socket.close(e,t)}},{key:"send",value:function(e){var t,n,r,a=this;if(t=this._socket,n=t.readyState===WebSocket.CONNECTING,r=t.readyState===WebSocket.OPEN,!n&&!r){var i=e?[e.type,e.subtype].join("."):"(no msg)",o=this._socket?this._socket.readyState:"(no socket)";v.warn("SLACK-SOCKET","Tried to send "+i+" but our socket is closed; readyState = "+o);var s=new Error(g);s.msg={SENT_MSG:e};var c=Promise.reject(s);return c.suppressUnhandledRejections(),c}y+=1,e.id=y;var l=JSON.stringify(e);if(l.length>32768){var u=Promise.reject(new Error("Message is too big to send over socket"));return u.suppressUnhandledRejections(),u}if("tickle"===e.type){try{this._socket.send(l)}catch(e){}return Promise.resolve({SENT_MSG:e})}var d=new Promise(function(t,n){a._pendingMessages[e.id]={msg:e,resolve:t,reject:n},a._socket.readyState!==WebSocket.CONNECTING?a._socket.send(l):a._sendBuffer.push(l)});return d.suppressUnhandledRejections(),d}},{key:"_onSocketClose",value:function(e){clearInterval(this._pingTimer),this.startData.isPending()&&this._rejectStartDataPromise(new Error("Socket was closed before receiving a hello message")),Object(d.a)(this.onCloseCallback)&&this.onCloseCallback(e?e.code:void 0),Object.values(this._pendingMessages).forEach(function(e){j({ok:!1,error:g,reply_to:e.msg.id},e)}),this._pendingMessages={}}},{key:"_onSocketMessage",value:function(e){var t=e.data,n=JSON.parse(t);if(Object(p.d)(2)&&v.info("slack-socket received message",n),n.reply_to)if(this._pendingMessages[n.reply_to]){var r=this._pendingMessages[n.reply_to];delete this._pendingMessages[n.reply_to],j(n,r)}else v.warn("Received a reply to a message we have no record of sending (reply_to = "+n.reply_to+", type = "+n.type+")");else if("hello"!==n.type)"error"!==n.type?this._delegate?this._delegate(n):this._receiveBuffer.push(n):Object(d.a)(this.onErrorMessageCallback)&&this.onErrorMessageCallback(n.error||{});else if(Object(d.a)(this.onConnectCallback)&&this.onConnectCallback(),n.start){var i=a()({self:n.self,region:n.region},n.start);this._resolveStartDataPromise(i)}else this.startData.cancel()}},{key:"_onSocketOpen",value:function(){var e=this,t=Date.now();this._pingTimer=setInterval(function(){if(Date.now()-t>9e4)return e.close(_,"Too long since we received a pong"),void clearInterval(e._pingTimer);e.send({type:"ping"}).then(function(){t=Date.now()}).catch(l.a)},1e4),this._sendBuffer.length&&this._sendBuffer.forEach(function(t){e._socket.send(t)}),this._sendBuffer=void 0}},{key:"isConnected",get:function(){return this._socket&&this._socket.readyState===WebSocket.OPEN}},{key:"messageDelegate",get:function(){return this._delegate},set:function(e){if(this._delegate)throw new Error("This socket already has a delegate");if("function"!=typeof e)throw new Error("Socket delegates must be functions");this._delegate=e,this._receiveBuffer.length&&this._receiveBuffer.forEach(function(t){return e(t)}),this._receiveBuffer=void 0}},{key:"isClosingOrClosed",get:function(){return this._socket&&(this._socket.readyState===WebSocket.CLOSED||this._socket.readyState===WebSocket.CLOSING)}}]),e}();t.d=k,k.WebSocket=WebSocket},"6avh":function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("XHGt"),s=n("TSYQ"),c=n.n(s),l=n("DtX9"),u=n("RAhH"),d=n("lek6"),b=n("qkTT"),p=n("nNoG"),h=n("whT2"),m=n("VjHM"),f=n("Fdc0"),v=new p.b("current_status"),g=(r.b.string,r.b.number,r.b.object,r.b.bool,{className:void 0,expiration:0,member:void 0,time24:!1});function _(e){var t=e.className,n=e.expiration,r=e.member,a=e.time24;if(!Object(f.yb)(r)||!n)return null;var o=1e3*n,s=v.t("Until {expirationDate}",{expirationDate:Object(h.a)(o,{timeZone:Object(f.K)(r),timeZoneOffset:Object(f.L)(r),do24hrTime:a})});return i.a.createElement("span",{className:t,"data-qa-status-expiration":n},s)}_.displayName="CustomStatusExpiration",_.defaultProps=g;var O=Object(o.b)(function(e,t){var n=t.memberId;return{expiration:Object(l.e)(e,n).expiration,member:Object(l.c)(e,n),time24:Object(m.g)(e,"time24")}})(_),y=(n("R7V9"),function(e){var t=e.emoji,n=e.text,r=e.animated,a=e.tooltip,o=e.tipPosition,s=e.noText,l=e.className,p=e.memberId;if(!t)return null;var h=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.createElement(d.a,{text:s?t:t+" "+n,emojiSize:b.a.MEDIUM,className:e,showTooltips:!1,noJumbomoji:!0,noLinking:!0,noSpecials:!0,noHighlights:!0,noEmojiText:!0,preventCopyPaste:!0,stopAnimations:r})};if(!a)return h(c()(l,"c-custom_status","c-custom_status--inline"),!r);return i.a.createElement(u.c,{tip:function(){return i.a.createElement(i.a.Fragment,null,h("c-custom_status__tooltip"),i.a.createElement(O,{className:"c-custom_status__expiration",memberId:p}))},position:o,zIndex:"above_fs","data-qa":"custom_status_tooltip"},i.a.createElement("span",{className:c()("c-custom_status",l),"data-qa":"custom_status"},i.a.createElement(d.a,{text:t,emojiSize:b.a.SMALL,showTooltips:!1,noJumbomoji:!0,noLinking:!0,noSpecials:!0,noHighlights:!0,noEmojiText:!0,iconInTextMode:!0,preventCopyPaste:!0,transformMissingEmoji:!0,showIconForEmojiInAsTextMode:!0,stopAnimations:!r})))});y.displayName="CustomStatus",y.defaultProps={emoji:"",text:"",animated:!1,tooltip:!0,tipPosition:void 0,noText:!1,className:void 0,memberId:void 0};var j=Object(o.b)(function(e,t){var n=t.memberId,r=Object(l.e)(e,n);return{text:r.text,emoji:r.emoji}})(y);n.d(t,"a",function(){return O});t.b=j},"6i9J":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("ifKl"),c=function(){function e(t,n){a()(this,e),this.call=t,this.timeoutMs=n,this.updateDate=void 0,this.cachedData=void 0,this.pendingPromise=void 0,this.pendingPromiseRequestDate=void 0}return o()(e,[{key:"get",value:function(){return this.isStaleOrUndefined()?this._callCacheGet():Promise.resolve(this.cachedData)}},{key:"getStaleWhileRevalidate",value:function(e){return this.isStaleOrUndefined()?(this._callCacheGet(),Promise.resolve(void 0===this.cachedData?e:this.cachedData)):Promise.resolve(this.cachedData)}},{key:"flushAll",value:function(){this.updateDate=void 0,this.cachedData=void 0,this.pendingPromise&&this.pendingPromise.cancel(),this.pendingPromise=void 0,this.pendingPromiseRequestDate=void 0}},{key:"onCacheData",value:function(e){Object(s.a)()}},{key:"isStaleOrUndefined",value:function(){return void 0===this.updateDate||void 0===this.cachedData||new Date-this.updateDate>this.timeoutMs}},{key:"_callCacheGet",value:function(){var e=this;if(this.pendingPromise){if(new Date-this.pendingPromiseRequestDate<3e4)return this.pendingPromise;this.pendingPromise.cancel(),this.pendingPromiseRequestDate=void 0,this.pendingPromiseRequestDate=void 0}return this.pendingPromiseRequestDate=new Date,this.pendingPromise=this.call.apply(this).then(function(t){return e.cachedData=t,e.updateDate=new Date,e.pendingPromise=void 0,e.onCacheData(t),e.cachedData}),this.pendingPromise}}]),e}()},"6kok":function(e,t,n){"use strict";n.d(t,"c",function(){return F}),n.d(t,"a",function(){return B}),n.d(t,"eb",function(){return U}),n.d(t,"lb",function(){return H}),n.d(t,"gb",function(){return K}),n.d(t,"xb",function(){return G}),n.d(t,"yb",function(){return V}),n.d(t,"v",function(){return z}),n.d(t,"t",function(){return Y}),n.d(t,"W",function(){return W}),n.d(t,"ob",function(){return Q}),n.d(t,"kb",function(){return X}),n.d(t,"Eb",function(){return Z}),n.d(t,"V",function(){return J}),n.d(t,"bb",function(){return $}),n.d(t,"zb",function(){return ee}),n.d(t,"Kb",function(){return te}),n.d(t,"mb",function(){return ne}),n.d(t,"S",function(){return re}),n.d(t,"T",function(){return ae}),n.d(t,"D",function(){return ie}),n.d(t,"N",function(){return oe}),n.d(t,"O",function(){return se}),n.d(t,"P",function(){return ce}),n.d(t,"r",function(){return le}),n.d(t,"q",function(){return ue}),n.d(t,"Bb",function(){return de}),n.d(t,"cb",function(){return be}),n.d(t,"Ab",function(){return pe}),n.d(t,"Gb",function(){return he}),n.d(t,"wb",function(){return me}),n.d(t,"l",function(){return fe}),n.d(t,"Ob",function(){return ve}),n.d(t,"Jb",function(){return ge}),n.d(t,"Ib",function(){return _e}),n.d(t,"nb",function(){return Oe}),n.d(t,"X",function(){return ye}),n.d(t,"k",function(){return je}),n.d(t,"E",function(){return ke}),n.d(t,"Y",function(){return Ee}),n.d(t,"ub",function(){return Ce}),n.d(t,"Z",function(){return Ie}),n.d(t,"fb",function(){return we}),n.d(t,"jb",function(){return Se}),n.d(t,"y",function(){return Te}),n.d(t,"z",function(){return Re}),n.d(t,"Cb",function(){return Ne}),n.d(t,"rb",function(){return xe}),n.d(t,"sb",function(){return Me}),n.d(t,"qb",function(){return Pe}),n.d(t,"tb",function(){return Ae}),n.d(t,"Q",function(){return De}),n.d(t,"Fb",function(){return Le}),n.d(t,"Ub",function(){return qe}),n.d(t,"Sb",function(){return Fe}),n.d(t,"pb",function(){return Be}),n.d(t,"C",function(){return Ue}),n.d(t,"p",function(){return He}),n.d(t,"w",function(){return Ke}),n.d(t,"J",function(){return Ge}),n.d(t,"I",function(){return Ve}),n.d(t,"Rb",function(){return ze}),n.d(t,"L",function(){return Ye}),n.d(t,"G",function(){return We}),n.d(t,"H",function(){return Qe}),n.d(t,"M",function(){return Xe}),n.d(t,"B",function(){return Ze}),n.d(t,"R",function(){return Je}),n.d(t,"Hb",function(){return $e}),n.d(t,"vb",function(){return et}),n.d(t,"db",function(){return tt}),n.d(t,"A",function(){return nt}),n.d(t,"ab",function(){return rt}),n.d(t,"Nb",function(){return at}),n.d(t,"Qb",function(){return it}),n.d(t,"Wb",function(){return ot}),n.d(t,"x",function(){return st}),n.d(t,"F",function(){return ct}),n.d(t,"Db",function(){return lt}),n.d(t,"ib",function(){return ut}),n.d(t,"hb",function(){return dt}),n.d(t,"Mb",function(){return bt}),n.d(t,"s",function(){return pt}),n.d(t,"Pb",function(){return ht}),n.d(t,"b",function(){return ft}),n.d(t,"m",function(){return vt}),n.d(t,"i",function(){return gt}),n.d(t,"j",function(){return Ot}),n.d(t,"g",function(){return yt}),n.d(t,"h",function(){return jt}),n.d(t,"u",function(){return kt}),n.d(t,"f",function(){return Et}),n.d(t,"d",function(){return Ct}),n.d(t,"e",function(){return It}),n.d(t,"Vb",function(){return wt}),n.d(t,"K",function(){return St}),n.d(t,"Tb",function(){return Tt}),n.d(t,"n",function(){return Rt}),n.d(t,"o",function(){return Nt}),n.d(t,"U",function(){return xt}),n.d(t,"Lb",function(){return Mt});var r=n("gSGL"),a=n("7EGn"),i=n("0VPD"),o=n("CpTu"),s=(n("BeL+"),n("Z0Cl")),c=n("zmn3"),l=n("bPB8"),u=n("vPIQ"),d=n("Qrgz"),b=n("yHhI"),p=n("5mKg"),h=n("D4L/"),m=n("N4dO"),f=n("1czH"),v=n("52Su"),g=n("oIqc"),_=n("rWF5"),O=n("/k8D"),y=n("FHcd"),j=n("clTI"),k=n("HO/Y"),E=n("DtX9"),C=n("uf9I"),I=n("VjHM"),w=n("FN36"),S=n("hPvj"),T=n("hOQf"),R=n("1zbP"),N=n("D3DU"),x=n("Smdl"),M=n("nNoG"),P=n("Fdc0"),A=(n("zbZx"),new M.b("channels")),D=d.k,L=function(){return p.v.apply(void 0,arguments)},q=function(){return p.x.apply(void 0,arguments)},F={NONE:"",LEAVE:"leave",CLOSE:"close",CONFIRM_AND_LEAVE:"confirm_and_leave",CONFIRM_LEAVE_AND_ARCHIVE:"confirm_leave_and_archive"},B={PUBLIC:0,DM:1,PRIVATE:2,MPDM:3},U=function(e){return!(!e||!e.is_im)},H=function(e){return!(!e||!e.is_mpim)},K=function(e){return!(!U(e)&&!H(e))},G=function(e){return e&&(e.is_private||e.is_group)&&!e.is_mpim},V=function(e){return e&&e.is_channel&&!(e.is_private||e.is_group)&&!e.is_mpim},z=function(e){return U(e)?"im":H(e)?"mpim":G(e)?"private":V(e)?"channel":null},Y=function(e){return U(e)?B.DM:H(e)?B.MPDM:G(e)?B.PRIVATE:V(e)?B.PUBLIC:null},W=function(e){return e&&e.is_channel},Q=function(e){return e&&e.is_open},X=function(e){return!(!e||!e.is_member)},Z=function(e){return e&&e.is_starred},J=function(e){return!(!e||!e.is_archived)},$=function(e){return!(!e||!e.is_frozen)},ee=function(e){return e&&!e.unread_cnt},te=function(e){return e&&!ee(e)},ne=function(e){return!(!e||!e.is_muted)},re=function(e){return e&&e.unread_cnt},ae=function(e){return e&&e.unread_highlight_cnt},ie=function(e){return e&&e.last_read},oe=function(e){return e&&e.pinned_items_count},se=function(e){return e&&e.priority},ce=function(e){return e&&e.purpose&&e.purpose.value},le=function(e){return e&&e.creator},ue=function(e){return e&&e.created},de=function(e){return e&&(e.is_general||e.is_org_mandatory)},be=function(e){return!(!e||!e.is_general)},pe=function(e,t){if(!t)return!1;if(Object(k.j)(e,"feature_announce_only")){var n=Object(b.a)({state:e}),r=Object(h.d)(e);if((L(r)||q(r))&&!be(t)&&t.is_read_only)return n.error("Only the #general channel on free or standard teams can be read only. Make sure who_can_post pref is being set correctly on BE"),!1;if(K(t)&&t.is_read_only)return n.error("MPIMs and IMs cannot be announce-only. Make sure is_read_only state is populated correctly for channel "+t.id),!1}return!(!t||!t.is_read_only)},he=function(e,t){if(!t)return!1;if(Object(k.j)(e,"feature_announce_only")){var n=Object(b.a)({state:e}),r=Object(h.d)(e);if((L(r)||q(r))&&!be(t)&&t.is_thread_only)return n.error("Only the #general channel on free or standard teams can be thread only. Make sure is_thread_only/can_thread pref is being set correctly on BE"),!1;if(K(t)&&t.is_thread_only)return n.error("MPIMs and IMs cannot be announce-only. Make sure is_thread_only state is populated correctly for channel "+t.id),!1}return!(!t||!t.is_thread_only)},me=function(e){return!J(e)&&V(e)&&!X(e)},fe=function(e,t){return!(!t||pe(e,t)||function(e){return!(!e||!e.is_non_threadable)}(t))},ve=function(e){return!!H(e)&&(!!(Q(e)||Z(e)||te(e))||!!(e.latest||e.msgs&&e.msgs.length)&&(!e.members||2!==e.members.length))};function ge(e){return Object(R.e)(e)}function _e(e){return Object(R.d)(e)}function Oe(e){return Object(R.c)(e)}function ye(e){return Object(R.b)(e)}function je(e){return!!(U(e)||H(e)||X(e)||J(e)&&Z(e))}function ke(e,t){var n=e.latest;n&&n.ts&&(n=n.ts);var r=Object(u.a)(t,function(e){return!Object(T.pb)(e)});return(r&&r>n||!n)&&(n=r),n}var Ee=function(e){return!(!e||!e.is_ext_shared&&!e.is_pending_ext_shared)};function Ce(e){return!!e&&!!e.is_pending_ext_shared}var Ie=function(e){return!(!e||!e.unlinked)};function we(e,t){return!(!e||!t)&&(U(e)&&Object(P.eb)(t))}function Se(e,t){return!!t&&we(t,Object(E.c)(e,t.user))}var Te=function(e,t){return Object(x.a)()?!!Object(S.d)(e,{channelId:t}):Object(f.t)(t)},Re=function(e,t){return(pe(e,t)||he(e,t))&&Te(e,t.id)},Ne=function(e){return e&&e.is_channel&&!e.is_mpim&&Ee(e)};var xe=function(e){return!(!e||!e.is_org_shared)};function Me(e){return!!e&&(!!xe(e)&&(V(e)||G(e)))}var Pe=function(e){return Me(e)&&e.is_global_shared},Ae=function(e){return!!e&&!(!xe(e)||!e.is_global_shared)},De=function(e){var t=Object(I.e)(e);return t?t.split(",").filter(function(t){var n=Object(j.r)(e,t);return n&&V(n)&&!X(n)&&!J(n)&&!Ee(n)&&!Pe(n)}):[]},Le=function(e,t){return!(!t||-1===De(e).indexOf(t.id))},qe=function(e){return e&&e._show_in_list_even_though_no_unreads},Fe=function(e){return e&&e.never_needs_joined_msg},Be=function(e){return!!(e&&e.is_org_default&&V(e)&&Me(e))},Ue=function(e){return 1===e.is_moved},He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e?n&&H(e)&&t?e.unread_highlight_cnt:r&&a?e.unread_highlight_cnt:H(e)||U(e)?e.unread_cnt:e.unread_highlight_cnt:0},Ke=function(e){return e?H(e)?Object(v.a)(e):U(e)?Object(g.c)(e):Object(N.a)({channelName:e.name,includePrefix:!1,isUnknown:_e(e),isNonExistent:Oe(e)}):null};function Ge(e,t){if(!H(t))return null;if(!t.members)return Object(b.a)({state:e}).error("Unable to get display name for MPIM because we\u2019re missing members",t),null;var n=t.members.map(function(t){var n=Object(E.c)(e,t);return Object(P.yb)(n)?null:Object(P.P)(e,n)});return Object(l.a)(n).join(", ")}function Ve(e,t){if(!t)return[];var n=Object(k.b)(e);return Object(l.a)(Object(c.a)(Object(s.a)(t.members,function(e){return e!==n}),function(t){return Object(E.c)(e,t)}))}function ze(e,t){var n=Ve(e,t);return n.length<2?t._internal_name:"@"+Object(c.a)(Object(l.a)(n),function(e){return Object(P.lb)(e)?e.name+"_"+e.team_id:e.name}).join(",")}var Ye=function(e){return e?_e(e)?null:e.name:null},We=function(e){return e&&U(e)&&e.user},Qe=function(e){return e&&H(e)&&e.members};function Xe(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeSelfTeamId:!1}).includeSelfTeamId;if(!e||!t)return[];if(!n){var r=Object(C.c)(e);return Object(s.a)(t.pendingAndConnectedTeamIds,function(e){return e!==r})}return t&&t.pendingAndConnectedTeamIds}var Ze=function(e,t){return e&&t?t&&t.internalTeamIds:[]};function Je(e,t){var n=Xe(e,t);if(n&&n.length){var r=Object(h.c)(e),a=Object(l.a)(n.map(function(e){return r[e]})),i=Object(o.a)(a,p.J);return i&&i.id}}function $e(e,t){return!!Object(k.j)(e,"feature_esc_grid_migrations_client")&&(!!Ee(t)&&(!!Je(e,t)||function(e,t){if(!t)return!1;if(!Ee(t))return!1;var n=Xe(e,t);if(!n||0===n.length)return!1;var r=!1,a=void 0;return n.forEach(function(t){(a=Object(h.i)(e,t))&&a.externalOrgMigrated&&!a.is_migrating&&(r=!0)}),r}(e,t)))}var et=function(e,t){return(function(e){return e&&e.pending_connected_team_ids}(e)||[]).indexOf(t)>-1},tt=function(e,t){return!(!t||!t.conversation_host_id||t.conversation_host_id===Object(C.c)(e)||t.conversation_host_id===Object(C.b)(e))},nt=function(e,t){if(!t||!t.conversation_host_id)return null;var n=t.conversation_host_id,r=Object(h.i)(e,n);return Object(p.e)(r)},rt=function(e){return e&&e.fromAnotherTeam},at=function(e){return X(e)&&(G(e)||V(e))&&!rt(e)},it=function(e,t){return!!t&&!(!t.team_id||t.team_id===Object(C.b)(e))},ot=function(e,t){var n=Object(E.b)(e),r=Object(i.a)(Ze(e,t)||[],Object(a.a)(n||{},"enterprise_user.teams")||[]);return r&&r[0]},st=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.publicChannelIncludeHashSign,a=void 0===r||r,i=n.imIncludeAtSign,o=void 0===i||i;if(!t)return null;if(H(t))return Ge(e,t);if(U(t)){var s=o;return Object(P.Q)(e,t.user,!1,s)}return Object(N.a)({channelName:t.name,includePrefix:!!V(t)&&!!a,isUnknown:_e(t),isNonExistent:Oe(t)})},ct=function(e,t,n){var r=t(),i=D(r,n.id),o=i.ok,s=i.reason;if(!o)return Promise.resolve({action:F.NONE,reason:s});if(!G(n))return Promise.resolve({action:F.LEAVE});if(J(n))return Promise.resolve({action:F.CLOSE});if(Ne(n))return Promise.resolve({action:F.CONFIRM_AND_LEAVE});var c=e(Object(m.g)({channelId:n.id}));return(c.promise||Promise.resolve(c)).then(function(e){return 1===Object(a.a)(e,"counts.member_count",0)?{action:F.CONFIRM_LEAVE_AND_ARCHIVE}:{action:F.CONFIRM_AND_LEAVE}})},lt=function(e){return We(e)===P.c},ut=function(e,t){var n=Object(j.d)(e,t);if(!U(n))return!1;if(lt(n))return!0;var r=We(n),a=Object(E.c)(e,r);return!!Object(P.cb)(a)},dt=function(e,t){var n=Object(r.a)(t)?Object(j.d)(e,t):t;if(!U(n))return!1;if(lt(n))return!1;var a=We(n),i=Object(E.c)(e,a);return!!Object(P.cb)(i)},bt=function(e,t){return t&&We(e)===t},pt=function(e){return e&&e.previous_names},ht=function(e,t){return bt(t,e)};var mt=250,ft=250;function vt(e){return Object(r.a)(e)?e.length>mt:(_.k&&Object(b.b)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}var gt="too_long",_t="restricted_action",Ot="user_is_restricted",yt="method_not_supported_for_channel_type",jt="method_not_supported_for_dm";function kt(e){switch(e){case gt:return A.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:mt});case _t:case Ot:return A.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case yt:return A.t("It\u2019s not possible to set a topic here, unfortunately.");case jt:return A.t("Regrettably, direct messages do not have topics.");default:return A.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}var Et="user_is_restricted",Ct="method_not_supported_for_channel_type",It="method_not_supported_for_dm";function wt(e,t,n){var r=Object(j.u)(e,t)&&Object(j.d)(e,t),i=n?Object(E.c)(e,n):null;if(!t||!r)return!1;if(!Object(k.m)(e))return!1;if(U(r)&&!H(r))return!1;if(Be(r))return!0;var o=Object(m.f)(e,r.id),s=(Object(a.a)(o,"counts.member_count")||0)>=(Object(w.a)(e,"loud_channel_mentions_limit")||1/0);if(s&&i){if(xe(r)&&Object(P.ib)(i))return!1;if(!xe(r)&&Object(P.X)(i))return!1}return s}function St(e){return e&&e.members?Math.min(Math.max((e.members.length||1)-1,2),9):null}function Tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=n.includes("BKeveryone"),a=n.includes("BKchannel"),i=n.includes("BKgroup"),o=!!Object(I.g)(e,"last_seen_at_channel_warning"),s=new Date(Object(I.g)(e,"last_seen_at_channel_warning")),c=o&&Object(O.a)(s,new Date);if(!r&&!a&&!i)return!1;var l=Object(j.d)(e,t);return!(!l||U(l))&&(!((a||i)&&!Object(d.d)(e,t))&&(!(be(l)&&r&&!Object(d.e)(e,t))&&("never"!==Object(w.a)(e,"warn_before_at_channel")&&(("once"!==Object(w.a)(e,"warn_before_at_channel")||!o)&&("daily"!==Object(w.a)(e,"warn_before_at_channel")||!c)))))}function Rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Object(y.a)(t))return null;var r=Object(j.d)(e,t),a=n.includes("BKeveryone"),i=n.includes("BKchannel"),o=n.includes("BKgroup"),s=n.includes("BKhere");if(!be(r)&&a)return"@everyone";if(be(r)&&a&&!s&&!i&&!o&&Object(d.e)(e,t))return null;if(!Object(d.d)(e,t)){if(s)return"@here";if(i)return"@channel";if(o)return"@group";if(a)return"@everyone"}if(be(r)&&!Object(d.e)(e,t)&&(a||s||o||i)){if(s)return"@here";if(i)return"@channel";if(o)return"@group";if(a)return"@everyone"}return null}function Nt(e){var t=e.teamDomain,n=e.channelId,r=Object(_.h)(window.location.host);return"https://"+t+(r.envSubdomain?"."+r.envSubdomain:"")+".slack."+(r.isEU?"eu":"com")+"/messages/"+n}var xt=function(e,t){var n=We(e),r=t&&t[n]||null;return Object(P.ab)(r)},Mt=function(e,t,n){return xt(e,t.members)&&0===n}},"6lOZ":function(e,t,n){},"6mX7":function(e,t,n){},"6rL3":function(e,t,n){},"6tF6":function(e,t,n){"use strict";var r=n("Z0Cl"),a=n("zmn3"),i=n("nJKt"),o=n("F294"),s=n("qAkX"),c=n("3ftV"),l=n("CpTu"),u=n("lCmp"),d=n("NFsq"),b=n("cErB"),p=n("nNoG"),h=["http","https","ftp"],m=["com","net","org","edu","gov","info","co","ly","io","ru","jp","uk","fr","de","es","eu","br","bo","mx","ar","cl","ec","pe","ve"];function f(e){return!!e&&0===e.indexOf("www.")}function v(e){if(!e)return!1;var t=e.toLowerCase();return Object(u.a)(h,function(e){return 0===t.indexOf(e+"://")})}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=e.match;if(!t||!n)return!1;var r=n.url,a=n.text,i=n.offset,o=n.type;if(!r||!a||!o||i<0)return!1;if("url"===o){if(function(e){if(!e)return!1;var t=e.url,n=e.text,r=Object(b.j)(t).host;if(!r)return!1;if(!r.includes("."))return!1;var a=r.split(".").pop();return!Object(d.a)(m,a)&&!f(r)&&!v(n)}(n))return!1;if(function(e,t){if(!e)return!1;var n=e.url,r=e.text,a=e.offset,i=Object(b.j)(n).host;return"/"===(a>0&&t.charAt(a-1))&&!f(i)&&!v(r)}(n,t))return!1}return!0};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.match,n=e.input;if(!t)return null;var r=t;return"url"===t.type&&(r=function(e,t){if(!e)return null;var n=e.url,r=e.text,a=e.offset,s=e.type,l=a>0&&t.charAt(a-1),u=n.slice(-1);if(!Object(p.d)(l)||!Object(p.d)(u))return e;var d=Object(c.a)(n.split(""),function(e){return!Object(p.d)(e)})+1,b=n.substring(0,d);if(!b)return e;if(Object(p.d)(b))return e;var h=Object(o.a)(Object(i.a)({input:b}));if(!h||h.url!==b)return e;var m=Object(c.a)(r.split(""),function(e){return!Object(p.d)(e)})+1;return{url:b,text:r.substring(0,m),offset:a,type:s}}(r=function(e){if(!e)return null;var t=e.url,n=e.text,r=e.offset,a=e.type;return"'"!==Object(s.a)(t)?e:t.split("/").pop().replace(/[^']/g,"").length%2==0?e:{url:t.substring(0,t.length-1),text:n.substring(0,n.length-1),offset:r,type:a}}(r=function(e){if(!e)return e;var t=e.url,n=e.text,r=e.offset,a=e.type;if(v(t))return e;var i=Object(b.j)(t).protocol,o=Object(l.a)(h,function(e){return-1!==i.indexOf(e+":")});if(!o)return e;var s=i.indexOf(o);return{url:t.slice(s),text:n.slice(s),offset:r+s,type:a}}(r)),n)),r};function O(e){if(!e)return null;switch(e.getType()){case"url":return e.getUrl();case"email":return"mailto:"+e.getEmail();case"phone":return e.getAnchorHref();default:return null}}function y(e){var t=e.input;if(!t)return[];var n=t.replace(/<a /g,"<@ "),o=Object(i.a)({input:n}),s=Object(a.a)(o,function(e){return{url:O(e),text:e.getMatchedText(),offset:e.getOffset(),type:e.getType()}}),c=Object(a.a)(s,function(e){return _({match:e,input:t})});return Object(r.a)(c,function(e){return g({match:e,input:t})})}n.d(t,"a",function(){return y})},"6tKJ":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return b});var r=n("yPgC"),a=n("aK/h"),i=n("EzZj"),o=r.a.maybeUnknown(r.a.AppView),s=Object(i.b)("add a view to the store");s.propTypes=o.isRequired;var c=Object(i.b)("update a view in the store");c.propTypes=o.isRequired;var l=Object(i.b)("updates a view's state from the store");l.propTypes={view:o.isRequired,viewState:a.b.object.isRequired};var u=Object(i.b)("remove a view from the store");u.propTypes=o.isRequired;var d=Object(i.b)("sets the active view ID");d.propTypes=a.b.string.isRequired;var b=Object(i.b)("bulk add views to the store");b.propTypes=a.b.arrayOf(o).isRequired},"7/2U":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("clTI"),a=n("pGee"),i=n("DtX9"),o=n("rVFV");function s(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?80:21}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:21,c=!t.trim(),l=Object(o.a)(t)>s,u=function(e){return/[ .,;'`~!@#$%^&*+=)(\\\/:"<>?|]/.test(e.trim())}(t),d=/^[-|_]+$/.test(t),b=/[A-Z]/.test(t),p=!1;t!==n&&(e&&(p=!!(Object(r.e)(e,t)||Object(i.n)(e,t)||Object(a.f)(e,t))));return{hasNameRequiredWarning:c,hasMaxLengthWarning:l,hasSpecialsWarning:u,hasPunctuationWarning:d,hasLowercaseWarning:b,hasNameTakenWarning:p}}},"71a+":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("tn36"),_=n("MREy"),O=n("NV6F"),y=(v.b.node.isRequired,v.b.string,v.b.string,v.b.object,v.b.bool,{userId:void 0,botId:void 0,botProfile:void 0,includeRemoveFromChannelAction:!1}),j=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(g.a)(n,["renderProfileCard"]),n}return h()(t,e),u()(t,[{key:"renderProfileCard",value:function(e){var t=this.props,n=(t.children,o()(t,["children"]));return Object(O.b)(a()({menuProps:e},n))}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.userId,e.botId,e.botProfile,o()(e,["children","userId","botId","botProfile"]));return f.a.createElement(_.e,a()({renderMenu:this.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:10},n),t)}}]),t}(m.PureComponent);j.displayName="ProfileCardTrigger",j.defaultProps=y,t.a=j},"734V":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("wYji"),o=n("yHhI"),s=n("AfrZ"),c=n("VjHM"),l=n("hW7K"),u=Object(a.b)("Set user color and call API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.color,i=t(),u=Object(l.a)(Object(c.g)(i,"user_colors"))||{};return a?u[r]=a:delete u[r],e(Object(s.f)({pref:"user_colors",value:JSON.stringify(u)})).catch(function(e){Object(o.a)({getState:t}).error("Error setting user color change: "+e)})});u.propTypes={memberId:r.b.string.isRequired,color:r.b.string};var d=n("DtX9"),b=n("Fdc0"),p=n("FHcd"),h=n("aLpA"),m=n("nNoG"),f=h.P.CUSTOM_ERROR,v=new m.b("cmd_handlers"),g=Object(a.b)("/color slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,o=n.words,s=void 0===o?[]:o,c=t(),l=s.length>1?s[1]:"",h=s.length>2?s[2].replace(/#/g,""):"",m=Error(f),g=Object(p.a)(l)?l.slice(1):null,_=Object(d.c)(c,g,!1);if(!_||Object(b.sb)(_)?m.feedback=v.t("A valid member name is required."):!h||6===h.length&&("#"+h).match(/(\W|^)(#[A-Fa-f0-9]{6})(\b)/g)||(m.feedback=v.t("A valid 6 character hex code is required, like `FF0000`.")),m.feedback)return Promise.reject(m);var O="";O=h?v.t("You\u2019ve set your custom color for {user} to {color}",{user:Object(b.E)(_),color:"#"+h}):v.t("You\u2019ve removed your custom color for {user}.",{user:Object(b.E)(_)});var y=e(u({memberId:g,color:h}));return e(Object(i.b)({temporary:!0,message:{text:O,channel:r,thread_ts:a}})),y});g.propTypes={channelId:r.b.string.isRequired,threadTs:r.b.string,words:r.b.arrayOf(r.b.string.isRequired).isRequired};t.default=g},"7DVE":function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("XfeM"),l=n("DTT0"),u=n("iCc5"),d=n.n(u),b=n("V7oC"),p=n.n(b),h=n("FYw3"),m=n.n(h),f=n("mRg0"),v=n.n(f),g=n("ifKl"),_=n("XHGt"),O=n("yPgC"),y=n("P2f5"),j=n("HO/Y"),k=n("YVZO"),E=(O.a.File().isRequired,s.b.func,s.b.func,s.b.bool,{renameFileApi:g.a,closeModal:g.a,featureSonicEmoji:!1}),C=function(e){function t(e){d()(this,t);var n=m()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRename=n.handleRename.bind(n),n}return v()(t,e),p()(t,[{key:"handleRename",value:function(e){var t=this.props.file;this.props.renameFileApi({fileId:t.id,title:e})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.featureSonicEmoji;return o.a.createElement(k.a,{initialFileTitle:t.title||t.name,handleRename:this.handleRename,closeModal:this.props.closeModal,featureSonicEmoji:n})}}]),t}(i.PureComponent);C.displayName="RenameFileDialog",C.defaultProps=E;var I={renameFileApi:function(){return y.o.apply(void 0,arguments)},closeModal:function(){return l.a.apply(void 0,arguments)}},w=Object(_.b)(function(e){return{featureSonicEmoji:Object(j.j)(e,"feature_sonic_emoji")}},I)(C),S=Object(c.b)("Opens the rename file dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isStackable,i=a()(n,["isStackable"]);e(Object(l.e)({element:o.a.createElement(w,i),isStackable:r}))});S.propTypes={file:O.a.File().isRequired,isStackable:s.b.bool};t.a=S},"7KzH":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.channel_header.start",r.a),o=Object(a.b)("TS.client.channel_header.openTopicInput",r.a)},"7Lvz":function(e,t,n){},"7R01":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=(n("aK/h"),n("tn36")),h=n("QbLZ"),m=n.n(h),f=n("CpTu"),v=n("1myf"),g=n("vJtL"),_=n("gSGL"),O=n("3zPy"),y=n.n(O),j=n("g5qt"),k=n("rWF5"),E=y()("f6"),C=function(e){return Object(v.a)(e,function(e){return e.index}).reduce(function(e,t,n,r){var a=r.length-1,i=0===n,o=n===a,s=o?r[0].id:r[n+1].id,c=i?r[a].id:r[n-1].id;return e[t.id]=m()({},t,{isFirst:i,isLast:o,next:s,previous:c}),e},{})},I=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyDown=n.onKeyDown.bind(n),n.state={initialActiveSection:null,activeSection:null},n.sections={},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeSection;t.activeSection!==n&&null!==n&&this.focusSection(n)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,n=e.shiftKey;(function(e,t,n){var r=Object(k.p)();return e===E&&(j.X?!t&&!n:r?t&&!n:!r&&n&&!t)})(t,e.metaKey,e.ctrlKey)&&(e.preventDefault(),n?this.focusPrevious():this.focusNext())}},{key:"setInitialActiveSection",value:function(e){if(this.sections[e]){var t=this.state.activeSection,n=t===e?null:t;this.setState(function(){return{activeSection:n,initialActiveSection:e}})}}},{key:"getFirstSection",value:function(){var e=Object(f.a)(this.sections,{isFirst:!0});return e?e.id:null}},{key:"getLastSection",value:function(){var e=Object(f.a)(this.sections,{isLast:!0});return e?e.id:null}},{key:"getNextSection",value:function(){var e=this.state,t=e.activeSection,n=e.initialActiveSection;return 0===Object.keys(this.sections).length?null:null===t?null!==n?n:this.getFirstSection():null!==n&&n!==t?n:this.sections[t].next}},{key:"getPrevSection",value:function(){var e=this.state,t=e.activeSection,n=e.initialActiveSection;return 0===Object.keys(this.sections).length?null:null===t?null!==n?n:this.getLastSection():null!==n&&n!==t?n:this.sections[t].previous}},{key:"resetSectionNavigation",value:function(){this.setState(function(){return{activeSection:null,initialActiveSection:null}})}},{key:"focusSection",value:function(e){var t=this.sections[e];t&&t.focus()}},{key:"focusNext",value:function(){var e=this.getNextSection();this.setState(function(){return{activeSection:e,initialActiveSection:e}})}},{key:"focusPrevious",value:function(){var e=this.getPrevSection();this.setState(function(){return{activeSection:e,initialActiveSection:e}})}},{key:"registerSection",value:function(e,t,n){Object(_.a)(e)&&t&&Object(g.a)(t.focus)&&(this.sections[e]||(this.sections[e]=m()({},t,{index:n,id:e}),this.sections=C(this.sections)))}},{key:"unregisterSection",value:function(e){this.state.activeSection!==e&&this.state.initialActiveSection!==e||this.setState(function(){return{activeSection:null,initialActiveSection:null}}),this.sections[e]&&(this.sections[e]=null,delete this.sections[e],this.sections=C(this.sections))}},{key:"render",value:function(){return null}}]),t}(d.PureComponent);I.displayName="SectionNavigationManager";var w=I,S=n("+qWH"),T=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(p.a)(n,["registerSection","unregisterSection","setInitialActiveSection","resetSectionNavigation"]),n.managerRef=b.a.createRef(),n.value={registerSection:n.registerSection,unregisterSection:n.unregisterSection,setInitialActiveSection:n.setInitialActiveSection,resetSectionNavigation:n.resetSectionNavigation},n}return u()(t,e),o()(t,[{key:"setInitialActiveSection",value:function(e){var t=this.managerRef.current;t&&t.setInitialActiveSection(e)}},{key:"registerSection",value:function(e,t,n){var r=this.managerRef.current;r&&r.registerSection(e,t,n)}},{key:"resetSectionNavigation",value:function(){var e=this.managerRef.current;e&&e.resetSectionNavigation()}},{key:"unregisterSection",value:function(e){var t=this.managerRef.current;t&&t.unregisterSection(e)}},{key:"render",value:function(){return b.a.createElement(d.Fragment,null,b.a.createElement(w,{ref:this.managerRef}),b.a.createElement(S.a.Provider,{value:this.value},this.props.children))}}]),t}(d.PureComponent);T.displayName="SectionNavigationProvider";t.a=T},"7WZX":function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return j}),n.d(t,"c",function(){return k}),n.d(t,"b",function(){return E});var r=n("YEIV"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=n("XfeM"),b=n("uf9I"),p=n("yHhI"),h=n("iJtp"),m=n("jzln"),f=Object(c.b)("Go to next toast state");f.propTypes=null;var v={},g=Object(l.b)(a()({},f,function(e){return e+1}),0,{persistenceEnabled:!0});g.propTypes=s.b.number,t.a=g;var _=Object(u.b)(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toast||0}),O=function(e){return v[e]||[]},y=Object(u.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(b.b)(e);return O(t)[0]||null}),j={},k=Object(d.b)("Enqueue a toast message",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).element,r=Object(p.a)({getState:t});if(o.a.isValidElement(n)){var a=t(),i=Object(b.b)(a),s=Object(h.a)()||Object(m.a)();if(j[i]||s)1===function(e,t){var n=O(e).concat([t]);return v[e]=n,n}(i,n).length&&e(f());else r.error("enqueueToast: No ToastContainer mounted for team "+i)}else r.error("enqueueToast: toast is not a valid React element")});k.propTypes={element:s.b.element.isRequired};var E=Object(d.b)("Dismiss the current toast",function(e,t){var n=t();!function(e){var t=v[e];t?t.length?v[e]=t.slice(1):Object(p.a)({teamId:e}).warn("Empty toast queue for team "+e):Object(p.a)({teamId:e}).warn("No toast queue found for team "+e)}(Object(b.b)(n)),e(f())})},"7YzY":function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("UQ5h"),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("od5y"),f=(r.b.oneOf([10,16,24,48,96]),r.b.oneOf(["guest","restricted"]),{size:16,type:void 0}),v=function(e){function t(){return c()(this,t),b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"renderSVGNode",value:function(e){var t=e.className,n=e.content;return i.a.createElement("svg",{className:t,width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n))}},{key:"renderBgClassName",value:function(){var e=this.props.type;return"guest"===e?"member_type_badge_background_ura":"restricted"===e?"member_type_badge_background_ra":""}},{key:"renderBgContent",value:function(){var e=this.props.type,t=void 0;return"guest"===e?t=i.a.createElement("polygon",{id:"status---single-channel---online",points:"0 17.9999995 18 18 17.9999994 0"}):"restricted"===e&&(t=i.a.createElement("path",{d:"M2.959235e-08,17.9999991 L18,17.9999991 L17.9999998,2.4681151e-07 L3.75230755,2.4681151e-07 C1.97230762,2.4681151e-07 0,1.97230786 0,3.7523078 L2.959235e-08,17.9999991 Z",id:"status---restricted---online"})),i.a.createElement("g",{className:"badge_bg",id:"badge_bg",fill:"#FFFFFF"},t)}},{key:"renderIconContent",value:function(){var e=this.props.type;return"guest"===e?i.a.createElement("g",{className:"badge_ura",id:"badge_ura",fill:"#808183"},i.a.createElement("path",{d:"M15.5400035,0.500000113 L0.500000113,15.5400035 C0.140000032,15.9000036 0,16.2800037 0,16.6400038 C0,17.3600039 0.580000131,18.0000041 1.52000034,18.0000041 L14.9400034,18.0000041 C16.7200038,18.0000041 18.0000041,16.7200038 18.0000041,14.9400034 L18.0000041,1.52000034 C18.0000041,0.580000131 17.3600039,0 16.6400038,0 C16.2800037,0 15.9000036,0.140000032 15.5400035,0.500000113 L15.5400035,0.500000113 Z",id:"status---single-channel---online"})):"restricted"===e?i.a.createElement("g",{className:"badge_ra",id:"badge_ra",fill:"#808183"},i.a.createElement("path",{d:"M0,3.06 L0,14.94 C0,16.72 1.28,18 3.06,18 L14.94,18 C16.72,18 18,16.72 18,14.94 L18,3.06 C18,1.28 16.72,0 14.94,0 L3.06,0 C1.28,0 0,1.28 0,3.06 L0,3.06 Z",id:"status---restricted---online"})):""}},{key:"render",value:function(){var e=this.props.size;return i.a.createElement(m.b,{className:"member_type_badge member_type_badge_"+e},this.renderSVGNode({className:this.renderBgClassName(),content:this.renderBgContent()}),this.renderSVGNode({className:"member_type_badge_icon",content:this.renderIconContent()}))}}]),t}(a.PureComponent);v.displayName="MemberTypeBadge",v.defaultProps=f;var g=v,_=function(e){var t=e.member,n=e.size;if(!n||!t)return"";var r=48,a=cdn_url+"/bfaba/img/new_channel_modal/airplane_48.png";36===n&&(r=72,a=cdn_url+"/aa3c6/img/new_channel_modal/airplane_72.png");var s="url('"+a+"')",c=Object(o.c)(t);return i.a.createElement("span",{className:"member_image thumb_"+r,style:{backgroundImage:s},"data-thumb-size":r},c&&i.a.createElement(g,{type:"restricted",size:r}))};_.displayName="PendingMemberIcon",_.defaultProps={member:void 0,size:void 0};t.a=_},"7Ztl":function(e,t,n){"use strict";n.d(t,"h",function(){return O}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return C}),n.d(t,"g",function(){return w}),n.d(t,"e",function(){return S}),n.d(t,"d",function(){return R}),n.d(t,"f",function(){return N});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("m8R6"),c=n("zmn3"),l=n("CpTu"),u=n("aK/h"),d=n("peh1"),b=n("AFNo"),p=n("1YQg"),h=n("Fdc0"),m=n("6kok"),f=n("clTI"),v=n("k55U"),g=n("TM4O"),_=n("lhZz"),O=Object(b.a)("Insert pending state for a newly created call"),y=Object(b.a)("Remove pending state"),j=Object(b.a)("Upsert part or all of a call");j.propTypes=u.b.shape({id:u.b.string.isRequired}).isRequired;var k=Object(b.d)({},{byId:{}},{persistenceEnabled:!1}).on(j,function(e,t){if(Object(v.f)(!Object(g.a)(),"The all-calls-store should not be used in the call window. Use the active-call-store for local call state."),!t||!t.id)return e;if(t.created_by)throw new Error("Must send an object of type call; use convertRtmRoomMessageForRedux");var n=e.byId[t.id]||{};return o()({},e,{byId:o()({},e.byId,a()({},t.id,o()({},{isDmCall:!1,channels:[],participants:[],participantHistory:[],members:[],memberHistory:[]},n,t)))})}).on(O,function(e,t){var n=t.window.getId();return Object(v.f)(!e.pending||!e.pending[n],"Existing pending call state"),o()({},e,{pending:o()({},e.pending,a()({},n,o()({},t)))})}).on(y,function(e,t){return Object(v.f)(!!e.pending&&!!e.pending[t],"No pending call state"),o()({},e,{pending:o()({},Object(s.a)(e.pending,t))})});t.a=k;var E=Object(b.e)(function(e,t){return e&&e.allCalls&&e.allCalls.byId[t]}),C=Object(d.createSelector)(function(e){return e.allCalls.byId},function(e){return Object(l.a)(e,T)}),I=Object(b.e)(function(e){var t=Object(l.a)(e.allCalls.pending,function(e){return!!e.window&&!e.window.isClosed()});if(t)return t.window;var n=Object(l.a)(e.allCalls.byId,function(e){return!e.dateEnd&&!!e.window&&!e.window.isClosed()});return n&&n.window});function w(){return Object(l.a)(Object(c.a)(Object(_.getStoreInstanceMap)(),function(e){return I(e.getState())}))}function S(e,t){var n=E(e,t);if(n&&n.isDmCall&&n.channels){var r=Object(l.a)(n.channels,function(e){return e.startsWith("D")}),a=Object(f.d)(e,r),i=Object(h.Q)(e,Object(m.G)(a));return i||void 0}}var T=function(e){return!!e.incomingInvite&&!e.incomingInvite.response},R=function(e){return e.dateEnd?e.allParticipants:e.activeParticipants},N=function(e){return Object(p.i)(R(e)||[]).map(function(e){return e.slackId})}},"7dvU":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("Fsnq"),o=n("zmn3"),s=n("0VPD"),c=n("Z0Cl"),l=n("aK/h"),u=n("XfeM"),d=n("uf9I"),b=n("HO/Y"),p=n("6kok"),h=n("x4bP"),m=n("cErB"),f=n("ifKl"),v=n("ROZo"),g=Object(v.b)("TS.i18n.getStaticTranslation",f.a),_=n("yJbr"),O=n("AuEd"),y=n("Dpjh"),j=n("LvCQ"),k=n.n(j),E=n("yHhI"),C=/^\s*<document>/,I=12800,w=new DOMParser;n.d(t,"b",function(){return R});var S=function(e,t,n){var r=Object(d.b)(t),l=Object(o.a)(n,"id");Object(O.n)(r,l);var u=function(e,t){return e&&t&&t.length?t.map(function(t){return function(e,t){if(!e)return t;if(!t)return t;if(!t.id)return t;var n=t.id,r=function(e,t){return!!t.is_tombstoned!=!!e.is_tombstoned?{id:t.id,is_tombstoned:!!t.is_tombstoned}:a()({},e,{is_tombstoned:!!t.is_tombstoned})}(Object(O.h)(e,n,!1)||{id:n},t),o=function(e,t,n){if(!n.channels)return t.channels||[];if(!n.channel_map)return n.channels;var r=Object(d.b)(e),a=Object(c.a)(n.channel_map,function(e){return Object(p.rb)(e)||e.team===r}).map(function(e){return e.id});return Object(s.a)(a,n.channels)}(e,r,t),l=function(e,t){if(!t.permalink)return t.permalink;if(!Object(b.m)(e))return t.permalink;if(!Object(b.j)(e,"feature_file_links_betterer"))return t.permalink;var n=Object(d.b)(e);return Object(m.o)(t.permalink,"origin_team",n)}(e,t),u=function(e){return!!e.is_starred}(t),h=function(e,t){return t.channels||t.groups?Object(i.a)(t.groups)>0||Object(i.a)(t.channels)>0:!!e.is_shared}(r,t),f=function(e){var t=e.pretty_type;return g(t,"file_pretty_type_strings")||t}(t),v=function(e,t){return Math.max(t.comments_count||e.comments_count||0,Object(i.a)(t.comments||e.comments))}(r,t),_=t.thumb_pdf?t.thumb_pdf:void 0,j=t.converted_pdf?t.converted_pdf:void 0,S=function(e){switch(e.mode){case"space":return function(e){if(!e)return null;var t={},n=Object(E.b)({label:"UPSERT-FILE-PREVIEWS"});try{if(e.preview&&C.test(e.preview)){var r=w.parseFromString(e.preview,"text/html");if(r){var a=r.body.children[0];if(a){t.preview=a.innerHTML;var i=a.children[0];if(i){if(i.classList.contains("list"))for(var o=i.querySelectorAll("li:not(:first)"),s=0;s<o.length;s++)o[s].remove();"pre"===i.tagName.toLowerCase()?t.preview_in_list='<span class="monospace">'+Object(y.a)(i.textContent||"")+"</span>":t.preview_in_list=Object(y.a)(i.textContent||"")}else t.preview_in_list=""}}}}catch(e){n.error(e)}try{if(e.content_html&&C.test(e.content_html)){var c=w.parseFromString(e.content_html,"text/html");if(c){var l=c.body.children[0];t.content_html=l&&l.innerHTML}}}catch(e){n.error(e)}return t}(e);case"post":return function(e){return e&&e.preview?{preview_in_list:e.preview.split("\n")[0]}:null}(e);case"snippet":return function(e){if(!e)return null;var t={is_truncated:!1};if(e.content&&e.content.length>I){var n=k()(e.content,I);n!==e.content&&(t.content=n,t.is_truncated=!0)}if(e.content_highlight_html&&e.content_highlight_html.length>I){var r=k()(e.content_highlight_html,I);r!==e.content_highlight_html&&(t.content_highlight_html=r,t.is_truncated=!0)}return t}(e);default:return null}}(t);return a()({comments:[],ims:[],groups:[]},r,t,{channels:o,permalink:l,is_starred:u,is_shared:h,pretty_type:f,comments_count:v,thumb_pdf:_,converted_pdf:j},S)}(e,t)}):[]}(t,n);return e(Object(O.b)(u)),u},T=Object(u.b)("Upsert files",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.files,a=void 0===r?[]:r,i=n.reason,o=void 0===i?void 0:i;return Object(h.a)()?S(e,t(),a):a.map(function(e){return Object(_.p)(e,o).file})});T.propTypes={reason:l.b.string,files:l.b.arrayOf(l.b.shape({id:l.b.string.isRequired})).isRequired};t.a=T;var R=Object(u.b)("Upsert files and signal legacy",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.files,a=void 0===r?[]:r,i=n.reason,o=void 0===i?void 0:i;return Object(h.a)()?S(e,t(),a):a.map(function(e){return Object(_.o)(e,o).file})});R.propTypes={reason:l.b.string,files:l.b.arrayOf(l.b.shape({id:l.b.string.isRequired})).isRequired}},"7kw6":function(e,t,n){},"7mhZ":function(e,t,n){},"7nuq":function(e,t,n){},"7tIL":function(e,t,n){},"7wM6":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.channel_options_dialog.start")},"81jb":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("MnCE"),s=n("TSYQ"),c=n.n(s),l=(n("dVmK"),i.b.node.isRequired,i.b.string,i.b.string,{className:void 0,"data-qa":void 0}),u=function(e){var t=e.children,n=e.className,r=e["data-qa"];return a.a.createElement("div",{className:c()(n,"c-card"),"data-qa":r},t)};u.displayName="Card",u.displayName="Card",u.defaultProps=l;var d=Object(o.a)(u),b=(i.b.node.isRequired,i.b.string,i.b.string,{className:void 0,"data-qa":void 0}),p=function(e){var t=e.children,n=e.className,r=e["data-qa"];return a.a.createElement("div",{className:c()("c-card__header",n),"data-qa":r},t)};p.displayName="CardHeader",p.displayName="CardHeader",p.defaultProps=b;var h=Object(o.a)(p),m=(i.b.node.isRequired,i.b.string,i.b.string,{className:void 0,"data-qa":void 0}),f=function(e){var t=e.children,n=e.className,r=e["data-qa"];return a.a.createElement("div",{className:c()("c-card__section",n),"data-qa":r},t)};f.displayName="CardSection",f.displayName="CardSection",f.defaultProps=m;var v=Object(o.a)(f);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return v})},"81nI":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(-1!==e.indexOf("sid=")||!t)return e;var n=e,r=n.lastIndexOf("#");return-1!==r&&(n=n.substring(0,r)),n=-1!==n.indexOf("?")?n+"&"+t:n+"?"+t,-1!==r?""+n+e.substring(r):n},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.articleId,n=e.sectionId,a=e.categoryId,i=e.query,o=e.zdLocale,s=e.hash,c=void 0===s?"":s,l=e.sidTrackingToken,u="https://get.slack.help/hc";return o&&(u=u+"/"+o),i?u=u+"/search?utf8=\u2713&commit=Search&query="+i:t?u=u+"/articles/"+t:n?u=u+"/sections/"+n:a&&(u=u+"/categories/"+a),c&&(u=u+"#"+c),r(u,void 0===l?"":l)}},"82mD":function(e,t,n){"use strict";var r=n("VyaM");var a=n("XqP4"),i=n("wxGk");n("+dLL");var o=function(e,t){return Object(i.a)(e,t,{units:"days"})},s=(n("vwQE"),n("VGIp")),c=n("CSaH");var l=n("WDWG"),u=n("/k8D"),d=n("0ivQ"),b=n("QLyv");var p=function(e){var t=Object(r.a)(e,{returnMoment:!0}),n=Object(b.a)().subtract(1,"days");return Object(u.a)(t,n)},h=(n("tt0d"),n("gBC1"),n("whT2"),n("gn/G"),n("s8H+"));var m=n("ASpw"),f=n("04ri"),v=n("j/30");var g=n("/MYD"),_=n("36Nc");n("xknn");var O=n("qc8s");var y=n("OO1R"),j=n("oW4N");var k=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).units,n=void 0===t?"seconds":t,r=Object(f.a)(e,{unitsIn:n,unitsOut:"weeks"}),a=Object(f.a)(e,{unitsIn:n,unitsOut:"days"}),i=Object(f.a)(e,{unitsIn:n,unitsOut:"hours"}),o=Object(f.a)(e,{unitsIn:n,unitsOut:"minutes"}),s=Object(f.a)(e,{unitsIn:n,unitsOut:"seconds"});return{w:r,d:a>=7?a%7:a,h:i>=24?i%24:i,m:o>=60?o%60:o,s:s>=60?s%60:s}};var E=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).units,n=k(e,{units:void 0===t?"seconds":t}),r=[];return n.w&&(1===n.w&&r.push(b.a.localeData().relativeTime(n.w,!1,"w",!1)),n.w>1&&r.push(b.a.localeData().relativeTime(n.w,!1,"ww",!1))),n.d&&(1===n.d&&r.push(b.a.localeData().relativeTime(n.d,!1,"d",!1)),n.d>1&&r.push(b.a.localeData().relativeTime(n.d,!1,"dd",!1))),n.h&&(1===n.h&&r.push(b.a.localeData().relativeTime(n.h,!1,"h",!1)),n.h>1&&r.push(b.a.localeData().relativeTime(n.h,!1,"hh",!1))),n.m&&r.push(b.a.localeData().relativeTime(n.m,!1,"m",!1)),!n.s&&r.length||r.push(b.a.localeData().relativeTime(n.s,!1,"s",!1)),r.join(" ")};n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s.a}),n.d(t,"d",function(){return c.a}),n.d(t,"e",function(){return l.a}),n.d(t,"f",function(){return d.a}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return h.a}),n.d(t,"i",function(){return m.a}),n.d(t,"j",function(){return f.a}),n.d(t,"k",function(){return v.a}),n.d(t,"l",function(){return g.a}),n.d(t,"m",function(){return _.a}),n.d(t,"n",function(){return r.a}),n.d(t,"o",function(){return y.a}),n.d(t,"p",function(){return O.a}),n.d(t,"q",function(){return j.a}),n.d(t,"r",function(){return k}),n.d(t,"s",function(){return E})},"83t0":function(e,t,n){"use strict";var r=n("3Hq1"),a=n("7EGn"),i=n("HO/Y"),o=n("lhZz"),s=n("VjHM"),c=n("8Az7"),l=n("x4bP"),u=n("ROZo"),d=(Object(u.b)("TS.model.isSSB",function(){return!1}),function(){return TS&&TS.model&&TS.model.api_token}),b=n("iY1d"),p=n("5BKc");n.d(t,"a",function(){return m});var h=function(e){var t=e.teamId,n=e.enterpriseToken,r=e.isSearch,a=e.needsEnterprise,i=e.searchOnlyCurrentTeam,o=e.fallbackToken;if(a&&n){if(!r)return n;if(r&&!i)return n}return Object(c.b)(t)||o};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.teamId,c=t.method;if(!Object(r.a)(e.token))return{token:e.token};var u=Object(o.getStateByTeamId)(n);return c&&Object(b.a)(c)?{}:{token:h({teamId:n,isSearch:c&&c.indexOf("search.")>-1,enterpriseToken:Object(a.a)(e,"enterprise_token"),needsEnterprise:Object(i.m)(u),searchOnlyCurrentTeam:Object(s.g)(u,p.l),fallbackToken:Object(l.a)()?void 0:Object(i.g)(u)||d()})}}},"85z6":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("sk9p"),h=n.n(p),m=n("OZf9"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("TSYQ"),y=n.n(O),j=n("Smdl"),k=n("Ycgk"),E=n("HO/Y"),C=n("VjHM"),I=n("XoJV"),w=n("uf9I"),S=n("bHK9"),T=n("K7CU"),R=n("rzSx"),N=n("nNoG"),x=n("acVv"),M=n("yHhI"),P=n("NqlN"),A=n("RAhH"),D=n("od5y");var L=function(e){return function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={hasError:!1},t}return b()(n,t),c()(n,[{key:"componentDidCatch",value:function(e,t){this.setState(function(){return{hasError:!0}}),Object(M.b)().error({label:"Error rendering emoji component",error:e,message:t})}},{key:"render",value:function(){return this.state.hasError?g.a.createElement("span",{className:"c-emoji c-emoji__medium c-emoji--inline"},g.a.createElement("img",{src:cdn_url+"/ecf3e/img/emoji_missing.png"})):g.a.createElement(e,this.props)}}]),n}(v.PureComponent)};n("+Bvv");n.d(t,"a",function(){return q});var q={SMALL:"small",MEDIUM:"medium",LARGE:"large"},F=(f.b.string.isRequired,f.b.bool,f.b.string,f.b.bool,f.b.bool,f.b.string,f.b.oneOf([q.SMALL,q.MEDIUM,q.LARGE]),f.b.bool,f.b.bool,f.b.string,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.bool,f.b.bool,f.b.string,f.b.string,{isJumbomoji:!1,showTooltip:!1,className:null,stopAnimations:!1,renderFallback:null,noEmojiText:!1,obeyEmojiMode:!0,iconInTextMode:!1,emojiMode:null,url:null,emojiSize:q.MEDIUM,renderAsText:!1,featureSonicEmoji:!1,featureSharedChannelsCustomEmojisUrlClient:!1,isEmojiInlineWithText:!1,displayText:null,sourceTeamId:null}),B=/<(span|img)(?: src="([^"])")?(?: class="([^"]+)")?(?: style="([^"]+)")?(?: title="([^"]+)")?(?: data-codepoints="([^"]+)")?( \/)?>/,U={background:"backgroundImage","background-image":"backgroundImage","background-size":"backgroundSize","background-position":"backgroundPosition"};var H=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"getEmojiHtml",value:function(){var e=this.props,t=e.text,n=e.url,r=e.stopAnimations,a=e.obeyEmojiMode;if(n){var i={backgroundImage:"url('"+n+"')"};return g.a.createElement("span",{className:"emoji-outer emoji-sizer emoji-bg-contain",style:i})}return Object(R.c)(t,{stop_animations:r,obey_emoji_mode_pref:a})}},{key:"renderIconFallback",value:function(){return g.a.createElement(D.a,{className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}},{key:"renderSonicEmojiElement",value:function(){var e=this.props,t=e.text,n=e.displayText,r=e.url,i=e.emojiSize,o=e.isEmojiInlineWithText,s=e.className,c=y()("c-emoji","c-emoji__"+i,s,{"c-emoji--inline":o}),l=Object(P.a)(n),u={};return Object(j.a)()&&(u["data-stringify-type"]="emoji",u["data-stringify-emoji"]=t),o?g.a.createElement("span",{className:c,"data-qa":"emoji"},g.a.createElement("img",a()({src:r,"aria-label":l,alt:n},u))):g.a.createElement("img",a()({src:r,"aria-label":l,alt:n,className:c,"data-qa":"emoji"},u))}},{key:"renderSonicEmoji",value:function(){var e=this.props,t=e.displayText,n=e.url,r=e.renderAsText,a=e.showTooltip,i=e.iconInTextMode;if(!n&&!t)return null;if(r||!n)return i?this.renderIconFallback():t;var o=this.renderSonicEmojiElement();return a?g.a.createElement(A.c,{tip:t,delay:A.a},o):o}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isJumbomoji,r=e.showTooltip,a=e.className,i=e.renderFallback,o=e.noEmojiText,s=e.iconInTextMode,c=e.emojiMode;if(e.featureSonicEmoji)return this.renderSonicEmoji();if("as_text"===c&&s)return this.renderIconFallback();var l=this.getEmojiHtml();if("<"!==l[0])return i?i(t):s?this.renderIconFallback():g.a.createElement("span",{className:"c-emoji_plain_text"},l);var u,d,b,p=Object(N.e)()?t:Object(R.g)(t),f=Object(P.a)(p),v=function(e){var t=B.exec(e);if(!t)return Object(M.b)().error("emoji HTML could not be parsed! "+e.slice(0,5)+"..."),{};var n=h()(t,7);return{tag:n[1],src:n[2],classes:n[3],style:n[4],title:n[5],codePoints:n[6]}}(l),_=v.tag,O=v.src,j=v.classes,k=v.style,E=v.codePoints,C=y()(j,a,{"emoji-only":n}),I=void 0;return"span"===_?I=g.a.createElement("span",{role:"img","aria-label":f,className:C,style:(u=k,d=u.split(";"),b={},Object(m.a)(d,function(e){var t=e.indexOf(":"),n=e.substring(0,t),r=e.substring(t+1).trim();n=U[n]||n,b[n]=r}),b),"data-codepoints":E},!o&&p):"img"===_&&(I=g.a.createElement("img",{className:C,src:O,"aria-label":f,alt:p,"data-codepoints":E})),I?r?g.a.createElement(A.c,{tip:p,delay:A.a},I):I:g.a.createElement("span",{role:"img","aria-label":f,dangerouslySetInnerHTML:{__html:l}})}}]),t}(v.PureComponent);H.displayName="Emoji",H.defaultProps=F;t.b=L(Object(_.b)(function(e,t){var n=t.stopAnimations,r=Object(E.j)(e,"feature_sonic_emoji"),a=Object(E.j)(e,"feature_shared_channels_custom_emojis_url_client"),i=!Object(C.g)(e,"a11y_animations"),o=n||i,s=t.url;if(r){var c=t.text,l=t.forceDisplay,u=t.emojiSize,d=void 0===u?q.MEDIUM:u,b=!l&&Object(T.m)(e);if(!b&&!s){var p=Object(T.h)(e,{forceDisplay:l});if(a){var h=t.sourceTeamId?t.sourceTeamId:Object(w.b)(e);(s=Object(S.g)(e,{text:c,teamId:h,emojiMode:p,emojiSize:d}))||(h=Object(w.b)(e),s=Object(S.g)(e,{text:c,teamId:h,emojiMode:p,emojiSize:d}))}else{var m=Object(w.b)(e);s=Object(S.g)(e,{text:c,teamId:m,emojiMode:p,emojiSize:d})}}o&&(s=Object(x.a)(e,{url:s,stopAnimations:o,isEmoji:!0}));var f=Object(N.p)();return{url:s,renderAsText:b,emojiSize:d,displayText:Object(I.g)({locale:f,name:c}),featureSonicEmoji:r,stopAnimations:o}}return o&&(s=Object(x.a)(e,{url:s,stopAnimations:o,isEmoji:!0})),{updateCustomEmoji:Object(k.b)(e),url:s,stopAnimations:o}})(H))},"8CL7":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("Z3Pq"),m=n("qAkX"),f=n("Z0Cl"),v=n("zmn3"),g=n("bPB8"),_=n("x91h"),O=n("kxpR"),y=n.n(O),j=n("aK/h"),k=n("XHGt"),E=n("TSYQ"),C=n.n(E),I=n("yPgC"),w=n("HO/Y"),S=n("VjHM"),T=n("jLdI"),R=n("hOQf"),N=n("8dKT"),x=n("Jnln"),M=n("tVnY"),P=n("qc8s"),A=n("/MYD"),D=n("nNoG"),L=n("lek6"),q=n("RAhH"),F=n("f+8a"),B=n("lV3N"),U=n("Wzrj"),H=n("yk+1"),K=n("xUg9"),G=(n("fggV"),new D.b("message_kit")),V={quote:!0,pre:!0},z=(j.b.object.isRequired,j.b.string,j.b.bool,I.a.Rollup(),j.b.bool,j.b.bool,j.b.bool,j.b.bool,j.b.bool,j.b.func,{className:void 0,isSingleLine:void 0,rollup:null,expandInlineImgsPref:!1,expandNonMediaAttachmentsPref:!1,featureHideUnfurlUrls:!1,useGlobalNav:!1,shouldRenderBlocks:!1,clogMessageClick:p.a}),Y=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.customFormatHandler=n.customFormatHandler.bind(n),n.customContentHandler=n.customContentHandler.bind(n),n.clogLinkClick=n.clogLinkClick.bind(n),n}return b()(t,e),c()(t,[{key:"getTextWithThemes",value:function(){var e=this.props.msg.text;if(!e)return e;var t=this.props.useGlobalNav?/((?:#[A-Fa-f0-9]{6} {0,}, {0,}){8})(#[A-Fa-f0-9]{6})(\b)/g:/((?:#[A-Fa-f0-9]{6} {0,}, {0,}){7})(#[A-Fa-f0-9]{6})(\b)/g;return e.replace(t,function(e){return e+" <theme_install_button|"+e+">"})}},{key:"getUrlsToHide",value:function(){var e=this.props,t=e.msg,n=e.expandInlineImgsPref,r=e.expandNonMediaAttachmentsPref;if(!e.featureHideUnfurlUrls)return[];var a=Object(x.d)(t,n,r);return Object(g.a)(Object(v.a)(Object(v.a)(Object(f.a)(a,"isMsgUnfurl"),"fromUrl"),_.a))}},{key:"formatInlineAttachment",value:function(e){var t=e.item,n=e.getDefaultOutput,r=t.attachment,i=this.props.msg,o=i.ts,s=i.channel;return y.a.createElement(O.Fragment,null,n(),y.a.createElement(B.a,a()({},r,{messageTs:o,activeChannelId:s,clogLinkClick:this.clogLinkClick,isInline:!0})))}},{key:"formatThemeInstallButton",value:function(e){var t=e.item.contents[0].text.replace(/\s/g,"").split(",");return y.a.createElement("div",{className:"c-message__theme_button_container"},y.a.createElement(K.a,{colors:t,clogLinkClick:this.clogLinkClick}))}},{key:"customContentHandler",value:function(e){var t=this.props,n=t.expandInlineImgsPref,r=t.expandNonMediaAttachmentsPref,i=t.msg,o=i.edited,s=e,c=this.getUrlsToHide();c.length&&(s=Object(F.a)({content:e,urls:c}));var l=Object(x.b)(i,n,r),u=Object(h.a)(l,"fromUrl");if(s=s.map(function(e){var t=e.type,n=e.url;if("link"===t){var r=u[Object(_.a)(n)];if(r)return a()({},e,{attachment:r,isInlineAttachment:!0})}return e}),o){var d=Object(m.a)(s)||{};s.push({type:"custom_edited_label",omitWhitespace:!!V[d.type]})}return s}},{key:"customFormatHandler",value:function(e){var t=e.item,n=e.getDefaultOutput;switch(t.type){case"link":return"theme_install_button"===t.url?this.formatThemeInstallButton(e):t.isInlineAttachment?this.formatInlineAttachment(e):n();case"custom_edited_label":return this.renderEditedLabel(e);default:return n()}}},{key:"clogLinkClick",value:function(e){var t=this.props.msg;this.props.clogMessageClick({msg:t,payload:e})}},{key:"renderEditedLabel",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).item,t=this.props.msg.edited.ts,n=y.a.createElement("span",{key:"edited",className:"c-message__edited_label"},!e.omitWhitespace&&"\xa0",G.t("(edited)"));if(t){var r=G.t("{date} at {time}",{date:Object(A.a)(t,{shortenMonth:!0}),time:Object(P.a)(t)});return y.a.createElement(q.c,{key:"edited",delay:q.a,tip:r},n)}return n}},{key:"renderRollup",value:function(){var e=this.props,t=e.rollup,n=e.msg,r=n.channel,a=n.user;return t&&r?y.a.createElement(U.a,{rollup:t,channelId:r,user:a}):null}},{key:"renderAutomatedSubtype",value:function(){var e=this.props.msg;return y.a.createElement(H.a,{subtype:e.subtype,channelId:e.channel,timestamp:e.ts})}},{key:"render",value:function(){var e=this.props,t=e.isSingleLine,n=e.msg,r=e.rollup;if(e.shouldRenderBlocks)return null;if(Object(R.ab)(n))return null;if(r)return this.renderRollup();if(Object(N.a)(n.subtype))return this.renderAutomatedSubtype();var a=C()("c-message_kit__text",this.props.className),i=!1===n.mrkdwn,o=Object(R.X)(n),s=parseInt(n.ts,10)>1541628e3;return y.a.createElement(L.a,{"data-qa":"text-atom",className:a,text:this.getTextWithThemes(),memberId:n.user,customFormatHandler:this.customFormatHandler,customContentHandler:this.customContentHandler,noSpecials:i,ariaAssertive:o,doSlackActionLinks:!0,clogLinkClick:this.clogLinkClick,addDirectionAttr:s,customLineEnding:t&&"\u2026",maxNewlines:t&&1,noJumbomoji:t&&!0,ignoredPropEdited:n.edited,ignoredPropAttachments:n.attachments})}}]),t}(O.PureComponent);Y.displayName="MessageText",Y.defaultProps=z;var W={clogMessageClick:function(){return T.a.apply(void 0,arguments)}};t.a=Object(k.b)(function(e,t){var n=(t||{}).msg,r=Object(S.g)(e,"expand_inline_imgs"),a=Object(S.g)(e,"expand_non_media_attachments"),i=Object(w.j)(e,"feature_hide_unfurl_urls"),o=Object(R.yb)(e,n);return{expandInlineImgsPref:r,expandNonMediaAttachmentsPref:a,useGlobalNav:Object(M.b)(e),featureHideUnfurlUrls:i,shouldRenderBlocks:o}},W)(Y)},"8HWa":function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("Smdl"),y=n("HO/Y"),j=n("DtX9"),k=n("uf9I"),E=n("0sSB"),C=n("tnk7"),I=n("O/xh"),w=n("FHcd"),S=n("Fdc0"),T=n("RAhH"),R=n("w6pt"),N=n("lkgS"),x=n("fyoz"),M=n("0f2Y"),P=n("mOAw");n("tk7L");h.b.string.isRequired,h.b.string,h.b.bool,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.func,h.b.bool,h.b.bool,h.b.string,h.b.string,h.b.func,h.b.string,h.b.func,h.b.bool;var A={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:p.a,className:void 0,dispatchOpenAppProfileCard:p.a,featureReactMemberProfileCard:!1},D=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltip=f.a.createRef(),n.onClick=n.onClick.bind(n),n.onCardClose=n.onCardClose.bind(n),n}return b()(t,e),c()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.id,r=t.serviceId,a=t.appTeamId,i=t.dispatchOpenAppProfileCard,o=t.clogLinkClick,s=t.onClick,c=t.featureReactMemberProfileCard;e.preventDefault(),o({item_id:n,item_type:n.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),s?s(e,n):c||(r?function(e,t,n,r,a){e.persist(),a({serviceId:n,memberId:t,homeWorkspaceId:r,coordinates:e.target.getBoundingClientRect()})}(e,n,r,a,i):function(e,t){e.persist(),Object(P.a)(e,t)}(e,n))}},{key:"onCardClose",value:function(){this.tooltip.current&&this.tooltip.current.hideTip()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.serviceId,r=e.fallback,i=e.isCurrentUser,o=e.name,s=e.noHighlights,c=e.noLinking,l=e.onClick,u=e.showTooltip,d=e.isUnknown,b=e.isNonExistent,p=e.featureReactMemberProfileCard,h=e.className;if(!t)return null;var m="@"+(o||r),v=_()("c-member_slug",h,{"c-member_slug--link":!c,"c-member_slug--mention":i&&!s});if(d)return f.a.createElement(R.a,{type:"unknown"});if(b)return f.a.createElement(R.a,{type:"non-existent"});if(c)return f.a.createElement("span",{className:v},m);var g={};Object(O.a)()?(g["data-stringify-type"]="mention",g["data-stringify-id"]=t,g["data-stringify-label"]=m):g["data-stringify-text"]="@"+t;var y="/team/"+t,j=f.a.createElement(M.a,a()({className:v,href:y,target:Object(N.a)(y),"data-member-id":t,"data-member-label":m},g,{onClick:this.onClick}),m);if(p&&!l&&(j=f.a.createElement(I.a,{botId:n,userId:t,onClick:this.onClick,onClose:this.onCardClose},j)),!u)return j;return f.a.createElement(T.c,{ref:this.tooltip,tip:function(){return f.a.createElement(x.b,{id:t,size:"small",showAvatar:!0,useDarkMode:!0,showPresence:!0,forcedPrimary:"real_name"})},tipClassName:"c-member_slug__tooltip"},f.a.createElement("span",{dir:"ltr"},j))}}]),t}(m.PureComponent);D.displayName="MemberSlug",D.defaultProps=A;var L={dispatchOpenAppProfileCard:function(){return C.a.apply(void 0,arguments)}};t.b=Object(v.b)(function(e,t){var n=t.id,r=t.noLinking,a=Object(y.b)(e),i=Object(j.c)(e,n),o=Object(k.b)(e),s=void 0,c=void 0,l=void 0,u=r,d=void 0;i&&(s=Object(S.w)(i),c=Object(S.Fb)(i),l=Object(S.sb)(i),d=Object(S.n)(i)),l&&!Object(w.a)(n)&&(s=n,c=!1,l=!1,u=!0);var b=void 0;return d&&(b=Object(E.b)(i,o)),{name:s,isUnknown:c,isNonExistent:l,serviceId:d,appTeamId:b,teamId:o,noLinking:u,isCurrentUser:n===a,featureReactMemberProfileCard:Object(y.j)(e,"feature_react_member_profile_card")}},L)(D)},"8Oxw":function(e,t,n){},"8Sv9":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("TSYQ"),l=n.n(c),u=n("lQgN"),d=(s.b.node,s.b.string,{children:void 0,className:void 0});function b(e){var t=e.children,n=e.className;return t?o.a.createElement("span",a()({className:l()(n,"c-base_entity__subtext")},Object(u.a)(e)),t):null}b.displayName="BaseEntitySubtext",b.defaultProps=d,t.a=b},"8W09":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=(n("JoT8"),d.b.node,d.b.string,function(e){var t=e.children,n=e.className,r=o()(e,["children","className"]);return c.a.createElement("div",a()({},r,{className:u()("c-sk-modal_footer",n)}),t)});b.displayName="ModalFooter",b.defaultProps={children:null,className:null},t.a=b},"8aKK":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("XzsM"),a=n("Smdl");function i(e){return Object(a.a)()||"modern_searcher"===Object(r.c)(e,"sli_search_modern_searcher")}},"8bBs":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("x3yj"),c=n("DtX9"),l=n("HO/Y"),u=n("CPJ1"),d=n("x4bP"),b=n("yHhI"),p=n("FsHF"),h=Object(o.b)("Updates the profile of the currently authenticated user",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).profile;return e(Object(u.j)({profile:n})).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;if(Object(l.j)(t(),"feature_degraded_send")){var r=Object(c.b)(t()),i=a()({},r,{profile:n});Object(d.a)()?e(Object(s.a)({members:[i]})):Object(p.e)(i)}}).catch(function(e){Object(b.a)({getState:t}).error("Error submitting member profile change: "+e)})});h.propTypes={profile:i.b.object.isRequired},t.a=h},"8blT":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var r=n("lCmp"),a=n("oTSI"),i=n("U/ze"),o=Object(i.b)(function(e,t){return!!(e&&e.topics&&e.topics[t]&&e.topics[t].desynced)}),s=Object(a.a)(r.a),c=Object(i.b)(function(e){return s(e&&e.topics,function(e){return e.desynced})})},"8dKT":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("NFsq"),a=["channel_join","channel_leave","channel_topic","channel_purpose","channel_archive","channel_unarchive","channel_convert_to_private","group_join","group_leave","group_topic","group_purpose","group_archive","group_unarchive","group_name","channel_name","play_sound","pinned_item","unpinned_item","sh_room_shared","sh_room_created","bot_enable","bot_disable","bot_add","bot_remove","bot_updated","reminder_add","reminder_delete","reply_broadcast","app_conversation_join","app_conversation_leave","app_conversation_created"];function i(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).automatedSubtypes,n=void 0===t?a:t;return Object(r.a)(n,e)}},"8j2S":function(e,t,n){},"8pCN":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("TSYQ"),m=n.n(h),f=(n("5XmD"),p.b.node.isRequired,p.b.string,{customClasses:void 0}),v=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.customClasses,r=m()("c-action_buttons",n);return b.a.createElement("div",{className:r},t)}}]),t}(d.PureComponent);v.displayName="ActionButtonRow",v.defaultProps=f;var g=v,_=n("QbLZ"),O=n.n(_),y=n("ifKl"),j=n("MREy"),k=n("XLFM"),E=n("od5y"),C=n("RAhH"),I=(p.b.string,p.b.string,p.b.string,p.b.string,p.b.func,p.b.string,p.b.bool,p.b.object,p.b.number,p.b.number,p.b.string,p.b.string,{icon:"",customClasses:void 0,"data-qa":void 0,ariaHasPopup:void 0,menuProps:void 0,menuOffsetY:0,menuOffsetX:0,tooltip:void 0,tooltipPosition:"top",onClick:y.a,buttonText:"",href:""}),w=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderMenuButton",value:function(e){var t=this.props,n=t.menuProps,r=t.menuOffsetY,a=t.menuOffsetX;return b.a.createElement(j.e,O()({},n,{position:"bottom-right",offsetY:r,offsetX:a}),e)}},{key:"renderButton",value:function(){var e=this.props,t=e.icon,n=e.customClasses,r=e.onClick,a=e.tooltip,i=e.ariaHasPopup,o=e.tooltipPosition,s=e.buttonText,c=e.href,l=m()("c-action_buttons__icon",n),u=b.a.createElement(k.c,{className:m()("c-action_buttons__button",{"c-action_buttons__button--text":!t&&s}),onClick:r,"data-qa":this.props["data-qa"],"aria-label":a,"aria-haspopup":i,href:c},t?b.a.createElement(E.b,{className:l,type:t}):b.a.createElement("span",{className:n,"data-qa":"action_button_text"},s));return a?b.a.createElement(C.c,{tip:a,position:o,offsetY:-5},u):u}},{key:"render",value:function(){var e=this.renderButton();return this.props.menuProps?this.renderMenuButton(e):e}}]),t}(d.PureComponent);w.displayName="ActionButton",w.defaultProps=I;var S=w;n.d(t,"a",function(){return S});t.b=g},"8t14":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"j",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"i",function(){return O}),n.d(t,"m",function(){return y}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return C}),n.d(t,"h",function(){return I}),n.d(t,"g",function(){return w}),n.d(t,"k",function(){return S}),n.d(t,"l",function(){return T});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("ifKl"),c=n("lCmp"),l=n("HiDb"),u=n("zmn3"),d=n("kxpR"),b=n.n(d),p=n("aLpA"),h=n("e4Fz"),m=new(n("nNoG").b)("block_kit"),f=b.a.createContext({setFormState:s.a,unsetFormState:s.a}),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{originalOption:e,description:e.description&&e.description.text,label:e.text&&e.text.text,value:e.value,isPlaceholder:e.isPlaceholder||!1}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(u.a)(e,function(e){return v(e)})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(u.a)(e,function(e){var t=e.label,n=e.options;return{label:t.text,options:g(n)}})},O=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text},y=function(e){var t=e.placeholder,n=void 0===t?{}:t,r=e.emojiProcessor,a=e.fallback,i=void 0===a?m("Choose an option"):a,o=O(n);return o&&n.emoji?r(n.text):o||i},j=function(e,t){return e.find(function(e){return e.value===t})},k=function(e,t){return j(Object(l.a)(e,function(e){return e.options}),t)},E=function(e,t){return j(e,t)},C=function(e){return e.map(function(e){return e.originalOption})},I=function(e,t,n,r){return a()({},t,a()({},n,o()({type:e},r)))},w=function(e,t){return a()({},e,t)},S=function(e,t){var n=t.isRequired,r=t.minCharacterLimit,a=t.maxCharacterLimit,i=t.featureAppViewsV1,o=null;return n&&!e?o=i?m.t("Please complete this required field."):"Please complete this required field.":r&&e.length<r?o=Object(h.c)(r,i):a&&e.length>a&&(o=Object(h.b)(a,i)),o},T=function(e,t){return Object(c.a)(e,function(e){var n=e.type;return e.block_id===t&&n===p.d.input})}},"8tPE":function(e,t,n){"use strict";n.d(t,"r",function(){return b}),n.d(t,"s",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"o",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"n",function(){return w}),n.d(t,"h",function(){return S}),n.d(t,"a",function(){return R}),n.d(t,"k",function(){return x}),n.d(t,"d",function(){return M}),n.d(t,"q",function(){return P}),n.d(t,"p",function(){return D}),n.d(t,"i",function(){return L}),n.d(t,"j",function(){return q}),n.d(t,"l",function(){return F}),n.d(t,"m",function(){return B}),n.d(t,"f",function(){return U}),n.d(t,"b",function(){return K});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("vFlG"),c=n("fujP"),l=n("nNoG"),u=n("4B0G"),d=new l.b("checkout_v2");function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=H();return Object(c.a)(r)?{}:o()({},function(e,t){var n={},r=O(e.companyName,t);r&&(n.companyName=r);var a=y(e.street,t);a&&(n.street=a);var i=j(e.city,t);i&&(n.city=i);var o=k(e.country,t);o&&(n.country=o);var s=E(e.country,e.postalCode,t);s&&(n.postalCode=s);var c=C(e.country,e.region,t);c&&(n.region=c);return n}(e,r),function(e,t,n,r){var a={};if(D(e.country,n)){var i=function(e,t){var n=null;null===e&&(n=_(u.f.IS_BUSINESS_PURCHASE_IS_REQUIRED,"",t));return n}(e.isBusinessPurchase,t);i&&(a.isBusinessPurchase=i)}var o=I(e.country,e.vatId,e.isBusinessPurchase,e.isVatIdAvailable,n,t,r);o&&(a.vatId=o);return a}(e,r,t,n),function(e,t){var n={},r=T(e.abnId,t);r&&(n.abnId=r);return n}(e,r),function(e,t){var n={},r=N(e.qstId,t);r&&(n.qstId=r);return n}(e,r))}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=null,i=H();if(Object(c.a)(i))return a;var o=e.companyName,s=e.street,l=e.city,d=e.country,b=e.postalCode,p=e.region,h=e.vatId,m=e.isBusinessPurchase,f=e.isVatIdAvailable,v=e.abnId,g=e.qstId;switch(t){case u.b.COMPANY_NAME:a=O(o,i);break;case u.b.STREET:a=y(s,i);break;case u.b.CITY:a=j(l,i);break;case u.b.COUNTRY:a=k(d,i);break;case u.b.POSTAL_CODE:a=E(d,b,i);break;case u.b.REGION:a=C(d,p,i);break;case u.b.VAT_ID:a=I(d,h,m,f,n,i,r);break;case u.b.ABN_ID:a=T(v,i);break;case u.b.QST_ID:a=N(g,i)}return a}function h(e,t,n){var r=H();if(Object(c.a)(r))return{};var a={},i=u.f.DEFAULT_ERROR;switch("102"===e?i=u.f.ZIP_CODE_INVALID_API_ERROR:t===u.f.VAT_ID_INPUT_ERROR?i=n?u.f.VAT_ID_INVALID_API_ERROR:u.f.VAT_ID_INVALID_FORMAT:Object(s.a)(u.f,t)&&(i=t),i){case u.f.ZIP_CODE_INVALID_API_ERROR:a.postalCode=_(u.f.ZIP_CODE_INVALID_API_ERROR,"",r);break;case u.f.VAT_ID_INVALID_API_ERROR:a.vatId=_(u.f.VAT_ID_INVALID_API_ERROR,"",r);break;case u.f.VAT_ID_INVALID_FORMAT:a.vatId=_(u.f.VAT_ID_INVALID_FORMAT,"",r);break;case u.f.API_ERROR:case u.f.ADDRESS_INPUT_ERROR:case u.f.ERROR_UPDATING_BILLING_ADDRESS:case u.f.NO_PERMS:case u.f.INVALID_AUTH:default:a.general=_(u.f.DEFAULT_ERROR,"",r)}return a}function m(e){return f(e)?d.t("Zip code"):d.t("Postal code")}function f(e){return e===u.e.UNITED_STATES}function v(e){return function(e){return e===u.e.UNITED_STATES}(e)?d.t("State"):d.t("State / Province")}function g(e){return e===u.e.UNITED_STATES||e===u.e.CANADA}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=n[e]||{};switch(e){case u.f.POSTAL_CODE_IS_REQUIRED:case u.f.POSTAL_CODE_INVALID_CHARACTERS:case u.f.POSTAL_CODE_INVALID_API_ERROR:r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=n[e]||{};if(t===u.e.UNITED_STATES)switch(e){case u.f.POSTAL_CODE_IS_REQUIRED:r=n[u.f.ZIP_CODE_IS_REQUIRED];break;case u.f.POSTAL_CODE_INVALID_CHARACTERS:r=n[u.f.ZIP_CODE_INVALID_CHARACTERS];break;case u.f.POSTAL_CODE_INVALID_API_ERROR:r=n[u.f.ZIP_CODE_INVALID_API_ERROR]}return r}(e,t,n);break;case u.f.REGION_IS_REQUIRED:case u.f.REGION_INVALID_CHARACTERS:r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=n[e]||{};if(t===u.e.UNITED_STATES)switch(e){case u.f.REGION_IS_REQUIRED:r=n[u.f.STATE_IS_REQUIRED];break;case u.f.REGION_INVALID_CHARACTERS:r=n[u.f.STATE_INVALID_CHARACTERS]}return r}(e,t,n)}return r}function O(e,t){var n=null;return e||(n=_(u.f.COMPANY_NAME_IS_REQUIRED,"",t)),n}function y(e,t){var n=null;return e?u.a.ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(e)||(n=_(u.f.STREET_INVALID_CHARACTERS,"",t)):n=_(u.f.STREET_IS_REQUIRED,"",t),n}function j(e,t){var n=null;return e?u.a.ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(e)||(n=_(u.f.CITY_INVALID_CHARACTERS,"",t)):n=_(u.f.CITY_IS_REQUIRED,"",t),n}function k(e,t){var n=null;return e||(n=_(u.f.COUNTRY_IS_REQUIRED,"",t)),n}function E(e,t,n){var r=null;return g(e)?t?u.a.ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)?e!==u.e.UNITED_STATES||u.a.US_POSTAL_CODE_FORMAT_REGEX.test(t)?e!==u.e.CANADA||u.a.CANADA_POSTAL_CODE_FORMAT_REGEX.test(t)||(r=_(u.f.CANADA_POSTAL_CODE_INVALID_FORMAT,e,n)):r=_(u.f.US_ZIP_CODE_INVALID_FORMAT,e,n):r=_(u.f.POSTAL_CODE_INVALID_CHARACTERS,e,n):r=_(u.f.POSTAL_CODE_IS_REQUIRED,e,n):t&&!u.a.ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)&&(r=_(u.f.POSTAL_CODE_INVALID_CHARACTERS,e,n)),r}function C(e,t,n){var r=null;return g(e)&&!t?r=_(u.f.REGION_IS_REQUIRED,e,n):t&&!u.a.ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(t)&&(r=_(u.f.REGION_INVALID_CHARACTERS,e,n)),r}function I(e,t,n,r,a,i,o){var s=null;if((!D(e,a)||n)&&(!P(e,a)||r)&&w(e,a))if(t)e!==u.e.RUSSIAN_FEDERATION||u.a.TIN_ID_REGEX.test(t)?e===u.e.SOUTH_KOREA&&!u.a.BRN_REGEX.test(t)&&o?s={errorText:d.t("Unfortunately, this BRN doesn\u2019t seem to be valid.",{fallbackHash:"445b80ce1d95ccff20dc06d5b1afd820a035adc2",fallbackHashNs:"billing"})}:e!==u.e.SOUTH_AFRICA||u.a.VAT_ID_SOUTH_AFRICA_REGEX.test(t)?u.a.ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)||(s=_(u.f.VAT_ID_INVALID_CHARACTERS,"",i)):s=_(u.f.VAT_ID_INVALID_FORMAT,"",i):s=_(u.f.TIN_ID_INVALID_LENGTH,"",i);else if(A(e,a)){var c=u.f.VAT_ID_IS_REQUIRED;e===u.e.RUSSIAN_FEDERATION?c=u.f.TIN_ID_IS_REQUIRED:e===u.e.SOUTH_KOREA&&(c=u.f.BRN_IS_REQUIRED),s=_(c,"",i)}return s}function w(e,t){return!!e&&Object(s.a)(t,e)}function S(e,t){var n={};if(w(e,t)){var r,i=!!D(e,t)||null;r={},a()(r,u.b.IS_BUSINESS_PURCHASE,i),a()(r,u.b.IS_VAT_AVAILABLE,!0),a()(r,u.b.VAT_ID,""),n=r}else if(F(e)){var o;o={},a()(o,u.b.IS_BUSINESS_PURCHASE,null),a()(o,u.b.IS_VAT_AVAILABLE,!1),a()(o,u.b.VAT_ID,""),n=o}else{var s;s={},a()(s,u.b.IS_BUSINESS_PURCHASE,!1),a()(s,u.b.IS_VAT_AVAILABLE,!1),a()(s,u.b.VAT_ID,""),n=s}return n}function T(e,t){var n=null;return e&&(11!==e.replace(/\s/g,"").length?n=_(u.f.ABN_ID_INVALID_LENGTH,"",t):u.a.ABN_ID_REGEX.test(e)||(n=_(u.f.ABN_ID_INVALID_CHARACTERS,"",t))),n}function R(e,t){var n={};return x(e,t)||(n=a()({},u.b.ABN_ID,"")),n}function N(e,t){var n=null;return e&&((9!==e.length||u.a.QST_ID_NINE_NUM_REGEX.test(e))&&(10!==e.length||u.a.QST_ID_NR_REGEX.test(e)||u.a.QST_ID_TEN_NUM_REGEX.test(e))&&(9===e.length||10===e.length||u.a.QST_ID_TQ_REGEX.test(e))||(n=_(u.f.QST_ID_INVALID_FORMAT,"",t))),n}function x(e,t){return!!e&&Object(s.a)(t,e)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===u.e.RUSSIAN_FEDERATION?d.t("Do you have a TIN ID on hand?"):e===u.e.SOUTH_KOREA&&t?d.t("Do you have a BRN on hand?"):d.t("Do you have a VAT ID on hand?")}function P(e,t){return A(e,t)}function A(e,t){return!!w(e,t)&&(e!==u.e.SOUTH_KOREA&&e!==u.e.SOUTH_AFRICA)}function D(e,t){return F(e)||w(e,t)&&A(e,t)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===u.e.RUSSIAN_FEDERATION?d.t("TIN ID"):e===u.e.SOUTH_KOREA&&t?d.t("BRN"):d.t("VAT ID")}function q(e){return e===u.e.RUSSIAN_FEDERATION?u.d.TIN_ID:u.d.VAT_ID}function F(e){return!!e&&e===u.e.JAPAN}function B(e,t){return!!e&&t&&e===u.e.CANADA&&"Quebec"===t}function U(e,t){var n={};return B(e,t)||(n=a()({},u.b.QST_ID,"")),n}function H(){var e;return e={},a()(e,u.f.COMPANY_NAME_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a company name.")}),a()(e,u.f.STREET_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a street address.")}),a()(e,u.f.CITY_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a city.")}),a()(e,u.f.POSTAL_CODE_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a postal code.")}),a()(e,u.f.ZIP_CODE_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a zip code.")}),a()(e,u.f.REGION_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include your state / province.")}),a()(e,u.f.STATE_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include your state.")}),a()(e,u.f.COUNTRY_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include your country.")}),a()(e,u.f.VAT_ID_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a VAT ID.")}),a()(e,u.f.STREET_INVALID_CHARACTERS,{errorText:d.t("Your street address can\u2019t contain special characters.")}),a()(e,u.f.CITY_INVALID_CHARACTERS,{errorText:d.t("Your city name can\u2019t contain special characters.")}),a()(e,u.f.REGION_INVALID_CHARACTERS,{errorText:d.t("Your state / province can\u2019t contain special characters.")}),a()(e,u.f.STATE_INVALID_CHARACTERS,{errorText:d.t("Your state can\u2019t contain special characters.")}),a()(e,u.f.POSTAL_CODE_INVALID_CHARACTERS,{errorText:d.t("Your postal code can\u2019t contain special characters.")}),a()(e,u.f.ZIP_CODE_INVALID_CHARACTERS,{errorText:d.t("Your zip code can\u2019t contain special characters.")}),a()(e,u.f.VAT_ID_INVALID_CHARACTERS,{errorText:d.t("Your VAT ID can\u2019t contain special characters.")}),a()(e,u.f.ABN_ID_INVALID_CHARACTERS,{errorText:d.t("Your ABN ID can\u2019t contain special characters.")}),a()(e,u.f.US_ZIP_CODE_INVALID_FORMAT,{errorText:d.t("Please use a 5- or 9-digit zip code.")}),a()(e,u.f.CANADA_POSTAL_CODE_INVALID_FORMAT,{errorText:d.t("Please use a valid Canadian postal code.")}),a()(e,u.f.POSTAL_CODE_INVALID_API_ERROR,{errorText:d.t("There\u2019s a problem with your postal code.")}),a()(e,u.f.ZIP_CODE_INVALID_API_ERROR,{errorText:d.t("There\u2019s a problem with your zip code.")}),a()(e,u.f.VAT_ID_INVALID_API_ERROR,{errorText:d.t("We could not verify your VAT ID.")}),a()(e,u.f.VAT_ID_INPUT_ERROR,{errorText:d.t("Unfortunately, this VAT ID doesn\u2019t seem to be valid.")}),a()(e,u.f.VAT_ID_INVALID_FORMAT,{errorText:d.t("Unfortunately, this VAT ID doesn\u2019t seem to be valid.")}),a()(e,u.f.ABN_ID_INVALID_LENGTH,{errorText:d.t("Your ABN ID should have 11 digits.")}),a()(e,u.f.DEFAULT_ERROR,{errorText:d.t("Unfortunately, something\u2019s gone wrong.")}),a()(e,u.f.TIN_ID_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a TIN ID.")}),a()(e,u.f.BRN_IS_REQUIRED,{errorText:d.t("You\u2019ll need to include a BRN.",{fallbackHash:"e328d2229f0142c5205badeda7bb405eb3b7e754"})}),a()(e,u.f.TIN_ID_INVALID_LENGTH,{errorText:d.t("Your TIN ID should have 10 or 12 digits.")}),a()(e,u.f.IS_BUSINESS_PURCHASE_IS_REQUIRED,{errorText:d.t("Please let us know whether this is a business purchase.")}),a()(e,u.f.QST_ID_INVALID_FORMAT,{errorText:d.t("Your QST ID should have 16 characters: 10 numbers, the letters TQ, and then four more numbers.")}),e}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];return e.street||r.push(u.b.STREET),e.suite||r.push(u.b.SUITE),e.region||r.push(u.b.REGION),e.city||r.push(u.b.CITY),e.postalCode||r.push(u.b.POSTAL_CODE),w(t,n.vatCountries)||r.push(u.b.VAT_ID),x(t,n.abnCountries)||r.push(u.b.ABN_ID),r}},"8vVC":function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("MNvw"),u=n("kMSZ"),d=n("c/L4"),b=n("Clng"),p={activeCurrency:null,activeTerm:d.f.monthly,activePlanLevel:null,activePaymentMethod:d.d.CREDIT_CARD,apiError:!1,availablePlans:{},activePlanCost:{},cachedCost:{},isPlansAndCostDataLoaded:!1,isPlansDataLoading:!1,isCostDataLoading:!1},h=Object(l.b)((r={},i()(r,b.k,function(e,t){if(t.currency){if(!Object(u.a)(e).includes(t.currency))return e}else if(t.term&&!t.term===d.f.yearly&&!t.term===d.f.monthly)return e;var n=t.currency?t.currency:e.activeCurrency,r=t.term?t.term:e.activeTerm;return s()({},e,{activeCurrency:n,activeTerm:r})}),i()(r,b.g,function(e,t){var n=Object.keys(t.availablePlans)[0];return s()({},e,{activeCurrency:n,availablePlans:s()({},t.availablePlans),apiError:!1})}),i()(r,b.b,function(e,t){var n=t.activePlanCost,r=t.companyAddress,a=t.isInvoice,o=t.numInvoiceSeats,c=Object(d.i)(n.id,r,a,o);return s()({},e,{activePlanCost:s()({},e.activePlanCost,t.activePlanCost),cachedCost:s()({},e.cachedCost,i()({},c,t.activePlanCost)),apiError:!1})}),i()(r,b.h,function(e){return s()({},e,{apiError:!0})}),i()(r,b.f,function(e){return s()({},e,{isPlansAndCostDataLoaded:!0})}),i()(r,b.j,function(e,t){return s()({},e,{activePlanLevel:t})}),i()(r,b.i,function(e,t){return s()({},e,{activePaymentMethod:t})}),i()(r,b.n,function(e,t){return s()({},e,{isPlansDataLoading:t.isPlansDataLoading})}),i()(r,b.m,function(e,t){return s()({},e,{isCostDataLoading:t.isCostDataLoading})}),r),p,{persistenceEnabled:!0});h.propTypes={activeCurrency:c.b.string,activeTerm:c.b.string,activePlanLevel:c.b.string,activePaymentMethod:c.b.string,apiError:c.b.bool,availablePlans:c.b.object,activePlanCost:c.b.object,cachedCost:c.b.object,isPlansAndCostDataLoaded:c.b.bool,isPlansDataLoading:c.b.bool,isCostDataLoading:c.b.bool};var m=h;n.d(t,"q",function(){return u.p}),n.d(t,"p",function(){return u.o}),n.d(t,"l",function(){return u.k}),n.d(t,"n",function(){return u.m}),n.d(t,"m",function(){return u.l}),n.d(t,"o",function(){return u.n}),n.d(t,"k",function(){return u.j}),n.d(t,"t",function(){return u.t}),n.d(t,"s",function(){return u.s}),n.d(t,"x",function(){return u.y}),n.d(t,"z",function(){return u.A}),n.d(t,"y",function(){return u.z}),n.d(t,"r",function(){return u.q}),n.d(t,"C",function(){return u.E}),n.d(t,"j",function(){return u.i}),n.d(t,"w",function(){return u.w}),n.d(t,"J",function(){return u.M}),n.d(t,"D",function(){return u.G}),n.d(t,"E",function(){return u.H}),n.d(t,"u",function(){return u.u}),n.d(t,"v",function(){return u.v}),n.d(t,"F",function(){return u.I}),n.d(t,"H",function(){return u.K}),n.d(t,"G",function(){return u.J}),n.d(t,"I",function(){return u.L}),n.d(t,"f",function(){return u.e}),n.d(t,"B",function(){return u.D}),n.d(t,"A",function(){return u.C}),n.d(t,"g",function(){return u.f}),n.d(t,"h",function(){return u.g}),n.d(t,"i",function(){return u.h}),n.d(t,"e",function(){return u.b}),n.d(t,"L",function(){return b.n}),n.d(t,"c",function(){return b.c}),n.d(t,"d",function(){return b.d}),n.d(t,"a",function(){return b.a}),n.d(t,"M",function(){return b.o}),n.d(t,"K",function(){return b.l});t.b=m},"8wro":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("cD5Y"),o=n("wdd+"),s=(n("/TP7"),a.a.lazy(function(){return Promise.all([n.e(0),n.e(42)]).then(n.bind(null,"xnY9"))}));function c(e){return a.a.createElement(o.a,{subtype:"snippet_editor"},a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",{className:"p-snippet_editor--loading"},a.a.createElement(i.a,null))},a.a.createElement(s,e)))}c.displayName="LazySnippetEditor",t.a=c},"8yfr":function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l});var r={SMALL:"small",MEDIUM:"medium",LARGE:"large"},a={BASIC:"basic",SEARCH:"search",MULTI:"multi"},i=28,o=2,s="12px 0",c=16,l=240},"9/DQ":function(e,t,n){"use strict";n.d(t,"d",function(){return C}),n.d(t,"h",function(){return S}),n.d(t,"s",function(){return A}),n.d(t,"r",function(){return D}),n.d(t,"l",function(){return L}),n.d(t,"n",function(){return q}),n.d(t,"a",function(){return F}),n.d(t,"b",function(){return B}),n.d(t,"m",function(){return U}),n.d(t,"o",function(){return H}),n.d(t,"k",function(){return K}),n.d(t,"q",function(){return G}),n.d(t,"p",function(){return V}),n.d(t,"g",function(){return W}),n.d(t,"f",function(){return Q}),n.d(t,"i",function(){return re}),n.d(t,"j",function(){return ae}),n.d(t,"e",function(){return ie});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("ifKl"),l=n("7EGn"),u=n("TSHB"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=n("Z7Ay"),f=n("aK/h"),v=n("uf9I"),g=n("g5qt"),_=n("N0/W"),O=n("n74X"),y=n("HO/Y"),j=n("rWF5"),k=n("x4bP"),E=n("89j2"),C=Object(h.b)("Fetch multiple files by ID and upsert them",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).ids;return e(Object(_.f)({fileIds:n,reason:"downloads-store.fetchFileInfo"})).catch(function(){return Object(O.d)("Failed to fetch files",n)})});C.propTypes={ids:f.b.arrayOf(f.b.string).isRequired};var I=Object(d.b)("Sets the highlight property of a download");I.propTypes={fileId:f.b.string,teamId:f.b.string,highlight:f.b.bool};var w,S=Object(h.b)("Temporarily highlights a download item in the downloads pane",(w={},function(e,t,n){var r=Object(v.b)(t()),a=function(e,t){return e+"_"+t}(n,r);r&&!w[a]&&(e(I({fileId:n,teamId:r,highlight:!0})),w[a]=setTimeout(function(){delete w[a],e(I({fileId:n,teamId:r,highlight:!1}))},1e3))}));S.propTypes=f.b.string;var T={id:f.b.string,teamId:f.b.string,url:f.b.string,startTime:f.b.number,endTime:f.b.number,downloadState:f.b.oneOf(["not_started","started","progressing","paused","completed","cancelled","interrupted"]),downloadPath:f.b.string,progress:f.b.number,userId:f.b.string,appVersion:f.b.string},R=f.b.shape(s()({},T,{highlight:f.b.bool})),N=f.b.shape({id:f.b.number,teamId:f.b.string,type:f.b.oneOf(["main","sign-in","loading-screen","notifications","webapp","about-box","settings-editor","basic-auth-view","net-log-window","report-issue","other","unknown"]),frame:f.b.shape({isFullScreen:f.b.bool,isHtmlFullScreen:f.b.bool,isMinimized:f.b.bool,isMaximized:f.b.bool,isVisible:f.b.bool,isFocused:f.b.bool,bounds:f.b.shape({x:f.b.number,y:f.b.number,width:f.b.number,height:f.b.number}),title:f.b.string})}),x=f.b.shape({environment:f.b.shape({titleBarStyle:f.b.oneOf(["default","frameless","custom-extension"])}),windows:N,downloads:f.b.objectOf(f.b.objectOf(R)),activeTeamId:f.b.string}),M=function(e,t){return Object(u.a)(e,function(e,n){return Object(u.a)(e,function(e,r){return t(n,r,e)})})},P=g.X?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g.bb&&Object(g.bb)()?"frameless":"default",n=s()({downloads:{},environment:{titleBarStyle:t},windows:{}},e);return s()({},n,{downloads:M(n.downloads,function(e,t,n){return s()({},n,{highlight:!1})}),activeTeamId:Object(l.a)(window,"desktop.reduxHelper.state.selectedTeamId")})}(Object(l.a)(window,"desktop.redux.getState",c.a)()):null,A=Object(d.b)("An update of the desktop state from the desktop app");A.propTypes=f.b.shape({downloads:f.b.objectOf(f.b.objectOf(f.b.shape(T)))});var D=Object(d.b)("Starts a download on the desktop app");D.propTypes={fileId:f.b.string,downloadUrl:f.b.string,showFlexpane:f.b.bool};var L=Object(d.b)("Pauses a download on the desktop app");L.propTypes=f.b.string;var q=Object(d.b)("Resumes a download on the desktop app");q.propTypes=f.b.string;var F=Object(d.b)("Cancels a download on the desktop app");F.propTypes=f.b.string;var B=Object(d.b)("Clears all stopped downloads for the active team");B.propTypes=null;var U=Object(d.b)("Removes a download on the desktop app");U.propTypes=f.b.string;var H=Object(d.b)("Retries a download on the desktop app");H.propTypes=f.b.string;var K=Object(d.b)("Opens a file downloaded by the desktop app");K.propTypes=f.b.string;var G=Object(d.b)("Shows the folder that contains the downloaded file");G.propTypes=f.b.string;var V=Object(d.b)("Sets the currently active team in the SSB");V.propTypes=f.b.string;var z=Object(b.b)((r={},i()(r,A,function(e,t){var n=t.downloads?M(t.downloads,function(t,n,r){return s()({},r,{highlight:Object(l.a)(e.downloads,[t,n,"highlight"],!1)})}):e.downloads;return s()({},e,t,{downloads:n})}),i()(r,I,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.teamId,a=t.highlight;return Object(l.a)(e.downloads,[r,n])?s()({},e,{downloads:s()({},e.downloads,i()({},r,s()({},e.downloads[r],i()({},n,s()({},e.downloads[r][n],{highlight:a})))))}):e}),i()(r,V,function(e,t){return t?s()({},e,{activeTeamId:t}):e}),r),P,{persistenceEnabled:!1});z.propTypes=x,t.c=z;var Y=Object(p.b)(function(e){return e&&e.desktop&&e.desktop.downloads}),W=Object(p.b)(function(e){return Y(e)&&Object(v.b)(e)&&Object(y.b)(e)&&Object.values(Y(e)[Object(v.b)(e)]||{}).filter(function(t){var n=Object(E.b)(t.appVersion),r=Object(E.b)("4.0.0");return!t.appVersion||-1===Object(E.a)(n,r)||t.userId&&t.userId===Object(y.b)(e)})}),Q=Object(p.b)(function(e){var t=W(e);return t&&t.map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id})}),X=Object(p.b)(function(e){return e&&e.desktop&&e.desktop.environment}),Z=Object(p.b)(function(e){return X(e)&&X(e).titleBarStyle}),J=Object(p.b)(function(e){return e&&e.desktop&&e.desktop.windows}),$=Object(p.b)(function(e){return J(e)&&Object.values(J(e)).find(function(){return"main"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type})}),ee=Object(p.b)(function(e){var t=$(e);return t&&t.frame.isFullScreen}),te=!1,ne=!1,re=Object(p.b)(function(e){return te||!ne&&"custom-extension"===Z(e)&&!ee(e)}),ae=Object(p.b)(function(e){return ne||!te&&"frameless"===Z(e)&&Object(j.p)()&&Object(k.a)()&&!ee(e)}),ie=Object(p.b)(function(e){return e&&e.desktop&&e.desktop.activeTeamId});Object(m.a)("fakeCustomTitlebar",function(){if(ne)console.error("fakeFrameless is on -- reload first");else{if(!document.querySelector("window-chrome")){var e=document.createElement("window-chrome");e.style.cssText=["display: block","height: 31px","line-height: 31px","text-align: center","background: #000","color: #fff","-webkit-app-region: drag"].join(";"),e.innerText="Fake Windows Title Bar",document.body.prepend(e)}te=!0,ne=!1,slackDebug.dispatchNoop()}}),Object(m.a)("fakeFrameless",function(){if(te)console.error("fakeCustomTitlebar is on -- reload first");else{if(!document.querySelector("#fake-mac-traffic-lights")){var e=document.createElement("span");e.style.cssText=["position: fixed","top: 0","left: 0","padding: 5px 0 5px 8px","z-index: 9999","line-height: 1"].join(";");var t=function(e){var t=document.createElement("span");return t.style.cssText=["display: inline-block","background: "+e,"margin-right: 8px","height: 12px","width: 12px","border-radius: 12px"].join(";"),t};e.appendChild(t("#ff6159")),e.appendChild(t("#ffbd2e")),e.appendChild(t("#28c941")),document.body.appendChild(e)}ne=!0,slackDebug.dispatchNoop()}})},"9/KO":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("clTI"),c=n("HO/Y"),l=n("DTT0"),u=n("6kok"),d=n("Qrgz"),b=n("yHhI"),p=n("QbLZ"),h=n.n(p),m=n("m1cH"),f=n.n(m),v=n("iCc5"),g=n.n(v),_=n("V7oC"),O=n.n(_),y=n("FYw3"),j=n.n(y),k=n("mRg0"),E=n.n(k),C=n("7EGn"),I=n("ifKl"),w=n("mkut"),S=n("9mJw"),T=n("BeL+"),R=n("OL4R"),N=n("Muja"),x=n("hbEN"),M=n("XHGt"),P=n("lhZz"),A=n("uf9I"),D=n("FN36"),L=n("negh"),q=n("ntJl"),F=n("TSYQ"),B=n.n(F),U=n("DtX9"),H=n("D4L/"),K=n("RCIA"),G=n("wfE8"),V=n("0nhw"),z=n("5mKg"),Y=n("Fdc0"),W=n("+j2t"),Q=n("nNoG"),X=n("zZZw"),Z=n("kOzZ"),J=n("Smdl"),$=n("ONPw"),ee=n("lCmp"),te=n("tn36"),ne=n("k0G2"),re=n("82mD"),ae=n("13mM"),ie=n("hI7H"),oe=n("WD4z"),se=n("0f2Y"),ce=n("cTgs"),le=n("NWaE"),ue=n("v1AT"),de=n("fvUo"),be=n("fgg+"),pe=n("08ch"),he=(n("EmK0"),new Q.b("shared_channels")),me=(i.b.string.isRequired,i.b.string.isRequired,i.b.bool,i.b.object,i.b.bool,i.b.func.isRequired,i.b.func.isRequired,i.b.func,i.b.func.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.object.isRequired,i.b.bool,i.b.func,i.b.func,{channel:void 0,showOpenTransition:!0,onBack:I.a,featureSonicEscCreation:!1,onAccept:I.a,showRetentionWarning:!0,openSharedChannelCreationOrRequestModal:I.a}),fe="ESC-CONVERT-MODAL",ve=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showCustomError:!1,customErrorText:"",inviteeEmailAddress:"",inviteeEmailAddressErrors:{},slackURL:"",slackURLErrors:{},invitationMessage:"",invitationMessageErrors:{},isLoading:!1},Object(te.a)(n,["onSubmit","onInviteeEmailAddressChange","onInviteeEmailAddressValidationChange","onInviteeEmailAddressKeyDown","onSlackURLChange","onSlackURLKeyDown","onInvitationMessageChange","onInvitationMessageValidationChange","onShareNewChannelInsteadClick"]),n}return E()(t,e),O()(t,[{key:"onSubmit",value:function(){var e=this,t=this.props,n=t.logger,r=t.featureSonicEscCreation,a=t.channelId;if(r){var i=this.state,o=i.inviteeEmailAddress,s=i.inviteeEmailAddressErrors,c=i.slackURL,l=i.slackURLErrors,u=i.invitationMessage,d=i.invitationMessageErrors;a&&o&&c&&!Object(ee.a)(s)&&!Object(ee.a)(l)&&!Object(ee.a)(d)&&(n.info(fe,"Starting the submit process..."),this.setState(function(){return{isLoading:!0}}),this.props.submitConvertChannelToSharedInvite({channelId:a,inviteeEmail:o,targetDomain:c,invitationMessage:u,reason:"shared-channel-convert-modal/onSubmit"}).then(function(t){n.info(fe,"Shared channel invitation sent successfully."),n.info(fe,"Switching to the newly shared channel in case it lost focus."),e.props.setPrimaryView({id:t.channel.id}),n.info(fe,"Closing the modal."),e.props.onAccept(),e.props.closeModal()}).catch(function(t){n.info(fe,"Hit an error in the chain of shared channel invitation API calls. See below:"),n.error(fe,t);var r={isLoading:!1};switch(t.name){case"invalid_target_domain":r.slackURLErrors={hasInvalidTargetDomainError:!0,slackURLWithError:c};break;case"invalid_target_domain_sameorg":r.slackURLErrors={hasInvalidTargetDomainSameOrgError:!0,slackURLWithError:c};break;case"invalid_target_domain_self":r.slackURLErrors={hasInvalidTargetDomainSelfError:!0};break;case"invalid_email":r.inviteeEmailAddressErrors={hasInvalidEmailAddressWarning:!0};break;case"url_in_message":r.invitationMessageErrors={url:!0};break;case"shared_channel_invites_disabled":r.showCustomError=!0,r.customErrorText=he.t("{target_domain}.slack.com doesn\u2019t accept shared channel invitations. You may want to ask their admin to change this setting.",{target_domain:c});break;case"not_in_shared_channels_beta":r.showCustomError=!0,r.customErrorText=he.t("{target_domain}.slack.com hasn\u2019t joined the shared channels beta. They\u2019ll need to do so before you can share a channel.",{target_domain:c});break;case"target_team_is_enterprise":r.showCustomError=!0,r.customErrorText=he.t("During the beta, you can\u2019t share channels with organizations on Enterprise Grid. This is one of those rough edges we\u2019re still smoothing over \u2014 stay tuned.");break;case"invite_exists":r.showCustomError=!0,r.customErrorText=he.t("{target_domain} is already invited to this channel.",{target_domain:c});break;case"shared_channel_exists":r.showCustomError=!0,r.customErrorText=he.t("{target_domain} is already in this channel.",{target_domain:c});break;case"over_limit":r.showCustomError=!0,r.customErrorText=he.t("<b>Can\u2019t add any more organizations</b>. This channel is already shared with 11 organizations. To add another, you\u2019ll need to remove one.");break;default:r.showCustomError=!0}e.setState(function(){return r})}))}}},{key:"onSlackURLKeyDown",value:function(e){e.keyCode===ne.e&&this.onSubmit()}},{key:"onInviteeEmailAddressKeyDown",value:function(e){e.keyCode===ne.e&&this.onSubmit()}},{key:"onInviteeEmailAddressChange",value:function(e){this.setState(function(){return{inviteeEmailAddress:e}})}},{key:"onInviteeEmailAddressValidationChange",value:function(e){this.setState(function(){return{inviteeEmailAddressErrors:e}})}},{key:"onSlackURLChange",value:function(e){this.setState(function(){return{slackURL:e,slackURLErrors:{}}})}},{key:"onInvitationMessageChange",value:function(e){this.setState(function(){return{invitationMessage:e}})}},{key:"onInvitationMessageValidationChange",value:function(e){this.setState(function(){return{invitationMessageErrors:e}})}},{key:"onShareNewChannelInsteadClick",value:function(){this.props.logger.info(fe,"User decided to create a new shared channel instead. Opening shared channel creation modal..."),this.props.openSharedChannelCreationOrRequestModal({showOpenTransition:!1})}},{key:"getGoButtonIsDisabledState",value:function(){var e=this.state,t=e.inviteeEmailAddress,n=e.inviteeEmailAddressErrors,r=e.slackURL,a=e.slackURLErrors,i=e.invitationMessageErrors;return!t||Object(ee.a)(n)||!r||Object(ee.a)(a)||Object(ee.a)(i)||this.props.featureOfflineMode&&this.props.isOffline}},{key:"render",value:function(){var e=this.props,t=e.channelName,n=e.featureSonicEscCreation,r=e.showOpenTransition,i=e.onBack,o=e.featureOfflineMode,s=e.isOffline,c=e.showRetentionWarning,l=e.channel,u=this.state,d=u.showCustomError,b=u.customErrorText,p=u.inviteeEmailAddress,h=u.inviteeEmailAddressErrors,m=u.slackURL,f=u.slackURLErrors,v=(u.invitationMessage,u.invitationMessageErrors),g=u.isLoading;return n?a.a.createElement(ie.a,{modalClasses:"p-shared_channel_convert_modal",showBackButton:!!i,onBack:i,onCancel:this.props.closeModal,onGo:this.onSubmit,goButtonText:he.t("Share Channel"),goButtonIsDisabled:this.getGoButtonIsDisabledState(),goButtonIsPending:g,showOpenTransition:r},a.a.createElement("h1",{className:"p-shared_channel_convert_modal__title"},he.rt("Share <strong>{channelName}</strong> with another organization",{channelName:t,note:"Send a shared channel invitation - modal title"})),a.a.createElement("p",{className:"p-shared_channel_convert_modal__description"},he.t("To share this channel, you\u2019ll need the contact info of an admin at the other organization. "),a.a.createElement(se.a,{href:"https://get.slack.help/hc/articles/115004151183"},he.t("Learn about shared channels"))),a.a.createElement(be.a,{channel:l}),c&&a.a.createElement(oe.a,{type:"inline",level:"warning",icon:"warning",align:"left",className:"margin_bottom_100"},a.a.createElement("span",null,he.rt("This will give another organization access to all of the files, messages, and apps in <strong>{channelName}</strong>. ",{channelName:t,note:"Warning shown before sharing an existing channel that has 2+ weeks of history with an external team."}),a.a.createElement("button",{type:"button",className:"c-link--button",onClick:this.onShareNewChannelInsteadClick},he.t("Share a new channel instead",{note:"Link to give the user an option to share a new channel instead of share an existing channel."})))),o&&s&&a.a.createElement(oe.a,{icon:"cloud-offline",level:"info",className:"margin_bottom_100"},he.rt("<strong>No connection.</strong> You'll be able to send a shared channel invitation as soon as you're back online.")),d?a.a.createElement(oe.a,{type:"boxed",level:"error",icon:"warning",align:"left",className:"margin_bottom_100"},a.a.createElement("span",null,b||he.t("For some weird reason, that didn\u2019t work. Please try again to continue.",{note:"A generic error that pops up when the shared channel creation modal faces an error that is not handled specifically"}))):null,a.a.createElement(le.a,{id:"invitee_email_address",name:"invitee_email_address",initialEmailAddress:p,onInviteeEmailAddressKeyDown:this.onInviteeEmailAddressKeyDown,onInviteeEmailAddressChange:this.onInviteeEmailAddressChange,onInviteeEmailAddressValidationChange:this.onInviteeEmailAddressValidationChange,inviteeEmailAddressErrors:h}),a.a.createElement(ue.a,{id:"shared_channel_url",name:"shared_channel_url",initialSlackURL:m,onSlackURLKeyDown:this.onSlackURLKeyDown,onSlackURLChange:this.onSlackURLChange,slackURLErrors:f}),a.a.createElement(de.a,{id:"invitation_message",name:"invitation_message",onChange:this.onInvitationMessageChange,onValidationChange:this.onInvitationMessageValidationChange,errors:v})):null}}]),t}(r.Component);ve.displayName="SharedChannelConvertModal",ve.defaultProps=me;var ge=Object(M.b)(function(e,t){var n=t.channelId,r=Object(s.d)(e,n),a=Object(u.q)(r),i=a&&Object(re.n)(a),o=new Date,l=Object(re.c)(o,i)>Object(re.j)(2,{unitsIn:"weeks",unitsOut:"seconds"});return{channel:r,channelId:r.id,channelName:Object(u.x)(e,r),featureSonicEscCreation:Object(c.j)(e,"feature_sonic_esc_creation"),featureOfflineMode:Object(c.j)(e,"feature_offline_mode"),isOffline:!Object(ae.c)(e),logger:Object(b.a)({state:e}),showRetentionWarning:l}},function(e){return{closeModal:function(){return e(l.a.apply(void 0,arguments))},submitConvertChannelToSharedInvite:function(){return e(G.F.apply(void 0,arguments))},setPrimaryView:function(){return e(ce.a.apply(void 0,arguments))},openSharedChannelCreationOrRequestModal:function(){return e(pe.a.apply(void 0,arguments))}}})(ve),_e=n("rMl1"),Oe=Object(o.b)("Opens the Shared Channel Conversion or Request Shared Channel/Find an admin modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.onBack,o=n.showOpenTransition,s=void 0===o||o,c=n.adminMode,u=void 0===c?W.a.convertChannel:c,b=t();Object(d.M)(b)&&Object(d.D)(b)?e(Object(l.e)({element:a.a.createElement(ge,{channelId:r,showOpenTransition:s,onBack:i})})):Object(d.M)(b)&&e(Object(l.e)({element:a.a.createElement(_e.a,{showOpenTransition:s,adminMode:u})}))});Oe.propTypes={channelId:i.b.string.isRequired,onBack:i.b.func,showOpenTransition:i.b.bool,adminMode:i.b.string};var ye=Oe,je=n("d24p"),ke=n("fL8H"),Ee=n("vJtL"),Ce=n("aolG"),Ie=(i.b.number,i.b.arrayOf(i.b.shape(h()({},Ce.a.propTypes))).isRequired,i.b.bool,i.b.arrayOf(i.b.string),i.b.string,i.b.func.isRequired,i.b.string,i.b.bool,i.b.bool,i.b.bool,function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickBack=n.onClickBack.bind(n),n.onClickGo=n.onClickGo.bind(n),n.state={stepIndex:n.props.stepIndex,isSteppingBack:n.props.isSteppingBack},n}return E()(t,e),O()(t,[{key:"componentWillReceiveProps",value:function(e){this.maybeUpdateStepState(e.stepIndex)}},{key:"onClickGo",value:function(){var e=this.state.stepIndex,t=this.getStep(e);t.onGo?t.onGo():this.goToNextStep()}},{key:"onClickBack",value:function(){var e=this.state.stepIndex,t=this.getStep(e);t.onBack?t.onBack():this.goToPreviousStep()}},{key:"setStepDirection",value:function(e){this.setState(function(){return{isSteppingBack:e}})}},{key:"getIndex",value:function(){return this.state.stepIndex}},{key:"setIndex",value:function(e){this.setState(function(){return{stepIndex:e}})}},{key:"getStepNumber",value:function(){return this.getIndex()+1}},{key:"setStepNumber",value:function(e){this.setIndex(e-1)}},{key:"getCurrentStep",value:function(){return this.getStep(this.state.stepIndex)}},{key:"getStep",value:function(e){return this.props.steps[e]}},{key:"getStepContent",value:function(){var e=this.getCurrentStep();return Object(Ee.a)(e.children)?e.children():e.children}},{key:"maybeUpdateStepState",value:function(e){if(e!==this.props.stepIndex){this.setIndex(e);var t=e<this.props.stepIndex;this.setStepDirection(t)}}},{key:"isModalSteppingBack",value:function(){return this.state.isSteppingBack}},{key:"goToNextStep",value:function(){var e=this.props.steps;this.setState(function(t){var n=t.stepIndex+1;return n<e.length?{stepIndex:n,isSteppingBack:!1}:t})}},{key:"goToPreviousStep",value:function(){this.setState(function(e){var t=e.stepIndex-1;return e.stepIndex>=0?{stepIndex:t,isSteppingBack:!0}:e})}},{key:"render",value:function(){var e=this.getCurrentStep(),t=this.getIndex(),n=this.isModalSteppingBack(),r=this.props,i=r.breadcrumbTitles,o=r.isOpen,s=r.showOpenTransition,c=r.showCloseTransition,l=r.position,u=h()({},e,{isSteppingBack:n,currentStepIndex:t,breadcrumbTitles:i,isOpen:o,showCloseTransition:c,showOpenTransition:s,position:l,onGo:this.onClickGo,onBack:this.onClickBack,modalClasses:this.props.modalClasses,onCancel:e.onCancel||this.props.onCancel});return a.a.createElement(Ce.a,u,this.getStepContent())}}]),t}(r.PureComponent));Ie.displayName="SteppedFullscreenModal",Ie.defaultProps={stepIndex:0,isSteppingBack:!1,breadcrumbTitles:[],modalClasses:"",position:null,isOpen:!0,showOpenTransition:!0,showCloseTransition:!0};var we=Ie,Se=n("FXuT"),Te=n("kDop"),Re=n("2lnT"),Ne=n("Rszm"),xe=n("O0RF"),Me=n("od5y"),Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(u.w)(t),r=null;if(Object(u.yb)(t)||Object(u.xb)(t)){var i=B()({"c-icon--align-hashmark":!Object(u.xb)(t)});r=a.a.createElement(Me.a,{className:i,inherit:!0,align:"baseline",type:Object(u.xb)(t)?"lock":"channel"})}var o=null;return Object(u.sb)(t)?o=a.a.createElement(Me.a,{align:"baseline",inherit:!0,type:"shared_channel"}):Object(u.ub)(t)?o=a.a.createElement(Me.a,{align:"baseline",inherit:!0,type:"shared_channels_pending"}):Object(u.Cb)(t)&&(o=a.a.createElement(Me.a,{align:"baseline",inherit:!0,type:"shared_channels"})),a.a.createElement("span",{key:e},r,n,o)};Pe.displayName="formatChannelName";var Ae=Pe,De=new Q.b("channel_options"),Le=(i.b.object.isRequired,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props.channel;return a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,De.t("Archiving is useful if you don\u2019t think you\u2019ll need this channel any longer. Here\u2019s what will happen when you archive this channel:")),a.a.createElement("ul",null,a.a.createElement("li",null,De.t("No one will be able to send messages to it")),a.a.createElement("li",null,De.t("Apps installed in this channel will be disabled")),a.a.createElement("li",null,De.t("A message will be posted that you archived the channel"))),a.a.createElement("p",null,De.t("Messages from archived channels will still show up in search and archives, the same way they do today. You can always un-archive an archived channel later, if you need it again.")),a.a.createElement("p",null,De.rt("Are you sure you want to archive <strong>{channel}</strong>?",{channel:Object(u.w)(e)},function(t){var n=t.key;return Ae(n,e)})))}}]),t}(r.PureComponent));Le.displayName="ArchiveChannel",Le.defaultProps={};var qe=Le,Fe=n("zmUX"),Be=(n("POms"),new Q.b("channel_options")),Ue=(i.b.oneOfType([i.b.string,i.b.object]),i.b.bool,i.b.bool,i.b.object.isRequired,i.b.object,i.b.string,i.b.func,i.b.func,{additionalVerificationError:"",additionalVerificationGood:!1,isCheckingAdditionalVerification:!1,currentTeam:{},orgName:"",onInvalidName:I.a,onValidName:I.a});function He(e){var t=Object(u.w)(e.channel);"#"===t[0]&&(t=t.substr(1));var n=e.additionalVerificationError,r=e.additionalVerificationGood,i=e.isCheckingAdditionalVerification,o=e.channel,s=e.currentTeam,c=e.orgName,l=e.onInvalidName,d=e.onValidName;return a.a.createElement("div",{className:"top_margin p-channel-options--content_text"},a.a.createElement("p",null,Be.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name to share this channel outside of <span>{teamName}</span>.",{name:Object(u.w)(o),orgName:c,teamName:Object(z.e)(s)},function(e){var t=e.key,n=e.tag,r=e.text;return"strong"===n?a.a.createElement("strong",{key:t+"-1"},Ae(t,o)):a.a.createElement("strong",{key:t},r)})),a.a.createElement("label",{htmlFor:"channel_rename",className:"c-label"},a.a.createElement("span",{className:"c-label__text"},Be.t("Channel name"))),a.a.createElement(Fe.a,{additionalVerificationError:n,additionalVerificationGood:r,channel:o,id:"channel_rename",isCheckingAdditionalVerification:i,onInvalid:l,onValid:d,placeholder:Be.t("Rename {title}",{title:Object(u.w)(o)}),shouldFix:!0,value:t}))}He.displayName="ChannelNameConflict",He.defaultProps=Ue;var Ke=Object(M.b)(function(e){return{currentTeam:Object(H.d)(e),orgName:Object(H.e)(e)}})(He),Ge=n("gSGL"),Ve=n("XLFM"),ze=n("WTjW"),Ye=n("hCI9"),We=n("oxKW"),Qe=n("NAkb"),Xe=n("PM8X"),Ze=n("OO1R"),Je=n("+z37"),$e=n("n3t6"),et=n("2Y1Y"),tt=(n("VSg/"),new Q.b("channel_options")),nt=(i.b.object.isRequired,i.b.number,i.b.oneOfType([i.b.string,i.b.object]),i.b.object,i.b.string,i.b.oneOfType([i.b.string,i.b.object]),i.b.func.isRequired,i.b.func,i.b.string,i.b.bool,i.b.bool,"react_channel_purpose_input");function rt(e){Object(Xe.a)({e:e,input_to_fill:"#"+nt,offset_y:-8})}var at=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setTextyRef=n.setTextyRef.bind(n),n.onTextChange=n.onTextChange.bind(n),n.renderModernInput=n.renderModernInput.bind(n),n.texty=null,n.textyModules={tabcomplete:{positionMenu:function(e){e.style.width=n.texty.container.offsetWidth+"px",Object(Qe.a)(e,n.texty.container)},completers:["channels","emoji","members"]}},n.state={numCharsOverLimit:n.countCharsOverLimit()},n}return E()(t,e),O()(t,[{key:"onTextChange",value:function(){var e=this.props,t=e.onChannelPurposeValidationChange,n=e.onChannelPurposeTextareaChange,r=this.state.numCharsOverLimit,a=this.countCharsOverLimit();(a>0||r>0)&&(this.setState(function(){return{numCharsOverLimit:a}}),t&&t(a>0)),a<1&&n({target:{value:this.getEditText()}})}},{key:"setTextyRef",value:function(e){this.texty=e&&e.getWrappedInstance?e.getWrappedInstance():e}},{key:"getEditText",value:function(){var e=this.props,t=e.purpose,n=e.featureSonicChannelOptions,r=Object(Ge.a)(t)?t:t.value;return this.texty?n?this.texty.value():Object(et.i)(this.texty.value(),{enableBroadcastKeywords:!1}):Object(Ge.a)(r)?r:""}},{key:"countCharsOverLimit",value:function(){var e=this.getEditText(),t=this.props.maxLength;return t&&e.length?Math.max(0,e.length-t):0}},{key:"renderModernInput",value:function(e){var t=e.modules,n=e.isOpen,r=this.props.featureChangePurposeToDescription?tt.t("Channel description"):tt.t("Channel purpose");return a.a.createElement(Ye.b,{initialText:this.props.formattedPurpose,focusOnMount:!0,minLines:3,modules:t,isAutocompleteOpen:n,onTextChange:this.onTextChange,maxLength:this.props.maxLength,ref:this.setTextyRef,id:"purpose_input",ariaLabel:r,ariaDescribedBy:"channel-description-input-hint"})}},{key:"renderModernTextarea",value:function(){return a.a.createElement(We.a,{renderInput:this.renderModernInput,completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,shouldCompleteOnTab:!1})}},{key:"renderTextarea",value:function(){var e=this.props,t=e.maxLength,n=e.purpose,r=e.featureSonicChannelOptions,i=e.featureChangePurposeToDescription;if(r)return this.renderModernTextarea();var o=this.state.numCharsOverLimit,s=o+t,c=Object($e.d)(Object(Ge.a)(n)?n:n.value),l=i?tt.t("Channel description"):tt.t("Channel purpose"),u=void 0;return o>0&&(u=tt.t("Text is too long! ({totalCharCount}/{maxLength} characters)",{totalCharCount:s,maxLength:t})),a.a.createElement("div",{className:"p-channel_options--channel_purpose"},a.a.createElement(Ye.b,{id:nt,ref:this.setTextyRef,className:"c-input_textarea c-channel_purpose_input",modules:this.textyModules,ariaLabel:l,initialText:c,onTextChange:this.onTextChange,focusOnMount:!0,useLegacyCreate:!0,enableBroadcastKeywords:!1}),a.a.createElement(Ve.c,{onClick:rt,className:"c-message__editor__emoji_menu","aria-label":"Emoji menu"},a.a.createElement(Me.a,{className:"c-message__editor__emoji_circle_icon",type:"circle-fill"}),a.a.createElement(Me.a,{className:"c-message__editor__emoji_smile_icon",type:"smile-o"}),a.a.createElement(Me.a,{className:"c-message__editor__emoji_happy_icon",type:"happy-smile"})),u&&a.a.createElement("p",{className:"candy_red no_bottom_margin"},u))}},{key:"renderGuidance",value:function(){var e=this.props,t=e.channel,n=e.workspaceName;return Object(u.Y)(t)?tt.t("Describe what this channel is for. This is only visible to {workspaceName}.",{workspaceName:Object(Q.n)(n)}):tt.t("Describe what this channel is for.")}},{key:"render",value:function(){var e=this.props,t=e.purposeCreator,n=e.purposeDate,r=e.featureChangePurposeToDescription,i=r?tt.t("Description (optional)",{fallbackHash:"599a259d5f5d100146186a56d2d9a62102f7afb3"}):tt.t("Purpose (optional)",{fallbackHash:"8aea1850c35d6d88b0a2bfdf1e618dd6cd368201"}),o=void 0;return n&&t&&n&&(o=r?tt.rt("The description was last set by <span>{member}</span> {date}.",{member:t,date:n},function(e){var n=e.key,r=e.tag,i=e.text;return"span"===r?a.a.createElement(ze.a,{key:n,id:t.id}):a.a.createElement("span",{key:n},i)}):tt.rt("The purpose was last set by <span>{member}</span> {date}.",{member:t,date:n},function(e){var n=e.key,r=e.tag,i=e.text;return"span"===r?a.a.createElement(ze.a,{key:n,id:t.id}):a.a.createElement("span",{key:n},i)})),a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("label",{htmlFor:"purpose_input",className:"bold"},i),this.renderTextarea(),a.a.createElement("p",{id:"channel-description-input-hint",className:"mini small_top_margin no_bottom_margin"},this.renderGuidance()),o&&a.a.createElement("p",{className:"mini"},o))}}]),t}(r.PureComponent);at.displayName="ChannelPurpose",at.defaultProps={maxLength:250,purpose:"",purposeCreator:null,purposeDate:"",formattedPurpose:"",onChannelPurposeValidationChange:null,workspaceName:"",featureChangePurposeToDescription:!1,featureSonicChannelOptions:!1};var it=Object(M.b)(function(e,t){var n=t.purpose,r=Object(C.a)(n,"creator"),a=Object(c.j)(e,"feature_sonic_channel_options"),i=Object(c.j)(e,"feature_change_purpose_to_description"),o="";if(a){var s=n&&n.value;o=s&&Object(Je.a)(e,{text:s})}return{purposeCreator:r?Object(U.c)(e,r):null,purposeDate:n.last_set&&Object(Ze.a)(e,n.last_set),workspaceName:Object(z.e)(Object(H.d)(e)),featureChangePurposeToDescription:i,featureSonicChannelOptions:a,formattedPurpose:o}})(at),ot=new Q.b("channel_options"),st=(i.b.object.isRequired,i.b.string.isRequired,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"shouldShowShareWarning",value:function(){var e=this.props.channel;return!!e&&Object(u.Cb)(e)}},{key:"renderShareWarning",value:function(){var e=this.props,t=e.channel,n=e.teamName;return t&&this.shouldShowShareWarning()?a.a.createElement("li",null,ot.rt("This update will only appear in {teamName}.",{teamName:a.a.createElement("strong",null,n)})):null}},{key:"render",value:function(){var e=this.props.teamName;return a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement(oe.a,{type:"boxed",level:"warning",icon:"warning",align:"left",className:"margin_bottom_150"},ot.t("This change can\u2019t be undone, so please proceed with care.")),a.a.createElement("p",{className:"small_bottom_margin"},a.a.createElement("strong",null,ot.t("Things to note:"))),a.a.createElement("ul",null,this.renderShareWarning(),a.a.createElement("li",null,ot.t("Channel history and members will not be affected by this change.")),a.a.createElement("li",null,ot.rt("All files shared in this channel up until this point will remain publicly accessible to everyone in {teamName}.",{teamName:a.a.createElement("strong",null,e)}))))}}]),t}(r.PureComponent));st.displayName="ConvertChannelToPrivate",st.defaultProps={};var ct=Object(M.b)(function(e,t){var n=t.channel,r=Object(H.d)(e);return{channel:n,teamName:Object(z.e)(r)}})(st),lt=n("cD5Y"),ut=n("KEK+"),dt=n("nWao"),bt=(n("1Elb"),n("MbVY"),n("8vnj"));function pt(e){var t=e.retentionType,n=e.retentionDuration;if(!Object(bt.a)(t))return!1;return 0===t||1===t&&Object(bt.a)(n)&&n>0&&n<36500}function ht(e){var t=e.retentionDuration,n=e.retentionDurationUnit;return Object(bt.a)(n)?0===n?t:365*t:t}var mt=new Q.b("channel_options"),ft=(i.b.object.isRequired,i.b.object.isRequired,i.b.func,i.b.func,i.b.func,i.b.bool,i.b.number,i.b.number,i.b.number,i.b.number,i.b.number,i.b.func,{onDurationChange:I.a,onDurationUnitChange:I.a,onTypeChange:I.a,prefsLoaded:!1,retentionDuration:0,retentionDurationUnit:0,retentionType:0,teamRetentionDuration:0,teamRetentionType:0,durationInputRef:I.a}),vt=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.durationChange=n.durationChange.bind(n),n.durationUnitChange=n.durationUnitChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n}return E()(t,e),O()(t,[{key:"durationChange",value:function(e){var t=this;e.persist(),Object(x.a)(function(){var n=Math.round(parseFloat(e.target.value,10));t.props.onDurationChange(n)},500)()}},{key:"durationUnitChange",value:function(e){this.props.onDurationUnitChange(parseInt(e.target.value,10))}},{key:"handleKeyPress",value:function(e){(e.charCode<47||e.charCode>57)&&e.preventDefault()}},{key:"maybeRenderOldDurationInput",value:function(){var e=this.props,t=e.retentionDuration;if(0===e.retentionType)return null;return a.a.createElement("div",{className:"flex_none left_margin"},a.a.createElement("label",{htmlFor:"retention_duration",className:"c-label c-label__text"},mt.t("Duration")),a.a.createElement("input",{className:"p-channel_options--retention_duration c-input_text align_right",defaultValue:t,id:"retention_duration",maxLength:"4",onChange:this.durationChange,style:{width:"60px",backgroundColor:"white"},type:"text"}),a.a.createElement("span",{className:"p-channel_options--retention_duration_add_on"},mt.t("days")))}},{key:"maybeRenderDurationInput",value:function(){var e=this.props,t=e.retentionDuration,n=e.retentionDurationUnit,r=e.retentionType,i=e.durationInputRef;if(0===r)return null;var o=a.a.createElement("strong",null,mt.t("Delete messages and their revisions after:"));return a.a.createElement(xe.a,{className:"p-channel_options--retention_duration_label c-deprecated-icon c-icon--caret-down",text:o,htmlFor:"retention_duration"},a.a.createElement("div",{className:"display_flex"},a.a.createElement("input",{className:"p-channel_options--retention_duration c-input_text",defaultValue:0===t?"":t,id:"retention_duration",onChange:this.durationChange,onKeyPress:this.handleKeyPress,type:"text",ref:i}),a.a.createElement("select",{className:"p-channel_options--retention_duration_unit c-input_select margin_left_100",id:"retention_duration_unit",defaultValue:n,onChange:this.durationUnitChange},a.a.createElement("option",{value:"0"},mt.t("Days")),a.a.createElement("option",{value:"1"},mt.t("Years")))))}},{key:"maybeRenderDurationWarning",value:function(){var e=this.props,t=e.member,n=e.retentionType,r=e.retentionDuration,i=e.retentionDurationUnit,o=e.teamRetentionDuration,s=e.teamRetentionType;if(0===n)return null;var c=void 0,l=ht({retentionDuration:r,retentionDurationUnit:i});if(l>=36500)c=mt.rt("When setting a time frame for deleting messages, please choose a duration less than 100 years.");else if(pt({retentionType:n,retentionDuration:l}))if(l<30)c=mt.rt("<strong>This will delete all messages older than {retentionDuration, plural, =1 {# day} other {# days}}</strong>. Please double-check with your team before setting such a short retention period.",{retentionDuration:r});else if(2===s&&l>o)c=0===i?Object(Y.X)(t)||Object(Y.vb)(t)?mt.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# day} other {# days}}, you\u2019re choosing to keep messages for longer than the rest of your workspace.",{retentionDuration:r}):mt.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# day} other {# days}}, you\u2019re choosing to keep messages for longer than the rest of your workspace. You may want to check with an admin to make sure this is OK.",{retentionDuration:r}):Object(Y.X)(t)||Object(Y.vb)(t)?mt.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# year} other {# years}}, you\u2019re choosing to keep messages for longer than the rest of your workspace.",{retentionDuration:r}):mt.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# year} other {# years}}, you\u2019re choosing to keep messages for longer than the rest of your workspace. You may want to check with an admin to make sure this is OK.",{retentionDuration:r});else{if(1!==s&&0!==s||!(l>5475))return null;c=mt.rt("Just a heads up: if you want to keep your messages forever, you can choose to follow your workspace\u2019s default retention settings.")}else c=mt.rt("To delete messages after a period of time, set a value greater than zero.");return a.a.createElement(oe.a,{level:"warning",className:"margin_bottom_100"},c)}},{key:"renderSelectOption",value:function(e,t){return a.a.createElement("option",{value:e},t)}},{key:"renderRadio",value:function(){var e=this.props,t=e.onTypeChange,n=e.retentionType,r=e.team,i="retention_type",o=a.a.createElement("span",null,a.a.createElement("strong",null,mt.t("Use the default retention settings for {teamName}",{teamName:Object(z.e)(r)})),a.a.createElement("div",{className:"sk_dark_gray"},this.renderTeamPrefMessage())),s=a.a.createElement("span",null,a.a.createElement("strong",null,mt.t("Use custom retention settings for this conversation")),a.a.createElement("div",{className:"sk_dark_gray"},mt.t("Delete messages after a set amount of time.")));return a.a.createElement("div",{className:"flex_one"},a.a.createElement(dt.a,{className:"margin_bottom_50"},a.a.createElement(xe.a,{text:o,htmlFor:i+"_0",type:"inline",cursor:"pointer",className:"margin_bottom_75"},a.a.createElement(ut.a,{id:i+"_0",name:i,value:0,checked:0===n,onChange:t})),a.a.createElement(xe.a,{text:s,htmlFor:i+"_1",type:"inline",cursor:"pointer"},a.a.createElement(ut.a,{id:i+"_1",name:i,value:1,checked:1===n,onChange:t}))))}},{key:"renderTeamPrefMessage",value:function(){var e=this.props,t=e.teamRetentionDuration,n=void 0;switch(e.teamRetentionType){case 1:n=mt.t("By default, messages are kept forever.");break;case 0:n=mt.t("By default, messages are kept forever, but revisions aren\u2019t tracked.");break;case 2:if(t>364){var r=Object(S.a)(t/365,1);n=mt.t("By default, messages older than {durationDays} days ({durationYears, plural, =1 {# year} other {# years}}) will be deleted.",{durationDays:t,durationYears:r})}else n=mt.t("By default, messages older than {teamRetentionDuration, plural, =1 {# day} other {# days}} will be deleted.",{teamRetentionDuration:t});break;case 3:if(t>364){var a=Object(S.a)(t/365,1);n=mt.t("By default, messages older than {durationDays} days ({durationYears, plural, =1 {# year} other {# years}}) will be deleted (full history still accessible via compliance export).",{durationDays:t,durationYears:a,fallbackHash:"91a2ec5b71549f51b20023decb759e38c488cd23"})}else n=mt.t("By default, messages older than {teamRetentionDuration, plural, =1 {# day} other {# days}} will be deleted (full history still accessible via compliance export).",{teamRetentionDuration:t,fallbackHash:"546ed739919d63b927945839040c80b6968a5d2f"});break;default:n=mt.t("By default, messages are kept forever.")}return n}},{key:"render",value:function(){return this.props.prefsLoaded?a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,mt.t("If you\u2019d like, you can set custom message retention for this conversation.")),this.renderRadio(),a.a.createElement("div",{className:"p-channel-options__custom_retention_container"},this.maybeRenderDurationInput(),this.maybeRenderDurationWarning())):a.a.createElement("div",{className:"p-channel_options--option_spinner"},a.a.createElement(lt.a,{size:"jumbo"}))}}]),t}(r.PureComponent);vt.displayName="DataRetention",vt.defaultProps=ft;var gt=vt,_t=new Q.b("channel_options"),Ot=(i.b.object.isRequired,i.b.bool.isRequired,i.b.func.isRequired,i.b.func.isRequired,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"renderArchiveInstead",value:function(){var e=this.props,t=e.showArchiveInstead,n=e.onClickArchiveInstead;return t?_t.rt("<strong>Note:</strong> <a>Archiving a channel</a> lets you close out a conversation without deleting its messages.",{fallbackHash:"7a1495254985f7cbea8f1975f9ee15921929ea5c"},function(e){var t=e.text,r=e.key,i=e.tag;return"strong"===i?a.a.createElement("strong",{key:r},t):"a"===i?a.a.createElement(se.a,{key:r,onClick:n},t):{text:t}}):null}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.onChangeCheckbox;return a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,_t.rt("Are you sure you want to delete <strong>{channel}</strong>? All of the channel\u2019s messages will be removed from Slack immediately \u2014 files, however, will not be deleted. This cannot be undone.",{channel:Object(u.w)(t)},function(e){var n=e.key;return Ae(n,t)})),a.a.createElement("p",null,this.renderArchiveInstead()),a.a.createElement("p",{className:"float_left very_small_top_margin"},a.a.createElement("label",{htmlFor:"delete_channel_cb",className:"c-label--pointer display_flex align_items_center"},a.a.createElement("input",{onChange:n,id:"delete_channel_cb",type:"checkbox",className:"c-input_checkbox inline small_right_margin"}),_t.t("Yes, permanently delete this channel"))))}}]),t}(r.PureComponent));Ot.displayName="DeleteChannel",Ot.defaultProps={};var yt=Ot,jt=new Q.b("channel_options");function kt(){return a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,jt.t("Exports can take a while \u2014 especially for lengthy conversations. Slackbot will ping you when your export is done.")))}kt.displayName="ExportHistory";var Et=kt,Ct=n("20gP"),It=n("hUMe"),wt=n("derf"),St=n("TGBA"),Tt=n("lE2N"),Rt=n("uXhx"),Nt=n("oaNE"),xt=n("vPIQ"),Mt=n("HI9p"),Pt=n("CpTu"),At=n("3zPy"),Dt=n.n(At),Lt=n("uPpK"),qt=n("HDnS");function Ft(e,t){return e<t}function Bt(e){var t=e.sluggifyEnabled,n=e.sluggifyDelimiter,r=e.sluggifyKeyName,a=e.single;return!(!(t&&n&&r)||a)}function Ut(e){return void 0!==e.slugId}var Ht=n("RAhH"),Kt=new Q.b("channel_options"),Gt=(i.b.bool,i.b.string,i.b.bool,i.b.object,i.b.func,i.b.func,i.b.func,i.b.bool,i.b.object,i.b.func,i.b.string,{active:!1,dataQaPrefix:"lfs",disabled:!1,item:{},onClick:I.a,onMouseLeave:I.a,onMouseMove:I.a,selected:!1,style:"",template:function(e){return e.label},customClasses:""}),Vt=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickHandler=n.onClickHandler.bind(n),n}return E()(t,e),O()(t,[{key:"onClickHandler",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.disabled||this.props.onClick(this.props.item)}},{key:"render",value:function(){var e=this.props.item,t=B()("c-lazy_filter_select__item",{"c-lazy_filter_select__item--active":this.props.active,"c-lazy_filter_select__item--selected":this.props.selected,"c-lazy_filter_select__item--child":e.isChild,"c-lazy_filter_select__item--group":e.group,"c-lazy_filter_select__item--disabled":this.props.disabled},this.props.customClasses),n="lfs-item-"+e.id,r=this.props.dataQaPrefix+"-item-"+e.id,i=a.a.createElement("div",{className:t,"data-id":e.id,"data-qa":r,id:n,onClick:this.onClickHandler,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,role:"option",style:this.props.style,tabIndex:"-1",key:"list-item-"+e.id},this.props.template(e));if(this.props.disabled){var o=Kt.t("Cannot be removed");return a.a.createElement(Ht.c,{position:"top",tip:o},i)}return i}}]),t}(r.PureComponent);Vt.displayName="LazyFilterSelectListItem";var zt=Vt;Vt.defaultProps=Gt;var Yt=new Q.b("channel_options"),Wt=(i.b.string,i.b.bool,i.b.bool,i.b.object,i.b.func,i.b.func,i.b.bool,i.b.func,{dataQaPrefix:"lfs",disabled:!1,highlighted:!1,item:{},onClick:I.a,onHighlight:I.a,single:!1,template:function(e){return e.label}}),Qt=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickHandler=n.onClickHandler.bind(n),n}return E()(t,e),O()(t,[{key:"onClickHandler",value:function(e){if(!this.props.disabled&&!this.props.single){var t=e.clientX,n=e.target.getBoundingClientRect();e.stopPropagation(),t>n.width+n.left?this.props.onClick(this.props.item):this.props.onHighlight(this.props.item)}}},{key:"render",value:function(){var e=this.props.item,t=B()("c-lazy_filter_select__token","c-lazy_filter_select__token--selected",{"c-lazy_filter_select__token--single":this.props.single,"c-lazy_filter_select__token--highlighted":this.props.highlighted,"c-lazy_filter_select__token--disabled":this.props.disabled}),n=e.slugId?e.slugId:e.id,r="lfs-token-"+n,i=this.props.dataQaPrefix+"-item-"+n,o=a.a.createElement("div",{className:t,"data-id":n,"data-qa":i,id:r,key:"token-"+e.id,onClick:this.onClickHandler,tabIndex:-1},this.props.template(e));if(this.props.disabled){var s=Yt.t("Cannot be removed");return a.a.createElement(Ht.c,{position:"top",tip:s},o)}return o}}]),t}(r.PureComponent);Qt.displayName="LazyFilterSelectToken";var Xt=Qt;Qt.defaultProps=Wt;n("aTxa");var Zt=new Q.b("lazy_filter_select"),Jt={default:"normal",filter_in_list:"filter_in_list",normal:"normal",small:"small"},$t=(i.b.bool,i.b.bool,i.b.bool,i.b.number,i.b.number,i.b.func,i.b.string,i.b.bool,i.b.func,i.b.func,i.b.bool,i.b.array,i.b.string,i.b.func,i.b.number,i.b.number,i.b.bool,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.string,i.b.bool,i.b.number,i.b.bool,i.b.bool,i.b.any,i.b.string,i.b.func,i.b.oneOf(Object(St.a)(Jt)),i.b.bool,i.b.func,i.b.func,i.b.bool,i.b.bool,i.b.bool,{alwaysVisible:!1,allowItemUnselect:!0,allowListPositionAbove:!1,approxDividerHeight:30,approxItemHeight:30,dataPromise:null,dataQaPrefix:"lfs",disabled:!1,dividerTemplate:function(e){return e.label},filter:function(e,t){return e.toLowerCase().indexOf(t)>-1},forceListAbove:!1,items:[],inputClasses:null,listItemClass:I.a,maxHeightOfList:250,maxSelectedItems:1/0,noDefaultSelection:!1,noResultsTemplate:void 0,onInputBlur:I.a,onInputFocus:I.a,onItemAdded:I.a,onItemRemoved:I.a,onKeyDown:I.a,onKeyUp:I.a,onListHidden:I.a,onListShown:I.a,onMaxItemsSelected:I.a,onReady:I.a,onValueChange:I.a,placeholderText:void 0,restrictPreselectedItemRemoval:!1,scrollThreshold:1e3,single:!1,sluggifyEnabled:!1,sluggifyDelimiter:null,sluggifyKeyName:"",sluggifyValidator:I.a,styling:Jt.default,tabToNav:!1,template:function(e){return e.label},tokenTemplate:function(e){return e.label},hideList:!1,preventScroll:void 0,setSelected:!0}),en=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.fetchInitialList=n.fetchInitialList.bind(n),n.filterItems=n.filterItems.bind(n),n.getSelectedValue=n.getSelectedValue.bind(n),n.handlePromiseReturn=n.handlePromiseReturn.bind(n),n.hideList=n.hideList.bind(n),n.isRunningPromisePending=n.isRunningPromisePending.bind(n),n.listItemRenderer=n.listItemRenderer.bind(n),n.listNoRowsRenderer=n.listNoRowsRenderer.bind(n),n.onBlurInput=n.onBlurInput.bind(n),n.onChangeInput=n.onChangeInput.bind(n),n.onClickContainer=n.onClickContainer.bind(n),n.onClickItem=n.onClickItem.bind(n),n.onFocusInput=n.onFocusInput.bind(n),n.onFocusInputContainer=n.onFocusInputContainer.bind(n),n.onKeyDownInput=n.onKeyDownInput.bind(n),n.onKeyUpInput=n.onKeyUpInput.bind(n),n.onListScroll=n.onListScroll.bind(n),n.onMouseDownListContainer=n.onMouseDownListContainer.bind(n),n.onMouseLeaveContainer=n.onMouseLeaveContainer.bind(n),n.onMouseLeaveItem=n.onMouseLeaveItem.bind(n),n.onMouseMoveItem=n.onMouseMoveItem.bind(n),n.onMouseUpListContainer=n.onMouseUpListContainer.bind(n),n.onTokenClick=n.onTokenClick.bind(n),n.onTokenHighlight=n.onTokenHighlight.bind(n),n.runQuery=n.runQuery.bind(n),n.setListRef=n.setListRef.bind(n),n.showList=n.showList.bind(n),n.inputIsFocused=n.props.alwaysVisible,n.mouse={},n.pageNumber=1,n.preventBlur=!1,n.slugIdCounter=0,n.itemMapById={};var r=[],a=[];if(!n.props.dataPromise){var i=n.processItems(n.props.items);r=i.currentItems,a=i.selected}return n.state={activeItemKey:null,currentItems:r,cursorHighlightedItem:null,listVisible:n.props.alwaysVisible,previousVal:"",runningPromise:null,selected:a},n}return E()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.props.dataPromise&&this.fetchInitialList(),this.inputIsFocused&&this.input.focus(),this.props.onReady(this)}},{key:"componentDidUpdate",value:function(e){this.inputIsFocused&&this.input.focus(),e.hideList&&!this.props.hideList&&this.showList(),this.props.hideList&&this.hideList()}},{key:"onClickContainer",value:function(){this.input.focus(),this.inputIsFocused=!0,this.showList()}},{key:"onKeyDownInput",value:function(e){if(!this.props.disabled){var t=!1;switch(Dt()(e)){case"down":e.preventDefault(),t=!0,this.selectDown();break;case"up":e.preventDefault(),t=!0,this.selectUp();break;case"enter":e.preventDefault(),t=!0,this.selectActiveItem();break;case"del":case"delete":case"backspace":""===this.state.previousVal&&(e.preventDefault(),t=!0,this.state.cursorHighlightedItem?this.removeSelected(this.state.cursorHighlightedItem):this.removeLastSelected());break;case"tab":this.props.tabToNav&&(e.preventDefault(),t=!0,e.shiftKey?this.selectUp():this.selectDown());break;case"esc":this.hideList(),this.input.blur()}this.props.onKeyDown(e,t)}}},{key:"onKeyUpInput",value:function(e){if(!this.props.disabled){var t=e.target,n=t.selectionStart,r=n===t.selectionEnd&&0===n;switch(Dt()(e)){case"left":r&&this.maybeHighlightPreviousSelectedItem();break;case"right":r&&this.state.cursorHighlightedItem&&this.maybeHightlightNextSelectedItem();break;default:this.resetHighlightedSelectedItem()}this.props.onKeyUp(e,!1)}}},{key:"onMouseDownListContainer",value:function(){this.preventBlur=!0}},{key:"onMouseLeaveContainer",value:function(){this.preventBlur=!1}},{key:"onMouseMoveItem",value:function(e){if(!this.props.disabled){var t=this.mouse,n={lastX:e.clientX,lastY:e.clientY};if(!Object(N.a)(t,n)){var r=e.target.getAttribute("data-id");this.mouse=n,this.setState(function(){return{activeItemKey:r}}),this.List.forceUpdateGrid()}}}},{key:"onMouseLeaveItem",value:function(e){var t=this.state.mouse,n={lastX:e.clientX,lastY:e.clientY};Object(N.a)(t,n)||this.setState(function(){return{activeItemKey:null}})}},{key:"onMouseUpListContainer",value:function(){this.preventBlur&&this.input.focus()}},{key:"onBlurInput",value:function(){this.preventBlur||this.hideList(),this.inputIsFocused=!1,this.props.onInputBlur()}},{key:"onFocusInput",value:function(){this.inputIsFocused||this.props.disabled||(this.showList(),this.props.onInputFocus())}},{key:"onFocusInputContainer",value:function(){this.input.focus({preventScroll:this.props.preventScroll}),this.onFocusInput()}},{key:"onChangeInput",value:function(e){var t=this,n=e.target.value;this.pageNumber=1;var r=void 0;if(Bt(this.props)&&n.match(this.props.sluggifyDelimiter)){n.split(this.props.sluggifyDelimiter).forEach(function(e){e.length&&t.addUserCreatedSlugFromString(e)});var a=this.processItems(this.props.items,!1);r=a.currentItems,n=""}else r=this.runQuery(n);this.setState(function(){return{activeItemKey:null,currentItems:r,previousVal:n}}),this.List.forceUpdateGrid(),this.List.scrollToRow(0)}},{key:"onClickItem",value:function(e){if(!this.props.disabled&&this.isItemSelectable(e.id)){var t=this.state.selected.slice();if(!this.props.single&&this.props.allowItemUnselect&&this.isItemSelected(e))this.removeSelected(e);else if(Ft(this.state.selected.length,this.props.maxSelectedItems)){this.props.single&&(t=[]),t.push(e);var n=!this.props.single||this.props.alwaysVisible;this.inputIsFocused=!this.props.single;this.preventBlur=!1,this.setState(function(){return{listVisible:n,previousVal:"",selected:t}}),this.List.forceUpdateGrid(),this.props.onItemAdded(e),this.props.onValueChange(t),t.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}}}},{key:"onListScroll",value:function(e){var t=e.scrollTop;this.props.dataPromise&&(this.calculateListHeight()-t<=this.props.scrollThreshold&&t>0&&this.loadMoreItems())}},{key:"onTokenClick",value:function(e){this.removeSelected(e)}},{key:"onTokenHighlight",value:function(e){this.setState(function(t){var n=e;return t.cursorHighlightedItem&&t.cursorHighlightedItem.id===e.id&&(n=null),h()({},t,{cursorHighlightedItem:n})})}},{key:"getPlaceholderText",value:function(){return this.props.placeholderText||Zt.t("Choose an option\u2026")}},{key:"getSelectedValue",value:function(){return this.state.selected}},{key:"setListRef",value:function(e){this.List=e}},{key:"getItemById",value:function(e){return this.itemMapById[e]||!1}},{key:"maybeHightlightNextSelectedItem",value:function(){var e=this.state.selected;if(e.length){var t=this.state.cursorHighlightedItem,n=0;t&&(n=Object(Mt.a)(e,function(e){return e.id===t.id&&e.slugId===t.slugId})+1)>e.length&&(n=null),null!==n?(t=Object(xt.a)(e,function(e){return!e.group},n),Object(N.a)(this.state.cursorHighlightedItem,t)&&(t=null),t?this.setState(function(){return{cursorHighlightedItem:t}}):this.resetHighlightedSelectedItem()):this.resetHighlightedSelectedItem()}}},{key:"maybeHighlightPreviousSelectedItem",value:function(){var e=this.state.selected;if(e.length){var t=this.state.cursorHighlightedItem,n=e.length-1;t&&(n=Object(Mt.a)(e,function(e){return e.id===t.id&&e.slugId===t.slugId})-1),n>=0&&(t=Object(xt.a)(e,function(e){return!e.group},n))&&this.setState(function(){return{cursorHighlightedItem:t}})}}},{key:"resetHighlightedSelectedItem",value:function(){this.setState(function(){return{cursorHighlightedItem:null}})}},{key:"handlePromiseReturn",value:function(e){var t=e.items;return this.setState(function(){return{runningPromise:null}}),t.length?(e.replace_all_items||(t=Object(Tt.a)(this.state.currentItems.concat(t),"id")),this.processItems(t,this.props.setSelected),t):(this.List.forceUpdateGrid(),[])}},{key:"isRunningPromisePending",value:function(){return this.state.runningPromise&&this.state.runningPromise.isPending()}},{key:"addUserCreatedSlugFromString",value:function(e){if(Bt(this.props)&&Ft(this.state.selected.length,this.props.maxSelectedItems)){var t=e.trim();if(t){var n={};n[this.props.sluggifyKeyName]=t,n.id=null,n.label=t,n.slugId=String(this.slugIdCounter),this.slugIdCounter+=1;var r=this.props.sluggifyValidator(n);if(r||void 0===r){var a=this.state.selected.slice();a.push(n);this.setState(function(){return{previousVal:"",selected:a}}),this.props.onItemAdded(n),this.props.onValueChange(a),a.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}}}}},{key:"removeUserCreatedSlug",value:function(e){if(Bt(this.props)){var t=this.state.selected.slice(),n=Object(Rt.a)(t,function(t){return t.slugId===e.slugId});this.setState(function(){return{selected:n}}),this.List.forceUpdateGrid(),this.props.onItemRemoved(e),this.props.onValueChange(n)}}},{key:"unsluggifySlug",value:function(e){if(Bt(this.props)&&Ut(e)){var t=e.label;this.removeUserCreatedSlug(e),this.setState(function(){return{previousVal:t}})}}},{key:"processItems",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(e,t){var n=t.canSlug,r=t.noDefaultSelection,a=[],i=[],o={};return e.forEach(function(e){var t=e;n&&Ut(t)?i.push(t):(a.push(t),o[t.id]=t,(t.group||t.children&&t.children.length)&&(t.group=!0,t.children.forEach(function(e){var n=e;n.isChild=!0,n.parentId=t.id,a.push(n),o[n.id]=n,e.preselected&&!r&&i.push(n)})),t.preselected&&!r&&i.push(t))}),{currentItems:a,itemMapById:o,preselected:i}}(e,{canSlug:Bt(this.props),noDefaultSelection:this.props.noDefaultSelection}),r=n.currentItems,a=n.itemMapById,i=n.preselected;this.itemMapById=Object(Nt.a)(this.itemMapById,a);var o=this.state&&this.state.selected?this.state.selected:[],s=Object(Tt.a)(i.concat(o),"id");return this.props.single&&s.length&&(s=s.slice(0,1)),this.state&&(t?this.setState(function(){return{currentItems:r,selected:s}}):this.setState(function(){return{currentItems:r}})),{currentItems:r,selected:s}}},{key:"isItemSelectable",value:function(e){var t=this.getItemById(e);return!t.group&&((!t.preselected||!this.props.restrictPreselectedItemRemoval&&!t.preselected.disabled)&&(!!this.props.allowItemUnselect||!this.isItemSelected(t)))}},{key:"isItemSelected",value:function(e){return this.state.selected.filter(function(t){return e.slugId?t.slugId===e.slugId:t.id===e.id}).length>0}},{key:"listItemRenderer",value:function(e){var t=e.index,n=e.key,r=e.style,i=this.state.currentItems[t]||{},o=this.state.activeItemKey===i.id,s=i.preselected&&(this.props.restrictPreselectedItemRemoval||i.preselected.disabled)||i.disabled,c=this.isItemSelected(i),l=i.group?this.props.dividerTemplate:this.props.template,u=this.props.listItemClass(i);return a.a.createElement(zt,{active:o,dataQaPrefix:this.props.dataQaPrefix,disabled:s,item:i,key:"rlfs-list-item-"+n,onClick:this.onClickItem,onMouseLeave:this.onMouseLeaveItem,onMouseMove:this.onMouseMoveItem,selected:c,style:r,template:l,customClasses:u})}},{key:"listNoRowsRenderer",value:function(){return this.isRunningPromisePending()?a.a.createElement("div",{className:"c-lazy_filter_select__status c-lazy_filter_select__status--loading"},a.a.createElement(lt.a,{size:"large",className:"inline_block"})):a.a.createElement("div",{className:"c-lazy_filter_select__status"},this.renderNoResultsTemplate(this.state.previousVal))}},{key:"calculateListHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.maxHeightOfList,n=this.state.currentItems.length*this.props.approxItemHeight;return e?Math.min(Math.max(n,30),t):n}},{key:"filterItems",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.previousVal).toLowerCase(),n=this.props.items,r=[];return n.forEach(function(n){if(n.group){var a=n.children.filter(function(n){return e.props.filter(n.label,t)});a.length&&(r=r.concat(n,a))}else e.props.filter(n.label,t)&&r.push(n)}),r}},{key:"hideList",value:function(){if(!this.props.alwaysVisible){this.setState(function(){return{listVisible:!1}}),this.props.onListHidden()}}},{key:"loadMoreItems",value:function(){if(!this.props.dataPromise)return this.state.currentItems;var e=this.state.runningPromise;return this.isRunningPromisePending()&&e.cancel("Scrolling happened"),this.pageNumber+=1,e=this.props.dataPromise(this.state.previousVal,this.pageNumber).then(this.handlePromiseReturn),this.setState(function(){return{runningPromise:e}}),e}},{key:"removeLastSelected",value:function(){var e=this.state.selected.slice(-1)[0];Bt(this.props)&&Ut(e)?this.unsluggifySlug(e):this.removeSelected(e)}},{key:"removeSelected",value:function(e){if(e&&!e.disabled){var t=this.state.selected.slice();if(Ut(e))this.removeUserCreatedSlug(e);else{var n=Object(Rt.a)(t,function(t){return t.id===e.id}),r=this.state.currentItems.map(function(t){var n=t;return n.id===e.id&&(n.preselected=!1),n});this.setState(function(){return{currentItems:r,cursorHighlightedItem:null,selected:n}}),this.List.forceUpdateGrid(),this.props.onItemRemoved(e),this.props.onValueChange(n)}}}},{key:"fetchInitialList",value:function(){var e=this;if(this.props.dataPromise){var t=this.state.runningPromise;this.isRunningPromisePending()&&t.cancel("Uhhh ... ?"),t=this.props.dataPromise("",this.pageNumber).then(function(t){var n=t.items,r=e.processItems(n),a=r.currentItems,i=r.selected;e.setState(function(){return{currentItems:a,selected:i,runningPromise:null}})}),this.setState(function(){return{runningPromise:t}})}}},{key:"runQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.previousVal;if(this.props.dataPromise){var t=this.state.runningPromise;return this.isRunningPromisePending()&&t.cancel("User entered more text"),this.pageNumber=1,t=this.props.dataPromise(e,this.pageNumber).then(this.handlePromiseReturn),this.setState(function(){return{runningPromise:t}}),[]}return this.filterItems(e)}},{key:"selectDown",value:function(){if(!this.props.disabled){this.state.listVisible||this.showList();var e=this.state.currentItems;if(e){var t=this.state.activeItemKey,n=0;t&&(n=Object(Mt.a)(e,function(e){return e.id===t})+1)>e.length&&(n=e.length);var r=Object(Pt.a)(e,function(e){return!e.group},n);r&&(t=r.id,n=Object(Mt.a)(e,function(e){return e.id===r.id}),this.setState(function(){return{activeItemKey:t}}),this.List.forceUpdateGrid(),this.List.scrollToRow(n))}}}},{key:"selectUp",value:function(){if(!this.props.disabled){this.state.listVisible||this.showList();var e=this.state.currentItems;if(e){var t=this.state.activeItemKey,n=e.length-1;t&&(n=Object(Mt.a)(e,function(e){return e.id===t})-1)<0&&(n=0);var r=Object(xt.a)(e,function(e){return!e.group},n);r&&(t=r.id,n=Object(Mt.a)(e,function(e){return e.id===r.id}),this.setState(function(){return{activeItemKey:t}}),this.List.forceUpdateGrid(),this.List.scrollToRow(n))}}}},{key:"selectActiveItem",value:function(){var e=this.state.activeItemKey;if(e&&Ft(this.state.selected.length,this.props.maxSelectedItems)&&this.isItemSelectable(e)){var t=this.getItemById(e);if(!this.props.single&&this.props.allowItemUnselect&&this.isItemSelected(t))this.removeSelected(t);else{var n=this.state.selected.slice();this.props.single&&(n=[]),n.push(t);var r=!this.props.single;this.inputIsFocused=!this.props.single;this.preventBlur=!1,this.setState(function(){return{listVisible:r,previousVal:"",selected:n}}),this.List.forceUpdateGrid(),this.props.onItemAdded(t),this.props.onValueChange(n),n.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}}}},{key:"showList",value:function(){if(!this.state.listVisible&&!this.props.disabled){!this.props.dataPromise||this.state.previousVal||this.state.currentItems.length||this.fetchInitialList(),this.props.preventScroll||(this.inputIsFocused=!0);var e=this.state.previousVal;this.props.single&&!this.props.alwaysVisible&&(e=""),this.setState(function(){return{listVisible:!0,previousVal:e}}),this.props.onListShown()}}},{key:"renderSelected",value:function(){var e=this,t="";if(!this.props.single||!this.state.listVisible||this.props.alwaysVisible){var n=this.state.cursorHighlightedItem;t=this.state.selected.map(function(t){var r=t.id||t.slugId,i=n&&n.id===t.id&&n.slugId===t.slugId,o=t.preselected&&(e.props.restrictPreselectedItemRemoval||t.preselected.disabled)||t.disabled;return a.a.createElement(Xt,{dataQaPrefix:e.props.dataQaPrefix,disabled:o,highlighted:i,item:t,key:"rlfs-token-"+r,onClick:e.onTokenClick,onHighlight:e.onTokenHighlight,single:e.props.single,template:e.props.tokenTemplate})})}return t}},{key:"renderNoResultsTemplate",value:function(e){var t=this.props.noResultsTemplate;return t&&"function"==typeof t?t(e):Zt.rt("No items matched <strong>{query}</strong>",{query:e})}},{key:"render",value:function(){var e=this,t=B()("c-lazy_filter_select","c-lazy_filter_select--"+this.props.styling,{"c-lazy_filter_select--single":this.props.single}),n=B()("c-lazy_filter_select__input_container",this.props.inputClasses,{"c-lazy_filter_select__input_container--active":this.inputIsFocused,"c-lazy_filter_select__input_container--value":this.state.selected.length}),r=B()("c-lazy_filter_select__list_container",{"c-lazy_filter_select__list_container--visible":this.state.listVisible,"c-lazy_filter_select__list_container--above":this.props.forceListAbove}),i=this.props.dataQaPrefix+"-value",o=this.props.dataQaPrefix+"-input-value",s={"aria-autocomplete":"list","aria-owns":"c-lazy_filter_select__list_container","aria-expanded":this.state.listVisible,role:"combobox"};if(this.state.cursorHighlightedItem){var c=this.state.cursorHighlightedItem,l=c.id||c.slugId;s["aria-activedescendant"]="lfs-token-"+l}else this.state.activeItemKey&&(s["aria-activedescendant"]="lfs-item-"+this.state.activeItemKey);var u=this.state.selected.length?"":this.getPlaceholderText(),d={};return this.state.previousVal.length?d.size=this.state.previousVal.length+1:this.state.selected.length&&(d.size=1),a.a.createElement("div",{className:t,"data-qa":this.props.dataQaPrefix,onClick:this.onClickContainer,onMouseLeave:this.onMouseLeaveContainer,role:"presentation"},a.a.createElement("div",{className:n,"data-qa":i,onFocus:this.onFocusInputContainer,onBlur:this.onBlurInput},a.a.createElement("div",{className:"c-lazy_filter_select__value"},this.renderSelected(),a.a.createElement("input",h()({},s,d,{className:"c-lazy_filter_select__input c-input_text","data-qa":o,onBlur:this.onBlurInput,onChange:this.onChangeInput,onFocus:this.onFocusInput,onKeyDown:this.onKeyDownInput,onKeyUp:this.onKeyUpInput,placeholder:u,ref:function(t){e.input=t},type:"text",value:this.state.previousVal})))),a.a.createElement(Lt.a,null,function(t){var n=t.width;return a.a.createElement("div",{className:r,id:"c-lazy_filter_select__list_container",onMouseDown:e.onMouseDownListContainer,onMouseUp:e.onMouseUpListContainer,role:"listbox"},a.a.createElement("div",{className:"c-lazy_filter_select__list"},a.a.createElement(qt.a,{height:e.calculateListHeight(!0),noRowsRenderer:e.listNoRowsRenderer,onScroll:e.onListScroll,ref:e.setListRef,rowCount:e.state.currentItems.length,rowHeight:e.props.approxItemHeight,rowRenderer:e.listItemRenderer,width:n-10})))}))}}]),t}(r.PureComponent);en.displayName="LazyFilterSelect";var tn=en;en.defaultProps=$t;var nn=tn,rn=(i.b.string,i.b.object,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalItemCopy,n=e.item;return a.a.createElement("div",{className:"c-lazy_filter_select__team_token",key:"team-token-"+n.id},a.a.createElement("img",{alt:"",className:"c-lazy_filter_select__team_token_icon",src:n.team.icon.image_44}),a.a.createElement("div",{className:"c-lazy_filter_select__team_token_name"},Object(z.e)(n.team)," ",t&&a.a.createElement("span",null," - ",t)))}}]),t}(r.PureComponent));rn.displayName="LazyFilterSelectTeamToken";var an=rn;rn.defaultProps={additionalItemCopy:"",item:{}};i.b.string,i.b.object;var on=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalItemCopy,n=e.item,r=n.team.icon.image_44+" 1x, "+n.team.icon.image_88+" 2x";return a.a.createElement("div",{className:"c-lazy_filter_select__team_item",key:"team-list-item-"+n.id},a.a.createElement("img",{alt:"",className:"c-lazy_filter_select__team_list_icon",src:n.team.icon.image_44,srcSet:r}),a.a.createElement("div",{className:"c-lazy_filter_select__team_token_name"},Object(z.e)(n.team)," ",t&&a.a.createElement("span",null," - ",t)))}}]),t}(r.PureComponent);on.displayName="LazyFilterSelectTeamListItem";var sn=on;on.defaultProps={additionalItemCopy:"",item:{}};var cn=new Q.b("channel_options"),ln=(i.b.object,i.b.string,i.b.arrayOf(i.b.string),i.b.func,i.b.bool,i.b.func,i.b.func,i.b.string,i.b.arrayOf(i.b.string),i.b.string,i.b.string,i.b.bool,{channel:null,orgName:"",disabledTeamIds:[],filterFunction:null,isLoaded:!1,onShareWithChange:I.a,onTeamPickerChange:I.a,originatingTeamId:"",preselectedTeamIds:[],enterpriseId:void 0,shareWith:"specific",featureSonicChannelOptions:!1}),un=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(te.a)(n,["renderOption","onSelectedItemsChange","filterItemsFromSearch"]),n}return E()(t,e),O()(t,[{key:"onSelectedItemsChange",value:function(e){var t=this.props;(0,t.onTeamPickerChange)(e,t.originatingTeamId)}},{key:"filterItemsFromSearch",value:function(e){var t=this.props,n=t.originatingTeamId,r=t.enterpriseId;return e.id!==n&&e.id!==r}},{key:"maybeRenderWorkspacePicker",value:function(){var e=this.props,t=e.disabledTeamIds,n=e.filterFunction,r=e.onTeamPickerChange,i=e.originatingTeamId,o=e.preselectedTeamIds,s=e.shareWith,c=e.featureSonicChannelOptions;if("all"===s)return null;var l=o.filter(function(e){return e!==i}).map(function(e){return{value:e}});if(c)return a.a.createElement("div",{className:"margin_left_150"},a.a.createElement(Ct.b,{selectedOptions:l,renderOption:this.renderOption,width:"100%",selectId:"manage_workspace_access_team_picker",onSelectedItemsChange:this.onSelectedItemsChange,placeholderText:cn.t("Type a team name ..."),searcherOptions:{entities:{teams:!0},sort:{frecency:!1},limit:50,allowEmptyQuery:!0,filter:this.filterItemsFromSearch}}));var u=void 0;return u=n||Object($.d)({preselected_ids:o,disabled_ids:t}),a.a.createElement("div",{className:"margin_left_150"},a.a.createElement(nn,{approxItemHeight:32,dataPromise:u,onValueChange:r,placeholderText:cn.t("Add workspaces"),template:function(e){var t={item:e};return e.team.id===i&&(t.additionalItemCopy=cn.t("Owner")),a.a.createElement(sn,t)},tokenTemplate:function(e){var t={item:e};return e.team.id===i&&(t.additionalItemCopy=cn.t("Owner")),a.a.createElement(an,t)}}))}},{key:"renderOption",value:function(e){return a.a.createElement("div",{className:"p-channel-options--workspace_access_list"}," ",a.a.createElement(wt.b,{className:"p-channel-options--workspace_access_list_item",id:e.value}),a.a.createElement("div",{className:"p-channel-options--workspace_access_list_item"},a.a.createElement(It.a,{id:e.value})," "))}},{key:"renderAllWorkspaces",value:function(){var e=this.props,t=e.onShareWithChange,n=e.shareWith,r=e.orgName,i={className:"small_right_margin",id:"all-workspaces",name:"share_with",onClick:t,value:"all"};return"all"===n&&(i.defaultChecked="checked"),a.a.createElement(xe.a,{type:"inline",cursor:"pointer",className:"p-channel_options--input_label",htmlFor:"all-workspaces",text:cn.t("All {orgName} workspaces",{orgName:r})},a.a.createElement(ut.a,i))}},{key:"renderSpecificWorkspaces",value:function(){var e=this.props,t=e.onShareWithChange,n=e.shareWith,r=e.originatingTeamId,i=e.orgName,o=e.featureSonicChannelOptions,s={className:"small_right_margin",id:"specific-workspaces",name:"share_with",onClick:t,value:"specific"};"specific"===n&&(s.defaultChecked="checked");var c=cn.t("Specific {orgName} workspaces",{orgName:i});return o&&(c=cn.rt("{ownerName}, plus specific {orgName} workspaces",{ownerName:a.a.createElement(It.a,{id:r}),orgName:i})),a.a.createElement("div",null,a.a.createElement(xe.a,{type:"inline",cursor:"pointer",className:"p-channel_options--input_label",htmlFor:"specific-workspaces",text:c},a.a.createElement(ut.a,s)),this.maybeRenderWorkspacePicker())}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.isLoaded,r=e.orgName;if(!n)return a.a.createElement("div",{className:"p-channel_options--option_spinner"},a.a.createElement(lt.a,{size:"jumbo"}));var i=void 0;return i=Object(u.xb)(t)?cn.rt("Members of the {org_name} workspaces you select will be able to join {channel_name}, if invited.",{org_name:r,channel_name:a.a.createElement(Te.a,{channel:t})}):cn.rt("Choose which {org_name} workspaces can find and join <strong>{channel_name}</strong>.",{org_name:r,channel_name:a.a.createElement(Te.a,{channel:t})}),a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,i),this.renderSpecificWorkspaces(),this.renderAllWorkspaces())}}]),t}(r.PureComponent);un.displayName="ManageWorkspaceAccess",un.defaultProps=ln;var dn=Object(M.b)(function(e){return{orgName:Object(H.e)(e),enterpriseId:Object(A.a)(e),featureSonicChannelOptions:Object(c.j)(e,"feature_sonic_channel_options")}})(un),bn=n("OtLZ"),pn=n("zmn3"),hn=n("0VPD"),mn=n("Wy5O"),fn=n("46+D"),vn=new Q.b("channel_options"),gn=(i.b.array,i.b.object.isRequired,i.b.bool,i.b.string,i.b.string,i.b.string,i.b.string.isRequired,i.b.arrayOf(i.b.string),i.b.func.isRequired,function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.pointCounter=0,n}return E()(t,e),O()(t,[{key:"makeChannelName",value:function(){var e=this.props,t=e.channel,n=e.newChannelName;return n&&n.length?n:Object(u.w)(t)}},{key:"makeTeamNamesList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props,n=t.teamIdsSelected,r=t.teamId,i=Object(P.getStateByTeamId)(r),o=e.length?e:n;if(o.length>=5)return vn.t("{workspaceCount} workspaces",{workspaceCount:o.length});var s=Object(pn.a)(o,function(e){var t=Object(H.i)(i,e);return Object(z.L)(t)?a.a.createElement(fn.a,{type:"unknown"}):Object(z.e)(t)});return 1===s.length?s[0]:Object(Q.h)(s,{react:!0,strong:!0})}},{key:"renderChangesDetails",value:function(){var e=this,t=this.props,n=t.allEnterpriseTeams,r=t.channel,i=t.channelIsGlobalShared,o=t.orgName,s=t.shareWith,c=t.teamIdsSelected,l=t.internalTeamIds,d=Object(pn.a)(n,"id"),b=i?d:l,p=Object(mn.a)(c,l),m=bn.a.apply(void 0,[b].concat(f()(c))),v=bn.a.apply(void 0,[Object(hn.a)(d,b)].concat(f()(m))),g=[],_=function(t,n,r){e.pointCounter+=1,g.push({data:t,key:e.pointCounter,isHeading:!!n,iconType:r})},O=[],y={channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(p)},j=function(e){var t=e.key,n=e.tag,i=e.text;return"span"===n?a.a.createElement("strong",{key:t},Ae(t,r,i)):a.a.createElement("strong",{key:t},i)};return"all"===s?(_(vn.rt("Share <span>{channelName}</span> with all of <strong>{orgName}</strong>.",{channelName:this.makeChannelName(),orgName:o},j),!0,"ts_icon_org_shared_channel"),Object(u.xb)(r)?_(vn.rt("If invited, members of <strong>{orgName}</strong> will be able to join the channel and see its message history and files.",{orgName:o,channelName:this.makeChannelName()},j)):(_(vn.rt("All members of <strong>{orgName}</strong> will be able to find and join the channel and see its message history and files.",{orgName:o})),_(vn.t("Members of any workspaces created in the future will also have access."))),_(vn.rt("The channel will be notified of these changes."))):(i&&_(vn.rt("Stop sharing <span>{channelName}</span> with {teamNames}.",{channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(m)},j),!0,"ts_icon_warning"),!i&&p.length&&(_(vn.rt("Share <span>{channelName}</span> with members of {teamNames}.",y,j),!0,"ts_icon_org_shared_channel"),Object(u.xb)(r)?p.length>1?_(vn.rt("If invited, members of these workspaces will be able to join the channel and see its message history and files.")):_(vn.rt("If invited, members of this workspace will be able to join the channel and see its message history and files.")):p.length>1?_(vn.rt("All members of these workspaces will be able to find and join the channel and see its message history and files.")):_(vn.rt("All members of this workspace will be able to find and join the channel and see its message history and files."))),p.length&&!m.length&&_(vn.rt("The channel will be notified of these changes.")),m.length&&(i||_(vn.rt("Stop sharing <span>{channelName}</span> with {teamNames}.",{channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(m)},j),!0,"ts_icon_warning"),m.length>1?_(vn.rt("Members of these workspaces will lose access to this channel\u2019s message history and files.")):_(vn.rt("All members of {workspace} will lose access to this channel\u2019s message history and files.",{workspace:this.makeTeamNamesList(m)})),m.length>1?_(vn.rt("Apps installed by members of these workspaces will need to be installed again.")):_(vn.rt("Apps installed by members of {workspace} will need to be added again.",{workspace:this.makeTeamNamesList(m)})),v.length&&_(vn.rt("Members of {workspaces} will continue to have access to this channel.",{workspaces:this.makeTeamNamesList(v)})),_(vn.rt("The channel will be notified of these changes.")))),_(vn.rt("<a>Learn more</a> about sharing channels within your organization.",null,function(e){var t=e.key,n=e.text;return a.a.createElement(se.a,{key:t,href:"https://get.slack.help/hc/en-us/articles/115001399587-Create-a-shared-channel-on-Enterprise-Grid#how-they-work",target:"_blank",rel:"noopener noreferrer"},n)})),g.forEach(function(e){var t={className:e.isHeading?"p-channel-options--workspace_access_heading":"p-channel-options--workspace_access_line_item"};O.push(a.a.createElement("p",h()({key:e.key},t),e.iconType&&a.a.createElement("ts-icon",{class:e.iconType}),e.data))}),a.a.createElement("div",{className:"p-channel-options--content_text"},O)}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderChangesDetails())}}]),t}(r.Component));gn.displayName="ManageWorkspaceAccessReview",gn.defaultProps={allEnterpriseTeams:[],channelIsGlobalShared:!1,newChannelName:"",orgName:"",shareWith:"specific",teamIdsSelected:[]};var _n=Object(M.b)(function(e,t){var n=t.channel;return{channelIsGlobalShared:Object(u.qb)(n),orgName:Object(H.e)(e),teamId:Object(A.b)(e),allEnterpriseTeams:Object(H.a)(e),internalTeamIds:Object(u.B)(e,n)}})(gn),On=n("TnU2"),yn=(i.b.any,i.b.string,i.b.bool,i.b.any.isRequired,i.b.func.isRequired,i.b.string.isRequired,i.b.string,{children:null,dataActionTag:"",isDisabled:!1,badgeLabel:void 0}),jn=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.dataActionTag,r=e.isDisabled,i=e.message,o=e.onClick,s=e.title,c=e.badgeLabel,l=B()("channel_option_item",{"channel_option_item--disabled":r}),u=r?I.a:o;return a.a.createElement(Ve.c,{className:l,"data-action":n,onClick:u,type:"link"},a.a.createElement("h3",{className:"title"},s," ",c&&a.a.createElement(On.a,{className:"margin_left_50"},c)),a.a.createElement("p",{className:"sk_dark_grey no_bottom_margin"},i),t,a.a.createElement("div",{className:"channel_option_open"},a.a.createElement(Me.a,{className:"c-deprecated-icon--inherit",type:"arrow_large_right"})))}}]),t}(r.PureComponent);jn.displayName="Option",jn.defaultProps=yn;var kn=jn,En=new Q.b("channel_options"),Cn=(i.b.object,i.b.bool,i.b.bool,i.b.string,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func,i.b.string,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool,i.b.string,i.b.node,i.b.bool,i.b.bool,i.b.arrayOf(i.b.object),i.b.bool,i.b.object,i.b.bool,i.b.bool,i.b.bool,i.b.bool,{channel:{},disableRename:!1,isAdminUser:!1,modalClasses:"",onClickArchive:I.a,onClickCancelExternalSharedChannelInvite:I.a,onClickConvertToPrivate:I.a,onClickDelete:I.a,onClickExport:I.a,onClickManageOrgAccess:I.a,onClickPostingPermissions:I.a,onClickPurpose:I.a,onClickRename:I.a,onClickShareExternal:I.a,onClickStopShareExternal:I.a,orgName:"",showSuccessAlert:!1,successAlertHeading:"",successAlertText:"",externalTeams:[],showManagePostingPermissionsNewBadge:!1,team:{},featureEscDisconnectV2ReleaseDependentCopy:!1,featureSharedChannelsBlockLargeOrgs:!1,featureSharedChannelsNetwork:!1,channelIsHostedByAnotherTeam:!1,featureChangePurposeToDescription:!1,featureAnnounceOnly:!1}),In=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"maybeRenderEscDeleteWarning",value:function(){var e=this.props,t=e.channel;if(e.featureEscDisconnectV2ReleaseDependentCopy&&Object(u.Y)(t)){var n=Object(u.ub)(t)?En.rt("To delete this channel, first you\u2019ll need to cancel any pending share invitations."):En.rt("To delete this channel, first you\u2019ll need to stop sharing it.");return this.renderEscWarning(n,"delete")}return null}},{key:"maybeRenderEscArchiveWarning",value:function(){var e=this.props,t=e.channel;if(e.featureEscDisconnectV2ReleaseDependentCopy&&Object(u.Y)(t)){var n=Object(u.ub)(t)?En.rt("To archive this channel, first you\u2019ll need to cancel any pending share invitations."):En.rt("To archive this channel, first you\u2019ll need to stop sharing it.");return this.renderEscWarning(n,"archive")}return null}},{key:"renderEscWarning",value:function(e,t){return a.a.createElement(oe.a,{type:"inline",level:"default",className:"channel_option_item__alert top_margin","data-qa":"option-list-"+t+"-disabled-alert"},e)}},{key:"renderArchive",value:function(){var e=this.props,t=e.onClickArchive,n=e.channel,r=e.featureEscDisconnectV2ReleaseDependentCopy&&Object(u.Y)(n);return a.a.createElement(kn,{dataActionTag:"archive",isDisabled:r,message:En.t("If you don\u2019t think it will be used anymore and you want to clean up, archive it. The channel can be unarchived later (but everyone will have been removed)."),onClick:t,title:En.t("Archive this channel")},this.maybeRenderEscArchiveWarning())}},{key:"renderShareExternal",value:function(){var e=this,t=this.props,n=t.channel,r=t.isAdminUser,i=t.onClickShareExternal,o=t.externalTeams,s=t.featureSharedChannelsBlockLargeOrgs,c=t.featureSharedChannelsNetwork,l=!1,d=null,b=En.t("Share with another organization"),p=En.rt("In a shared channel, people from two separate organizations can send messages, share files, and work together in Slack. <a>Learn more</a>",null,function(e){var t=e.text,n=e.key;return a.a.createElement(se.a,{key:n,href:"https://get.slack.help/hc/articles/115004151203",target:"_blank",rel:"noopener noreferrer"},t)});if(Object(u.sb)(n)){if(s)return null;l=!0,d=a.a.createElement(oe.a,{type:"inline",level:"default",className:"channel_option_item__alert top_margin margin_bottom_100","data-qa":"option-list-ext-shared-disabled-alert"},En.t("Multi-workspace channels can\u2019t be shared outside your organization."))}if(Object(u.Z)(n)){l=!0;var h=En.t("This channel was previously shared and can\u2019t be shared again.");d=a.a.createElement(oe.a,{type:"inline",level:"warning",className:"channel_option_item__alert top_margin margin_bottom_100","data-qa":"option-list-ext-shared-dc-alert"},h)}if(o.length>=11&&c){l=!0;var m=En.t("This channel has reached the limit of number of workspaces allowed per-channel.");d=a.a.createElement(oe.a,{type:"inline",level:"warning",className:"channel_option_item__alert top_margin margin_bottom_100","data-qa":"option-list-ext-shared-dc-alert"},m)}if(Object(u.ub)(n)){l=!c;var f=o.map(function(e){return e.name}),v=Object(Q.h)(f,{react:!0,strong:!0}),g=En.rt("{listified_pending_team_name} was already invited to this channel.",{listified_pending_team_name:v}),_="";if(r){var O=o[0].id;_=a.a.createElement(se.a,{onClick:function(){return e.props.onClickCancelExternalSharedChannelInvite(O)},"data-qa":"option-list-cancel-invite"},En.t("Cancel invitation"))}d=a.a.createElement(oe.a,{type:"inline",level:"warning",className:"channel_option_item__alert top_margin_0 margin_bottom_100 margin_left_75 margin_right_300","data-qa":"option-list-ext-shared-pending-alert"},g,"\xa0",_)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(kn,{dataActionTag:"share_external",isDisabled:l,message:p,onClick:i,title:b,"data-qa":"options-list-share-external"}),d)}},{key:"renderStopShareExternal",value:function(){var e=this.props,t=e.team,n=e.onClickStopShareExternal,r=e.externalTeams,i=e.featureEscDisconnectV2ReleaseDependentCopy,o=e.channelIsHostedByAnotherTeam,s=r.map(function(e){return e.name}),c=Object(Q.h)(s,{react:!0,strong:!1}),l=Object(Q.h)(s,{react:!0,strong:!0}),u=En.t("Stop sharing this channel");i&&(u=o?En.rt("Disconnect {team_name} from this channel",{team_name:Object(z.e)(t)}):En.rt("Stop sharing this channel with {external_org_names}",{external_org_names:c}));var d=En.t("You can stop sharing this channel at any time. Note that you won\u2019t be able to re-share this channel in the future.");return d=i?o?En.t("If your organization no longer needs access to this channel, you can simply disconnect. You\u2019ll keep an archived copy of the channel\u2019s contents up to this point."):En.rt("You can stop sharing this channel whenever you\u2019d like. {externalTeamCount, plural, =1 {{external_org_names} will receive a copy of the channel\u2019s contents up to this point.} other {{external_org_names} will receive a copy of the channel\u2019s contents up to this point.}}",{external_org_names:c,externalTeamCount:s.length}):En.rt("This can\u2019t be undone. You won\u2019t be able to share this channel with {external_org_names}, or any other organization, ever again.",{external_org_names:l}),a.a.createElement(kn,{dataActionTag:"stop_share_external",title:u,message:d,onClick:n})}},{key:"renderConvertToPrivate",value:function(){var e=this.props.onClickConvertToPrivate;return a.a.createElement(kn,{dataActionTag:"convert_private",title:En.t("Change to a private channel"),message:En.t("Private channels can only be joined if you are added by a current member \u2014 they won\u2019t show up in your channel browser. This change can\u2019t be undone."),onClick:e})}},{key:"renderManageOrgAccess",value:function(){var e=this.props,t=e.channel,n=e.onClickManageOrgAccess,r=e.orgName,i=Object(u.Y)(t)||Object(u.Z)(t),o=void 0;o=Object(u.xb)(t)?En.t("Manage which members of {org_name} can be invited to join this channel.",{org_name:r}):En.t("Manage which members of {org_name} can find and join this channel.",{org_name:r});var s=En.t("Add to other {org_name} workspaces",{org_name:r}),c=null;return Object(u.Z)(t)?c=a.a.createElement(oe.a,{type:"inline",level:"default",className:"channel_option_item__alert top_margin margin_bottom_100","data-qa":"option-list-manage-org-dc-alert"},En.t("Since this channel was previously shared with another organization, it can\u2019t be added to any other {org_name} workspaces.",{org_name:r})):Object(u.Y)(t)&&(c=a.a.createElement(oe.a,{type:"inline",level:"default",className:"channel_option_item__alert top_margin margin_bottom_100","data-qa":"option-list-manage-org-ext-alert"},En.t("Channels shared with another organization can\u2019t be added to other {org_name} workspaces.",{org_name:r}))),a.a.createElement(kn,{dataActionTag:"convert_ent_shared",message:o,onClick:n,title:s,isDisabled:i,"data-qa":"options-list-add-org"},c)}},{key:"renderRename",value:function(){var e=this.props,t=e.disableRename,n=e.onClickRename,r="";return t&&(r=a.a.createElement(oe.a,{type:"inline",level:"warning",className:"channel_option_item__alert top_margin margin_bottom_100"},En.t("You don\u2019t have permission to rename this channel."))),a.a.createElement(kn,{dataActionTag:"rename",isDisabled:t,message:En.t("You can rename a channel at any time. But, use it sparingly: it might confuse or disorient your colleagues!"),onClick:n,title:En.t("Rename this channel")},r)}},{key:"renderPurpose",value:function(){var e=this.props,t=e.onClickPurpose,n=e.featureChangePurposeToDescription,r=void 0;r=n?En.t("Set the channel description"):En.t("Set the channel purpose");var i=void 0;return i=n?En.t("Channel descriptions are especially useful to new members choosing which conversations to join."):En.t("Channel purposes are especially useful to new members choosing which conversations to join."),a.a.createElement(kn,{dataActionTag:"set_purpose",message:i,onClick:t,title:r})}},{key:"renderPostingPermissions",value:function(){var e=this.props,t=e.onClickPostingPermissions,n=e.showManagePostingPermissionsNewBadge,r=e.featureAnnounceOnly;return a.a.createElement(kn,{dataActionTag:"posting_permissions",message:En.t("Change who is allowed to post messages in this channel."),onClick:t,title:En.t("Manage posting permissions"),badgeLabel:n&&r?En.t("NEW"):null})}},{key:"renderExport",value:function(){var e=this.props.onClickExport;return a.a.createElement(kn,{dataActionTag:"export",message:En.t("Export the messages in this conversation as a JSON file."),onClick:e,title:En.t("Export message history")})}},{key:"renderDelete",value:function(){var e=this.props,t=e.onClickDelete,n=e.channel,r=e.featureEscDisconnectV2ReleaseDependentCopy&&Object(u.Y)(n);return a.a.createElement(kn,{dataActionTag:"delete",isDisabled:r,message:En.t("Deleting a channel will permanently remove all of its messages. This cannot be undone."),onClick:t,title:En.t("Delete this channel")},this.maybeRenderEscDeleteWarning())}},{key:"renderSuccessAlert",value:function(){var e=this.props,t=e.successAlertHeading,n=e.successAlertText,r={level:"success",heading:t,className:"margin_bottom_100"};return a.a.createElement(oe.a,r,a.a.createElement("span",null,n))}},{key:"render",value:function(){var e=this.props,t=e.showArchive,n=e.showConvertToPrivate,r=e.showDelete,i=e.showExport,o=e.showPostingPermissions,s=e.showPurpose,c=e.showRename,l=e.showShareExternal,u=e.showStopShareExternal,d=e.showManageOrgAccess,b=e.showSuccessAlert,p=e.modalClasses,h=e.featureAnnounceOnly;return a.a.createElement("div",{className:p,role:"presentation"},b&&this.renderSuccessAlert(),h&&o&&this.renderPostingPermissions(),t&&this.renderArchive(),l&&this.renderShareExternal(),u&&this.renderStopShareExternal(),n&&this.renderConvertToPrivate(),d&&this.renderManageOrgAccess(),c&&this.renderRename(),s&&this.renderPurpose(),!h&&o&&this.renderPostingPermissions(),i&&this.renderExport(),r&&this.renderDelete())}}]),t}(r.PureComponent);In.displayName="OptionsList",In.defaultProps=Cn;var wn=Object(M.b)(function(e,t){var n=t.channel,r=Object(U.b)(e),a=(Object(Y.X)(r)||Object(Y.vb)(r))&&!Object(u.sb)(n),i=[];return(Object(u.Y)(n)||Object(u.ub)(n))&&(i=Object(u.M)(e,n).map(function(t){return Object(H.i)(e,t)})),{team:Object(H.d)(e),orgName:Object(H.e)(e),isAdminUser:r.is_admin,externalTeams:i,showManagePostingPermissionsNewBadge:a,channelIsHostedByAnotherTeam:Object(u.db)(e,n),featureSharedChannelsBlockLargeOrgs:Object(c.j)(e,"feature_shared_channels_block_large_orgs"),featureEscDisconnectV2ReleaseDependentCopy:Object(c.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),featureChangePurposeToDescription:Object(c.j)(e,"feature_change_purpose_to_description"),featureAnnounceOnly:Object(c.j)(e,"feature_announce_only"),featureSharedChannelsNetwork:Object(c.j)(e,"feature_shared_channels_network")}},{})(In),Sn=n("YEIV"),Tn=n.n(Sn),Rn=n("owWc"),Nn=n("bPB8"),xn=n("vSXf"),Mn=n("TegG"),Pn=(i.b.object,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props.item;if(!e)return null;var t=e.member.profile||e.member.member&&e.member.member.profile;if(!t)return null;var n=t.image_48+" 1x, "+t.image_72+" 2x";return a.a.createElement("div",{className:"c-lazy_filter_select__member_item"},a.a.createElement("img",{alt:"",className:"c-lazy_filter_select__member_list_icon",src:t.image_48,srcSet:n}),a.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},t.real_name),a.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},"@",e.member.name))}}]),t}(r.PureComponent));Pn.displayName="LazyFilterSelectMemberListItem";var An=Pn;Pn.defaultProps={item:{}};i.b.object;var Dn=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props.item;return a.a.createElement("div",{className:"c-lazy_filter_select__user_group_item"},a.a.createElement("div",{className:"c-lazy_filter_select__user_group_token_name"},e.user_group.name))}}]),t}(r.PureComponent);Dn.displayName="LazyFilterSelectUserGroupListItem";var Ln=Dn;function qn(e){return e.member?a.a.createElement(An,{item:e}):a.a.createElement(Ln,{item:e})}Dn.defaultProps={item:{}},qn.displayName="getItemTemplate";i.b.object;var Fn=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props.item;if(!e)return null;var t=e.member.profile||e.member.member&&e.member.member.profile;return t?a.a.createElement("div",{className:"c-lazy_filter_select__member_token",key:e.id},a.a.createElement("img",{alt:"",className:"c-lazy_filter_select__member_token_icon",src:t.image_48}),a.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},t.real_name)):null}}]),t}(r.PureComponent);Fn.displayName="LazyFilterSelectMemberToken";var Bn=Fn;Fn.defaultProps={item:{}};i.b.object;var Un=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props.item;return a.a.createElement("div",{className:"c-lazy_filter_select__user_group_token",key:e.id},a.a.createElement("div",{className:"c-lazy_filter_select__user_group_token_name"},e.user_group.name))}}]),t}(r.PureComponent);Un.displayName="LazyFilterSelectUserGroupToken";var Hn=Un;function Kn(e){return e.member?a.a.createElement(Bn,{item:e}):a.a.createElement(Hn,{item:e})}Un.defaultProps={item:{}},Kn.displayName="getTokenTemplate";var Gn=new Q.b("channel_options"),Vn=(i.b.bool,i.b.bool,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.bool,i.b.array,i.b.string,i.b.bool.isRequired,i.b.bool,i.b.object.isRequired,function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"maybeRenderCheckbox",value:function(){var e=this.props,t=e.whoCanPost,n=e.canThread,r=e.isOrgDefault,i=e.onChangeCheckbox,o=e.featureAnnounceOnly,s=o?Gn.t("Allow threads"):Gn.t("Allow members to start message threads?"),c=o?Gn.t("Everyone will be able to add replies to messages posted in this channel, regardless of overall posting permissions"):Gn.t("With this selected, anyone will be able to add threaded replies to messages posted in this channel.");return!o&&!r||o&&"ra"===t?null:a.a.createElement("div",null,a.a.createElement("hr",{className:"top_margin bottom_margin"}),a.a.createElement(xe.a,{htmlFor:"posting_permission_can_thread",type:"inline",cursor:"pointer",text:s,subtext:c},a.a.createElement(Ne.a,{id:"posting_permission_can_thread",name:"can_thread",onChange:i,checked:n})))}},{key:"maybeRenderMemberPicker",value:function(){var e=this.props,t=e.onChangeValueSelectedMembers,n=e.postingPermissionsSelectedMembers,r=e.featureAnnounceOnly,i=e.whoCanPost,o=e.currentMember;if("multi"!==i)return null;if(r||Object(J.a)()){var s=o.id,c=Object(Nn.a)((n||[]).map(function(e){return e===s?null:{value:e}}));return a.a.createElement(Ct.b,{optionsRowHeight:32,selectedOptions:c,renderOption:function(e,t){return a.a.createElement(Mn.a,{id:e.value,isSelected:t.isActive})},width:"100%",onSelectedItemsChange:function(e){t(e.map(function(e){return e.value}))},selectId:"who_can_post",placeholderText:Gn.t("Select people\u2026"),searcherOptions:{entities:{channels:!1,members:!0,userGroups:!1},limit:100,allowEmptyQuery:!0,sort:{frecency:!0}}})}var l=Object(Rn.a)(n||[],function(e,t){return h()({},e,Tn()({},t,{id:t}))},{}),u=Object($.b)(l),d=r?Gn.t("Select people\u2026"):Gn.t("Choose an option\u2026",{ns:"lazy_filter_select"});return a.a.createElement(nn,{onValueChange:function(e){var n=[];e.forEach(function(e){e.member&&n.push(e.member.id)}),t(n)},template:qn,tokenTemplate:Kn,dataPromise:u,approxItemHeight:32,maxSelectedItems:100,placeholderText:d})}},{key:"formatPermissionSettings",value:function(){var e=this.props,t=e.featureAnnounceOnly,n=e.isEnterpriseTeam,r=e.currentMember,a={permissionType:"ra",label:Gn.t("Everyone"),hideWhenOrgDefault:!0},i={permissionType:"regular",label:Gn.t("Everyone, except guests"),hideWhenOrgDefault:!0},o={permissionType:"org_admin",label:Gn.t("Org Admins/Owners")},s={permissionType:"multi",label:Gn.t("Org Admins and Owners, plus select members")};if(t){var c=n?Object(Y.ib)(r):Object(Y.X)(r);n?(o.label=Gn.t("Org Admins only"),s.label=Gn.t("Org Admins, plus specific people")):(o.label=Gn.t("Admins only"),o.permissionType="admin",s.label=Gn.t("Admins, plus specific people")),c||(o=null,s.label=Gn.t("You, and specific people"),Object(Y.xb)(r)&&(i=null))}return Object(Nn.a)([a,i,o,s])}},{key:"renderRadios",value:function(){var e=this.props,t=e.isOrgDefault,n=e.onChangeRadio,r=e.whoCanPost;return Object(pn.a)(this.formatPermissionSettings(),function(e){if(t&&e.hideWhenOrgDefault)return null;var i=e.permissionType===r;return a.a.createElement("div",{key:e.permissionType},a.a.createElement(xe.a,{htmlFor:"who_can_post_"+e.permissionType,type:"inline",cursor:"pointer",className:"p-channel_options--radio_label",text:e.label},a.a.createElement(ut.a,{name:"who_can_post",value:e.permissionType,onChange:n,id:"who_can_post_"+e.permissionType,checked:i})))})}},{key:"render",value:function(){var e=this.props,t=e.postingPermissionsLoaded,n=e.featureAnnounceOnly;if(!t)return a.a.createElement("div",{className:"p-channel_options--option_spinner"},a.a.createElement(lt.a,{size:"jumbo"}));var r=Gn.t("Who can post in this channel?");return a.a.createElement("div",{className:"p-channel-options--content_text"},n?a.a.createElement("p",null,a.a.createElement("strong",null,r)):a.a.createElement("p",null,r),this.renderRadios(),this.maybeRenderMemberPicker(),this.maybeRenderCheckbox())}}]),t}(r.PureComponent));Vn.displayName="PostingPermissions",Vn.defaultProps={canThread:!1,isOrgDefault:!1,postingPermissionsLoaded:!1,postingPermissionsSelectedMembers:null,whoCanPost:"",isEnterpriseTeam:!1};var zn=Object(xn.a)("feature_announce_only")(Vn),Yn=n("U3Q0"),Wn=new Q.b("channel_options"),Qn=(i.b.bool,i.b.func.isRequired,i.b.bool,i.b.string,i.b.func,i.b.bool.isRequired,i.b.bool,{canThread:!1,whoCanPost:"",channelPrefError:!1,openModal:I.a,isEnterpriseTeam:!1}),Xn=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.channelPrefError;!e.channelPrefError&&t&&this.props.openModal({element:this.renderError()})}},{key:"maybeRenderCanThreadLabel",value:function(){var e=this.props.canThread,t=Wn.rt("Additionally, <strong>anyone in this channel</strong> will be able to add threaded replies to messages in this channel.");return e?a.a.createElement("p",null,t):null}},{key:"renderError",value:function(){var e=this.props.onErrorDialogButtonClick,t=Wn.t("OK"),n=Wn.t("For some weird reason, that didn\u2019t work. Please try again."),r=Wn.t("Could not update settings");return a.a.createElement("div",null,a.a.createElement(Yn.a,{goButtonText:t,showCancelButton:!1,onGo:e,onCancel:e,title:r},a.a.createElement("p",null,n)))}},{key:"renderWhoCanPostLabel",value:function(){var e=this.props,t=e.whoCanPost,n=e.featureAnnounceOnly,r=e.isEnterpriseTeam,i=void 0;i=n?{ra:Wn.t("Everyone"),regular:Wn.t("Everyone, except guests"),org_admin:r?Wn.t("Org Admins only"):Wn.t("Admins only"),multi:r?Wn.t("Org Admins, plus specific people"):Wn.t("Admins, plus specific people")}:{ra:Wn.t("Everyone"),regular:Wn.t("Everyone, except guests"),org_admin:Wn.t("Only Org Admins and Owners"),multi:Wn.t("Only Org Admins and Owners, plus select members")};var o=Wn.rt("<strong>{text}</strong> will be able to post",{text:Object(C.a)(i,t)});return a.a.createElement("p",null,o)}},{key:"render",value:function(){var e=Wn.t("Please note that these changes may take some time to complete.");return a.a.createElement("div",{className:"p-channel-options--content_text"},this.renderWhoCanPostLabel(),this.maybeRenderCanThreadLabel(),e)}}]),t}(r.PureComponent);Xn.displayName="PostingPermissionsReview",Xn.defaultProps=Qn;var Zn={openModal:l.e},Jn=Object(M.b)(function(e){return{featureAnnounceOnly:Object(c.j)(e,"feature_announce_only")}},Zn)(Xn),$n=new Q.b("channel_options"),er=(i.b.oneOfType([i.b.string,i.b.object]),i.b.bool,i.b.bool,i.b.object.isRequired,i.b.bool,i.b.string,i.b.func,i.b.func,{additionalVerificationError:"",additionalVerificationGood:!1,channelNameNeedsChecking:!1,isCheckingAdditionalVerification:!1,name:"",onInvalidName:I.a,onValidName:I.a}),tr=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title=n.props.name,"#"===n.title[0]&&(n.title=n.title.substr(1)),n}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalVerificationError,n=e.additionalVerificationGood,r=e.channelNameNeedsChecking,i=e.channel,o=e.isCheckingAdditionalVerification,s=e.name,c=e.onInvalidName,l=e.onValidName;return a.a.createElement("div",{className:"top_margin"},a.a.createElement("label",{htmlFor:"channel_create_title",className:"c-label"},a.a.createElement("span",{className:"c-label__text"},$n.t("Name"))),a.a.createElement(Fe.a,{additionalVerificationError:t,additionalVerificationGood:n,channel:i,nameNeedsChecking:r,id:"channel_create_title",isCheckingAdditionalVerification:o,onInvalid:c,onValid:l,placeholder:$n.t("Rename {title}",{title:s}),shouldFix:!0,value:this.title}))}}]),t}(r.PureComponent);tr.displayName="RenameChannel",tr.defaultProps=er;var nr=tr,rr=n("2SqV");var ar=n("Ft5X"),ir=new Q.b("channel_options"),or=new Q.b("client"),sr=new Q.b("ui_validation"),cr={0:"all_options",1:"archive",2:"share_external",3:"stop_sharing_external",4:"convert_private",5:"rename",6:"export",7:"delete",8:"purpose",9:"retention",10:"posting_privilege",11:"posting_privilege_review",12:"manage_org_access",13:"manage_org_access_name_conflict",14:"manage_org_access_review"},lr=(i.b.object,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.bool.isRequired,i.b.object,i.b.string,i.b.func.isRequired,i.b.number,i.b.number,i.b.func.isRequired,i.b.func.isRequired,i.b.object,i.b.object,i.b.bool,i.b.bool,i.b.func.isRequired,i.b.number,i.b.number,i.b.array,i.b.func.isRequired,i.b.func.isRequired,i.b.number,i.b.number,i.b.func.isRequired,i.b.func.isRequired,i.b.string,i.b.string,i.b.func.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.string,i.b.bool.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func,i.b.func,i.b.func,i.b.func,i.b.bool,i.b.object.isRequired,i.b.bool,i.b.bool,i.b.bool,i.b.array,i.b.bool,i.b.bool,i.b.bool,i.b.func,i.b.func,i.b.bool,i.b.bool,i.b.bool,i.b.bool,{additionalParams:{},channel:{},channelName:"",channelRetentionDuration:0,channelRetentionType:0,currentMember:{},currentTeam:{},isEnterprise:!1,disableRename:!1,dmRetentionDuration:0,dmRetentionType:0,externalTeams:[],groupRetentionDuration:0,groupRetentionType:0,orgName:"",preselectedSection:"",teamId:"",openModal:I.a,showOpenTransition:!0,getDataRetention:I.a,setDataRetention:I.a,getExternalSharedChannelInviteDetails:I.a,featureDegradedSend:!1,featureAnnounceOnly:!1,featureEscDisconnectV2ReleaseDependentCopy:!1,channelIsHostedByAnotherTeam:!1,internalTeamIds:[],featureChangePurposeToDescription:!1,featureSonicChannelOptions:!1,featureSonicEscCreation:!1,openSharedChannelConversionOrRequestModal:I.a,openChannelOptions:I.a,featureSonicDmBrowser:!1,canUserRequestSharedChannel:!1,canUserCreateSharedChannel:!1,featureLongerChannelNames:!1}),ur={children:a.a.createElement("div",null),title:"",qa:"filler"},dr=function(e){function t(e){g()(this,t);var n=j()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.channelNameOnInvalidName=n.channelNameOnInvalidName.bind(n),n.channelNameOnValidName=n.channelNameOnValidName.bind(n),n.channelNameOrgValidation=n.channelNameOrgValidation.bind(n),n.closeAlertDialog=n.closeAlertDialog.bind(n),n.closeModal=n.closeModal.bind(n),n.getChannelRetentionPrefs=n.getChannelRetentionPrefs.bind(n),n.getPostingPermissionPrefs=n.getPostingPermissionPrefs.bind(n),n.goBackToAllOptions=n.goBackToAllOptions.bind(n),n.goBackToManageAccessPrevStep=n.goBackToManageAccessPrevStep.bind(n),n.goToStep=n.goToStep.bind(n),n.manageOrgAccessSave=n.manageOrgAccessSave.bind(n),n.onChangeCheckboxCanThread=n.onChangeCheckboxCanThread.bind(n),n.onChangeCheckboxDelete=n.onChangeCheckboxDelete.bind(n),n.onChangeManageOrgAccessShareWith=n.onChangeManageOrgAccessShareWith.bind(n),n.onChangeManageOrgAccessTeamPicker=n.onChangeManageOrgAccessTeamPicker.bind(n),n.onChangeRadioWhoCanPost=n.onChangeRadioWhoCanPost.bind(n),n.onChangeValueSelectedMembers=n.onChangeValueSelectedMembers.bind(n),n.onChannelPurposeTextareaChange=n.onChannelPurposeTextareaChange.bind(n),n.onChannelPurposeValidationChange=n.onChannelPurposeValidationChange.bind(n),n.onClickArchiveInsteadDelete=n.onClickArchiveInsteadDelete.bind(n),n.onClickArchiveOption=n.onClickArchiveOption.bind(n),n.onClickConvertToPrivateOption=n.onClickConvertToPrivateOption.bind(n),n.onClickDataRetentionOption=n.onClickDataRetentionOption.bind(n),n.onClickDeleteOption=n.onClickDeleteOption.bind(n),n.onClickExportOption=n.onClickExportOption.bind(n),n.onClickManageOrgAccessOption=n.onClickManageOrgAccessOption.bind(n),n.onClickPostingPermissionsOption=n.onClickPostingPermissionsOption.bind(n),n.onClickPurposeOption=n.onClickPurposeOption.bind(n),n.onClickRenameOption=n.onClickRenameOption.bind(n),n.onClickShareExternalOption=n.onClickShareExternalOption.bind(n),n.onClickCancelExternalSharedChannelInvite=n.onClickCancelExternalSharedChannelInvite.bind(n),n.onClickStopShareExternalOption=n.onClickStopShareExternalOption.bind(n),n.onErrorDialogButtonClick=n.onErrorDialogButtonClick.bind(n),n.onRetentionDurationChange=n.onRetentionDurationChange.bind(n),n.onRetentionDurationUnitChange=n.onRetentionDurationUnitChange.bind(n),n.onRetentionTypeChange=n.onRetentionTypeChange.bind(n),n.setManageOrgAccessLoaded=n.setManageOrgAccessLoaded.bind(n),n.setPostingPermissionsLoaded=n.setPostingPermissionsLoaded.bind(n),n.setPostingPermissionsSelectedMembers=n.setPostingPermissionsSelectedMembers.bind(n),n.setRetentionLoaded=n.setRetentionLoaded.bind(n),n.showAlertDialog=n.showAlertDialog.bind(n),n.showSuccessAlert=n.showSuccessAlert.bind(n),n.maybeDisableRetentionGoButton=n.maybeDisableRetentionGoButton.bind(n),n.saveRetention=n.saveRetention.bind(n),n.showRetentionDialog=n.showRetentionDialog.bind(n),n.hideRetentionDialog=n.hideRetentionDialog.bind(n),n.handleRetentionCheckboxChange=n.handleRetentionCheckboxChange.bind(n),n.durationInputRef=n.durationInputRef.bind(n),n.setPostingPermissions=n.setPostingPermissions.bind(n);var r=n.props,a=r.channel,i=r.currentTeam,o=r.internalTeamIds,s=[],c=[],l="";return Object(u.sb)(a)?Object(u.qb)(a)||(s=o):(c=[i.id],l=i.id),n.state={canThread:!1,channelNameAdditionalVerificationError:"",channelNameNeedsChecking:!1,channelNameOrgIsCheckingVerification:!1,channelNameValid:!1,channelPrefError:!1,channelToBeShared:!1,goButtonIsDisabled:!1,goButtonIsPending:!1,isOnlyChannelWithExternalTeam:!1,manageOrgAccessDisabledTeamIds:c,manageOrgAccessLoaded:!1,manageOrgAccessOriginatingTeamId:l,manageOrgAccessPreviousStep:"manage_org_access",manageOrgAccessShareWith:Object(u.qb)(n.props.channel)?"all":"specific",manageOrgAccessTeamIds:s,newChannelName:null,postingPermissionsLoaded:!1,postingPermissionsSelectedMembers:null,retentionDuration:0,retentionDurationUnit:0,retentionLoaded:!1,retentionType:0,isRetentionCheckboxChecked:!1,showBackButton:!1,showCancelButton:!1,showGoButton:!1,showSuccessAlert:!1,successAlertHeading:"",successAlertText:"",teamRetentionDuration:0,teamRetentionType:0,whoCanPost:null},n.debouncedChannelNameOrgValidation=Object(x.a)(n.actuallyCallChannelNameOrgValidation,325,{trailing:!0}),n.modalRef=null,n.steps=[],n.pendingChannelNameOrgValidation=null,n}return E()(t,e),O()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.preselectedSection,n=e.showArchive,r=e.showConvertToPrivate,a=e.showDataRetention,i=e.showDelete,o=e.showExport,s=e.showManageOrgAccess,c=e.showPostingPermissions,l=e.showPurpose,u=e.showRename;if(this.maybeCheckIfLastChannelWithExternalTeam(),t.length)switch(t){case"archive":n&&this.onClickArchiveOption();break;case"convert_private":r&&this.onClickConvertToPrivateOption();break;case"convert_shared":case"manage_teams":s&&this.onClickManageOrgAccessOption();break;case"delete":i&&this.onClickDeleteOption();break;case"export":o&&this.onClickExportOption();break;case"posting_privilege":c&&this.onClickPostingPermissionsOption();break;case"purpose":l&&this.onClickPurposeOption();break;case"rename":u&&this.onClickRenameOption();break;case"retention":a&&this.onClickDataRetentionOption()}}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isRetentionCheckboxChecked;this.retentionDialog&&n!==t.isRetentionCheckboxChecked&&this.retentionDialog.render({goButtonIsDisabled:!n,goOnEnterPressed:n})}},{key:"onClickArchiveOption",value:function(){this.goButtonIsDisabled(!1),this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("archive")}},{key:"onClickShareExternalOption",value:function(){var e=this;Object(J.a)()&&this.props.featureSonicEscCreation?this.props.openSharedChannelConversionOrRequestModal({channelId:this.props.channel.id,showOpenTransition:!1,onBack:function(){e.props.openChannelOptions({showOpenTransition:!1,channelId:e.props.channel.id})}}):this.props.featureSonicDmBrowser&&!this.props.canUserCreateSharedChannel&&this.props.canUserRequestSharedChannel?(this.props.openDmBrowserModal({adminMode:W.a.convertChannel,showOpenTransition:!1}),this.closeModal()):(Object(K.c)({model_ob:this.props.channel,element:"shared_channels_channel_options_share_option"}),this.closeModal())}},{key:"onClickCancelExternalSharedChannelInvite",value:function(e){var t=this,n=this.props,r=n.channel,a=n.currentMember,i=n.externalTeams;this.props.getExternalSharedChannelInviteDetails({channelId:r.id,targetTeamId:e}).then(function(n){var o=i[0].name,s=n.invite.inviting_user,c=or.t("Oops, something went wrong."),l=ir.t("For some weird reason, that didn\u2019t work. Please try again."),u=ir.rt("If you\u2019d like, you can always reinvite <strong>{targetTeamName}</strong> (or another organization).",{targetTeamName:o}),d=ir.t("Canceled invitation");if(s.id===a.id)t.props.cancelExternalSharedChannelInviteApi({channelId:r.id,targetTeamId:e}).then(function(){t.showSuccessAlert({heading:d,text:u})}).catch(function(e){throw t.showAlertDialog({message:l,title:c}),e});else{var b=ir.t("Cancel invitation?"),p=ir.rt("This invitation was originally sent by <strong>{inviterName}</strong> to <strong>{targetTeamName}</strong>. Are you sure you want to cancel?",{inviterName:s.profile.real_name,targetTeamName:o});t.showAlertDialog({cancelButtonText:ir.t("Never Mind"),goButtonText:ir.t("Cancel Invitation"),goButtonType:"danger",message:p,onGo:function(){return t.props.cancelExternalSharedChannelInviteApi({channelId:r.id,targetTeamId:e}).then(function(){t.closeAlertDialog(),t.showSuccessAlert({heading:d,text:u})}).catch(function(e){throw t.showAlertDialog({message:l,title:c}),e})},onCancel:t.closeAlertDialog,showCancelButton:!0,title:b})}})}},{key:"onClickStopShareExternalOption",value:function(){var e=this.props,t=e.canDisconnectSharedChannels,n=e.externalTeams,r=e.channelName,a=e.featureSonicDmBrowser;t?(this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("stop_sharing_external")):a?(this.closeModal(),this.props.openDmBrowserModal({adminMode:W.a.disconnectChannel,adminModeChannelName:r,adminModeTeamName:Object(X.a)(n.map(function(e){return Object(z.e)(e)}),{react:!0}),showOpenTransition:!1})):(Object($.c)(this.props.channel),this.closeModal())}},{key:"onClickConvertToPrivateOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("convert_private")}},{key:"onClickRenameOption",value:function(){var e=this;this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.hideSuccessAlert();var t=!0;this.props.additionalParams.name&&this.props.additionalParams.name.length&&(t=!1,this.setState(function(){return{newChannelName:e.props.additionalParams.name,channelNameNeedsChecking:!0}})),this.goButtonIsDisabled(t),this.showGoButton(!0),this.goToStep("rename")}},{key:"onClickExportOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("export")}},{key:"onClickDeleteOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.goButtonIsDisabled(!0),this.hideSuccessAlert(),this.goToStep("delete")}},{key:"onClickPurposeOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("purpose")}},{key:"onClickDataRetentionOption",value:function(){this.goButtonIsPending(!1),this.showCancelButton(!0),this.showGoButton(!0),this.hideSuccessAlert(),this.goToStep("retention"),this.getChannelRetentionPrefs()}},{key:"onClickPostingPermissionsOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.hideSuccessAlert(),this.goToStep("posting_privilege"),this.getPostingPermissionPrefs(),this.clogPostingPermissionsAction(L.v.OPEN)}},{key:"onClickManageOrgAccessOption",value:function(){this.goButtonIsPending(!1),this.showBackButton(!0),this.hideSuccessAlert(),this.goToStep("manage_org_access"),this.maybeGetOriginatingTeamAndCurrentAccess(),this.setState(function(){return{channelToBeShared:!0}})}},{key:"onRetentionTypeChange",value:function(e){var t=this,n=parseInt(e.target.value,10);this.setState(function(){return{retentionType:n}},function(){t.maybeDisableRetentionGoButton(),1===n&&t.retentionDurationInput.focus()})}},{key:"onRetentionDurationChange",value:function(e){this.setState(function(){return{retentionDuration:parseInt(e,10)}},this.maybeDisableRetentionGoButton)}},{key:"onRetentionDurationUnitChange",value:function(e){this.setState(function(){return{retentionDurationUnit:e}},this.maybeDisableRetentionGoButton)}},{key:"onChangeManageOrgAccessShareWith",value:function(e){var t=e.target.value;this.setState(function(){return{manageOrgAccessShareWith:t}})}},{key:"onChangeManageOrgAccessTeamPicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.props.featureSonicChannelOptions,r=[];n||this.goButtonIsDisabled(!e.length),(e.length||n)&&(e.forEach(function(e){n?r.push(e.value):r.push(e.team.id)}),n&&r.push(t),this.setState(function(){return{manageOrgAccessTeamIds:r}}))}},{key:"onChangeCheckboxDelete",value:function(e){var t=e.target.checked;this.goButtonIsDisabled(!t)}},{key:"onClickArchiveInsteadDelete",value:function(e){e.preventDefault(),this.onClickArchiveOption()}},{key:"onChannelPurposeTextareaChange",value:function(e){this.newChannelPurpose(e.target.value)}},{key:"onChannelPurposeValidationChange",value:function(e){this.goButtonIsDisabled(e)}},{key:"onChangeCheckboxCanThread",value:function(e){var t=e.target.checked;this.setCanThreadPermission(t)}},{key:"onChangeRadioWhoCanPost",value:function(e){var t=e.target.value;this.setWhoCanPostPermission(t)}},{key:"onChangeValueSelectedMembers",value:function(e){this.setPostingPermissionsSelectedMembers(e)}},{key:"onErrorDialogButtonClick",value:function(){this.setChannelPrefError(!1)}},{key:"getChannelRetentionPrefs",value:function(){var e=this,t=this.props,n=t.channel,r=t.groupRetentionType,a=t.groupRetentionDuration,i=t.dmRetentionType,o=t.dmRetentionDuration,s=t.channelRetentionType,c=t.channelRetentionDuration;this.props.getDataRetention({channel:n,reason:"channel-options"}).then(function(t){var l=void 0,d=void 0;Object(u.xb)(n)?(l=parseInt(r,10),d=parseInt(a,10)):Object(u.eb)(n)||Object(u.lb)(n)?(l=parseInt(i,10),d=parseInt(o,10)):(l=parseInt(s,10),d=parseInt(c,10));var b=parseInt(t.retentionType,10),p=parseInt(t.retentionDuration,10);e.setState(function(){return{retentionDuration:p,retentionType:b,teamRetentionDuration:d,teamRetentionType:l}}),e.setRetentionLoaded(!0)})}},{key:"setRetentionLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{retentionLoaded:e}})}},{key:"getPostingPermissionPrefs",value:function(){var e=this,t=this.props,n=t.channel,r=t.currentMember,a=t.isEnterprise,i=t.featureAnnounceOnly,o=[this.props.getChannelPref({channelId:n.id,prefName:"who_can_post",reason:"channel-options-posting-permission"}),this.props.getChannelPref({channelId:n.id,prefName:"can_thread",reason:"channel-options-posting-permission"})];Promise.all(o).then(function(t){var o=t[0];if(o.ok&&o.pref_value){var s=void 0,c=o.pref_value,l=r.id,d=a?Object(Y.ib)(r):Object(Y.X)(r),b=i?(c.user||[]).filter(function(e){return e!==l}):c.user||[];if(c.type)if(!b.length||"admin"!==c.type[0]&&"owner"!==c.type[0]&&"org_admin"!==c.type[0])if(!i||"admin"!==c.type[0]&&"owner"!==c.type[0]&&"org_admin"!==c.type[0]||d){var p=i&&!a&&"org_admin"===c.type[0]?"admin":c.type[0];"owner"===p&&(p=a?"org_admin":"admin"),Object(u.pb)(n)&&"org_admin"!==p&&(p="org_admin"),s=p}else s="multi";else s="multi",e.setPostingPermissionsSelectedMembers(c.user);else s=Object(u.pb)(n)?"org_admin":"ra";e.setWhoCanPostPermission(s);var h=t[1];if(h.ok&&h.pref_value){var m=h.pref_value;m.type?e.setCanThreadPermission("all"===m.type[0]||"ra"===m.type[0]):i?e.setCanThreadPermission("ra"===s):e.setCanThreadPermission(!1)}else e.setCanThreadPermission("ra"===s);e.setPostingPermissionsLoaded(!0),e.showCancelButton(!0),e.showGoButton(!0)}})}},{key:"setCanThreadPermission",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{canThread:e}})}},{key:"setPostingPermissionsLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{postingPermissionsLoaded:e}})}},{key:"setWhoCanPostPermission",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(){return{whoCanPost:e}})}},{key:"setChannelPrefError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{channelPrefError:e}})}},{key:"setPostingPermissionsSelectedMembers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(){return{postingPermissionsSelectedMembers:e}})}},{key:"setManageOrgAccessLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{manageOrgAccessLoaded:e}})}},{key:"setPostingPermissions",value:function(){var e=this,t=this.props,n=t.channel,r=t.currentMember,a=t.isEnterprise,i=t.featureAnnounceOnly,o=this.state,s=o.postingPermissionsSelectedMembers,c=o.whoCanPost,l=o.canThread;this.goButtonIsPending(!0);var d=!i||"admin"!==c&&"org_admin"!==c?c:"multi",b=r.id,p=(a?Object(Y.ib)(r):Object(Y.X)(r))?[]:[b],h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="";return"multi"===e?(a=r&&!n?"type:admin":"type:org_admin",t&&t.length&&t.forEach(function(e){a+=",user:"+e})):a="type:"+e,a}(d,i?"multi"===c?Object(T.a)([].concat(f()(s||[]),p)):p:s,a,i),m={who_can_post:h};i?m.can_thread=l?"type:ra":h:Object(u.pb)(n)&&(m.can_thread=function(e){var t="";return e&&(t="type:all"),t}(l)),this.props.setChannelPrefs({channelId:n.id,newPrefs:JSON.stringify(m),reason:"channel-options-posting-permission"}).then(function(){e.setPostingPermissionsLoaded(!1),e.closeModal()}).catch(function(t){var n=t.name,r={title:or.t("Oops, something went wrong."),message:ir.t("For some weird reason, that didn\u2019t work. Please try again.")};i&&"restricted_action"===n&&(r.title=or.t("Unable to save posting permissions"),r.message=ir.t("It seems like the posting permission for this channel has been changed and you can no longer change this preference."),r.onClose=e.closeModal),e.showAlertDialog(r),e.goButtonIsPending(!1),e.setChannelPrefError(!0)})}},{key:"maybeDisableRetentionGoButton",value:function(){var e=this.state,t=e.retentionType,n=e.retentionDuration,r=0===e.retentionDurationUnit?n:365*n;this.goButtonIsDisabled(!pt({retentionType:t,retentionDuration:r}))}},{key:"goToStep",value:function(e){var t=function(e){return+Object(R.a)(cr)[e]}(e);t?this.modalRef.setStepNumber(t+1):this.modalRef.setStepNumber(1)}},{key:"maybeGetOriginatingTeamAndCurrentAccess",value:function(){var e=this,t=this.props.channel,n=this.state,r=n.manageOrgAccessDisabledTeamIds,a=n.manageOrgAccessLoaded;n.manageOrgAccessTeamIds;if(a)return this.showCancelButton(!0),void this.showGoButton(!0);var i=[];Object(u.sb)(t)&&i.push(this.props.getChannelOrgOriginatingTeam(t.id)),Promise.all(i).then(function(n){var a,i=r,o=e.state.manageOrgAccessOriginatingTeamId;Object(u.sb)(t)&&(o=n[0].team.id,i=[o]),a=Object(T.a)(e.state.manageOrgAccessTeamIds.concat(o)),e.setState(function(){return{manageOrgAccessDisabledTeamIds:i,manageOrgAccessOriginatingTeamId:o,manageOrgAccessTeamIds:a}}),e.manageOrgAccessFilterFunction=Object($.d)({preselected_ids:a,disabled_ids:i,sort_items_function:function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:r<n?1:0},secondary_sort_items_function:function(e,t){return e.id===o?-1:t.id===o?1:0}}),e.manageOrgAccessFilterFunction("").then(function(){e.showCancelButton(!0),e.showGoButton(!0),e.setManageOrgAccessLoaded(!0)})}).catch(function(t){var n=or.t("Oops, something went wrong."),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw e.showAlertDialog({message:r,title:n}),t})}},{key:"maybeCheckIfLastChannelWithExternalTeam",value:function(){var e=this,t=this.props,n=t.channel,r=t.canDisconnectSharedChannels;Object(u.Cb)(n)&&r&&this.props.getExternalTeamIdsConnectedOnlyByChannel({channelId:n.id,reason:"channel-options/maybeCheckIfLastChannelWithExternalTeam"}).then(function(t){e.setState(function(){return{isOnlyChannelWithExternalTeam:!!t.length}})})}},{key:"closeModal",value:function(){this.alertDialog&&this.alertDialog.close(),this.retentionDialog&&this.retentionDialog.close(),this.props.onCancel()}},{key:"goBackToAllOptions",value:function(){this.goButtonIsPending(!1),this.showBackButton(!1),this.showCancelButton(!1),this.showGoButton(!1),this.goButtonIsDisabled(!1),this.goToStep("all_options")}},{key:"goButtonIsDisabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{goButtonIsDisabled:e}})}},{key:"goButtonIsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{goButtonIsPending:e}})}},{key:"showBackButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showBackButton:e}})}},{key:"showCancelButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showCancelButton:e}})}},{key:"showGoButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showGoButton:e}})}},{key:"newChannelPurpose",value:function(e){this.setState(function(){return{newChannelPurpose:e}})}},{key:"actuallyCallChannelNameOrgValidation",value:function(e){var t=this,n=this.props.channel;if(Object(u.w)(n)===e)return this.setState(function(){return{channelNameAdditionalVerificationError:"",channelNameOrgIsCheckingVerification:!1,channelNameValid:!1}}),void this.goButtonIsDisabled(!0);this.pendingChannelNameOrgValidation=this.props.callEnterpriseNameTaken({channel:n,newChannelName:e}),this.pendingChannelNameOrgValidation.then(function(r){var i=t.props,o=i.currentTeam,s=i.orgName,c=void 0,l="";!r.ok||r.name_taken?(c=!1,l=t.state.channelToBeShared?ir.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name to share this channel outside of <span>{teamName}</span>.",{name:e,orgName:s,teamName:Object(z.e)(o)},function(t){var r=t.key,i=t.tag,o=t.text;return"strong"===i?a.a.createElement("strong",{key:r+"-1"},Ae(r,n,e)):a.a.createElement("strong",{key:r},o)}):ir.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name.",{name:e,orgName:s,teamName:Object(z.e)(o)},function(t){var r=t.key,i=t.tag,o=t.text;return"strong"===i?a.a.createElement("strong",{key:r+"-1"},Ae(r,n,e)):a.a.createElement("strong",{key:r},o)})):c=!0,t.goButtonIsDisabled(!c),t.setState(function(){return{channelNameAdditionalVerificationError:l,channelNameOrgIsCheckingVerification:!1,channelNameValid:c}})}).catch(function(e){t.setState(function(){return{channelNameAdditionalVerificationError:"",channelNameOrgIsCheckingVerification:!1,channelNameValid:!1}}),t.goButtonIsDisabled(!0);var n=or.t("Oops, something went wrong."),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw t.showAlertDialog({message:r,title:n}),e})}},{key:"clogPostingPermissionsAction",value:function(e){var t=this.props,n=t.clogger,r=t.channel,a=t.currentMember;n.track(L.k.CHANNEL_POSTING_PERMISSIONS,{channel_id:r.id,channel_privacy_type:Object(u.xb)(r)?L.a.PRIVATE:L.a.PUBLIC,is_admin:Object(Y.X)(a),is_owner:Object(Y.vb)(a),is_guest:Object(Y.ob)(a),contexts:{ui_context:{action:e,ui_component:L.w.CHANNEL_OPTIONS_DIALOG}}})}},{key:"channelNameOrgValidation",value:function(e){this.setState(function(){return{channelNameOrgIsCheckingVerification:!0}}),this.pendingChannelNameOrgValidation&&this.pendingChannelNameOrgValidation.cancel(),this.debouncedChannelNameOrgValidation(e)}},{key:"channelNameOnInvalidName",value:function(){this.setState(function(){return{channelNameValid:!1,channelNameAdditionalVerificationError:"",channelNameNeedsChecking:!1}}),this.goButtonIsDisabled(!0)}},{key:"channelNameOnValidName",value:function(e){var t=e.value,n=this.props.channel,r=this.state.channelToBeShared;this.setState(function(){return{channelNameAdditionalVerificationError:"",newChannelName:t,channelNameNeedsChecking:!1}}),Object(u.sb)(n)||r?this.channelNameOrgValidation(t):this.goButtonIsDisabled(!1)}},{key:"manageOrgAccessSave",value:function(){var e=this;this.goButtonIsPending(!0);var t=this.props,n=t.channel,r=t.teamId,a=this.state,i=a.manageOrgAccessShareWith,o=a.manageOrgAccessTeamIds,s="all"===i,c={orgWide:s};if(Object(u.sb)(n))s||(c.teamIds=o),this.props.updateOrgAccessForChannelApi(h()({channelId:n.id},c)).then(function(){e.closeModal()}).catch(function(t){e.goButtonIsPending(!1);var n=ir.t("Could not update settings"),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw e.showAlertDialog({message:r,title:n}),t});else{s||(c.targetDomains=o.map(function(e){var t=Object(P.getStateByTeamId)(r);return Object(H.i)(t,e).domain}));var l=[];this.makeChannelName()!==Object(u.w)(n)&&l.push(this.props.renameChannelApi({channel:n,newName:this.state.newChannelName})),Promise.all(l).then(function(){return e.props.convertToOrgShared(h()({channel:n},c))}).then(function(){e.closeModal()}).catch(function(t){e.goButtonIsPending(!1);var n=ir.t("Could not update settings"),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw e.showAlertDialog({message:r,title:n}),t})}}},{key:"makeChannelName",value:function(){var e=this.props.channel,t=this.state.newChannelName;return t&&t.length?t:Object(u.w)(e)}},{key:"showAlertDialog",value:function(e){var t=e.title,n=e.message,r=e.cancelButtonText,i=void 0===r?"":r,o=e.goButtonText,s=void 0===o?"":o,c=e.goButtonType,l=void 0===c?"primary":c,u=e.onGo,d=void 0===u?I.a:u,b=e.onCancel,p=void 0===b?I.a:b,m=e.onClose,f=void 0===m?this.closeAlertDialog:m,v=e.showCancelButton,g=void 0!==v&&v,_={cancelButtonText:i,children:a.a.createElement("p",null,n),goButtonText:s,goButtonType:l,onCancel:p,onClose:f,onGo:d,showCancelButton:g,title:t};this.alertDialog?this.alertDialog.render(h()({},_)):this.alertDialog=this.props.openModal({element:a.a.createElement(ke.a,_),isStackable:!0})}},{key:"closeAlertDialog",value:function(){this.setState(function(){return{goButtonIsPending:!1}}),this.alertDialog=null}},{key:"showSuccessAlert",value:function(e){var t=e.heading,n=e.text;this.setState(function(){return{showSuccessAlert:!0,successAlertHeading:t,successAlertText:n}})}},{key:"hideSuccessAlert",value:function(){this.setState(function(){return{showSuccessAlert:!1}})}},{key:"goBackToManageAccessPrevStep",value:function(){this.goToStep(this.state.manageOrgAccessPreviousStep)}},{key:"saveRetention",value:function(){var e=this,t=this.state,n=t.retentionType,r=t.retentionDuration,a=t.retentionDurationUnit,i=this.props.channel;this.goButtonIsPending(!0),this.props.setDataRetention({channel:i,retentionDuration:ht({retentionDuration:r,retentionDurationUnit:a}),retentionType:n}).then(function(t){if(e.goButtonIsPending(!1),t.ok)e.closeModal();else{var n=or.t("Oops, something went wrong."),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");e.showAlertDialog({message:r,title:n})}}).catch(function(t){e.goButtonIsPending(!1);var n=or.t("Oops, something went wrong."),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw e.showAlertDialog({message:r,title:n}),t})}},{key:"showRetentionDialog",value:function(){this.retentionDialog=this.props.openModal({element:this.renderRetentionDialog(),isStackable:!0})}},{key:"hideRetentionDialog",value:function(){this.setState(function(){return{isRetentionCheckboxChecked:!1}})}},{key:"handleRetentionCheckboxChange",value:function(){this.setState(function(e){return{isRetentionCheckboxChecked:!e.isRetentionCheckboxChecked}})}},{key:"durationInputRef",value:function(e){this.retentionDurationInput=e}},{key:"renderRetentionDialog",value:function(){var e=this.state,t=e.retentionType,n=e.retentionDuration,r=e.retentionDurationUnit,i=e.teamRetentionType,o=e.teamRetentionDuration,s=this.props.channel,c=ht({retentionDuration:n,retentionDurationUnit:r}),l=void 0;switch(t){case 0:switch(i){case 1:l=ir.t("Use the default workspace retention settings \u2014 Keep everything");break;case 0:l=ir.t("Use the default workspace retention settings \u2014 Keep messages, but don\u2019t track revisions");break;case 2:l=ir.t("Use the default workspace retention settings \u2014 Messages older than {duration, plural, =1 {# day} other {# days}} will be deleted.",{duration:o,fallbackHash:"7480a828b3b52106d6407a4e8f29e489ed887722"});break;default:l=ir.t("Use the default workspace retention settings \u2014 Keep everything")}break;case 1:if(c>364){var d=Object(S.a)(c/365,1);l=ir.t("Messages older than {duration, plural, =1 {# day} other {# days}} ({durationInYears, plural, =1 {# year} other {# years}}) will be deleted",{duration:c,durationInYears:d,fallbackHash:"2641d4c8882584eb6bee3cdb1172b02f43b9881f"})}else l=ir.t("Messages older than {duration, plural, =1 {# day} other {# days}} will be deleted",{duration:c,fallbackHash:"1f76675f52cc8078d8373c5e7d241070bba730c3"});break;default:l=ir.t("Use the default workspace retention settings")}return a.a.createElement(Re.a,{title:ir.t("Apply new retention settings?"),goButtonText:ir.t("Apply Settings"),goButtonType:"danger",onCancel:this.hideRetentionDialog,onGo:this.saveRetention,goButtonIsDisabled:!this.state.isRetentionCheckboxChecked,goOnEnterPressed:this.state.isRetentionCheckboxChecked,shouldCloseOnGo:!1},a.a.createElement(oe.a,{level:"error",className:"margin_bottom_100"},ir.rt("<strong>Warning:</strong> Messages deleted by retention settings are truly, permanently deleted. These messages can\u2019t be restored or recovered, even by Slack.")),a.a.createElement("strong",null,ir.t("Here\u2019s what your new settings will be:")),a.a.createElement("ul",{className:"margin_top_100"},a.a.createElement("li",null,Object(u.eb)(s)||Object(u.lb)(s)?ir.t("In this conversation: {newSetting}",{newSetting:l}):ir.t("In this channel: {newSetting}",{newSetting:l}))),a.a.createElement(xe.a,{text:ir.rt("<strong>Yes, apply these new settings</strong>"),htmlFor:"dataRetentionOverrideConfirm",type:"inline",cursor:"pointer"},a.a.createElement(Ne.a,{id:"dataRetentionOverrideConfirm",isRequired:!0,onChange:this.handleRetentionCheckboxChange})))}},{key:"renderOptionsListHeader",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).containsChannel,n=void 0!==t&&t;if(this.props.featureLongerChannelNames){var r=B()("channel_options_header",{channel_options_header__channel_container:n});return a.a.createElement("span",{className:r},e)}return a.a.createElement("span",{className:"channel_options_header channel_options_header__no_wrap"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.additionalParams,r=t.currentMember,i=t.channel,o=t.currentTeam,s=t.disableRename,c=t.externalTeams,l=t.onCancel,d=t.showArchive,p=t.showConvertToPrivate,m=t.showDataRetention,f=t.showDelete,v=t.showExport,g=t.showManageOrgAccess,_=t.showOpenTransition,O=t.showPostingPermissions,y=t.showPurpose,j=t.showRename,k=t.showShareExternal,E=t.showStopShareExternal,I=t.featureAnnounceOnly,S=t.orgName,T=t.isEnterprise,R=t.featureEscDisconnectV2ReleaseDependentCopy,x=t.channelIsHostedByAnotherTeam,M=t.internalTeamIds,P=t.featureChangePurposeToDescription,A=this.state,D=A.canThread,q=A.channelNameAdditionalVerificationError,F=A.channelNameNeedsChecking,B=A.channelNameOrgIsCheckingVerification,U=A.channelNameValid,H=A.channelPrefError,K=A.goButtonIsDisabled,G=A.goButtonIsPending,V=A.manageOrgAccessDisabledTeamIds,z=A.manageOrgAccessLoaded,Y=A.manageOrgAccessOriginatingTeamId,W=A.manageOrgAccessShareWith,Q=A.manageOrgAccessTeamIds,Z=A.newChannelName,J=A.newChannelPurpose,$=A.postingPermissionsLoaded,ee=A.postingPermissionsSelectedMembers,te=A.retentionDuration,ne=A.retentionDurationUnit,re=A.retentionLoaded,ae=A.retentionType,ie=A.showBackButton,oe=A.showCancelButton,se=A.showGoButton,ce=A.showSuccessAlert,le=A.successAlertHeading,ue=A.successAlertText,de=A.teamRetentionDuration,be=A.teamRetentionType,pe=A.whoCanPost,he={buttonAlignment:"right",goButtonIsDisabled:K,goButtonIsPending:G,showBackButton:ie,showCancelButton:oe,showGoButton:se,withHeader:!0},me=this.props.featureLongerChannelNames?ir.rt("Additional Options for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Additional options for <span>{name}</span>",{name:Object(u.w)(i)},function(e){var t=e.key;return Ae(t,i)});if(this.steps=[h()({contentLabel:"Additional Options for "+Object(u.w)(i),title:this.renderOptionsListHeader(me,{containsChannel:!0}),children:a.a.createElement(wn,{channel:i,disableRename:s,modalClasses:"p-channel_options_section",name:Object(u.w)(i),onClickArchive:this.onClickArchiveOption,onClickConvertToPrivate:this.onClickConvertToPrivateOption,onClickDelete:this.onClickDeleteOption,onClickExport:this.onClickExportOption,onClickManageOrgAccess:this.onClickManageOrgAccessOption,onClickPostingPermissions:this.onClickPostingPermissionsOption,onClickPurpose:this.onClickPurposeOption,onClickRename:this.onClickRenameOption,onClickShareExternal:this.onClickShareExternalOption,onClickCancelExternalSharedChannelInvite:this.onClickCancelExternalSharedChannelInvite,onClickStopShareExternal:this.onClickStopShareExternalOption,showArchive:d,showConvertToPrivate:p,showDataRetention:m,showDelete:f,showExport:v,showManageOrgAccess:g,showPostingPermissions:O,showPurpose:y,showRename:j,showShareExternal:k,showStopShareExternal:E,showSuccessAlert:ce,successAlertHeading:le,successAlertText:ue}),qa:"all_options"},he)],d){var fe=this.props.featureLongerChannelNames?ir.rt("Archive {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Archive <strong>{name}</strong>",{name:Object(u.w)(i),fallbackHash:"0cf2d51d33550e37e96cafe433465fa5e0816923"},function(e){var t=e.key;return Ae(t,i)});this.steps.push(h()({children:a.a.createElement(qe,{channel:i}),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0),e.props.archiveChannelApi({channel:i}),e.closeModal()},goButtonText:ir.t("Yes, archive the channel"),title:this.renderOptionsListHeader(fe,{containsChannel:!0}),contentLabel:"Archive "+Object(u.w)(i),qa:"archive"},he))}else this.steps.push(ur);if(k?this.steps.push(h()({children:a.a.createElement("div",null,"Share external option"),onBack:this.goBackToAllOptions,title:"",qa:cr[2]},he)):this.steps.push(ur),E){var ve="";ve=this.props.featureLongerChannelNames?R&&x?ir.rt("Disconnect from {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Stop sharing {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):R&&x?ir.rt("Disconnect from {channelName}",{channelName:a.a.createElement(ar.a,{channel:i})}):ir.rt("Stop sharing {channelName}",{channelName:a.a.createElement(ar.a,{channel:i})});var ge=R&&x?ir.t("Disconnect"):ir.t("Stop Sharing");this.steps.push(h()({children:a.a.createElement(rr.a,{channel:i,showLastChannelWarning:this.state.isOnlyChannelWithExternalTeam}),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0);var t=ir.t("This can\u2019t be undone"),n=ir.rt("You won\u2019t be able to re-share {channelName} with {teamNames} or any other organization.",{channelName:Ae(i.id,i),teamNames:Object(X.a)(c.map(function(e){return e.name}),{react:!0,strong:!0,conj:"or"})}),r=e.props.clogger;r.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:e.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_MODAL_SUBMIT_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}});e.showAlertDialog({goButtonText:ge,goButtonType:"danger",message:n,onGo:function(){r.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:e.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_SUBMIT_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}}),e.props.disconnectChannel({channelId:i.id,reason:"channel-options"}).then(e.closeModal)},onCancel:function(){r.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:e.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_CANCEL_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}}),e.closeAlertDialog()},showCancelButton:!0,title:t})},goButtonText:ge,goButtonType:"danger",title:this.renderOptionsListHeader(ve,{containsChannel:!0}),contentLabel:"Stop sharing "+Object(u.w)(i),qa:"stop_sharing_external"},he))}else this.steps.push(ur);if(p){var _e=void 0,Oe=void 0;Object(u.yb)(i)||Object(u.xb)(i)?(_e=this.props.featureLongerChannelNames?ir.rt("Change {channelName} to a private channel",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Change <strong>{channelName}</strong> to a private channel",{name:Object(u.w)(i)},function(e){var t=e.key;return Ae(t,i)}),Oe="Change "+Object(u.w)(i)+" to a private channel"):(_e=ir.rt("Convert this conversation to a private channel?",{fallbackHash:"5e50b350a369117078fafe9841785a5576fd4fc5"}),Oe="Convert this conversation to a private channel?"),this.steps.push(h()({children:a.a.createElement(ct,{channel:i}),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0);var t=ir.t("This can\u2019t be undone"),n=ir.rt("Once {channelName} is made a private channel, it cannot be changed to a public channel again.",{channelName:Ae(i.id,i)}),r=ir.t("Change to Private");e.showAlertDialog({goButtonText:r,goButtonType:"danger",message:n,onGo:function(){e.props.convertChannelToPrivateApi(i.id).then(e.closeModal)},showCancelButton:!0,title:t})},goButtonType:"danger",goButtonText:ir.t("Change to Private"),title:this.renderOptionsListHeader(_e,{containsChannel:Object(u.yb)(i)||Object(u.xb)(i)}),contentLabel:Oe,qa:"convert_private"},he))}else this.steps.push(ur);var ye=ir.t("Rename Channel");if(j){var je={additionalVerificationError:q,additionalVerificationGood:U,channelNameNeedsChecking:F};Object(u.sb)(i)&&(je.isCheckingAdditionalVerification=B);var ke=Object(u.w)(i);n.name&&(ke=n.name);var Ee=this.props.featureLongerChannelNames?ir.rt("Rename {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Rename <strong>{channelName}</strong>",{channelName:Object(u.w)(i)},function(e){var t=e.key;return Ae(t,i)}),Ce="Rename "+Object(u.w)(i);this.steps.push(h()({children:a.a.createElement(nr,h()({},je,{channel:i,name:ke,onInvalidName:this.channelNameOnInvalidName,onValidName:this.channelNameOnValidName})),onBack:this.goBackToAllOptions,goButtonText:ye,onGo:function(){e.goButtonIsPending(!0),e.props.renameChannelApi({channel:i,newName:Z}).then(function(t){if(e.goButtonIsPending(!1),!t.ok)return t.error&&"name_taken"===t.error?void e.setState(function(){return{channelNameValid:!1,channelNameAdditionalVerificationError:sr.t("{name} is already taken by a channel, username, or user group.",{name:Z})}}):void e.setState(function(){return{channelNameValid:!1,channelNameAdditionalVerificationError:sr.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}});e.setState(function(){return{channelNameValid:!0,channelNameAdditionalVerificationError:""}}),e.closeModal()}).catch(function(t){t.data&&"name_taken"===t.data.error?e.setState(function(){return{channelNameValid:!1,channelNameAdditionalVerificationError:sr.t("{name} is already taken by a channel, username, or user group.",{name:Z})}}):(e.goButtonIsPending(!1),e.setState(function(){return{channelNameAdditionalVerificationError:sr.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}))})},title:this.renderOptionsListHeader(Ee,{containsChannel:!0}),contentLabel:Ce,qa:"rename"},he))}else this.steps.push(ur);if(v){var Ie=void 0,Re=void 0;Object(u.yb)(i)||Object(u.xb)(i)?(Ie=this.props.featureLongerChannelNames?ir.rt("Export message history for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Export message history for <strong>{name}</strong>",{name:Object(u.w)(i),fallbackHash:"7e98401bb334b4d48829e4fdbcd144dc8a101003"},function(e){var t=e.key;return Ae(t,i)}),Re="Export message history for "+Object(u.w)(i)):(Ie=ir.rt("Export message history for this conversation",{fallbackHash:"c1d139527fa0d1b5faa28809a3b74d183f848622"}),Re="Export message history for this conversation"),this.steps.push(h()({children:a.a.createElement(Et,null),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0),e.props.exportChannelHistory(i),e.closeModal()},goButtonText:ir.t("Export"),title:this.renderOptionsListHeader(Ie,{containsChannel:Object(u.yb)(i)||Object(u.xb)(i)}),contentLabel:Re,qa:"export"},he,{showBackButton:Object(u.yb)(i)||Object(u.xb)(i)}))}else this.steps.push(ur);if(f){var Ne=this.props.featureLongerChannelNames?ir.rt("Delete {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Delete <strong>{name}</strong>",{name:Object(u.w)(i),fallbackHash:"73bcca2ef24ed39c3f2a63fea6c8e9e15150d0d7"},function(e){var t=e.key;return Ae(t,i)});this.steps.push(h()({children:a.a.createElement(yt,{channel:i,showArchiveInstead:this.props.showArchive,onClickArchiveInstead:this.onClickArchiveInsteadDelete,onChangeCheckbox:this.onChangeCheckboxDelete}),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0),e.props.setChannelDeleted(i.id),e.closeModal()},goButtonText:ir.t("Delete Channel"),goButtonType:"danger",title:this.renderOptionsListHeader(Ne,{containsChannel:!0}),contentLabel:"Delete "+Object(u.w)(i),qa:"delete"},he,{buttonAlignment:"float_right"}))}else this.steps.push(ur);if(y){var xe="";xe=this.props.featureLongerChannelNames?P?ir.rt("Set channel description for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Set channel purpose for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):P?ir.rt("Set channel description for <strong>{channelName}</strong>",{channelName:Object(u.w)(i)},function(e){var t=e.key;return Ae(t,i)}):ir.rt("Set channel purpose for <strong>{channelName}</strong>",{channelName:Object(u.w)(i)},function(e){var t=e.key;return Ae(t,i)});var Me=P?ir.t("Set channel description for {channelName}",{channelName:Object(u.w)(i)}):"Set channel purpose for "+Object(u.w)(i);this.steps.push(h()({children:a.a.createElement(it,{channel:i,purpose:i.purpose,onChannelPurposeTextareaChange:this.onChannelPurposeTextareaChange,onChannelPurposeValidationChange:this.onChannelPurposeValidationChange}),goButtonText:P?ir.t("Update Description"):ir.t("Update Purpose"),onBack:this.goBackToAllOptions,onGo:function(){e.goButtonIsPending(!0),i.purpose.value!==J&&e.props.submitChannelPurpose({channelId:i.id,purpose:J}).then(function(t){if(e.props.featureDegradedSend){var n=Object(C.a)(t,"channel.id"),r=Object(C.a)(t,"channel.purpose");if(!n||!r)return;e.props.setChannelPurpose({id:n,purpose:r})}}),e.closeModal()},title:this.renderOptionsListHeader(xe,{containsChannel:!0}),contentLabel:Me,qa:"purpose"},he))}else this.steps.push(ur);if(m){var Pe=void 0,De=void 0;Object(u.yb)(i)||Object(u.xb)(i)?(Pe=this.props.featureLongerChannelNames?ir.rt("Edit message retention for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Edit message retention for {name}",{name:a.a.createElement(Se.a,{channel:i,inline:!0})}),De="Edit message retention for "+Object(u.w)(i)):(Pe=ir.rt("Edit message retention for <strong>this conversation</strong>"),De="Edit message retention for this conversation"),this.steps.push(h()({children:a.a.createElement(gt,{member:r,team:o,onDurationChange:this.onRetentionDurationChange,onDurationUnitChange:this.onRetentionDurationUnitChange,onTypeChange:this.onRetentionTypeChange,prefsLoaded:re,retentionDuration:te,retentionDurationUnit:ne,retentionType:ae,teamRetentionType:be,teamRetentionDuration:de,durationInputRef:this.durationInputRef}),goButtonText:ir.t("Save"),onGo:this.showRetentionDialog,onBack:function(){e.setRetentionLoaded(!1),e.goBackToAllOptions()},title:this.renderOptionsListHeader(Pe,{containsChannel:Object(u.yb)(i)||Object(u.xb)(i)}),contentLabel:De,qa:"retention",stepModalClasses:"p-channel-options__retention_modal"},he))}else this.steps.push(ur);if(O){var Le=this.props.featureLongerChannelNames?ir.rt("Manage posting permissions for {channelName}",{channelName:a.a.createElement("span",{className:"channel_options_header__title"},a.a.createElement(Te.a,{channel:i,truncate:!0}))}):ir.rt("Manage posting permissions for <strong>{name}</strong>",{name:Object(u.w)(i),fallbackHash:"6e82adeae0a793fe96592833d990efcaf1cc8ab3"},function(e){var t=e.key;return Ae(t,i)});this.steps.push(h()({children:a.a.createElement(zn,{onChangeCheckbox:this.onChangeCheckboxCanThread,onChangeRadio:this.onChangeRadioWhoCanPost,isOrgDefault:Object(u.pb)(i),canThread:D,whoCanPost:pe,isEnterpriseTeam:T,postingPermissionsSelectedMembers:ee,onChangeValueSelectedMembers:this.onChangeValueSelectedMembers,postingPermissionsLoaded:$,currentMember:r}),onBack:function(){e.setPostingPermissionsSelectedMembers(null),e.setPostingPermissionsLoaded(!1),e.goBackToAllOptions(),e.clogPostingPermissionsAction(L.v.BACK)},onCancel:function(){l(),e.clogPostingPermissionsAction(L.v.CLOSE)},onGo:I?function(){e.setPostingPermissions(),e.clogPostingPermissionsAction(L.v.SAVE)}:null,goButtonText:I?ir.t("Save"):ir.t("Review"),contentLabel:"Manage posting permissions for "+Object(u.w)(i),title:this.renderOptionsListHeader(Le,{containsChannel:!0}),qa:"posting_privilege"},he),h()({children:a.a.createElement(Jn,{whoCanPost:pe,canThread:D,isEnterpriseTeam:T,channelPrefError:H,onErrorDialogButtonClick:this.onErrorDialogButtonClick}),onGo:this.setPostingPermissions,goButtonText:ir.t("Set posting permissions"),title:this.renderOptionsListHeader(ir.t("Review Changes")),contentLabel:"Review Changes",qa:"posting_privilege_review"},he))}else this.steps.push(ur,ur);if(g){var Fe=Object(u.sb)(i),Be=function(){if(Fe||"specific"!==W){if(Object(u.qb)(i)){if("all"===W)return!1}else if("specific"===W&&M&&Object(N.a)(Q.sort(),M.sort()))return!1}else{if(!Q.length)return!1;if(1===Q.length&&Q.indexOf(o.id)>-1)return!1}return!0},Ue=ir.rt("Add to other <span>{org_name}</span> workspaces",{org_name:S}),He=ir.t("Done");Be()&&(He=ir.t("Review Changes")),this.steps.push(h()({children:a.a.createElement(dn,{channel:i,disabledTeamIds:V,originatingTeamId:Y,filterFunction:this.manageOrgAccessFilterFunction,isLoaded:z,onShareWithChange:this.onChangeManageOrgAccessShareWith,onTeamPickerChange:this.onChangeManageOrgAccessTeamPicker,preselectedTeamIds:Q,shareWith:W}),goButtonText:He,onBack:function(){e.setManageOrgAccessLoaded(!1),e.goBackToAllOptions()},onGo:function(){if(e.goButtonIsPending(!0),Be())return Fe?(e.goToStep("manage_org_access_review"),void e.goButtonIsPending(!1)):void e.props.callEnterpriseNameTaken({channel:i,newChannelName:Object(u.w)(i)}).then(function(t){if(e.goButtonIsPending(!1),e.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access"}}),!t.ok||t.name_taken)return e.setState(function(){return{channelNameValid:!1}}),e.goButtonIsDisabled(!0),void e.modalRef.goToNextStep();e.goToStep("manage_org_access_review")}).catch(function(t){e.goButtonIsPending(!1),e.setState(function(){return{channelNameValid:!1}});var n=or.t("Oops, something went wrong."),r=ir.t("For some weird reason, that didn\u2019t work. Please try again.");throw e.showAlertDialog({message:r,title:n}),t});e.closeModal()},title:this.renderOptionsListHeader(Ue),contentLabel:"Manage access to "+Object(u.w)(i),qa:"manage_org_access"},he),h()({children:a.a.createElement(Ke,{additionalVerificationError:q,additionalVerificationGood:U,channel:i,isCheckingAdditionalVerification:B,onInvalidName:this.channelNameOnInvalidName,onValidName:this.channelNameOnValidName}),onBack:function(){e.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access"}}),e.goBackToManageAccessPrevStep()},goButtonText:ye,onGo:function(){e.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access_name_conflict",channelToBeShared:!1}}),e.modalRef.goToNextStep()},title:this.renderOptionsListHeader(ir.t("Rename this channel")),contentLabel:"Rename this channel",qa:"manage_org_access_name_conflict"},he),h()({children:a.a.createElement(_n,{channel:i,currentTeam:o,newChannelName:Z,shareWith:W,teamIdsSelected:Q}),goButtonText:ir.t("Save Changes"),onBack:this.goBackToManageAccessPrevStep,onGo:this.manageOrgAccessSave,title:this.renderOptionsListHeader(ir.t("Review Changes")),contentLabel:"Review Changes",qa:"manage_org_access_review"},he))}else this.steps.push(ur,ur,ur);return this.steps.length!==Object(w.a)(cr).length&&Object(b.a)({teamId:this.props.teamId}).error("ChannelOptions render error: It looks like the number of modal steps doesn\u2019t match the number of steps defined in the modal mapping. Please check that you have the correct number of filler steps added if your screen is not rendered."),a.a.createElement(we,{modalClasses:"channel_options_modal",onCancel:l,position:"fixed",ref:function(t){e.modalRef=t},showCloseTransition:!0,showOpenTransition:_,steps:this.steps})}}]),t}(r.PureComponent);dr.displayName="ChannelOptions",dr.defaultProps=lr;var br={archiveChannelApi:function(){return q.archiveChannelApi.apply(void 0,arguments)},cancelExternalSharedChannelInviteApi:function(){return G.A.apply(void 0,arguments)},callEnterpriseNameTaken:function(){return V.a.apply(void 0,arguments)},submitChannelPurpose:function(){return G.C.apply(void 0,arguments)},convertToOrgShared:function(){return V.e.apply(void 0,arguments)},convertChannelToPrivateApi:function(){return q.convertChannelToPrivateApi.apply(void 0,arguments)},openModal:function(){return l.e.apply(void 0,arguments)},renameChannelApi:function(){return q.renameChannelApi.apply(void 0,arguments)},updateOrgAccessForChannelApi:function(){return q.updateOrgAccessForChannelApi.apply(void 0,arguments)},exportChannelHistory:function(){return q.exportChannelHistory.apply(void 0,arguments)},setChannelDeleted:function(){return G.t.apply(void 0,arguments)},getChannelOrgOriginatingTeam:function(){return V.h.apply(void 0,arguments)},getChannelPref:function(){return G.l.apply(void 0,arguments)},setChannelPrefs:function(){return G.u.apply(void 0,arguments)},setChannelPurpose:function(){return q.setChannelPurpose.apply(void 0,arguments)},getExternalTeamIdsConnectedOnlyByChannel:function(){return G.o.apply(void 0,arguments)},disconnectChannel:function(){return G.c.apply(void 0,arguments)},getDataRetention:function(){return G.m.apply(void 0,arguments)},setDataRetention:function(){return G.x.apply(void 0,arguments)},getExternalSharedChannelInviteDetails:function(){return G.n.apply(void 0,arguments)},openSharedChannelConversionOrRequestModal:function(){return ye.apply(void 0,arguments)},openChannelOptions:function(){return fr.apply(void 0,arguments)},openDmBrowserModal:function(){return je.a.apply(void 0,arguments)}},pr=Object(M.b)(function(e,t){var n=t.channelId,r=Object(s.d)(e,n);if(!r)return{featureDefaultSharedChannels:Object(c.j)(e,"feature_default_shared_channels"),featureChangePurposeToDescription:Object(c.j)(e,"feature_change_purpose_to_description")};var a=[];(Object(u.Y)(r)||Object(u.ub)(r))&&(a=Object(u.M)(e,r).map(function(t){return Object(H.i)(e,t)}));var i=Object(H.d)(e),o=Object(z.q)(i);return{channel:r,channelName:Object(u.x)(e,r),currentMember:Object(U.b)(e),currentTeam:i,isEnterprise:o,dmRetentionDuration:Object(D.a)(e,"dm_retention_duration"),dmRetentionType:Object(D.a)(e,"dm_retention_type"),externalTeams:a,groupRetentionDuration:Object(D.a)(e,"group_retention_duration"),groupRetentionType:Object(D.a)(e,"group_retention_type"),orgName:Object(H.e)(e),channelRetentionDuration:Object(D.a)(e,"retention_duration"),channelRetentionType:Object(D.a)(e,"retention_type"),teamId:Object(A.b)(e),canDisconnectSharedChannels:Object(d.f)(e),featureDefaultSharedChannels:Object(c.j)(e,"feature_default_shared_channels"),featureChangePurposeToDescription:Object(c.j)(e,"feature_change_purpose_to_description"),featureDegradedSend:Object(c.j)(e,"feature_degraded_send"),featureAnnounceOnly:Object(c.j)(e,"feature_announce_only"),clogger:Object(Z.a)({state:e}),featureEscDisconnectV2ReleaseDependentCopy:Object(c.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),channelIsHostedByAnotherTeam:Object(u.db)(e,r),internalTeamIds:Object(u.B)(e,r),featureSonicChannelOptions:Object(c.j)(e,"feature_sonic_channel_options"),featureSonicEscCreation:Object(c.j)(e,"feature_sonic_esc_creation"),featureSonicDmBrowser:Object(c.j)(e,"feature_sonic_dm_browser"),canUserRequestSharedChannel:Object(d.M)(e),canUserCreateSharedChannel:Object(d.D)(e),featureLongerChannelNames:Object(c.j)(e,"feature_longer_channel_names")}},br)(dr),hr=n("7wM6"),mr=Object(o.b)("Open the channel options dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.section,o=n.params,p=n.showOpenTransition,h=void 0===p||p,m=t();if(Object(c.j)(m,"feature_sonic_channel_options")){var f=Object(s.d)(m,r);f&&!Object(u.Jb)(f)||Object(b.a)({getState:t}).warn("CHANNEL-OPTIONS","cannot option channel options; "+r+" not found");var v=Object(d.A)(m,r),g=Object(d.N)(m,r),_=Object(d.E)(m,r),O=Object(d.L)(m,r).ok,y=!Object(d.q)(m,r),j=Object(d.v)(m,r).ok,k=Object(d.O)(m,r),E=Object(d.J)(m,r),C=Object(d.K)(m,r),I=Object(d.t)(f),w=Object(d.u)(m,r),S=Object(d.G)(m,r);e(Object(l.e)({element:a.a.createElement(pr,{channelId:r,additionalParams:o,preselectedSection:i,onCancel:function(){return e(Object(l.a)())},showConvertToPrivate:v,showArchive:g,showDelete:_,showRename:O,disableRename:y,showPurpose:j,showDataRetention:k,showPostingPermissions:E,showManageOrgAccess:C,showStopShareExternal:I,showShareExternal:w,showExport:S,showOpenTransition:h}),name:"channel-options-dialog"}))}else Object(hr.a)(r,i,o)});mr.propTypes={channelId:i.b.string.isRequired,section:i.b.string,params:i.b.object,showOpenTransition:i.b.bool};var fr=t.a=mr},"94Dx":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("1zbP"),i=n("+yap"),o=n("XfeM"),s=n("TGBA"),c=n("wfE8"),l=n("CPJ1"),u=n("negh"),d=n("HO/Y"),b=n("3C31"),p=n("QTMz"),h=n("wYji"),m=n("clTI"),f=n("5mKg"),v=n("6kok"),g=n("DtX9"),_=n("pGee"),O=n("dyRQ"),y=n("D4L/"),j=n("FN36"),k=n("nNoG"),E=n("aLpA"),C=n("Fdc0"),I=n("FHcd"),w=n("uFGw"),S=new k.b("cmd_handlers"),T={SLASH_COMMAND:"slash_command"},R=function(e,t){return Object(C.Q)(e,t,!1,!0,!1)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.error,r=t.memberOrUserGroupId;switch(n&&n.message){case E.r.ALREADY_IN_CHANNEL:return S.t("{user} is already in this channel.",{user:R(e,r)});case E.r.ALREADY_IN_CHANNEL_UG:return S.t("All of the users in that user group are already in this channel.");case E.r.CHANNEL_NOT_FOUND:case E.r.INVALID_CHANNEL:return S.t("A valid channel name is required.");case E.r.USER_NOT_FOUND_UG:case E.r.USER_NOT_FOUND:return S.t("A valid member name is required.");case E.r.DEACTIVATED_USER:return S.t("That user has been deactivated.");case E.r.RESTRICTED_NOT_ADMIN:return S.t("*{user}* is a Multi-Channel Guest. Only your Workspace Admin can invite them to a channel.",{user:R(e,r)});case E.r.ULTRA_RESTRICTED_MAX:return S.t("*{user}* is a Single-Channel Guest and can\u2019t be added to a second channel. To invite {user} to this channel, you\u2019ll need to <{team_url}admin#restricted|upgrade their membership> to a Multi-Channel Guest. \u200bNote: This will add a billable seat to your workspace.",{user:R(e,r),team_url:Object(f.o)(Object(y.d)(e))});case E.r.ULTRA_RESTRICTED_MAX_NOT_ADMIN:return S.t("*{user}* is a Single-Channel Guest and can\u2019t be added to a second channel. Your Workspace Admin can upgrade their membership to a Multi-Channel Guest.",{user:R(e,r)});case E.r.ULTRA_RESTRICTED_NOT_ADMIN:return S.t("*{user}* is a Single-Channel Guest. Only your Workspace Admin can invite them to a channel.",{user:R(e,r)});case E.r.ORG_USER_NOT_IN_TEAM:return S.t("*{user}* is not a member of {team_name}.",{user:R(e,r),team_name:Object(f.e)(Object(y.d)(e)),fallbackHash:"d7a1dc3c6ef52f593e68cf08f06cfe29e336054e"});case E.r.GRID_EXTERNAL_USER_CANNOT_JOIN_OTHER_EXTERNAL_CHANNEL:return S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from a workspace outside your organization.",{member_name:R(e,r),fallbackHash:"67e70d023e0043ef8816a1f155a673a08f033bed"});case E.r.GRID_EXTERNAL_USER_CANNOT_JOIN_CHANNEL:return Object(f.e)(Object(y.d)(e))?Object(f.C)(e,Object(y.d)(e))?S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from a workspace outside your organization. If you\u2019d like, you can share this channel with {team_name}.",{member_name:R(e,r),team_name:Object(f.e)(Object(y.d)(e)),fallbackHash:"c73ea717e78d67be74042841e65da85f6382295f"}):S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from a workspace outside your organization. If you\u2019d like, you can share this channel with {team_name}. <https://get.slack.help/hc/articles/115004151183|Learn about shared channels>",{member_name:R(e,r),team_name:Object(f.e)(Object(y.d)(e)),fallbackHash:"7882efe80db10abbb9444ee0a7a0678faae0ce5e"}):S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from a workspace outside your organization.",{member_name:R(e,r),fallbackHash:"67e70d023e0043ef8816a1f155a673a08f033bed"});case E.r.EXTERNAL_USER_CANNOT_JOIN_OTHER_EXTERNAL_CHANNEL:return S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from another workspace.",{member_name:R(e,r),fallbackHash:"45b34b3de7c0b79c1810de98ef7ab08676a8b362"});case E.r.EXTERNAL_USER_CANNOT_JOIN_CHANNEL:return Object(f.e)(Object(y.d)(e))?1===Object(j.a)(e,"enable_shared_channels")?S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from another workspace. If you\u2019d like, you can share this channel with {team_name}.",{member_name:R(e,r),team_name:Object(f.e)(Object(y.d)(e)),fallbackHash:"6d0d400686bff72776b3ec624d0477a491fc97d3"}):S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from another workspace. If you\u2019d like, you can share this channel with {team_name}. <https://get.slack.help/hc/articles/115004151183|Learn about shared channels>",{member_name:R(e,r),team_name:Object(f.e)(Object(y.d)(e)),fallbackHash:"fc4ec08c96b8476f2b02f7a58c6fe1927ab3670e"}):S.t("*{member_name}* can\u2019t be invited to this channel because they\u2019re from another workspace.",{member_name:R(e,r),fallbackHash:"45b34b3de7c0b79c1810de98ef7ab08676a8b362"});case E.r.WIP:return"Sorry, that doesn't work yet!";default:return S.t("Hmm, something went wrong. Try again?",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"app_management_modal"})}},x=Object(o.b)("Get the correct error message for single-guest invite failures",function(e,t,n){return e(Object(l.d)({userId:n,keys:["channels"]})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channels;if(e instanceof Array&&e.length)throw new Error(E.r.ULTRA_RESTRICTED_MAX_NOT_ADMIN);throw new Error(E.r.ULTRA_RESTRICTED_NOT_ADMIN)})});x.propTypes=r.b.string.isRequired;var M=Object(o.b)("Given a failure message, normalizes it to one of our known errors (if applicable)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.error,a=n.memberOrUserGroupId,i=void 0;if(r&&r.data){var o=r.data;i=o.errors&&o.errors.length?o.errors[0].error:o.error}switch(i){case"cant_invite_self":return Promise.reject(new Error(E.r.ALREADY_IN_CHANNEL_UG));case"already_in_channel":return Promise.reject(new Error(E.r.ALREADY_IN_CHANNEL));case"channel_not_found":return Promise.reject(new Error(E.r.CHANNEL_NOT_FOUND));case"user_not_found":return Promise.reject(new Error(E.r.USER_NOT_FOUND));case"subteam_not_found":case"subteam_members_not_found":return Promise.reject(new Error(E.r.USER_NOT_FOUND_UG));case"method_not_supported_for_channel_type":return Promise.reject(new Error(E.r.INVALID_CHANNEL));case"user_is_restricted":return Promise.reject(new Error(E.r.RESTRICTED_NOT_ADMIN));case"ura_max_channels":return Promise.reject(new Error(E.r.ULTRA_RESTRICTED_MAX));case"user_is_ultra_restricted":return e(x(a));case"org_user_not_in_team":return Promise.reject(new Error(E.r.ORG_USER_NOT_IN_TEAM));default:return Promise.reject(r)}});M.propTypes={error:r.b.object,memberId:r.b.string.isRequired};var P=Object(o.b)("Given a failure message for user group invite, normalizes it to one of our known errors (if applicable)",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).error;if(n&&n.data&&n.data.error)switch(n.data.error){case"already_in_channel":case"cant_invite_self":return Promise.reject(new Error(E.r.ALREADY_IN_CHANNEL_UG));case"channel_not_found":return Promise.reject(new Error(E.r.CHANNEL_NOT_FOUND));case"user_not_found":case"subteam_not_found":case"subteam_members_not_found":return Promise.reject(new Error(E.r.USER_NOT_FOUND_UG));default:return Promise.reject(n)}return Promise.reject(n)});P.propTypes={error:r.b.object};var A=Object(o.b)("Invite member to channel by ID",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.memberId,o=n.reason,s=n.onAppError,l=t(),f=Object(g.c)(l,i),_=o===T.SLASH_COMMAND,y=_;if(Object(a.c)(f))return Promise.reject(new Error(E.r.USER_NOT_FOUND));if(Object(a.b)(f)){if(Object(C.eb)(f))return Promise.reject(new Error(E.r.DEACTIVATED_USER));if(Object(C.bb)(f))return e(Object(b.a)({appUserId:i,channelId:r,onError:s,referringEventId:_?u.k.BUILTIN_CHAT_COMMAND_CALLED:void 0,sendEphemeralErrorMessage:y})).catch(function(e){if(!y)throw e});var j=Object(g.b)(l),k=Object(C.X)(j),I=Object(m.d)(l,r,!1);if(f){if(Object(C.Db)(f)&&!k)return e(x(i));if(Object(C.xb)(f)&&!k&&!Object(v.xb)(I))return Promise.reject(new Error(E.r.RESTRICTED_NOT_ADMIN));var w=Object(C.i)(l,r,f.id),S=w.ok,R=w.reason;if(!Object(v.lb)(I)&&!S)return Promise.reject(new Error(R))}}var P=Object(O.f)(l,r,i);if(P.isKnown&&P.isMember)return Promise.reject(new Error(E.r.ALREADY_IN_CHANNEL));if(Object(d.j)(l,"feature_sonic_channel_invite_modal")&&Object(v.xb)(Object(m.d)(l,r))){return e(Object(p.b)({channelId:r,users:i,shouldOpenChannelInviteModal:!1,onInviteError:function(t){if(!y)throw t;var n=t&&t.args&&t.args.channel;if(!n)throw t;e(M({error:t,memberId:i})).catch(function(t){e(Object(h.b)({temporary:!1,message:{text:N(l,{error:t,memberOrUserGroupId:i,channelId:n}),channel:n}}))})}})),Promise.resolve()}return e(Object(c.J)({channelId:r,users:i})).catch(function(t){return e(M({error:t,memberId:i}))})});A.propTypes={channelId:r.b.string.isRequired,memberId:r.b.string.isRequired,reason:r.b.oneOf(Object(s.a)(T)).isRequired,onAppError:r.b.func};var D=Object(o.b)("Invite user group to channel by ID",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.userGroupId,o=t(),s=Object(_.e)(o,i);return Object(a.c)(s)?Promise.reject(new Error(E.r.USER_NOT_FOUND)):e(Object(c.J)({channelId:r,subteams:i})).catch(function(t){return t&&t.data&&t.data.ok?null:e(P({error:t}))})});D.propTypes={channelId:r.b.string.isRequired,userGroupId:r.b.string.isRequired};var L=Object(o.b)("Invite member or user group to channel by ID -- rejects promise if invalid",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberOrUserGroupId,i=n.channelId,o=n.reason,s=n.onAppError,c=t(),l=Object(m.d)(c,i);return Object(a.c)(l)?Promise.reject(new Error(E.r.CHANNEL_NOT_FOUND)):Object(w.a)(r)?e(D({channelId:i,userGroupId:r})):Object(I.a)(r)?e(A({channelId:i,memberId:r,reason:o,onAppError:s})):Promise.reject(new Error(E.r.USER_NOT_FOUND))});L.propTypes={memberOrUserGroupId:r.b.string.isRequired,channelId:r.b.string.isRequired,reason:r.b.oneOf(Object(s.a)(T)).isRequired,onAppError:r.b.func};var q=L,F=n("K2yZ"),B=n("RB1+"),U=E.P.CUSTOM_ERROR,H=Object(o.b)("/invite slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,o=n.originalText,s=n.words,c=void 0===s?[]:s,l=c[1]||"",u=l.startsWith("@")?l.slice(1):l,b=c[2]||"",p=b?e(Object(F.a)({name:b})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;if(Object(a.b)(e))return e.id;throw new Error(E.r.CHANNEL_NOT_FOUND)}):Promise.resolve(r);return(u?p.then(function(n){return e(q({channelId:n,memberOrUserGroupId:u,reason:T.SLASH_COMMAND,onAppError:function(){if(Object(d.j)(t(),"feature_sonic_inputs")){var e=Object(B.a)({viewContext:E.C.MESSAGE_PANE,channelId:r});e&&e.setText(o)}else Object(i.e)(o)}}))}):Promise.reject(new Error(E.r.USER_NOT_FOUND))).catch(function(e){var n=Error(U);return n.feedback=N(t(),{error:e,memberOrUserGroupId:u}),Promise.reject(n)})});H.propTypes={channelId:r.b.string.isRequired,words:r.b.arrayOf(r.b.string.isRequired).isRequired,originalText:r.b.string.isRequired};t.default=H},"96kD":function(e,t,n){"use strict";var r=n("ifKl"),a=n("kxpR"),i=n.n(a),o=n("aK/h"),s=n("MnCE"),c=n("lek6"),l=n("TSYQ"),u=n.n(l),d=n("aLpA"),b=(n("dVou"),o.b.string.isRequired,o.b.bool.isRequired,o.b.string,o.b.number,o.b.number,o.b.func,o.b.bool,o.b.string,o.b.bool,o.b.bool,{parent:void 0,maxNewlines:void 0,maxCharacters:void 0,onRender:r.a,noJumbomoji:!1,className:"",showTooltips:!0,noLinking:!1}),p=function(e){var t=e.text,n=e.parent,r=e.emoji,a=e.maxNewlines,o=e.maxCharacters,s=e.onRender,l=e.noJumbomoji,b=e.className,p=e.showTooltips,h=e.noLinking,m=u()("p-plain_text_element",b,{"p-context_block__text":n===d.d.context,"p-image_block__title":n===d.d.image});return i.a.createElement("div",{className:m,"data-qa":"bk-plain_text_element"},i.a.createElement(c.a,{tsfMode:r?"NOMRKDWN":"EDIT",text:t,onRender:s,maxCharacters:o,maxNewlines:a,noJumbomoji:l,showTooltips:p,noLinking:h}))};p.displayName="PlainText",p.defaultProps=b,t.a=Object(s.a)(p)},"9D+4":function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return C}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return S}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return R});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("owWc"),l=n("Z0Cl"),u=n("/1FC"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("HO/Y"),f=n("DtX9"),v=n("CPJ1"),g=n("Fdc0"),_=n("XfeM"),O=n("ZKnj"),y=n("yHhI"),j="active",k="away",E=Object(b.b)("Update the presence status of a user");E.propTypes={memberId:d.b.string.isRequired,presence:d.b.string.isRequired};var C=Object(b.b)("bulk update presence for users");C.propTypes=d.b.arrayOf(d.b.shape({id:d.b.string.isRequired,presence:d.b.string.isRequired}));var I=Object(p.b)((r={},i()(r,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.presence;return n&&r?e&&e[n]===r?e:s()({},e,i()({},n,r)):e}),i()(r,C,function(e,t){if(!Object(u.a)(t))return e;var n=Object(l.a)(t,function(t){return!!(t&&t.id&&t.presence)&&t.presence!==e[t.id]});return n.length?Object(c.a)(n,function(e,t){return e[t.id]=t.presence,e},s()({},e)):e}),r),{},{persistenceEnabled:!1});I.propTypes=d.b.objectOf(d.b.string),t.d=I;var w=Object(h.b)(function(e,t){var n=Object(f.c)(e,t,!1);return Object(g.Y)(n)&&!Object(g.Gb)(n)?j:Object(g.Z)(n)?k:e&&e.presence&&e.presence[t]}),S=Object(h.b)(function(e){return e&&e.presence&&w(e,Object(m.b)(e))}),T=Object(_.b)("Set the presence of the currently authenticated user",function(e,t,n){var r=t(),a=Object(m.b)(r),i=w(r,a);e(E({memberId:a,presence:n})),Object(m.j)(r,"feature_degraded_send")&&e(Object(O.a)({presence:n}));var o=Object(y.a)({getState:t}).debug;return o("[PRESENCE] ","Updating user presence to "+n+", memberId "+a),e(Object(v.l)(n)).catch(function(){o("[PRESENCE ]","Updating user presence to "+n+" FAILED, reverting to "+i+". memberId "+a),e(E({memberId:a,presence:i})),Object(m.j)(r,"feature_degraded_send")&&e(Object(O.a)({presence:i}))}).tap(function(){o("[PRESENCE] ","Updating user presence to "+n+" succeeded. memberId "+a)})});T.propTypes=d.b.string.isRequired;var R=Object(_.b)("Toggle the presence of the currently authenticated user",function(e,t){var n=t(),r=Object(m.b)(n),a=w(n,r),i=Object(f.c)(n,r),o=Object(g.Y)(i);return e(T(o||a===k?j:k))})},"9EOT":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("9/KO"),o=n("clTI"),s=n("6kok"),c=Object(a.b)("/rename slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.originalRest,c=t(),l=Object(o.d)(c,r),u=a||Object(s.x)(c,l,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});e(Object(i.a)({channelId:r,section:"rename",params:{name:u}}))});c.propTypes={channelId:r.b.string,originalRest:r.b.string},t.default=c},"9HJ0":function(e,t,n){"use strict";n.d(t,"e",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return v});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("IzLi"),l=n("aK/h"),u=n("EzZj"),d=n("MNvw"),b=n("U/ze"),p=Object(u.b)("Expand or collapse by key");p.propTypes={key:l.b.string.isRequired,isExpanded:l.b.bool.isRequired};var h=Object(u.b)("Bulk expand or collapse");h.propTypes=l.b.object.isRequired;var m=Object(d.b)((r={},i()(r,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.isExpanded;return n&&e[n]!==r?s()({},e,i()({},n,r)):e}),i()(r,h,function(e,t){return Object(c.a)(t)?s()({},e,t):e}),r),{},{persistenceEnabled:!0,persistImmediately:!0});m.propTypes=l.b.objectOf(l.b.bool),t.b=m;var f=Object(b.b)(function(e,t){return e&&e.expandables&&e.expandables[t]}),v=Object(b.b)(function(e){return e&&e.expandables})},"9MBZ":function(e,t,n){"use strict";var r=n("ifKl"),a=n("kxpR"),i=n.n(a);t.a=i.a.createContext({setViewState:r.a,unsetViewState:r.a,serverErrors:{},showErrors:!1,viewId:void 0,viewState:void 0})},"9MC8":function(e,t,n){"use strict";n.d(t,"b",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("jF/p"),c=n("/1FC"),l=n("aK/h"),u=n("MNvw"),d=n("U/ze"),b=n("Iq6W"),p=Object(u.b)(a()({},b.a,function(e,t){if(!t||!t.length||!Object(c.a)(t))return e;var n=Object(s.a)(t,"ts");if(!n)return e;var r=n.ts>e.maxTs?n.ts:e.maxTs;return o()({},e,{maxTs:r})}),{maxTs:"0"},{persistenceEnabled:!0});p.propTypes={maxTs:l.b.string},t.a=p;var h=Object(d.b)(function(e){return e&&e.notifications&&e.notifications.maxTs})},"9PC1":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return b}),n.d(t,"l",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"o",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"k",function(){return _}),n.d(t,"j",function(){return O}),n.d(t,"d",function(){return y}),n.d(t,"i",function(){return j}),n.d(t,"m",function(){return k}),n.d(t,"g",function(){return E}),n.d(t,"n",function(){return C});var r=n("owWc"),a=n("fujP"),i=n("BlE4"),o=n("mM05"),s=n.n(o),c=n("cErB"),l=n("APEC"),u=[".",",",";",":","?","!","]",")","*","_","~",">"],d=[".",",",";",":","?","!","[","(","*","_","~","<"],b=function(e,t){return e.reduce(function(e,n){return n[t]?e+n[t]:e},"")},p=function(e,t){var n=Element.prototype,r=n.matches,a=n.webkitMatchesSelector,i=n.mozMatchesSelector,o=n.msMatchesSelector;return(r||a||i||o||function(e){var t=document.querySelectorAll(e);return-1!==Array.indexOf.call(t,this)}).call(e,t)},h=function(e,t){for(var n=e;n&&n!==document.body;){if(p(n,t))return n;n=n.parentNode}},m=function(e,t){if(e&&!Object(a.a)(t))for(var n=void 0,r=Object.keys(t),i=0;i<r.length;i++)n=r[i],e.setAttribute(n,t[n])},f=function(e){m(e,{"aria-hidden":!0,role:"presentation",tabindex:-1})},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return Object(r.a)(e,function(e,n){return Object(l.a)(n)?""+e+t:e+n.insert},"")},g=function(e,t,n){return v(e?e.ops:[]).substr(t,n)},_=function(e){if(!e)return!1;var t=e.match(/```/g);return!!t&&!!(t.length%2)},O=function(e){var t=e;if(!t)return!1;if(_(t))return!0;var n=(t=t.replace(/`{3}([\s\S]*?)`{3}?/g,"")).match(/`/g);return!!n&&!!(n.length%2)},y=function(e){var t=[];return e.replace(c.a,function(e,n,r,a,i,o){t.push({start:o,end:o+e.length})}),t},j=function(e,t){for(var n=0;n<t.length;n++)if(e>=t[n].start&&e<=t[n].end)return!0;return!1},k=function(e,t,n,r){if(e&&r){var a=e.getFormat(t,n);a&&a[r]&&(a[r]=null,e.formatText(t,n,a))}},E=function(e){return Object(l.a)(e)?1:e.insert.length};function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=v(e.ops),a=Object(i.a)(r,"\n")?""+r.slice(0,-1)+n+"\n":""+r+n;return(new s.a).insert(t+a)}},"9ToC":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;function a(e){var t=e.match(r);return t&&1===t.length&&t[0]===e||!1}function i(e){var t=e.csv,n=e.min,r=void 0===n?0:n,a=e.max,i=void 0===a?10:a,o=t.split(/\s*,\s*/).length;return{minViolation:o<r,maxViolation:o>i}}},"9cNQ":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return p});var r=n("3Hq1"),a=n("jeQL"),i=n("aK/h"),o=n("om+M"),s=n("4zXV"),c=n("0iF4"),l=n("clTI"),u={},d=Object(o.a)("Get pinned items for channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason,i=u;return i[r]||(i[r]=e(Object(s.a)({method:"pins.list",args:{channel:r},reason:a})),i[r].then(function(e){var n=t(),a=Object(l.d)(n,r);a&&Object(c.d)(e,a)}),i[r].finally(function(){return delete i[r]})),i[r]});d.propTypes={channelId:i.b.string.isRequired,reason:i.b.string.isRequired};var b=Object(o.a)("Pin Message to channel",function(e,t,n){var i=n.ts,o=n.fileId,c=n.fileCommentId,l=n.channelId,u=n.reason;return e(Object(s.a)({method:"pins.add",reason:u,args:Object(a.a)({channel:l,timestamp:i,file:o,file_comment:c},r.a)}))});b.propTypes={channelId:i.b.string.isRequired,ts:i.b.string,fileId:i.b.string,fileCommentId:i.b.string,reason:i.b.string.isRequired};var p=Object(o.a)("Unpin Message from channel",function(e,t,n){var i=n.ts,o=n.fileId,c=n.fileCommentId,l=n.channelId,u=n.reason;return e(Object(s.a)({method:"pins.remove",reason:u,args:Object(a.a)({channel:l,timestamp:i,file:o,file_comment:c},r.a)}))});p.propTypes={channelId:i.b.string.isRequired,ts:i.b.string,fileId:i.b.string,fileCommentId:i.b.string,reason:i.b.string.isRequired}},"9evh":function(e,t,n){},"9gIX":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("XHGt"),m=n("aK/h"),f=n("TSYQ"),v=n.n(f),g=n("g5qt"),_=n("9/DQ"),O=n("yPgC"),y=n("P9LH"),j=n("hOQf"),k=n("nNoG"),E=n("negh"),C=n("tbBR"),I=n("0f2Y"),w=n("kOzZ"),S=n("wOaD"),T=n("K5QD"),R=new k.b("files"),N=(m.b.func,O.a.File().isRequired,m.b.oneOf(["slide","window","external","view","detail","download"]),m.b.string,m.b.func,m.b.node,m.b.bool,m.b.object.isRequired,m.b.string,{startDesktopDownload:d.a,action:void 0,className:void 0,onClick:void 0,children:void 0,showThumbnail:!0,viewContext:null}),x=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.clogPricingLinkClick=n.clogPricingLinkClick.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.file,n=e.clogger;Object(y.H)(t)&&n.track(E.k.GROWTH_PRICING,{contexts:{ui_context:{action:E.v.IMPRESSION,step:this.getClogUiStep(),ui_component:E.w.FILE_STORAGE_LIMIT_BANNER}}})}},{key:"onClick",value:function(e){var t=this.props,n=t.action,r=t.file;g.X&&"download"===n?(e.preventDefault(),this.props.startDesktopDownload({fileId:r.id,downloadUrl:r.url_private_download,showFlexpane:!0})):this.props.onClick(e)}},{key:"getClogUiStep",value:function(){return Object(j.z)(this.props.viewContext)}},{key:"clogPricingLinkClick",value:function(){this.props.clogger.track(E.k.GROWTH_PRICING,{contexts:{ui_context:{action:E.v.CLICK,step:this.getClogUiStep(),ui_element:E.y.PRICING_LINK,ui_component:E.w.FILE_STORAGE_LIMIT_BANNER}}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.file,r=t.action,a=t.onClick,i=t.showThumbnail,o=Object(y.M)(n),s=Object(y.H)(n),c=v()("c-pillow_file__header",this.props.className,{"c-pillow_file__header--tombstone":o,"c-pillow_file__header--hidden":s,"c-pillow_file__header--fsfv":"view"===r});if(o)return p.a.createElement("div",{className:c},p.a.createElement(S.a,{file:n}),p.a.createElement("span",null,R.t("This file was deleted.")));if(s)return p.a.createElement("div",{className:c},p.a.createElement(S.a,{file:n}),p.a.createElement("span",null,R.rt("This file can\u2019t be shown because your workspace has passed the free plan\u2019s 5 GB storage limit. <a>See paid plans</a>",null,function(t){var n=t.text;return p.a.createElement(I.a,{href:"/pricing?ui_step="+e.getClogUiStep()+"&ui_element="+E.y.PRICING_LINK,target:"_blank",onClick:e.clogPricingLinkClick,"data-qa":"pillow-file-header__pricing-link"},n)})));var l=p.a.createElement(p.a.Fragment,null,p.a.createElement(S.a,{file:n,action:r,showThumbnail:i}),p.a.createElement("div",{className:"c-pillow_file__description"},p.a.createElement(T.a,{file:n,className:"c-pillow_file__title"}),p.a.createElement("div",{className:"c-pillow_file__meta"},this.props.children)));if(a){var u=n.permalink;return"download"===r&&(u=n.url_private_download),"external"!==r&&"remote"!==r&&"window"!==r||(u=n.url_private),p.a.createElement(I.a,{href:u,target:u,onClick:this.onClick,className:c},l)}return p.a.createElement("div",{className:c},l)}}]),t}(b.PureComponent);x.displayName="FileHeader",x.defaultProps=N;var M={startDesktopDownload:function(){return _.r.apply(void 0,arguments)}};t.a=Object(C.b)(Object(h.b)(function(e){return{clogger:Object(w.a)({state:e})}},M)(x))},"9gxL":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return j});var r=n("zmn3"),a=n("OZf9"),i=n("Z0Cl"),o=n("peh1"),s=n("rtjy"),c=n("U/ze"),l=n("HO/Y"),u=n("1VpL"),d=n("uf9I"),b=n("n2GJ"),p=n("DVJN"),h=n("DecA"),m=n("qjdt"),f=n("cLE1"),v=Object(c.b)(function(e){return Object(l.j)(e,"feature_app_actions_fe_refactor")?e&&e.appActions&&e.appActions.refactored||f.d:h.f(e)}),g=Object(c.b)(function(e){var t=v(e),n=t.isLoaded,r=Object(d.b)(e);return n?Object(m.c)(r):Object(m.a)(r),t}),_=function(e,t){return Object(r.a)(t,function(t){return{app:Object(u.e)(e,t.appId),id:t.id,name:t.name,description:t.description}})},O=Object(o.createSelector)([function(e){return v(e).actions},function(e){return Object(s.b)(e)}],function(e,t){var n={};Object(a.a)(e,function(e){if(e.type===p.a.messageAction){var t=Object(b.d)(e);n[t]=e}});var r=[];return Object(a.a)(t,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=n[e];t&&r.push(t),delete n[e]}),Object(a.a)(n,function(e){return r.push(e)}),r}),y=Object(c.b)(function(e){if(!Object(l.j)(e,"feature_app_actions_fe_refactor"))return h.h(e);var t=g(e),n=t.isLoaded,r=t.fetchFailed,a=O(e);return{actions:_(e,a),loading:!n,error:r}}),j=Object(c.b)(function(e){if(!Object(l.j)(e,"feature_app_actions_fe_refactor"))return h.g(e);var t=g(e),n=t.actions,r=t.isLoaded,a=t.fetchFailed,o=Object(i.a)(n,{type:p.a.globalAction});return{actions:_(e,o),loading:!r,error:a}});Object(c.b)(Object(o.createSelector)([j],function(){return function(e){var t={};return Object(a.a)(e,function(e){t[e.id]=e}),t}((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).actions)}))},"9hu3":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Initialize user preferences");i.propTypes=r.b.object.isRequired;var o=Object(a.b)("Update one user pref");o.propTypes={pref:r.b.string.isRequired,value:r.b.any.isRequired};var s=Object(a.b)("Update multiple users pref");s.propTypes=r.b.object.isRequired},"9jxm":function(e,t,n){},"9kTo":function(e,t,n){"use strict";t.a=function(){return document&&document.documentElement&&document.documentElement.dataset&&"docs"===document.documentElement.dataset.app}},"9krN":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("ITcr"),l=n("aLpA"),u=n("od5y"),d=n("A+cF"),b=n("kd6D");n("4dvI"),s.b.oneOf(l.B).isRequired,s.b.bool;function p(e){var t=e.id,n=e.isDeactivated,r=Object(c.a)(t);if(!r)return null;var i=r.name,s=r.description,l=n?b.c.dim:null;return o.a.createElement(d.d,{avatar:function(e){return o.a.createElement(u.b,a()({},e,{type:"broadcast",size:"inherit"}))},size:"small",style:l,text:o.a.createElement("span",null,o.a.createElement("span",{className:"c-broadcast_entity__label"},"@",i),s)})}p.displayName="SmallBroadcastEntity",p.defaultProps={isDeactivated:!1},t.a=p},"9mdM":function(e,t,n){"use strict";var r=n("TGBA"),a=n("aK/h"),i=n("kxpR"),o=n.n(i),s=n("nNoG"),c=n("hCvz"),l=n("od5y"),u=(n("eb6J"),new s.b("user_group_token")),d={unknown:"unknown",nonexistent:"non-existent"},b={small:"small",medium:"medium"},p=(a.b.oneOf(Object(r.a)(d)),a.b.bool,a.b.oneOf(Object(r.a)(b)),a.b.bool,{type:d.unknown,subtler:!1,size:b.small,invert:!1});function h(e){var t=e.invert,n=e.size,r=e.type,a=e.subtler,i=r===d.unknown?u.t("Loading..."):u.t("Private user group info");return n===b.medium?o.a.createElement("div",null,o.a.createElement("div",{className:"c-medium_missing_user_group__row"},o.a.createElement(l.b,{type:"user_groups",inline:!0,className:"c-medium_missing_user_group__icon"}),o.a.createElement(c.b,{tooltip:i,isNonExistent:"non-existent"===r,size:"random",subtler:a,invert:t})),o.a.createElement(c.b,{tooltip:i,isNonExistent:"non-existent"===r,size:"random",subtler:a,className:"c-medium_missing_user_group__row",invert:t})):o.a.createElement(c.b,{tooltip:i,isNonExistent:r===d.nonexistent,size:"random",subtler:a,invert:t})}h.displayName="MissingUserGroup",h.defaultProps=p;var m=h;t.a=m},"9svP":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Jnq/");function a(e,t,n){var a=e*Object(r.a)(t,n,!0);return Math.ceil(e+a)}},"9tyN":function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("lCmp"),o=n("NFsq"),s=n("nNoG"),c=new RegExp("["+["`","\xb4","\u02c6","\xa8","\u02dc"].join("")+"]$"),l=n("KPXh");t.a=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowPartialMatches,r=void 0!==n&&n;if(!t||!e)return!1;var u=t.toLowerCase().replace(/^\uff0f/,"/");u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(c,"")}(u=Object(s.a)(u));var d=[Object(l.g)(e),Object(l.d)(e)].concat(a()(Object(l.b)(e)||[]));return Object(i.a)(d,function(e){var t=Object(s.a)(e);return r?Object(o.a)(t,u):t===u})}},"9v4y":function(e,t,n){},"9vuj":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("3MJR"),a=n("OZtQ"),i=n("Szmb");function o(e){var t=Object(r.r)(e);if("messages"===t){var n=Object(i.c)(e),o=Object(r.i)(e,n);if(!o)return null;if(!o.loading)return Object(a.n)(e,{module:n,page:o.page})}else if("files"===t){var s=Object(r.i)(e,"files");if(!s)return null;if(!s.loading)return Object(a.n)(e,{module:"files",page:s.page})}else if("channels"===t){var c=Object(r.i)(e,"channels");if(!c)return null;if(!c.loading)return Object(a.n)(e,{module:"channels",page:c.page})}return null}},"A+cF":function(e,t,n){"use strict";var r=n("X5Eo"),a=n("3tRM");n.d(t,"c",function(){return a.a});var i=n("8Sv9");n.d(t,"b",function(){return i.a});var o=n("0DE1");n.d(t,"a",function(){return o.a}),t.d=r.a},"A+wp":function(e,t,n){"use strict";n.d(t,"b",function(){return j});var r=n("m1cH"),a=n.n(r),i=n("CpTu"),o=n("Z0Cl"),s=n("aK/h"),c=n("nNoG"),l=n("9tyN"),u=n("GkXS"),d=n("XfeM"),b=n("KPXh"),p=n("5mKg"),h=n("M4HD"),m=n("D4L/"),f=n("1VpL"),v=n("HO/Y"),g=n("dyRQ"),_=n("pWPO"),O=n("XYkb"),y=new c.b("cmd_handlers"),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],o=t.slice().sort(function(e,t){return Object(c.o)(e.name,t.name)}),s=[],u=[],d=[],b={};o.forEach(function(t){switch(t.type){case"client":case"core":s.push(t);break;case"custom":u.push(t);break;case"service":b[t.service_name]||(b[t.service_name]={commands:[],name:t.service_name}),b[t.service_name].commands.push(t);break;case"app":var r=Object(f.e)(e,t.app);if(r&&r.name){if(!b[r.name]){var a=!0;if(Object(h.g)(r)){var i=Object(g.f)(e,n,r.app_user_id);a=!i.isKnown||i.isMember}b[r.name]={commands:[],name:r.name,isInChannel:a}}b[r.name].commands.push(t)}else d.push(t);break;default:d.push(t)}});var j=Object.keys(b).sort(c.o).map(function(e){return b[e]}),k=r&&function(e,t){var n=Object(O.b)(e)||{},r=n.canonicalName,a=n.delta;if(!r||!a)return null;if(!Object(i.a)(t,function(e){return Object(l.a)(e,r)}))return null;var o=Object(_.a)({contents:a.ops}),s=o.indexOf(" ");return{delta:a,type:"last-used",name:o.slice(0,s),usage:o.slice(s+1)}}(e,t),E=Object(v.j)(e,"feature_sonic_inputs"),C=[];if(E&&k&&C.push({name:y.t("Last Used"),commands:[k]}),s.length&&C.push({name:"Slack",commands:s}),u.length){var I=Object(m.d)(e),w=Object(p.e)(I);C.push({name:w,commands:u})}return j.length&&C.push.apply(C,a()(j)),E&&d.length&&C.push({name:y.t("Other"),commands:d}),C},k=Object(d.b)("Find commands that match a search query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.channelId,i=n.isThread,s=t(),c=Object(u.b)(s),d=Object(o.a)(c,function(e){return!!Object(b.j)(s,e,{channelId:a,isThread:i})&&(!!Object(b.k)(s,e,{channelId:a,isThread:i}).isEnabled&&Object(l.a)(e,r,{allowPartialMatches:!0}))}),p=r&&1===r.length,h=j(s,d,a,p);return Promise.resolve(h)});k.propTypes={query:s.b.string,isThread:s.b.bool},t.a=k},A4tE:function(e,t,n){},A7Fl:function(e,t,n){},A8q6:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("sk9p"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("kxpR"),u=n.n(l),d=n("TSYQ"),b=n.n(d),p=n("aK/h"),h=n("NB3s"),m=n("lCOO");n("NBf8"),p.b.string.isRequired,p.b.objectOf(p.b.shape({modalProps:p.b.object,render:p.b.func.isRequired})).isRequired;function f(e){var t=e.defaultPane,n=e.panes,r=c()(e,["defaultPane","panes"]),i=Object(m.a)(),s=Object(l.useState)({pane:t}),d=o()(s,2),p=d[0],f=d[1],v=Object(l.useCallback)(function(e,t){return f({pane:e,props:t})},[]),g=n[p.pane],_=g.render,O=g.modalProps,y=void 0===O?{}:O;return _||i.error("MULTI_PANE_MODAL",'Unknown pane "'+p.pane+'"'),u.a.createElement(h.a,a()({},r,y,{className:b()(r.className,y.className,"c-multi_pane_modal")}),u.a.createElement(u.a.Fragment,{key:p.pane},_(a()({switchPane:v},p.props))))}f.displayName="MultiPaneModal";var v=f,g=n("18Pa");p.b.func.isRequired;function _(e){var t=e.onClick;return u.a.createElement(g.a,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:t})}_.displayName="ModalBackButton";var O=u.a.memo(_);n.d(t,"a",function(){return O});t.b=v},AC1r:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("nNoG"),a=n("NqlN"),i=n("rzSx"),o=n("XoJV"),s=n("7nxQ");function c(e,t){var n,c=t.featureSonicEmoji,l=Object(r.p)(),u=(n=e,c?Object(o.d)({locale:l,text:n}):Object(r.e)()?n:Object(i.g)(n)),d=u&&Object(a.a)(u);return u?Object(s.c)()?d:" "+d+" ":e}},AITD:function(e,t,n){"use strict";var r=n("U/ze"),a=n("K7CU"),i=n("VjHM"),o=n("ypl0"),s=Object(r.b)(function(e){return!Object(a.m)(e)&&Object(i.g)(e,"jumbomoji")&&"dense"!==Object(o.a)(e)});t.a=s},APEC:function(e,t,n){"use strict";var r=n("WKJn"),a=n("Jqqi");function i(e){return!!Object(r.a)(e)||(!!Object(a.a)(e)||!!function(e){return!!(e&&e.insert&&e.insert.slackdocimage)}(e))}n.d(t,"a",function(){return i})},ASpw:function(e,t,n){"use strict";var r=n("VyaM"),a=n("04ri"),i=n("QLyv");t.a=function(e){var t=Object(r.a)(e,{returnMoment:!0}),n=Object(i.a)(),o=Object(a.a)(31,{unitsIn:"days",unitsOut:"seconds"}),s=Object(i.a)(n).subtract(t.unix(),"seconds").unix();return!(t.year()>n.year())&&(n.year()===t.year()||s<=o)}},AXtY:function(e,t,n){},AYon:function(e,t,n){},AcCB:function(e,t,n){"use strict";n.d(t,"p",function(){return s}),n.d(t,"D",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"r",function(){return u}),n.d(t,"s",function(){return d}),n.d(t,"z",function(){return b}),n.d(t,"y",function(){return p}),n.d(t,"A",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"v",function(){return f}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return _}),n.d(t,"C",function(){return O}),n.d(t,"E",function(){return y}),n.d(t,"k",function(){return j}),n.d(t,"e",function(){return k}),n.d(t,"B",function(){return E}),n.d(t,"q",function(){return C}),n.d(t,"b",function(){return I}),n.d(t,"n",function(){return w}),n.d(t,"F",function(){return S}),n.d(t,"h",function(){return T}),n.d(t,"j",function(){return R}),n.d(t,"w",function(){return N}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return M}),n.d(t,"a",function(){return P}),n.d(t,"u",function(){return A}),n.d(t,"t",function(){return D}),n.d(t,"x",function(){return L}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return F});var r=n("TGBA"),a=n("aK/h"),i=n("EzZj"),o=n("5BKc"),s=Object(i.b)("Set the interfaceMode field (see setInterfaceMode thunk for general usage)");s.propTypes={interfaceMode:a.b.oneOf(["EDIT","SEARCH_RESULTS"]).isRequired};var c=Object(i.b)("Set the currently active tab field in Search (use setTab instead for components)");c.propTypes={tab:a.b.string.isRequired};var l=Object(i.b)("Set the field representing whether or not Search is visible");l.propTypes={visible:a.b.bool.isRequired};var u=Object(i.b)("Set the loading state of a specific module");u.propTypes={moduleType:a.b.string.isRequired,loading:a.b.bool.isRequired};var d=Object(i.b)("Set the pagination state for a specific module");d.propTypes={moduleType:a.b.string.isRequired,page:a.b.number.isRequired};var b=Object(i.b)("Indicate that the shared teams list is loading");b.propTypes=null;var p=Object(i.b)("Indicate that the shared teams list request has failed");p.propTypes=null;var h=Object(i.b)("Indicate that the shared teams list request has resolved");h.propTypes={teamIds:a.b.arrayOf(a.b.string).isRequired};var m=Object(i.b)("Channel search: set the list of org filters to be suggested");m.propTypes={teamIds:a.b.arrayOf(a.b.string).isRequired};var f=Object(i.b)("People search: set the list of org filters to be suggested");f.propTypes={teamIds:a.b.arrayOf(a.b.string).isRequired};var v=a.b.oneOf(Object(r.a)(o.e)),g=Object(i.b)("Set the error state for all modules");g.propTypes={error:v.isRequired,loading:a.b.bool.isRequired};var _=Object(i.b)("Set the error state for a specific module");_.propTypes={moduleType:a.b.string.isRequired,error:v.isRequired,loading:a.b.bool.isRequired};var O=Object(i.b)("Set the entire UI state for a specific module");O.propTypes={moduleType:a.b.string.isRequired,moduleState:a.b.shape({error:v.isRequired,loading:a.b.bool.isRequired,page:a.b.number.isRequired}).isRequired};var y=Object(i.b)("Set the last scroll position for a specific search tab");y.propTypes=a.b.shape({view:a.b.oneOf(["all","messages","files","channels","people"]).isRequired,position:a.b.number.isRequired});var j=Object(i.b)("Set the currently active tab field in Search to the default tab (use setTab instead for components)",{});j.propTypes=null;var k=Object(i.b)("Reset the scroll position for all of the search tabs to zero");k.propTypes=null;var E=Object(i.b)("Sets the ID associated with the search session clear timer");E.propTypes={sessionTimeoutId:a.b.number};var C=Object(i.b)("Sets the lastOpenMethod field, which tracks how the search interface was opened");C.propTypes={lastOpenMethod:a.b.string};var I=Object(i.b)("Reset search ui redux state");I.propTypes={};var w=Object(i.b)("Set whether or not the input was focused via the tab key");w.propTypes={wasFocusedViaTabKey:a.b.bool.isRequired};var S=Object(i.b)("Toggle debug display of solr info");S.propTypes=null;var T=Object(i.b)("Channel search: set channel type filter");T.propTypes={type:a.b.oneOf(Object(r.a)(o.a)).isRequired};var R=Object(i.b)("Channel search: set external org filters");R.propTypes={orgFilters:a.b.arrayOf(a.b.string).isRequired};var N=Object(i.b)("People search: set external org filters");N.propTypes={orgFilters:a.b.arrayOf(a.b.string).isRequired};var x=Object(i.b)("Channel search: change the status of a channel join request");x.propTypes={channelId:a.b.string.isRequired,value:a.b.oneOf(["loading","done","error"])};var M=Object(i.b)("Channel search: change the status of a channel leave request");M.propTypes={channelId:a.b.string.isRequired,value:a.b.oneOf(["loading","done","error"])};var P=Object(i.b)("Channel search: clear the join and leave state for channels");P.propTypes={},Object(i.b)("Message and file search: set flag to only search within the current team").propTypes={value:a.b.bool.isRequired},Object(i.b)("Message and file search: set flag to not show bot and app messages").propTypes={value:a.b.bool.isRequired},Object(i.b)("Message and file search: set flag to only search channels you are a member of").propTypes={value:a.b.bool.isRequired};var A=Object(i.b)("People search: set people type filter");A.propTypes={type:a.b.oneOf(Object(r.a)(o.f)).isRequired};var D=Object(i.b)("People search: set a custom filter");D.propTypes={id:a.b.string.isRequired,value:a.b.string.isRequired,checked:a.b.bool.isRequired};var L=Object(i.b)("People search: set timezone filter suggestions");L.propTypes={label:a.b.string.isRequired,value:a.b.string.isRequired,checked:a.b.bool.isRequired};var q=Object(i.b)("Channel search: reset UI");q.propTypes={};var F=Object(i.b)("People search: reset UI");F.propTypes={}},Aeia:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("aK/h"),m=n("UF3u"),f=n("HO/Y"),v=n("P2f5"),g=n("hOQf"),_=n("tbBR"),O=n("QbLZ"),y=n.n(O),j=n("ifKl"),k=n("TSYQ"),E=n.n(k),C=n("yPgC"),I=n("clTI"),w=n("9HJ0"),S=n("VjHM"),T=n("jLdI"),R=n("om+M"),N=n("4zXV"),x=Object(R.a)("Remove a file from a message",function(e,t,n){var r=n.channelId,a=n.ts,i=n.fileId;return e(Object(N.a)({method:"chat.removeFile",args:{channel:r,ts:a,file:i}})).catch(function(e){throw e})});x.propTypes={channelId:h.b.string.isRequired,ts:h.b.string.isRequired,fileId:h.b.string.isRequired};var M=x,P=n("P9LH"),A=n("HHn2"),D=n("yHhI"),L=n("nNoG"),q=n("Smdl"),F=n("VfGJ"),B=n("K5QD"),U=n("llxT"),H=n("od5y"),K=n("o4CG"),G=n("hjTk"),V=n("2Jxo"),z=n("rWF5"),Y=function(e){var t="slack.com",n=Object(z.h)().env;return n!==z.c&&(t=n+"."+t),"https://"+t+"/apps/"+e},W=n("ynxK"),Q=(n("bbM8"),new L.b("files")),X=new L.b("menu_file"),Z=(h.b.object.isRequired,h.b.string,C.a.File(),h.b.bool,h.b.bool,h.b.string,h.b.bool,h.b.object,h.b.bool,h.b.func,h.b.func,h.b.func,{className:void 0,file:void 0,isExpanded:void 0,expandPref:!0,expandableKey:void 0,canRemoveFile:!1,logger:{error:j.a},featureDeprecateQ119Unsupported:!0,setExpanded:j.a,removeFile:j.a,clogMessageClick:h.b.func}),J=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExpanded=n.toggleExpanded.bind(n),n.clogMessageClick=n.clogMessageClick.bind(n),n.removeFile=n.removeFile.bind(n),n.openAppDirectoryPage=n.openAppDirectoryPage.bind(n),n}return u()(t,e),o()(t,[{key:"clogMessageClick",value:function(e){var t=this.props.msg;this.props.clogMessageClick({msg:t,payload:e})}},{key:"isExpanded",value:function(){var e=this.props,t=e.file,n=e.isExpanded,r=e.expandPref;return void 0!==n?n:"image"!==Object(P.p)(t)||r}},{key:"openAppDirectoryPage",value:function(){var e=this.props.file;Object(G.a)(Y(e.app_id))}},{key:"toggleExpanded",value:function(){var e=this.isExpanded();this.props.setExpanded({key:this.props.expandableKey,isExpanded:!e}),this.clogMessageClick({subtype:e?"file_collapse":"file_expand"})}},{key:"removeFile",value:function(){var e=this.props,t=e.file,n=e.msg;this.props.removeFile({channelId:n.channel,ts:n.ts,fileId:t.id})}},{key:"renderUploader",value:function(){var e=this.props,t=e.msg,n=e.file,r=Object(P.l)(n).userId;return r?r===t.user?null:b.a.createElement(d.Fragment,null,b.a.createElement(K.a,{id:r,className:"c-message_kit__file__meta__name"}),b.a.createElement("span",{className:"c-message_kit__file__meta__separator"}," | ")):null}},{key:"renderMetaText",value:function(){var e=this.props.file,t=Object(P.p)(e),n="image"===t||"snippet"===t,r="email"===t&&!!e.app_id,a=e.pretty_type||Q.t("file");a="Arugula"===a?X.t("Post"):a;var i=r?b.a.createElement("span",{className:"c-message_kit__file__meta__attribution__label"},Q.rt("Email from {appName}",{note:"Email from [app_name]",appName:b.a.createElement(W.a,{onClick:this.openAppDirectoryPage,className:"c-message_kit__file__meta__attribution__link"},e.app_name||Q.t("Unknown email app"))})):a,o=n||!this.isExpanded()?b.a.createElement(B.a,{file:e}):i;return b.a.createElement("span",{className:"c-message_kit__file__meta__text","data-qa":"file-meta-text"},this.renderUploader(),o)}},{key:"renderCollapse",value:function(){var e=this.isExpanded()?"caret-down":"caret-right";return b.a.createElement(U.a,{className:"c-message_kit__file__meta__collapse",onClick:this.toggleExpanded,"aria-expanded":this.isExpanded()},b.a.createElement(H.b,{type:e,size:"inherit"}))}},{key:"renderRemove",value:function(){return this.props.canRemoveFile?b.a.createElement(U.a,{className:"c-message_kit__file__remove","aria-label":Q.t("Remove file"),onClick:this.removeFile},b.a.createElement(H.b,{type:"times_small"})):null}},{key:"renderMeta",value:function(){var e=this.props.file;return Object(P.N)(e)?b.a.createElement("div",{className:"c-message_kit__file__meta"},this.renderMetaText(),"\xa0",this.renderCollapse()):null}},{key:"renderFile",value:function(){if(!this.isExpanded())return null;var e=this.props,t=e.msg,n=e.file;return b.a.createElement(F.a,{file:n,ts:t.ts,channelId:t.channel,className:"c-message_kit__file__file",clogLinkClick:this.clogMessageClick})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.file,r=e.featureDeprecateQ119Unsupported;if(!t)return null;if(!n)return null;if(r)return this.props.logger.error("File atom is deprecated. Developers: please use the files.jsx component."),null;var a=this.isExpanded(),i=E()(this.props.className,"c-message_kit__file",{"c-message_kit__file--expanded":a,"c-message_kit__file--collapsed":!a}),o={};return Object(q.a)()&&(o["data-stringify-type"]="replace",o["data-stringify-text"]=Object(P.k)(n)),b.a.createElement("div",y()({className:i},o),this.renderRemove(),this.renderMeta(),this.renderFile())}}]),t}(d.PureComponent);J.displayName="MessageKitFile",J.defaultProps=Z;var $={setExpanded:function(){return w.e.apply(void 0,arguments)},removeFile:function(){return M.apply(void 0,arguments)},clogMessageClick:function(){return T.a.apply(void 0,arguments)}},ee=Object(V.a)(Object(_.b)(Object(p.b)(function(e,t){var n=t.fileId,r=t.msg,a=t.viewContext,i=Object(v.h)(e,n),o=Object(I.d)(e,r.channel),s=Object(A.a)("file",r.ts,{id:n,viewContext:a});return{file:i,isExpanded:Object(w.d)(e,s),expandPref:Object(S.g)(e,"expand_internal_inline_imgs"),expandableKey:s,canRemoveFile:Object(g.q)(e,{message:r,channel:o,file:i}),logger:Object(D.a)({state:e}),featureDeprecateQ119Unsupported:Object(f.j)(e,"feature_deprecate_q119_unsupported")}},$)(J))),te=n("Z0Cl"),ne=n("c8Bs"),re=n("lCmp"),ae=new L.b("files"),ie=(h.b.node.isRequired,h.b.arrayOf(h.b.object).isRequired,h.b.string,h.b.object,h.b.bool,h.b.bool,h.b.bool,h.b.string,h.b.object,h.b.func,h.b.func,h.b.func,{userId:void 0,msg:void 0,canRemoveFiles:!1,isExpanded:void 0,expandPref:!0,expandableKey:void 0,logger:{error:j.a},removeFile:j.a,setExpanded:j.a,clogMessageClick:j.a}),oe=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.removeFile=n.removeFile.bind(n),n.toggleExpanded=n.toggleExpanded.bind(n),n.openAppDirectoryPage=n.openAppDirectoryPage.bind(n),n}return u()(t,e),o()(t,[{key:"getVisibleFilesCount",value:function(){var e=this.props.files,t=Object(te.a)(e,function(e){return Object(P.N)(e)});return t?t.length:0}},{key:"clogMessageClick",value:function(e){var t=this.props.msg;t&&this.props.clogMessageClick({msg:t,payload:e})}},{key:"areAllFilesHidden",value:function(){var e=this.props.files;return Object(ne.a)(e,function(e){return!Object(P.N)(e)})}},{key:"isExpanded",value:function(){var e=this.props,t=e.files,n=e.isExpanded,r=e.expandPref,a=Object(re.a)(t,function(e){return"image"===Object(P.p)(e)});return!!this.areAllFilesHidden()||(void 0!==n?n:!a||r)}},{key:"removeFile",value:function(){for(var e=this,t=this.props,n=t.files,r=t.msg,a=t.logger,i=r.ts,o=r.channel,s=Promise.resolve(),c=function(t){var r=n[t].id;s=s.then(function(){return e.props.removeFile({fileId:r,ts:i,channelId:o})})},l=0;l<n.length;l++)c(l);s.catch(function(e){a.error("Error removing files from message "+e)})}},{key:"openAppDirectoryPage",value:function(e){Object(G.a)(Y(e.app_id))}},{key:"toggleExpanded",value:function(){var e=this.props.expandableKey,t=this.isExpanded();this.props.setExpanded({key:e,isExpanded:!t}),this.clogMessageClick({subtype:t?"file_collapse":"file_expand"})}},{key:"renderRemove",value:function(){var e=this.props,t=e.canRemoveFiles,n=e.files;if(!t)return null;var r=ae.t("{fileCount, plural, =1 {Remove file} other {Remove files}}",{fileCount:n.length});return b.a.createElement(U.a,{className:"c-message_kit__file__remove","aria-label":r,onClick:this.removeFile},b.a.createElement(H.b,{type:"times_small"}))}},{key:"renderCollapse",value:function(){var e=this.isExpanded()?"caret-down":"caret-right",t=this.getVisibleFilesCount(),n=this.isExpanded()?ae.t("{fileCount, plural, =1 {Collapse file} other {Collapse files}}",{fileCount:t,note:"aria-label for button to collapse file preview in messages"}):ae.t("{fileCount, plural, =1 {Expand file} other {Expand files}}",{fileCount:t,note:"aria-label for button to expand file preview in message"});return b.a.createElement(U.a,{className:"c-message_kit__file__meta__collapse",onClick:this.toggleExpanded,"aria-label":n},b.a.createElement(H.b,{type:e,size:"inherit"}))}},{key:"renderUploader",value:function(e){var t=this.props.userId,n=Object(P.l)(e).userId;return n?n===t?null:b.a.createElement(b.a.Fragment,null,b.a.createElement(K.a,{id:n,className:"c-message_kit__file__meta__name"}),b.a.createElement("span",{className:"c-message_kit__file__meta__separator"}," | ")):null}},{key:"renderMetaText",value:function(){var e=this,t=this.props.files;if(!t||!t.length)return null;var n=this.getVisibleFilesCount();if(n>1)return b.a.createElement("span",{className:"c-message_kit__file__meta__text"},ae.t("{fileCount, plural, =1 {file} other {# files}}",{fileCount:n}));var r=t[0],a=Object(P.p)(r),i="image"===a||"snippet"===a,o=r.pretty_type||ae.t("file"),s="email"===a&&!!r.app_id;o="Arugula"===o?ae.t("Post"):o;var c=s?b.a.createElement("span",{className:"c-message_kit__file__meta__attribution__label"},ae.rt("Email from {appName}",{note:"Email from [app_name]",appName:b.a.createElement(W.a,{onClick:function(){return e.openAppDirectoryPage(r)},className:"c-message_kit__file__meta__attribution__link"},r.app_name||ae.t("Unknown email app"))})):o,l=i||!this.isExpanded()?b.a.createElement(B.a,{file:r}):c;return b.a.createElement("span",{className:"c-message_kit__file__meta__text","data-qa":"file-meta-text"},this.renderUploader(r),l)}},{key:"renderMeta",value:function(){return this.areAllFilesHidden()?null:b.a.createElement("div",{className:"c-message_kit__file__meta"},this.renderMetaText(),"\xa0",this.renderCollapse())}},{key:"render",value:function(){var e=this.props,t=e.files,n=e.children;return t&&t.length?b.a.createElement(b.a.Fragment,null,this.renderRemove(),this.renderMeta(),this.isExpanded()?n:null):null}}]),t}(d.PureComponent);oe.displayName="FilesMetaTextWrapper",oe.defaultProps=ie;var se={setExpanded:function(){return w.e.apply(void 0,arguments)},removeFile:function(){return M.apply(void 0,arguments)},clogMessageClick:function(){return T.a.apply(void 0,arguments)}},ce=Object(_.b)(Object(p.b)(function(e,t){var n=t.files,r=t.msg,a=t.viewContext,i=r||{},o=i.ts,s=i.channel,c=Object(I.d)(e,s),l=Object(ne.a)(n,function(t){return Object(g.q)(e,{message:r,channel:c,file:t})}),u=n.map(function(e){return e.id}),d=Object(A.a)("files",o,{fileIds:u,viewContext:a});return{msg:r,canRemoveFiles:l,isExpanded:Object(w.d)(e,d),expandPref:Object(S.g)(e,"expand_internal_inline_imgs"),expandableKey:d,logger:Object(D.a)({state:e})}},se)(oe)),le=n("YEIV"),ue=n.n(le),de=n("F294"),be=n("8QLk"),pe=n("RQuH"),he=n("ZP0B"),me=n("uPpK"),fe=n("smxp"),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.span,n=e.columnSize,r=void 0===n?40:n,a=e.gutterSize,i=void 0===a?8:a;return t&&r&&i?r+(r+i)*(t-1):null},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.shouldRoundUp,r=e.columnSize,a=void 0===r?40:r,i=e.gutterSize,o=void 0===i?8:i;if(!t||!a||!o)return null;var s=(t+o)/(a+o);return(n?Math.ceil:Math.round)(s)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.shouldRoundUp,r=e.columnSize,a=void 0===r?40:r,i=e.gutterSize,o=void 0===i?8:i;if(!t||!a||!o)return null;var s=ge({width:t,shouldRoundUp:n,columnSize:a,gutterSize:o});return ve({span:s,columnSize:a,gutterSize:o})},Oe=_e({width:320}),ye=_e({width:160}),je=_e({width:240}),ke=_e({width:120}),Ee=2*Oe+8,Ce=2*ye+8,Ie=2*ve({span:7})+8,we="compact",Se="narrow",Te="wide",Re="single_image",Ne="single_file",xe="mixed_file_format",Me="hidden",Pe=n("aLpA"),Ae=n("wP1B"),De=n("rjL9"),Le=n("5yEy"),qe=Re,Fe=we,Be=Se,Ue=Te,He=(h.b.object.isRequired,h.b.string,h.b.string,h.b.string,h.b.string,h.b.number,h.b.number,h.b.string,h.b.bool,h.b.string,h.b.func,{ts:void 0,channelId:void 0,threadTs:void 0,galleryMode:qe,galleryWidth:void 0,rowHeight:void 0,className:void 0,showActions:!0,viewContext:void 0,clogLinkClick:j.a}),Ke=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"getMaxGridCellContainerWidth",value:function(){return this.props.galleryMode===Be?ye:Oe}},{key:"getColumnSpan",value:function(){var e=this.props,t=e.file,n=e.galleryMode,r=e.rowHeight;if(!this.isGridImage())return null;if(n===Fe)return 1;var a=this.getMaxGridCellContainerWidth();if(this.isImageSmallerThanContainer({width:a,height:r})){var i=Object(be.a)(t.original_w,40,a);return ge({width:i,shouldRoundUp:!0})}var o=t.original_h/t.original_w,s=o>=1.1,c=Object(pe.a)(o,1.1,.9);return n===Be?s?2:c?3:4:s?3:c?5:7}},{key:"isGridImage",value:function(){var e=this.props.galleryMode;return e===Fe||e===Be||e===Ue}},{key:"isImageSmallerThanContainer",value:function(e){var t=e.width,n=e.height,r=this.props.file;return r.original_h<=n&&r.original_w<=t}},{key:"renderContents",value:function(e){var t=e.width,n=e.height,r=this.props,a=r.file,i=r.ts,o=r.channelId,s=r.threadTs,c=r.clogLinkClick,l=r.showActions,u=r.viewContext;return b.a.createElement(b.a.Fragment,null,b.a.createElement(De.a,{file:a,ts:i,channelId:o,threadTs:s,viewContext:u,maxSize:Pe.D,clogLinkClick:c}),l?b.a.createElement(Le.a,{file:a,channelId:o,className:E()("c-file__actions--image",{"c-file__actions--overflow":t<128,"c-file__actions--short":n<=50}),clogLinkClick:c}):null)}},{key:"renderSingleImage",value:function(){var e=this.props.file,t=e.thumb_360_w,n=e.thumb_360_h;return b.a.createElement(Ae.a,{className:"p-message_image_file c-file_gallery_image_file",width:t,height:n},this.renderContents({width:t,height:n}))}},{key:"renderGridImage",value:function(){var e=this.props,t=e.className,n=e.galleryMode,r=e.galleryWidth,a=e.rowHeight;if(!this.isGridImage())return null;var i=void 0,o=void 0,s={};if(n===Fe){var c=r/2-8,l=Math.max(40,c);i=l,o=l}else{var u=this.getColumnSpan();u&&(s={gridColumnEnd:"span "+u}),i=ve({span:u}),o=a}var d=this.isImageSmallerThanContainer({width:i,height:o}),p=E()("c-file_gallery_image_file",t,{"c-file_gallery_image_file__smaller_than_container":d});return b.a.createElement("div",{className:p,style:s},this.renderContents({width:i,height:o}))}},{key:"render",value:function(){return this.isGridImage()?this.renderGridImage():this.renderSingleImage()}}]),t}(d.PureComponent);Ke.displayName="FileGalleryImageFile",Ke.defaultProps=He;var Ge=Ke,Ve=(n("LXUr"),Re),ze=we,Ye=Se,We=Te,Qe=Ne,Xe=xe,Ze=Me,Je=(h.b.arrayOf(h.b.object).isRequired,h.b.string,h.b.string,h.b.string,h.b.object,h.b.bool,h.b.bool,h.b.string,h.b.func,{ts:void 0,channelId:void 0,threadTs:void 0,msg:void 0,showPreview:!0,showActions:!0,viewContext:void 0,clogMessageClick:j.a}),$e=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogMessageClick=n.clogMessageClick.bind(n),n}return u()(t,e),o()(t,[{key:"getGalleryMode",value:function(e){var t=e.galleryWidth,n=this.props.files,r=Object(te.a)(n,function(e){return Object(P.N)(e)});return 0===r.length?Ze:Object(re.a)(r,function(e){return"image"!==Object(P.p)(e)})?1===r.length?Qe:Xe:1===r.length?Ve:t<Ce?ze:Object(pe.a)(t,Ce,Ee)?Ye:We}},{key:"getGridRowHeight",value:function(e){var t=e.galleryMode,n=this.props.files.map(function(e){return e.original_h}),r=Object(he.a)(n)+18;return t===We?Object(be.a)(r,40,je):t===Ye?Object(be.a)(r,40,ke):null}},{key:"getClassNames",value:function(e){var t=e.galleryMode,n=e.galleryWidth,r=t===Xe&&n<=Ie;return E()("c-file_gallery","c-file_gallery__"+t,ue()({},"c-file_gallery__"+t+"--compact",r))}},{key:"isNonImageGalleryMode",value:function(e){var t=e.galleryMode;return t===Qe||t===Xe||t===Ze}},{key:"clogMessageClick",value:function(e){var t=this.props.msg;t&&this.props.clogMessageClick({msg:t,payload:e})}},{key:"renderFile",value:function(e){var t=e.file,n=e.rowHeight,r=e.galleryWidth,a=e.galleryMode,i=this.props,o=i.channelId,s=i.ts,c=i.threadTs,l=i.showPreview,u=i.showActions,d=i.viewContext;if(!Object(P.N)(t))return null;if(this.isNonImageGalleryMode({galleryMode:a})){var p=l&&a===Qe;return b.a.createElement(F.a,{file:t,ts:s,channelId:o,threadTs:c,className:"c-file_gallery__message_file",showPreview:p,viewContext:d,clogLinkClick:this.clogMessageClick,showActions:u})}return b.a.createElement(Ge,{file:t,ts:s,channelId:o,threadTs:c,rowHeight:n,galleryWidth:r,galleryMode:a,clogLinkClick:this.clogMessageClick,showActions:u,viewContext:d})}},{key:"renderFiles",value:function(e){var t=this,n=e.rowHeight,r=e.galleryWidth,a=e.galleryMode;return this.props.files.map(function(e){return b.a.createElement(b.a.Fragment,{key:e.id},t.renderFile({file:e,rowHeight:n,galleryWidth:r,galleryMode:a}))})}},{key:"renderHiddenFilePlaceholder",value:function(e){var t=e.galleryMode,n=this.props,r=n.files,a=n.channelId,i=n.ts;if(t!==Ze)return null;var o=Object(de.a)(r);return b.a.createElement(F.a,{file:o,ts:i,channelId:a,className:"c-file_gallery__message_file"})}},{key:"render",value:function(){var e=this;return b.a.createElement(me.a,{disableHeight:!0},function(t){var n=t.width,r=e.getGalleryMode({galleryWidth:n}),a=e.getGridRowHeight({galleryMode:r}),i=e.getClassNames({galleryWidth:n,galleryMode:r});return b.a.createElement("div",{className:i,style:{width:n,gridAutoRows:a}},e.renderFiles({rowHeight:a,galleryWidth:n,galleryMode:r}),e.renderHiddenFilePlaceholder({galleryMode:r}))})}}]),t}(d.Component);$e.displayName="FileGallery",$e.defaultProps=Je;var et={clogMessageClick:function(){return T.a.apply(void 0,arguments)}},tt=Object(p.b)(function(e,t){var n=t.ts,r=t.channelId;return{msg:Object(fe.a)(e,r,n)}},et)($e);n.d(t,"a",function(){return rt});h.b.object,h.b.func,h.b.arrayOf(h.b.object),h.b.string,h.b.string,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.string,h.b.bool;var nt={msg:void 0,renderFile:function(e){return b.a.createElement(ee,e)},files:void 0,ts:void 0,channelId:void 0,threadTs:void 0,userId:void 0,showPreview:!0,showActions:!0,viewContext:void 0,featureDeprecateQ119Unsupported:!0},rt=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.renderFile,r=e.files,a=e.ts,i=e.userId,o=e.channelId,s=e.threadTs,c=e.showPreview,l=e.showActions,u=e.viewContext,d=e.featureDeprecateQ119Unsupported;return Object(g.ab)(t)?null:d?r?b.a.createElement("div",{className:"c-files_container"},b.a.createElement(ce,{msg:t,files:r,userId:i},b.a.createElement(tt,{msg:t,files:r,ts:a,channelId:o,threadTs:s,showPreview:c,showActions:l,viewContext:u}))):null:t?t.files?t.files.map(function(e){return n({key:e,fileId:e,msg:t})}):t.file?n({fileId:t.file.id,msg:t}):null:null}}]),t}(d.PureComponent);rt.displayName="MessageFiles",rt.defaultProps=nt;t.b=Object(_.b)(Object(p.b)(function(e,t){var n=t.msg,r=Object(f.j)(e,"feature_deprecate_q119_unsupported");if(!r)return{featureDeprecateQ119Unsupported:r};if(!n||!n.files)return{};var a=n.files.map(function(t){return Object(v.h)(e,t)});return{ts:n.ts,channelId:n.channel,threadTs:Object(g.N)(n),userId:n.user,files:a}},null,null,{areStatePropsEqual:function(e,t){return Object(m.a)(e,t,2)}})(rt))},AfrZ:function(e,t,n){"use strict";n.d(t,"f",function(){return j}),n.d(t,"e",function(){return k}),n.d(t,"a",function(){return E}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return w});var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("OtLZ"),u=n("aK/h"),d=n("XfeM"),b=n("HO/Y"),p=n("+cPl"),h=n("JvzI"),m=n("cW5R"),f=n("YB7p"),v=n("Smdl"),g=n("VjHM"),_=n("9hu3"),O=n("k2C/"),y=n("Ecd5"),j=Object(d.b)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pref,a=n.value,i=c()(n,["pref","value"]),s=t(),l=Object(g.g)(s,r);return e(Object(_.b)({pref:r,value:a})),Object(b.j)(s,"feature_offline_mode")?e(Object(p.f)(o()({pref:r,value:a},i))):e(Object(p.f)(o()({pref:r,value:a},i))).catch(function(){e(Object(_.b)({pref:r,value:l}))})});j.propTypes={pref:u.b.string.isRequired,value:u.b.any};var k=Object(d.b)("Set multiple prefs via the setPref API, updating local prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t(),a={},i=Object.keys(n);return i.length?(i.forEach(function(e){a[e]=Object(g.g)(r,e)}),e(Object(_.a)(n)),e(Object(p.b)(n)).catch(function(){e(Object(_.a)(a))})):Promise.reject(new Error("No prefs were passed."))});k.propTypes={prefs:u.b.object};var E=Object(d.b)("Adds a team to the enterprise_excluded_app_teams pref",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId;if(!Object(O.a)(n))return Promise.resolve();var r=t(),i=Object(g.b)(r);return i.includes(n)?Promise.resolve():e(j({pref:"enterprise_excluded_app_teams",value:[].concat(a()(i),[n]).join(",")}))});E.propTypes={teamId:u.b.string.isRequired};var C=Object(d.b)("Remove a team from the enterprise_excluded_app_teams pref",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId;if(!O.a)return Promise.resolve();var r=t(),a=Object(g.b)(r);return a.includes(n)?e(j({pref:"enterprise_excluded_app_teams",value:Object(l.a)(a,n).join(",")})):Promise.resolve()});C.propTypes={teamId:u.b.string.isRequired};var I=Object(d.b)("Remove all teams from the enterprise_excluded_app_teams_pref",function(e,t){var n=t(),r=Object(g.b)(n);return r&&r.length?e(j({pref:"enterprise_excluded_app_teams",value:""})):Promise.resolve()});I.propTypes=null;var w=Object(d.b)("Set locale for a team, handling pref and infra updates",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.locale,a=n.teamId;Promise.resolve(Object(h.c)(r,a)).then(function(){e(j({pref:"locale",value:r})).finally(function(){Object(v.a)()?setTimeout(function(){e(Object(y.b)(!0))},0):Object(f.b)({reason:"prefs dialog change: locale -> "+r,reasonKey:"prefs_change"})})}),Object(m.a)("i18n_locale",r,365,"slack.com")});w.propTypes={locale:u.b.string.isRequired,teamId:u.b.string.isRequired}},AgpX:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=(n("aK/h"),n("3LxC")),c=n("ynxK"),l=o.a.forwardRef(function(e,t){var n=e.href?s.b:c.a;return o.a.createElement(n,a()({},e,{ref:t}))});l.defaultProps={href:void 0},l.displayName="Link",t.a=l},Agr2:function(e,t,n){"use strict";n.r(t),n.d(t,"getInsertData",function(){return b}),n.d(t,"getMatch",function(){return p}),n.d(t,"getNumResults",function(){return h}),n.d(t,"getResultFrecencyId",function(){return m});var r=n("sk9p"),a=n.n(r),i=n("Fsnq"),o=n("gSGL"),s=n("kOzZ"),c=n("6kok"),l=n("nNoG"),u=n("kbLV"),d=/(^|\n|.)([#\uff03][^~`!@#\uff03$%^&*()+=[\]{}\\|;:'",.<>\/?\s]*)$/i,b=function(e){return e?(Object(s.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"channel"}}}),{text:"#"+Object(c.w)(e),ensure_preceding_space:!0}):null},p=function(e){if(!Object(o.a)(e))return null;var t=Object(l.a)(e).match(d)||[],n=a()(t,3),r=n[1];if(!n[2]||Object(u.a)(r))return null;var s=t.index+Object(i.a)(r);return{match:e.slice(s),index:s}},h=i.a,m=function(e){return e&&e.id}},Ahgz:function(e,t,n){"use strict";n.d(t,"c",function(){return M}),n.d(t,"b",function(){return P});var r=n("QbLZ"),a=n.n(r),i=n("sk9p"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("HKE1"),f=n("qAkX"),v=n("Cjy0"),g=n.n(v),_=n("mM05"),O=n.n(_),y=n("HO/Y"),j=n("nJKt"),k=n("9PC1"),E=n("WExW"),C=n("WKJn"),I=n("kOzZ"),w=n("9kTo"),S=n("6tF6"),T=n("negh"),R=n("lhZz"),N=g.a.import("core/module"),x=g.a.import("formats/link"),M=function(e){return e?e.split("?")[0]:e},P=function(e){var t=M(e);return!!t&&/\.(jpe?g|gif|png|svg|bmp)$/.test(t)};function A(e){return e?e.match(/\d+/g).join(""):""}var D=function(e){function t(e,n){c()(this,t);var r=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.maybeLinkify=r.maybeLinkify.bind(r);var a=Object(R.getStoreInstanceByTeamId)(r.options.teamId);r.clogger=Object(I.a)(a);var i=a&&a.getState();return r.featureRichTextLinks=!(!i||!Object(y.j)(i,"feature_rich_text_links")),r.featureRichTextLinks&&(x.sanitize=function(e){return e}),r.listen(),r}return h()(t,e),u()(t,[{key:"listen",value:function(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0},this.maybeLinkify)}},{key:"onEnter",value:function(e,t){var n=t.range,r=t.context;if(!n||n.length>0)return!1;var a=this.quill.getFormat(n),i=this.quill.getFormat(n.index+1),s=this.quill.getLine(n.index)[1];if(a.link&&i.link&&0!==s&&0!==r.prefix.trim().length){var c=this.quill.getLeaf(n.index),l=o()(c,2),u=l[0],d=l[1];u.text&&Object(k.m)(this.quill,n.index-d,u.domNode.length,"link")}else this.maybeLinkify(n,r);return!1}},{key:"maybeLinkify",value:function(e,t){var n=t.prefix.lastIndexOf(" "),r=-1!==n?t.prefix.substr(n+1):t.prefix,a=j.c.parse(r).pop();if(this.featureRichTextLinks){var i=Object(S.a)({input:r});a=Object(f.a)(i)}if(!a)return!0;var o=a,s=o.url,c=o.offset,l=this.featureRichTextLinks?a.text:a.matchedText,u=this.featureRichTextLinks?s:a.getAnchorHref(),d=l.length,b=e.index-r.length+c,p=this.quill.getFormat(b,d);if(p&&p.link)return!0;if(this.options.convertImages&&P(u)){var h=(new O.a).retain(b).delete(d).insert({slackdocimage:s});this.quill.updateContents(h,"silent")}else this.quill.formatText(b,d,"link",u),this.clogger.track(T.k.MSG_FORMATTING_ADDED,{input_context:Object(w.a)()?T.r.POST:T.r.MESSAGE,input_source:T.t.MARKDOWN,input_format:T.s.LINK});return!0}},{key:"buildTextChangeDelta",value:function(e){var t=this,n=new O.a;if(!this.options.disableLinksWithLabels)return n;var r=0,i=0;return e.forEach(function(o){var s=r,c="",l=Object(k.g)(o);(r+=l,Object(E.a)(o))&&(function(e,t){var n=t.featureRichTextLinks;if(!e||!e.attributes)return!1;var r=Object(m.a)(e.attributes.link),a=Object(m.a)(e.insert);if(!r||!a)return!1;if(r===a)return!0;if(r==="mailto:"+a)return!0;var i=r.split(":")[0];if(r===i+"://"+a)return!0;if(r===i+"://www."+a)return!0;if(n&&"tel:"===r.substr(0,4)&&A(r)===A(a))return!0;return!1}(o,{featureRichTextLinks:t.featureRichTextLinks})||(Object(C.a)(o)?n.retain(s-i).delete(l).insert({slackemoji:o.insert.slackemoji},a()({},o.attributes,{link:null})):(c=Object(k.f)(e,s,l),n.retain(s-i).delete(l).insert(c,a()({},o.attributes,{link:null}))),i=r))}),n}}]),t}(N);t.a=D},AjvF:function(e,t,n){},Apsv:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("zmn3"),a=n("5mKg");function i(e){return(Object(a.n)(e)||[]).filter(function(e){return e&&!e.is_hidden}).sort(function(e,t){return e.ordering-t.ordering}).map(function(e){return{hint:e.hint,isCustom:!0,isScim:e.options&&e.options.is_scim,label:e.label,maxLength:256,name:e.id,options:Object(r.a)(e.possible_values,function(e){return{label:e,value:e}}),type:e.type}})}},Atrf:function(e,t,n){"use strict";var r=n("8HWa");t.a=r.b},AuEd:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return x}),n.d(t,"p",function(){return P}),n.d(t,"n",function(){return U}),n.d(t,"o",function(){return H}),n.d(t,"m",function(){return K}),n.d(t,"j",function(){return G}),n.d(t,"k",function(){return V}),n.d(t,"h",function(){return z}),n.d(t,"f",function(){return Y}),n.d(t,"i",function(){return W}),n.d(t,"l",function(){return Q}),n.d(t,"g",function(){return X}),n.d(t,"s",function(){return Z}),n.d(t,"q",function(){return J}),n.d(t,"e",function(){return $}),n.d(t,"c",function(){return ee}),n.d(t,"r",function(){return te});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("owWc"),l=n("oTSI"),u=n("/1FC"),d=n("m8R6"),b=n("vFlG"),p=n("EzZj"),h=n("U/ze"),m=n("MNvw"),f=n("aK/h"),v=n("yPgC"),g=n("lhZz"),_=n("uf9I"),O=n("N52Z"),y=n("XfeM"),j=n("HO/Y"),k=n("DtX9"),E=n("Fdc0"),C=n("P9LH"),I=n("1zbP"),w=n("btvA"),S=n("N0/W"),T=n("7dvU"),R=n("PhTC"),N=Object(p.b)("Add a file");N.propTypes=f.b.object.isRequired;var x=Object(p.b)("Add multiple files");x.propTypes=f.b.arrayOf(f.b.object).isRequired;var M=Object(p.b)("Remove a file by ID");M.propTypes=f.b.string.isRequired;var P=Object(p.b)("Remove a comment from a file by ID and comment ID");P.propTypes={fileId:f.b.string.isRequired,commentId:f.b.string.isRequired};var A=Object(p.b)("Remove multiple files by IDs");A.propTypes=f.b.arrayOf(f.b.string).isRequired;var D=Object(p.b)("Clear all files");D.propTypes=null;var L=Object(m.b)((r={},i()(r,N,function(e,t){return t&&t.id?s()({},e,i()({},t.id,t)):e}),i()(r,x,function(e,t){return t&&t.length&&Object(u.a)(t)?Object(c.a)(t,function(e,t){return t&&t.id&&(e[t.id]=t),e},s()({},e)):e}),i()(r,M,function(e,t){return Object(d.a)(e,t)}),i()(r,P,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.commentId,a=e[n];if(!a)return e;var o=a.comments||[],c=o.filter(function(e){return e.id!==r});return c.length===o.length?e:s()({},e,i()({},n,s()({},a,{comments_count:c.length,initial_comment:a.initial_comment&&a.initial_comment.id===r?null:a.initial_comment,comments:c})))}),i()(r,A,function(e,t){return Object(d.a)(e,t)}),i()(r,D,function(){return{}}),r),{},{persistenceEnabled:!0});function q(e,t){return Object(g.dispatchForTeamId)(e,Object(T.a)({files:t,reason:"files-store-unknown-fetch"}))}L.propTypes=f.b.objectOf(v.a.File()),t.d=L;var F=Object(l.a)(function(){return new I.a({fetch:function(e,t){return function(e,t){return Object(g.dispatchForTeamId)(e,Object(S.g)({fileIds:t,reason:"files-store-unknown-fetch"}))}(e,t)},metricsName:"files",upsertKnown:q,upsertNonExistent:q})}),B=Object(l.a)(function(){return new w.b({fetch:function(e,t){return Promise.map(t,function(t){return Object(g.dispatchForTeamId)(e,Object(S.e)({fileId:t,reason:"files-store.ConditionalFetchManager.fetch"}))})},isEnabled:function(){return!0},metricsName:"teams"})}),U=function(e,t){return B().markObjectsAsFresh(e,t)},H=function(e,t){return B().markObjectsAsStale(e,t)},K=function(e,t){return B().isObjectFresh(e,t)},G=function(e){return B().getFreshObjects(e)},V=Object(h.b)(function(e,t){return Object(b.a)(e,["files",t])}),z=Object(h.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e&&e.files&&e.files[t];if(r)return function(e,t){B().maybeRefetch(e,t)}(Object(_.b)(e),r.id),r;if(n&&Object(j.j)(e,"feature_unknown_files")&&t){var a=Object(_.b)(e);return F().fetchObjectWithId(a,t)}return null}),Y=Object(h.b)(function(e){return e&&e.files}),W=Object(h.b)(function(e,t,n){var r=z(e,t);if(!r||!r.comments)return null;for(var a=0;a<r.comments.length;a++)if(r.comments[a].id===n)return r.comments[a];return null}),Q=Object(h.b)(function(e,t){var n=z(e,t);if(!n||!n.user)return!1;var r=Object(k.c)(e,n.user);return!!r&&Object(E.lb)(r)}),X=Object(h.b)(function(e,t){if(!Object(C.K)(t))return null;var n="External App";if(t&&t.user){var r=Object(k.c)(e,t.user);if(Object(E.cb)(r))n=Object(O.c)(e,r.profile.bot_id).name}return n}),Z=Object(y.b)("Replace file with tombstone",function(e,t,n){n&&n.fileId&&e(N(Object(R.a)(n.fileId)))});Z.propTypes={fileId:f.b.string.isRequired};var J=Object(y.b)("Rename file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.title,i=z(t(),r);i&&(e(N(s()({},i,{title:a}))),e(Object(S.d)({fileId:r,title:a})).catch(function(){e(N(i))}))});J.propTypes={fileId:f.b.string.isRequired,title:f.b.string.isRequired};var $=Object(y.b)("Edit a snippet",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.title,i=n.content,o=n.filetype,s=n.reason;return e(Object(S.d)({fileId:r,title:a,content:i,filetype:o,reason:s})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).file;t&&e(Object(T.a)({files:[t]}))})});$.propTypes={fileId:f.b.string.isRequired,title:f.b.string,content:f.b.string,filetype:f.b.string};var ee=Object(y.b)("Calls files.sharedPublicURL and upserts response",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;return n?e(Object(S.p)({fileId:n})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).file;t&&e(Object(T.a)({files:[t]}))}):Promise.reject()});ee.propTypes={fileId:f.b.string.isRequired};var te=Object(y.b)("Calls files.revokePublicURL and upserts the response",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;return n?e(Object(S.k)({fileId:n})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).file;t&&e(Object(T.a)({files:[t]}))}):Promise.reject()});te.propTypes={fileId:f.b.string.isRequired}},AzV5:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("mM05"),o=n.n(i),s=n("4ZYW"),c=n("YaVv"),l=n("a+Oh"),u=Object(a.b)("Converts message ops array to rich text blocks prepared to be sent as a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.msgOps,a=n.channelId,i=n.inThread,u=t(),d=Object(l.a)(u);if(d&&r&&r.length){var b=(Object(s.a)(u,{channelId:a,inThread:i,delta:new o.a(r),featureWysiwygComposer:d})||{}).processedDelta,p=Object(c.a)(u,b);return p&&p.blocks}});u.propTypes={msgOps:r.b.array,channelId:r.b.string,inThread:r.b.bool},t.a=u},"B+HQ":function(e,t,n){},"B/CG":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("U/ze"),a=n("aW/o"),i=Object(r.b)(function(e){return"Pwelcome"===Object(a.a)(e)})},"B/Zf":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("XHGt"),g=n("clTI"),_=n("6kok"),O=n("0f2Y"),y=n("lkgS"),j=n("B/i4"),k=n("D3DU"),E=n("a+Oh"),C=n("HO/Y"),I=n("fNU1"),w=n("xE6W"),S=(b.b.string.isRequired,b.b.string,b.b.string,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.func,b.b.func,b.b.bool,b.b.bool,{channelName:null,fallbackName:null,noLinking:!1,isPrivate:!1,isNonExistent:!1,isFromAnotherTeam:!1,isMember:!1,isUnknown:!1,clogLinkClick:d.a,updateChannelLastTrigger:d.a,featureRichTextRendering:!1,featureLongerChannelNames:!1}),T=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogLinkClick=n.clogLinkClick.bind(n),n}return u()(t,e),o()(t,[{key:"clogLinkClick",value:function(){this.props.clogLinkClick({item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}},{key:"render",value:function(){var e=this.props,t=e.channelName,n=e.fallbackName,r=e.id,a=e.isPrivate,i=e.isNonExistent,o=e.isUnknown,s=e.noLinking,c=e.isFromAnotherTeam,l=e.isMember,u=e.featureRichTextRendering,d=e.featureLongerChannelNames,b=Object(k.a)({channelName:t,fallbackName:n,isPrivate:a,isUnknown:o,isNonExistent:i,isMember:l,featureRichTextRendering:u}),p=!(s||a||i||o||c);u&&(p=!(s||a&&!l||i||o||c));var m=f()("c-mrkdwn__channel",{internal_channel_link:p,"c-mrkdwn__channel--nowrap":!d});if(o)return h.a.createElement(w.a,{type:"unknown"});if(!p)return h.a.createElement("span",{className:m},b);var v=Object(j.a)({channelId:r});return h.a.createElement(O.a,{className:m,href:v,target:Object(y.a)(v),clogLinkClick:this.clogLinkClick,"data-channel-name":b,"data-channel-id":r,"data-qa":"channel_link"},b)}}]),t}(p.PureComponent);T.displayName="BaseMrkdwnChannel",T.defaultProps=S;var R={updateChannelLastTrigger:I.d},N=Object(v.b)(function(e,t){var n=t.id,r=void 0,a=void 0,i=void 0,o=void 0,s=void 0,c=void 0,l=Object(g.d)(e,n);return l?(r=Object(_.x)(e,l,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),s=Object(_.Ib)(l),a=Object(_.xb)(l),o=Object(_.kb)(l),i=Object(_.nb)(l),c=Object(_.ab)(l)):i=!0,{channelName:r,isPrivate:a,isNonExistent:i,isMember:o,isUnknown:s,isFromAnotherTeam:c,featureRichTextRendering:Object(E.b)(e),featureLongerChannelNames:Object(C.j)(e,"feature_longer_channel_names")}},R)(T);N.propTypes={id:b.b.string.isRequired},t.a=N},"B/i4":function(e,t,n){"use strict";var r=n("qAkX"),a=n("lhZz"),i=n("D4L/"),o=n("clTI"),s=n("HvGc"),c=n("hhak"),l=n("HO/Y"),u=n("+1yX"),d=n("FHcd"),b=n("yHhI"),p=n("g5qt"),h=n("s19S"),m=n("6kok"),f=n("Fdc0"),v=n("5mKg"),g=n("DtX9"),_=n("hjTk"),O=n("vEhQ"),y=n("vFlG");window.TSM={interop:{}};var j=function(e,t){if(Object(y.a)(window.TSM,e))throw new Error("exportToLegacy: there is already something at "+e+"; we cannot overwrite it");if(!e||0!==e.indexOf("interop"))throw new Error("exportToLegacy: Name "+e+' must start with "interop".');Object(O.a)(window.TSM,e,t)};var k=n("cErB");function E(e,t){return Object(u.a)(t)?Object(o.d)(e,t,!1):Object(d.a)(t)?Object(o.j)(e,t.replace(/^@/,"")):Object(o.e)(e,t)}function C(e,t,n,r,o){if(t.length<2)return!1;var s=Object(a.getStateByTeamId)(e);if(!s)return!1;var u=t[1],d=E(s,u),O=t[2]&&t[2].match(/p\d{16}/)&&t[2].replace(/p(\d{10})(\d{6})/,"$1.$2");if(O&&17!==O.length)return!1;var y=n&&n.replace(/(\d{10})(\d{6})/,"$1.$2");if(y===O&&(y=null),Object(l.j)(s,"feature_jump_to_message")){var j=Object(a.getStoreInstanceByTeamId)(e),C=d&&d.id||u;return j.dispatch(Object(c.a)({channelId:C,ts:O,threadTs:y,subdomain:r})).catch(function(t){Object(b.a)({teamId:e}).info("PERMALINK","jumpToMessage failed, opening link in new tab",t),Object(_.a)(o)}),!0}if(!d||Object(m.nb)(d)||Object(m.ab)(d)){var I=Object(i.i)(s,e),w=Object(v.f)(I);if(p.X&&r!==w){var S=Object(m.ab)(d)?function(e,t,n){var r=Object(i.h)(e,t),a=Object(v.i)(r),o=Object(g.b)(e);if(Object(f.rb)(o,a))return t;var s=Object(m.Wb)(e,n);if(s){var c=Object(i.i)(e,s),l=Object(v.f)(c);if(l)return l}return t}(s,r,d):r;return function(e){var t=e.teamId,n=e.targetTeamDomain,r=e.path,a=e.threadTs;if(Object(p.Z)()){var i=Object(p.v)(n);if(!i)return!1;var o=r[2]&&r[2].replace(/p(\d{10})(\d{6})/,"$1.$2");if(o&&17!==o.length)return!1;var s=a&&a.replace(/(\d{10})(\d{6})/,"$1.$2");s===o&&(s=null);var c=r[1];if(Object(p.W)()){var l={channelId:c,teamId:i,messageTs:o,threadTs:s};Object(p.n)(l)}else{var u={team:i,id:c};o&&(u.message=o),s&&(u.thread_ts=s);var d="slack://channel"+Object(k.k)(u),h=document.createElement("iframe");h.src=d,document.body.appendChild(h),setTimeout(function(){h.remove()},1e3)}return Object(b.a)({teamId:t}).info("PERMALINK","Switching to team: "+i+", channel: "+c+", messageTs "+o+", threadTs "+s),!0}return!1}({teamId:e,targetTeamDomain:S,path:t,threadTs:n})}return!1}var T=d.id;return Object(h.q)(T,O,y),!0}function I(e){var t=Object(k.j)(e),n=t.hostname,a=t.pathname,i=t.search;if(!n||!a)return!1;var o=n.split("."),s=a.split("/").slice(1);if(!Object(k.h)(n))return!1;if(s.length<2)return!1;var c=s[0];switch(c){case"messages":case"archives":case"conversation":case"files":break;default:return!1}var l=o[0],u=void 0,d=Object(r.a)(i.split("?")),b=Object(k.l)(d);return b&&b.thread_ts&&(u=b.thread_ts),{team:l,type:c,path:s,threadTs:u}}function w(e){var t=I(e).path;return!!t&&(t&&t[1])}function S(e,t){var n=I(t);if(!n)return!1;var r=n.type,i=n.path,o=n.threadTs,c=n.team;switch(r){case"messages":case"archives":case"conversation":return C(e,i,o,c,t);case"files":return function(e,t){if(t.length<3)return!1;var n=t[2];return!(!n||"F"!==n[0]||(Object(a.getStoreInstanceByTeamId)(e).dispatch(Object(s.c)({fileId:n})),0))}(e,i);default:return!1}}function T(e){var t=e.channelId,n=e.ts,r=e.threadTs,a="/archives";return t&&(a+="/"+t),t&&n&&(a+="/p"+n.replace(".","")),t&&n&&r&&r!==n&&(a+="?thread_ts="+r+"&cid="+t),a}n.d(t,"b",function(){return E}),n.d(t,"e",function(){return I}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"a",function(){return T});j("interop.permalink",{getPermalink:T,getPermalinkIdentifier:w,parsePermalink:I})},B0Wu:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Update the supports_sticky_position");b.propTypes=c.b.bool.isRequired;var p=Object(l.b)("Update the notificationPermission");p.propTypes=c.b.string.isRequired;var h=Object(u.b)((r={},i()(r,b,function(e,t){return s()({},e,{supportsStickyPosition:t})}),i()(r,p,function(e,t){return s()({},e,{notificationPermission:t})}),r),{},{persistenceEnabled:!0});h.propTypes={supportsStickyPosition:c.b.bool,notificationPermission:c.b.string},t.a=h;Object(d.b)(function(e){return e&&e.environment&&e.environment.supportsStickyPosition});var m=Object(d.b)(function(e){return e&&e.environment&&e.environment.notificationPermission})},B0xl:function(e,t,n){},B4s0:function(e,t,n){},B8oY:function(e,t,n){},BA81:function(e,t,n){"use strict";var r=n("GbYP");t.a=r.a},BDy0:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Toggle if a screen reader is enabled");d.propTypes=s.b.bool.isRequired;var b=Object(l.b)(a()({},d,function(e,t){return"boolean"!=typeof t?e:t===e.screenReaderEnabled?e:o()({},e,{screenReaderEnabled:t})}),{screenReaderEnabled:!1},{persistenceEnabled:!1});b.propTypes={screenReaderEnabled:s.b.bool.isRequired},t.a=b;var p=Object(u.b)(function(e){return e&&e.accessibility&&e.accessibility.screenReaderEnabled})},BHBM:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("Muja"),m=n("fujP"),f=n("tn36"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("XHGt"),y=n("9PC1"),j=n("XfeM"),k=n("a+Oh"),E=n("aLpA"),C=n("jYCR"),I=Object(j.b)("Find channels that match a search query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.limit,i=void 0===a?E.c:a;return e(Object(C.c)({query:r,options:{entities:{channels:{includePrivate:Object(k.a)(t())}},allowEmptyQuery:!0,sort:!0,limit:i,tiered:!0}}))});I.propTypes={query:v.b.string,limit:v.b.number};var w=I,S=n("A+wp"),T=function(e){return(e||"").replace(/:/g,"")},R=Object(j.b)("Find emoji that match a search query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.limit,i=void 0===a?E.c:a;return e(Object(C.c)({query:T(r),options:{entities:{emoji:!0},limit:i,returnMetadata:!0}}))});R.propTypes={query:v.b.string,limit:v.b.number};var N=R,x=n("zFoL"),M=n("K7CU"),P=n("Y+74"),A=n("VjHM"),D=n("AfrZ"),L=n("nNoG"),q=n("cMxN"),F=n("rtjy"),B=n("Agr2"),U=n("0e3b"),H=n("MOyV"),K=n("QZia"),G=n("zmn3"),V=n("4aLn"),z=n("YEIV"),Y=n.n(z),W=n("TSYQ"),Q=n.n(W),X=n("HO/Y"),Z=n("13mM"),J=n("od5y"),$=new L.b("tabcomplete"),ee=(v.b.node,v.b.bool,v.b.bool,v.b.string,{children:void 0,showKeyboardHelp:!1,showOfflineHelp:!1,type:void 0}),te=function(e){var t=e.children,n=e.showOfflineHelp,r=e.showKeyboardHelp,a=e.type,i=Q()("c-texty_autocomplete",Y()({},"c-texty_autocomplete--"+a,!!a)),o=void 0;return n?o=_.a.createElement("span",{className:"c-texty_autocomplete__help_item"},$.rt("{iconOffline} <strong>No connection.</strong>\xa0Some results may not be available.",{iconOffline:_.a.createElement(J.b,{type:"cloud-offline",size:"inherit"}),fallbackHash:"bc414f3b178430ffd4899706d540e173d82edf83"})):r&&(o=_.a.createElement(_.a.Fragment,null,_.a.createElement("span",{className:"c-texty_autocomplete__help_item c-texty_autocomplete__help_item--narrow"},$.rt("{arrowUp} {arrowDown} to navigate",{arrowDown:_.a.createElement(J.b,{type:"arrow-down-medium",inline:!0}),arrowUp:_.a.createElement(J.b,{type:"arrow-up-medium",inline:!0}),note:"@i18n: keyboard shortcut help text"})),_.a.createElement("span",{className:"c-texty_autocomplete__help_item"},$.rt("{symbol} to select",{symbol:_.a.createElement(J.b,{type:"enter",size:"inherit",inline:!0}),note:"@i18n: keyboard shortcut help text"})),_.a.createElement("span",{className:"c-texty_autocomplete__help_item"},$.rt("<strong>esc</strong> to dismiss",{note:"@i18n: keyboard shortcut help text"})))),_.a.createElement("div",{className:i},_.a.createElement("div",{className:"c-texty_autocomplete__body"},_.a.createElement("ul",{className:"c-texty_autocomplete__results",id:"chat_input_tab_ui",role:"listbox"},t)),o&&_.a.createElement("div",{className:"c-texty_autocomplete__help"},o))};te.displayName="TextyAutocompleteMenu",te.defaultProps=ee;var ne=Object(O.b)(function(e){return{showKeyboardHelp:!!Object(A.g)(e,"show_autocomplete_help"),showOfflineHelp:Object(X.j)(e,"feature_offline_mode")&&!Object(Z.c)(e)}})(te),re=(v.b.node.isRequired,v.b.number.isRequired,v.b.bool,v.b.func,v.b.func,v.b.object.isRequired,{isSelected:!1,onSelectedIndexChange:p.a,onSelect:p.a}),ae=function(e){function t(){o()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleClick=e.handleClick.bind(e),e.resultRef=Object(g.createRef)(),e}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(){this.props.isSelected&&this.resultRef.current&&this.resultRef.current.scrollIntoView({block:"nearest"})}},{key:"handleMouseMove",value:function(){var e=this.props,t=e.index,n=e.isSelected,r=e.onSelectedIndexChange,a=e.result;n||r(t,a)}},{key:"handleMouseDown",value:function(e){e.preventDefault()}},{key:"handleClick",value:function(){var e=this.props,t=e.index;(0,e.onSelect)(t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.index,r=e.isSelected,a=Q()("tab_complete_ui_item","c-texty_autocomplete__result",{"c-texty_autocomplete__result--selected":r});return _.a.createElement("li",{role:"option","aria-selected":r,className:a,"data-qa":"tab_complete_ui_item",id:"tab_complete_ui_item_"+n,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,ref:this.resultRef,tabIndex:"-1"},t)}}]),t}(g.PureComponent);ae.displayName="TextyAutocompleteResult",ae.defaultProps=re;var ie=ae,oe=(v.b.number,v.b.arrayOf(v.b.object),v.b.func,v.b.func,{selectedIndex:0,results:void 0,onSelectedIndexChange:p.a,onSelect:p.a}),se=function(e){var t=e.results,n=e.selectedIndex,r=e.onSelect,a=e.onSelectedIndexChange;return _.a.createElement(ne,{type:"channels"},Object(G.a)(t,function(e,t){return _.a.createElement(ie,{key:e.id,index:t,isSelected:t===n,onSelectedIndexChange:a,onSelect:r,result:e},_.a.createElement(V.a,{channelId:e.id,invert:t===n}))}))};se.displayName="TextyAutocompleteChannels",se.defaultProps=oe;var ce=se,le=n("m1cH"),ue=n.n(le),de=n("HiDb"),be=n("UF3u"),pe=n("uf9I"),he=n("1VpL"),me=n("KPXh"),fe=n("V/As"),ve=n("derf"),ge=n("Jn9h"),_e=new L.b("cmd_handlers"),Oe=(v.b.objectOf(v.b.object),v.b.number,v.b.arrayOf(v.b.object),v.b.func,v.b.func,v.b.string,v.b.bool,v.b.bool,v.b.string.isRequired,{appsById:void 0,selectedIndex:0,results:void 0,onSelectedIndexChange:p.a,onSelect:p.a,teamId:void 0,featureSonicInputs:!1,featureChannelActionsClient:!1}),ye=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderCommandIcon",value:function(e){var t=this.props,n=t.appsById,r=t.teamId,a=t.defaultAppIcon,i=t.featureChannelActionsClient,o=Object(me.h)(e);if("custom"===o)return _.a.createElement(ve.b,{id:r,size:36});var s=_.a.createElement("div",{className:"c-texty_autocomplete__result_icon"},"/");if(i){var c=Object(me.f)(e),l=c.icon,u=c.iconClassName;s=_.a.createElement(J.b,{type:l,className:Q()("c-texty_autocomplete__fallback_icon",u),alt:Object(me.g)(e)})}if("app"===o){var d=Object(me.c)(e),b=Object(fe.a)(n[d],36,a),p=Object(fe.a)(n[d],72,a);return _.a.createElement(ge.a,{className:"c-texty_autocomplete__result_icon",src:b,srcSet:p+" 2x",alt:Object(me.g)(e),renderError:function(){return s},renderPending:function(){return s}})}return s}},{key:"renderGroupRow",value:function(e){var t=e.name,n=e.isInChannel;return this.props.featureSonicInputs?_.a.createElement("li",{key:"group-"+t,className:"c-texty_autocomplete__group"},t,!1===n&&_.a.createElement("span",{className:"margin_left_25"},"(",_e.t("not in channel"),")")):null}},{key:"renderCommandLabel",value:function(e){var t=Object(me.g)(e).replace(/^\//,"");return _.a.createElement("strong",null,t)}},{key:"renderCommandAliases",value:function(e){var t=this.props.featureSonicInputs,n=Object(me.b)(e);if(!t||Object(m.a)(n))return null;var r=_e.t("or {aliases}",{aliases:Object(L.h)(n,{noConj:!0}).join("")});return _.a.createElement("span",{className:"margin_left_25"},"(",r,")")}},{key:"renderCommandHelp",value:function(e){var t=Object(me.i)(e);return t?_.a.createElement("span",{className:"margin_left_25"},t):null}},{key:"renderCommandDescription",value:function(e){var t=Object(me.e)(e);return t?_.a.createElement("div",{className:"c-texty_autocomplete__result_description"},t):null}},{key:"renderCommandRow",value:function(e,t,n){var r=this.props,a=r.selectedIndex,i=r.onSelect,o=r.onSelectedIndexChange,s=Object(me.g)(e);return _.a.createElement(ie,{key:"command-"+n+"-"+s,index:t,isSelected:t===a,onSelectedIndexChange:o,onSelect:i,result:e},this.renderCommandIcon(e),_.a.createElement("div",{className:"c-texty_autocomplete__result_section"},_.a.createElement("div",{className:"c-texty_autocomplete__result_title"},this.renderCommandLabel(e),this.renderCommandAliases(e),this.renderCommandHelp(e)),this.renderCommandDescription(e)))}},{key:"renderBody",value:function(){var e=this,t=this.props.results,n=0;return Object(de.a)(t,function(t){var r=e.renderGroupRow(t),a=t.commands.map(function(r){var a=n;return n+=1,e.renderCommandRow(r,a,t.name)});return[r].concat(ue()(a))})}},{key:"render",value:function(){return _.a.createElement(ne,{type:"commands"},this.renderBody())}}]),t}(g.Component);ye.displayName="TextyAutocompleteCommands",ye.defaultProps=Oe;var je=Object(O.b)(function(e,t){var n=t.results;return{appsById:Object(de.a)(n,"commands").reduce(function(t,n){return n&&n.app&&(t[n.app]=Object(he.e)(e,n.app)),t},{}),teamId:Object(pe.b)(e),featureSonicInputs:Object(X.j)(e,"feature_sonic_inputs"),featureChannelActionsClient:Object(X.j)(e,"feature_channel_actions_client"),defaultAppIcon:Object(he.f)(e)}},null,null,{areStatePropsEqual:function(e,t){return Object(be.a)(e,t,2)}})(ye),ke=n("OZf9"),Ee=n("qkTT"),Ce=(v.b.number,v.b.arrayOf(v.b.object),v.b.func,v.b.func,v.b.string,{selectedIndex:0,results:void 0,onSelectedIndexChange:p.a,onSelect:p.a,userSkinTone:void 0}),Ie=function(e){var t=e.onSelect,n=e.onSelectedIndexChange,r=e.results,a=e.selectedIndex,i=e.userSkinTone;return _.a.createElement(ne,{type:"emoji"},Object(G.a)(r,function(e,r){var o=r===a,s=function(e){var t=e.text,n=e.indexes,r=e.renderHighlight;if(Object(m.a)(t))return null;var a=t.split("");return Object(ke.a)(n,function(e){var t=r(a[e]);a[e]=_.a.cloneElement(t,{key:"index-"+e})}),a}({text:e.emojiBestNameMatch,indexes:e.emojiMatchIndices,renderHighlight:function(e){return _.a.createElement("span",{className:Q()("c-texty_autocomplete__result_highlight",{"c-texty_autocomplete__result_highlight--selected":o})},e)}}),c=Object(M.f)(e,i);return _.a.createElement(ie,{key:e.item.name,index:r,isSelected:o,onSelectedIndexChange:n,onSelect:t,result:e},_.a.createElement(Ee.b,{className:"c-texty_autocomplete__result_emoji",text:c,forceDisplay:!0}),_.a.createElement("span",{className:"overflow_ellipsis"},":",s,":"))}))};Ie.displayName="TextyAutocompleteEmoji",Ie.defaultProps=Ce;var we=Object(O.b)(function(e){return{userSkinTone:Object(A.g)(e,"preferred_skin_tone")}})(Ie),Se=n("clTI"),Te=n("dyRQ"),Re=n("6kok"),Ne=n("Sha9"),xe=n("SnYN"),Me=n("fyoz"),Pe=(v.b.objectOf(v.b.bool),v.b.number,v.b.arrayOf(v.b.object),v.b.func,v.b.func,{channelMembershipByMemberId:{},selectedIndex:0,results:void 0,onSelectedIndexChange:p.a,onSelect:p.a}),Ae=function(e){var t=e.channelMembershipByMemberId,n=e.results,r=e.selectedIndex,a=e.onSelect,i=e.onSelectedIndexChange;return _.a.createElement(ne,{type:"members"},Object(G.a)(n,function(e,n){var o=n===r,s=void 0;return s=e.is_broadcast_keyword?_.a.createElement(Ne.a,{id:e.id,isActive:o}):e.is_usergroup?_.a.createElement(xe.a,{className:"full_height padding_left_0",id:e.id,isActive:o}):_.a.createElement(Me.b,{id:e.id,size:"small",showAvatar:!0,avatarIsInteractive:!1,forcedPrimary:"display_name",useDarkMode:o,showPresence:!0,showStatus:!0,showNotInChannelLabel:!1===t[e.id]}),_.a.createElement(ie,{key:e.id,index:n,isSelected:o,onSelectedIndexChange:i,onSelect:a,result:e},s)}))};Ae.displayName="TextyAutocompleteMembers",Ae.defaultProps=Pe;var De=Object(O.b)(function(e,t){return{channelMembershipByMemberId:function(e,t,n){if(!Object(m.a)(n)){var r=Object(Se.d)(e,t);if(!Object(Re.eb)(r))return n.reduce(function(n,r){var a=Object(Te.f)(e,t,r);return a.isKnown&&(n[r]=a.isMember),n},{})}}(e,t.channelId,function(e){return e&&e.filter(function(e){return e&&!e.is_broadcast_keyword&&!e.is_usergroup}).map(function(e){return e.id})}(t.results))}})(Ae),Le=(n("B0xl"),{isOpen:!1,selectedIndex:0,results:void 0,menuPosition:void 0}),qe=(v.b.string,v.b.string,v.b.bool,v.b.bool,v.b.bool,v.b.bool,v.b.func,v.b.func,v.b.func,v.b.func,v.b.arrayOf(v.b.string),v.b.bool,v.b.string,v.b.bool,v.b.func,v.b.func,v.b.oneOf(["top","bottom"]),v.b.bool,v.b.func,v.b.string,v.b.func,v.b.func,{channelId:void 0,threadTs:void 0,completeOnMembers:!1,completeOnChannels:!1,completeOnCommands:!1,completeOnEmoji:!1,autocompleteChannels:p.a,autocompleteCommands:p.a,autocompleteEmoji:p.a,autocompleteMembers:p.a,highlightWords:void 0,isEmojiDisplayedAsText:!1,locale:void 0,shouldCompleteOnTab:!0,recordFrecencyEvent:p.a,renderInput:p.a,position:"top",showAutocompleteHelpPref:void 0,setUserHasSeenHelp:p.a,userSkinTone:void 0,onOpen:p.a,onClose:p.a}),Fe=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(f.a)(n,["getMatch","handleSelect","onClose","onOpen","onSelectedIndexChange","positionMenu","search"]),n.modules=n.getModulesConfig(),n.completers=n.getCompleters(e),n.completer=null,n.tabCompleteSetSelectedIndex=p.a,n.tabCompleteHideMenu=p.a,n.tabCompleteSelectIndex=p.a,n.state=Le,n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.tabCompleteHideMenu)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.completeOnMembers,r=t.completeOnChannels,a=t.completeOnCommands,i=t.completeOnEmoji;e.completeOnMembers===n&&e.completeOnChannels===r&&e.completeOnCommands===a&&e.completeOnEmoji===i||(this.completers=this.getCompleters(e))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.tabCompleteHideMenu)}},{key:"onSelectedIndexChange",value:function(e){this.setState(function(){return{selectedIndex:e}})}},{key:"onOpen",value:function(){this.setState(function(){return{isOpen:!0}}),this.props.onOpen()}},{key:"onClose",value:function(){this.setState(function(){return{isOpen:!1,menuPosition:void 0,selectedIndex:void 0}}),this.props.onClose()}},{key:"getCompleters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.completeOnMembers,n=e.completeOnChannels,r=e.completeOnCommands,i=e.completeOnEmoji,o=[];return n&&o.push(a()({},B,{menu:ce,search:this.props.autocompleteChannels})),r&&o.push(a()({},U,{menu:je,search:this.props.autocompleteCommands})),i&&o.push(a()({},H,{menu:we,search:this.props.autocompleteEmoji})),t&&o.push(a()({},K,{menu:De,search:this.props.autocompleteMembers})),o}},{key:"getModulesConfig",value:function(){var e=this;return{tabcomplete:{completers:[{type:"members",getMatch:this.getMatch,onSelectedIndexChange:this.onSelectedIndexChange,search:this.search,onSelect:this.handleSelect,getResultAtIndex:function(t,n){return e.completer.getResultAtIndex?e.completer.getResultAtIndex(t,n):t[n]},getInsertData:function(t){return e.completer.getInsertData(t,{shouldRenderEmojiAsText:e.props.isEmojiDisplayedAsText,highlightWords:e.props.highlightWords,userSkinTone:e.props.userSkinTone,locale:e.props.locale})},getNumResults:function(){var t;return(t=e.completer).getNumResults.apply(t,arguments)},shouldDisplayResults:function(){var t;return!e.completer.shouldDisplayResults||(t=e.completer).shouldDisplayResults.apply(t,arguments)}}],render:function(t,n,r){return e.setState(function(){return{results:r}}),'<input type="hidden" />'},trailingPunctuationChars:y.b,shouldCompleteOnTab:function(){return e.props.shouldCompleteOnTab},onRender:this.onOpen,onClose:this.onClose,positionMenu:this.positionMenu,onInit:function(t){var n=t.setSelectedIndex,r=t.hideMenu,a=t.selectIndex;e.tabCompleteSetSelectedIndex=n,e.tabCompleteHideMenu=r,e.tabCompleteSelectIndex=a},isModern:!0}}}},{key:"getMatch",value:function(e,t,n,r){for(var a=this.props.locale,i=0;i<this.completers.length;i++){var o=this.completers[i],s=o.getMatch(e,{isUserSolicited:t,locale:a,options:r,startIndex:n});if(s)return this.completer===o?this.forceUpdate():(this.completer=o,this.setState(function(){return Le})),s}return null}},{key:"positionMenu",value:function(e){var t=this.state.menuPosition;Object(m.a)(e)||Object(h.a)(e,t)||this.setState(function(){return{menuPosition:e}})}},{key:"search",value:function(e,t,n){var r=this.props,a=r.channelId,i=r.threadTs;this.completer.search({query:e,channelId:a,isThread:!!i}).then(function(e){n(null,e),e&&e.promise&&e.promise.then(function(e){n(null,e)}).catch(n)}).catch(n)}},{key:"handleSelect",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fromKeyboard,r=void 0!==n&&n,a=this.props,i=a.setUserHasSeenHelp,o=a.showAutocompleteHelpPref;if(this.completer.getResultFrecencyId){var s=this.completer.getResultFrecencyId(e);s&&this.props.recordFrecencyEvent({id:s,text:t})}r&&0!==o&&i()}},{key:"renderMenu",value:function(){var e=this.props.channelId,t=this.state,n=t.selectedIndex,r=t.results;return this.completer?_.a.createElement(this.completer.menu,{channelId:e,selectedIndex:n,results:r,onSelectedIndexChange:this.tabCompleteSetSelectedIndex,onSelect:this.tabCompleteSelectIndex}):null}},{key:"render",value:function(){var e=this.props,t=e.renderInput,n=e.position,r=this.state,a=r.isOpen,i=r.menuPosition,o="bottom"===n?7:-7;return _.a.createElement(g.Fragment,null,t({modules:this.modules,isOpen:a}),_.a.createElement(q.a,{isOpen:a,position:n+"-left",targetBounds:i,offsetX:-17,offsetY:o,allowanceX:20,zIndex:"menu",shouldObserveResize:!1,shouldFocusAfterRender:!1,shouldFade:!1,ariaHideApp:!1,ariaRole:"presentation"},this.renderMenu()||_.a.createElement("div",null)))}}]),t}(g.PureComponent);Fe.displayName="TextyAutocomplete",Fe.defaultProps=qe;t.a=Object(O.b)(function(e){return{highlightWords:Object(P.a)(e),isEmojiDisplayedAsText:Object(M.m)(e),locale:Object(L.p)(),userSkinTone:Object(A.g)(e,"preferred_skin_tone"),showAutocompleteHelpPref:!!Object(A.g)(e,"show_autocomplete_help")}},function(e){return{autocompleteChannels:function(){return e(w.apply(void 0,arguments))},autocompleteCommands:function(){return e(S.a.apply(void 0,arguments))},autocompleteEmoji:function(){return e(N.apply(void 0,arguments))},autocompleteMembers:function(){return e(x.a.apply(void 0,arguments))},recordFrecencyEvent:function(){return e(F.c.apply(void 0,arguments))},setUserHasSeenHelp:function(){return e(Object(D.f)({pref:"show_autocomplete_help",value:0}))}}})(Fe)},BOlt:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("ifKl"),c=n("kxpR"),l=n.n(c),u=n("aK/h"),d=n("nNoG"),b=n("82mD"),p=n("od5y"),h=n("XLFM"),m=n("/xNi"),f=new d.b("date_picker"),v=(u.b.string,u.b.string,u.b.string,u.b.arrayOf(u.b.string),u.b.string,u.b.func,u.b.bool,u.b.func,u.b.node,u.b.string,{dateFormat:"YYYY-MM-DD",disableDatesAfter:void 0,disableDatesBefore:void 0,disabledDates:[],displayFormat:"date_short",isDateDisabled:void 0,isDisabled:!1,onDateChange:s.a,placeholder:void 0,selectedDate:void 0});function g(e){var t=e.dateFormat,n=e.disableDatesAfter,r=e.disableDatesBefore,i=e.disabledDates,s=e.displayFormat,c=e.isDateDisabled,u=e.isDisabled,d=e.onDateChange,v=e.placeholder,g=void 0===v?f.t("Select date"):v,_=e.selectedDate,O=o()(e,["dateFormat","disableDatesAfter","disableDatesBefore","disabledDates","displayFormat","isDateDisabled","isDisabled","onDateChange","placeholder","selectedDate"]),y=void 0;if(_){var j=Object(b.n)(_,{parseFormat:t});y=Object(b.d)(j,"{"+s+"}")}else y=g;var k=l.a.createElement(h.d,a()({},O,{disabled:u}),l.a.createElement(p.b,{className:"margin_right_50",type:"calendar"}),y);return u?k:l.a.createElement(m.b,{dateFormat:t,disableDatesAfter:n,disableDatesBefore:r,disabledDates:i,isDateDisabled:c,onDateChange:d},k)}g.displayName="DatePickerButton",g.defaultProps=v,t.a=g},BQ0Q:function(e,t,n){},"BRQ/":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kiPk"),b=n("wBxZ"),p=n("1myf"),h=n("zmn3"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("XHGt"),_=n("TSYQ"),O=n.n(_),y=n("qkTT"),j=n("zfae"),k=n("Q+UV"),E=n("Wofk"),C=(n("TAYR"),m.b.object.isRequired,m.b.arrayOf(m.b.shape(E.b)),m.b.string,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"getReactions",value:function(){var e=this.props,t=e.msg,n=e.reactions;return n||t.reactions}},{key:"render",value:function(){var e=this.getReactions();if(!e||0===e.length)return null;var t=Object(b.a)(Object(p.a)(e,"count"),2),n=Object(d.a)(e,"count"),r=null;n>0&&(r=v.a.createElement("span",{className:"c-message_kit__reaction_condensed__reactions_count"},1===n?n+" reaction":n+" reactions"));var a=O()(this.props.className,"c-message_kit__reaction_condensed c-message_kit__reaction_condensed--reactions");return v.a.createElement("div",{className:a},Object(h.a)(t,function(e){return v.a.createElement(y.b,{text:":"+e.name+":",key:e.name,emojiSize:y.a.SMALL})}),r)}}]),t}(v.a.PureComponent));C.displayName="CondensedReactionBar",C.defaultProps={className:null,reactions:null};t.a=Object(g.b)(function(e,t){var n=t.msg;if(!n)return null;var r=Object(k.b)(n);return{reactions:Object(j.e)(e,r)}})(C)},BSPi:function(e,t,n){},BTtz:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("O/xh"),g=n("w6pt"),_=n("6avh"),O=n("derf"),y=n("JXW8"),j=n("mOAw"),k=n("u9my"),E=n("EHyS"),C=n("lwWk"),I=(b.b.string,b.b.string,b.b.string,b.b.string,b.b.string,b.b.string,b.b.object,b.b.string,b.b.string,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.string,b.b.func,b.b.bool,b.b.string,{name:null,overrideNameText:void 0,color:null,theme:"light",userId:null,botId:null,botProfile:void 0,botTeamId:null,href:null,isUnknown:!0,isNonExistent:!1,isInteractive:!0,memberIsHuman:!0,memberIsExternal:!1,memberTeamId:null,clogLinkClick:d.a,featureReactMemberProfileCard:!1,className:void 0}),w=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(e){if(!Object(E.a)(e)){var t=this.props,n=t.userId,r=t.botId,a=t.botTeamId,i=t.clogLinkClick,o=t.memberIsHuman,s=t.featureReactMemberProfileCard;(n||r)&&(e.preventDefault(),e.persist(),s||(!o&&r?Object(k.a)(e,r,a):Object(j.a)(e,this.props.userId),i()))}}},{key:"renderTeamIcon",value:function(){return this.props.memberIsExternal&&this.props.memberTeamId?"dense"!==this.props.theme?null:h.a.createElement(O.b,{size:16,showTooltip:!0,id:this.props.memberTeamId,className:"nudge_top_3 margin_right_25 inline_flex align_top"}):null}},{key:"renderBotLabel",value:function(){return this.props.memberIsHuman?null:h.a.createElement("span",{className:"margin_left_25"},h.a.createElement(y.a,null))}},{key:"render",value:function(){var e=this.props,t=e.botId,n=e.botProfile,r=e.userId,a=e.featureReactMemberProfileCard,i=e.overrideNameText,o=f()("c-message__sender",this.props.className);if(this.props.isUnknown)return h.a.createElement(g.a,{type:"unknown"});if(this.props.isNonExistent&&!this.props.name&&!i)return h.a.createElement(g.a,{type:"non-existent"});var s={};"dense"===this.props.theme&&this.props.color&&(s.color="#"+this.props.color);var c=void 0;return this.props.href&&this.props.isInteractive?(c=h.a.createElement(C.a,{className:"c-message__sender_link",style:s,href:this.props.href,target:"_blank",rel:"noopener noreferrer",onClick:a?d.a:this.onClick,"data-message-sender":this.props.userId,"data-qa":"message_sender_name"},i||this.props.name),a&&(c=h.a.createElement(v.a,{botId:t,userId:r,botProfile:n,onClick:this.onClick},c))):c=h.a.createElement("span",{"data-qa":"message_sender_name"},i||this.props.name),h.a.createElement("span",{className:o,style:s,"data-qa":"message_sender"},this.renderTeamIcon(),c,h.a.createElement(_.b,{memberId:this.props.userId}),this.renderBotLabel())}}]),t}(p.PureComponent);w.displayName="MessageSender",w.defaultProps=I,t.a=w},BWAg:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("ifKl"),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=n("XLFM"),_=n("od5y"),O=n("WeBd"),y=n("RMmo"),j=n("TnU2"),k=n("rz65"),E=n("6FZx"),C=(n("boyP"),p.b.bool,p.b.func,p.b.func,p.b.func,p.b.func,p.b.number,p.b.string,p.b.string,p.b.node,p.b.node,p.b.node,p.b.bool,p.b.bool,p.b.bool,p.b.string,p.b.bool,p.b.node,p.b.node,p.b.number,p.b.string,p.b.bool,p.b.string,p.b.oneOf(Object(d.a)(k.a)),p.b.bool,p.b.string,p.b.string,p.b.bool,{children:void 0,highlighted:!1,onMouseEnter:b.a,onMouseLeave:b.a,onSelected:b.a,menuCallback:b.a,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:!0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,showEnter:!1,target:void 0,type:k.a.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0}),I=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelected=n.onSelected.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.bindKeyCommands()}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"onSelected",value:function(e){this.props.onSelected(e),this.props.menuCallback(this.props.menuCallbackId,e)}},{key:"onReturnKey",value:function(e){this.props.highlighted&&!this.props.withSubmenu&&(this.onSelected(e),e&&e.preventDefault&&e.preventDefault())}},{key:"bindKeyCommands",value:function(){var e=[{keys:["return"],handler:this.onReturnKey.bind(this)}];this.keyCommands||(this.keyCommands=new y.a),this.keyCommands.bindAll(e)}},{key:"renderCaret",value:function(){return!this.props.withSubmenu||this.props.disabled?null:m.a.createElement(_.b,{type:"chevron-right",className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"})}},{key:"renderIconMaybe",value:function(){var e=this.props.icon;return e?m.a.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},e):null}},{key:"renderShortcutMaybe",value:function(){var e=this.props.shortcut;return e?m.a.createElement("div",{className:"c-menu_item__shortcut"},e):null}},{key:"renderBadgeMaybe",value:function(){var e=this.props,t=e.badgeLabel,n=e.badgeCount,r=e.highlighted;return n?m.a.createElement(O.b,{count:n,style:r?O.a.white:O.a.red}):t?m.a.createElement(j.a,{className:"margin_left_50"}," ",t):null}},{key:"renderLinkIconMaybe",value:function(){var e=this.props,t=e.href,n=e.showLinkIndicatorIcon;return t&&n?m.a.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},m.a.createElement(_.b,{type:"external-link",className:"c-menu_item__link-indicator","data-qa":"menu_item_link_indicator",role:"presentation",size:"inherit"})):null}},{key:"renderEnterMaybe",value:function(){var e=this.props,t=e.showEnter,n=e.highlighted;return t&&n?m.a.createElement(_.a,{type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"}):null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.classNameListItem,a=e.danger,i=e.description,o=e.disabled,s=e.showOfflineIcon,c=e.highlighted,l=e.label,u=e.onMouseEnter,d=e.onMouseLeave,b=e.href,p=e.target,h=e.type,f=e.withSubmenu,O=e.standaloneHoverEffect,y=v()(n,"c-menu_item__button",{"c-menu_item__button--highlighted":c&&!o,"c-menu_item__button--danger":a,"c-menu_item__button--disabled":o,"c-menu_item__button--with_submenu":f,"c-menu_item--button--subheader_child":h===k.a.subheaderChild,"c-menu_item--compact":h===k.a.compactItem,"c-menu_item--standalone":O}),j=v()(r,"c-menu_item__li",{"c-menu_item__li--highlighted":c}),E=v()(r,"c-menu_item__label",{"c-menu_item__label--with_description":i}),C=f?"true":null,I=i?m.a.createElement("div",{className:"c-menu_item__description"},i):"",w=this.props.activeMenuId;return m.a.createElement("div",{className:j,onMouseEnter:u,onMouseLeave:d,"data-qa":this.props["data-qa"]+"-wrapper"},m.a.createElement(g.c,{id:w,className:y,disabled:o,onClick:this.onSelected,href:b,target:p,"data-qa":this.props["data-qa"],role:"menuitem","aria-haspopup":C,tabIndex:"-1"},this.renderIconMaybe(),m.a.createElement("div",{className:E},l,t,I),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),s&&m.a.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},m.a.createElement(_.b,{type:"cloud-offline-small"}))))}}]),t}(h.PureComponent);I.displayName="MenuItem",I.defaultProps=C,t.a=Object(E.b)(I)},BYHq:function(e,t,n){"use strict";n.d(t,"f",function(){return g}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return C});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("mkut"),l=n("owWc"),u=n("m8R6"),d=n("3Hq1"),b=n("aK/h"),p=n("EzZj"),h=n("MNvw"),m=n("U/ze"),f=n("peh1"),v={},g=Object(p.b)("Upsert current user membership for a user group");g.propTypes={groupId:b.b.string.isRequired,isMember:b.b.bool};var _=Object(p.b)("Clear current user membership for a user group");_.propTypes={groupId:b.b.string.isRequired};var O=Object(p.b)("Clear all user membership in the store");O.propTypes=null;var y=Object(p.b)("Upsert user group membership for multiple user groups");y.propTypes={userGroups:b.b.arrayOf(b.b.string),isMember:b.b.bool};var j=Object(h.b)((r={},i()(r,g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.groupId,r=t.isMember;return n?Object(d.a)(r)?e:s()({},e,i()({},n,{isMember:r})):e}),i()(r,_,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).groupId;return t?Object(u.a)(e,t):e}),i()(r,O,function(){return v}),i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userGroups,r=t.isMember;return Object(l.a)(n,function(e,t){return e[t]={isMember:r},e},s()({},e))}),r),v,{persistenceEnabled:!0});j.propTypes=b.b.objectOf(b.b.shape({isMember:b.b.bool})),t.c=j;var k=Object(m.b)(function(e){return e&&e.userGroupMembership}),E=Object(f.createSelector)(function(e){return k(e)},function(e){return Object(c.a)(e).filter(function(t){return e[t].isMember})}),C=Object(m.b)(function(e,t){return e&&e.userGroupMembership&&e.userGroupMembership[t]&&e.userGroupMembership[t].isMember})},Bb7I:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=(n("aK/h"),n("U3Q0")),_=n("DTT0"),O=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=n.submit.bind(n),n.save=n.save.bind(n),n}return h()(t,e),u()(t,[{key:"submit",value:function(e){e.preventDefault(),this.save()}},{key:"save",value:function(){var e=this.props,t=e.isValid,n=e.onGo,r=e.closeModal;if(t){var a=n();a&&a.then&&a.then(function(){r()})}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isValid,r=(e.onGo,o()(e,["children","isValid","onGo"]));return f.a.createElement(g.a,a()({},r,{goButtonIsDisabled:!n||r.goButtonIsDisabled,shouldCloseOnGo:!1,onGo:this.save}),f.a.createElement("form",{onSubmit:this.submit},t,f.a.createElement("button",{style:{display:"none"},type:"submit"},"Submit")))}}]),t}(m.PureComponent);O.displayName="_FormDialog",O.defaultProps={isValid:!1};var y={closeModal:_.a},j=Object(v.b)(null,y)(O)},BeG2:function(e,t,n){"use strict";var r,a=n("F2y5"),i=n("ZP0B"),o=n("Yk1L"),s=n("aK/h"),c=n("EzZj"),l=n("YS90"),u=n("Zr7G"),d=n("uf9I"),b=n("Z7Ay"),p=n("YEIV"),h=n.n(p),m=n("iCc5"),f=n.n(m),v=n("V7oC"),g=n.n(v),_=n("NFsq"),O=n("f8fv"),y=n("MXQz"),j=n("bYYE"),k=n("lhZz"),E=n("HO/Y"),C=n("lDGG"),I=n("13mM"),w=n("5UAc"),S=n("St+r"),T=n("yHhI"),R=n("Smdl"),N=n("3PKk"),x=n("30MO"),M=n("WQtW"),P=n("q/xz"),A=n("cewN"),D=n("cErB"),L=n("L4xJ"),q=n("eK5+"),F=n("6TBL"),B=n("bbP7"),U=n("8Az7"),H=N.e,K=x.a,G=E.r,V=x.b,z=function(){function e(t){if(f()(this,e),!t)throw new Error("SocketManager requires a token");this._token=t,this._teamId=Object(U.a)(this._token),this._logger=Object(T.a)({teamId:this._teamId}),this._telemeter=Object(u.c)({state:Object(k.getStateByTeamId)(this._teamId)}),this._connectFailureCount=0,this._connectStartTs=void 0,this._firstConnectFailureTs=void 0,this._didDispatchTroubleConnecting=!1,this._didCountTroubleConnecting=!1,this._currentState=B.a.NEVER_CONNECTED,this._debugSocketConnectFlakiness=0,this._debugSocketSendFlakiness=0,this._fastReconnectsEnabled=!0,this._fastReconnectUrl=void 0,this._fastReconnectUrlReceivedAtTime=void 0,this._backoffMs=0,this._socket=void 0,this._stuckStateTimer=void 0,this._waitForConnectivityP=void 0,this._waitForRateLimitTimer=void 0,this._waitingForRateLimitActionInterval=void 0,this._hasConnected=!1,this._failoverMode=!1,this._useBackupRegion=!1,this._successfulQueryCount=0,this._failedQueryCount=0,this._responseSizes=[],this._dispatchReduxAction=this._dispatchReduxAction.bind(this),this._isClientOnline=this._isClientOnline.bind(this),Object(P.a)(this)}return g()(e,[{key:"debugGetState",value:function(){return this._currentState}},{key:"debugResetRateLimit",value:function(){this._backoffMs=0}},{key:"debugSetFastReconnectsEnabled",value:function(e){this._fastReconnectsEnabled=!!e}},{key:"debugSetSocketConnectFlakiness",value:function(e){if(e<0||e>1)throw new Error("Flakiness must be a number between 0 and 1");this._debugSocketConnectFlakiness=e}},{key:"debugSetSocketSendFlakiness",value:function(e){if(e<0||e>1)throw new Error("Flakiness must be a number between 0 and 1");this._debugSocketSendFlakiness=e}},{key:"debugSlowReconnect",value:function(){this._fastReconnectUrl=null,this.disconnect()}},{key:"debugTriggerMessageHandler",value:function(e){this._handleSocketMessage(e)}},{key:"debugTriggerError",value:function(){this._setState(B.a.ERROR)}},{key:"start",value:function(){var e=this;if(this._currentState!==B.a.NEVER_CONNECTED)throw new Error("SocketManager can only be started once");window.addEventListener("offline",function(){e._info("got offline event; moving to DISCONNECT as needed"),e._transitionSafely({state:B.a.DISCONNECT,noopStates:[B.a.ASLEEP,B.a.SLEEP,B.a.SLEEPING,B.a.HALTED,B.a.HALTING,B.a.HALT,B.a.DISCONNECT,B.a.DISCONNECTING,B.a.DISCONNECTED,B.a.WAIT_FOR_CONNECTIVITY]})}),window.addEventListener("sleep",function(){e.sleep()},!1),window.addEventListener("wake",function(){e.wake()},!1),this._transitionSafely({state:B.a.PROV_CONNECT,allowableSourceStates:[B.a.NEVER_CONNECTED,B.a.WAIT_FOR_RATE_LIMIT,B.a.ERROR,B.a.DISCONNECTED],noopStates:[B.a.PROV_CONNECT,B.a.PROV_CONNECTING,B.a.PROV_CONNECTED,B.a.CONNECTED,B.a.CHECKING_FAST_RECONNECT,B.a.FAST_RECONNECTING,B.a.WAIT_FOR_CONNECTIVITY]}),this._maybeEnableDebuggingFlakinessFromQueryParams()}},{key:"disconnect",value:function(){this._transitionSafely({state:B.a.DISCONNECT,noopStates:[B.a.HALTED,B.a.ASLEEP,B.a.DISCONNECTED,B.a.DISCONNECTING,B.a.WAIT_FOR_CONNECTIVITY,B.a.WAIT_FOR_RATE_LIMIT]})}},{key:"finalizeProvisionalConnection",value:function(){this._telemeter.count("sm_flow_finalize_prov_10");var e=this._currentState;if(this._transitionSafely({state:B.a.PROV_FINALIZE,allowableSourceStates:[B.a.PROV_CONNECTED]}),this._currentState!==B.a.CONNECTED){var t=this._currentState;throw this._telemeter.count("sm_flow_finalize_prov_error_10"),this._setState(B.a.ERROR),new Error("Failed to finalize connection -- expected to be connected but actually "+t+" (start state was "+e+")")}this._telemeter.count("sm_flow_finalize_prov_ok_10")}},{key:"reconnectImmediately",value:function(){this._transitionSafely({state:B.a.CONNECT,noopStates:[B.a.CONNECT,B.a.CONNECTED,B.a.CHECKING_FAST_RECONNECT,B.a.FAST_RECONNECTING,B.a.PROV_CONNECT,B.a.PROV_CONNECTED,B.a.PROV_CONNECTING,B.a.PROV_FINALIZE,B.a.PROV_FINALIZING,B.a.HALT,B.a.HALTING,B.a.HALTED]})}},{key:"halt",value:function(){this._telemeter.count("sm_flow_halt"),this._info("Halting"),this._transitionSafely({state:B.a.HALT,noopStates:[B.a.HALT,B.a.HALTING,B.a.HALTED]})}},{key:"unhalt",value:function(){this._telemeter.count("sm_flow_unhalt"),this._info("Unhalting"),this._transitionSafely({state:B.a.CONNECT,allowableSourceStates:[B.a.HALTED]})}},{key:"sleep",value:function(){this._telemeter.count("sm_flow_sleep"),this._info("Sleeping"),this._transitionSafely({state:B.a.SLEEP,noopStates:[B.a.ASLEEP,B.a.SLEEPING,B.a.HALT,B.a.HALTING,B.a.HALTED]})}},{key:"wake",value:function(){[B.a.HALT,B.a.HALTING,B.a.HALTED].includes(this._currentState)||(this._currentState===B.a.ASLEEP?(this._telemeter.count("sm_flow_wake"),this._info("Waking"),this._transitionSafely({state:B.a.CONNECT,allowableSourceStates:[B.a.ASLEEP]})):this._warn("Got asked to wake but we are not asleep; ignoring"))}},{key:"clearFastReconnectUrl",value:function(){this._fastReconnectUrl=void 0,this._fastReconnectUrlReceivedAtTime=void 0}},{key:"getFastReconnectUrl",value:function(){if(this._fastReconnectsEnabled&&this._fastReconnectUrl){if(!(Date.now()-this._fastReconnectUrlReceivedAtTime>de))return this._fastReconnectUrl;this._fastReconnectUrl=void 0}}},{key:"send",value:function(e){var t=e.type;if(!this._socket)throw new Error("Cannot send data when we do not have a socket; state = "+this._currentState);if(this._debugSocketSendFlakiness&&Math.random()<=this._debugSocketSendFlakiness){this._info("Intentionally throwing error to simulate flakiness");var n=e.subtype?e.type+"."+e.subtype:e.type,r=new Error("Socket send failed due to intentional flakiness for debugging; message type was "+n);return r.msg={},r.msg.SENT_MSG=e,Promise.reject(r)}Object(_.a)(ge,t)&&this._dispatchReduxAction(Object(C.c)());var a=this._socket.send(e);return this._maybeMeasureReliabilityMetrics(a),a}},{key:"getStats",value:function(){return{successfulQueryCount:this._successfulQueryCount,failedQueryCount:this._failedQueryCount,responseSizes:this._responseSizes,totalQueryCount:this._successfulQueryCount+this._failedQueryCount}}},{key:"clearStats",value:function(){this._successfulQueryCount=0,this._failedQueryCount=0,this._responseSizes=[]}},{key:"shouldMeasureReliabilityMetrics",value:function(){return fe}},{key:"_maybeEnableDebuggingFlakinessFromQueryParams",value:function(){var e=Object(A.d)(window.location.search).ws_flakiness;if(e)try{var t=parseFloat(e);t>0&&(this.debugSetSocketConnectFlakiness(t),this.debugSetSocketSendFlakiness(t),1===t&&this.disconnect())}catch(e){}}},{key:"_closeSocket",value:function(e){if(this._socket){this._socket.onConnectCallback=void 0,this._socket.onCloseCallback=void 0,this._socket.onErrorMessageCallback=void 0;var t=ae[e]||"generic error",n=e?"#"+e+": "+t:t,r=this._socket;this._socket=void 0,r.isClosingOrClosed?this._warn("Socket was closed because "+n):(this._info("Closing socket because "+n),r.close(e,t)),this._telemeter.count("ws_cr_"+(e||ne)+"_10")}}},{key:"_createSlackSocketWithUrl",value:function(e){if(this._socket)throw new Error("We already have a socket");if(this._debugSocketConnectFlakiness&&Math.random()<=this._debugSocketConnectFlakiness)return this._info("Intentionally closing socket to simulate flakiness"),void this._handleSocketClosed();e=Object(N.d)({baseUrl:e,token:this._token,useBackup:this._useBackupRegion}),e=Object(D.o)(e,"token",this._token),this._socket=new F.d(e),this._connectStartTs=Date.now(),this._socket.onCloseCallback=Object(y.a)(this._handleSocketClosed.bind(this)),this._socket.onConnectCallback=Object(y.a)(this._handleSocketConnected.bind(this)),this._socket.onErrorMessageCallback=Object(y.a)(this._handleSocketErrorMessage.bind(this))}},{key:"_isClientOnline",value:function(){var e=Object(k.getStateByTeamId)(this._teamId);return Object(E.j)(e,"feature_connectivity_manager")?Object(I.c)(e):K()}},{key:"_dispatchReduxAction",value:function(e){var t=Object(U.a)(this._token);return t?Object(k.dispatchForTeamId)(t,e):(this._error("failed to get team ID from token"),Promise.reject(new Error("failed to get team ID from token")))}},{key:"_handleGoodbye",value:function(){this._info("goodbye: disconnecting from the MS next time it is convenient");var e=Object(k.getStateByTeamId)(this._teamId);Object(j.g)(e)?this._info("received a goodbye message but window is focused, so ignoring it -- Flannel will hang up on us after a while"):(this._info("goodbye: disconnecting now"),this._closeSocket(Z),this.disconnect())}},{key:"_handleSocketClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this._telemeter.count("sm_flow_unexpected_close_10"),this._closeSocket(e),this._dispatchReduxAction(Object(S.A)()),this._transitionSafely({state:B.a.ERROR})}},{key:"_handleSocketConnected",value:function(){me&&this._telemeter.store("sm_connect_to_hello_time",Date.now()-this._connectStartTs);var e=this._currentState===B.a.FAST_RECONNECTING?B.a.CONNECTED:B.a.PROV_CONNECTED;this._telemeter.count("sm_flow_connected_"+e),this._transitionSafely({state:e,allowableSourceStates:[B.a.FAST_RECONNECTING,B.a.PROV_CONNECTING]}),this._openWebSocketPResolve&&(this._openWebSocketP=void 0,this._openWebSocketPResolve(),this._openWebSocketPResolve=void 0)}},{key:"_handleSocketErrorMessage",value:function(e){var t=e.code,n=e.msg;this._info("received an error of type "+t+": "+n),this._telemeter.count("ws_err_10"),this._telemeter.count("ws_err_"+Object(O.a)(n)+"_10");var r=!0;switch(n){case"rate_limited":case"ratelimited":case"backend_overloaded":case"unknown":this._info("adding delay of "+be+" ms"),this._backoffMs=be,this._fastReconnectAttempts=0;break;case"Subscription failure from the CS":case"Socket URL has expired":this.clearFastReconnectUrl();break;case"invalid_auth":this._currentState===B.a.FAST_RECONNECTING&&(this._info("Got invalid_auth when trying to fast reconnect; clearing fast reconnect URL and trying slow reconnection instead"),this.clearFastReconnectUrl(),r=!1)}this._closeSocket($),this._setState(B.a.ERROR),r&&this._dispatchReduxAction(Object(S.w)(n))}},{key:"_handleSocketMessage",value:function(e){switch(e.type){case"goodbye":return void this._handleGoodbye();case"reconnect_url":return this._fastReconnectUrl=e.url,void(this._fastReconnectUrlReceivedAtTime=Date.now())}this._dispatchReduxAction(Object(S.x)(e))}},{key:"_leaveState",value:function(e,t){switch(e){case B.a.FAST_RECONNECTING:case B.a.PROV_CONNECTING:case B.a.PROV_CONNECTED:t===B.a.ERROR&&(this._connectFailureCount+=1,1===this._connectFailureCount&&(this._firstConnectFailureTs=Date.now(),this._didDispatchTroubleConnecting=!1,this._didCountTroubleConnecting=!1),this._maybeDispatchTroubleConnectingAction(),this._maybeSetFailoverMode());break;case B.a.CONNECTED:this._dispatchReduxAction(Object(S.d)());break;case B.a.WAIT_FOR_CONNECTIVITY:this._waitForConnectivityP&&(this._waitForConnectivityP.cancel(),this._waitForConnectivityP=void 0);break;case B.a.WAIT_FOR_RATE_LIMIT:this._waitForRateLimitTimer&&(clearTimeout(this._waitForRateLimitTimer),this._waitForRateLimitTimer=void 0),this._waitingForRateLimitActionInterval&&(clearInterval(this._waitingForRateLimitActionInterval),this._waitingForRateLimitActionInterval=void 0),t===B.a.CONNECT&&this._dispatchReduxAction(Object(S.B)(0))}}},{key:"_runState",value:function(e,t){var n=this;switch(e){case B.a.NEVER_CONNECTED:var r=Object(k.getStateByTeamId)(this._teamId);if(!G(r))return;this._info("Attempting initial connection to primary region"),this._telemeter.count("sm_flow_primary_connecting_10"),this._setState(B.a.PROV_CONNECT);break;case B.a.CONNECT:this._setState(B.a.CHECKING_FAST_RECONNECT),this._maybeToggleRegion();var a=this._useBackupRegion?"backup":"primary";this._info("Attempting to connect to "+a+" region"),this._telemeter.count("sm_flow_"+a+"_connecting_10");var i=this.getFastReconnectUrl();if(!i)return void this._setState(B.a.PROV_CONNECT);this._telemeter.count("sm_flow_fast_reconnect_10");try{this._setState(B.a.FAST_RECONNECTING),this._createSlackSocketWithUrl(i),this._socket.messageDelegate=this._handleSocketMessage.bind(this)}catch(e){this._closeSocket(X),this._setState(B.a.PROV_CONNECT)}break;case B.a.FAST_RECONNECTING:break;case B.a.CONNECTED:this._clearErrorCount(),this._backoffMs=0,this._didDispatchTroubleConnecting=!1,this._didCountTroubleConnecting=!1,this._hasConnected=!0;var o=this._useBackupRegion?"backup":"primary";this._info("Connected to "+o+" region"),this._telemeter.count("sm_flow_"+o+"_connected_10");var s=!this._useBackupRegion;if(this._socket.startData.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s&&e.region&&n._dispatchReduxAction(Object(S.v)(e.region))}),this._failoverMode=!1,this._useBackupRegion=!1,t!==B.a.CONNECTED){var c=t===B.a.FAST_RECONNECTING;this._dispatchReduxAction(Object(S.a)(c))}break;case B.a.CHECKING_FAST_RECONNECT:break;case B.a.PROV_CONNECT:this._telemeter.count("sm_flow_connect_prov_10"),this._setState(B.a.PROV_CONNECTING);var l=Object(k.getStateByTeamId)(this._teamId);this._createSlackSocketWithUrl(H(l,{useBackup:this._useBackupRegion}));break;case B.a.PROV_CONNECTING:break;case B.a.PROV_CONNECTED:this._dispatchReduxAction(Object(S.t)(this._socket.startData));break;case B.a.PROV_FINALIZE:this._setState(B.a.PROV_FINALIZING),this._setState(B.a.CONNECTED),this._socket.messageDelegate=this._handleSocketMessage.bind(this);break;case B.a.PROV_FINALIZING:break;case B.a.DISCONNECT:var u=this._isClientOnline()?Y:J;this._setState(B.a.DISCONNECTING),this._closeSocket(u),this._setState(B.a.DISCONNECTED);break;case B.a.DISCONNECTING:break;case B.a.DISCONNECTED:this._info("Disconnected! Online? "+this._isClientOnline()),this._setState(B.a.WAIT_FOR_RATE_LIMIT);break;case B.a.ERROR:this._closeSocket(W),Object(M.b)(),this._setState(B.a.WAIT_FOR_RATE_LIMIT);break;case B.a.HALT:this._setState(B.a.HALTING),this._closeSocket(re),this._setState(B.a.HALTED);break;case B.a.HALTING:case B.a.HALTED:break;case B.a.SLEEP:this._setState(B.a.SLEEPING),this._closeSocket(Q),this._setState(B.a.ASLEEP);break;case B.a.SLEEPING:case B.a.ASLEEP:break;case B.a.WAIT_FOR_CONNECTIVITY:this._telemeter.count("sm_flow_wait_for_connectivity"),this._waitForConnectivityP=this._awaitReconnection(),this._clearErrorCount(),this._waitForConnectivityP.then(function(){n._currentState===B.a.WAIT_FOR_CONNECTIVITY&&n._setState(B.a.CONNECT)}).catch(function(){n._currentState===B.a.WAIT_FOR_CONNECTIVITY&&(n._info("Waited too long for connectivity to come back"),n._setState(B.a.ERROR))});break;case B.a.WAIT_FOR_RATE_LIMIT:this._backoffMs=Object(L.a)({last:this._backoffMs,cap:he,base:pe});var d=this._backoffMs;if(this._info("backing off: will wait for "+d+" ms"),this._telemeter.count("sm_flow_wait_for_rate_limit",d),!this._waitingForRateLimitActionInterval){var b=Date.now()+d;this._waitingForRateLimitActionInterval=setInterval(function(){var e=Math.ceil((b-Date.now())/1e3);n._dispatchReduxAction(Object(S.B)(e))},1e3)}this._waitForRateLimitTimer=setTimeout(function(){clearInterval(n._waitingForRateLimitActionInterval),n._currentState===B.a.WAIT_FOR_RATE_LIMIT&&(n._isClientOnline()?n._setState(B.a.CONNECT):n._setState(B.a.WAIT_FOR_CONNECTIVITY))},d)}}},{key:"_setState",value:function(e){var t=this;if(!Object(B.b)(e))throw new Error("Invalid state");this._info("Changing from "+this._currentState+" to "+e),this._currentState===B.a.ASLEEP&&e===B.a.CONNECT&&Object(M.b)("Wake was triggered by:");var n=this._currentState;this._currentState=e;try{this._leaveState(n,e),this._maybeStartStuckStateTimeout(e),this._dispatchReduxAction(Object(S.y)(this._currentState)),this._runState(e,n)}catch(e){if(this._error(e,"Caught an error while trying to change states"),this._currentState===B.a.ERROR)this._error("we were already trying to change to an error state; unsure how to proceed");else{this._info("will switch to ERROR in 1000 ms"),clearTimeout(this._errorSetStateTimeout);var r=this._currentState;this._errorSetStateTimeout=setTimeout(function(){t._errorSetStateTimeout=void 0,t._currentState===r?(t._info("switching to ERROR just in case"),t._setState(B.a.ERROR)):t._info("will NOT switch to error because current state is "+t._currentState+" when we expected "+r)},1e3)}}}},{key:"_transitionSafely",value:function(e){Object(B.c)(this._currentState,e,this._setState.bind(this))}},{key:"_awaitReconnection",value:function(){var e=this,t=Object(k.getStateByTeamId)(this._teamId);return new Promise(function(n,r){var a=void 0;Object(E.j)(t,"feature_connectivity_manager")?a=(Object(R.a)()?Object(k.getClientStoreInstance)().dispatch:e._dispatchReduxAction)(Object(w.a)()):a=V();a.then(n).catch(r)})}},{key:"_maybeDispatchTroubleConnectingAction",value:function(){if(!(this._didDispatchTroubleConnecting&&this._didCountTroubleConnecting||this._connectFailureCount<this._getConnectionAttemptCountTroubleThreshold())){var e=Date.now()-this._firstConnectFailureTs;e<this._getConnectionTroubleThreshold()||(!this._didCountTroubleConnecting&&this._connectFailureCount>=se&&e>=ie&&(this._telemeter.count("sm_flow_trouble_connecting_10"),this._didCountTroubleConnecting=!0),this._didDispatchTroubleConnecting||(this._didDispatchTroubleConnecting=!0,this._info("will dispatch troubleConnectingSig"),this._dispatchReduxAction(Object(S.z)())))}}},{key:"_maybeCancelStuckStateTimeout",value:function(){this._stuckStateTimer&&(clearTimeout(this._stuckStateTimer),this._stuckStateTimer=void 0)}},{key:"_maybeStartStuckStateTimeout",value:function(e){var t,n=this;this._maybeCancelStuckStateTimeout();var r=(t={},h()(t,B.a.CONNECTED,1/0),h()(t,B.a.ASLEEP,1/0),h()(t,B.a.HALTED,1/0),h()(t,B.a.FAST_RECONNECTING,2e4),h()(t,B.a.PROV_CONNECTING,35e3),h()(t,B.a.PROV_CONNECTED,6e4),h()(t,B.a.CHECKING_FAST_RECONNECT,6e4),h()(t,B.a.WAIT_FOR_CONNECTIVITY,3e5),h()(t,B.a.WAIT_FOR_RATE_LIMIT,12e4),t)[e]||1e4;this._info("will stay in "+e+" state for up to "+r+" ms"),r!==1/0&&(this._stuckStateTimer=setTimeout(function(){n._warn("Closing socket because we spent "+r+" ms in "+e+" state; giving up"),e===B.a.PROV_CONNECTED&&(n._dispatchReduxAction(Object(S.u)()),n._telemeter.count("sm_flow_prov_timeout_10")),n._closeSocket(ee),n._setState(B.a.ERROR),n._telemeter.count("sm_flow_stuck_10"),n._telemeter.count("sm_flow_stuck_"+e+"_10")},r))}},{key:"_maybeSetFailoverMode",value:function(){if(!this._failoverMode){var e=this._hasConnected?le:ue;(this._connectFailureCount>=e||this._didDispatchTroubleConnecting)&&(this._failoverMode=!0,this._telemeter.count("sm_flow_failover_mode"),this._info("Failed to connect "+le+" times; going into failover mode until we connect"))}}},{key:"_maybeToggleRegion",value:function(){this._failoverMode&&(this._useBackupRegion=!this._useBackupRegion)}},{key:"_getConnectionTroubleThreshold",value:function(){var e=Object(k.getStateByTeamId)(this._teamId);return Object(E.j)(e,"feature_degraded_send")?this._hasConnected?ie:oe:ie}},{key:"_getConnectionAttemptCountTroubleThreshold",value:function(){var e=Object(k.getStateByTeamId)(this._teamId);return Object(E.j)(e,"feature_degraded_send")?this._hasConnected?se:ce:se}},{key:"_maybeMeasureReliabilityMetrics",value:function(e){var t=this;this.shouldMeasureReliabilityMetrics()&&e.tap(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t._successfulQueryCount+=1;var n=JSON.stringify(e).length;t._responseSizes.push(n)}).catch(function(e){e&&e.message===F.c||(t._failedQueryCount+=1)})}},{key:"_clearErrorCount",value:function(){this._connectFailureCount=0,this._firstConnectFailureTs=void 0}},{key:"_error",value:function(e){this._logger.error(ve,e)}},{key:"_info",value:function(e){this._logger.info(ve,e)}},{key:"_warn",value:function(e){this._logger.warn(ve,e)}}]),e}(),Y=4100,W=4101,Q=4102,X=4103,Z=4104,J=4105,$=4106,ee=4107,te=4108,ne=4109,re=4110,ae=(r={},h()(r,Y,"disconnect requested"),h()(r,W,"an error occurred"),h()(r,$,'received an "error" message from socket'),h()(r,X,"error during fast reconnect flow"),h()(r,Z,"received goodbye from server"),h()(r,re,"socket activity halted"),h()(r,Q,"client is going to sleep"),h()(r,J,"client went offline"),h()(r,ee,"client state machine got stuck"),h()(r,F.b,"pong timeout"),h()(r,te,"unexpected socket closure"),h()(r,ne,"no reason provided"),h()(r,F.a,"unexpected socket closure from SlackSocket"),r),ie=3e4,oe=0,se=3,ce=1,le=3,ue=1,de=285e3,be=3e4,pe=1e3,he=6e4,me=Object(q.a)(1),fe=Object(q.a)(1),ve="SOCKET-MANAGER",ge=["tickle","typing"];n.d(t,"i",function(){return _e}),n.d(t,"f",function(){return Oe}),n.d(t,"j",function(){return ye}),n.d(t,"g",function(){return Ee}),n.d(t,"h",function(){return Ce}),n.d(t,"d",function(){return Ie}),n.d(t,"e",function(){return we}),n.d(t,"a",function(){return Se}),n.d(t,"b",function(){return Me});var _e=Object(c.b)("Initialize Socket Manager instance");_e.propTypes=s.b.string.isRequired;var Oe=Object(c.b)("Manually halt socket activity");Oe.propTypes=null;var ye=Object(c.b)("Manually unhalt socket activity");ye.propTypes=null;var je=Object(c.b)("Disconnect and stay disconnected until woken up");je.propTypes=null;var ke=Object(c.b)("Wake up");ke.propTypes=null;var Ee=Object(c.b)("Reconnect without waiting for its rate limit");Ee.propTypes=null;var Ce=Object(c.b)("Send a message");Ce.propTypes=s.b.object.isRequired;var Ie=Object(c.b)("Disconnect from the current WebSocket");Ie.propTypes=null;var we=Object(c.b)("Finalize a provisional connection");we.propTypes=null;var Se=Object(c.b)("Clear the fast reconnect URL so the next connection will be slow");Se.propTypes=null;var Te=Object(c.b)("Debugging only: return the Socket Manager instance");Te.propTypes=null;var Re=Object(c.b)("Debugging only: return the currentState of the Socket Manager");Re.propTypes=null;var Ne=Object(c.b)("Debugging only: reset the rate limiter");Ne.propTypes=null;var xe=Object(c.b)("Debugging only: set whether fast reconnects are enabled");xe.propTypes=s.b.bool.isRequired;var Me=Object(c.b)("Debugging only: set socket connection flakiness");Me.propTypes=s.b.number.isRequired;var Pe=Object(c.b)("Debugging only: set socket send flakiness");Pe.propTypes=s.b.number.isRequired;var Ae=Object(c.b)("Debugging only: move Socket Manager to the ERROR state");Ae.propTypes=null;var De={};function Le(e){if(!De[e])throw new Error("Socket Manager action dispatched for a team without an instance; dispatch a `start` action first")}var qe=Object(l.b)("dispatches actions to the socket manager",function(e,t,n){var r=e.getState(),s=Object(d.b)(r);switch(n.type){case _e.getType():if(De[s])throw new Error("Received start action when have already created a Socket Manager instance; this is a programming error");var c=n.payload;De[s]=new z(c),De[s].start(),Object(b.c)(s,"socketManager",De[s]);var l=De[s];l.shouldMeasureReliabilityMetrics()&&setInterval(function(){var e=l.getStats(),t=e.totalQueryCount,n=e.successfulQueryCount,s=e.failedQueryCount,c=e.responseSizes;if(t){var d=Object(o.a)(c)||0,b=Object(i.a)(c)||0,p=Object(u.c)({state:r});p.count("ws_sr_total_queries_0",t),p.count("ws_sr_successful_queries_0",n),p.count("ws_sr_failed_queries_0",s),p.count("ws_sr_avg_response_size_0",Object(a.a)(d,4)),p.count("ws_sr_max_response_size_0",b),l.clearStats()}},6e4);break;case Te.getType():return De[s];case Re.getType():return De[s].debugGetState();case Ne.getType():return De[s].debugResetRateLimit();case Ae.getType():return De[s].debugTriggerError();case Pe.getType():return De[s].debugSetSocketSendFlakiness(n.payload);case Oe.getType():Le(s),De[s].halt();break;case ye.getType():Le(s),De[s].unhalt();break;case je.getType():Le(s),De[s].sleep();break;case ke.getType():Le(s),De[s].wake();break;case Ee.getType():Le(s),De[s].reconnectImmediately();break;case Ce.getType():return Le(s),De[s].send(n.payload);case Ie.getType():Le(s),De[s].disconnect();break;case we.getType():Le(s),De[s].finalizeProvisionalConnection();break;case Se.getType():Le(s),De[s].clearFastReconnectUrl();break;case xe.getType():Le(s),De[s].debugSetFastReconnectsEnabled(n.payload);break;case Me.getType():Le(s),De[s].debugSetSocketConnectFlakiness(n.payload);break;default:return t(n)}return null});t.c=qe},Bekf:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("IzLi");function a(e){return!!Object(r.a)(e)&&(!e.bot_id&&!e.user&&!!e.username)}},BhHY:function(e,t,n){},BicV:function(e,t,n){"use strict";n.d(t,"h",function(){return O}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"g",function(){return E}),n.d(t,"k",function(){return C}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"b",function(){return N}),n.d(t,"f",function(){return x});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("vFlG"),l=n("lCmp"),u=n("m8R6"),d=n("0VPD"),b=n("OZf9"),p=n("/1FC"),h=n("aK/h"),m=n("EzZj"),f=n("MNvw"),v=n("U/ze"),g=n("HO/Y"),_=n("UF3u"),O=Object(m.b)("Update the DND status of a user");O.propTypes={memberId:h.b.string.isRequired,isInDnd:h.b.bool.isRequired};var y=Object(m.b)("Update the DND schedule for a user");y.propTypes={memberId:h.b.string.isRequired,nextDndStartTs:h.b.number,nextDndEndTs:h.b.number};var j=Object(m.b)("Update the DND schedules for multiple users");j.propTypes={schedules:h.b.arrayOf(h.b.shape({memberId:h.b.string.isRequired,nextDndStartTs:h.b.number,nextDndEndTs:h.b.number}))};var k=Object(m.b)("Remove the DND schedule for a user");k.propTypes={memberIds:h.b.arrayOf(h.b.string).isRequired};var E=Object(m.b)("Removes the DND status for a single user or multiple users");E.propTypes={memberIds:h.b.arrayOf(h.b.string).isRequired};var C=Object(m.b)("Update the snooze status for the current user");C.propTypes={snoozeEnabled:h.b.bool.isRequired,snoozeEndTs:h.b.number};var I={schedule:{},currentStatuses:{},snooze:{snoozeEnabled:!1,snoozeEndTs:void 0}},w=Object(f.b)((r={},i()(r,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isInDnd;return n&&e.currentStatuses[n]!==r?s()({},e,{currentStatuses:s()({},e.currentStatuses,i()({},n,r))}):e}),i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.nextDndStartTs,a=t.nextDndEndTs;return n?e.schedule&&e.schedule[n]&&Object(_.a)(e.schedule[n],{nextDndStartTs:r,nextDndEndTs:a})?e:s()({},e,{schedule:s()({},e.schedule,i()({},n,{nextDndStartTs:r,nextDndEndTs:a}))}):e}),i()(r,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||!Object(p.a)(t)||!t.length)return e;var n=!1,r=s()({},e,{schedule:s()({},e.schedule)});return Object(b.a)(t,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.memberId,i=t.nextDndStartTs,o=t.nextDndEndTs;a&&(e.schedule&&e.schedule[a]&&Object(_.a)(e.schedule[a],{nextDndStartTs:i,nextDndEndTs:o})||(n=!0,r.schedule[a]={nextDndStartTs:i,nextDndEndTs:o}))}),n?r:e}),i()(r,k,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).memberIds;return t&&Object(p.a)(t)&&0!==Object(d.a)(Object.keys(e.schedule),t).length?s()({},e,{schedule:Object(u.a)(e.schedule,t)}):e}),i()(r,E,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).memberIds;return Object(p.a)(t)&&Object(l.a)(t,function(t){return Object(c.a)(e.currentStatuses,t)})?s()({},e,{currentStatuses:Object(u.a)(e.currentStatuses,t),schedule:Object(u.a)(e.schedule,t)}):e}),i()(r,C,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.snoozeEnabled,r=t.snoozeEndTs;return n===e.snooze.snoozeEnabled&&r===e.snooze.snoozeEndTs?e:s()({},e,{snooze:{snoozeEnabled:n,snoozeEndTs:r}})}),r),I,{persistenceEnabled:!1});w.propTypes={schedule:h.b.objectOf(h.b.shape({nextDndStartTs:h.b.number,nextDndEndTs:h.b.number})),currentStatuses:h.b.objectOf(h.b.bool),snooze:h.b.shape({snoozeEnabled:h.b.bool,snoozeEndTs:h.b.number})},t.a=w;var S=Object(v.b)(function(e,t){return e&&e.dnd&&e.dnd.currentStatuses&&e.dnd.currentStatuses[t]}),T=Object(v.b)(function(e){return S(e,Object(g.b)(e))}),R=Object(v.b)(function(e,t){return e&&e.dnd&&e.dnd.schedule&&e.dnd.schedule[t]}),N=Object(v.b)(function(e){return e&&e.dnd&&e.dnd.schedule}),x=Object(v.b)(function(e){return e&&e.dnd&&e.dnd.snooze})},BrU6:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("XfeM"),a=n("aK/h"),i=n("Rjjz"),o=n("Rmtr"),s=n("QQwV"),c=n("iW0Y"),l=n("Gxzu"),u=n("hu7Z"),d=null,b=Object(r.b)("Set the user query and display query associated with the search input box from a user query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.textyString,a=n.fetchAutocompleteSuggestions,b=void 0!==a&&a,p=n.queryIsUserGenerated,h=void 0!==p&&p,m=t(),f=Object(s.b)(m,r);return e(Object(l.h)({displayQuery:r,userQuery:f,queryIsUserGenerated:h})),e(Object(c.a)({interfaceMode:u.a.EDIT})),e(Object(o.k)({requestQuery:f})),e(Object(o.i)({selectedIndex:f?0:null})),b?(d&&(d.cancel(),d=null),d=e(Object(i.b)({query:f}))):Promise.resolve()});b.propTypes={textyString:a.b.string.isRequired,fetchAutocompleteSuggestions:a.b.bool,queryIsUserGenerated:a.b.bool}},BsCX:function(e,t,n){},BtFA:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n("oTSI"),a=n("lhZz"),i=n("kpmE"),o=n("btvA"),s=n("Z7Ay"),c=Object(r.a)(function(){return new o.b({fetch:function(e,t){return Object(a.dispatchForTeamId)(e,Object(i.d)({ids:t}))},isEnabled:function(){return!0},metricsName:"userGroups"})}),l=function(e,t){return c().maybeRefetch(e,t)},u=function(e,t){return c().markObjectsAsFresh(e,t)};Object(s.b)("conditionalFetchManagerUserGroups",c)},Bvc0:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r});var r={NUMBER_OF_USERS_IS_REQUIRED:"number_of_users_is_required",PURCHASE_ORDER_NUMBER_INVALID_CHARACTERS:"invalid_po_number",NUMBER_OF_USERS_INVALID_CHARACTERS:"invalid_number_of_users",NUMBER_OF_USERS_INVALID_MIN_ALLOWED:"invalid_min_number_of_users",NUMBER_OF_USERS_INVALID_MAX_ALLOWED:"invalid_max_number_of_users"},a={NUMERIC_WITH_MIN_MAX_LENGTH_REGEX:/^\d{1,20}$/,NUMERIC_REGEX:/^\d+$/},i={NUMBER_OF_USERS:"numberOfUsers",ADDITIONAL_BILLING_CONTACTS:"additionalBillingContacts",PURCHASE_ORDER_NUMBER:"purchaseOrderNumber"}},BwAi:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("QbLZ"),a=n.n(r),i=n("zmn3"),o=n("aK/h"),s=n("om+M"),c=n("4zXV"),l=n("yHhI"),u=n("HO/Y"),d=Object(s.a)("Calls client.counts endpoint",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason,r=void 0===n?"client-counts-api/fetchClientCounts":n;return e(Object(c.a)({method:"client.counts",args:{thread_counts_by_channel:!0},reason:r})).then(function(e){if(!e||!e.ok)return{};try{var n=Object(u.b)(t());if(["U0620EL8G","WFKHTCZ29","WKLQEGRRB"].indexOf(n)>-1){var r=Object(i.a)(e.ims,function(e){return{id:e.id}}),o=Object(i.a)(e.mpims,function(e){return{id:e.id}});Object(l.a)({getState:t}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:r,mpim_list:o})}}catch(e){Object(l.a)({getState:t}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:e})}var s=e.channels,c=void 0===s?[]:s,d=e.ims,b=void 0===d?[]:d,p=e.mpims,h=void 0===p?[]:p,m=e.threads,f=void 0===m?{}:m;return{channels:c,ims:b.map(function(e){return a()({},e,{is_im:!0})}),mpims:h.map(function(e){return a()({},e,{is_mpim:!0})}),threads:f}})});d.propTypes={reason:o.b.string}},C20x:function(e,t,n){"use strict";function r(e){if(!e||!e.length())return!1;for(var t=!0,n=0;n<e.ops.length;n++)if(!e.ops[n].retain){t=!1;break}return t}n.d(t,"a",function(){return r})},C2xn:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("TSYQ"),m=n.n(h),f=n("yPgC"),v=n("RfGh"),g=n("9gIX"),_=n("MAit"),O=(f.a.File().isRequired,p.b.string,p.b.bool,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.className,r=e.fullWidth,a=m()("p-static_file",n);return b.a.createElement(v.a,{file:t,className:a,fullWidth:r,showActions:!1},b.a.createElement(g.a,{file:t},b.a.createElement(_.a,{file:t})))}}]),t}(d.PureComponent));O.displayName="StaticFile",t.a=O,O.defaultProps={className:null,fullWidth:!1}},C3Ul:function(e,t,n){},C6Be:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("XHGt"),m=n("aK/h"),f=n("HO/Y"),v=n("4phY"),g=n("acVv"),_=n("0f2Y"),O=n("wP1B"),y=n("tbBR"),j=n("NgwH"),k=(m.b.string.isRequired,m.b.number,m.b.number,m.b.number,m.b.number,m.b.string,m.b.number,m.b.string,m.b.string,m.b.func,m.b.bool,m.b.func,m.b.func,m.b.string,m.b.string,m.b.string,{width:0,height:0,originalWidth:void 0,originalHeight:void 0,title:null,rotation:0,activeChannelId:void 0,messageTs:void 0,clogLinkClick:d.a,featureReactFileViewer:!1,openFileViewer:d.a,blockKitClogger:d.a,proxiedImageUrl:null,fullProxiedImageUrl:null,viewContext:void 0}),E=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(e){e.preventDefault();var t=this.props,n=t.url,r=t.fullProxiedImageUrl,a=t.originalWidth,i=t.originalHeight,o=t.rotation,s=t.messageTs,c=t.activeChannelId,l=t.title,u=t.featureReactFileViewer,d=t.blockKitClogger,b=t.viewContext;this.props.clogLinkClick({subtype:"msg_photo_expand"}),d("BLOCK_KIT_IMAGE_CLICK",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:"image"}}}),u?this.props.openFileViewer({title:l,image:{src:r,width:a,height:i},ts:s,channelId:c,viewContext:b}):Object(j.a)({modal_class:"fs_modal_file_viewer",show_control_btns:!0,current_external_link:{src:n,width:a,height:i,rotation:o,ts:s,channel:c}})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.width,r=e.height,a=e.title,i=e.proxiedImageUrl;return p.a.createElement(O.a,{className:"c-message_attachment__image_container",width:n,height:r},p.a.createElement(_.a,{href:t,onClick:this.onClick,className:"c-message_attachment__image",title:a,"data-qa":"attachment_image",style:{backgroundImage:"url('"+i+"')"}},t))}}]),t}(b.PureComponent);E.displayName="AttachmentImage",E.defaultProps=k;t.a=Object(y.b)(Object(h.b)(function(e,t){var n=t.url,r=t.width,a=t.height;return{featureReactFileViewer:Object(f.j)(e,"feature_react_file_viewer"),proxiedImageUrl:Object(g.a)(e,{url:n,width:r,height:a,rotate:!0}),fullProxiedImageUrl:Object(g.a)(e,{url:n,rotate:!0})}},function(e){return{openFileViewer:function(t){return e(Object(v.a)(t))}}})(E))},C6rm:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("ROZo"),i=(Object(a.b)("TS.templates.search_menu_unified_autocomplete",r.a),Object(a.b)("TS.templates.search_menu_unified_autocomplete_token_list",r.a),Object(a.b)("TS.client.ui.search_in_react.updateLegacyButtonClass",r.a)),o=Object(a.b)("TS.client.ui.search_in_react.mountSearch",r.a)},CGJF:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=(n("CME0"),d.b.node,d.b.string,function(e){var t=e.children,n=e.className,r=o()(e,["children","className"]);return c.a.createElement("div",a()({},r,{className:u()("c-sk-modal_footer_actions",n)}),t)});b.displayName="ModalFooterActions",b.defaultProps={children:null,className:null},t.a=b},CJcE:function(e,t,n){},CJqQ:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("HKE1"),c=n("LrWZ"),l=n("Z0Cl"),u=n("BeL+"),d=n("IzLi"),b=n("/1FC"),p=n("zmn3"),h=n("GxtX"),m=n("NFsq"),f=n("cZF4"),v=n("mkut"),g=n("OZf9"),_=n("aK/h"),O=n("XfeM"),y=n("HO/Y"),j=n("uf9I"),k=n("Ia5v"),E=n("DtX9"),C=n("ROZo"),I=Object(C.b)("TS.isPartiallyBooted",function(){return!1}),w=(Object(C.b)("TS.incremental_boot.getInitialChannelsToUpsert",function(){return[]}),n("yHhI")),S=n("Zr7G"),T=n("rWF5"),R=n("MhQa"),N=n("0Syo"),x=n("2Zgd"),M=n("CXsT"),P=n("Smdl"),A=n("6kok"),D=n("zbZx"),L=n("Fdc0"),q=n("0iF4"),F=n("52Su"),B=n("+JGq"),U=n("clTI"),H=n("0u40"),K=n("+ncu");n.d(t,"a",function(){return Y}),n.d(t,"b",function(){return W});var G=function(e,t,n){var r=t(),i=Object(w.a)({state:r});if(!n||!n.id)return i.error("upsert channel has been called without an id, ignoring!"),n;var s=Object(j.b)(r);Object(H.c)(s,[n.id]);var d=o()({},n),b=Object(U.d)(r,d.id,!1),p=void 0;delete d.unread_count,b?(b=o()({},b),Object(g.a)(Object(v.a)(d),function(e){if("members"===e){if(!Object(A.lb)(d))return;if(p=d.members,b.members&&b.members.length!==p.length)Object(S.c)({getState:t}).count("channel_upsert_membership_discrepancy");b.members=Object(f.a)(p,b.members)}else"pinned_items"===e?Object(y.i)(r)&&(Object(q.j)(d.pinned_items),b.pinned_items=d.pinned_items):Object(A.lb)(d)&&"name"===e||(b[e]=d[e])}),Object(A.eb)(d)||!Object(A.rb)(d)&&!Object(A.Y)(d)||(b=V(e,r,b)),Object(A.nb)(b)&&!Object(A.nb)(d)&&(b=z(b,r)),d=b,I()&&null===d.oldest_msg_ts&&(d.oldest_msg_ts=Object(N.b)(d.id))):(d=function(e,t,n){var r=o()({},e);T.k&&!r.priority&&0!==r.priority&&(r.priority=(a=r.id,parseFloat("."+function(e){if(!e)return NaN;var t=String(e),n=t.substr(Math.round(t.length/2),1);t=n+t.split("middle").reverse().join();for(var r="",a=t.length-1;a>-1;a-=1)r+=(t.charCodeAt(a)*(a+1)).toString().substr(-1,1);return parseInt(r,10)}(a))));var a;r.is_general=!!r.is_general,r.is_channel=!!r.is_channel,r.is_group=!!r.is_group,r.is_mpim=!!r.is_mpim,r.is_im=!!r.is_im,Object(y.j)(t,"feature_default_shared_channels")&&Object(A.yb)(r)&&(r.is_org_mandatory=!!r.is_org_mandatory,r.is_org_default=!!r.is_org_default);r=z(r,t),(Object(A.yb)(r)||Object(A.xb)(r))&&(r._show_in_list_even_though_no_unreads=!1);r.topic||(r.topic={});r.purpose||(r.purpose={});r.is_member=!!r.is_member,(Object(A.lb)(r)||Object(A.eb)(r))&&(r.opened_this_session=!1,r.is_member=!0);r.scroll_top=r.scroll_top||-1,r.history_is_being_fetched=!!r.history_is_being_fetched,r.unread_highlight_cnt=r.unread_highlight_cnt||0,r.unread_highlights=r.unread_highlights||[],r.unread_cnt=r.unread_cnt||0,r.unreads=r.unreads||[],Object(R.j)(r.id,null),r.has_fetched_history_after_scrollback=!1,Object(y.i)(t)?I()&&r.msgs&&r.msgs.length>0?(r.msgs=n(Object(M.a)({imsgs:r.msgs,channelId:r.id})),Object(x.m)(r,r.msgs)):Object(x.m)(r,[]):Object(y.d)(t,"msgs")&&Object(x.f)(r);r.oldest_msg_ts=Object(N.b)(r.id)||null,Object(P.a)()||(r.last_msg_input=Object(N.a)(r.id)||null,r.has_draft=!!r.last_msg_input);Object(A.eb)(r)||!Object(A.rb)(r)&&!Object(A.Y)(r)||(r=V(n,t,r));return r}(d,r,e)).pinned_items&&Object(y.i)(r)&&Object(q.j)(d.pinned_items),d=function(e,t,n){var r=o()({},n),i=r.connected_team_ids||[],s=Object(j.c)(t),c=r.pending_connected_team_ids||[],d=[].concat(a()(c),a()(i));d.length>0&&(d=[].concat(a()(d),[s]));r.pendingAndConnectedTeamIds=Object(u.a)(d).sort(function(e,t){return e===s?-1:t===s?1:0});var b=Object(l.a)(r.pendingAndConnectedTeamIds,function(e){return e!==s});return Object(g.a)(b,function(t){e(Object(k.a)({id:t}))}),r}(e,r,d),d=function(e,t){if(!e||!t)return t;var n=o()({},t);if(n.internal_team_ids&&0!==n.internal_team_ids.length){var r=n.internal_team_ids;n.internalTeamIds=Object(l.a)(r,function(e){return!Object(c.a)(e)})}else n.internalTeamIds=[];return n}(r,d),Object(A.kb)(d)&&Object(A.V)(d)&&Object(A.yb)(d)&&(i.error("channel.is_member and channel.is_archived are both true for "+d.id),i.info("UPSERT_CHANNEL",d),d.is_member=!1);var h=function(e){return Object(A.L)(e)?{isNonExistent:!1}:{}}(d),_=function(e,t,n){var r=!0;if(n)if(Object(D.d)(t))if(Object(A.eb)(n))r=!1;else if(Object(A.lb)(n))r=!1;else if(Object(A.Jb)(n))r=!1;else if(Object(A.qb)(n))r=!1;else{var a=Object(A.B)(t,n),i=Object(j.b)(t);r=!(!a||!a.length)&&((1!==a.length||a[0]!==i)&&!Object(m.a)(a,i))}else r=!1;else r=!1;return{fromAnotherTeam:r}}(0,r,d);return d=o()({},d,h,_)};function V(e,t,n){if(!t||!e)return n;var r=o()({},n);return r.shares&&Object(A.rb)(r)?(r.shared_team_ids=Object(h.a)(r.shared_team_ids||[],Object(p.a)(r.shares,"id")),r.shares&&(r.shares=void 0)):r.shares&&Object(A.Y)(r)&&(Object(b.a)(r.shares)?Object(d.a)(r.shares[0])?r.shared_team_ids=Object(p.a)(r.shares,function(e){return e.team.id}):r.shared_team_ids=r.shares:Object(d.a)(r.shares)&&(r.shared_team_ids=Object(p.a)(r.shares,"team.id"))),r.shared_team_ids=Object(u.a)(r.shared_team_ids||[]),r}function z(e,t){var n=o()({},e);if(Object(A.lb)(n))n._internal_name=Object(A.L)(n),n=function(e,t){var n=o()({},t);return n.name=Object(F.b)(e,n),n._name_lc=Object(s.a)(n.name),n}(t,n);else if(Object(A.eb)(n)){n=function(e,t){var n=o()({},e);return I()&&n.name||n.name||(n.name=n.user),t&&!Object(L.Gb)(t)&&(n.name=t.name),n._name_lc=Object(s.a)(n.name),n}(n,Object(E.c)(t,Object(A.G)(n)))}else n._name_lc=Object(s.a)(Object(A.L)(n));return n}var Y=Object(O.b)("Upsert a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,a=n.isBulkUpsert,i=void 0!==a&&a,o=n.reason,s=void 0===o?K.c:o,c=G(e,t,r);return i?c:(e(Object(B.a)({channels:[c],reason:s})),c)});Y.propTypes={channel:_.b.shape({id:_.b.string.isRequired}).isRequired,isBulkUpsert:_.b.bool,reason:_.b.string};var W=Object(O.b)(K.c,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channels,a=void 0===r?[]:r,i=n.reason,o=void 0===i?K.c:i,s=a.map(function(n){return G(e,t,n)});return s.length?(e(Object(B.a)({channels:s,reason:o})),s):s});W.propTypes={channels:_.b.arrayOf(_.b.shape({id:_.b.string.isRequired})).isRequired,reason:_.b.string}},CME0:function(e,t,n){},CPJ1:function(e,t,n){"use strict";n.d(t,"l",function(){return D}),n.d(t,"d",function(){return L}),n.d(t,"h",function(){return q}),n.d(t,"f",function(){return V}),n.d(t,"b",function(){return Y}),n.d(t,"e",function(){return Q}),n.d(t,"a",function(){return Z}),n.d(t,"c",function(){return $}),n.d(t,"j",function(){return ee}),n.d(t,"g",function(){return te}),n.d(t,"i",function(){return ne}),n.d(t,"k",function(){return re});var r=n("9oTK"),a=n("QbLZ"),i=n.n(a),o=n("sk9p"),s=n.n(o),c=n("fujP"),l=n("IzLi"),u=n("xWuZ"),d=n("ZBlo"),b=n("NOj5"),p=n("cZF4"),h=n("BeL+"),m=n("S1sa"),f=n("zmn3"),v=n("0VPD"),g=n("Wy5O"),_=n("Bw5p"),O=n("bPB8"),y=n("aK/h"),j=n("om+M"),k=n("HO/Y"),E=n("uf9I"),C=n("DtX9"),I=n("QYR6"),w=n("x3yj"),S=n("OqoL"),T=n("+epm"),R=n("Yg2s"),N=n("4zXV"),x=n("FHcd"),M=n("yHhI"),P=n("x4bP"),A=n("MhQa"),D=Object(j.a)("Update the user's presence",function(e,t,n){return e(Object(N.a)({method:"presence.set",args:{presence:n}}))});D.propTypes=y.b.string;var L=Object(j.a)("Get extras from a user's profile",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.userId,a=n.keys,i=void 0===a?["shared_channels"]:a,o=n.reason;return e(Object(N.a)({method:"users.profile.getExtras",args:{user:r,keys:i.join(",")},reason:o})).catch(function(){Object(M.a)({getState:t}).info("MEMBERS-API","Failed to fetch member profile extras")}).then(function(e){return e?Object(_.a)(e,i):{}})});function q(e,t){return t&&t.length?Object(P.a)()?e(Object(w.a)({members:t})):Object(A.g)(t):[]}function F(e,t,n){if(!n||!n.length)return[];var r=e(),a=Object(E.b)(r),i=Object(m.a)(n,function(e){return Object(C.m)(r,e.id,e.updated)}),o=s()(i,2),c=o[0],l=o[1];return Object(I.b)(a,Object(f.a)(c,"id")),Object(P.a)()?t(Object(w.a)({members:l})):Object(A.g)(l),r=e(),n.map(function(e){return Object(C.c)(r,e.id)})}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(c.a)(t)?e:e.map(function(e){var n=t[e.id];return!0===n||!1===n?i()({},e,{is_stranger:!n}):e})}L.propTypes={userId:y.b.string.isRequired,keys:y.b.arrayOf(y.b.string),reason:y.b.string.isRequired};var U,H,K=Object(j.a)("Fetches missing members from Flannel",(U=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,o,s,c,l,u,d,b=a.ids,p=a.fetchConditionally,h=void 0===p||p,m=a.andSubscribe,f=void 0!==m&&m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t(f?Object(R.a)({ids:b}):Object(R.e)({ids:b,fetchConditionally:h})),e.next=3,Object(r.resolve)(i);case 3:return o=e.sent,s=o.objects,c=o.failedIds,l=o.canInteract,u=Object(g.a)(b,c),d=B(s,l),Object(k.j)(n(),"feature_stranger_danger")&&t(Object(T.d)(l)),e.abrupt("return",{members:d,resolved:u,missing:c});case 11:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return U.apply(this,arguments)}));K.propTypes={ids:y.b.arrayOf(y.b.string).isRequired,fetchConditionally:y.b.bool,andSubscribe:y.b.bool},Object(j.a)("Fetches and upserts missing members from Flannel",(H=Object(r.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally;return e(K({ids:r,fetchConditionally:void 0===a||a})).then(function(n){var r=n.members,a=n.resolved,i=n.missing;return{members:F(t,e,r),resolved:a,missing:i}})}),function(e,t,n){return H.apply(this,arguments)})).propTypes={ids:y.b.arrayOf(y.b.string).isRequired,fetchConditionally:y.b.bool};var G,V=Object(j.a)("Fetches missing members from the API",(G=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,o,s,c,l,b,p=a.ids,h=a.reason;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 250,2,i=Object(d.a)(p,250),e.next=5,Object(r.resolve)(Promise.map(i,function(){var e=Object(r.coroutine)(regeneratorRuntime.mark(function e(n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.resolve)(t(Object(N.a)({method:"users.info",args:{users:n,custom_fields_mode:"user"},reason:h})).reflect());case 2:if(!(a=e.sent).isFulfilled()){e.next=6;break}return i=a.value(),e.abrupt("return",i&&i.users);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),{concurrency:2}));case 5:return o=e.sent,s=Object(O.a)(Object(u.a)(o)),c=s.map(function(e){return e.id}),l=Object(v.a)(p,c),b=Object(g.a)(p,c),e.abrupt("return",{members:s,resolved:l,missing:b});case 11:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return G.apply(this,arguments)}));V.propTypes={ids:y.b.arrayOf(y.b.string).isRequired,reason:y.b.string};var z,Y=Object(j.a)("Fetches and upserts missing members from the API",(z=Object(r.method)(function(e,t,n){var r=n.ids,a=n.reason;return Object(c.a)(r)?Promise.resolve():e(V({ids:r,reason:a})).then(function(n){var r=n.members,a=n.resolved,i=n.missing;return{members:F(t,e,r),resolved:a,missing:i}})}),function(e,t,n){return z.apply(this,arguments)}));Y.propTypes={ids:y.b.arrayOf(y.b.string).isRequired,reason:y.b.string};var W,Q=Object(j.a)("Fetches missing members",(W=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,o,s,c,l,u,d,m,f,v=a.ids,g=a.fetchConditionally,_=void 0===g||g,O=a.andSubscribe,y=void 0!==O&&O,j=a.reason,E=void 0===j?"fetchRawMembersById":j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&v.length){e.next=2;break}return e.abrupt("return",Promise.resolve({members:[],resolved:[],missing:[]}));case 2:return i=Object(h.a)(v).filter(x.a),e.next=5,Object(r.resolve)(t(K({ids:i,fetchConditionally:_,andSubscribe:y})));case 5:if(o=e.sent,s=o.resolved,c=o.missing,l=o.members,Object(k.j)(n(),"feature_stranger_danger")||!c||!c.length){e.next=17;break}return e.next=12,Object(r.resolve)(t(V({ids:c,reason:"fallback:"+E})));case 12:return u=e.sent,d=u.resolved,m=u.missing,f=u.members,e.abrupt("return",{members:Object(b.a)(l,f,"id"),resolved:Object(p.a)(s,d),missing:m});case 17:return e.abrupt("return",{members:l,resolved:s,missing:c});case 18:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return W.apply(this,arguments)}));Q.propTypes={ids:y.b.arrayOf(y.b.string).isRequired,reason:y.b.string,fetchConditionally:y.b.bool,andSubscribe:y.b.bool};var X,Z=Object(j.a)("Fetches and upserts missing members",(X=Object(r.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0===a||a,o=n.andSubscribe,s=void 0!==o&&o,l=n.reason,u=void 0===l?"fetchAndUpsertMembersById":l;return Object(c.a)(r)?Promise.resolve():e(Q({ids:r,fetchConditionally:i,andSubscribe:s,reason:u})).then(function(n){var r=n.members,a=n.resolved,i=n.missing;return{members:F(t,e,r),resolved:a,missing:i}})}),function(e,t,n){return X.apply(this,arguments)}));Z.propTypes={ids:y.b.arrayOf(y.b.string).isRequired,reason:y.b.string,fetchConditionally:y.b.bool,andSubscribe:y.b.bool};var J,$=Object(j.a)("Fetches and upserts members by query",(J=Object(r.method)(function(e,t,n){var r=n.query;return r?e(Object(R.f)({query:r})).then(function(n){var r=n.objects,a=n.next_marker,i=F(t,e,r);if(Object(k.j)(t(),"feature_stranger_danger")){var o=r.reduce(function(e){return e[(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id]=!0,e},{});e(Object(T.d)(o))}return{members:i,next_marker:a}}):Promise.resolve({members:[]})}),function(e,t,n){return J.apply(this,arguments)}));$.propTypes={query:y.b.oneOfType([y.b.string,y.b.object]).isRequired};var ee=Object(j.a)("Submits changes to the current user\u2019s profile",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).profile;if(!Object(l.a)(n))return Promise.resolve();var r=i()({},n),a=t();return n.status_text&&(r.status_text=Object(S.b)(a,n.status_text)),e(Object(N.a)({method:"users.profile.set",args:{profile:JSON.stringify(r)}}))});ee.propTypes={profile:y.b.object.isRequired};var te=Object(j.a)("Prepare a user photo on the server",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.file,a=n.reason;return e(Object(N.a)({method:"users.preparePhoto",args:{image:r},reason:a}))});te.propTypes={file:y.b.object.isRequired,reason:y.b.string.isRequired};var ne=Object(j.a)("Deletes the current users profile photo",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(N.a)({method:"users.deletePhoto",reason:n})).catch(function(e){throw Object(M.a)({getState:t}).warn("MEMBERS-API","failed to delete profile photo"),e})});ne.propTypes={reason:y.b.string.isRequired};var re=Object(j.a)("Uploads a profile photo for the current user",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imageId,a=n.cropX,i=n.cropY,o=n.cropSize,s=n.reason;return e(Object(N.a)({method:"users.setPhoto",args:{id:r,crop_x:a,crop_y:i,crop_w:o},reason:s})).catch(function(e){throw Object(M.a)({getState:t}).warn("MEMBERS-API","failed to upload profile photo"),e})});re.propTypes={imageId:y.b.string.isRequired,cropX:y.b.number.isRequired,cropY:y.b.number.isRequired,cropSize:y.b.number.isRequired,reason:y.b.string.isRequired}},CSaH:function(e,t,n){"use strict";var r=n("QLyv"),a=n("36Nc"),i=n("VyaM"),o=n("j/30"),s=n("xknn"),c=n("s8H+"),l=n("qc8s"),u=n("oW4N"),d=n("vwQE"),b=n("gBC1"),p=n("whT2"),h=n("/k8D");t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=n.fallbackString,f=void 0===m?null:m,v=n.today,g=void 0===v?Object(r.a)():v,_=n.do24hrTime,O=void 0===_?"en-us"!==r.a.locale():_,y=n.shouldCapitalize,j=void 0===y||y,k=Object(i.a)(e,{returnMoment:!0}),E=Object(d.a)(k,g),C=E>-262080&&E<262080,I=Object(b.a)(k,{today:g,uncapitalized:!j}),w=r.a.localeData(r.a.locale()).dayDivider().format,S=!1,T=void 0;if(T=f||t,isNaN(Object(r.a)(k).unix()))return f;var R=t.replace(/{(.*?)}/g,function(e,n,i){var d=void 0,b=void 0,m=void 0,f=void 0;switch(n){case"day_divider_pretty":return k.year()!==g.year()?Object(o.a)(k):I||("es-es"===r.a.locale()?(f=(m=Object(s.a)(k)).charAt(0).toLocaleUpperCase()+m.slice(1),w.replace(/%1/,f).replace(/%2/,1===k.date()?"uno de "+k.format("MMMM"):Object(o.a)(k,{excludeYear:!0}))):"ja-jp"===r.a.locale()?w.replace(/%1/,k.format("dd")).replace(/%2/,Object(o.a)(k,{excludeYear:!0})):"fr-fr"===r.a.locale()?(f=(m=Object(s.a)(k)).charAt(0).toLocaleUpperCase()+m.slice(1),w.replace(/%1/,f).replace(/%2/,Object(o.a)(k,{excludeYear:!0}))):w.replace(/%1/,Object(s.a)(k)).replace(/%2/,Object(o.a)(k,{excludeYear:!0})));case"date_num":return Object(a.a)(k,{omitTime:!0});case"date_long":return"ja-jp"===r.a.locale()?w.replace(/%1/,k.format("dd")).replace(/%2/,Object(o.a)(k,{excludeYear:C})):Object(s.a)(k)+", "+Object(o.a)(k,{shortenMonth:!1,excludeYear:C});case"date_long_pretty":return d=!(0===t.indexOf("{date_long_pretty}")&&0===i),b=Object(s.a)(k)+", "+Object(o.a)(k,{shortenMonth:!1,excludeYear:C}),"ja-jp"===r.a.locale()?I||w.replace(/%1/,k.format("dd")).replace(/%2/,Object(o.a)(k,{excludeYear:C})):Object(c.a)(k,{fallbackString:b,uncapitalized:!j||d});case"date":return Object(o.a)(k,{shortenMonth:!1,excludeYear:C});case"date_pretty":return d=!(0===t.indexOf("{date_pretty}")&&0===i),b=Object(o.a)(k,{shortenMonth:!1,excludeYear:C}),Object(c.a)(k,{fallbackString:b,uncapitalized:!j||d});case"date_short":return Object(o.a)(k,{shortenMonth:!0,shortenDay:!0,excludeYear:C});case"date_short_pretty":return d=!(0===t.indexOf("{date_short_pretty}")&&0===i),b=Object(o.a)(k,{shortenDay:!0,shortenMonth:!0,excludeYear:C}),Object(c.a)(k,{fallbackString:b,uncapitalized:!j||d});case"time":return Object(l.a)(k,{includeSeconds:!1,includeMeridiem:!O,do24hrTime:O});case"member_local_time":return Object(p.a)(k,{includeSeconds:!1,includeMeridiem:!O,do24hrTime:O});case"time_secs":return Object(l.a)(k,{includeSeconds:!0,includeMeridiem:!O,do24hrTime:O});case"ago":return d=!(0===t.indexOf("{ago}")&&0===i),b=Object(u.a)(k),j&&!d?b.charAt(0).toLocaleUpperCase()+b.slice(1):b;case"status_expiration":return Object(h.a)(k,g)?Object(l.a)(k,{includeMeridiem:!O,do24hrTime:O}):I?23===k.hour()&&59===k.minutes()?I:"pt-br"===r.a.locale()?I+" \xe0s "+Object(l.a)(k,{includeMeridiem:!O,do24hrTime:O}):I+", "+Object(l.a)(k,{includeMeridiem:!O,do24hrTime:O}):k.format("ddd")+", "+Object(o.a)(k,{shortenMonth:!1,excludeYear:!0})+", "+Object(l.a)(k,{includeMeridiem:!O,do24hrTime:O});default:return S=!0,""}});return S?T:R}},CXsT:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("qLl3"),o=n("QbLZ"),s=n.n(o),c=n("EJiy"),l=n.n(c),u=n("7EGn"),d=n("gSGL"),b=n("/1FC"),p=n("fujP"),h=n("bPB8"),m=n("zmn3"),f=n("u3oV"),v=n("Bw5p"),g=n("clTI"),_=n("P2f5"),O=n("yHhI"),y=n("6kok"),j=n("Q+UV"),k=n("HWup"),E=n("7Ztl"),C="PREPROCESS-IMSG-MAKE";function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsg,a=n.channelId;if(!r||!a)return null;var i=t(),o=Object(g.d)(i,a),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsg,a=n.channelId;if(!r||!a)return null;var i=null;"thread_broadcast"===r.subtype&&r.root&&(i=e(T({imsgs:[r.root],channelId:a,skipSlurp:!0}))[0]);var o={latest_reply:r.latest_reply,reply_users:r.reply_users,reply_users_count:r.reply_users_count},c="reply_broadcast"===r.subtype?{broadcast_thread_ts:r.broadcast_thread_ts,channel_id:r.channel,no_display:r.new_broadcast}:{};return s()({thread_ts:r.thread_ts,slackbot_feels:r.slackbot_feels||null,_hidden_reply:r.thread_ts&&r.thread_ts!==r.ts&&"thread_broadcast"!==r.subtype,reply_count:parseInt(r.reply_count,10)||0,replies:r.replies},o,c,Object(f.a)({parent_ts:r.parent_ts,parent_user_id:r.parent_user_id,root:i,_subscribed:r.subscribed,_unread_count:r.unread_count,_last_read:r.last_read}))}(e,t,{imsg:r,channelId:a}),k=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg,r=t();if(!n)return null;if(!n.files||!Object(b.a)(n.files))return{files:void 0};var a=Object(h.a)(Object(m.a)(n.files,function(e){if(!e||!e.id)return null;var t=Object(_.h)(r,e.id);return t||(Object(O.a)({state:r}).error(C,"No file with ID "+e.id+" for "+n.ts),null)}));return Object(f.a)({no_display:Object(b.a)(n.files)&&Object(p.a)(a),files:a,x_files:n.x_files})}(e,t,{imsg:r}),I=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg;if(!n)return null;if(!["sh_room_created","sh_room_shared"].includes(n.subtype))return null;if(n._call_id)return{_call_id:n._call_id};if(n.room){var r=Object(E.b)(t(),n.room.id);return r?{_call_id:r.id}:(Object(O.a)({getState:t}).error(C,"No room, no_display = true "+n.ts),{no_display:!0})}return{no_display:!0}}(e,t,{imsg:r}),S=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg;if(!n)return null;if(!["file_share","file_mention","file_comment"].includes(n.subtype))return null;var r=Object(_.h)(t(),n.file&&n.file.id),a="file_comment"===n.subtype&&n.comment,i=!r||"file_comment"===n.subtype&&!n.comment;return Object(f.a)({file:r,comment:a,no_display:i})}(e,t,{imsg:r}),R=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg;if(!n)return null;if("pinned_item"!==n.subtype)return null;var r=void 0;"F"===n.item_type?n.item&&(r=Object(_.h)(t(),n.item.id)):["Fc","C","G","D"].includes(n.item_type)&&(r=n.item);return Object(f.a)({item_type:n.item_type,item:r,no_display:!0})}(e,t,{imsg:r}),N=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg;return n?n.attachments?{attachments:n.attachments.map(w)}:{attachments:void 0}:null}(e,t,{imsg:r}),x=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsg;return n?n.blocks&&Object(u.a)(n,"blocks.length")?{blocks:n.blocks}:{blocks:void 0}:null}(e,t,{imsg:r}),M=["channel_topic","channel_purpose","channel_join","channel_leave"].includes(r.type)?r.type:r.subtype,P="tombstone"===r.subtype&&r.hidden&&r.reply_count>0,A=c&&c.no_display||k&&k.no_display||I&&I.no_display||S&&S.no_display||R&&R.no_display||["group_join","group_purpose","group_topic"].includes(r.subtype)&&Object(y.lb)(o)||r.hidden&&!P||r.no_display||r.ignore_if_attachments_supported&&!(r.attachments&&!r.attachments.length),D=Object(d.a)(r.text)&&r.text||void 0;r.text&&!Object(d.a)(r.text)&&Object(O.a)({state:i}).error(C,"Invalid imsg.text type: "+l()(r.text)+" "+r.ts);var L=Object(v.a)(r,["_alert_even_though_temp","_ephemeral_type","alert_type","bot_id","bot_profile","client_msg_id","dnd_suppressed","edited","hex_swatches","hidden","icons","ignore_if_attachments_supported","inviter","is_ephemeral","is_starred","mrkdwn","name","no_notifications","old_name","pinned_to","purpose","recap","sound","topic","upload","_shown_attachments"]),q=Object(f.a)({username:("bot_message"===r.subtype||"thread_broadcast"===r.subtype&&r.bot_id)&&r.username,pinned_info:r.pinned_info,slackbot_feels:"USLACKBOT"===r.user&&r.slackbot_feels,source_team_id:r.source_team||r.source_team_id,suppress_notification:r.suppress_notification||!1});return s()({},c,k,I,S,R,N,x,L,q,{type:"message",ts:r.ts,channel:a,no_display:!!A,user:r.user,_rxn_key:Object(j.c)("message",r.ts,a),subtype:M,text:D})}function w(e,t){var n=Object(k.b)(s()({},e),t);return n.video_html_width&&(n.video_html_width=+n.video_html_width),n.video_html_height&&(n.video_html_height=+n.video_html_height),n.id&&(n.id=n.id.toString()),n}var S=Object(a.b)("Preprocesses an array of internal message objects",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsgs,a=n.channelId,o=n.skipSlurp,s=void 0!==o&&o;return r&&r.length?(s||Object(i.a)(e,t,{imsgs:r,channelId:a}),r.map(function(n){return I(e,t,{imsg:n,channelId:a})})):[]});S.propTypes={imsg:r.b.arrayOf(r.b.object),channelId:r.b.string};var T=S;n.d(t,"a",function(){return T})},CaXY:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n("aLpA"),a=[r.e.users_select,r.e.conversations_select,r.e.channels_select,r.e.multi_users_select,r.e.multi_conversations_select,r.e.multi_channels_select,r.e.external_select,r.e.static_select,r.e.datepicker,r.e.plain_text_input],i={message:"message",message_attachment:"message_attachment",search:"search",threads_flexpane:"threads_flexpane",block_kit_builder:"block_kit_builder",delete_dialog:"delete_dialog",share_dialog:"share_dialog",app_actions:"app_actions",block_kit_builder_template:"block_kit_builder_template",workflow_message_preview:"workflow_message_preview",all_threads:"all_threads",all_unreads:"all_unreads",shared_message:"shared_message",starred_message:"starred_message",activity:"activity",pinned_items:"pinned_items",modal:"modal",view:"view"}},CbHP:function(e,t,n){},Cbpi:function(e,t,n){"use strict";var r=n("CpTu"),a=n("uXhx"),i=n("UXvI"),o=n("oTSI"),s=n("yIs4"),c=n("XfeM"),l=n("lhZz"),u=n("uf9I"),d=n("ZAxE"),b=n("JHHQ"),p=n("HO/Y"),h=n("St+r"),m=n("clTI"),f=n("TcTh"),v=n("6kok"),g=n("1tet"),_=n("2HDu"),O=n("Iq6W"),y=n("utBT"),j=n("yHhI"),k=n("ESFG"),E=n("hpgS"),C=function(e,t,n){var i=Object(l.getStateByTeamId)(e);if("Vall_threads"===t)return Object(p.j)(i,"feature_react_all_threads")?(Object(l.dispatchForTeamId)(e,Object(y.k)()),Promise.resolve()):(Object(E.b)(),Promise.resolve());var o=Object(m.d)(i,t,!1);if(!o)return Promise.resolve();if(n)return Object(p.j)(i,"feature_react_threads")?function(e,t,n){var i=Object(_.c)(t,n);return Object(l.dispatchForTeamId)(e,Object(d.d)({channelId:t,threadTs:n,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.msgs,c=o.deleted,u=o.hasMore;if(!Object(h.i)(Object(l.getStateByTeamId)(e))){var d=s,p=Object(r.a)(s,{ts:n});u&&(d=Object(a.a)(s,{ts:n})),Object(l.dispatchForTeamId)(e,Object(f.k)({channelId:i})),Object(l.dispatchForTeamId)(e,Object(b.a)({msgs:d,channelId:i,hasMore:{hasMoreStart:u,hasMoreEnd:!1},oldest:null,latest:null,deleted:c})),p&&Object(l.dispatchForTeamId)(e,Object(O.a)([p]));var v=Object(l.getStateByTeamId)(e);Object(k.a)(Object(m.d)(v,t),p,d,u,!1)}})}(e,t,n):Object(k.c)(t,n,"requestOfflineHistory");var c=Object(v.v)(o);return Object(l.dispatchForTeamId)(e,Object(d.b)({channelId:t,type:c,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.msgs,a=n.hasMore,i=n.isLimited,o=n.pinCount,c=n.deleted;Object(h.i)(Object(l.getStateByTeamId)(e))||(Object(l.dispatchForTeamId)(e,Object(f.k)({channelId:t})),Object(l.dispatchForTeamId)(e,Object(b.a)({msgs:r,channelId:t,isLimited:i,pinCount:o,hasMore:{hasMoreStart:a,hasMoreEnd:!1},oldest:null,latest:null,deleted:c})),Object(s.a)(o)&&Object(l.dispatchForTeamId)(e,Object(g.r)({channelId:t,count:o})))}).catch(function(e){Object(j.a)({state:i}).error("Failed to fetch offline history for "+t+": "+e)})};var I,w=(I=Object(o.a)(function(){return Object(i.a)(C,1e3)},function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t)}),function(){return I.apply(void 0,arguments).apply(void 0,arguments)}),S=Object(c.b)("Request offline history",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs;return w(Object(u.b)(t()),r,a)});S.propTypes={},t.a=S},CeJR:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("t+Pu");function a(e){return Object(r.a)(e)?e.replace(/^BK/,""):""}},"Cjw+":function(e,t,n){},Clng:function(e,t,n){"use strict";n.d(t,"k",function(){return b}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"n",function(){return _}),n.d(t,"m",function(){return O}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"a",function(){return I}),n.d(t,"o",function(){return w}),n.d(t,"l",function(){return S});var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("EzZj"),s=n("XfeM"),c=n("5fEN"),l=n("pfQy"),u=n("kMSZ"),d={EXPIRED_COST_REQUEST:"EXPIRED_COST_REQUEST"},b=Object(o.b)("Switch currently active plan");b.propTypes=i.b.object;var p=Object(o.b)("Successfully fetched available plans");p.propTypes=i.b.object;var h=Object(o.b)("Successfully fetched cost for current plan");h.propTypes=i.b.object;var m=Object(o.b)("Received an API error");m.propTypes=null;var f=Object(o.b)("Plans and cost data loaded");f.propTypes=null;var v=Object(o.b)("Set Plan Level");v.propTypes=i.b.string;var g=Object(o.b)("Set Payment Method");g.propTypes=i.b.string;var _=Object(o.b)("Update Is Plans Data Loading");_.propTypes=i.b.object;var O=Object(o.b)("Update Is Cost Data Loading");O.propTypes=i.b.object;var y=0;function j(e){return function(t,n){return new Promise(function(r,i){var o=n(),s=Object(u.o)(o),b=Object(l.b)(o),p=Object(u.h)(o);t(O({isCostDataLoading:!0}));var f=parseInt(Object(l.j)(o).numberOfUsers,10)||0,v=e.isFinalReview||!1,g=Object(u.x)(o,s,b,p,f),_=y+1;if(y=_,g&&!v)window.setTimeout(function(){if(y===_){var e=Object(u.B)(o,s,b,p,f);t(h({activePlanCost:e,companyAddress:b,isInvoice:p,numInvoiceSeats:f})),t(O({isCostDataLoading:!1})),r()}else i(new Error(d.EXPIRED_COST_REQUEST))},250);else{var j=b.country,k=b.region,E=b.street,C=b.postalCode,I=b.isBusinessPurchase,w={productId:s,country:j,region:k,postalCode:C,street:E,isBusinessPurchase:I,isInvoice:p,numInvoiceSeats:f,isFinalReview:v};t(Object(c.b)(w)).then(function(e){y===_?(t(O({isCostDataLoading:!1})),t(h(a()({},e,{companyAddress:b,isInvoice:p,numInvoiceSeats:f}))),r()):i(new Error(d.EXPIRED_COST_REQUEST))}).catch(function(e){"max_user_count_exceed_for_ss_invoice"!==e.data.error?t(m()):t(O({isCostDataLoading:!1}))})}})}}function k(e){return function(t,n){return new Promise(function(r){t(_({isPlansDataLoading:!0}));var a=n(),i=Object(l.c)(a),o=Object(l.p)(a);t(Object(c.a)({country:i,checkout_step:o})).then(function(n){Promise.all([t(p(n)),t(j(e)),t(_({isPlansDataLoading:!1}))]).then(function(){t(f()),r()}).catch(function(e){e.message!==d.EXPIRED_COST_REQUEST&&t(m())})}).catch(function(){return t(m())})})}}function E(){return function(e){return new Promise(function(t){e(Object(c.a)()).then(function(n){e(p(n)),t()})})}}k.propTypes={country:i.b.string};var C=function(e,t,n){return t===n?Promise.resolve():e(j({isFinalReview:!1}))},I=Object(s.b)("Async thunk to change active plan initiated",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(u.o)(t());e(b(n));var a=Object(u.o)(t());return C(e,r,a)});function w(e){return function(t,n){var r=Object(u.o)(n());t(v(e));var a=Object(u.o)(n());return C(t,r,a)}}function S(e){return function(t,n){var r=Object(u.o)(n());t(g(e));var a=Object(u.o)(n());C(t,r,a)}}I.propTypes={term:i.b.string,currency:i.b.string}},CsuD:function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return w});var r=n("QbLZ"),a=n.n(r),i=n("sk9p"),o=n.n(i),s=n("aK/h"),c=n("om+M"),l=n("4zXV"),u=n("UjNr"),d=n("yHhI"),b=n("kOzZ"),p=n("HO/Y"),h=n("6kok"),m=n("clTI"),f=n("smxp"),v=n("P2f5"),g=n("N52Z"),_=n("hOQf"),O=n("P9LH"),y=n("DtX9"),j=n("Fdc0"),k={};function E(e){var t=e.split("-"),n=o()(t,3),r=n[0],a=n[1],i=n[2];switch(r){case"message":return{channel:i,timestamp:a};case"file":return{file:a};case"file_comment":return{file_comment:a};default:throw new Error("type not handled")}}function C(e){return k[e]}var I=Object(c.a)("Get reactions for a reaction key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reactionKey,i=n.attempt,o=void 0===i?1:i;if(k[r]&&1===o)return k[r];var s=e(Object(l.a)({method:"reactions.get",args:a()({},E(r),{full:!0})})).tap(function(){delete k[r]}).catch(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(d.a)({getState:t}).error("fetchReactions encountered an error: "+JSON.stringify(n.data)),o<2)return e(I({reactionKey:r,attempt:o+1}));throw delete k[r],n});return k[r]||(k[r]=s),s});I.propTypes={reactionKey:s.b.string.isRequired,attempt:s.b.number};var w=Object(c.a)("Submit addition or removal of a reactions for a reaction key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reactionKey,i=n.name,o=n.add,s=n.reason,c=t(),d=o?"reactions.add":"reactions.remove",k=E(r),C=k.channel,I=k.timestamp,w=k.file,S=Object(p.b)(c),T=I?Object(f.a)(c,C,I):null,R=null;if(T)R=Object(_.Q)(c,T).botId;else if(w){var N=Object(v.h)(c,w);R=N?Object(O.l)(N).botId:null}if(!R){var x=Object(y.c)(c,S);R=Object(j.n)(x)}var M=null;if(R){var P=Object(g.c)(c,R);M=P?P.app_id:null}var A=C?Object(m.d)(c,C):null,D=A?Object(h.t)(A):null;Object(b.a)({state:c}).track(o?"REACTION_ADDED":"REACTION_REMOVED",{member_id:S,app_id:M,bot_id:R,channel_id:C,channel_type:C?C.charAt(0):null,channel_privacy_type:D,message_timestamp:I});var L={method:d,args:a()({},k,{name:i}),reason:s};return Object(p.j)(c,"feature_offline_mode")?e(Object(u.a)(L)):e(Object(l.a)(L))});w.propTypes={reactionKey:s.b.string.isRequired,name:s.b.string.isRequired,add:s.b.bool.isRequired,reason:s.b.string.isRequired}},Cudy:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("aK/h"),u=n("JXW8"),d=n("A+cF"),b=n("yWY+"),p=n("lQgN"),h=n("3pFD"),m=(n("Sdat"),new h.b("inline_member")),f=(l.b.string,l.b.bool,l.b.bool,l.b.node,l.b.bool,l.b.bool,l.b.bool,l.b.bool,l.b.bool,{className:void 0,multiline:!1,invert:!1,name:void 0,isSelf:!1,isAppOrBot:!1,isDeleted:!1,isUnknown:!1,isNonExistent:!1});function v(e){var t=e.className,n=e.multiline,r=e.invert,i=e.name,s=e.isSelf,l=e.isAppOrBot,h=e.isDeleted,f=e.isUnknown,v=e.isNonExistent,g=void 0;g=f||v?o.a.createElement(b.a,{type:v?"non-existent":"unknown","data-qa":"member_name__missing"}):i;var _=c()(t,"c-member_name",{"c-member_name--deactivated":h,"c-member_name--inverted":r});return o.a.createElement(d.c,a()({className:_,multiline:n},Object(p.a)(e)),o.a.createElement("strong",null,g,s&&o.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},m.t("(you)")),h&&o.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},m.t("(deactivated)")),l&&o.a.createElement(u.a,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:r})))}v.displayName="MemberName",v.defaultProps=f,t.a=v},CwN9:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("aK/h"),o=n("2Zgd"),s=n("XfeM"),c=n("clTI"),l=n("TcTh"),u=n("CXsT"),d=n("Iq6W"),b=n("kOzZ"),p=n("HO/Y"),h=n("negh"),m=Object(s.b)("Replace message in store with single raw / unprocessed message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.message,i=n.channelId,s=n.fromEventLog,m=t(),f=r.ts,v=e(Object(u.a)({imsgs:[r],channelId:i}));e(Object(d.a)(v));var g={channelId:i,timestamps:[f],fromEvtLog:!!s};e(Object(l.b)(g));var _=Object(c.d)(m,i);if(Object(o.k)(_,r,!0,!1),Object(p.j)(m,"feature_unfurl_metadata")&&r.files)for(var O=Object(b.a)({state:m}),y=r.files,j=0;j<y.length;j++){var k,E=y[j],C=h.n.UNFURL,I=void 0;I="gdrive"===E.external_type?h.m.GOOGLE_DRIVE:"onedrive"===E.external_type?h.m.ONEDRIVE:h.m.OTHER,O.track(h.k.FILE_COMPLETE_UPLOAD_SUCCESS,(k={},a()(k,h.d.type,C),a()(k,h.d.has_upload_message,!0),a()(k,h.d.file_count,1),a()(k,h.d.file_upload_action,h.l.URL),a()(k,h.d.file_upload_src,I),k))}return v[0]});m.propTypes={message:i.b.shape({ts:i.b.string.isRequired}).isRequired,channelId:i.b.string.isRequired,fromEventLog:i.b.bool},t.a=m},CzFX:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Set a channel notification override");i.propTypes={channelId:r.b.string.isRequired,name:r.b.string.isRequired,value:r.b.any,sync:r.b.bool};var o=Object(a.b)("Remove a channel from the list of overrides");o.propTypes={channelId:r.b.string.isRequired};var s=Object(a.b)("Insert a channel notification override");s.propTypes={channelId:r.b.string.isRequired,override:r.b.object.isRequired};var c=Object(a.b)("Set a notification pref");c.propTypes={name:r.b.string.isRequired,value:r.b.any,sync:r.b.bool}},D3DU:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=new(n("nNoG").b)("message");function a(e){var t=e.channelName,n=e.fallbackName,a=e.includePrefix,i=void 0===a||a,o=e.isPrivate,s=void 0!==o&&o,c=e.isUnknown,l=void 0!==c&&c,u=e.isNonExistent,d=void 0!==u&&u,b=e.isMember,p=void 0!==b&&b,h=e.featureRichTextRendering,m=void 0!==h&&h,f=void 0;return d?f=n||r.t("unknown-channel"):s?(f=n||r.t("unknown-channel"),m&&p&&(f=t||f)):f=l?r.t("unknown-channel"):t||(n||r.t("unknown-channel")),i&&(f="#"+f),f}},D3dR:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("aK/h"),m=n("clTI"),f=n("FN36"),v=n("wuO/"),g=n("V/Wy"),_=n("6kok"),O=n("Fp75"),y=n("Rszm"),j=n("O0RF"),k=n("KEK+"),E=n("od5y"),C=n("RAhH"),I=n("ynxK"),w=n("nNoG"),S=n("ITcr"),T=(n("e74f"),new w.b("prefs")),R=(h.b.string.isRequired,h.b.string.isRequired,h.b.bool.isRequired,h.b.bool.isRequired,h.b.bool.isRequired,h.b.bool.isRequired,h.b.string.isRequired,h.b.string.isRequired,h.b.string.isRequired,h.b.string.isRequired,h.b.string.isRequired,h.b.bool.isRequired,h.b.func.isRequired,h.b.func.isRequired,h.b.func.isRequired,h.b.func.isRequired,h.b.func.isRequired,function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMutedChanged=n.onMutedChanged.bind(n),n.onSuppressedChanged=n.onSuppressedChanged.bind(n),n.onDesktopSettingChanged=n.onDesktopSettingChanged.bind(n),n.onMobileSettingChanged=n.onMobileSettingChanged.bind(n),n.onOpenPreferences=n.onOpenPreferences.bind(n),n}return u()(t,e),o()(t,[{key:"onMutedChanged",value:function(e){var t=this.props,n=t.channelId;(0,t.setMuted)(n,!!e.target.checked)}},{key:"onSuppressedChanged",value:function(e){var t=this.props,n=t.channelId;(0,t.setSuppressed)(n,!!e.target.checked)}},{key:"onDesktopSettingChanged",value:function(e){var t=this.props,n=t.channelId;(0,t.setDesktopSetting)(n,e.target.value)}},{key:"onMobileSettingChanged",value:function(e){var t=this.props,n=t.channelId;(0,t.setMobileSetting)(n,e.target.value)}},{key:"onOpenPreferences",value:function(){this.props.openPrefsModal()}},{key:"renderMutingOptions",value:function(){var e=this.props,t=e.channelName,n=e.isMuted,r=e.isAtChannelSuppressed,a=e.isGroupDm,i=e.isGeneral,o=e.whoCanAtEveryone,s=e.whoCanAtChannel,c=e.whoCanPostGeneral,l="";i?"owner"===c||"admin"===c?l=T.t("A Workspace Owner has restricted who can post to {channelName} to admins and/or owners. These notifications can not be ignored.",{atChannel:"@"+Object(S.b)({ms_name:"channel"}),atEveryone:"@"+Object(S.b)({ms_name:"everyone"}),channelName:Object(w.n)(t)}):"admin"!==o&&"owner"!==o||(l=T.t("A Workspace Owner has restricted the use of {atChannel} and/or {atEveryone} to admins and/or owners. These notifications can not be ignored.",{atChannel:"@"+Object(S.b)({ms_name:"channel"}),atEveryone:"@"+Object(S.b)({ms_name:"everyone"})})):"admin"!==s&&"owner"!==s||(l=T.t("A Workspace Owner has restricted the use of {atChannel} to admins and/or owners. These notifications can not be ignored.",{atChannel:"@"+Object(S.b)({ms_name:"channel"})}));var u=b.a.createElement(j.a,{type:"inline",text:T.t("Ignore notifications for {atChannel} and {atHere}",{atChannel:"@"+Object(S.b)({ms_name:i?"everyone":"channel"}),atHere:"@"+Object(S.b)({ms_name:"here"})}),isDisabled:!!l,cursor:"pointer"},l?b.a.createElement(C.c,{tip:l},b.a.createElement("span",null,b.a.createElement(y.a,{disabled:!0}))):b.a.createElement(y.a,{checked:r,onChange:this.onSuppressedChanged}));return b.a.createElement("div",null,b.a.createElement(j.a,{type:"inline",text:a?T.t("Mute entire conversation"):T.t("Mute entire channel"),subtext:T.t("You won't receive notifications for muted channels, and they'll appear grayed out in your channel list."),cursor:"pointer"},b.a.createElement(y.a,{checked:n,onChange:this.onMutedChanged})),a?null:u)}},{key:"renderPermissionPrompt",value:function(){var e=this;return b.a.createElement("div",{className:"margin_top_100"},b.a.createElement("div",null,b.a.createElement(E.b,{type:"desktop-notification",className:"p-channel_notification_prefs__platform_icon",size:"inherit"}),b.a.createElement("strong",null,T.t("Desktop notifications"))),b.a.createElement("div",null,T.rt("You have not yet allowed desktop notifications. Open the <a>Preferences Dialog</a> and follow the instructions to set them up.",null,function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text;return b.a.createElement(I.a,{onClick:e.onOpenPreferences},t)})))}},{key:"renderNotificationsOptions",value:function(){var e=this.props,t=e.isMuted,n=e.desktopSetting,r=e.mobileSetting,a=e.notificationsAllowed;if(t)return null;if(!a)return this.renderPermissionPrompt();var i=T.t("All new messages"),o=T.t("Just mentions*"),s=T.t("Nothing");return b.a.createElement("div",null,b.a.createElement("table",{className:"p-channel_notification_prefs__table"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",{scope:"col"},T.t("Notifications")),b.a.createElement("th",{scope:"col"},i),b.a.createElement("th",{scope:"col"},o),b.a.createElement("th",{scope:"col"},s))),b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",{scope:"row"},b.a.createElement(E.b,{type:"desktop-notification",className:"p-channel_notification_prefs__platform_icon"}),T.t("Desktop")),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},i)},b.a.createElement(k.a,{name:"desktop_notification_setting",value:"everything",checked:"everything"===n,onChange:this.onDesktopSettingChanged}))),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},o)},b.a.createElement(k.a,{name:"desktop_notification_setting",value:"mentions_dms",checked:"mentions_dms"===n,onChange:this.onDesktopSettingChanged}))),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},s)},b.a.createElement(k.a,{name:"desktop_notification_setting",value:"nothing",checked:"nothing"===n,onChange:this.onDesktopSettingChanged})))),b.a.createElement("tr",null,b.a.createElement("th",{scope:"row"},b.a.createElement(E.b,{type:"mobile-notification",className:"p-channel_notification_prefs__platform_icon"}),T.t("Mobile")),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},i)},b.a.createElement(k.a,{name:"mobile_notification_setting",value:"everything",checked:"everything"===r,onChange:this.onMobileSettingChanged}))),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},o)},b.a.createElement(k.a,{name:"mobile_notification_setting",value:"mentions_dms",checked:"mentions_dms"===r,onChange:this.onMobileSettingChanged}))),b.a.createElement("td",null,b.a.createElement(j.a,{text:b.a.createElement("span",{className:"p-channel_notification_prefs__offscreen_label"},s)},b.a.createElement(k.a,{name:"mobile_notification_setting",value:"nothing",checked:"nothing"===r,onChange:this.onMobileSettingChanged})))))),b.a.createElement("p",{className:"p-channel_notification_prefs__hint"},T.t("* Includes mentions of your name or any of your keywords")))}},{key:"render",value:function(){return b.a.createElement("div",{className:"p-channel_notification_prefs"},this.renderMutingOptions(),this.renderNotificationsOptions())}}]),t}(d.Component));R.displayName="ChannelNotificationPrefs",t.a=Object(p.b)(function(e,t){var n=t.channelId,r=Object(m.d)(e,n),a=Object(g.b)(e,n)||{};return{channelName:Object(_.x)(e,r),isGroupDm:Object(_.lb)(r),isGeneral:Object(_.cb)(r),isMuted:a.muted||!1,isAtChannelSuppressed:a.suppress_at_channel||!1,desktopSetting:Object(O.g)(e,n),mobileSetting:Object(O.h)(e,n),notificationsAllowed:Object(O.f)(),whoCanAtChannel:Object(f.a)(e,"who_can_at_channel"),whoCanAtEveryone:Object(f.a)(e,"who_can_at_everyone"),whoCanPostGeneral:Object(f.a)(e,"who_can_post_general")}},function(e){var t=function(t,n,r){e(Object(v.b)({name:n,value:r,channelId:t}))};return{setMuted:function(e,n){return t(e,"muted",n)},setSuppressed:function(e,n){return t(e,"suppress_at_channel",n)},setDesktopSetting:function(e,n){return t(e,"desktop",n)},setMobileSetting:function(e,n){return t(e,"mobile",n)}}})(R)},"D4L/":function(e,t,n){"use strict";n.d(t,"i",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"k",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"h",function(){return C}),n.d(t,"d",function(){return I}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return S}),n.d(t,"g",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return N});var r=n("oTSI"),a=n("vFlG"),i=n("CpTu"),o=n("Z0Cl"),s=n("Wy5O"),c=n("U/ze"),l=n("Vp6b"),u=n("1zbP"),d=n("Zg1Q"),b=n("lhZz"),p=n("5mKg"),h=n("k2C/"),m=n("uf9I"),f=n("zbZx"),v=n("iegW"),g=n("Q9r6");function _(e,t){var n=t.map(function(t){return Object(b.dispatchForTeamId)(e,Object(g.c)({team:t}))});Object(d.b)(n)}var O=Object(r.a)(function(){return new u.a({fetch:function(e,t){return function(e,t,n){if(!n)throw new Error("fetchTeamsForTeamId requires a reason");var r=Object(b.getStateByTeamId)(e),a=t.filter(function(e){return r&&r.teams&&r.teams[e]&&!Object(p.M)(r.teams[e])}),i=Object(s.a)(t,a);return Object(b.dispatchForTeamId)(e,Object(l.a)({ids:i,reason:n})).catch(function(){return[]}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r=Object(b.getStateByTeamId)(e);var n=a.map(function(e){return r&&r.teams[e]});return t.concat(n)})}(e,t,"UnknownFetchManager")},metricsName:"teams",upsertKnown:_,upsertNonExistent:_})});var y=Object(c.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e&&(Object(h.b)(t)||Object(h.a)(t))?function(e,t,n){var r=e&&e.teams&&e.teams[t],a=Object(m.b)(e);return r?(Object(v.b)(a,r.id),r):n?O().fetchObjectWithId(a,t):null}(e,t,n):null}),j=Object(c.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.map(function(t){return y(e,t,n)}).filter(function(e){return e})}),k=(Object(c.b)(function(e,t){return y(e,function(e,t){var n=Object(i.a)(e&&e.teams,{enterprise_id:t});return n&&n.id}(e,t))}),Object(c.b)(function(e,t){return Object(a.a)(e,["teams",t])})),E=Object(c.b)(function(e){return e&&e.teams}),C=Object(c.b)(function(e,t){var n=Object(i.a)(e&&e.teams,{domain:t});return n&&n.id&&y(e,n.id)}),I=Object(c.b)(function(e){return y(e,Object(m.b)(e))}),w=(Object(c.b)(function(e){return y(e,Object(m.c)(e))}),Object(c.b)(function(e){return e&&e.teams&&Object(o.a)(e.teams,"enterprise_id")})),S=Object(c.b)(function(e){return e&&e.teams&&Object(o.a)(e.teams,function(t){return Object(p.G)(e,t)})}),T=(Object(c.b)(function(e,t){return!(!e||!t)&&Object(p.r)(e&&e.teams&&e.teams[t])}),Object(c.b)(function(e){if(e){var t=Object(m.a)(e);return t?y(e,t):null}})),R=Object(c.b)(function(e){if(e){var t=T(e)||{};return Object(f.a)(t)}}),N=Object(c.b)(function(e){if(!e)return"";var t=T(e)||{};return Object(f.b)(t)});Object(c.b)(function(e){return e&&e.bootData&&e.bootData.enterprise_url?"https://"+e.bootData.enterprise_url+"/":""})},D5XI:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n("ifKl"),a=n("kxpR"),i=Object(a.createContext)({closeButtonIsVisible:!0,closeModal:r.a,fullscreen:!1});t.a=i;var o=function(){return Object(a.useContext)(i)}},D8iY:function(e,t,n){},DCka:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("wdd+"),c=function(){return null},l=function(e){return o.a.createElement(s.a,a()({renderError:c},e))};l.displayName="QuietErrorBoundary",t.a=l},DD2j:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("aLpA"),a=function(){return document.body.classList.contains(r.m)&&!document.body.classList.contains(r.G)},i=function(){return document.body.classList.contains(r.i)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a()?Math.max(r.n,e):i()?r.j+e:e}},DQNL:function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"n",function(){return f}),n.d(t,"p",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"u",function(){return _}),n.d(t,"k",function(){return O}),n.d(t,"g",function(){return y}),n.d(t,"d",function(){return j}),n.d(t,"m",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"b",function(){return C}),n.d(t,"t",function(){return I}),n.d(t,"s",function(){return w}),n.d(t,"r",function(){return S}),n.d(t,"q",function(){return T}),n.d(t,"a",function(){return R});var r=n("Z0Cl"),a=n("DtX9"),i=n("Fdc0"),o=n("sg/O"),s=n("mzG2"),c=n("1zbP"),l=n("clTI");function u(e){return!e||I(e)?null:e.name||""}function d(e){return e?e._name_lc:null}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeAtSign,n=void 0===t||t;return Object(s.a)({userGroupHandle:e&&e.handle,includePrefix:n,isUnknown:w(e),isNonExistent:S(e)})}function p(e){return!e||I(e)?"":e.description}function h(e){return!e||I(e)?0:parseInt(e.user_count,10)||0}function m(e){return!e||I(e)?"":e.team_id}function f(e){return!(!e||I(e))&&(e&&!!e.auto_type)}function v(e){return!(!e||I(e))&&(e&&!!e.auto_type&&"owner"===e.auto_type)}function g(e){return!(!e||I(e))&&(e&&!!e.auto_type&&"admin"===e.auto_type)}function _(e){return!(!e||I(e))&&!e.date_delete}function O(e){return!e||I(e)?null:e.date_update}function y(e){return!e||I(e)?[]:e.users}function j(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).includePrivateChannels,a=void 0===n||n;if(!t||!t.prefs||I(t))return[];var i=t.prefs.channels||[];if(!a)return i;var o=t.prefs.groups||[];return o=Object(r.a)(o,function(t){return Object(l.u)(e,t)}),[].concat(i,o)}function k(e){return!(!e||!e.handle)}function E(e){var t=Object(a.b)(e);return!Object(i.xb)(t)&&Object(o.b)(e,{prefName:"who_can_edit_user_groups",user:t})}function C(e){var t=Object(a.b)(e);return!Object(i.xb)(t)&&Object(o.b)(e,{prefName:"who_can_create_delete_user_groups",user:t})}function I(e){return Object(c.e)(e)}function w(e){return Object(c.d)(e)}function S(e){return Object(c.c)(e)}function T(e){return Object(c.b)(e)}var R=/<!subteam\^(S[A-Za-z0-9]{8,})\|@[a-z0-9-_]*>/gm},DTdi:function(e,t){},DVJN:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("aK/h"),a={messageAction:"message_action",globalAction:"global_action",channelAction:"channel_action"};t.b=r.b.oneOf(Object.values(a))},Da5w:function(e,t,n){},Ddh9:function(e,t,n){"use strict";n.d(t,"c",function(){return X}),n.d(t,"b",function(){return Z}),n.d(t,"f",function(){return $}),n.d(t,"e",function(){return ee}),n.d(t,"d",function(){return te});var r,a=n("sk9p"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("BeL+"),d=n("m8R6"),b=n("oTSI"),p=n("Z0Cl"),h=n("OZf9"),m=n("aK/h"),f=n("btvA"),v=n("1zbP"),g=n("EzZj"),_=n("MNvw"),O=n("U/ze"),y=n("XfeM"),j=n("iqWe"),k=n("lhZz"),E=n("zwKj"),C=n("DtX9"),I=n("clTI"),w=n("Fdc0"),S=n("6kok"),T=n("0sSB"),R=n("yHhI"),N=n("yPgC"),x=n("uf9I"),M=m.b.oneOfType([m.b.shape({service_id:m.b.string.isRequired,home_workspace_id:m.b.string,failed_home_workspace_ids:m.b.arrayOf(m.b.string),isUnknown:m.b.bool,isNonExistent:m.b.bool}),N.a.AppProfile]),P=Object(g.b)("add an app profile to the store");P.propTypes=M.isRequired;var A=Object(g.b)("add multiple app profiles to the store");A.propTypes=m.b.arrayOf(M.isRequired).isRequired;var D=Object(_.b)((r={},s()(r,P,function(e,t){return t&&t.service_id?l()({},e,s()({},t.service_id,t)):e}),s()(r,A,function(e,t){var n=!1,r=l()({},e);return t.forEach(function(e){e&&e.service_id&&(n=!0,r[e.service_id]=e)}),n?r:e}),r),{},{persistenceEnabled:!0});D.propTypes=m.b.objectOf(M);var L=Object(O.b)(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).appProfiles||{}}),q=Object(O.b)(function(e,t){return t&&L(e)[t]||null}),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.serviceId,n=e.homeWorkspaceId,r=e.showAuthSummary,a=void 0!==r&&r;return(a?[n,t,a]:[n,t]).join(":")},B=function(e){var t=e.split(":"),n=i()(t,3),r=n[0];return{serviceId:n[1],homeWorkspaceId:r,showAuthSummary:n[2]}},U=Object(y.b)("Fetch multiple app profiles by combined IDs",function(e,t,n){var r=Object(R.a)({getState:t});return Promise.all(n.map(function(t){var n=B(t),a=n.serviceId,i=n.homeWorkspaceId,o=n.showAuthSummary;return e(Object(j.b)({serviceId:a,homeWorkspaceId:i,showAuthSummary:o})).then(function(e){return l()({},Object(E.c)(a,e),{id:t})}).catch(function(e){return r.error(e,"Error while fetching profile "+t),null})})).then(p.a)});function H(e,t){return Object(k.dispatchForTeamId)(e,U(t))}U.propTypes=m.b.arrayOf(m.b.string.isRequired).isRequired;var K=Object(y.b)("Upsert app profiles and mark as fresh in CFM",function(e,t,n){var r=t(),a=Object(x.b)(r),i=[],o=[];n.forEach(function(e){if(e&&e.service_id){var t=q(r,e.service_id);if(Object(v.b)(e)||!Object(v.b)(t)){var n=l()({},e);e&&t&&Object(v.c)(e)&&Object(v.c)(t)&&(n.failed_home_workspace_ids=Object(u.a)((e.failed_home_workspace_ids||[]).concat(t.failed_home_workspace_ids||[]))),i.push(n.id?Object(d.a)(n,["id"]):n);var s=F({serviceId:n.service_id,homeWorkspaceId:n.home_workspace_id||a});o.push(s),e.auth_summary_list&&o.push(F({serviceId:e.service_id,homeWorkspaceId:e.home_workspace_id||a,showAuthSummary:!0}))}}}),i.length&&(e(A(i)),Q().markObjectsAsFresh(a,o))});function G(e,t){return Object(k.dispatchForTeamId)(e,K(t))}function V(e){var t=B(e);return{id:e,service_id:t.serviceId,home_workspace_id:t.homeWorkspaceId,failed_home_workspace_ids:[]}}function z(e){var t=B(e),n=t.serviceId,r=t.homeWorkspaceId;return{id:e,service_id:n,home_workspace_id:r,failed_home_workspace_ids:[r]}}K.propTypes=m.b.arrayOf(M.isRequired).isRequired;var Y=Object(b.a)(function(){return new v.a({fetch:H,upsertKnown:G,upsertNonExistent:G,makeUnknownObject:V,makeNonExistentObject:z})});function W(e,t){return H(e,t).then(function(t){return G(e,t)})}var Q=Object(b.a)(function(){return new f.b({fetch:W,isEnabled:function(){return!0}})}),X=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.serviceId,r=t.homeWorkspaceId,a=t.memberId,i=t.showAuthSummary,o=q(e,n),s=Object(x.b)(e),c=r||s,u=F({serviceId:n,homeWorkspaceId:c,showAuthSummary:i}),d=o&&Object(v.c)(o)&&!o.failed_home_workspace_ids.includes(c);if(!o||d)return Y().fetchObjectWithId(s,u);if(Q().maybeRefetch(s,u),a&&!o.app_user){var b=Object(C.c)(e,a);return l()({},o,{app_user:{id:b.id,username:Object(w.w)(b)}})}return o});X.propTypes={serviceId:m.b.string.isRequired,homeWorkspaceId:m.b.string,memberId:m.b.string};var Z=Object(O.b)(function(e,t){var n=Object(I.d)(e,t),r=Object(S.G)(n),a=Object(C.c)(e,r),i=Object(w.n)(a),o=Object(x.b)(e),s=Object(T.b)(a,o);return X(e,{serviceId:i,homeWorkspaceId:s,memberId:r})});Z.propTypes=m.b.string.isRequired;var J=Object(y.b)("Fetches app profile if not already in the state",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,a=n.homeWorkspaceId,i=n.memberId,o=t(),s=q(o,r),c=Object(C.c)(o,i);return s&&!s.is_stale?Promise.resolve():e(Object(j.b)({serviceId:r,homeWorkspaceId:a})).then(function(t){var n=Object(E.c)(r,t,c);e(P(n))})});J.propTypes={serviceId:m.b.string.isRequired,homeWorkspaceId:m.b.string,memberId:m.b.string};var $=Object(y.b)("Fetches and returns legacy app profile from state",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).serviceId;return e(J({serviceId:n})).then(function(){var e=q(t(),n);return e?e.legacy_app:null})});$.propTypes={serviceId:m.b.string.isRequired};var ee=Object(y.b)("Mark app profiles as stale using service IDs",function(e,t,n){var r=t(),a=Object(x.b)(r),i=[];n.forEach(function(e){var t=q(r,e);if(t){var n=t.home_workspace_id||a;i.push(F({serviceId:e,homeWorkspaceId:n})),i.push(F({serviceId:e,homeWorkspaceId:n,showAuthSummary:!0}))}}),Q().markObjectsAsStale(a,i)});ee.propTypes=m.b.arrayOf(m.b.string.isRequired).isRequired;var te=Object(y.b)("Mark app profiles as stale an app ID",function(e,t,n){var r=t(),a=[];Object(h.a)(L(r),function(e){e.app_id===n&&a.push(e.service_id)}),e(ee(a))});te.propTypes=m.b.string.isRequired,t.a=D},DecA:function(e,t,n){"use strict";n.d(t,"d",function(){return P}),n.d(t,"k",function(){return A}),n.d(t,"e",function(){return D}),n.d(t,"j",function(){return L}),n.d(t,"i",function(){return q}),n.d(t,"b",function(){return z}),n.d(t,"c",function(){return Y}),n.d(t,"f",function(){return W}),n.d(t,"h",function(){return X}),n.d(t,"g",function(){return Z});var r,a=n("YEIV"),i=n.n(a),o=n("jo6Y"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("TGBA"),d=n("Fsnq"),b=n("m8R6"),p=n("OZf9"),h=n("dYt1"),m=n("aK/h"),f=n("peh1"),v=n("mly0"),g=n("EzZj"),_=n("MNvw"),O=n("U/ze"),y=n("XfeM"),j=n("yHhI"),k=n("vhAc"),E=n("n2GJ"),C=n("HO/Y"),I=n("DVJN"),w=k.a,S=v.a,T={actionId:m.b.string.isRequired,appId:m.b.string.isRequired,channelId:m.b.string.isRequired,messageTs:m.b.string.isRequired},R={action_id:m.b.string.isRequired,type:m.b.oneOf(Object(u.a)(I.a)),name:m.b.string.isRequired,description:m.b.string},N=Object(g.b)("Mark app actions fetch as in flight");N.propTypes=null;var x=Object(g.b)("App action fetch success");x.propTypes=m.b.arrayOf(m.b.shape({app_id:m.b.string.isRequired,app_name:m.b.any,icons:m.b.any,actions:m.b.arrayOf(m.b.shape(R))}));var M=Object(g.b)("App action fetch failed");M.propTypes=null;var P=Object(g.b)("Mark app actions as stale");P.propTypes=null;var A=Object(g.b)("Uninstalls actions for an app");A.propTypes=m.b.arrayOf(m.b.string).isRequired;var D=Object(g.b)("Mark message action as running");D.propTypes=T;var L=Object(g.b)("Message action success");L.propTypes=T;var q=Object(g.b)("Message action failed");q.propTypes=T;function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.channelId,e.messageTs].join(".")}var B=function(e){return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).params;return t.actionId===e.actionId&&t.appId===e.appId}};function U(e,t,n){var r=t.appId,a=t.actionId,o=F(t),s=Object(h.a)(e[o])||[],c=s.findIndex(B({actionId:a,appId:r})),u=n&&n(c>=0?s[c]:null);return c>=0?u?s.splice(c,1,u):s.splice(c,1):u&&s.push(u),s.length?l()({},e,i()({},o,s)):Object(b.a)(e,[o])}var H=function(e,t){return l()({},e,{messageActionCalls:U(e.messageActionCalls,t)})},K=H,G={infoByAppId:{},actionsByAppId:{},messageActionCalls:{}},V=Object(_.b)((r={},i()(r,N,function(e){return l()({},e,{fetchInFlight:!0,fetchError:!1,fresh:!0})}),i()(r,x,function(e,t){var n={},r={};return Object(p.a)(t,function(e){var t=e.app_id,a=e.app_name,i=e.icons,o=e.actions;r[t]=o.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action_id,n=s()(e,["action_id"]);return l()({id:t},n)}),n[t]={id:t,name:a,icons:i}}),l()({},e,{infoByAppId:n,actionsByAppId:r,fetchInFlight:!1,fetchError:!1})}),i()(r,M,function(e){return l()({},e,{fresh:!1,fetchInFlight:!1,fetchError:!0})}),i()(r,P,function(e){return e.fresh?l()({},e,{fresh:!1}):e}),i()(r,A,function(e,t){var n=e.infoByAppId,r=e.actionsByAppId;return l()({},e,{infoByAppId:Object(b.a)(n,t),actionsByAppId:Object(b.a)(r,t)})}),i()(r,D,function(e,t){var n=e.infoByAppId,r=e.actionsByAppId,a=e.messageActionCalls,i=t.actionId,o=t.appId,s=n[o];if(!s)throw new Error("No info for app "+o);var c=(r[o]||[]).find(function(e){return e.id===i});if(!c)throw new Error("No action with id "+i);return l()({},e,{messageActionCalls:U(a,t,function(){return{app:s,action:c,params:t}})})}),i()(r,L,H),i()(r,q,K),r),G,{persistenceEnabled:!0});V.propTypes={infoByAppId:m.b.object,actionsByAppId:m.b.object,messageActionCalls:m.b.object},t.a=V;var z=Object(y.b)("Ensures the most up to date actions are available",function(e,t){var n=t();return Object(C.j)(n,"feature_app_actions_fe_refactor")?Promise.resolve():W(n).fresh?Promise.resolve():(e(N()),e(w()).then(function(t){return e(x(t))}).catch(function(n){e(M()),function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=Object(j.a)(e)).error.apply(t,r)}({getState:t},n)}))});function Y(e,t){if(!e||!t)return!1;var n=F(t),r=e.messageActionCalls[n];if(!r||!r.length)return!1;var a=t.actionId,i=t.appId;return!a||!i||!!r.find(B({actionId:a,appId:i}))}var W=Object(O.b)(function(e){return e&&e.appActions&&e.appActions.deprecated||G}),Q=Object(f.createSelector)([function(e){return W(e).infoByAppId},function(e){return W(e).actionsByAppId},function(e){return W(e).messageActionCalls}],function(e,t,n){var r={};if(Object(p.a)(t,function(t,n){Object(p.a)(t,function(t){if(t.type===I.a.messageAction){var a=l()({app:e[n]},t),i=Object(E.d)(t);r[i]=a}})}),!Object(d.a)(r))return[];var a=S(E.a),i=[];return Object(p.a)(a,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=r[e];t&&i.push(t),delete r[e]}),Object(p.a)(r,function(e){return i.push(e)}),i}),X=Object(O.b)(function(e){var t=W(e),n=t.fetchInFlight,r=t.fetchError;return{actions:Q(e),loading:!!n,error:!!r}}),Z=Object(O.b)(Object(f.createSelector)([W],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.infoByAppId,n=e.actionsByAppId,r=e.fetchError,a=e.fetchInFlight,i=[];return Object(p.a)(n,function(e,n){Object(p.a)(e,function(e){if(e.type===I.a.globalAction){var r=l()({app:t[n]},e);i.push(r)}})}),{actions:i,loading:!!a,error:!!r}}));Object(O.b)(function(e,t){return Y(W(e),t)})},Dpde:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("HO/Y"),a=n("XzsM"),i=n("rWF5"),o=function(e){return!!Object(r.j)(e,"feature_navigate_history")&&"control"!==Object(a.c)(e,"back_forward_buttons")},s=function(e){return o(e)&&Object(i.u)()}},DtX9:function(e,t,n){"use strict";var r=n("Wy5O"),a=n("0VPD"),i=n("lCmp"),o=n("vFlG"),s=n("CpTu"),c=n("HKE1"),l=n("zmn3"),u=n("oTSI"),d=n("U/ze"),b=n("HO/Y"),p=n("uf9I"),h=n("lhZz"),m=n("FN36"),f=n("w0D2"),v=n("1zbP"),g=n("CPJ1"),_=n("Fdc0"),O=n("FHcd"),y=n("QbLZ"),j=n.n(y),k=cdn_url+"/436da/img/unknown_avatar.png",E={image_24:k,image_32:k,image_48:k,image_72:k,image_192:k,image_512:k,image_1024:k};function C(e){return{id:e,name:e,isUnknown:!0,files:[],profile:j()({},E)}}function I(e){return{id:e,isNonExistent:!0,files:[],profile:j()({},E)}}var w=n("x4bP"),S=n("nNoG"),T=n("BYHq"),R=n("MhQa"),N=n("x3yj"),x=n("QYR6");n.d(t,"h",function(){return A}),n.d(t,"c",function(){return D}),n.d(t,"f",function(){return L}),n.d(t,"d",function(){return q}),n.d(t,"b",function(){return F}),n.d(t,"k",function(){return B}),n.d(t,"i",function(){return U}),n.d(t,"l",function(){return H}),n.d(t,"m",function(){return K}),n.d(t,"n",function(){return G}),n.d(t,"a",function(){return V}),n.d(t,"j",function(){return z}),n.d(t,"e",function(){return Y}),n.d(t,"g",function(){return W});var M=new S.b("members"),P=Object(u.a)(function(){return new v.a({fetch:function(e,t){return function(e,t,n){if(!n)throw new Error("fetchMembersForTeamId requires a reason");var a=Object(h.getStateByTeamId)(e),i=V(a),o=t.filter(function(t){return i&&i[t]&&!Object(_.Gb)(i[t])&&Object(x.a)(e,t)}),s=Object(r.a)(t,o);return Object(h.dispatchForTeamId)(e,Object(g.e)({ids:s,reason:n})).catch(function(){return{members:[]}}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.members;a=Object(h.getStateByTeamId)(e),i=V(a);var r=o.map(function(e){return i&&i[e]});return n.concat(r)})}(e,t,"UnknownFetchManager")},upsertKnown:Q,upsertNonExistent:Q,makeUnknownObject:C,makeNonExistentObject:I,metricsName:"members"})}),A=Object(d.b)(function(e,t){return e&&e.members&&e.members[t]}),D=Object(d.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.members||!t)return null;var r=Object(p.b)(e),a=A(e,t);return a?Object(x.d)(r,a.id):Object(O.a)(t)?n&&(a=P().fetchObjectWithId(r,t)):a=I(t),a}),L=Object(d.b)(function(e,t){return e&&e.members&&t?Object(l.a)(t,function(t){return D(e,t)}):null}),q=Object(d.b)(function(e,t){if(!e||!t)return null;var n=Object(p.b)(e),r=Object(c.a)(t),a=Object(s.a)(e.members,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._name_lc,n=e._display_name_lc,a=e._display_name_normalized_lc;return r===t||r===n||r===a});return a&&Object(x.d)(n,a.id),a}),F=(Object(d.b)(function(e,t){if(!e||!t)return null;var n=Object(p.b)(e),r=Object(c.a)(t),a=Object(s.a)(e.members,function(e){return Object(c.a)(e.profile.email)===r});return a&&Object(x.d)(n,a.id),a}),Object(d.b)(function(e){var t=Object(b.b)(e);return t?D(e,t,!1):null})),B=Object(d.b)(function(e){var t=F(e);return!!t&&Object(_.ob)(t)}),U=Object(d.b)(function(e,t){return Object(o.a)(e,["members",t])}),H=Object(d.b)(function(e,t){return!(!e||!t)&&Object(_.kb)(e&&e.members&&e.members[t])}),K=Object(d.b)(function(e,t,n){return!!(e&&t&&n)&&(!!U(e,t)&&e.members[t].updated===n)}),G=Object(d.b)(function(e,t){if(!e||!t)return null;var n=Object(c.a)(t);return Object(i.a)(e.members,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._name_lc,r=e._display_name_lc,a=e._display_name_normalized_lc;return n===t||n===r||n===a})}),V=Object(d.b)(function(e){return e&&e.members}),z=Object(d.b)(function(e){var t=F(e);if(!t||Object(_.xb)(t))return!1;var n=Object(m.a)(e,"who_can_manage_integrations")||{},r=n.type||[],i=r.indexOf("admin")>-1&&Object(_.X)(t),o=r.indexOf("owner")>-1&&Object(_.vb)(t),s=0===r.length||r.indexOf("regular")>-1;if(o||i||s)return!0;var c=n.subteam||[],l=Object(T.d)(e);return Object(a.a)(c,l).length>0||-1!==(n.user||[]).indexOf(t.id)}),Y=Object(d.b)(function(e,t){var n=D(e,t);if(!n||!n.profile)return{emoji:"",text:"",canonical:null,expiration:0};var r=Object(f.a)(e),a=n.profile.status_text_canonical,i=void 0;a&&(r&&(i=(Object(s.a)(r,function(e){return e.canonical===a})||{}).text||null),Object(b.j)(e,"feature_tinyspeck")&&"on a call"===a.toLowerCase()&&(i=M.t("On a call")));return{emoji:n.profile.status_emoji||"",text:i||n.profile.status_text||"",expiration:Object(_.I)(n),canonical:a||null}}),W=Object(d.b)(function(e,t,n){if(!t)return null;var r=D(e,t);if(!r||!r.profile)return null;var a=r.profile.image_512||r.profile.image_192;return n&&r.profile["image_"+n]&&(a=r.profile["image_"+n]),a&&a.match(/^\//)&&(a="https://"+window.location.hostname+a),a});function Q(e,t){var n=Object(h.getStateByTeamId)(e),r=t.filter(function(e){return!U(n,e.id)});Object(w.a)()?Object(h.dispatchForTeamId)(e,Object(N.a)({members:r})):Object(R.g)(r)}},Dv5J:function(e,t,n){"use strict";var r=n("NFsq"),a=n("aK/h"),i=n("XfeM"),o=n("DtX9"),s=n("pGee"),c=n("aLpA"),l=n("Fdc0"),u=n("DQNL"),d=Object(i.b)("Determine whether a mention id (member, broadcast, user group) is valid",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).id;if(!n)return!1;var a=t(),i=Object(o.c)(a,n,!1);if(i&&!Object(l.Gb)(i))return!0;var d=Object(s.e)(a,n);return!(!d||Object(u.t)(d))||!!Object(r.a)(c.B,n)});d.propTypes={id:a.b.string.isRequired},t.a=d},"Dw+T":function(e,t,n){},E06p:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("hOQf"),c=n("WcGV"),l=n("oKDV"),u=Object(o.b)("Upserts a message after a change in pinned status and returns the new message event",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.item,i=n.pinned,o=n.channelId,u=n.pinnedInfo,d=r.message,b=Object(l.a)(i,d,o),p=Object(s.y)(b,u);return e(Object(c.a)({message:p,channelId:o})),a()({},r,{message:b})});u.propTypes={channelId:i.b.string.isRequired,item:i.b.object.isRequired,pinned:i.b.bool.isRequired,pinnedInfo:i.b.object},t.a=u},E4aE:function(e,t,n){"use strict";var r=n("g9w/");t.a=r.a},E95i:function(e,t,n){},EAGK:function(e,t,n){},EDLf:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DTT0"),c=n("P2f5"),l=n("XHGt"),u=n("P9LH"),d=n("NB3s"),b=n("XLFM"),p=n("0f2Y"),h=n("nNoG"),m=n("sk9p"),f=n.n(m),v=new h.b("files");function g(e){var t=e.fileId,n=e.closeModal,i=e.revokePublicUrlAndUpsert,o=Object(r.useState)(!1),s=f()(o,2),c=s[0],l=s[1],u=Object(r.useCallback)(function(){l(!0),i({fileId:t}).then(n).catch(function(){return l(!1)})},[t,n,i,l]);return a.a.createElement(d.a,{closeModal:n},a.a.createElement(d.h,null,a.a.createElement(d.j,{title:v.t("Revoke public file link")})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement("p",null,v.t("This will disable the Public Link for this file. This will cause any previously shared links to stop working.")),a.a.createElement("p",null,v.t("Are you sure you want to revoke this public link?")))),a.a.createElement(d.f,null,a.a.createElement(d.g,null,a.a.createElement(d.c,{type:"outline"},v.t("Cancel")),a.a.createElement(b.d,{type:"danger",onClick:u,disabled:c},v.t("Revoke it")))))}g.displayName="RevokePublicUrlDialog";var _={closeModal:function(){return s.a.apply(void 0,arguments)},revokePublicUrlAndUpsert:function(){return c.p.apply(void 0,arguments)}},O=Object(l.b)(null,_)(g),y=Object(o.b)("Opens the public URL dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;n&&e(Object(s.e)({element:a.a.createElement(O,{fileId:n})}))});y.propTypes={fileId:i.b.string.isRequired};var j=y,k=new h.b("files");function E(e){var t=e.fileId,n=e.publicUrl,i=e.closeModal,o=e.openRevokePublicUrlDialog,s=Object(r.useCallback)(function(){return o({fileId:t})},[t,o]);return a.a.createElement(d.a,{closeModal:i},a.a.createElement(d.h,null,a.a.createElement(d.j,{title:k.t("Public link to this file")})),a.a.createElement(d.d,null,a.a.createElement(d.e,null,a.a.createElement(p.a,{href:n},n))),a.a.createElement(d.f,null,a.a.createElement(d.g,null,a.a.createElement(b.d,{type:"outline",onClick:s},k.t("Revoke")),a.a.createElement(d.c,{type:"primary"},k.t("Done")))))}E.displayName="FilePublicUrlDialog";var C={closeModal:function(){return s.a.apply(void 0,arguments)},openRevokePublicUrlDialog:function(){return j.apply(void 0,arguments)}},I=Object(l.b)(function(e,t){var n=t.fileId,r=Object(c.h)(e,n);return{publicUrl:Object(u.x)(r)}},C)(E);n.d(t,"b",function(){return w}),n.d(t,"a",function(){return S});var w=Object(o.b)("Opens the public URL dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;n&&e(Object(s.e)({element:a.a.createElement(I,{fileId:n})}))});w.propTypes={fileId:i.b.string.isRequired};var S=Object(o.b)("Make the api call to create a public URL and open the dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;return e(Object(c.c)({fileId:n})).then(function(){e(w({fileId:n}))})});S.propTypes={fileId:i.b.string.isRequired}},EHyS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("rWF5");function a(e){return!!e&&(Object(r.p)()?!!e.metaKey:!!e.ctrlKey)}},EKWK:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var r=n("9oTK"),a=n("4ULK"),i=n("lhpG");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.userId;return Object(a.a)(t).finally(function(){return Object(i.b)({teamId:t,userId:n})})}var s,c=(s=Object(r.method)(function(e){if(!Array.isArray(e))throw new Error("teamIds in clearAllPersistedDataExceptForTeamIds must be an array");return Object(a.b)(e).finally(function(){return Object(i.a)(e)})}),function(e){return s.apply(this,arguments)})},EOha:function(e,t,n){},EOxd:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("CpTu"),b=n("zmn3"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("tn36"),_=(n("aK/h"),n("nNoG")),O=n("x4bP"),y=n("V/As"),j=n("Fdc0"),k=n("HHn2"),E=n("aW/o"),C=n("DtX9"),I=n("i1Fx"),w=n("HO/Y"),S=n("D4L/"),T=n("1VpL"),R=n("XLFM"),N=n("od5y"),x=n("m36V"),M=n("VwYs"),P=n("VBRD"),A=n("1YQg"),D=n("+rBa"),L=n("7Ztl"),q=n("2Inn"),F=n("82mD"),B=n("j/30"),U=n("xknn"),H=new _.b("modern_call_object");function K(e){var t=e.call,n=t.name,r=t.dateStart,a=t.dateEnd,i=t.isDmCall,o=e.isCreator,s=e.isParticipant,c=e.participantCount,l=e.wasMissed,u=e.wasRejected,d=e.now;if(n)return n;if(!a&&r>d)return H.t("Scheduled Call");if(i){if(!a&&o&&c<2)return H.t("Calling...");if(!a&&!s)return H.t("Calling You...");if(!a&&2===c)return H.t("Call Started");if(a&&l&&u)return H.t("Call Declined");if(a&&l)return H.t("Missed Call")}return a?H.t("Call Ended"):a?void 0:H.t("Call Started")}function G(e){var t=e.call,n=t.dateStart,r=t.dateEnd,a=t.isDmCall,i=e.isCreator,o=e.wasMissed,s=e.wasRejected,c=e.now,l=e.onAnotherDeviceOnly,u=e.dmCallName;if(!r&&l)return H.t("You are on this call on another device");var d=r?Object(F.r)(r-n):Object(F.r)(c-n);if(a){if(s)return i?H.t("{name} declined this call",{name:u}):H.t("You declined this call");if(o)return i?H.t("{name} missed this call",{name:u}):H.t("You missed this call")}if(!r){if(n>c){var b=Object(B.a)(n,{shortenMonth:!0,excludeYear:!0}),p=Object(F.p)(n),h=Object(U.a)(n,{shortenDay:!0});return H.t("Starting on {day}, {date} at {time}",{day:h,date:b,time:p})}return d.w?H.t("Started {weeks} weeks ago",{weeks:d.w}):d.d?H.t("Started {days} days ago",{days:d.d}):d.h?d.m?H.t("Started {hours, plural, =1 {# hour} other {# hours}} and {minutes, plural, =1 {# minute} other {# minutes}} ago",{hours:d.h,minutes:d.m}):H.t("Started {hours, plural, =1 {# hour} other {# hours}} ago",{hours:d.h}):d.m?H.t("Started {minutes, plural, =1 {# minute} other {# minutes}} ago",{minutes:d.m}):H.t("Started a few seconds ago")}var m=Object(F.p)(r);return d.w&&d.w>0?H.t("Ended at {endTime} - Lasted {weeks, plural, =1 {# week} other {# weeks}}",{endTime:m,weeks:d.w}):d.d&&d.d>0?H.t("Ended at {endTime} - Lasted {days, plural, =1 {# day} other {# days}}",{endTime:m,days:d.d}):d.h&&d.h>0?d.m?H.t("Ended at {endTime} - Lasted {hours, plural, =1 {# hour} other {# hours}} and {minutes, plural, =1 {# minute} other {# minutes}}",{endTime:m,hours:d.h,minutes:d.m}):H.t("Ended at {endTime} - Lasted {hours, plural, =1 {# hour} other {# hours}}",{endTime:m,hours:d.h}):d.m&&d.m>0?H.t("Ended at {endTime} - Lasted {minutes, plural, =1 {# minute} other {# minutes}}",{endTime:m,minutes:d.m}):H.t("Ended at {endTime} - Lasted a few seconds",{endTime:m})}function V(e){var t=e.call,n=t.dateEnd,r=t.isDmCall,a=e.isCreator,i=e.wasMissed,o=e.wasRejected,s=e.isParticipant,c=e.participantCount,l=e.dmCallName,u=H.t("{participantCount, plural, =1 {# person} other {# people}} joined",{participantCount:c});if(!n&&!r&&0===c)return H.t("Waiting for people to join");if(n&&!r)return u;if(!n&&a&&r&&c<2){if(l)return H.t("Waiting for {dmCallName} to join",{dmCallName:l});if(!s)return H.t("Waiting for the other person to join")}return!n&&!a&&c<2&&r?H.t("Waiting for you to join"):n&&r&&!i&&!o?2===c?H.t("You both joined"):u:void 0}function z(e){var t=e.call,n=t.dateEnd,r=t.isDmCall,a=t.joinUrl,i=e.isCreator,o=e.wasMissed,s=e.wasRejected,c=e.isParticipant,l=e.onAnotherDeviceOnly,u=e.isIncoming,d=o||s;return r&&n&&d&&i?H.t("Call Again"):r&&n&&d?H.t("Call Back"):n||l||u||a||!c?n?void 0:H.t("Join"):H.t("Show Call")}var Y=n("hCvz"),W=n("Yzeu"),Q=n("fp5s"),X=n("yIs4"),Z=n("fujP"),J=n("zZZw"),$=n("3dqR"),ee=n("RAhH"),te=(n("QO+4"),36),ne=8;var re=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={maxNumFacesOverride:0,overflowDisplayValue:0},n}return u()(t,e),o()(t,[{key:"getOverflowTooltipContent",value:function(){var e=this.props.participants,t=this.state.maxNumFacesOverride;return Object(J.a)(e.slice(t-1).map(function(e){return e.displayName}),{conj:"and"})}},{key:"renderAvatar",value:function(e,t){var n=t?this.getOverflowTooltipContent():e.displayName;return e.slackId?h.a.createElement(ee.c,{tip:n,key:e.slackId},h.a.createElement("span",{className:"p-call_facepile__face"},h.a.createElement($.b,{additionalOverlay:t,ariaHidden:"true",tabIndex:"-1",userId:e.slackId,size:te}))):h.a.createElement(ee.c,{tip:n,key:Object(Q.a)("unknown-")},h.a.createElement("span",{className:"p-call_facepile__face"},h.a.createElement($.b,{additionalOverlay:t,ariaHidden:"true",tabIndex:"-1",size:te})))}},{key:"renderAvatars",value:function(){var e=this,t=this.props.participants,n=this.state,r=n.maxNumFacesOverride,a=n.overflowDisplayValue,i=t.slice(0,r-1).map(function(t){return e.renderAvatar(t,0)});return t.length>=r&&i.push(this.renderAvatar(t[r-1],a)),i}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.participants,r=e.callEnded,a=this.state.maxNumFacesOverride;if(Object(Z.a)(n))return null;if(Object(X.a)(a)&&a<=0)return null;var i=this.renderAvatars();return h.a.createElement("div",{className:v()("p-call_facepile",t,{"p-call_facepile--call_ended":r})},i)}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.width,n=e.maxNumFaces,r=e.participants.length,a=function(e,t,n){var r=te+ne;return e<t*r&&!(n*r-ne<=e)?Math.floor(e/r):t}(t,n,r);return{maxNumFacesOverride:a,overflowDisplayValue:r<=a?0:r-a}}}]),t}(p.Component);re.displayName="Facepile",re.defaultProps={maxNumFaces:5};var ae=re,ie=(n("Fai7"),new _.b("modern_call_object"));var oe=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hackyCallLink=h.a.createRef(),Object(g.a)(n,["onPrimaryButtonClick","onDeclineButtonClick","onRetryButtonClick"]),n}return u()(t,e),o()(t,[{key:"onPrimaryButtonClick",value:function(){var e=this.props,t=e.startOrJoinCall,n=e.callId,r=e.externalCallUrl,a=e.launchGantryCall;r?window.open(r,"_blank"):a?t({callId:n}):Object(I.b)(this.hackyCallLink.current)}},{key:"onDeclineButtonClick",value:function(){var e=this.props,t=e.declineInvite,n=e.declinePartnerCall,r=e.callId,a=e.app,i=e.currentChannelId;a&&i?n({id:r,app:a,channelId:i}):t({id:r,response:A.c.Reject})}},{key:"onRetryButtonClick",value:function(){var e=this.props,t=e.startOrJoinCall,n=e.externalCallUrl,r=e.launchGantryCall,a=e.currentChannelId;r&&!n&&t({channelId:a})}},{key:"renderHackyCallLink",value:function(){var e=this.props.url;return h.a.createElement("a",{className:"hidden p-call_subtype__hacky_call_link",href:e,ref:this.hackyCallLink,"aria-hidden":"true"})}},{key:"renderCallIcon",value:function(){var e=this.props,t=e.dateEnd,n=e.app,r=e.defaultAppIcon,a=e.isDmCall,i=e.wasMissed,o=e.wasRejected,s=n&&n.icons;if(s){var c=Object(y.a)({icons:s},36,r);return h.a.createElement("div",{className:v()("p-call_subtype__icon",{"p-call_subtype__icon--ended":!!t})},h.a.createElement("img",{alt:n.profile&&n.profile.name,src:c,className:v()("p-call_subtype__img")}))}var l="phone";return t&&(l="phone-flat"),a&&(i&&(l="call-missed"),o&&(l="call-declined")),h.a.createElement("div",{className:v()("p-call_subtype__icon",{"p-call_subtype__icon--ended":!!t})},h.a.createElement(N.b,{type:l}))}},{key:"renderSecondaryButtonMaybe",value:function(){var e=this.props,t=e.dateEnd,n=e.isParticipant,r=e.isDmCall,a=e.isCreator,i=e.launchGantryCall;if(r&&!n&&!t&&!a&&i)return h.a.createElement("div",{className:"p-call_subtype__action_button--secondary"},h.a.createElement(R.d,{type:"danger",onClick:this.onDeclineButtonClick},ie.t("Decline")))}},{key:"renderPrimaryButton",value:function(){var e=this.props,t=e.activeCallWindowExists,n=e.dateEnd,r=e.externalCallUrl,a=e.isDmCall,i=e.textObject,o=e.wasMissed,s=e.wasRejected;if((!a||!o&&!s||!r)&&i&&i.button){var c=i.button,l="outline";return n||!r&&t||(l="primary"),a&&(o||s)?h.a.createElement("div",{className:"p-call_subtype__action_button"},h.a.createElement(R.d,{type:l,onClick:this.onRetryButtonClick},c)):h.a.createElement("div",{className:"p-call_subtype__action_button"},h.a.createElement(R.d,{type:l,onClick:this.onPrimaryButtonClick},c))}}},{key:"renderCallHeader",value:function(){var e=this.props.textObject;if(!e)return h.a.createElement("div",{className:"p-call_subtype__header"},h.a.createElement(Y.b,{size:Y.a.LARGE}));var t=e.title,n=e.status;return h.a.createElement("div",{className:"p-call_subtype__header"},this.renderCallIcon(),h.a.createElement("div",{className:"p-call_subtype__header_text"},h.a.createElement("span",{className:"p-call_subtype__title"},t),h.a.createElement("span",{className:"p-call_subtype__status"},n)))}},{key:"renderCallBodyMaybe",value:function(){var e=this.props.meetingDisplayId;return e?h.a.createElement("div",{className:"p-call_subtype__body"},h.a.createElement("span",{className:"p-call_subtype__description"},ie.t("Meeting ID: {meetingDisplayId}",{meetingDisplayId:e}))):null}},{key:"renderCallFooter",value:function(){var e=this,t=this.props,n=t.dateEnd,r=t.externalCallUrl,a=t.hideFacepile,i=t.isDmCall,o=t.textObject,s=t.wasMissed,c=t.wasRejected;if(i&&(s||c)&&r&&a)return null;if(!o)return h.a.createElement("div",{className:"p-call_subtype__footer"},h.a.createElement(Y.b,{size:Y.a.LARGE}));var l=o.description;return a?h.a.createElement("div",{className:"p-call_subtype__footer"},h.a.createElement("span",{className:"p-call_subtype__description"},l),this.renderSecondaryButtonMaybe(),this.renderPrimaryButton()):h.a.createElement("div",{className:"p-call_subtype__footer"},h.a.createElement(P.a,null,function(t){var r=t.measureRef,a=t.width;return h.a.createElement("span",{className:"p-call_subtype__facepile",ref:r},h.a.createElement(ae,{participants:e.props.participants,maxNumFaces:5,callEnded:!!n,width:a}))}),h.a.createElement("span",{className:"p-call_subtype__description"},l),this.renderPrimaryButton())}},{key:"render",value:function(){var e=this.props,t=e.callId,n=e.msgTs,r=e.blockId,a=n||r||"",i=Object(k.a)("call",a,{id:t}),o=ie.t("Call");return h.a.createElement("div",{className:"c-message__call",role:"presentation"},h.a.createElement("div",{className:"c-message__body c-message__body--automated"},o,h.a.createElement(x.a,{expandableKey:i,useAttachmentRules:!1}),h.a.createElement(M.a,{expandableKey:i,useAttachmentRules:!1},h.a.createElement("div",{className:"p-call_subtype"},this.renderCallHeader(),this.renderCallBodyMaybe(),this.renderCallFooter(),this.renderHackyCallLink()))))}}]),t}(p.PureComponent);oe.displayName="PlatformCallSubtype";t.a=Object(m.b)(function(e,t){var n=Object(W.e)(e),r=t.callId,a=Object(w.j)(e,"feature_platform_calls_api"),i=Object(L.b)(e,r),o=Object(w.b)(e);if(!i)return{launchGantryCall:n,featurePlatformCallsApi:a,currentMemberId:o};var s=function(e,t){return Object(b.a)(t,function(t){if(Object(A.e)(t)){var n=t.slackId;return{slackId:n,displayName:Object(j.P)(e,Object(C.c)(e,n))}}return{displayName:t.displayName}})}(e,Object(L.d)(i)||[]),c=!!Object(d.a)(s,function(e){return e.slackId===o}),l=Object(L.e)(e,t.callId),u=o===i.createdBy,p=i.isDmCall,h=Object(E.a)(e),m=s.length,f=i.callObjectInviteResponse===A.c.Missed,v=i.callObjectInviteResponse===A.c.Reject,g=i.dateEnd,_=!!Object(L.g)(),y=c&&!_&&!i.joinUrl,k=function(e){var t=e.call,n=e.participantCount,r=e.isParticipant,a=e.currentMemberId,i=e.dmCallName,o=e.featurePlatformCallsApi,s=e.onAnotherDeviceOnly;if(o){var c={call:t,isParticipant:r,participantCount:n,isCreator:a===t.createdBy,onAnotherDeviceOnly:s,dmCallName:i,wasMissed:t.callObjectInviteResponse===A.c.Missed,wasRejected:t.callObjectInviteResponse===A.c.Reject,isIncoming:!!t.incomingInvite,now:Date.now()/1e3};return{title:K(c),button:z(c),status:G(c),description:V(c)}}}({call:i,participantCount:m,isParticipant:c,currentMemberId:o,dmCallName:l,featurePlatformCallsApi:a,onAnotherDeviceOnly:y}),I=0===m;p&&1===m&&!u&&(I=!0);var R=i.appId&&"A00"!==i.appId&&Object(T.e)(e,i.appId),N=Object(T.f)(e),x=Object(O.a)()?"/calls/"+Object(S.d)(e).id+"/"+i.id:"/call/"+i.id;return{activeCallWindowExists:_,app:R,call:i,customCallName:i.name,currentMemberId:o,dateEnd:g,dateStart:i.dateStart,defaultAppIcon:N,dmCallName:l,featurePlatformCallsApi:a,hideFacepile:I,isCreator:u,isDmCall:p,launchGantryCall:n,currentChannelId:h,isParticipant:c,meetingDisplayId:i.displayId,participants:s,textObject:k,url:x,wasMissed:f,wasRejected:v,externalCallUrl:i.joinUrl}},function(e){return{startOrJoinCall:function(t){return e(Object(q.e)(t))},declineInvite:function(t){return e(Object(D.b)(t))},declinePartnerCall:function(t){return e(Object(D.c)(t))}}})(oe)},ERGU:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.ui.channel_browser.start",r.a),o=Object(a.b)("TS.ui.channel_browser.highlightPendingInvitationsOnNextOpen",r.a),s=Object(a.b)("TS.ui.channel_browser.openConnectedWorkspacesModal",r.a)},ESFG:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s});var r=n("ROZo"),a=(Object(r.b)("TS.replies.promiseToGetSubscriptionState",function(){return Promise.resolve()}),Object(r.b)("TS.replies.setSubscriptionState")),i=Object(r.b)("TS.replies.getSubscriptionState"),o=(Object(r.b)("TS.replies.canReplyToMsg"),Object(r.b)("TS.replies.requestOfflineThread")),s=Object(r.b)("TS.replies.dispatchThreadSyncedSig")},ESRc:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("AfrZ"),c=n("VjHM"),l=n("kOzZ"),u=n("negh"),d=Object(o.b)("Dismiss suggested App item in sidebar",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,i=n.appId,o=Object(c.d)(t());if(!0!==o[r]){var d=t();Object(l.a)({state:d}).track(u.k.APP_SIDEBAR,{contexts:{ui_context:{action:u.v.DECLINE},core:{app_id:i}}}),e(Object(s.f)({pref:"dismissed_installed_app_dm_suggestions",value:[].concat(a()(Object.keys(o)),[r]).join(",")}))}});d.propTypes={memberId:i.b.string.isRequired,appId:i.b.string.isRequired},t.a=d},Ecd5:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("zmn3"),a=n("aK/h"),i=n("EzZj"),o=n("Uj4I"),s=Object(i.b)("Set whether the Prefs modal should animate when opened");s.propTypes=a.b.bool.isRequired;var c=Object(i.b)("Set the last active section in the Prefs modal");c.propTypes=a.b.oneOf(Object(r.a)(o.a,"id")).isRequired},EetU:function(e,t,n){"use strict";var r=n("WeBd");n.d(t,"a",function(){return r.a}),t.b=r.b},Ehcm:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.stars.updateMsgStar",r.a),o=Object(a.b)("TS.stars.updateFileStar",r.a),s=Object(a.b)("TS.stars.updateFileCommentStar",r.a),c=Object(a.b)("TS.stars.updateChannelStar",r.a);Object(a.b)("TS.stars.toggleStar",r.a)},Ejsr:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h});var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("yIs4"),c=10;function l(e,t){if(!t||!t.viewId||!t.teamId)throw new TypeError("Pushed item needs to have a viewId and teamId");if(!b(e))return{stack:[t],index:0};var n=d(e);return n.viewId===t.viewId&&n.teamId===t.teamId?e:{stack:[].concat(o()(e.stack.slice(Math.max(0,e.index-(c-2)),e.index+1)),[t]),index:Math.min(c-1,e.index+1)}}function u(e,t){return b(e)?!Object(s.a)(t)||t<0||t>=e.stack.length?e:t===e.index?e:{stack:e.stack,index:t}:{stack:[],index:0}}function d(e){return b(e)?e.stack[e.index]:null}function b(e){return!!(e&&e.stack&&e.stack.length)&&!(e.index<0||e.index>=e.stack.length)}function p(e){return b(e)?e.stack.map(function(e,t){return a()({},e,{index:t})}).slice(0,e.index):null}function h(e){return b(e)?e.stack.map(function(e,t){return a()({},e,{index:t})}).slice(e.index+1):null}},EmK0:function(e,t,n){},Era6:function(e,t,n){},EsAD:function(e,t,n){"use strict";var r=n("ifKl"),a=n("kxpR"),i=n.n(a),o=n("aK/h"),s=n("XHGt"),c=n("nNoG"),l=n("7nxQ"),u=n("HO/Y"),d=n("c8iJ"),b=n("AgpX"),p=(n("cHUH"),new c.b("shared_channels")),h=(o.b.bool.isRequired,o.b.func,{onHelpClick:r.a});function m(e){var t=e.featureSonicEscCreation,n=e.onHelpClick;return t?i.a.createElement("div",{className:"p-shared_channels_helpful_footer_content"},i.a.createElement(d.a,{type:"book",className:"p-shared_channels_helpful_footer_content__icon"}),i.a.createElement("div",{className:"p-shared_channels_helpful_footer_content__text"},p.t("Want to learn more about shared channels?"),i.a.createElement("br",null),p.rt("Head over to the <a>Slack Help Center</a>.",{},function(e){var t=e.text;return i.a.createElement(b.a,{"data-qa":"shared_channel_help_center_link",onClick:n,href:"https://get.slack.help/hc/"+Object(l.a)()+"/articles/115004151183"},t)}))):null}m.displayName="HelpfulFooterContent",m.defaultProps=h;t.a=Object(s.b)(function(e){return{featureSonicEscCreation:Object(u.j)(e,"feature_sonic_esc_creation")}})(m)},EsOt:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("m1cH"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("V7oC"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("Muja"),g=n("qMRW"),_=n("GxtX"),O=n("TGBA"),y=n("ifKl"),j=n("+Xah"),k=n("kxpR"),E=n.n(k),C=n("tn36"),I=n("TSYQ"),w=n.n(I),S=n("aK/h"),T=n("yPgC"),R=n("YEIV"),N=n.n(R),x=n("aLpA"),M=n("nNoG"),P=(n("BSPi"),new M.b("block_kit")),A=function(){return E.a.createElement("div",{"data-qa":"bk_block_error",className:"p-block_kit_unknown_block_error"},E.a.createElement("small",{className:"p-block_kit_error_message"},P.t("This content could not be displayed.")))};A.displayName="UnknownBlockError";var D=A,L=n("p+j0"),q=n("XHGt"),F=n("oDBd"),B=n("DTT0"),U=(S.b.node.isRequired,S.b.shape({title:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),text:S.b.shape({type:S.b.oneOf([x.e.plain_text,x.e.mrkdwn]),text:S.b.string}),confirm:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),deny:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string})}).isRequired,S.b.func.isRequired,S.b.func,S.b.func,{blockKitClogger:void 0,onActionWrapperWithConfirm:y.a}),H=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showConfirmDialog=n.showConfirmDialog.bind(n),n}return f()(t,e),h()(t,[{key:"showConfirmDialog",value:function(e){var t=e.onGo,n=this.props,r=n.blockKitClogger,a=n.confirm,i=a.title,o=a.text,s=a.confirm,c=a.deny,l=a.type,u=function(e){return r&&r(e,{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:l}}})},d={dismissText:c&&c.text,isMrkdwnText:o&&o.type===x.e.mrkdwn,okText:s&&s.text,onGo:function(){u("BLOCK_KIT_CONFIRM_SUBMIT"),t()},onCancel:function(){u("BLOCK_KIT_CONFIRM_CANCEL")},text:o&&o.text,title:i&&i.text};u("BLOCK_KIT_CONFIRM_SHOW"),this.props.openModal({element:E.a.createElement(F.a,d)})}},{key:"render",value:function(){return Object(k.cloneElement)(k.Children.only(this.props.children),{showConfirmDialog:this.showConfirmDialog,onAction:this.props.onActionWrapperWithConfirm})}}]),t}(k.PureComponent);H.displayName="WithConfirmDialog",H.defaultProps=U;var K=Object(q.b)(null,function(e){return{openModal:function(t){return e(Object(B.e)(t))}}})(H),G=n("HHn2"),V=n("9HJ0"),z=n("HO/Y"),Y=n("ynxK"),W=new M.b("attachments"),Q=(S.b.string.isRequired,S.b.node.isRequired,S.b.func.isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool,S.b.bool,S.b.func,{isExpanded:!1,featureAttachmentsV2:!1,blockKitClogger:y.a}),X=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onMrkdwnRender=n.onMrkdwnRender.bind(n),n.state={isExpandableStateKnown:!1},n}return f()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.text!==e.text&&this.setState(function(){return{isExpandableStateKnown:!1}})}},{key:"onClick",value:function(e){var t=this.props,n=t.isExpanded,r=t.expandKey,a=t.blockKitClogger,i=t.type;e.preventDefault(),e.target.blur(),a(n?"BLOCK_KIT_TRUNCATION_CLOSE":"BLOCK_KIT_TRUNCATION_OPEN",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:i}}}),this.props.setExpanded({isExpanded:!n,key:r})}},{key:"onMrkdwnRender",value:function(e){var t=e.isTruncated;this.state.isExpandableStateKnown||this.setState(function(){return{isExpandableStateKnown:!0,isExpandable:t}})}},{key:"renderButtonMaybe",value:function(){var e=this.props,t=e.isExpanded,n=e.featureAttachmentsV2;if(!this.state.isExpandable)return null;var r=void 0,a=void 0,i=void 0;return t?(r=n?W.rt("See less"):null,a="div"):(r=n?W.rt("See more"):null,a="span",i=" "),E.a.createElement(a,null,i,E.a.createElement(Y.a,{"data-qa":"block_kit_text_truncation",className:"c-message_attachment__text_expander","aria-expanded":t,onClick:this.onClick},r))}},{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.children,r=void 0,a=void 0;return this.state.isExpandableStateKnown&&t||(r=300,a=5),E.a.createElement("span",{className:"c-message_attachment__text"},Object(k.cloneElement)(k.Children.only(n),{onRender:this.onMrkdwnRender,maxNewlines:a,maxCharacters:r}),this.renderButtonMaybe())}}]),t}(k.PureComponent);X.displayName="WithTextTruncation",X.defaultProps=Q;var Z={setExpanded:V.e},J=Object(q.b)(function(e,t){var n=t.containerId,r=t.blockId,a=Object(G.a)("blockText",n,{blockId:r});return{isExpanded:Object(V.d)(e,a),expandKey:a,featureAttachmentsV2:Object(z.j)(e,"feature_attachments_v2")}},Z)(X),$=n("XLFM"),ee=n("cErB"),te=n("MnCE"),ne=n("lek6"),re=(n("RkHB"),S.b.string.isRequired,S.b.bool.isRequired,S.b.string,S.b.number,S.b.number,S.b.func,S.b.bool,S.b.string,S.b.bool,S.b.bool,{parent:void 0,maxNewlines:void 0,maxCharacters:void 0,onRender:y.a,noJumbomoji:!1,className:"",showTooltips:!0,noLinking:!1}),ae=function(e){var t=e.text,n=e.parent,r=e.emoji,a=e.maxNewlines,i=e.maxCharacters,o=e.onRender,s=e.noJumbomoji,c=e.className,l=e.showTooltips,u=e.noLinking,d=w()("p-plain_text_element",c,{"p-context_block__text":n===x.d.context,"p-image_block__title":n===x.d.image});return E.a.createElement("div",{className:d,"data-qa":"bk-plain_text_element"},E.a.createElement(ne.a,{tsfMode:r?"NOMRKDWN":"EDIT",text:t,onRender:o,maxCharacters:i,maxNewlines:a,noJumbomoji:s,showTooltips:l,noLinking:u}))};ae.displayName="PlainText",ae.defaultProps=re;var ie=Object(te.a)(ae),oe=ie,se=n("rMey"),ce=n("6kok"),le=n("clTI"),ue=n("aW/o"),de=n("6Iy0"),be=n("RAhH"),pe=new M.b("block_kit"),he=5;var me=function(e){var t=function(t){function n(e){u()(this,n);var t=b()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Object(C.a)(t,["renderInTooltipMaybe"]),t}return f()(n,t),h()(n,[{key:"renderInTooltipMaybe",value:function(e){return this.props.isPreviewing?E.a.createElement(be.c,{tip:this.props.toolTipText,offset:he},E.a.createElement("span",{className:"inline_block"},e)):e}},{key:"render",value:function(){return this.renderInTooltipMaybe(E.a.createElement(e,this.props))}}]),n}(k.PureComponent);return t.displayName="DisabledTooltip",t.defaultProps={isPreviewing:!1,toolTipText:null,isDisabled:!1},Object(q.b)(function(e,t){var n=t.isDisabled,r=t.blocksContainerContext,a=Object(ue.a)(e),i=Object(le.d)(e,a)||void 0,o=Object(ce.yb)(i)&&!Object(ce.kb)(i),s=pe.t("Join the channel to interact with this message",{ns:"attachment_actions"});return s=o?pe.t("Join the channel to interact with this message"):pe.t("View this message in channel to interact with it"),{isDisabled:o||n,isPreviewing:o||r===de.a.search,toolTipText:s}})(t)},fe=(n("W00J"),S.b.shape({type:S.b.oneOf([x.e.plain_text]).isRequired,text:S.b.string.isRequired}).isRequired,S.b.string.isRequired,S.b.string,S.b.string,S.b.string.isRequired,S.b.func,S.b.bool.isRequired,S.b.string,S.b.func,S.b.string,S.b.bool,S.b.func.isRequired,{onAction:y.a,url:void 0,value:void 0,parent:void 0,showConfirmDialog:void 0,style:void 0,featureBlockKitDeepLinks:!0}),ve={primary:"outline-primary",danger:"outline-danger"},ge=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleClickOrConfirmDialogGo=n.handleClickOrConfirmDialogGo.bind(n),n}return f()(t,e),h()(t,[{key:"onActionWrapper",value:function(){var e=this.props,t=e.actionId,n=e.blockId;(0,e.onAction)({actionId:t,blockId:n,text:e.text,value:e.value,style:e.style,type:"button"})}},{key:"handleClickOrConfirmDialogGo",value:function(){var e=this.props,t=e.url,n=e.dispatchHandleDeepLink;this.onActionWrapper(),t&&Object(ee.p)(t)&&(!this.props.featureBlockKitDeepLinks&&t.startsWith("slack://")?n(t):window.open(t,"_blank"))}},{key:"handleClick",value:function(){var e=this.props.showConfirmDialog;e?e({onGo:this.handleClickOrConfirmDialogGo}):this.handleClickOrConfirmDialogGo()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isDisabled,r=e.parent,i=e.style;return E.a.createElement($.d,{className:"p-block_kit_button_element",type:ve[i]||"outline",size:"small",onClick:this.handleClick,disabled:n},E.a.createElement(oe,a()({"data-qa":"bk_button_mrkdwn"},t,{parent:r,maxCharacters:30,noJumbomoji:!0})))}}]),t}(k.PureComponent);ge.displayName="ButtonElement";ge.defaultProps=fe;var _e=Object(q.b)(function(e){return{featureBlockKitDeepLinks:Object(z.j)(e,"feature_block_kit_deep_links")}},function(e){return{dispatchHandleDeepLink:function(t){return e(Object(se.a)(t))}}})(me(ge)),Oe=n("7EGn"),ye=n("l+8s"),je=n("JS8a"),ke=n("BWAg"),Ee=n("od5y"),Ce=(n("tV/K"),S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.arrayOf(S.b.shape({text:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string,emoji:S.b.bool}),description:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),value:S.b.string,url:S.b.string})).isRequired,S.b.func,S.b.func,{onAction:y.a,showConfirmDialog:void 0}),Ie=4,we=function(e){var t=e.onAction,n=e.options,r=e.blockId,i=e.isDisabled,o=e.actionId,s=e.showConfirmDialog,c=function(e){var n=e.optionText,a=e.optionValue,i=e.optionUrl;t({type:"overflow",actionId:o,blockId:r,selectedOption:{text:n,value:a}}),i&&Object(ee.p)(i)&&window.open(i,"_blank")},l=function(e){return function(){s?s({onGo:function(){return c(e)}}):c(e)}},u=n.map(function(e){return a()({},e,{text:e.text&&e.text.text,description:e.description&&e.description.text,originalOptionShape:e})});return E.a.createElement(ye.a,{position:"bottom-left",offsetY:Ie,renderMenu:function(e){return E.a.createElement(je.a,a()({width:250},e),u.map(function(e){return E.a.createElement(ke.a,{key:"option-menu-item-"+e.value+"-"+e.url,label:E.a.createElement(oe,{text:Object(Oe.a)(e,"originalOptionShape.text.text"),emoji:Object(Oe.a)(e,"originalOptionShape.text.emoji"),showTooltips:!1,noJumbomoji:!0}),disabled:i,onSelected:l({optionText:e.originalOptionShape.text,optionDescription:e.originalOptionShape.description,optionValue:e.value,optionUrl:e.url})})}))}},E.a.createElement($.d,{className:"p-block_kit_overflow_element__button",type:"outline",size:"small",disabled:i},E.a.createElement(Ee.b,{type:"ellipsis"})))};we.displayName="OverflowElement",we.defaultProps=Ce;var Se=me(we),Te={narrow:120,wide:190,full:"100%"},Re={small:"small",medium:"medium",large:"large"},Ne=n("WD4z"),xe=(S.b.string,{errorMessage:void 0}),Me=function(e){var t=e.errorMessage;return E.a.createElement(Ne.a,{type:"nested_box",level:"error",icon:"warning"},E.a.createElement("span",null,t))};Me.displayName="ElementValidationError",Me.defaultProps=xe;var Pe=Me,Ae=n("nlS/"),De=n("ZYn4"),Le=n("WTjW"),qe=n("Owxj"),Fe=n("uf9I"),Be=n("fujP"),Ue=n("vOh4"),He=n("9MBZ"),Ke=function(e){var t=function(t){function n(e){u()(this,n);var t=b()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleAction=t.handleAction.bind(t),t}return f()(n,t),h()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.parent,n=e.setViewState,r=e.blockId,a=e.actionId,i=e.type,o=e.serverErrors,s=e.viewState;if(t===x.d.input){var c=Object(Oe.a)(s,"values."+r+"."+a)||Object(Ue.k)(this.props),l=o[r]||Object(Ue.j)(c,this.props);n({elementState:Object(Ue.g)(i,r,a,c),elementError:Object(Ue.f)(r,l)})}}},{key:"handleAction",value:function(e){var t=e.elementState,n=e.elementError;this.props.setViewState({elementState:t,elementError:n}),this.props.onAction(e)}},{key:"render",value:function(){var t=this.props,n=t.blockId,r=t.actionId,i=this.props,s=i.showErrors,c=i.serverErrors,l=i.viewState,u=i.viewId,d=o()(i,["showErrors","serverErrors","viewState","viewId"]);return E.a.createElement(e,a()({},d,{onAction:this.handleAction,isInView:!Object(Be.a)(u),showError:s,serverError:Object(Oe.a)(c,""+n),savedState:Object(Oe.a)(l,"values."+n+"."+r)}))}}]),n}(k.PureComponent);return t.displayName="AppViewElement",t.defaultProps={setViewState:y.a,unsetViewState:y.a,parent:S.b.string,serverErrors:void 0,showErrors:!1,viewId:void 0,viewState:void 0,onAction:y.a},E.a.forwardRef(function(e,n){return E.a.createElement(He.a.Consumer,null,function(r){var i=r.viewId,o=r.viewState,s=r.serverErrors,c=r.showErrors,l=r.setViewState,u=r.unsetViewState;return E.a.createElement(t,a()({forwardedRef:n},e,{viewId:i,viewState:o,serverErrors:s,showErrors:c,setViewState:l,unsetViewState:u}))})})},Ge=n("blls"),Ve=(n("nt4u"),S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string})),ze=S.b.arrayOf(S.b.shape({description:S.b.string,label:S.b.string,originalOption:S.b.shape({isPlaceholder:S.b.bool,description:Ve,text:Ve,value:S.b.string}),value:S.b.string,isPlaceholder:S.b.bool})),Ye=(S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.func,S.b.arrayOf(S.b.shape({label:S.b.string,options:ze})),S.b.string,S.b.number,S.b.array,S.b.func,S.b.func,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.string,{onAction:y.a,optionsFetcher:y.a,optionGroups:void 0,options:void 0,placeholder:void 0,minQueryLength:void 0,selectedOptions:void 0,showConfirmDialog:void 0,className:"",blockKitClogger:y.a,size:Re.small,errorText:void 0}),We=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(C.a)(n,["handleChange","handleBlur","handleFocus"]),n}return f()(t,e),h()(t,[{key:"dispatchActionAndUpdateValue",value:function(e){this.props.onAction({selected:e})}},{key:"handleChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).setTouched,r=void 0===n||n,a=this.props.showConfirmDialog;r&&(a?a({onGo:function(){t.dispatchActionAndUpdateValue(e)}}):this.dispatchActionAndUpdateValue(e))}},{key:"handleBlur",value:function(){return Object(y.a)()}},{key:"handleFocus",value:function(){return Object(y.a)()}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.optionGroups,r=e.isDisabled,a=e.dataSource,i=e.placeholder,o=e.minQueryLength,s=e.optionsFetcher,c=e.selectedOptions,l=e.elementWidth,u=e.type,d=e.blockKitClogger,b=e.className,p=e.size,h=e.errorText,m=w()("p-block_kit_select_element",b,{"p-block_kit_select_element--narrow":l===Te.narrow,"p-block_kit_select_element--wide":l===Te.wide,"p-block_kit_select_element--full":l===Te.full});return E.a.createElement(Ge.a,{className:m,options:t,optionGroups:n,dataSource:a,minQueryLength:o,optionsFetcher:s,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:i,size:p,isDisabled:r,selectedOptions:c,optionsListOffsetBottom:200,logSelectElementMenuOpen:function(){return d("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:u}}})},usePlaceholderOption:!1,errorText:h})}}]),t}(k.PureComponent);We.displayName="BaseSelectElement",We.defaultProps=Ye;var Qe=We,Xe=(S.b.oneOf([x.e.users_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.string,S.b.bool,S.b.object,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.func,S.b.func,S.b.bool,S.b.bool,S.b.func,{size:Re.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialUser:void 0,savedState:void 0,showConfirmDialog:void 0,blockKitClogger:y.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:j.a}),Ze={entities:{members:{includeSelf:!0}},allowEmptyQuery:!0},Je=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onAction=n.onAction.bind(n);var r=Object(Oe.a)(e,"savedState.selected_user")||e.initialUser;return n.state={selectedUser:r,error:e.serverError||Object(Ue.j)(r,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialUser!==e.initialUser,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedUser:t.props.initialUser}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedUser,t.props)}})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,i=r.actionId,o=r.onAction,s=r.initialUser,c=r.parent,l=r.featureAppViewsV1,u=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(c===x.d.input||u){var d={type:x.e.users_select,actionId:i,blockId:a,selectedUser:u},b=Object(Ue.g)(x.e.users_select,a,i,{selected_user:u}),p=Object(Ue.j)(u,this.props);s&&(d.initialUser=s),l&&(d.elementState=b,d.elementError=N()({},a,p)),o(d),this.setState(function(){return{selectedUser:u,error:p}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.isDisabled,r=e.isRequired,a=e.parent,i=e.size,o=e.showConfirmDialog,s=e.elementWidth,c=e.blockKitClogger,l=e.type,u=e.showError,d=e.featureBlockKitShouldUseSlackKitSelect,b=e.actionId,p=e.connectedReplaceTextEmojiWithNative,h=t&&t.text&&t.emoji?p(t.text):t&&t.text;if(d){var m=function(e){return E.a.createElement("span",null,E.a.createElement(De.a,{memberId:e.value,inheritIconSize:!0}),E.a.createElement(Le.a,{id:e.value}))},f=a===x.d.input&&!r;return E.a.createElement("div",null,E.a.createElement(Ae.c,{searcherOptions:Ze,selectId:b,ariaLabel:t&&t.text||"Select an option",renderOption:m,renderSelectedOption:m,size:i,width:s,onOptionSelected:this.onAction,selectedOption:this.state.selectedUser&&{value:this.state.selectedUser},isDisabled:n,isRequired:!f,isInvalid:!(!u||!this.state.error),placeholderText:h,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:o,minOptionsListWidth:300}),this.maybeRenderError())}return E.a.createElement(Qe,{type:l,dataSource:"users",onAction:this.onAction,placeholder:t&&Object(Ue.h)(t),isDisabled:n,size:i,errorText:u?this.state.error:null,selectedOptions:[{value:this.state.selectedUser}],showConfirmDialog:o,elementWidth:s,blockKitClogger:c})}}]),t}(k.PureComponent);Je.displayName="UsersSelectElement",Je.defaultProps=Xe;var $e=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(z.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}})(Ke(me(Je))),et=n("U3Q0"),tt=(S.b.func.isRequired,S.b.element.isRequired,S.b.string,{placeholderText:void 0}),nt=function(e){var t=e.submitAction,n=e.placeholderText,r=e.element,a={onGo:t,title:n||"Pick options"};return E.a.createElement(et.a,a,r)};nt.displayName="MultiSelectElementDialog",nt.defaultProps=tt;var rt=nt,at=(S.b.func.isRequired,S.b.string.isRequired,S.b.array,{selectedValues:void 0}),it=function(e){var t=e.openMultiSelectModal,n=e.formattedPlaceholder,r=e.selectedValues;return E.a.createElement($.d,{type:"outline",size:"small",onClick:t},E.a.createElement(oe,{text:r&&0!==r.length?r.length+" selected":n,maxCharacters:30,emoji:!0,noJumbomoji:!0}))};it.displayName="MultiSelectElementInput",it.defaultProps=at;var ot=it,st=n("20gP"),ct=(n("nuYo"),new M.b("block_kit")),lt=(S.b.oneOf([x.e.multi_users_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.func.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.array,S.b.bool,S.b.func,S.b.func.isRequired,S.b.bool,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialUsers:void 0,savedState:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:j.a,isInView:!1}),ut={entities:{members:{includeSelf:!0}},allowEmptyQuery:!0},dt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiUsersSelectElement"]);var r=e.savedState,a=e.initialUsers,i=e.serverError,o=e.placeholder,s=e.connectedReplaceTextEmojiWithNative,c=e.featureAppViewsV1;n.formattedPlaceholder=Object(Ue.m)({placeholder:o,emojiProcessor:s,fallback:c?ct.t("Choose users"):"Choose users"});var l=Object(Oe.a)(r,"selected_users")||a||[];return n.state={selectedUsers:l,error:i||Object(Ue.j)(l,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialUsers!==e.initialUsers,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedUsers:t.props.initialUsers}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedUsers,t.props)}})}},{key:"onAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map(function(e){return e.value});this.setState(function(){return{selectedUsers:n,error:Object(Ue.j)(t,e.props)}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialUsers,i=e.featureAppViewsV1,o={type:x.e.multi_users_select,actionId:n,blockId:t,selectedUsers:this.state.selectedUsers},s=Object(Ue.g)(x.e.multi_users_select,t,n,{selected_users:this.state.selectedUsers}),c=Object(Ue.j)(this.state.selectedUsers,this.props);a&&(o.initialUsers=a),i&&(o.elementState=s,o.elementError=N()({},t,c)),r(o)}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:E.a.createElement(rt,{element:this.renderMultiUsersSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiUsersSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,i=e.actionId,o=e.blockKitClogger,s=e.type,c=t===x.d.input&&!r;return E.a.createElement("div",{className:"multi_select_element_container"},E.a.createElement(st.a,{searcherOptions:ut,selectId:i,ariaLabel:this.formattedPlaceholder,size:Re.medium,width:Te.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedUsers,isDisabled:n,isRequired:!c,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return o("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:s}}})},renderOption:function(e){return E.a.createElement("span",null,E.a.createElement(De.a,{memberId:e.value,inheritIconSize:!0}),E.a.createElement(Le.a,{id:e.value}))}}))}},{key:"render",value:function(){return this.props.isInView?this.renderMultiUsersSelectElement():E.a.createElement(ot,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedUsers})}}]),t}(k.PureComponent);dt.displayName="MultiUsersSelect",dt.defaultProps=lt;var bt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(B.e)(t))}}})(Ke(me(dt))),pt=n("4Twu"),ht=n("+1yX"),mt=(S.b.oneOf([x.e.conversations_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.oneOf(Object(O.a)(Re)),S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.object,S.b.func,S.b.func,S.b.bool,S.b.bool,S.b.func,{isRequired:!1,parent:void 0,size:Re.small,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialConversation:void 0,savedState:void 0,showConfirmDialog:void 0,blockKitClogger:y.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:j.a}),ft={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!0},members:{includeSelf:!0}},allowEmptyQuery:!0},vt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onAction=n.onAction.bind(n);var r=e.savedState,a=e.initialConversation,i=e.serverError,o=e.blockKitClogger,s=e.type,c=Object(Oe.a)(r,"selected_conversation")||a;return n.state={selectedConversation:c,error:i||Object(Ue.j)(c,e)},n.logSelectElementMenuOpen=function(){return o("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:s}}})},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialConversation!==e.initialConversation,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedConversation:t.props.initialConversation}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedConversation,t.props)}})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,i=r.actionId,o=r.onAction,s=r.initialConversation,c=r.parent,l=r.featureAppViewsV1,u=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(c===x.d.input||u){var d={type:x.e.conversations_select,actionId:i,blockId:a,selectedConversation:u},b=Object(Ue.g)(x.e.conversations_select,a,i,{selected_conversation:u}),p=Object(Ue.j)(u,this.props);s&&(d.initialConversation=s),l&&(d.elementState=b,d.elementError=N()({},a,p)),o(d),this.setState(function(){return{selectedConversation:u,error:p}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,a=e.isDisabled,i=e.placeholder,o=e.showConfirmDialog,s=e.elementWidth,c=e.blockKitClogger,l=e.type,u=e.showError,d=e.featureBlockKitShouldUseSlackKitSelect,b=e.actionId,p=e.connectedReplaceTextEmojiWithNative,h=i&&i.text&&i.emoji?p(i.text):i&&i.text;if(d){var m=function(e){return Object(ht.a)(e.value)?E.a.createElement(pt.a,{channelId:e.value}):E.a.createElement(Le.a,{id:e.value})},f=n===x.d.input&&!r;return E.a.createElement("div",null,E.a.createElement(Ae.c,{searcherOptions:ft,selectId:b,ariaLabel:i&&i.text||"Select an option",renderOption:m,renderSelectedOption:m,size:t,width:s,onOptionSelected:this.onAction,selectedOption:this.state.selectedConversation&&{value:this.state.selectedConversation},isDisabled:a,isRequired:!f,isInvalid:!(!u||!this.state.error),placeholderText:h,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:o,minOptionsListWidth:300}),this.maybeRenderError())}return E.a.createElement(Qe,{type:l,dataSource:"conversations",onAction:this.onAction,placeholder:i&&Object(Ue.h)(i),isDisabled:a,errorText:u?this.state.error:null,selectedOptions:[{value:this.state.selectedConversation}],showConfirmDialog:o,elementWidth:s,blockKitClogger:c})}}]),t}(k.PureComponent);vt.displayName="ConversationsSelectElement",vt.defaultProps=mt;var gt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(z.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}})(Ke(me(vt))),_t=new M.b("block_kit"),Ot=(S.b.oneOf([x.e.multi_conversations_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.func.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.bool,S.b.func,S.b.func.isRequired,S.b.bool,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialConversations:void 0,savedState:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:j.a,isInView:!1}),yt={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!0},members:{includeSelf:!0}},allowEmptyQuery:!0},jt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiConversationsSelectElement"]);var r=e.savedState,a=e.initialConversations,i=e.serverError,o=e.placeholder,s=e.connectedReplaceTextEmojiWithNative,c=e.featureAppViewsV1;n.formattedPlaceholder=Object(Ue.m)({placeholder:o,emojiProcessor:s,fallback:c?_t.t("Choose conversations"):"Choose conversations"});var l=Object(Oe.a)(r,"selected_conversations")||a||[];return n.state={selectedConversations:l,error:i||Object(Ue.j)(l,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialConversations!==e.initialConversations,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedConversations:t.props.initialConversations}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedConversations,t.props)}})}},{key:"onAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map(function(e){return e.value});this.setState(function(){return{selectedConversations:n,error:Object(Ue.j)(t,e.props)}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialConversations,i=e.featureAppViewsV1,o={type:x.e.multi_conversations_select,actionId:n,blockId:t,selectedConversations:this.state.selectedConversations},s=Object(Ue.g)(x.e.multi_conversations_select,t,n,{selected_conversations:this.state.selectedConversations}),c=Object(Ue.j)(this.state.selectedConversations,this.props);a&&(o.initialConversations=a),i&&(o.elementState=s,o.elementError=N()({},t,c)),r(o)}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:E.a.createElement(rt,{element:this.renderMultiConversationsSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiConversationsSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,i=e.actionId,o=e.blockKitClogger,s=e.type,c=t===x.d.input&&!r;return E.a.createElement("div",{className:"multi_select_element_container"},E.a.createElement(st.a,{searcherOptions:yt,selectId:i,ariaLabel:this.formattedPlaceholder,size:Re.medium,width:Te.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedChannels,isDisabled:n,isRequired:!c,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return o("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:s}}})},renderOption:function(e){return Object(ht.a)(e.value)?E.a.createElement(pt.a,{channelId:e.value}):E.a.createElement("span",null,E.a.createElement(De.a,{memberId:e.value,inheritIconSize:!0}),E.a.createElement(Le.a,{id:e.value}))}}))}},{key:"render",value:function(){return this.props.isInView?this.renderMultiConversationsSelectElement():E.a.createElement(ot,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedConversations})}}]),t}(k.PureComponent);jt.displayName="MultiConversationsSelect",jt.defaultProps=Ot;var kt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(B.e)(t))}}})(Ke(me(jt))),Et=(S.b.oneOf([x.e.channels_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.oneOf(Object(O.a)(Re)),S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.object,S.b.func,S.b.func,S.b.bool,S.b.bool,S.b.func,{size:Re.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialChannel:void 0,savedState:void 0,showConfirmDialog:void 0,blockKitClogger:y.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:j.a}),Ct={entities:{channels:{includeArchived:!1,includePrivate:!1}},allowEmptyQuery:!0},It=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onAction=n.onAction.bind(n);var r=e.savedState,a=e.initialChannel,i=e.serverError,o=e.blockKitClogger,s=e.type,c=Object(Oe.a)(r,"selected_conversation")||a;return n.state={selectedChannel:c,error:i||Object(Ue.j)(c,e)},n.logSelectElementMenuOpen=function(){return o("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:s}}})},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialChannel!==e.initialChannel,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedChannel:t.props.initialChannel}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedChannel,t.props)}})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,i=r.actionId,o=r.onAction,s=r.initialChannel,c=r.parent,l=r.featureAppViewsV1,u=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(c===x.d.input||u){var d={type:x.e.channels_select,actionId:i,blockId:a,selectedChannel:u},b=Object(Ue.g)(x.e.channels_select,a,i,{selected_channel:u}),p=Object(Ue.j)(u,this.props);s&&(d.initialChannel=s),l&&(d.elementState=b,d.elementError=N()({},a,p)),o(d),this.setState(function(){return{selectedChannel:u,error:p}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,a=e.isDisabled,i=e.placeholder,o=e.showConfirmDialog,s=e.elementWidth,c=e.blockKitClogger,l=e.type,u=e.showError,d=e.featureBlockKitShouldUseSlackKitSelect,b=e.actionId,p=e.connectedReplaceTextEmojiWithNative,h=i&&i.text&&i.emoji?p(i.text):i&&i.text;if(d){var m=function(e){return E.a.createElement(pt.a,{channelId:e.value})},f=n===x.d.input&&!r;return E.a.createElement("div",null,E.a.createElement(Ae.c,{searcherOptions:Ct,selectId:b,ariaLabel:i&&i.text||"Select an option",renderOption:m,renderSelectedOption:m,size:t,width:s,onOptionSelected:this.onAction,selectedOption:this.state.selectedChannel&&{value:this.state.selectedChannel},isDisabled:a,isRequired:!f,isInvalid:!(!u||!this.state.error),placeholderText:h,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:o,minOptionsListWidth:300}),this.maybeRenderError())}return E.a.createElement(Qe,{type:l,dataSource:"channels",onAction:this.onAction,placeholder:i&&Object(Ue.h)(i),size:t,isDisabled:a,errorText:u?this.state.error:null,selectedOptions:[{value:this.state.selectedChannel}],showConfirmDialog:o,elementWidth:s,blockKitClogger:c})}}]),t}(k.PureComponent);It.displayName="ChannelsSelectElement",It.defaultProps=Et;var wt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(z.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}})(Ke(me(It))),St=new M.b("block_kit"),Tt=(S.b.oneOf([x.e.multi_channels_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.func.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.bool,S.b.func,S.b.func.isRequired,S.b.bool,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialChannels:void 0,savedState:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:j.a,isInView:!1}),Rt={entities:{channels:{includeArchived:!1,includePrivate:!1}},allowEmptyQuery:!0},Nt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiChannelsSelectElement"]);var r=e.savedState,a=e.initialChannels,i=e.serverError,o=e.placeholder,s=e.connectedReplaceTextEmojiWithNative,c=e.featureAppViewsV1;n.formattedPlaceholder=Object(Ue.m)({placeholder:o,emojiProcessor:s,fallback:c?St.t("Choose channels"):"Choose channels"});var l=Object(Oe.a)(r,"selected_channels")||a||[];return n.state={selectedChannels:l,error:i||Object(Ue.j)(l,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialChannels!==e.initialChannels,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedChannels:t.props.initialChannels}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedChannels,t.props)}})}},{key:"onAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map(function(e){return e.value});this.setState(function(){return{selectedChannels:n,error:Object(Ue.j)(t,e.props)}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialChannels,i=e.featureAppViewsV1,o={type:x.e.multi_channels_select,actionId:n,blockId:t,selectedChannels:this.state.selectedChannels},s=Object(Ue.g)(x.e.multi_channels_select,t,n,{selected_channels:this.state.selectedChannels}),c=Object(Ue.j)(this.state.selectedChannels,this.props);a&&(o.initialChannels=a),i&&(o.elementState=s,o.elementError=N()({},t,c)),r(o)}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:E.a.createElement(rt,{element:this.renderMultiChannelsSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiChannelsSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,i=e.actionId,o=e.blockKitClogger,s=e.type,c=t===x.d.input&&!r;return E.a.createElement("div",{className:"multi_select_element_container"},E.a.createElement(st.a,{searcherOptions:Rt,selectId:i,ariaLabel:this.formattedPlaceholder,size:Re.medium,width:Te.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedChannels,isDisabled:n,isRequired:!c,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return o("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:s}}})},renderOption:function(e){return E.a.createElement(pt.a,{channelId:e.value})}}))}},{key:"render",value:function(){return this.props.isInView?this.renderMultiChannelsSelectElement():E.a.createElement(ot,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedChannels})}}]),t}(k.PureComponent);Nt.displayName="MultiChannelsSelect",Nt.defaultProps=Tt;var xt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(B.e)(t))}}})(Ke(me(Nt))),Mt=n("hbEN"),Pt=n("yHhI"),At=n("Ma6+"),Dt=Object(Pt.b)(),Lt=(S.b.oneOf([x.e.external_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.oneOf(Object(O.a)(Re)),S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.shape({text:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),value:S.b.string}),S.b.func,S.b.number,S.b.func,S.b.bool,S.b.number,S.b.func,S.b.object,{size:Re.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,initialOption:void 0,savedState:void 0,showConfirmDialog:void 0,minQueryLength:3,dispatchFetchExternalSuggestions:void 0,blockKitClogger:y.a,featureAppViewsV1:!1,debounceWaitPeriod:50,connectedReplaceTextEmojiWithNative:j.a,containerActionsPayload:{}}),qt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.optionGroups=void 0,n.options=void 0,n.inputRef=E.a.createRef(),Object(C.a)(n,["onAction","setSelectState","renderOption"]);var r=e.savedState,a=e.initialOption,i=e.serverError,o=e.debounceWaitPeriod,s=e.blockKitClogger,c=e.type,l=Object(Oe.a)(r,"selected_option")||a;return n.state={selectedOption:l,filterQuery:"",isLoading:!1,error:i||Object(Ue.j)(l,e)},n.search=Object(Mt.a)(n.search,o),n.logSelectElementMenuOpen=function(){return s("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:c}}})},n}return f()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.search(this.state.filterQuery)}},{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(v.a)(this.props.initialOption,e.initialOption),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOption:t.props.initialOption}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedOption,t.props)}})}},{key:"onAction",value:function(e){var t=e.value,n=this.props,r=n.blockId,a=n.actionId,i=n.onAction,o=n.initialOption,s=n.placeholder,c=n.parent,l=n.featureAppViewsV1;if(c===x.d.input||t){var u=void 0;if(t&&(this.optionGroups?u=Object(Ue.a)(this.optionGroups,t):this.options&&(u=Object(Ue.b)(this.options,t))),!t||u){var d={type:x.e.external_select,actionId:a,blockId:r,selectedOption:u},b=Object(Ue.g)(x.e.external_select,r,a,{selected_option:u}),p=Object(Ue.j)(u,this.props);o&&(d.initialOption=o),s&&(d.placeholder=s),l&&(d.elementState=b,d.elementError=N()({},r,p)),i(d),this.setState(function(){return{selectedOption:u,error:p}})}}}},{key:"setSelectState",value:function(e,t){var n=e();void 0!==n.filterQuery&&n.filterQuery!==this.state.filterQuery&&this.search(n.filterQuery),this.setState(function(){return n},t)}},{key:"search",value:function(e){var t=this,n=this.props,r=n.actionId,a=n.blockId,i=n.minQueryLength,o=n.dispatchFetchExternalSuggestions,s=n.containerActionsPayload;e.length<i||(this.setState(function(){return{isLoading:!0}}),this.searchPromise=o({serviceId:s.serviceId,container:s.container,actionId:r,blockId:a,value:e}).then(function(e){var n=e.options,r=e.optionGroups;return r&&(t.optionGroups=r,t.setState(function(){return{options:Object(Ue.d)(r),isRequired:!0}})),n&&(t.options=n,t.setState(function(){return{options:Object(Ue.e)(n),isRequired:!0}})),{}}).catch(function(e){Dt.error("Error when searching for select id: "+t.props.actionId+", error: "+e)}).finally(function(){return t.setState(function(){return{isLoading:!1}})}))}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"renderOption",value:function(e){return e.originalOption?E.a.createElement("div",{className:"p-block-kit-select_options"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.text)),e.originalOption.description?E.a.createElement("span",{className:"p-block-kit-select_options__description"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.description))):null):"heading"===e.type?E.a.createElement(ie,{noLinking:!0,text:e.label,emoji:!0}):e.label}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,i=e.isDisabled,o=e.placeholder,s=e.showConfirmDialog,c=e.elementWidth,l=e.showError,u=e.actionId,d=e.connectedReplaceTextEmojiWithNative,b=o&&o.text&&o.emoji?d(o.text):o&&o.text,p=n===x.d.input&&!r,h=this.state.selectedOption&&Object(Ue.i)(this.state.selectedOption);return E.a.createElement("div",null,E.a.createElement(Ae.a,{selectId:u,selectDataQa:u,placeholderText:b,selectState:a()({selectId:u},this.state,{selectedOption:h}),setSelectState:this.setSelectState,inputRef:this.inputRef,isLoading:this.state.isLoading,isDisabled:i,isRequired:!p,isInvalid:!(!l||!this.state.error),onOptionSelected:this.onAction,ariaLabel:o&&o.text||"Select an option",size:t,width:c,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:s,minOptionsListWidth:300,renderOption:this.renderOption,renderSelectedOption:this.renderOption}),this.maybeRenderError())}}]),t}(k.PureComponent);qt.displayName="ExternalSelectElement",qt.defaultProps=Lt;var Ft=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}},function(e){return{dispatchFetchExternalSuggestions:function(){return e(At.a.apply(void 0,arguments))}}})(Ke(me(qt))),Bt=S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),Ut=S.b.arrayOf(S.b.shape({isPlaceholder:S.b.bool,description:Bt,text:Bt,value:S.b.string})),Ht=(S.b.oneOf([x.e.static_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.arrayOf(S.b.shape({label:Bt,options:Ut})),S.b.shape({text:Bt,value:S.b.string}),S.b.func,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.func,S.b.bool,S.b.bool,S.b.func,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,optionGroups:void 0,options:void 0,initialOption:void 0,savedState:void 0,showConfirmDialog:void 0,className:"",size:Re.small,blockKitClogger:y.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:j.a}),Kt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["onAction","renderOption"]);var r=Object(Oe.a)(e,"savedState.selected_option")||e.initialOption;return n.state={selectedOption:r,error:e.serverError||Object(Ue.j)(r,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(v.a)(this.props.initialOption,e.initialOption),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOption:t.props.initialOption}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedOption,t.props)}})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.initialOption,i=r.onAction,o=r.optionGroups,s=r.options,c=r.placeholder,l=r.actionId,u=r.blockId,d=r.parent,b=r.featureAppViewsV1,p=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(d===x.d.input||p){var h=void 0;if(p&&(o?h=Object(Ue.a)(o,p):s&&(h=Object(Ue.b)(s,p))),!p||h){var m={type:x.e.static_select,actionId:l,blockId:u,selectedOption:h},f=Object(Ue.j)(h,this.props);a&&(m.initialOption=a),c&&(m.placeholder=c),b&&(m.elementState=Object(Ue.g)(x.e.static_select,u,l,{selected_option:h}),m.elementError=N()({},u,f)),i(m),this.setState(function(){return{selectedOption:h,error:f}})}}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"renderOption",value:function(e){return Object(Be.a)(e.originalOption)?"heading"===e.type?E.a.createElement(ie,{noLinking:!0,text:e.label,emoji:!0}):e.label:E.a.createElement("div",{className:"p-block-kit-select_options"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.text)),e.originalOption.description?E.a.createElement("span",{className:"p-block-kit-select_options__description"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.description))):null)}},{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.isDisabled,r=e.parent,a=e.options,i=e.optionGroups,o=e.placeholder,s=e.showConfirmDialog,c=e.elementWidth,l=e.blockKitClogger,u=e.type,d=e.className,b=e.size,p=e.featureBlockKitShouldUseSlackKitSelect,h=e.actionId,m=e.showError,f=e.connectedReplaceTextEmojiWithNative,v=[];a&&a.length?v=Object(Ue.e)(a):i&&i.length&&(v=Object(Ue.d)(i));var g=o&&o.text&&o.emoji?f(o.text):o&&o.text;if(p){var _=r===x.d.input&&!t;return E.a.createElement("div",null,E.a.createElement(Ae.e,{selectId:h,selectDataQa:h,ariaLabel:o&&o.text||"Select an option",options:v,className:d,width:c,size:b,isDisabled:n,placeholderText:g,onOptionSelected:this.onAction,selectedOption:Object(Ue.i)(this.state.selectedOption),onOpen:this.logSelectElementMenuOpen,isRequired:!_,isInvalid:!(!m||!this.state.error),showConfirmDialog:s,minOptionsListWidth:300,renderOption:this.renderOption,renderSelectedOption:this.renderOption}),this.maybeRenderError())}return E.a.createElement(Qe,{type:u,options:a&&Object(Ue.e)(a),optionGroups:i&&Object(Ue.d)(i),dataSource:"static",placeholder:o&&Object(Ue.h)(o),isDisabled:n,selectedOptions:[Object(Ue.i)(this.state.selectedOption)],onAction:this.onAction,showConfirmDialog:s,elementWidth:c,blockKitClogger:l,className:d,size:b,errorText:m?this.state.error:null})}}]),t}(k.PureComponent);Kt.displayName="StaticSelectElement",Kt.defaultProps=Ht;var Gt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(z.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}})(Ke(me(Kt))),Vt=new M.b("block_kit"),zt=S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string,placeholder:S.b.bool}),Yt=S.b.arrayOf(S.b.shape({isPlaceholder:S.b.bool,description:zt,text:zt,value:S.b.string})),Wt=(S.b.oneOf([x.e.multi_static_select]).isRequired,S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool,S.b.string,S.b.string,S.b.bool,S.b.object,S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.arrayOf(S.b.shape({label:zt,options:Yt})),S.b.arrayOf(S.b.shape({text:zt,value:S.b.string})),S.b.func,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.func,S.b.bool,S.b.bool,S.b.func,S.b.bool,S.b.func.isRequired,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:y.a,placeholder:void 0,optionGroups:void 0,options:void 0,initialOptions:void 0,savedState:void 0,showConfirmDialog:void 0,className:"",size:Re.small,blockKitClogger:y.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:j.a,isInView:!1}),Qt=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["onAction","submitAction","renderMultiSelect","openMultiSelectModal"]);var r=e.savedState,a=e.initialOptions,i=e.serverError,o=e.placeholder,s=e.connectedReplaceTextEmojiWithNative,c=e.featureAppViewsV1;n.formattedPlaceholder=Object(Ue.m)({placeholder:o,emojiProcessor:s,fallback:c?Vt.t("Choose options"):"Choose options"});var l=Object(Oe.a)(r,"selected_options")||a;return n.state={selectedOptions:l,error:i||Object(Ue.j)(l,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(v.a)(this.props.initialOptions,e.initialOptions),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOptions:t.props.initialOptions}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedOptions,t.props)}})}},{key:"onAction",value:function(e){var t=this.props,n=t.parent,r=t.isRequired;(n===x.d.input||e)&&this.setState(function(){return{selectedOptions:e,error:Object(Ue.j)(e,{isRequired:r})}})}},{key:"submitAction",value:function(){var e=this.props,t=e.initialOptions,n=e.onAction,r=e.placeholder,a=e.actionId,i=e.blockId,o=e.featureAppViewsV1,s=Object(Ue.c)(this.state.selectedOptions);if(s){var c={type:x.e.multi_static_select,actionId:a,blockId:i,selectedOptions:s},l=Object(Ue.g)(x.e.multi_static_select,i,a,{selected_options:s}),u=s&&Object(Ue.e)(s),d=Object(Ue.j)(u,this.props);o&&(c.elementState=l,c.elementError=N()({},i,d)),t&&(c.initialOptions=t),r&&(c.placeholder=r),n(c)}}},{key:"openMultiSelectModal",value:function(){var e=this.props.dispatchOpenModal,t={onGo:this.submitAction,title:this.formattedPlaceholder||"Pick options"};e({element:E.a.createElement(et.a,t,E.a.createElement("div",{className:"multi_select_element_container"},this.renderMultiSelect()))})}},{key:"renderMultiSelect",value:function(){var e=this.props,t=e.parent,n=e.isRequired,r=e.isDisabled,i=e.options,o=e.optionGroups,s=e.placeholder,c=e.showConfirmDialog,l=e.className,u=e.actionId,d=e.showError,b=function(e){return Object(Be.a)(e.originalOption)?"heading"===e.type?E.a.createElement(ie,{noLinking:!0,text:e.label,emoji:!0}):e.label:E.a.createElement("div",{className:"p-block-kit-select_options"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.text)),e.originalOption.description?E.a.createElement("span",{className:"p-block-kit-select_options__description"},E.a.createElement(ie,a()({noLinking:!0},e.originalOption.description))):null)},p=[];i&&i.length?p=Object(Ue.e)(i):o&&o.length&&(p=Object(Ue.d)(o));var h=t===x.d.input&&!n;return E.a.createElement(st.c,{selectId:u,selectDataQa:u,ariaLabel:s&&s.text||"Select an option",options:p,className:l,width:Te.full,size:Re.medium,isDisabled:r,placeholderText:this.formattedPlaceholder,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedOptions,onOpen:this.logSelectElementMenuOpen,isRequired:!h,isInvalid:!(!d||!this.state.error),showConfirmDialog:c,renderOption:b,renderSelectedOption:b})}},{key:"render",value:function(){return this.props.isInView?this.renderMultiSelect():E.a.createElement(ot,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedOptions})}}]),t}(k.PureComponent);Qt.displayName="MultiStaticSelectElement",Qt.defaultProps=Wt;var Xt=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(qe.a)(e,{messageText:t,teamId:Object(Fe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(B.e)(t))}}})(Ke(me(Qt))),Zt=n("wd/R"),Jt=n.n(Zt),$t=n("hFPh"),en=(n("BhHY"),new M.b("block_kit")),tn="bottom-left",nn=0,rn=4,an=(S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.object,S.b.bool,S.b.func,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.string,S.b.bool,S.b.bool,{isRequired:!1,onAction:y.a,placeholder:{},initialDate:void 0,savedState:void 0,showConfirmDialog:void 0,className:void 0,size:Re.small,serverError:void 0,showError:!1,blockKitClogger:y.a,featureAppViewsV1:!1}),on=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["handleDateChange","dispatchAction","maybeRenderError"]);var r=Object(Oe.a)(e,"savedState.selected_date")||e.initialDate;return n.state={selectedDate:r,error:e.serverError||Object(Ue.j)(r,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialDate!==e.initialDate,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedDate:t.props.initialDate}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedDate,t.props)}})}},{key:"setSelectedDateAndDispatchAction",value:function(e){this.dispatchAction(e)}},{key:"dispatchAction",value:function(e){var t=this.props,n=t.blockId,r=t.actionId,a=t.onAction,i=t.initialDate,o=t.featureAppViewsV1,s={type:x.e.datepicker,actionId:r,blockId:n,selectedDate:e},c=Object(Ue.g)(x.e.datepicker,n,r,{selected_date:e}),l=Object(Ue.j)(e,this.props);i&&(s.initialDate=i),o&&(s.elementState=c,s.elementError=N()({},n,l)),a(s),this.setState(function(){return{selectedDate:e,error:l}})}},{key:"handleDateChange",value:function(e){var t=this,n=this.props.showConfirmDialog;n?n({onGo:function(){return t.setSelectedDateAndDispatchAction(e)}}):this.setSelectedDateAndDispatchAction(e)}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.initialDate,r=e.placeholder,a=e.className,i=e.size,o=e.elementWidth,s=e.showError,c=e.blockKitClogger,l=n||null,u=this.state.selectedDate&&Jt()(this.state.selectedDate).format("L")||n&&Jt()(n).format("L")||r.text||en.t("Select a date"),d=w()("p-block_kit_date_picker_button",a,{"p-block_kit_date_picker_button--invalid":s&&this.state.error});return E.a.createElement(k.Fragment,null,E.a.createElement($t.d,{position:tn,offsetX:nn,offsetY:rn,selectedDate:this.state.selectedDate||l,dateFormat:"YYYY-MM-DD",onDateChange:this.handleDateChange,onRenderPopover:function(){return c("BLOCK_KIT_DATEPICKER_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:x.e.datepicker}}})}},E.a.createElement($.d,{type:"outline",size:i,style:{minWidth:o},disabled:t,className:d},E.a.createElement(oe,{"data-qa":"bk_button_mrkdwn",text:u,parent:x.e.datepicker,emoji:!0}),E.a.createElement(Ee.b,{type:"calendar"}))),this.maybeRenderError())}}]),t}(k.Component);on.displayName="DatepickerElement",on.defaultProps=an;var sn=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1")}})(Ke(me(on))),cn=(n("glJ1"),S.b.string.isRequired,S.b.string,S.b.string,{altText:"",parent:void 0}),ln=function(e){var t=e.imageUrl,n=e.altText,r=e.parent,a=w()("p-section_block__image",{"p-context_block_group__image":r===x.d.context});return E.a.createElement("div",{"data-qa":"bk_section_block_image_element",className:a,style:{backgroundImage:"url('"+t+"')"},role:"img","aria-label":n,title:n,alt:n})};ln.displayName="ImageElement",ln.defaultProps=cn;var un=ln,dn=n("3dqR"),bn=(S.b.shape({userId:S.b.string.isRequired}).isRequired,function(e){var t=e.attrs;return E.a.createElement("div",{className:"p-context_block_group__user"},E.a.createElement(dn.b,{size:20,userId:t.userId,showCard:!0}))});bn.displayName="UserElement";var pn=bn,hn=n("plEq"),mn=n("P3Po"),fn=(n("xDGf"),S.b.string.isRequired,S.b.string.isRequired,S.b.object,S.b.func,S.b.string,S.b.bool,S.b.bool,S.b.object,S.b.string,S.b.bool,S.b.number,S.b.number,S.b.string,S.b.bool,{isRequired:!1,placeholder:void 0,multiline:!1,serverError:void 0,showError:!1,onAction:y.a,initialValue:"",className:"",maxCharacterLimit:void 0,minCharacterLimit:void 0,savedState:void 0,featureAppViewsV1:!1}),vn=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleChange=n.handleChange.bind(n);var r=Object(Oe.a)(e,"savedState.value")||e.initialValue;return n.state={value:r,error:e.serverError||Object(Ue.j)(r,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.showError!==e.showError&&this.props.showError&&this.setState(function(){return{error:n.props.serverError||Object(Ue.j)(t.value,n.props)}})}},{key:"handleChange",value:function(e){var t=this.props,n=t.blockId,r=t.actionId,a=t.onAction,i=t.initialValue,o=t.featureAppViewsV1,s={type:x.e.plain_text_input,actionId:r,blockId:n,value:e},c=Object(Ue.g)(x.e.plain_text_input,n,r,{value:e}),l=Object(Ue.j)(e,this.props);i&&(s.initialValue=i),o&&(s.elementState=c,s.elementError=N()({},n,l)),a(s),this.setState(function(){return{value:e,error:l}})}},{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.isRequired,a=e.className,i=e.placeholder,o=e.multiline,s=e.maxCharacterLimit,c=e.minCharacterLimit,l=e.showError,u=e.featureAppViewsV1,d=w()("p-block_kit_plain_text_input_element",a);return E.a.createElement(o?mn.a:hn.a,{id:t,name:n,className:d,isRequired:r,onChange:this.handleChange,value:this.state.value,placeholder:i&&i.text,errorText:l?this.state.error:null,maxCharacterLimit:s,minCharacterLimit:c,featureAppViewsV1:u})}}]),t}(k.Component);vn.displayName="PlainTextInputElement",vn.defaultProps=fn;var gn=Object(q.b)(function(e){return{featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1")}})(Ke(me(vn))),_n=(n("FnFz"),S.b.string.isRequired,S.b.string,S.b.number,S.b.number,S.b.func,S.b.func,S.b.func,{parent:void 0,maxNewlines:void 0,maxCharacters:void 0,onRender:y.a,clogLinkClick:y.a,customFormatHandler:void 0}),On=function(e){var t=e.text,n=e.parent,r=e.maxNewlines,a=e.maxCharacters,i=e.onRender,o=e.clogLinkClick,s=e.customFormatHandler,c=w()("p-mrkdwn_element",{"p-context_block__text":n===x.d.context});return E.a.createElement("div",{className:c},E.a.createElement(ne.a,{text:t,onRender:i,maxCharacters:a,maxNewlines:r,clogLinkClick:o,customFormatHandler:s}))};On.displayName="MrkdwnElement",On.defaultProps=_n;var yn=On,jn=n("NXqO"),kn=n("ohM/"),En=n("vakV"),Cn=(n("d2Xu"),"bottom-left"),In=0,wn=4,Sn=(S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.string,S.b.bool,S.b.object,S.b.bool,S.b.string,S.b.oneOf(Object(O.a)(Re)),S.b.oneOf(Object(O.a)(Te)).isRequired,S.b.func,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),S.b.string,S.b.string,S.b.func,S.b.func,S.b.string,S.b.string,S.b.bool,S.b.bool,{isRequired:!1,serverError:void 0,showError:!1,className:void 0,size:Re.small,onAction:y.a,placeholder:void 0,initialStartDate:void 0,initialEndDate:void 0,savedState:void 0,showConfirmDialog:void 0,blockKitClogger:y.a,startDatePlaceholder:void 0,endDatePlaceholder:void 0,featureBlockKitRangeDatepicker:!1,featureAppViewsV1:!1}),Tn=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(C.a)(n,["handleDateChange","dispatchAction","renderPopover","maybeRenderError"]);var r=Object(Oe.a)(e,"savedState.selected_start_date")||e.initialStartDate,a=Object(Oe.a)(e,"savedState.selected_end_date")||e.initialEndDate;return n.state={selectedStartDate:r,selectedEndDate:a,error:e.serverError||Object(Ue.j)(r&&a,e)},n}return f()(t,e),h()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialStartDate!==e.initialStartDate||this.props.initialEndDate!==e.initialEndDate,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedStartDate:t.props.initialStartDate,selectedEndDate:t.props.initialEndDate}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(Ue.j)(e.selectedStartDate&&e.selectedEndDate,t.props)}})}},{key:"dispatchAction",value:function(e){var t=this,n=this.props,r=n.blockId,a=n.actionId,i=n.onAction,o=n.initialStartDate,s=n.initialEndDate,c=n.featureAppViewsV1,l=this.state,u=l.selectedStartDate,d=l.selectedEndDate;this.setState(function(){return e},function(){var e={type:x.e.range_datepicker,actionId:a,blockId:r,selectedStartDate:u,selectedEndDate:d},n=Object(Ue.g)(x.e.range_datepicker,r,a,{selected_start_date:u,selected_end_date:d}),l=Object(Ue.j)(u&&d,t.props);o&&(e.initialDate=o),s&&(e.initialDate=s),c&&(e.elementState=n,e.elementError=N()({},r,l)),i(e),t.setState(function(){return{error:l}})})}},{key:"handleDateChange",value:function(e){var t=this,n=this.props.showConfirmDialog;n?n({onGo:function(){return t.dispatchAction(e)}}):this.dispatchAction(e)}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?E.a.createElement(Pe,{errorMessage:e}):null}},{key:"renderPopover",value:function(e){var t=this.state.selectedStartDate,n=this.state.selectedEndDate;return E.a.createElement(En.a,a()({position:Cn,offsetX:In,offsetY:wn},e),E.a.createElement("div",{className:"c-date_picker__dropdown","data-qa":"date_picker_dropdown"},E.a.createElement(jn.a,{selectedStartDate:t,selectedEndDate:n,dateFormat:"YYYY-MM-DD",onStartDateChange:this.handleDateChange,onEndDateChange:this.handleDateChange})))}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.placeholder,r=e.startDatePlaceholder,i=e.endDatePlaceholder,o=e.showError,s=e.className,c=e.size,l=e.elementWidth;if(!e.featureBlockKitRangeDatepicker)return null;var u=void 0;if(this.state.selectedEndDate||this.state.selectedStartDate||r||i||!n){var d=this.state.selectedStartDate&&Jt()(this.state.selectedStartDate).format("L"),b=this.state.selectedEndDate&&Jt()(this.state.selectedEndDate).format("L");u=(d||Object(Oe.a)(r,"text")||"Start Date")+" - "+(b||Object(Oe.a)(i,"text")||"End Date")}else u=n.text;var p=w()("p-block_kit_date_picker_button",s,{"p-block_kit_date_picker_button--invalid":o&&this.state.error});return E.a.createElement("div",null,E.a.createElement(kn.a,a()({},this.props,{ref:this.trigger,renderPopover:this.renderPopover,ariaHasPopup:!0}),E.a.createElement($.d,{type:"outline",size:c,style:{minWidth:l},disabled:t,className:p},E.a.createElement(oe,{"data-qa":"bk_button_mrkdwn",text:u,parent:x.e.datepicker,emoji:!0}),E.a.createElement(Ee.b,{type:"calendar"}))),this.maybeRenderError())}}]),t}(k.Component);Tn.displayName="RangeDatepickerElement",Tn.defaultProps=Sn;var Rn,Nn,xn=Object(q.b)(function(e){return{featureBlockKitRangeDatepicker:Object(z.j)(e,"feature_block_kit_range_datepicker"),featureAppViewsV1:Object(z.j)(e,"feature_app_views_v1")}})(Ke(me(Tn)));var Mn=(Rn={},N()(Rn,x.e.button,_e),N()(Rn,x.e.overflow,Se),N()(Rn,x.e.users_select,$e),N()(Rn,x.e.multi_users_select,bt),N()(Rn,x.e.conversations_select,gt),N()(Rn,x.e.multi_conversations_select,kt),N()(Rn,x.e.image,Image),N()(Rn,x.e.channels_select,wt),N()(Rn,x.e.multi_channels_select,xt),N()(Rn,x.e.external_select,Ft),N()(Rn,x.e.static_select,Gt),N()(Rn,x.e.multi_static_select,Xt),N()(Rn,x.e.datepicker,sn),N()(Rn,x.e.range_datepicker,xn),N()(Rn,x.e.image,un),N()(Rn,x.e.user,pn),N()(Rn,x.e.plain_text_input,gn),N()(Rn,x.e.mrkdwn,yn),N()(Rn,x.e.plain_text,oe),Rn),Pn=(Nn={},N()(Nn,x.e.button,_e),N()(Nn,x.e.overflow,Se),N()(Nn,x.e.users_select,$e),N()(Nn,x.e.multi_users_select,bt),N()(Nn,x.e.conversations_select,gt),N()(Nn,x.e.multi_conversations_select,kt),N()(Nn,x.e.channels_select,wt),N()(Nn,x.e.multi_channels_select,xt),N()(Nn,x.e.external_select,Ft),N()(Nn,x.e.static_select,Gt),N()(Nn,x.e.multi_static_select,Xt),N()(Nn,x.e.datepicker,sn),N()(Nn,x.e.plain_text_input,gn),N()(Nn,x.e.range_datepicker,xn),Mn),An=(n("yuSY"),S.b.string.isRequired,S.b.shape({title:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),text:S.b.shape({type:S.b.oneOf([x.e.plain_text,x.e.mrkdwn]),text:S.b.string}),confirm:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string}),deny:S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string})}),S.b.string,S.b.bool,S.b.object,S.b.func,S.b.func,{confirm:void 0,containerId:void 0,enabledElements:{},shouldTruncateText:!1,blockKitClogger:void 0,onAction:y.a}),Dn=function(e){var t=e.confirm,n=e.enabledElements,r=e.shouldTruncateText,i=e.blockKitClogger,s=o()(e,["confirm","enabledElements","shouldTruncateText","blockKitClogger"]),c=Pn[s.type];if(!c)return null;if(!1===n["featureFlag__"+s.type])return null;var l=function(e){return s.onAction(e),i&&i("BLOCK_KIT_ACTION",{contexts:{ui_context:{action:"click",ui_element:"block_kit_element",ui_component:"block_kit_"+s.type}}})},u=E.a.createElement(c,a()({},s,{key:s.actionId,onAction:l,blockKitClogger:i}));if(r)return E.a.createElement(J,a()({type:s.type,blockKitClogger:i},s),u);if(!!t){return E.a.createElement(K,{confirm:t,blockKitClogger:i,type:s.type,onActionWrapperWithConfirm:function(e){return l(a()({confirm:t},e))}},u)}return u};Dn.defaultProps=An;var Ln=Object(q.b)(function(e){return{enabledElements:Object(L.d)(e)}})(Dn),qn=(n("Y3ub"),S.b.array.isRequired,S.b.string.isRequired,S.b.bool,function(e){var t=e.elements,n=e.isInGroupBlock,r=o()(e,["elements","isInGroupBlock"]),i=w()("p-context_block",{"p-context_block--group":n}),s=t.map(function(e,t){return E.a.createElement("div",{className:"p-context_block_element","data-qa":"bk_context_element",key:r.blockId+"-"+t},E.a.createElement(Ln,a()({parent:x.d.context},r,e)),E.a.createElement("div",{className:"p-context_block_spacing--"+e.type}))});return E.a.createElement("div",{"data-qa":"bk_context_block",className:i},s)});qn.displayName="Context",qn.defaultProps={isInGroupBlock:!1};var Fn=qn,Bn=n("cD5Y"),Un=[de.a.activity,de.a.starred_message,de.a.threads_flexpane],Hn=[de.a.modal].concat(Un),Kn=[de.a.delete_dialog,de.a.share_dialog,de.a.search,de.a.app_actions,de.a.shared_message],Gn=[de.a.delete_dialog,de.a.share_dialog,de.a.search,de.a.app_actions,de.a.shared_message].concat(Un),Vn=[de.a.modal],zn=[de.a.modal],Yn=[de.a.message,de.a.delete_dialog],Wn=[de.a.message_attachment,de.a.delete_dialog,de.a.share_dialog,de.a.all_threads,de.a.all_unreads].concat(Un),Qn=(de.a.message_attachment,de.a.message,de.a.threads_flexpane,[de.a.delete_dialog,de.a.share_dialog,de.a.app_actions].concat(Un)),Xn=[de.a.share_dialog,de.a.delete_dialog,de.a.app_actions].concat(Un),Zn=[de.a.modal],Jn=Hn,$n=function(e){return Kn.includes(e)},er=function(e){return zn.includes(e)},tr=function(e){return Gn.includes(e)},nr=function(e){return Vn.includes(e)},rr=function(e){return Yn.includes(e)},ar=function(e){return Wn.includes(e)},ir=function(e){return Qn.includes(e)},or=function(e){return Xn.includes(e)?Te.narrow:Zn.includes(e)?Te.full:Te.wide},sr=function(e){return e.container===de.a.message_attachment},cr=function(e){return Jn.includes(e)},lr=(n("grv5"),new M.b("block_kit")),ur=(S.b.array.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.string,S.b.func,S.b.bool.isRequired,S.b.bool,{blocksContainerContext:void 0,fetchExternalSuggestions:y.a,isInGroupBlock:!1}),dr=function(e){function t(){u()(this,t);var e=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e.state={isExpanded:!1},e}return f()(t,e),h()(t,[{key:"handleClick",value:function(){this.setState(function(){return{isExpanded:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,r=t.isLoading,i=t.isError,o=t.blocksContainerContext,s=t.featureAttachmentsV2,c=t.removeTopMargin,l=t.shouldUseSmallStatusIndicators,u=t.isInGroupBlock,d=w()("p-action_block__icons",{"p-action_block__icons--small":l}),b=w()("p-block-kit-element__error",{"p-block-kit-element__error--small":l}),p=w()("p-block-kit-element__loading",{"p-block-kit-element__loading--small":l}),h=w()("p-actions_block",{"p-actions_block--no_top_margin":c,"p-actions_block--group":u,"p-actions_block--full_width":er(o)}),m=n.length>=7,f=m&&s?lr.rt("+ {number} more",{number:n.length-5}):null;return E.a.createElement("div",{"data-qa":"bk_actions_block",className:h},E.a.createElement("div",{className:"p-actions_block_elements"},n.map(function(t,n){return function(t,n){return E.a.createElement(k.Fragment,{key:"actions-"+(t.actionId||n)},m&&n<5||e.state.isExpanded||!m?E.a.createElement("div",{className:"p-actions_block__action","data-qa":"bk_actions_block_action"},E.a.createElement(Ln,a()({},e.props,t))):null)}(t,n)}),m&&!e.state.isExpanded?E.a.createElement("div",{"data-qa":"bk_actions_block_truncation",className:"p-actions_block__action"},E.a.createElement($.d,{type:"outline",size:"small",onClick:e.handleClick,"data-qa":"bk_actions_block_truncation_button"},f)):null),E.a.createElement("div",{className:d},r?E.a.createElement("div",{className:p,"data-qa":"block_kit_loading_icon"},E.a.createElement(Bn.a,{size:l?"small":"large"})):null,i?E.a.createElement("div",{className:b,"data-qa":"block_kit_error_icon"}," ",E.a.createElement(Ee.b,{type:"warning",inline:!0})):null))}}]),t}(k.PureComponent);dr.displayName="Actions",dr.defaultProps=ur;var br=Object(q.b)(function(e){return{featureAttachmentsV2:Object(z.j)(e,"feature_attachments_v2")}})(dr),pr=(n("0Izy"),S.b.arrayOf(S.b.shape({type:S.b.oneOf([x.e.plain_text,x.e.mrkdwn]).isRequired,text:S.b.string.isRequired})).isRequired,S.b.bool,function(e){return w()("p-field_section",{"p-field_section--stacked":e})}),hr=function(e){var t=e.fields,n=e.shouldStackTextFields,r=o()(e,["fields","shouldStackTextFields"]);return E.a.createElement("div",{"data-qa":"bk_fields",className:"p-section_block__fields"},t.map(function(e,t){return E.a.createElement("div",{key:"field-item-"+t,className:pr(n)},E.a.createElement(Ln,a()({},r,e)))}))};hr.displayName="Fields",hr.defaultProps={shouldStackTextFields:!0};var mr=hr,fr=(n("y41f"),S.b.shape({type:S.b.oneOf([x.e.plain_text,x.e.mrkdwn]).isRequired,text:S.b.string.isRequired}),S.b.arrayOf(S.b.shape({type:S.b.oneOf([x.e.plain_text,x.e.mrkdwn]).isRequired,text:S.b.string.isRequired})),S.b.shape({type:S.b.string.isRequired}),S.b.func.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool.isRequired,S.b.bool,S.b.bool.isRequired,S.b.func,S.b.string,S.b.bool,{text:void 0,fields:void 0,accessory:void 0,fetchExternalSuggestions:y.a,containerId:void 0,isInGroupBlock:!1,shouldStackAccessory:!1}),vr=function(e){var t=e.text,n=e.fields,r=e.accessory,i=e.isLoading,s=e.isError,c=e.shouldStackTextFields,l=e.shouldTruncateText,u=e.removeTopMargin,d=e.shouldUseSmallStatusIndicators,b=e.isInGroupBlock,p=e.shouldStackAccessory,h=o()(e,["text","fields","accessory","isLoading","isError","shouldStackTextFields","shouldTruncateText","removeTopMargin","shouldUseSmallStatusIndicators","isInGroupBlock","shouldStackAccessory"]),m=w()("p-section_block__accessory",{"p-section_block__accessory--wrap":c,"p-section_block--stack-accessory":p}),f=w()("p-section_block__icons",{"p-section_block__icons--small":d}),v=w()("p-block-kit-element__error",{"p-block-kit-element__error--small":d}),g=w()("p-block-kit-element__loading",{"p-block-kit-element__loading--small":d}),_=w()("p-section_block",{"p-section_block--wrap":c,"p-section_block--no_top_margin":u,"p-section_block--group":b,"p-section_block--stack-accessory-wrapper":p}),O=r?E.a.createElement("div",{className:m},E.a.createElement(Ln,a()({parent:x.d.section},h,r)),E.a.createElement("div",{className:f},i?E.a.createElement("div",{className:g,"data-qa":"block_kit_loading_icon"},E.a.createElement(Bn.a,{size:d?"small":"large"})):null,s?E.a.createElement("div",{className:v,"data-qa":"block_kit_error_icon"}," ",E.a.createElement(Ee.b,{type:"warning",inline:!0})):null)):null;return E.a.createElement(k.Fragment,null,E.a.createElement("div",{"data-qa":"bk_section_block",className:_},O,E.a.createElement("div",{className:"p-section_block_text_content"},t?E.a.createElement("div",{className:"p-section_block__text"},E.a.createElement(Ln,a()({"data-qa":"bk_section_block_mrkdwn",parent:x.d.section,shouldTruncateText:l},h,t))):null,n?E.a.createElement(mr,a()({},h,{"data-qa":"bk_text_fields_block_mrkdwn",fields:n,shouldStackTextFields:c,shouldTruncateText:l})):null)),c?E.a.createElement("div",{className:"p-section_block__clearfix"}):null)};vr.displayName="Section",vr.defaultProps=fr;var gr=vr,_r=n("VwYs"),Or=n("C6Be"),yr=n("4GF8"),jr=(n("VQ8d"),S.b.string.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.number,S.b.number,S.b.number,S.b.string,S.b.shape({type:S.b.oneOf([x.e.plain_text]).isRequired,text:S.b.string.isRequired}),S.b.string,S.b.number.isRequired,S.b.number.isRequired,S.b.string.isRequired,S.b.bool.isRequired,S.b.func,S.b.bool,{imageWidth:void 0,imageHeight:void 0,imageBytes:void 0,title:void 0,channel:void 0,messageTs:void 0,blockKitClogger:y.a,isInGroupBlock:!1}),kr=function(e){function t(){return u()(this,t),b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),h()(t,[{key:"getAdjustedDimensions",value:function(e,t,n,r){var a=e>n||t>r?Math.min(n/e,r/t):1;return{width:Math.floor(e*a),height:Math.floor(t*a)}}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.imageWidth,r=e.imageHeight,i=e.imageBytes,o=e.altText,s=e.title,c=e.messageTs,l=e.channel,u=e.maxWidth,d=e.maxHeight,b=e.blockId,p=e.isImageFullWidth,h=e.removeTopMargin,m=e.blockKitClogger,f=e.isInGroupBlock,v="img_msg_"+b,g=w()("p-image_block_container",{"p-image_block_container--full_width":p}),_=w()("p-image_block",{"p-image_block--no_top_margin":h,"p-image_block_container--full_width":p,"p-image_block--group":f});return E.a.createElement("div",{className:_},E.a.createElement("div",{className:g},E.a.createElement("div",{className:"p-image_block_title"},s?E.a.createElement(oe,a()({},s,{parent:x.d.image})):null,E.a.createElement(yr.b,{imageBytes:t&&i,imageUrl:t,expandableKey:v,tooLargeWarning:!1})),E.a.createElement(_r.a,{expandableKey:v,imageBytes:i},E.a.createElement(Or.a,a()({url:t,title:o,originalWidth:n,originalHeight:r},this.getAdjustedDimensions(n,r,u,d),{messageTs:c,activeChannelId:l,blockKitClogger:m})))))}}]),t}(k.PureComponent);kr.displayName="Image",kr.defaultProps=jr;var Er=kr,Cr=(n("ZHPz"),S.b.bool,function(e){var t=e.isInGroupBlock,n=w()("p-divider_block",{"p-divider_block--group":t});return E.a.createElement("div",{"data-qa":"bk_divider_block",className:n})});Cr.displayName="Divider",Cr.defaultProps={isInGroupBlock:!1};var Ir=Cr,wr=n("VfGJ"),Sr=n("P2f5"),Tr=(T.a.File().isRequired,S.b.bool,function(e){if(!e.featureRemoteFilesApi)return null;if(!e.file||!e.file.id)throw new Error("File Block called without a file object or file id");return E.a.createElement(wr.a,{file:e.file,channelId:"",ts:""})});Tr.displayName="File",Tr.defaultProps={featureRemoteFilesApi:!1};var Rr=Object(q.b)(function(e,t){var n=t.fileId;return{file:Object(Sr.h)(e,n),featureRemoteFilesApi:Object(z.j)(e,"feature_remote_files_api")}})(Tr),Nr=n("smxp"),xr=n("RhZ7"),Mr=n("TOh8"),Pr=n("0dpy"),Ar=n("8CL7"),Dr=n("Gq2+"),Lr=n("Aeia"),qr=n("VrmM"),Fr=n("BRQ/"),Br=n("0gqo"),Ur=n("lU/5"),Hr=n("rUi3"),Kr=new M.b("attachments"),Gr=(S.b.object.isRequired,S.b.bool.isRequired,function(e){var t=e.message,n=e.featureMessageBlocks,r=void 0;r=t.blocks?E.a.createElement(qr.a,{msg:t,blocksContainerContext:de.a.shared_message,blockLimit:5}):t.text?E.a.createElement(Ar.a,{msg:t}):t.attachments?E.a.createElement(qr.a,{msg:t.attachments[0],blocksContainerContext:de.a.shared_message,blockLimit:5}):null;var a=t.attachments&&t.attachments.length,i=t.reply_count&&t.attachments&&t.attachments.length;return E.a.createElement(Ur.a,{msg:t},E.a.createElement("div",null,E.a.createElement(xr.a,{msg:t,size:16,className:"c-message_attachment__author_icon"}),E.a.createElement(Mr.a,{msg:t}),"\xa0\xa0",E.a.createElement(Pr.a,{msg:t,full:!0}),E.a.createElement("br",null),r,E.a.createElement(Dr.a,{msg:t}),E.a.createElement(Lr.b,{msg:t}),E.a.createElement(Hr.a,{msg:t}),E.a.createElement("div",{className:"p-starred_item_message__reactions_and_replies"},E.a.createElement(Fr.a,{msg:t}),E.a.createElement(Br.a,{msg:t}),a?E.a.createElement("span",{className:"c-message_kit__replies_count"},i?E.a.createElement("span",null,"\xa0\xa0|\xa0\xa0"):null,n?Kr.t("{attachmentCount, plural, =1 {# attachment} other {# attachments}}",{attachmentCount:t.attachments.length}):null):null)))});Gr.displayName="MessageTemplate";var Vr=Object(q.b)(function(e,t){var n=t.channelId,r=t.timestamp;return{message:Object(Nr.a)(e,n,r),featureMessageBlocks:Object(z.j)(e,"feature_message_blocks")}})(Gr),zr=n("bBR5"),Yr=n("CaXY"),Wr=n("tbBR"),Qr=n("O8YM"),Xr=400,Zr=600,Jr=360;function $r(e,t){var n=e.errorBlockIds,r=e.loadingBlockIds,a=e.blocksContainerContext,i=e.isDisabled;return{isError:n&&-1!==n.indexOf(t.blockId),isLoading:r&&-1!==r.indexOf(t.blockId),isDisabled:i||$n(a),elementWidth:or(a),shouldUseSmallStatusIndicators:cr(a)}}function ea(e){return{removeTopMargin:0===e}}function ta(e,t,n){var r,i,o,s,c,l,u=e;switch(t.type){case x.d.image:u=a()({},e,function(e){var t={maxHeight:Xr,maxWidth:Zr,isImageFullWidth:tr(e.blocksContainerContext)};return(e.isMobile||sr(e))&&(t=a()({},t,{maxWidth:Jr})),t}(e),ea(n));break;case x.d.section:u=a()({},e,$r(e,t),(i=t,o=(r=e).isInAttachment,s=r.blocksContainerContext,c=r.isMobile,l=i.accessory,{shouldStackTextFields:ir(s)||!!c,shouldTruncateText:o||ar(s),shouldStackAccessory:l&&"image"!==l.type&&c}),ea(n));break;case x.d.actions:u=a()({},e,$r(e,t),ea(n));break;case x.d.input:u=a()({},e,$r(e,t),function(e,t){return{isRequired:!t.optional}}(0,t))}return u}n("UJuF");var na=new M.b("attachments"),ra=(T.a.BlockKitBlocks.isRequired,S.b.object,S.b.bool,S.b.oneOf([Yr.a.message,Yr.a.message_attachment,Yr.a.view]),S.b.oneOf(Object(O.a)(Yr.a)).isRequired,S.b.string,S.b.func,S.b.number,S.b.bool,S.b.bool,S.b.func,{serverErrors:{},showErrors:!1,className:"",renderBlockWrapper:j.a,container:void 0,blockLimit:void 0,isExpanded:!1,onExpandBlocksClick:y.a,isInGroupBlock:!1}),aa=function(e){var t,n,r=e.blocks,i=e.renderBlockWrapper,s=e.blockLimit,c=e.isExpanded,l=e.onExpandBlocksClick,u=e.isInGroupBlock,d=o()(e,["blocks","renderBlockWrapper","blockLimit","isExpanded","onExpandBlocksClick","isInGroupBlock"]),b=na.t("See more",{fallbackHash:"1e499ecc2930ea232e078d52f5ed2bc3820cd795"}),p=na.t("See less",{fallbackHash:"4c852b26d1b71054cb8fbccc79ae72e91dc94144"}),h=void 0!==s&&r.length>s,m=r.map(function(e,t){if(h&&!c&&t>=s)return null;var n=zr.a[e.type];if(!n)return null;var r=e.blockId||e.type+"-"+t,o=E.a.createElement("div",{key:r,className:"p-block_kit_renderer__block_wrapper"},E.a.createElement(n,a()({},e,ta(d,e,t),{isInGroupBlock:u})));return i(o,e,t)}),f=w()("p-block_kit_renderer",{"p-block_kit_renderer--absorb_margin":!u&&Object(Qr.b)(d.blocksContainerContext)});return E.a.createElement("div",{className:f,"data-qa":"block-kit-renderer"},m,h?(t=c,n=l,E.a.createElement($.c,{className:"p-block_kit_renderer__expand_blocks",onClick:n},t?p:b)):null)};aa.displayName="BlockKitRenderer",aa.defaultProps=ra;var ia=Object(Wr.b)(aa),oa=(n("1H+G"),T.a.BlockKitBlocks.isRequired,S.b.func.isRequired,S.b.bool.isRequired,new M.b("block_kit")),sa=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isExpanded:!1};var r=e.featureAttachmentsV2;return n.expandLabel=r?oa.t("Show More"):"Show More",n.unexpandLabel=r?oa.t("Show Less"):"Show Less",n.handleClick=n.handleClick.bind(n),n}return f()(t,e),h()(t,[{key:"handleClick",value:function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"render",value:function(){var e=this.props,t=e.blocks,n=e.onAction;return E.a.createElement("div",{className:"p-expandable_block"},E.a.createElement($.d,{type:"outline",size:"small",onClick:this.handleClick,className:"p-expandable_block_button_adjustment"},E.a.createElement(Ee.b,{type:"expand-vertical"}),E.a.createElement(ne.a,{"data-qa":"bk_expandable_mrkdwn",text:this.state.isExpanded?this.unexpandLabel:this.expandLabel})),this.state.isExpanded?E.a.createElement(ia,{blocks:t,onAction:n}):null)}}]),t}(k.PureComponent);sa.displayName="Expandable";var ca=Object(q.b)(function(e){return{featureAttachmentsV2:Object(z.j)(e,"feature_attachments_v2")}})(sa),la=n("Y+74"),ua=n("AITD"),da=n("K7CU"),ba=n("a+Oh"),pa="bullet",ha="ordered",ma={RICH_TEXT:"rich_text",SECTION:"rich_text_section",QUOTE:"rich_text_quote",PREFORMATTED:"rich_text_preformatted",LIST:"rich_text_list",TEXT:"text",USER:"user",USERGROUP:"usergroup",CHANNEL:"channel",BROADCAST:"broadcast",EMOJI:"emoji",LINK:"link",TEAM:"team",DATE:"date",COLOR:"color",_THEME_INSTALL_BUTTON:"theme_install_button"},fa=n("zmn3"),va=n("t3QL"),ga=(S.b.string.isRequired,S.b.arrayOf(S.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===ma.SECTION&&n&&n.length?E.a.createElement("div",{className:"p-rich_text_section"},E.a.createElement(Bi,{elements:n})):null});ga.displayName="RichTextSection";var _a=ga,Oa=(S.b.string.isRequired,S.b.arrayOf(S.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===ma.QUOTE&&n&&n.length?E.a.createElement("blockquote",{className:"c-mrkdwn__quote","data-stringify-type":"quote"},E.a.createElement(Bi,{elements:n})):null});Oa.displayName="RichTextQuote";var ya=Oa,ja=(S.b.string.isRequired,S.b.arrayOf(S.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===ma.PREFORMATTED&&n&&n.length?E.a.createElement("pre",{className:"c-mrkdwn__pre","data-stringify-type":"pre"},E.a.createElement(Bi,{elements:n})):null});ja.displayName="RichTextPreformatted";var ka=ja,Ea=pa,Ca=ha,Ia=(S.b.string.isRequired,S.b.arrayOf(S.b.object).isRequired,S.b.oneOf([Ea,Ca]),S.b.number,S.b.number,function(e){var t=e.type,n=e.elements,r=e.style,a=e.indent,i=e.index;if(t!==ma.LIST||!n||!n.length)return null;var o=n.map(function(e,t){return E.a.createElement("li",{key:t},E.a.createElement(Bi,{elements:e.elements}))}),s=w()("p-rich_text_list","p-rich_text_list__"+r),c=i?i+1:void 0;return r===Ea?E.a.createElement("ul",{"data-stringify-type":"unordered-list",className:s,"data-indent":a,start:c},o):E.a.createElement("ol",{"data-stringify-type":"ordered-list",className:s,"data-indent":a,start:c},o)});Ia.defaultProps={style:Ea,indent:0,index:void 0};var wa=Ia,Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children,n=e.style;if(!t)return null;var r=n||{},a=r.bold,i=r.italic,o=r.strike,s=r.code,c=r.userHighlight,l=t;return o&&(l=E.a.createElement("s",{"data-stringify-type":"strike"},l)),i&&(l=E.a.createElement("i",{"data-stringify-type":"italic"},l)),a&&(l=E.a.createElement("b",{"data-stringify-type":"bold"},l)),c&&(l=E.a.createElement("span",{className:"c-mrkdwn__highlight"},l)),s&&(l=E.a.createElement("code",{"data-stringify-type":"code",className:"c-mrkdwn__code"},l)),l};Sa.defaultProps={style:void 0};var Ta=Sa,Ra=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,{style:void 0}),Na=function(e){var t=e.type,n=e.text,r=e.style;return t===ma.TEXT&&n?E.a.createElement(Ta,{style:r},n):null};Na.displayName="Text",Na.defaultProps=Ra;var xa=Na,Ma=n("Atrf"),Pa=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,{style:void 0}),Aa=function(e){var t=e.type,n=e.userId,r=e.style;return t===ma.USER&&n?E.a.createElement(Ta,{style:r},E.a.createElement(Ma.a,{id:n,showTooltip:!0})):null};Aa.displayName="User",Aa.defaultProps=Pa;var Da=Aa,La=n("F+zK"),qa=n("HvGc"),Fa=n("sK36"),Ba=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,S.b.func,S.b.bool,{style:void 0,onUserGroupClick:y.a,featureSonicUserGroups:!1}),Ua=function(e){var t=e.type,n=e.usergroupId,r=e.style,a=e.featureSonicUserGroups,i=e.onUserGroupClick;return t===ma.USERGROUP&&n?E.a.createElement(Ta,{style:r},E.a.createElement(La.a,{id:n,onClick:function(e){return function(e,t){var n=t.usergroupId,r=t.onUserGroupClick,a=t.featureSonicUserGroups;e.preventDefault(),a?r(n):Object(Fa.d)(e,n)}(e,{usergroupId:n,featureSonicUserGroups:a,onUserGroupClick:i})}})):null};Ua.displayName="UserGroup",Ua.defaultProps=Ba;var Ha=Object(q.b)(function(e){return{featureSonicUserGroups:Object(z.j)(e,"feature_sonic_user_groups")}},function(e){return{onUserGroupClick:function(t){return e(Object(qa.n)({groupId:t}))}}})(Ua),Ka=n("B/Zf"),Ga=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,{style:void 0}),Va=function(e){var t=e.type,n=e.channelId,r=e.style;return t===ma.CHANNEL&&n?E.a.createElement(Ta,{style:r},E.a.createElement(Ka.a,{id:n})):null};Va.displayName="Channel",Va.defaultProps=Ga;var za=Va,Ya=n("0Cnk"),Wa=(S.b.string.isRequired,S.b.oneOf(["here","channel","everyone"]).isRequired,S.b.object,{style:void 0}),Qa=function(e){var t=e.type,n=e.range,r=e.style;return t===ma.BROADCAST&&n?E.a.createElement(Ta,{style:r},E.a.createElement(Ya.a,{type:n})):null};Qa.displayName="Broadcast",Qa.defaultProps=Wa;var Xa=Qa,Za=n("qkTT"),Ja=(S.b.string.isRequired,S.b.string.isRequired,S.b.number,S.b.bool,S.b.object,{skinTone:void 0,isJumbomoji:!1,style:void 0}),$a=function(e){var t=e.type,n=e.name,r=e.skinTone,a=e.isJumbomoji,i=e.style;if(t!==ma.EMOJI||!n)return null;var o=r?":"+n+"::skin-tone-"+r+":":":"+n+":",s=a?Za.a.LARGE:Za.a.MEDIUM;return E.a.createElement(Ta,{style:i},E.a.createElement(Za.b,{text:o,emojiSize:s,isEmojiInlineWithText:!a,showTooltip:!0}))};$a.displayName="Emoji",$a.defaultProps=Ja;var ei=$a,ti=n("4yrM"),ni=(S.b.string.isRequired,S.b.string.isRequired,S.b.string,S.b.object,{text:void 0,style:void 0}),ri=function(e){var t=e.type,n=e.url,r=e.text,a=e.style;if(t!==ma.LINK||!n)return null;var i=r||n;return E.a.createElement(Ta,{style:a},E.a.createElement(ti.a,{url:n},i))};ri.displayName="Link",ri.defaultProps=ni;var ai=ri,ii=n("ciUk"),oi=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,{style:void 0}),si=function(e){var t=e.type,n=e.teamId,r=e.style;return t===ma.TEAM&&n?E.a.createElement(Ta,{style:r},E.a.createElement(ii.a,{id:n})):null};si.displayName="Team",si.defaultProps=oi;var ci=si,li=n("VjHM"),ui=n("HWeM"),di=(S.b.string.isRequired,S.b.number.isRequired,S.b.string.isRequired,S.b.string,S.b.string,S.b.bool,S.b.object,{url:void 0,fallback:void 0,do24hrTime:!1,style:void 0}),bi=function(e){function t(){return u()(this,t),b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.timestamp,r=e.format,a=e.url,i=e.fallback,o=e.do24hrTime,s=e.style;if(t!==ma.DATE||!n||!r)return null;var c=n.toString();return E.a.createElement(Ta,{style:s},E.a.createElement(ui.a,{ts:c,format:r,link:a,fallback:i,do24hrTime:o}))}}]),t}(k.PureComponent);bi.displayName="RichTextDate",bi.defaultProps=di;var pi=Object(q.b)(function(e){return{do24hrTime:Object(li.g)(e,"time24")}})(bi),hi=(S.b.string.isRequired,S.b.string.isRequired,S.b.object,{style:void 0}),mi=function(e){var t=e.type,n=e.value,r=e.style;return t===ma.COLOR&&n?E.a.createElement(Ta,{style:r},n,E.a.createElement("div",{className:"c-mrkdwn__hex",style:{background:n}})):null};mi.displayName="Color",mi.defaultProps=hi;var fi=mi,vi=n("xUg9"),gi=(S.b.string.isRequired,S.b.array.isRequired,function(e){var t=e.type,n=e.colors;return t===ma._THEME_INSTALL_BUTTON&&n&&n.length?E.a.createElement("div",{className:"p-rich_text_block__theme_install_btn_wrapper"},E.a.createElement(vi.a,{colors:n})):null});gi.displayName="ThemeInstallButton";var _i=gi,Oi=(S.b.string,{type:void 0}),yi=function(e){var t=e.type;return E.a.createElement("div",null,"UNKNOWN rich text element of type: ",t)};yi.displayName="Unknown",yi.defaultProps=Oi;var ji,ki=yi,Ei=(S.b.arrayOf(S.b.object).isRequired,ma.SECTION),Ci=ma.QUOTE,Ii=ma.PREFORMATTED,wi=ma.LIST,Si=ma.TEXT,Ti=ma.USER,Ri=ma.USERGROUP,Ni=ma.CHANNEL,xi=ma.BROADCAST,Mi=ma.EMOJI,Pi=ma.LINK,Ai=ma.TEAM,Di=ma.DATE,Li=ma.COLOR,qi=ma._THEME_INSTALL_BUTTON,Fi=(ji={},N()(ji,Ei,_a),N()(ji,Ci,ya),N()(ji,Ii,ka),N()(ji,wi,wa),N()(ji,Si,xa),N()(ji,Ti,Da),N()(ji,Ri,Ha),N()(ji,Ni,za),N()(ji,xi,Xa),N()(ji,Mi,ei),N()(ji,Pi,ai),N()(ji,Ai,ci),N()(ji,Di,pi),N()(ji,Li,fi),N()(ji,qi,_i),ji),Bi=function(e){var t=e.elements;return t&&t.length?Object(fa.a)(t,function(e,t){var n=Fi[e.type];return n?E.a.createElement(n,a()({key:t},Object(va.b)(e))):E.a.createElement(ki,a()({key:t},Object(va.b)(e)))}):null},Ui=n("NFsq"),Hi=n("bPB8"),Ki=n("Olm7"),Gi=n("dYt1"),Vi=n("aWB3"),zi=n("dS/7"),Yi=n("3ooo"),Wi=n("HJ27"),Qi=n("ao6n"),Xi=n("Vfgr"),Zi=n("uXCg"),Ji=ma.TEXT,$i=ma.COLOR,eo=ma._THEME_INSTALL_BUTTON,to=8;function no(e){if(!e||e.type!==Ji)return!1;var t=e.text;return","===Object(Xi.a)(t," ")}var ro=function(e){return Object(Zi.a)(e,function(e){var t=e&&e.elements;if(!t.length)return e;var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var a=Object(Qi.a)(e,r),i=Object(Qi.a)(e,r+1);a&&a.type===$i?n.length<to-1&&no(i)?(n.push(a.value),r+=1):n.length===to-1?n.push(a.value):n=[]:n=[],n.length===to&&(t.push({index:r+1,colors:n}),n=[])}return t}(t),r=[].concat(c()(t));return Object(Wi.a)(n,function(e){if(e){var t,n=(t=e.colors)&&t.length===to?{type:eo,colors:t}:null;n&&r.splice(e.index,0,n)}}),a()({},e,{elements:r})})},ao=ma.SECTION,io=ma.EMOJI,oo=ma.TEXT,so=function(e){return(e.type===io||e.type===oo)&&!(function(e){var t=e&&e.text&&e.text.trim();return t?t.length:0}(e)>0)};function co(e,t){var n=[],r=0;return e.forEach(function(e){var i=function(e){return e.type===ma.TEXT?e.text:e.type===ma.LINK?e.text||e.url:" "}(e),o=i.length,s=function(e,t,n){var r=e.map(function(e){var r=e.index+e.length;return e.index<t&&r-t>0?{index:0,length:r-t}:e.index>=t&&e.index<t+n?{index:e.index-t,length:e.length}:null});return Object(Hi.a)(r)}(t,r,o);if(!s.length)return n.push(e),void(r+=o);var c=0;if(s.forEach(function(t){if(t.index>0){var r=a()({},Object(Gi.a)(e),{text:i.slice(c,t.index)});n.push(r)}var o=a()({},Object(Gi.a)(e),{style:a()({},e.style,{userHighlight:!0})});Object(Ui.a)([ma.TEXT,ma.LINK],e.type)&&(o.text=i.slice(t.index,t.index+t.length)),n.push(o),c=t.index+t.length}),c<o){var l=a()({},Object(Gi.a)(e),{text:i.slice(c)});n.push(l)}r+=o}),{convertedElements:n,processedLength:r}}var lo=function(e){var t=e.elements,n=e.highlightWords,r=e.isJumbomojiEnabled,i=e.isEmojiDisplayedAsText,o=t;return!i&&r&&(o=function(e){var t=e.elements;if(!t||!t.length||t.length>1)return t;var n=t[0];if(!n||n.type!==ao)return t;var r=n.elements;if(!r||!r.length)return t;for(var a=[],i=0,o=0;o<r.length;o++){var s=Object(Gi.a)(r[o]);if(!so(s))return t;if(s.type===io&&(s.isJumbomoji=!0,i+=1),i>23)return t;a.push(s)}return[{type:ao,elements:a}]}({elements:o})),i&&(o=function(e){function t(e){if(e.type===ma.EMOJI){var t={type:ma.TEXT,text:Object(zi.a)(e,{localize:!0})};return e.style&&(t.style=e.style),t}return e}return Object(Yi.a)(e,function(e){return e.map(t)})}(o)),n.length&&(o=function(e,t){var n=Object(Vi.b)({type:"rich_text",elements:e},t);if(!n.length)return e;var r=0;return Object(Yi.a)(e,function(e){var t=co(e,n.map(function(e){return a()({},e,{index:e.index-r})})),i=t.convertedElements,o=t.processedLength;return r+=o,Object(Ki.a)(n,function(e){return e.index<r}),r+=1,i})}(o,n)),o=ro(o)},uo=(n("U88O"),S.b.string.isRequired,S.b.arrayOf(S.b.object).isRequired,S.b.arrayOf(S.b.string),S.b.bool,S.b.bool,S.b.bool,function(e){function t(){return u()(this,t),b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.elements,r=e.highlightWords,a=e.isJumbomojiEnabled,i=e.isEmojiDisplayedAsText;if(!e.featureRichTextRendering)return null;if(t!==ma.RICH_TEXT||!n||!n.length)return null;var o=lo({elements:n,highlightWords:r,isJumbomojiEnabled:a,isEmojiDisplayedAsText:i});return E.a.createElement("div",{className:"p-rich_text_block"},E.a.createElement(Bi,{elements:o}))}}]),t}(k.PureComponent));uo.displayName="RichText",uo.defaultProps={highlightWords:[],isJumbomojiEnabled:!0,isEmojiDisplayedAsText:!1,featureRichTextRendering:!1};var bo=Object(q.b)(function(e){return{highlightWords:Object(la.a)(e),isJumbomojiEnabled:Object(ua.a)(e),isEmojiDisplayedAsText:Object(da.m)(e),featureRichTextRendering:Object(ba.b)(e)}})(uo),po=n("EOxd"),ho=(n("TMVx"),S.b.string.isRequired,S.b.string.isRequired,function(e){var t=e.callId,n=e.blockId;return E.a.createElement("div",{"data-qa":"callblock-"+t,className:"p-call_block"},E.a.createElement(po.a,{callId:t,blockId:n}))});ho.displayName="Call";var mo=ho,fo=n("O0RF"),vo=(n("R+HZ"),S.b.string.isRequired,S.b.shape({type:S.b.oneOf([x.e.plain_text]),text:S.b.string.isRequired,emoji:S.b.bool.isRequired}).isRequired,S.b.bool,S.b.shape({type:S.b.oneOf([].concat(c()(de.b))).isRequired}).isRequired,S.b.string,{isRequired:!0,blocksContainerContext:void 0}),go=function(e){var t=e.label,n=e.element,r=e.blocksContainerContext,i=o()(e,["label","element","blocksContainerContext"]),s=w()("p-block_kit_input_block",{"p-block_kit_input_block--full_width":nr(r)});return E.a.createElement("div",{className:s},E.a.createElement(fo.a,{text:E.a.createElement(oe,t),htmlFor:i.blockId,optional:!i.isRequired},E.a.createElement(Ln,a()({},function(e,t){var n,r=e;switch(t.type){case x.e.plain_text_input:r=a()({},e,t,{maxCharacterLimit:(n=t).maxLength,minCharacterLimit:n.minLength});break;default:r=a()({},e,t)}return r}(i,n),{className:"p-block_kit_input_block__element",size:Re.medium,parent:x.d.input}))))};go.displayName="Input",go.defaultProps=vo;var _o=go,Oo=n("OkQS"),yo=(n("QlkZ"),T.a.BlockKitBlocks.isRequired,S.b.string,S.b.string,{blocksContainerContext:void 0,protoColor:void 0}),jo=function(e){var t=e.blocksContainerContext,n=e.blocks,r=e.protoColor,a=r?E.a.createElement(Oo.a,{color:r,className:"c-message_attachment_v2__border"}):null;return E.a.createElement("div",{className:"p-group_block"},a,E.a.createElement(qo,{blocks:n,blocksContainerContext:t,isInGroupBlock:!0}))};jo.displayName="GroupBlock",jo.defaultProps=yo;var ko=jo,Eo=(n("CSaH"),n("ZUQO"),S.b.func,S.b.string.isRequired,S.b.string,S.b.arrayOf(S.b.shape({text:S.b.string.isRequired,value:S.b.string.isRequired})).isRequired,S.b.bool,{onAction:y.a,placeholder:void 0,isDisabled:!1}),Co=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(C.a)(n,["handleChange","handleAction","handleBlur","handleFocus"]),n.state={selected:null},n}return f()(t,e),h()(t,[{key:"handleAction",value:function(e){var t=e.selected;if(t){var n=this.props.options&&this.props.options.find(function(e){return e.value===t}),r=n.text,a=n.value;this.props.onAction({actionId:this.props.actionId,text:r,value:a})}}},{key:"handleChange",value:function(e){this.setState(function(){return{selected:e}}),this.handleAction({selected:e})}},{key:"handleBlur",value:function(){return Object(y.a)()}},{key:"handleFocus",value:function(){return Object(y.a)()}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.isDisabled;return E.a.createElement("div",{"data-qa":"bk_event_block_response",className:"p-event_block__information__response"},E.a.createElement("p",{className:"p-event_block__information__repsonse__going"},"Going?"),E.a.createElement(Ge.a,{className:"p-event_block__information__response",options:t?Object(Ue.e)(t):void 0,dataSource:"static",minQueryLength:3,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,value:this.state.selected,placeholder:this.props.placeholder,size:"small",isDisabled:n}))}}]),t}(k.PureComponent);Co.displayName="ResponseElement",Co.defaultProps=Eo;n("5TgM"),S.b.arrayOf(S.b.shape({name:S.b.string,start:S.b.string,end:S.b.string,location:S.b.string,all_day:S.b.bool,description:S.b.string})),S.b.string;var Io,wo=(Io={},N()(Io,x.d.context,Fn),N()(Io,x.d.section,gr),N()(Io,x.d.image,Er),N()(Io,x.d.divider,Ir),N()(Io,x.d.actions,br),N()(Io,x.d.file,Rr),N()(Io,x.d.message,Vr),N()(Io,x.d.expandable,ca),N()(Io,x.d.error,D),N()(Io,x.d.rich_text,bo),N()(Io,x.d.call,mo),N()(Io,x.d.input,_o),N()(Io,x.d.group,ko),Io),So=n("RO/v"),To=(n("Xo4w"),new M.b("block_kit")),Ro=(S.b.string,{errorMessage:void 0}),No=function(e){var t=e.errorMessage;return E.a.createElement("div",{"data-qa":"block_kit_top_level_error",className:"p-block_kit_renderer_error"},t||To.t("We can't fully display this message."))};No.displayName="TopLevelErrorElement",No.defaultProps=Ro;var xo=No,Mo=n("kOzZ"),Po=n("negh"),Ao=new M.b("attachments"),Do=(T.a.BlockKitBlocks.isRequired,S.b.oneOf([de.a.message,de.a.message_attachment,de.a.view]),S.b.oneOf(Object(O.a)(de.a)).isRequired,S.b.string,S.b.number,S.b.bool,S.b.bool,S.b.func,S.b.object,S.b.object,S.b.func,S.b.func,S.b.func,S.b.func,S.b.func,S.b.string,S.b.string,{className:"",container:void 0,blockLimit:void 0,isExpanded:!1,onExpandBlocksClick:y.a,isInGroupBlock:!1,enabledBlocks:void 0,onAction:void 0,onActionsSuccess:j.a,onActionsError:j.a,enabledContainers:void 0,renderBlock:j.a,clogLinkClick:y.a,containerId:void 0,serviceId:void 0}),Lo=function(e){function t(e){u()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(C.a)(n,["processBlocks","handleExpandBlocksClick","renderExpandOrContractButton","onAction"]),n.sendActionsPromise=null,n.state={isExpanded:!1,containerIsDisabled:!1,loadingBlockIds:[],errorBlockIds:[],replaceWithError:!1},n}return f()(t,e),h()(t,null,[{key:"getDerivedStateFromError",value:function(){return{replaceWithError:!0}}}]),h()(t,[{key:"componentDidUpdate",value:function(e){!Object(v.a)(this.props.blocks,e.blocks)&&this.setState(function(){return{replaceWithError:!1,containerIsDisabled:!1}})}},{key:"componentWillUnmount",value:function(){this.sendActionsPromise&&this.sendActionsPromise.cancel&&this.sendActionsPromise.cancel()}},{key:"onAction",value:function(e){var t=this;!this.state.containerIsDisabled&&this.props.onAction&&(this.setState(function(t){return{containerIsDisabled:!0,loadingBlockIds:Object(_.a)(t.loadingBlockIds,[e.blockId]),errorBlockIds:Object(g.a)(t.errorBlockIds,[e.blockId])}}),this.sendActionsPromise=this.props.onAction(e).then(function(n){t.props.onActionsSuccess(n),t.setState(function(t){return{containerIsDisabled:!1,loadingBlockIds:Object(So.a)(t.loadingBlockIds,[e.blockId]),errorBlockIds:Object(So.a)(t.errorBlockIds,[e.blockId])}})}).catch(function(n){t.props.onActionsError(n),t.setState(function(t){return{containerIsDisabled:!1,loadingBlockIds:Object(So.a)(t.loadingBlockIds,[e.blockId]),errorBlockIds:Object(_.a)(t.errorBlockIds,[e.blockId])}})}))}},{key:"processBlocks",value:function(e){var t=this.props.enabledBlocks;return e.reduce(function(e,n){var r=Object(va.a)(n);return!1===t["featureFlag__"+n.type]?e:x.d[r.type]?[].concat(c()(e),[r]):[].concat(c()(e),[{type:x.d.error}])},[])}},{key:"handleExpandBlocksClick",value:function(){this.props.blockLimit&&this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"renderExpandOrContractButton",value:function(e){var t=this.props,n=t.blockLimit,r=t.blocks;return void 0!==n&&r.length>n&&E.a.createElement($.c,{className:"p-block_kit_renderer__expand_blocks",onClick:e},this.state.isBlockExpanded?Ao.t("See less"):Ao.t("See more"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.blocks,r=t.blockLimit,i=t.onExpandBlocksClick,s=t.isInGroupBlock,c=t.blocksContainerContext,l=t.enabledContainers,u=t.enabledBlocks,d=t.renderBlock,b=t.clogLinkClick,p=o()(t,["blocks","blockLimit","onExpandBlocksClick","isInGroupBlock","blocksContainerContext","enabledContainers","enabledBlocks","renderBlock","clogLinkClick"]);if(!n||0===n.length||this.state.replaceWithError||!c||!1===l["featureFlag__"+c])return E.a.createElement(xo,null);var h=void 0!==r&&n.length>r,m=n.map(function(t,n){if(h&&!e.state.isExpanded&&n>=r)return null;var i=Object(va.a)(t);if(!1===u["featureFlag__"+i.type])return null;var o=wo[i.type];if(!o)return{type:x.d.error};var l=i.blockId||i.type+"-"+n;return d(E.a.createElement(o,a()({key:l},i,ta(a()({loadingBlockIds:e.state.loadingBlockIds,errorBlockIds:e.state.errorBlockIds,blocksContainerContext:c},p),i,n),{onAction:e.onAction,isInGroupBlock:s,clogLinkClick:function(){return b({type:"block_kit_link"})}})),i,n)}),f=w()("p-block_kit_renderer",{"p-block_kit_renderer--absorb_margin":!s&&rr(c)});return E.a.createElement("div",{className:f,"data-qa":"block-kit-renderer"},m,h?this.getExpandOrContractCopy(i):null)}}]),t}(k.Component);Lo.displayName="BlockKitRenderer",Lo.defaultProps=Do;var qo=t.a=Object(q.b)(function(e,t){var n=t.blocksContainerContext,r=t.containerId,i=t.serviceId,o=Object(Mo.a)({state:e});return{enabledBlocks:Object(L.b)(e),enabledContainers:Object(L.c)(e),blockKitClogger:function(e,t){o.track(Po.k.MSG_ACTION,a()({},t)),o.track(e,a()({app_id:i,blocks_container_context:n,container_id:r},t))}}})(Object(Wr.b)(Lo))},Ewba:function(e,t,n){"use strict";var r=n("9oTK"),a=n("kxpR"),i=n.n(a),o=n("aK/h"),s=n("XfeM"),c=n("DTT0"),l=n("HO/Y"),u=n("wfE8"),d=n("QbLZ"),b=n.n(d),p=n("iCc5"),h=n.n(p),m=n("V7oC"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("mRg0"),O=n.n(_),y=n("ifKl"),j=n("XHGt"),k=n("tn36"),E=n("D4L/"),C=n("5mKg"),I=n("Fdc0"),w=n("13mM"),S=n("cTgs"),T=n("yHhI"),R=n("nNoG"),N=n("hI7H"),x=n("LA/b"),M=n("zAO+"),P=n("HSvc"),A=n("fgg+"),D=n("A+cF"),L=n("3dqR"),q=n("Cudy"),F=n("kd6D");n("9evh"),o.b.shape({id:o.b.string,invite_url:o.b.string,inviting_team:o.b.object,inviting_user:o.b.object,receiving_user_id:o.b.string,channel:o.b.string,channel_name:o.b.string,purpose:o.b.string,date_create:o.b.number,custom_message:o.b.string,offer_trial:o.b.bool}).isRequired;function B(e){var t=e.invite,n=t.inviting_user;return i.a.createElement("div",{className:"p-shared_channel_invitation_message"},i.a.createElement(D.d,{avatar:function(e){return i.a.createElement(L.b,b()({},e,{user:b()({},n,{is_external:!0}),team:t.inviting_team,size:F.a.medium,isExternal:!0}))},size:"medium",text:i.a.createElement(i.a.Fragment,null,i.a.createElement(q.a,{className:"c-medium-member__name","data-qa":"name",name:n.name,multiline:!0}),t.inviting_team.name)}),t.custom_message&&i.a.createElement("p",{className:"p-shared_channel_invitation_message__message"},"\u201c",t.custom_message,"\u201d"))}B.displayName="InvitationMessage",B.defaultProps={};var U=n("EsAD"),H=(n("7mhZ"),new R.b("shared_channels")),K=(o.b.shape({id:o.b.string,invite_url:o.b.string,inviting_team:o.b.object,inviting_user:o.b.object,receiving_user_id:o.b.string,channel:o.b.string,channel_name:o.b.string,purpose:o.b.string,date_create:o.b.number,custom_message:o.b.string,offer_trial:o.b.bool}).isRequired,o.b.func,o.b.bool,o.b.func,o.b.string.isRequired,o.b.bool,o.b.bool,o.b.bool,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.object.isRequired,{featureSonicEscCreation:!1,featureOfflineMode:!1,isOffline:!1,onAccept:y.a,showOpenTransition:void 0,onBack:void 0}),G={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1},V="ESC-INVITE-MODAL",z=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={channelName:e.invite.channel_name,channelNameErrors:{},isPrivate:!1,invitedUsers:[],loading:!1,unknownError:!1},Object(k.a)(n,["onChannelNameChange","onChannelValidationChange","onPublicPrivateChange","onChannelInvitedUsersChange","onGo"]),n}return O()(t,e),f()(t,[{key:"onChannelNameChange",value:function(e){this.setState(function(){return{channelName:e}})}},{key:"onChannelValidationChange",value:function(e){this.setState(function(){return{channelNameErrors:e}})}},{key:"onPublicPrivateChange",value:function(e){var t=e.isPrivate;this.setState(function(){return{isPrivate:t}})}},{key:"onChannelInvitedUsersChange",value:function(e){this.setState(function(){return{invitedUsers:e}})}},{key:"onGo",value:function(){var e=this,t=this.props,n=t.invite,r=t.logger,a=this.state,i=a.channelName,o=a.isPrivate,s=a.invitedUsers;i&&!this.hasErrors()&&(this.setState(function(){return{loading:!0}}),r.info(V,"Starting the accept invitation process..."),this.props.submitAcceptSharedInvite({inviteId:n.id,channelName:i,isPrivate:o,reason:"shared-channel-invitation-modal/onGo"}).then(function(t){var n=t.channel;r.info(V,"Channel was successfully created."),s.length&&(r.info(V,"Inviting "+s.length+" user(s) to the channel."),e.props.submitInviteToChannel({channelId:n.id,users:s.map(function(e){return e.value}).join(",")})),r.info(V,"Switching to the newly created channel."),e.props.setPrimaryView({id:n.id}),r.info(V,"Closing the modal."),e.props.onAccept(),e.props.closeModal()}).catch(function(t){r.info(V,"Hit an error in the chain of channel invitation API calls. See below:"),r.error(V,t);var n={isLoading:!1};switch(t.name){case"name_taken":n.channelNameErrors=b()({},G,{hasNameTakenWarning:!0});break;case"invalid_name_required":n.channelNameErrors=b()({},G,{hasNameRequiredWarning:!0});break;case"invalid_name_specials":case"invalid_name_punctuation":n.channelNameErrors=b()({},G,{hasSpecialsWarning:!0});break;case"invalid_name_maxlength":n.channelNameErrors=b()({},G,{hasMaxLengthWarning:!0});break;case"invite_not_found":r.info(V,"The invite was not found, which could mean it expired while we were in the modal. Closing!"),e.props.closeModal();break;default:n.unknownError=!0}e.setState(function(){return n})}))}},{key:"getGoButtonDisabledState",value:function(){return!this.state.channelName||this.hasErrors()||this.props.featureOfflineMode&&this.props.isOffline}},{key:"hasErrors",value:function(){var e=this.state,t=e.channelNameErrors,n=e.invitedUsers;return t.hasNameRequiredWarning||t.hasMaxLengthWarning||t.hasSpecialsWarning||t.hasPunctuationWarning||t.hasNameTakenWarning||n.length>1e3}},{key:"filterMembers",value:function(e){return!Object(I.lb)(e)&&!Object(I.Db)(e)}},{key:"render",value:function(){var e=this.props,t=e.featureSonicEscCreation,n=e.invite,r=e.myTeamName,a=e.showOpenTransition,o=e.onBack,s=this.state,c=s.channelName,l=s.channelNameErrors,u=s.isPrivate,d=s.invitedUsers,b=s.unknownError;if(!t)return null;var p=n.inviting_team.name;return i.a.createElement(N.a,{title:H.t("Shared channel invitation"),modalClasses:"p-shared_channel_invitation_modal",goButtonText:n.offer_trial?H.t("Start Trial & Accept"):H.t("Accept & Add Channel"),onGo:this.onGo,goButtonIsDisabled:this.getGoButtonDisabledState(),goButtonIsPending:this.state.loading,showBackButton:!!o,onBack:o,showOpenTransition:a,withFooter:!0},i.a.createElement("p",{className:"margin_bottom_100"},H.rt("<strong>{invitingTeamName}</strong> would like to share a channel with your organization.",{invitingTeamName:p})),i.a.createElement(A.a,null),i.a.createElement("h2",{className:"p-shared_channel_invitation_modal__title"},H.t("Invited by")),i.a.createElement(B,{invite:n}),i.a.createElement("h2",{className:"p-shared_channel_invitation_modal__title p-shared_channel_invitation_modal__title--details"},H.t("Channel details")),i.a.createElement("p",{className:"p-shared_channel_invitation_modal__subtitle"},H.rt("You can edit these if you\u2019d like. Changes you make will only affect <strong>{myTeamName}</strong>.",{myTeamName:r})),i.a.createElement(M.a,{onChange:this.onPublicPrivateChange,isPrivate:u}),i.a.createElement(x.a,{id:"shared_channel_name",name:"shared_channel_name",initialChannelName:c,channelNameErrors:l,onChannelNameChange:this.onChannelNameChange,onChannelValidationChange:this.onChannelValidationChange,isPrivate:u,customErrorMessage:b?H.t("For some weird reason, that didn\u2019t work. Please try again to continue."):null}),i.a.createElement(P.a,{onChange:this.onChannelInvitedUsersChange,exceededLimitError:d.length>1e3,filterMembers:this.filterMembers}),i.a.createElement(U.a,null))}}]),t}(a.Component);z.displayName="SharedChannelInvitationModal",z.defaultProps=K;var Y,W=Object(j.b)(function(e){return{featureSonicEscCreation:Object(l.j)(e,"feature_sonic_esc_creation"),featureOfflineMode:Object(l.j)(e,"feature_offline_mode"),myTeamName:Object(C.e)(Object(E.d)(e)),isOffline:!Object(w.c)(e),logger:Object(T.a)({state:e})}},function(e){return{submitAcceptSharedInvite:function(){return e(u.y.apply(void 0,arguments))},submitInviteToChannel:function(){return e(u.J.apply(void 0,arguments))},setPrimaryView:function(){return e(S.a.apply(void 0,arguments))},closeModal:function(){return e(c.a.apply(void 0,arguments))}}})(z),Q=Object(s.b)("Opens the Shared Channel Accept Invitation modal",(Y=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.inviteId,d=o.invite,b=o.showOpenTransition,p=o.onBack,h=o.reason;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(l.j)(n(),"feature_sonic_esc_creation")){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=d,e.t0){e.next=7;break}return e.next=6,Object(r.resolve)(t(Object(u.n)({invite:s,reason:h||"openSharedChannelInvitationModal"})));case 6:e.t0=e.sent.invite;case 7:a=e.t0,t(Object(c.e)({element:i.a.createElement(W,{invite:a,showOpenTransition:b,onBack:p})}));case 9:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return Y.apply(this,arguments)}));Q.propTypes=o.b.oneOfType([o.b.shape({inviteId:o.b.string.isRequired,showOpenTransition:o.b.bool,onBack:o.b.func,reason:o.b.string}).isRequired,o.b.shape({invite:o.b.object.isRequired,showOpenTransition:o.b.bool,onBack:o.b.func}).isRequired]).isRequired;t.a=Q},ExPg:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return v});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("aK/h"),u=n("EzZj"),d=n("MNvw"),b=n("U/ze"),p=Object(u.b)("Store intent to make a channel active (display it) and/or send a message after opening it");p.propTypes={channelId:l.b.string,memberId:l.b.string,shouldBecomeActive:l.b.bool,msgText:l.b.string};var h=Object(u.b)("Clear intent to make a channel active (display it) and send a message after opening it");h.propTypes={channelId:l.b.string,memberId:l.b.string};var m=Object(d.b)((r={},i()(r,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.memberId,a=t.msgText,o=t.shouldBecomeActive,c=void 0===o||o,l=n||r;return l?e&&e[l]&&e[l].msgText===a?e:s()({},e,i()({},l,{msgText:a,shouldBecomeActive:c})):e}),i()(r,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.memberId;return(n||r)&&(e[n]||e[r])?Object(c.a)(e,[n,r]):e}),r),{},{persistenceEnabled:!0});m.propTypes=l.b.objectOf(l.b.shape({msgText:l.b.string,shouldBecomeActive:l.b.bool})),t.b=m;var f=Object(b.b)(function(e,t){return e&&e.pendingOpenChannel&&e.pendingOpenChannel[t]&&e.pendingOpenChannel[t].shouldBecomeActive}),v=Object(b.b)(function(e,t){return e&&e.pendingOpenChannel&&e.pendingOpenChannel[t]&&e.pendingOpenChannel[t].msgText})},"F+X0":function(e,t,n){},"F+zK":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("ifKl"),o=n("aK/h"),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("XHGt"),b=n("MnCE"),p=n("Smdl"),h=n("DQNL"),m=n("5mKg"),f=n("BYHq"),v=n("pGee"),g=n("D4L/"),_=n("0f2Y"),O=n("9mdM"),y=n("mzG2"),j=(o.b.string.isRequired,o.b.string,o.b.string,o.b.string,o.b.bool,o.b.func,o.b.bool,o.b.bool,o.b.bool,o.b.bool,o.b.bool,o.b.bool,o.b.object,{className:void 0,fallback:null,handle:null,isUserInGroup:!1,onClick:i.a,noHighlights:!1,noLinking:!1,isUnknown:!1,isNonExistent:!1,isFromAnotherTeam:!1,isDeactivated:!1,team:void 0});function k(e){var t=e.id,n=e.className,r=e.fallback,i=e.handle,o=e.isUserInGroup,s=e.onClick,l=e.noHighlights,d=e.noLinking,b=e.isNonExistent,h=e.isUnknown,f=e.isFromAnotherTeam,v=e.isDeactivated,g=e.team;if(h)return c.a.createElement(O.a,{type:"unknown"});var j=!(d||b||f||v),k=Object(y.a)({userGroupHandle:i,fallbackHandle:r,isUnknown:h,isNonExistent:b}),E=o&&!l,C=u()("c-mrkdwn__user_group",n,{"c-mrkdwn__user_group--link":j,"c-mrkdwn__user_group--mention":E});if(!j)return c.a.createElement("span",{"data-user-group-id":t,"data-qa-user-group-mrkdwn-is-linked":j,"data-qa-user-group-mrkdwn-is-mention":E,className:C},k);var I={};return Object(p.a)()?(I["data-stringify-type"]="mention",I["data-stringify-id"]=t,I["data-stringify-label"]=k):I["data-stringify-text"]=k,c.a.createElement(_.a,a()({className:C,"data-user-group-id":t,"data-qa-user-group-mrkdwn-is-linked":j,"data-qa-user-group-mrkdwn-is-mention":E,href:Object(m.o)(g)+"admin/user_groups",onClick:function(e){return s(e,t)}},I),k)}k.displayName="UserGroup",k.defaultProps=j;Object(b.a)(k);t.a=Object(d.b)(function(e,t){var n=t.id,r=Object(v.e)(e,n),a=void 0;if(r){var i=Object(h.s)(r),o=Object(h.r)(r),s=Object(v.j)(e,n),c=!Object(h.u)(r);a={handle:r.handle,isUnknown:i,isNonExistent:o,isFromAnotherTeam:s,isDeactivated:c,isUserInGroup:Object(f.e)(e,r.id)&&!c,team:Object(g.d)(e)}}else a={isNonExistent:!0};return a})(k)},F3fH:function(e,t,n){},F6LU:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("hTH3");var r={"&Aacute;":"\xc1","&Aacute":"\xc1","&aacute;":"\xe1","&aacute":"\xe1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223e","&acd;":"\u223f","&acE;":"\u223e\u0333","&Acirc;":"\xc2","&Acirc":"\xc2","&acirc;":"\xe2","&acirc":"\xe2","&acute;":"\xb4","&acute":"\xb4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xc6","&AElig":"\xc6","&aelig;":"\xe6","&aelig":"\xe6","&af;":"\u2061","&Afr;":"\ud835\udd04","&afr;":"\ud835\udd1e","&Agrave;":"\xc0","&Agrave":"\xc0","&agrave;":"\xe0","&agrave":"\xe0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03b1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2a3f","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2a53","&and;":"\u2227","&andand;":"\u2a55","&andd;":"\u2a5c","&andslope;":"\u2a58","&andv;":"\u2a5a","&ang;":"\u2220","&ange;":"\u29a4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29a8","&angmsdab;":"\u29a9","&angmsdac;":"\u29aa","&angmsdad;":"\u29ab","&angmsdae;":"\u29ac","&angmsdaf;":"\u29ad","&angmsdag;":"\u29ae","&angmsdah;":"\u29af","&angrt;":"\u221f","&angrtvb;":"\u22be","&angrtvbd;":"\u299d","&angsph;":"\u2222","&angst;":"\xc5","&angzarr;":"\u237c","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\ud835\udd38","&aopf;":"\ud835\udd52","&ap;":"\u2248","&apacir;":"\u2a6f","&apE;":"\u2a70","&ape;":"\u224a","&apid;":"\u224b","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224a","&Aring;":"\xc5","&Aring":"\xc5","&aring;":"\xe5","&aring":"\xe5","&Ascr;":"\ud835\udc9c","&ascr;":"\ud835\udcb6","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224d","&Atilde;":"\xc3","&Atilde":"\xc3","&atilde;":"\xe3","&atilde":"\xe3","&Auml;":"\xc4","&Auml":"\xc4","&auml;":"\xe4","&auml":"\xe4","&awconint;":"\u2233","&awint;":"\u2a11","&backcong;":"\u224c","&backepsilon;":"\u03f6","&backprime;":"\u2035","&backsim;":"\u223d","&backsimeq;":"\u22cd","&Backslash;":"\u2216","&Barv;":"\u2ae7","&barvee;":"\u22bd","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23b5","&bbrktbrk;":"\u23b6","&bcong;":"\u224c","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201e","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29b0","&bepsi;":"\u03f6","&bernou;":"\u212c","&Bernoullis;":"\u212c","&Beta;":"\u0392","&beta;":"\u03b2","&beth;":"\u2136","&between;":"\u226c","&Bfr;":"\ud835\udd05","&bfr;":"\ud835\udd1f","&bigcap;":"\u22c2","&bigcirc;":"\u25ef","&bigcup;":"\u22c3","&bigodot;":"\u2a00","&bigoplus;":"\u2a01","&bigotimes;":"\u2a02","&bigsqcup;":"\u2a06","&bigstar;":"\u2605","&bigtriangledown;":"\u25bd","&bigtriangleup;":"\u25b3","&biguplus;":"\u2a04","&bigvee;":"\u22c1","&bigwedge;":"\u22c0","&bkarow;":"\u290d","&blacklozenge;":"\u29eb","&blacksquare;":"\u25aa","&blacktriangle;":"\u25b4","&blacktriangledown;":"\u25be","&blacktriangleleft;":"\u25c2","&blacktriangleright;":"\u25b8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20e5","&bnequiv;":"\u2261\u20e5","&bNot;":"\u2aed","&bnot;":"\u2310","&Bopf;":"\ud835\udd39","&bopf;":"\ud835\udd53","&bot;":"\u22a5","&bottom;":"\u22a5","&bowtie;":"\u22c8","&boxbox;":"\u29c9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250c","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252c","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229f","&boxplus;":"\u229e","&boxtimes;":"\u22a0","&boxUL;":"\u255d","&boxUl;":"\u255c","&boxuL;":"\u255b","&boxul;":"\u2518","&boxUR;":"\u255a","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256c","&boxVh;":"\u256b","&boxvH;":"\u256a","&boxvh;":"\u253c","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255f","&boxvR;":"\u255e","&boxvr;":"\u251c","&bprime;":"\u2035","&Breve;":"\u02d8","&breve;":"\u02d8","&brvbar;":"\xa6","&brvbar":"\xa6","&Bscr;":"\u212c","&bscr;":"\ud835\udcb7","&bsemi;":"\u204f","&bsim;":"\u223d","&bsime;":"\u22cd","&bsol;":"\\","&bsolb;":"\u29c5","&bsolhsub;":"\u27c8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224e","&bumpE;":"\u2aae","&bumpe;":"\u224f","&Bumpeq;":"\u224e","&bumpeq;":"\u224f","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22d2","&cap;":"\u2229","&capand;":"\u2a44","&capbrcup;":"\u2a49","&capcap;":"\u2a4b","&capcup;":"\u2a47","&capdot;":"\u2a40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\ufe00","&caret;":"\u2041","&caron;":"\u02c7","&Cayleys;":"\u212d","&ccaps;":"\u2a4d","&Ccaron;":"\u010c","&ccaron;":"\u010d","&Ccedil;":"\xc7","&Ccedil":"\xc7","&ccedil;":"\xe7","&ccedil":"\xe7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2a4c","&ccupssm;":"\u2a50","&Cdot;":"\u010a","&cdot;":"\u010b","&cedil;":"\xb8","&cedil":"\xb8","&Cedilla;":"\xb8","&cemptyv;":"\u29b2","&cent;":"\xa2","&cent":"\xa2","&CenterDot;":"\xb7","&centerdot;":"\xb7","&Cfr;":"\u212d","&cfr;":"\ud835\udd20","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03a7","&chi;":"\u03c7","&cir;":"\u25cb","&circ;":"\u02c6","&circeq;":"\u2257","&circlearrowleft;":"\u21ba","&circlearrowright;":"\u21bb","&circledast;":"\u229b","&circledcirc;":"\u229a","&circleddash;":"\u229d","&CircleDot;":"\u2299","&circledR;":"\xae","&circledS;":"\u24c8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29c3","&cire;":"\u2257","&cirfnint;":"\u2a10","&cirmid;":"\u2aef","&cirscir;":"\u29c2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201d","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2a74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2a6d","&Congruent;":"\u2261","&Conint;":"\u222f","&conint;":"\u222e","&ContourIntegral;":"\u222e","&Copf;":"\u2102","&copf;":"\ud835\udd54","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xa9","&COPY":"\xa9","&copy;":"\xa9","&copy":"\xa9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21b5","&Cross;":"\u2a2f","&cross;":"\u2717","&Cscr;":"\ud835\udc9e","&cscr;":"\ud835\udcb8","&csub;":"\u2acf","&csube;":"\u2ad1","&csup;":"\u2ad0","&csupe;":"\u2ad2","&ctdot;":"\u22ef","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22de","&cuesc;":"\u22df","&cularr;":"\u21b6","&cularrp;":"\u293d","&Cup;":"\u22d3","&cup;":"\u222a","&cupbrcap;":"\u2a48","&CupCap;":"\u224d","&cupcap;":"\u2a46","&cupcup;":"\u2a4a","&cupdot;":"\u228d","&cupor;":"\u2a45","&cups;":"\u222a\ufe00","&curarr;":"\u21b7","&curarrm;":"\u293c","&curlyeqprec;":"\u22de","&curlyeqsucc;":"\u22df","&curlyvee;":"\u22ce","&curlywedge;":"\u22cf","&curren;":"\xa4","&curren":"\xa4","&curvearrowleft;":"\u21b6","&curvearrowright;":"\u21b7","&cuvee;":"\u22ce","&cuwed;":"\u22cf","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232d","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21a1","&dArr;":"\u21d3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2ae4","&dashv;":"\u22a3","&dbkarow;":"\u290f","&dblac;":"\u02dd","&Dcaron;":"\u010e","&dcaron;":"\u010f","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21ca","&DDotrahd;":"\u2911","&ddotseq;":"\u2a77","&deg;":"\xb0","&deg":"\xb0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03b4","&demptyv;":"\u29b1","&dfisht;":"\u297f","&Dfr;":"\ud835\udd07","&dfr;":"\ud835\udd21","&dHar;":"\u2965","&dharl;":"\u21c3","&dharr;":"\u21c2","&DiacriticalAcute;":"\xb4","&DiacriticalDot;":"\u02d9","&DiacriticalDoubleAcute;":"\u02dd","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02dc","&diam;":"\u22c4","&Diamond;":"\u22c4","&diamond;":"\u22c4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xa8","&DifferentialD;":"\u2146","&digamma;":"\u03dd","&disin;":"\u22f2","&div;":"\xf7","&divide;":"\xf7","&divide":"\xf7","&divideontimes;":"\u22c7","&divonx;":"\u22c7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231e","&dlcrop;":"\u230d","&dollar;":"$","&Dopf;":"\ud835\udd3b","&dopf;":"\ud835\udd55","&Dot;":"\xa8","&dot;":"\u02d9","&DotDot;":"\u20dc","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22a1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222f","&DoubleDot;":"\xa8","&DoubleDownArrow;":"\u21d3","&DoubleLeftArrow;":"\u21d0","&DoubleLeftRightArrow;":"\u21d4","&DoubleLeftTee;":"\u2ae4","&DoubleLongLeftArrow;":"\u27f8","&DoubleLongLeftRightArrow;":"\u27fa","&DoubleLongRightArrow;":"\u27f9","&DoubleRightArrow;":"\u21d2","&DoubleRightTee;":"\u22a8","&DoubleUpArrow;":"\u21d1","&DoubleUpDownArrow;":"\u21d5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21d3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21f5","&DownBreve;":"\u0311","&downdownarrows;":"\u21ca","&downharpoonleft;":"\u21c3","&downharpoonright;":"\u21c2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295e","&DownLeftVector;":"\u21bd","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295f","&DownRightVector;":"\u21c1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22a4","&DownTeeArrow;":"\u21a7","&drbkarow;":"\u2910","&drcorn;":"\u231f","&drcrop;":"\u230c","&Dscr;":"\ud835\udc9f","&dscr;":"\ud835\udcb9","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29f6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22f1","&dtri;":"\u25bf","&dtrif;":"\u25be","&duarr;":"\u21f5","&duhar;":"\u296f","&dwangle;":"\u29a6","&DZcy;":"\u040f","&dzcy;":"\u045f","&dzigrarr;":"\u27ff","&Eacute;":"\xc9","&Eacute":"\xc9","&eacute;":"\xe9","&eacute":"\xe9","&easter;":"\u2a6e","&Ecaron;":"\u011a","&ecaron;":"\u011b","&ecir;":"\u2256","&Ecirc;":"\xca","&Ecirc":"\xca","&ecirc;":"\xea","&ecirc":"\xea","&ecolon;":"\u2255","&Ecy;":"\u042d","&ecy;":"\u044d","&eDDot;":"\u2a77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\ud835\udd08","&efr;":"\ud835\udd22","&eg;":"\u2a9a","&Egrave;":"\xc8","&Egrave":"\xc8","&egrave;":"\xe8","&egrave":"\xe8","&egs;":"\u2a96","&egsdot;":"\u2a98","&el;":"\u2a99","&Element;":"\u2208","&elinters;":"\u23e7","&ell;":"\u2113","&els;":"\u2a95","&elsdot;":"\u2a97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25fb","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25ab","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014a","&eng;":"\u014b","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\ud835\udd3c","&eopf;":"\ud835\udd56","&epar;":"\u22d5","&eparsl;":"\u29e3","&eplus;":"\u2a71","&epsi;":"\u03b5","&Epsilon;":"\u0395","&epsilon;":"\u03b5","&epsiv;":"\u03f5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2a96","&eqslantless;":"\u2a95","&Equal;":"\u2a75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225f","&Equilibrium;":"\u21cc","&equiv;":"\u2261","&equivDD;":"\u2a78","&eqvparsl;":"\u29e5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212f","&esdot;":"\u2250","&Esim;":"\u2a73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03b7","&ETH;":"\xd0","&ETH":"\xd0","&eth;":"\xf0","&eth":"\xf0","&Euml;":"\xcb","&Euml":"\xcb","&euml;":"\xeb","&euml":"\xeb","&euro;":"\u20ac","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\ufb03","&fflig;":"\ufb00","&ffllig;":"\ufb04","&Ffr;":"\ud835\udd09","&ffr;":"\ud835\udd23","&filig;":"\ufb01","&FilledSmallSquare;":"\u25fc","&FilledVerySmallSquare;":"\u25aa","&fjlig;":"fj","&flat;":"\u266d","&fllig;":"\ufb02","&fltns;":"\u25b1","&fnof;":"\u0192","&Fopf;":"\ud835\udd3d","&fopf;":"\ud835\udd57","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22d4","&forkv;":"\u2ad9","&Fouriertrf;":"\u2131","&fpartint;":"\u2a0d","&frac12;":"\xbd","&frac12":"\xbd","&frac13;":"\u2153","&frac14;":"\xbc","&frac14":"\xbc","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215b","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xbe","&frac34":"\xbe","&frac35;":"\u2157","&frac38;":"\u215c","&frac45;":"\u2158","&frac56;":"\u215a","&frac58;":"\u215d","&frac78;":"\u215e","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\ud835\udcbb","&gacute;":"\u01f5","&Gamma;":"\u0393","&gamma;":"\u03b3","&Gammad;":"\u03dc","&gammad;":"\u03dd","&gap;":"\u2a86","&Gbreve;":"\u011e","&gbreve;":"\u011f","&Gcedil;":"\u0122","&Gcirc;":"\u011c","&gcirc;":"\u011d","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2a8c","&gel;":"\u22db","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2a7e","&ges;":"\u2a7e","&gescc;":"\u2aa9","&gesdot;":"\u2a80","&gesdoto;":"\u2a82","&gesdotol;":"\u2a84","&gesl;":"\u22db\ufe00","&gesles;":"\u2a94","&Gfr;":"\ud835\udd0a","&gfr;":"\ud835\udd24","&Gg;":"\u22d9","&gg;":"\u226b","&ggg;":"\u22d9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2aa5","&glE;":"\u2a92","&glj;":"\u2aa4","&gnap;":"\u2a8a","&gnapprox;":"\u2a8a","&gnE;":"\u2269","&gne;":"\u2a88","&gneq;":"\u2a88","&gneqq;":"\u2269","&gnsim;":"\u22e7","&Gopf;":"\ud835\udd3e","&gopf;":"\ud835\udd58","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22db","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2aa2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2a7e","&GreaterTilde;":"\u2273","&Gscr;":"\ud835\udca2","&gscr;":"\u210a","&gsim;":"\u2273","&gsime;":"\u2a8e","&gsiml;":"\u2a90","&GT;":">","&GT":">","&Gt;":"\u226b","&gt;":">","&gt":">","&gtcc;":"\u2aa7","&gtcir;":"\u2a7a","&gtdot;":"\u22d7","&gtlPar;":"\u2995","&gtquest;":"\u2a7c","&gtrapprox;":"\u2a86","&gtrarr;":"\u2978","&gtrdot;":"\u22d7","&gtreqless;":"\u22db","&gtreqqless;":"\u2a8c","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\ufe00","&gvnE;":"\u2269\ufe00","&Hacek;":"\u02c7","&hairsp;":"\u200a","&half;":"\xbd","&hamilt;":"\u210b","&HARDcy;":"\u042a","&hardcy;":"\u044a","&hArr;":"\u21d4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21ad","&Hat;":"^","&hbar;":"\u210f","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22b9","&Hfr;":"\u210c","&hfr;":"\ud835\udd25","&HilbertSpace;":"\u210b","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21ff","&homtht;":"\u223b","&hookleftarrow;":"\u21a9","&hookrightarrow;":"\u21aa","&Hopf;":"\u210d","&hopf;":"\ud835\udd59","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210b","&hscr;":"\ud835\udcbd","&hslash;":"\u210f","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224e","&HumpEqual;":"\u224f","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xcd","&Iacute":"\xcd","&iacute;":"\xed","&iacute":"\xed","&ic;":"\u2063","&Icirc;":"\xce","&Icirc":"\xce","&icirc;":"\xee","&icirc":"\xee","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xa1","&iexcl":"\xa1","&iff;":"\u21d4","&Ifr;":"\u2111","&ifr;":"\ud835\udd26","&Igrave;":"\xcc","&Igrave":"\xcc","&igrave;":"\xec","&igrave":"\xec","&ii;":"\u2148","&iiiint;":"\u2a0c","&iiint;":"\u222d","&iinfin;":"\u29dc","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012a","&imacr;":"\u012b","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22b7","&imped;":"\u01b5","&Implies;":"\u21d2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221e","&infintie;":"\u29dd","&inodot;":"\u0131","&Int;":"\u222c","&int;":"\u222b","&intcal;":"\u22ba","&integers;":"\u2124","&Integral;":"\u222b","&intercal;":"\u22ba","&Intersection;":"\u22c2","&intlarhk;":"\u2a17","&intprod;":"\u2a3c","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012e","&iogon;":"\u012f","&Iopf;":"\ud835\udd40","&iopf;":"\ud835\udd5a","&Iota;":"\u0399","&iota;":"\u03b9","&iprod;":"\u2a3c","&iquest;":"\xbf","&iquest":"\xbf","&Iscr;":"\u2110","&iscr;":"\ud835\udcbe","&isin;":"\u2208","&isindot;":"\u22f5","&isinE;":"\u22f9","&isins;":"\u22f4","&isinsv;":"\u22f3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xcf","&Iuml":"\xcf","&iuml;":"\xef","&iuml":"\xef","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\ud835\udd0d","&jfr;":"\ud835\udd27","&jmath;":"\u0237","&Jopf;":"\ud835\udd41","&jopf;":"\ud835\udd5b","&Jscr;":"\ud835\udca5","&jscr;":"\ud835\udcbf","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039a","&kappa;":"\u03ba","&kappav;":"\u03f0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041a","&kcy;":"\u043a","&Kfr;":"\ud835\udd0e","&kfr;":"\ud835\udd28","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040c","&kjcy;":"\u045c","&Kopf;":"\ud835\udd42","&kopf;":"\ud835\udd5c","&Kscr;":"\ud835\udca6","&kscr;":"\ud835\udcc0","&lAarr;":"\u21da","&Lacute;":"\u0139","&lacute;":"\u013a","&laemptyv;":"\u29b4","&lagran;":"\u2112","&Lambda;":"\u039b","&lambda;":"\u03bb","&Lang;":"\u27ea","&lang;":"\u27e8","&langd;":"\u2991","&langle;":"\u27e8","&lap;":"\u2a85","&Laplacetrf;":"\u2112","&laquo;":"\xab","&laquo":"\xab","&Larr;":"\u219e","&lArr;":"\u21d0","&larr;":"\u2190","&larrb;":"\u21e4","&larrbfs;":"\u291f","&larrfs;":"\u291d","&larrhk;":"\u21a9","&larrlp;":"\u21ab","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21a2","&lat;":"\u2aab","&lAtail;":"\u291b","&latail;":"\u2919","&late;":"\u2aad","&lates;":"\u2aad\ufe00","&lBarr;":"\u290e","&lbarr;":"\u290c","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298b","&lbrksld;":"\u298f","&lbrkslu;":"\u298d","&Lcaron;":"\u013d","&lcaron;":"\u013e","&Lcedil;":"\u013b","&lcedil;":"\u013c","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041b","&lcy;":"\u043b","&ldca;":"\u2936","&ldquo;":"\u201c","&ldquor;":"\u201e","&ldrdhar;":"\u2967","&ldrushar;":"\u294b","&ldsh;":"\u21b2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27e8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21d0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21e4","&LeftArrowRightArrow;":"\u21c6","&leftarrowtail;":"\u21a2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27e6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21c3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230a","&leftharpoondown;":"\u21bd","&leftharpoonup;":"\u21bc","&leftleftarrows;":"\u21c7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21d4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21c6","&leftrightharpoons;":"\u21cb","&leftrightsquigarrow;":"\u21ad","&LeftRightVector;":"\u294e","&LeftTee;":"\u22a3","&LeftTeeArrow;":"\u21a4","&LeftTeeVector;":"\u295a","&leftthreetimes;":"\u22cb","&LeftTriangle;":"\u22b2","&LeftTriangleBar;":"\u29cf","&LeftTriangleEqual;":"\u22b4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21bf","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21bc","&LeftVectorBar;":"\u2952","&lEg;":"\u2a8b","&leg;":"\u22da","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2a7d","&les;":"\u2a7d","&lescc;":"\u2aa8","&lesdot;":"\u2a7f","&lesdoto;":"\u2a81","&lesdotor;":"\u2a83","&lesg;":"\u22da\ufe00","&lesges;":"\u2a93","&lessapprox;":"\u2a85","&lessdot;":"\u22d6","&lesseqgtr;":"\u22da","&lesseqqgtr;":"\u2a8b","&LessEqualGreater;":"\u22da","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2aa1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2a7d","&LessTilde;":"\u2272","&lfisht;":"\u297c","&lfloor;":"\u230a","&Lfr;":"\ud835\udd0f","&lfr;":"\ud835\udd29","&lg;":"\u2276","&lgE;":"\u2a91","&lHar;":"\u2962","&lhard;":"\u21bd","&lharu;":"\u21bc","&lharul;":"\u296a","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22d8","&ll;":"\u226a","&llarr;":"\u21c7","&llcorner;":"\u231e","&Lleftarrow;":"\u21da","&llhard;":"\u296b","&lltri;":"\u25fa","&Lmidot;":"\u013f","&lmidot;":"\u0140","&lmoust;":"\u23b0","&lmoustache;":"\u23b0","&lnap;":"\u2a89","&lnapprox;":"\u2a89","&lnE;":"\u2268","&lne;":"\u2a87","&lneq;":"\u2a87","&lneqq;":"\u2268","&lnsim;":"\u22e6","&loang;":"\u27ec","&loarr;":"\u21fd","&lobrk;":"\u27e6","&LongLeftArrow;":"\u27f5","&Longleftarrow;":"\u27f8","&longleftarrow;":"\u27f5","&LongLeftRightArrow;":"\u27f7","&Longleftrightarrow;":"\u27fa","&longleftrightarrow;":"\u27f7","&longmapsto;":"\u27fc","&LongRightArrow;":"\u27f6","&Longrightarrow;":"\u27f9","&longrightarrow;":"\u27f6","&looparrowleft;":"\u21ab","&looparrowright;":"\u21ac","&lopar;":"\u2985","&Lopf;":"\ud835\udd43","&lopf;":"\ud835\udd5d","&loplus;":"\u2a2d","&lotimes;":"\u2a34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25ca","&lozenge;":"\u25ca","&lozf;":"\u29eb","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21c6","&lrcorner;":"\u231f","&lrhar;":"\u21cb","&lrhard;":"\u296d","&lrm;":"\u200e","&lrtri;":"\u22bf","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\ud835\udcc1","&Lsh;":"\u21b0","&lsh;":"\u21b0","&lsim;":"\u2272","&lsime;":"\u2a8d","&lsimg;":"\u2a8f","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201a","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226a","&lt;":"<","&lt":"<","&ltcc;":"\u2aa6","&ltcir;":"\u2a79","&ltdot;":"\u22d6","&lthree;":"\u22cb","&ltimes;":"\u22c9","&ltlarr;":"\u2976","&ltquest;":"\u2a7b","&ltri;":"\u25c3","&ltrie;":"\u22b4","&ltrif;":"\u25c2","&ltrPar;":"\u2996","&lurdshar;":"\u294a","&luruhar;":"\u2966","&lvertneqq;":"\u2268\ufe00","&lvnE;":"\u2268\ufe00","&macr;":"\xaf","&macr":"\xaf","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21a6","&mapsto;":"\u21a6","&mapstodown;":"\u21a7","&mapstoleft;":"\u21a4","&mapstoup;":"\u21a5","&marker;":"\u25ae","&mcomma;":"\u2a29","&Mcy;":"\u041c","&mcy;":"\u043c","&mdash;":"\u2014","&mDDot;":"\u223a","&measuredangle;":"\u2221","&MediumSpace;":"\u205f","&Mellintrf;":"\u2133","&Mfr;":"\ud835\udd10","&mfr;":"\ud835\udd2a","&mho;":"\u2127","&micro;":"\xb5","&micro":"\xb5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2af0","&middot;":"\xb7","&middot":"\xb7","&minus;":"\u2212","&minusb;":"\u229f","&minusd;":"\u2238","&minusdu;":"\u2a2a","&MinusPlus;":"\u2213","&mlcp;":"\u2adb","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22a7","&Mopf;":"\ud835\udd44","&mopf;":"\ud835\udd5e","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\ud835\udcc2","&mstpos;":"\u223e","&Mu;":"\u039c","&mu;":"\u03bc","&multimap;":"\u22b8","&mumap;":"\u22b8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20d2","&nap;":"\u2249","&napE;":"\u2a70\u0338","&napid;":"\u224b\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266e","&natural;":"\u266e","&naturals;":"\u2115","&nbsp;":"\xa0","&nbsp":"\xa0","&nbump;":"\u224e\u0338","&nbumpe;":"\u224f\u0338","&ncap;":"\u2a43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2a6d\u0338","&ncup;":"\u2a42","&Ncy;":"\u041d","&ncy;":"\u043d","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21d7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200b","&NegativeThickSpace;":"\u200b","&NegativeThinSpace;":"\u200b","&NegativeVeryThinSpace;":"\u200b","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226b","&NestedLessLess;":"\u226a","&NewLine;":"\n","&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\ud835\udd11","&nfr;":"\ud835\udd2b","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2a7e\u0338","&nges;":"\u2a7e\u0338","&nGg;":"\u22d9\u0338","&ngsim;":"\u2275","&nGt;":"\u226b\u20d2","&ngt;":"\u226f","&ngtr;":"\u226f","&nGtv;":"\u226b\u0338","&nhArr;":"\u21ce","&nharr;":"\u21ae","&nhpar;":"\u2af2","&ni;":"\u220b","&nis;":"\u22fc","&nisd;":"\u22fa","&niv;":"\u220b","&NJcy;":"\u040a","&njcy;":"\u045a","&nlArr;":"\u21cd","&nlarr;":"\u219a","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21cd","&nleftarrow;":"\u219a","&nLeftrightarrow;":"\u21ce","&nleftrightarrow;":"\u21ae","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2a7d\u0338","&nles;":"\u2a7d\u0338","&nless;":"\u226e","&nLl;":"\u22d8\u0338","&nlsim;":"\u2274","&nLt;":"\u226a\u20d2","&nlt;":"\u226e","&nltri;":"\u22ea","&nltrie;":"\u22ec","&nLtv;":"\u226a\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xa0","&Nopf;":"\u2115","&nopf;":"\ud835\udd5f","&Not;":"\u2aec","&not;":"\xac","&not":"\xac","&NotCongruent;":"\u2262","&NotCupCap;":"\u226d","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226f","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226b\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2a7e\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224e\u0338","&NotHumpEqual;":"\u224f\u0338","&notin;":"\u2209","&notindot;":"\u22f5\u0338","&notinE;":"\u22f9\u0338","&notinva;":"\u2209","&notinvb;":"\u22f7","&notinvc;":"\u22f6","&NotLeftTriangle;":"\u22ea","&NotLeftTriangleBar;":"\u29cf\u0338","&NotLeftTriangleEqual;":"\u22ec","&NotLess;":"\u226e","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226a\u0338","&NotLessSlantEqual;":"\u2a7d\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2aa2\u0338","&NotNestedLessLess;":"\u2aa1\u0338","&notni;":"\u220c","&notniva;":"\u220c","&notnivb;":"\u22fe","&notnivc;":"\u22fd","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2aaf\u0338","&NotPrecedesSlantEqual;":"\u22e0","&NotReverseElement;":"\u220c","&NotRightTriangle;":"\u22eb","&NotRightTriangleBar;":"\u29d0\u0338","&NotRightTriangleEqual;":"\u22ed","&NotSquareSubset;":"\u228f\u0338","&NotSquareSubsetEqual;":"\u22e2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22e3","&NotSubset;":"\u2282\u20d2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2ab0\u0338","&NotSucceedsSlantEqual;":"\u22e1","&NotSucceedsTilde;":"\u227f\u0338","&NotSuperset;":"\u2283\u20d2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2afd\u20e5","&npart;":"\u2202\u0338","&npolint;":"\u2a14","&npr;":"\u2280","&nprcue;":"\u22e0","&npre;":"\u2aaf\u0338","&nprec;":"\u2280","&npreceq;":"\u2aaf\u0338","&nrArr;":"\u21cf","&nrarr;":"\u219b","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219d\u0338","&nRightarrow;":"\u21cf","&nrightarrow;":"\u219b","&nrtri;":"\u22eb","&nrtrie;":"\u22ed","&nsc;":"\u2281","&nsccue;":"\u22e1","&nsce;":"\u2ab0\u0338","&Nscr;":"\ud835\udca9","&nscr;":"\ud835\udcc3","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22e2","&nsqsupe;":"\u22e3","&nsub;":"\u2284","&nsubE;":"\u2ac5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20d2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2ac5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2ab0\u0338","&nsup;":"\u2285","&nsupE;":"\u2ac6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20d2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2ac6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xd1","&Ntilde":"\xd1","&ntilde;":"\xf1","&ntilde":"\xf1","&ntlg;":"\u2278","&ntriangleleft;":"\u22ea","&ntrianglelefteq;":"\u22ec","&ntriangleright;":"\u22eb","&ntrianglerighteq;":"\u22ed","&Nu;":"\u039d","&nu;":"\u03bd","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224d\u20d2","&nVDash;":"\u22af","&nVdash;":"\u22ae","&nvDash;":"\u22ad","&nvdash;":"\u22ac","&nvge;":"\u2265\u20d2","&nvgt;":">\u20d2","&nvHarr;":"\u2904","&nvinfin;":"\u29de","&nvlArr;":"\u2902","&nvle;":"\u2264\u20d2","&nvlt;":"<\u20d2","&nvltrie;":"\u22b4\u20d2","&nvrArr;":"\u2903","&nvrtrie;":"\u22b5\u20d2","&nvsim;":"\u223c\u20d2","&nwarhk;":"\u2923","&nwArr;":"\u21d6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xd3","&Oacute":"\xd3","&oacute;":"\xf3","&oacute":"\xf3","&oast;":"\u229b","&ocir;":"\u229a","&Ocirc;":"\xd4","&Ocirc":"\xd4","&ocirc;":"\xf4","&ocirc":"\xf4","&Ocy;":"\u041e","&ocy;":"\u043e","&odash;":"\u229d","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2a38","&odot;":"\u2299","&odsold;":"\u29bc","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29bf","&Ofr;":"\ud835\udd12","&ofr;":"\ud835\udd2c","&ogon;":"\u02db","&Ograve;":"\xd2","&Ograve":"\xd2","&ograve;":"\xf2","&ograve":"\xf2","&ogt;":"\u29c1","&ohbar;":"\u29b5","&ohm;":"\u03a9","&oint;":"\u222e","&olarr;":"\u21ba","&olcir;":"\u29be","&olcross;":"\u29bb","&oline;":"\u203e","&olt;":"\u29c0","&Omacr;":"\u014c","&omacr;":"\u014d","&Omega;":"\u03a9","&omega;":"\u03c9","&Omicron;":"\u039f","&omicron;":"\u03bf","&omid;":"\u29b6","&ominus;":"\u2296","&Oopf;":"\ud835\udd46","&oopf;":"\ud835\udd60","&opar;":"\u29b7","&OpenCurlyDoubleQuote;":"\u201c","&OpenCurlyQuote;":"\u2018","&operp;":"\u29b9","&oplus;":"\u2295","&Or;":"\u2a54","&or;":"\u2228","&orarr;":"\u21bb","&ord;":"\u2a5d","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xaa","&ordf":"\xaa","&ordm;":"\xba","&ordm":"\xba","&origof;":"\u22b6","&oror;":"\u2a56","&orslope;":"\u2a57","&orv;":"\u2a5b","&oS;":"\u24c8","&Oscr;":"\ud835\udcaa","&oscr;":"\u2134","&Oslash;":"\xd8","&Oslash":"\xd8","&oslash;":"\xf8","&oslash":"\xf8","&osol;":"\u2298","&Otilde;":"\xd5","&Otilde":"\xd5","&otilde;":"\xf5","&otilde":"\xf5","&Otimes;":"\u2a37","&otimes;":"\u2297","&otimesas;":"\u2a36","&Ouml;":"\xd6","&Ouml":"\xd6","&ouml;":"\xf6","&ouml":"\xf6","&ovbar;":"\u233d","&OverBar;":"\u203e","&OverBrace;":"\u23de","&OverBracket;":"\u23b4","&OverParenthesis;":"\u23dc","&par;":"\u2225","&para;":"\xb6","&para":"\xb6","&parallel;":"\u2225","&parsim;":"\u2af3","&parsl;":"\u2afd","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041f","&pcy;":"\u043f","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22a5","&pertenk;":"\u2031","&Pfr;":"\ud835\udd13","&pfr;":"\ud835\udd2d","&Phi;":"\u03a6","&phi;":"\u03c6","&phiv;":"\u03d5","&phmmat;":"\u2133","&phone;":"\u260e","&Pi;":"\u03a0","&pi;":"\u03c0","&pitchfork;":"\u22d4","&piv;":"\u03d6","&planck;":"\u210f","&planckh;":"\u210e","&plankv;":"\u210f","&plus;":"+","&plusacir;":"\u2a23","&plusb;":"\u229e","&pluscir;":"\u2a22","&plusdo;":"\u2214","&plusdu;":"\u2a25","&pluse;":"\u2a72","&PlusMinus;":"\xb1","&plusmn;":"\xb1","&plusmn":"\xb1","&plussim;":"\u2a26","&plustwo;":"\u2a27","&pm;":"\xb1","&Poincareplane;":"\u210c","&pointint;":"\u2a15","&Popf;":"\u2119","&popf;":"\ud835\udd61","&pound;":"\xa3","&pound":"\xa3","&Pr;":"\u2abb","&pr;":"\u227a","&prap;":"\u2ab7","&prcue;":"\u227c","&prE;":"\u2ab3","&pre;":"\u2aaf","&prec;":"\u227a","&precapprox;":"\u2ab7","&preccurlyeq;":"\u227c","&Precedes;":"\u227a","&PrecedesEqual;":"\u2aaf","&PrecedesSlantEqual;":"\u227c","&PrecedesTilde;":"\u227e","&preceq;":"\u2aaf","&precnapprox;":"\u2ab9","&precneqq;":"\u2ab5","&precnsim;":"\u22e8","&precsim;":"\u227e","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2ab9","&prnE;":"\u2ab5","&prnsim;":"\u22e8","&prod;":"\u220f","&Product;":"\u220f","&profalar;":"\u232e","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221d","&Proportion;":"\u2237","&Proportional;":"\u221d","&propto;":"\u221d","&prsim;":"\u227e","&prurel;":"\u22b0","&Pscr;":"\ud835\udcab","&pscr;":"\ud835\udcc5","&Psi;":"\u03a8","&psi;":"\u03c8","&puncsp;":"\u2008","&Qfr;":"\ud835\udd14","&qfr;":"\ud835\udd2e","&qint;":"\u2a0c","&Qopf;":"\u211a","&qopf;":"\ud835\udd62","&qprime;":"\u2057","&Qscr;":"\ud835\udcac","&qscr;":"\ud835\udcc6","&quaternions;":"\u210d","&quatint;":"\u2a16","&quest;":"?","&questeq;":"\u225f","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21db","&race;":"\u223d\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221a","&raemptyv;":"\u29b3","&Rang;":"\u27eb","&rang;":"\u27e9","&rangd;":"\u2992","&range;":"\u29a5","&rangle;":"\u27e9","&raquo;":"\xbb","&raquo":"\xbb","&Rarr;":"\u21a0","&rArr;":"\u21d2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21e5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291e","&rarrhk;":"\u21aa","&rarrlp;":"\u21ac","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21a3","&rarrw;":"\u219d","&rAtail;":"\u291c","&ratail;":"\u291a","&ratio;":"\u2236","&rationals;":"\u211a","&RBarr;":"\u2910","&rBarr;":"\u290f","&rbarr;":"\u290d","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298c","&rbrksld;":"\u298e","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201d","&rdquor;":"\u201d","&rdsh;":"\u21b3","&Re;":"\u211c","&real;":"\u211c","&realine;":"\u211b","&realpart;":"\u211c","&reals;":"\u211d","&rect;":"\u25ad","&REG;":"\xae","&REG":"\xae","&reg;":"\xae","&reg":"\xae","&ReverseElement;":"\u220b","&ReverseEquilibrium;":"\u21cb","&ReverseUpEquilibrium;":"\u296f","&rfisht;":"\u297d","&rfloor;":"\u230b","&Rfr;":"\u211c","&rfr;":"\ud835\udd2f","&rHar;":"\u2964","&rhard;":"\u21c1","&rharu;":"\u21c0","&rharul;":"\u296c","&Rho;":"\u03a1","&rho;":"\u03c1","&rhov;":"\u03f1","&RightAngleBracket;":"\u27e9","&RightArrow;":"\u2192","&Rightarrow;":"\u21d2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21e5","&RightArrowLeftArrow;":"\u21c4","&rightarrowtail;":"\u21a3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27e7","&RightDownTeeVector;":"\u295d","&RightDownVector;":"\u21c2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230b","&rightharpoondown;":"\u21c1","&rightharpoonup;":"\u21c0","&rightleftarrows;":"\u21c4","&rightleftharpoons;":"\u21cc","&rightrightarrows;":"\u21c9","&rightsquigarrow;":"\u219d","&RightTee;":"\u22a2","&RightTeeArrow;":"\u21a6","&RightTeeVector;":"\u295b","&rightthreetimes;":"\u22cc","&RightTriangle;":"\u22b3","&RightTriangleBar;":"\u29d0","&RightTriangleEqual;":"\u22b5","&RightUpDownVector;":"\u294f","&RightUpTeeVector;":"\u295c","&RightUpVector;":"\u21be","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21c0","&RightVectorBar;":"\u2953","&ring;":"\u02da","&risingdotseq;":"\u2253","&rlarr;":"\u21c4","&rlhar;":"\u21cc","&rlm;":"\u200f","&rmoust;":"\u23b1","&rmoustache;":"\u23b1","&rnmid;":"\u2aee","&roang;":"\u27ed","&roarr;":"\u21fe","&robrk;":"\u27e7","&ropar;":"\u2986","&Ropf;":"\u211d","&ropf;":"\ud835\udd63","&roplus;":"\u2a2e","&rotimes;":"\u2a35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2a12","&rrarr;":"\u21c9","&Rrightarrow;":"\u21db","&rsaquo;":"\u203a","&Rscr;":"\u211b","&rscr;":"\ud835\udcc7","&Rsh;":"\u21b1","&rsh;":"\u21b1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22cc","&rtimes;":"\u22ca","&rtri;":"\u25b9","&rtrie;":"\u22b5","&rtrif;":"\u25b8","&rtriltri;":"\u29ce","&RuleDelayed;":"\u29f4","&ruluhar;":"\u2968","&rx;":"\u211e","&Sacute;":"\u015a","&sacute;":"\u015b","&sbquo;":"\u201a","&Sc;":"\u2abc","&sc;":"\u227b","&scap;":"\u2ab8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227d","&scE;":"\u2ab4","&sce;":"\u2ab0","&Scedil;":"\u015e","&scedil;":"\u015f","&Scirc;":"\u015c","&scirc;":"\u015d","&scnap;":"\u2aba","&scnE;":"\u2ab6","&scnsim;":"\u22e9","&scpolint;":"\u2a13","&scsim;":"\u227f","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22c5","&sdotb;":"\u22a1","&sdote;":"\u2a66","&searhk;":"\u2925","&seArr;":"\u21d8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xa7","&sect":"\xa7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\ud835\udd16","&sfr;":"\ud835\udd30","&sfrown;":"\u2322","&sharp;":"\u266f","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xad","&shy":"\xad","&Sigma;":"\u03a3","&sigma;":"\u03c3","&sigmaf;":"\u03c2","&sigmav;":"\u03c2","&sim;":"\u223c","&simdot;":"\u2a6a","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2a9e","&simgE;":"\u2aa0","&siml;":"\u2a9d","&simlE;":"\u2a9f","&simne;":"\u2246","&simplus;":"\u2a24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2a33","&smeparsl;":"\u29e4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2aaa","&smte;":"\u2aac","&smtes;":"\u2aac\ufe00","&SOFTcy;":"\u042c","&softcy;":"\u044c","&sol;":"/","&solb;":"\u29c4","&solbar;":"\u233f","&Sopf;":"\ud835\udd4a","&sopf;":"\ud835\udd64","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\ufe00","&sqcup;":"\u2294","&sqcups;":"\u2294\ufe00","&Sqrt;":"\u221a","&sqsub;":"\u228f","&sqsube;":"\u2291","&sqsubset;":"\u228f","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25a1","&Square;":"\u25a1","&square;":"\u25a1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228f","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25aa","&squf;":"\u25aa","&srarr;":"\u2192","&Sscr;":"\ud835\udcae","&sscr;":"\ud835\udcc8","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22c6","&Star;":"\u22c6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03f5","&straightphi;":"\u03d5","&strns;":"\xaf","&Sub;":"\u22d0","&sub;":"\u2282","&subdot;":"\u2abd","&subE;":"\u2ac5","&sube;":"\u2286","&subedot;":"\u2ac3","&submult;":"\u2ac1","&subnE;":"\u2acb","&subne;":"\u228a","&subplus;":"\u2abf","&subrarr;":"\u2979","&Subset;":"\u22d0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2ac5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228a","&subsetneqq;":"\u2acb","&subsim;":"\u2ac7","&subsub;":"\u2ad5","&subsup;":"\u2ad3","&succ;":"\u227b","&succapprox;":"\u2ab8","&succcurlyeq;":"\u227d","&Succeeds;":"\u227b","&SucceedsEqual;":"\u2ab0","&SucceedsSlantEqual;":"\u227d","&SucceedsTilde;":"\u227f","&succeq;":"\u2ab0","&succnapprox;":"\u2aba","&succneqq;":"\u2ab6","&succnsim;":"\u22e9","&succsim;":"\u227f","&SuchThat;":"\u220b","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266a","&Sup;":"\u22d1","&sup;":"\u2283","&sup1;":"\xb9","&sup1":"\xb9","&sup2;":"\xb2","&sup2":"\xb2","&sup3;":"\xb3","&sup3":"\xb3","&supdot;":"\u2abe","&supdsub;":"\u2ad8","&supE;":"\u2ac6","&supe;":"\u2287","&supedot;":"\u2ac4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27c9","&suphsub;":"\u2ad7","&suplarr;":"\u297b","&supmult;":"\u2ac2","&supnE;":"\u2acc","&supne;":"\u228b","&supplus;":"\u2ac0","&Supset;":"\u22d1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2ac6","&supsetneq;":"\u228b","&supsetneqq;":"\u2acc","&supsim;":"\u2ac8","&supsub;":"\u2ad4","&supsup;":"\u2ad6","&swarhk;":"\u2926","&swArr;":"\u21d9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292a","&szlig;":"\xdf","&szlig":"\xdf","&Tab;":"\t","&target;":"\u2316","&Tau;":"\u03a4","&tau;":"\u03c4","&tbrk;":"\u23b4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20db","&telrec;":"\u2315","&Tfr;":"\ud835\udd17","&tfr;":"\ud835\udd31","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03b8","&thetasym;":"\u03d1","&thetav;":"\u03d1","&thickapprox;":"\u2248","&thicksim;":"\u223c","&ThickSpace;":"\u205f\u200a","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223c","&THORN;":"\xde","&THORN":"\xde","&thorn;":"\xfe","&thorn":"\xfe","&Tilde;":"\u223c","&tilde;":"\u02dc","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xd7","&times":"\xd7","&timesb;":"\u22a0","&timesbar;":"\u2a31","&timesd;":"\u2a30","&tint;":"\u222d","&toea;":"\u2928","&top;":"\u22a4","&topbot;":"\u2336","&topcir;":"\u2af1","&Topf;":"\ud835\udd4b","&topf;":"\ud835\udd65","&topfork;":"\u2ada","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25b5","&triangledown;":"\u25bf","&triangleleft;":"\u25c3","&trianglelefteq;":"\u22b4","&triangleq;":"\u225c","&triangleright;":"\u25b9","&trianglerighteq;":"\u22b5","&tridot;":"\u25ec","&trie;":"\u225c","&triminus;":"\u2a3a","&TripleDot;":"\u20db","&triplus;":"\u2a39","&trisb;":"\u29cd","&tritime;":"\u2a3b","&trpezium;":"\u23e2","&Tscr;":"\ud835\udcaf","&tscr;":"\ud835\udcc9","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040b","&tshcy;":"\u045b","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226c","&twoheadleftarrow;":"\u219e","&twoheadrightarrow;":"\u21a0","&Uacute;":"\xda","&Uacute":"\xda","&uacute;":"\xfa","&uacute":"\xfa","&Uarr;":"\u219f","&uArr;":"\u21d1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040e","&ubrcy;":"\u045e","&Ubreve;":"\u016c","&ubreve;":"\u016d","&Ucirc;":"\xdb","&Ucirc":"\xdb","&ucirc;":"\xfb","&ucirc":"\xfb","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21c5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296e","&ufisht;":"\u297e","&Ufr;":"\ud835\udd18","&ufr;":"\ud835\udd32","&Ugrave;":"\xd9","&Ugrave":"\xd9","&ugrave;":"\xf9","&ugrave":"\xf9","&uHar;":"\u2963","&uharl;":"\u21bf","&uharr;":"\u21be","&uhblk;":"\u2580","&ulcorn;":"\u231c","&ulcorner;":"\u231c","&ulcrop;":"\u230f","&ultri;":"\u25f8","&Umacr;":"\u016a","&umacr;":"\u016b","&uml;":"\xa8","&uml":"\xa8","&UnderBar;":"_","&UnderBrace;":"\u23df","&UnderBracket;":"\u23b5","&UnderParenthesis;":"\u23dd","&Union;":"\u22c3","&UnionPlus;":"\u228e","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\ud835\udd4c","&uopf;":"\ud835\udd66","&UpArrow;":"\u2191","&Uparrow;":"\u21d1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21c5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21d5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296e","&upharpoonleft;":"\u21bf","&upharpoonright;":"\u21be","&uplus;":"\u228e","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03d2","&upsi;":"\u03c5","&upsih;":"\u03d2","&Upsilon;":"\u03a5","&upsilon;":"\u03c5","&UpTee;":"\u22a5","&UpTeeArrow;":"\u21a5","&upuparrows;":"\u21c8","&urcorn;":"\u231d","&urcorner;":"\u231d","&urcrop;":"\u230e","&Uring;":"\u016e","&uring;":"\u016f","&urtri;":"\u25f9","&Uscr;":"\ud835\udcb0","&uscr;":"\ud835\udcca","&utdot;":"\u22f0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25b5","&utrif;":"\u25b4","&uuarr;":"\u21c8","&Uuml;":"\xdc","&Uuml":"\xdc","&uuml;":"\xfc","&uuml":"\xfc","&uwangle;":"\u29a7","&vangrt;":"\u299c","&varepsilon;":"\u03f5","&varkappa;":"\u03f0","&varnothing;":"\u2205","&varphi;":"\u03d5","&varpi;":"\u03d6","&varpropto;":"\u221d","&vArr;":"\u21d5","&varr;":"\u2195","&varrho;":"\u03f1","&varsigma;":"\u03c2","&varsubsetneq;":"\u228a\ufe00","&varsubsetneqq;":"\u2acb\ufe00","&varsupsetneq;":"\u228b\ufe00","&varsupsetneqq;":"\u2acc\ufe00","&vartheta;":"\u03d1","&vartriangleleft;":"\u22b2","&vartriangleright;":"\u22b3","&Vbar;":"\u2aeb","&vBar;":"\u2ae8","&vBarv;":"\u2ae9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22ab","&Vdash;":"\u22a9","&vDash;":"\u22a8","&vdash;":"\u22a2","&Vdashl;":"\u2ae6","&Vee;":"\u22c1","&vee;":"\u2228","&veebar;":"\u22bb","&veeeq;":"\u225a","&vellip;":"\u22ee","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200a","&Vfr;":"\ud835\udd19","&vfr;":"\ud835\udd33","&vltri;":"\u22b2","&vnsub;":"\u2282\u20d2","&vnsup;":"\u2283\u20d2","&Vopf;":"\ud835\udd4d","&vopf;":"\ud835\udd67","&vprop;":"\u221d","&vrtri;":"\u22b3","&Vscr;":"\ud835\udcb1","&vscr;":"\ud835\udccb","&vsubnE;":"\u2acb\ufe00","&vsubne;":"\u228a\ufe00","&vsupnE;":"\u2acc\ufe00","&vsupne;":"\u228b\ufe00","&Vvdash;":"\u22aa","&vzigzag;":"\u299a","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2a5f","&Wedge;":"\u22c0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\ud835\udd1a","&wfr;":"\ud835\udd34","&Wopf;":"\ud835\udd4e","&wopf;":"\ud835\udd68","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\ud835\udcb2","&wscr;":"\ud835\udccc","&xcap;":"\u22c2","&xcirc;":"\u25ef","&xcup;":"\u22c3","&xdtri;":"\u25bd","&Xfr;":"\ud835\udd1b","&xfr;":"\ud835\udd35","&xhArr;":"\u27fa","&xharr;":"\u27f7","&Xi;":"\u039e","&xi;":"\u03be","&xlArr;":"\u27f8","&xlarr;":"\u27f5","&xmap;":"\u27fc","&xnis;":"\u22fb","&xodot;":"\u2a00","&Xopf;":"\ud835\udd4f","&xopf;":"\ud835\udd69","&xoplus;":"\u2a01","&xotime;":"\u2a02","&xrArr;":"\u27f9","&xrarr;":"\u27f6","&Xscr;":"\ud835\udcb3","&xscr;":"\ud835\udccd","&xsqcup;":"\u2a06","&xuplus;":"\u2a04","&xutri;":"\u25b3","&xvee;":"\u22c1","&xwedge;":"\u22c0","&Yacute;":"\xdd","&Yacute":"\xdd","&yacute;":"\xfd","&yacute":"\xfd","&YAcy;":"\u042f","&yacy;":"\u044f","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042b","&ycy;":"\u044b","&yen;":"\xa5","&yen":"\xa5","&Yfr;":"\ud835\udd1c","&yfr;":"\ud835\udd36","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\ud835\udd50","&yopf;":"\ud835\udd6a","&Yscr;":"\ud835\udcb4","&yscr;":"\ud835\udcce","&YUcy;":"\u042e","&yucy;":"\u044e","&Yuml;":"\u0178","&yuml;":"\xff","&yuml":"\xff","&Zacute;":"\u0179","&zacute;":"\u017a","&Zcaron;":"\u017d","&zcaron;":"\u017e","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017b","&zdot;":"\u017c","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200b","&Zeta;":"\u0396","&zeta;":"\u03b6","&Zfr;":"\u2128","&zfr;":"\ud835\udd37","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21dd","&Zopf;":"\u2124","&zopf;":"\ud835\udd6b","&Zscr;":"\ud835\udcb5","&zscr;":"\ud835\udccf","&zwj;":"\u200d","&zwnj;":"\u200c"};function a(e){return e?e.replace(/&#?[a-z0-9]+;/gi,function(e){if(r[e])return r[e];if(e.match(/^&#x[0-9a-f]+;$/i)){var t=e.substring(3,e.length-1),n=parseInt(t,16);return String.fromCodePoint(n)}if(e.match(/^&#[0-9]+;$/)){var a=e.substring(2,e.length-1),i=parseInt(a,10);return String.fromCodePoint(i)}return e}):e}},F7O2:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=Object(a.a)("set password for primary owner",function(e,t,n){var r=n.password;return e(Object(i.a)({method:"users.changePassword",args:{password:r}}))});o.propTypes={password:r.b.string};var s=Object(a.a)("Check to see if Primary Owner's email domain is whitelist-able",function(e,t,n){var r=n.domain;return e(Object(i.a)({method:"signup.checkSignupDomains",args:{signup_domains:r}}))});s.propTypes={domain:r.b.string};var c=Object(a.a)("set workspace name",function(e,t,n){var r=n.workspaceName;return e(Object(i.a)({method:"team.changeInfo",args:{name:r}}))});c.propTypes={workspaceName:r.b.string};var l=Object(a.a)("set workspace domain",function(e,t,n){var r=n.workspaceDomain;return e(Object(i.a)({method:"team.changeInfo",args:{url:r}}))});l.propTypes={workspaceDomain:r.b.string};var u=Object(a.a)("Checks the complexity of a password",function(e,t,n){var r=n.password;return e(Object(i.a)({method:"signup.checkPasswordComplexity",args:{password:r}}))});u.propTypes={password:r.b.string};var d=Object(a.a)("Set multiple team prefs via API",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).prefs,r=JSON.stringify(n);return e(Object(i.a)({method:"team.prefs.set",args:{prefs:r}}))});d.propTypes={prefs:r.b.object}},FGSF:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("+1yX"),a=n("aW/o"),i=n("pRVB"),o=n("2HDu"),s=n("aLpA");function c(e,t){if([s.C.MESSAGE_PANE,s.C.CHANNEL_DETAILS_FLEXPANE].includes(t)||!t){var n=Object(a.a)(e);if(Object(r.a)(n))return{channelId:n}}else if(t===s.C.THREADS_FLEXPANE){var c=Object(i.e)(e);return Object(o.a)(c[0])}return{}}},FGnx:function(e,t,n){},FLa3:function(e,t,n){"use strict";n.d(t,"h",function(){return k}),n.d(t,"g",function(){return E}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"e",function(){return T}),n.d(t,"d",function(){return R}),n.d(t,"i",function(){return N}),n.d(t,"f",function(){return x});var r,a=n("QbLZ"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("mkut"),l=n("Z0Cl"),u=n("u3oV"),d=n("X/qK"),b=n("fujP"),p=n("m8R6"),h=n("owWc"),m=n("uXhx"),f=n("aK/h"),v=n("EzZj"),g=n("MNvw"),_=n("U/ze"),O=n("XfeM"),y=n("IRiz"),j=n("Iq6W"),k=Object(v.b)("Update highlights data for messages");k.propTypes=f.b.object.isRequired;var E=Object(v.b)("Update the feedback for an individual highlight");E.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,feedback:f.b.string.isRequired,leftFeedback:f.b.bool};var C=Object(v.b)("Start delete animation for a message");C.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,isDeleting:f.b.bool};var I=Object(O.b)("fetch SLI Highlights",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.timestamps,i=n.lastReadTs,o=n.prevChannelSwitchTs,c=t().messagesMeta,l=Object(m.a)(a,function(e){return c[r]&&c[r][e]&&c[r][e].sliHighlight});if(!(l.length<5)){var u=Object(h.a)(l,function(e,t){return e[t]={sliHighlight:{loading:!0,isHighlight:!1}},e},{});e(k(s()({},r,u))),e(Object(y.b)({channelId:r,timestamps:l,lastReadTs:i,prevChannelSwitchTs:o})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.messagesByChannel,a=t.requestId,i=Object(h.a)(l,function(e,t){return n[r]&&n[r][t]?e[t]={sliHighlight:{loading:!1,isHighlight:n[r][t].show_recap,feedbackOptions:n[r][t].feedback_options,justification:n[r][t].justification,requestId:a,cachedRequestId:n[r][t].cached_request_id}}:e[t]={sliHighlight:{loading:!1,isHighlight:!1}},e},{});e(k(s()({},r,i)))}).catch(function(){var t=Object(h.a)(l,function(e,t){return e[t]={sliHighlight:{loading:!1,isHighlight:!1}},e},{});e(k(s()({},r,t)))})}});I.propTypes={channelId:f.b.string.isRequired,timestamps:f.b.arrayOf(f.b.string).isRequired,lastReadTs:f.b.string,prevChannelSwitchTs:f.b.string};var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.isDeleting,o=void 0===a||a;if(!n||!r)return e;var c=e[n]?i()({},e[n]):{};return!(!c[r]||!c[r].isDeleting)===o?e:i()({},e,s()({},n,i()({},c,s()({},r,i()({},c[r],{isDeleting:o})))))},S=Object(g.b)((r={},s()(r,j.h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channel,r=t.ts;if(!e[n]||!e[n][r])return e;var a=Object(p.a)(e[n],r);return Object(b.a)(a)?Object(p.a)(e,n):i()({},e,s()({},n,a))}),s()(r,j.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return w(e,{channelId:n,ts:r,isDeleting:!1})}),s()(r,C,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e,t)}),s()(r,k,function(e,t){return Object(h.a)(t,function(t,n,r){return t[r]=i()({},e[r],n),t},i()({},e))}),s()(r,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.feedback,o=t.leftFeedback;if(!n||!r)return e;var c=e[n]?i()({},e[n]):{},l=c[r]?i()({},c[r]):{};return l.sliHighlight&&l.sliHighlight.feedback===a&&l.sliHighlight.leftFeedback===o?e:i()({},e,s()({},n,i()({},c,s()({},r,i()({},l,{sliHighlight:i()({},l.sliHighlight,{feedback:a,leftFeedback:o})})))))}),r),{},{persistenceEnabled:!0});S.propTypes=f.b.objectOf(f.b.objectOf(f.b.object)),t.b=S;var T=Object(_.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return e&&e.messagesMeta&&e.messagesMeta[n]&&e.messagesMeta[n][r]?e.messagesMeta[n][r]:{}}),R=(Object(_.b)(function(e){return e&&e.messagesMeta?Object(d.a)(e.messagesMeta,function(e,t,n){e[n]=Object(u.a)(t,function(e){return e.sliHighlight&&e.sliHighlight.isHighlight})},{}):{}}),Object(_.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return e&&e.messagesMeta&&e.messagesMeta[n]&&e.messagesMeta[n][r]&&e.messagesMeta[n][r].sliHighlight?e.messagesMeta[n][r].sliHighlight:{}}),Object(_.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.beforeTs;return r&&e&&e.messagesMeta&&e.messagesMeta[n]?Object(l.a)(Object(c.a)(e.messagesMeta[n]),function(t){return t<=r&&e.messagesMeta[n][t]&&e.messagesMeta[n][t].sliHighlight&&e.messagesMeta[n][t].sliHighlight.isHighlight}):[]}));function N(e){if(!e)return!1;var t=e.isHighlight,n="negative"===e.feedback&&e.leftFeedback,r="dismiss"===e.feedback;return t&&!n&&!r}function x(e){return!(!e||!e.isHighlight||"negative"!==e.feedback&&"default_negative"!==e.feedback)}},FP5A:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r,a=n("9oTK"),i=n("aK/h"),o=n("4zXV"),s=n("om+M"),c=Object(s.a)("Call Slackbot to send the help message",(r=Object(a.coroutine)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.resolve)(t(Object(o.a)({method:"slackbot.sendHelpMessage",reason:"joiner-onboarding-slackbot-message"})));case 2:case"end":return e.stop()}},e,void 0)})),function(e){return r.apply(this,arguments)}));c.propTypes={};var l,u=Object(s.a)("Sends SMS to user phone number",(l=Object(a.coroutine)(regeneratorRuntime.mark(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.phoneNumber,s=r.slackbotMessageTS;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.resolve)(t(Object(o.a)({method:"slackbot.sendAppDownloadText",args:{phone_number:i,slackbot_ts:parseInt(s.split(".").join(""),10)},reason:"slackbot-sms-app-download-experiment"})));case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return l.apply(this,arguments)}));u.propTypes={phoneNumber:i.b.string,slackbotMessageTimeStamp:i.b.string}},FSos:function(e,t,n){"use strict";n.d(t,"d",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"b",function(){return O});var r=n("UXvI"),a=n("aK/h"),i=n("XfeM"),o=n("BeG2"),s=n("yHhI"),c=n("uf9I"),l=n("Z7Ay"),u=n("St+r"),d=n("jKkg"),b=n("6TBL"),p="PRESENCE-MANAGER",h={},m=function(e,t){var n=Object(c.b)(t()),r=Object.keys(h[n]),a={type:"presence_sub",ids:r},i=Object(s.a)({getState:t});i.debug(p,"Sending a 'presence_sub' event with the following ids: "+r),e(Object(o.h)(a)).catch(function(e){e&&e.message===b.c||i.error("Received an error while trying to send 'presence_sub' with the following ids: "+r+", error = "+e)})},f=void 0;var v=Object(i.b)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",function(e,t){Object(u.g)(t())?function(){f||(f=Object(r.a)(m,100,{leading:!1}));return f}()(e,t):Object(s.a)({getState:t}).debug(p,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected")}),g=Object(i.b)("Adds the member to the presence subscription or increments the associated count",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;if(n&&"USLACKBOT"!==n){var r=Object(c.b)(t());if(h[r]||(h[r]={}),h[r][n])return Object(s.a)({getState:t}).debug(p,"Increasing the count for "+n+" by 1"),void(h[r][n]+=1);Object(s.a)({getState:t}).debug(p,"Adding "+n+" to the presence subscription"),h[r][n]=1,e(v()),Object(d.b)(e)}});g.propTypes={memberId:a.b.string.isRequired};var _=Object(i.b)("Removes the member from the presence subscription or decrements the associated count",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;if(n){var r=Object(c.b)(t());if(h[r]&&h[r][n]){if(h[r][n]>1)return Object(s.a)({getState:t}).debug(p,"Decreasing the count for "+n+" by 1"),void(h[r][n]-=1);Object(s.a)({getState:t}).debug(p,"Removing "+n+" from the presence subscription"),delete h[r][n],e(v())}}});_.propTypes={memberId:a.b.string.isRequired};var O=function(e){return h[e]};Object(l.a)("presenceManager",{getPresenceSubscriptionByTeamId:O})},FXaq:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"l",function(){return s}),n.d(t,"k",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _});var r=n("pxG+"),a=n("cErB"),i=n("5mwC"),o=function(e){return!!(e.serviceIcon||e.authorIcon||e.serviceName||e.authorName||e.serviceUrl||e.authorLink||e.authorSubname)},s=function(e){return!!e.title},c=function(e){return!!e.text},l=function(e){return!!(e.more&&e.moreShowtext&&e.moreHidetext)},u=function(e){return!!(e.fields&&e.fields.length>0)},d=function(e){return!!(e.footer||e.footerIcon||e.ts||e.isAppUnfurl&&e.botId)},b=function(e){return!!e.expandableKey},p=function(e){return!!(e.actions&&e.actions.length>0)},h=function(e){return o(e)||s(e)||c(e)||l(e)||u(e)||d(e)||b(e)||p(e)},m=function(e){return function(e){return!!e.imageUrl}(e)&&!o(e)&&!s(e)&&!l(e)&&!c(e)&&!u(e)&&!d(e)&&!p(e)},f={sharedchannelsinvite:{type:"sharedChannelsInvite",attachmentId:"2"},sharedchannelsfindanadmin:{type:"sharedChannelsFindAnAdmin",attachmentId:"1"},sharedchannelsbetaoptin:{type:"sharedChannelsBetaOptIn",attachmentId:"1"}},v=function(e,t){var n=e&&Object(r.a)(e,"_1234567890"),a=f[n];return a&&a.attachmentId===t?a.type:null},g=function(e){var t=Object(a.j)(e),n=t.protocol,r=t.hostname,i=t.pathname.replace(/\/$/g,"").split("/").slice(0,-1).join("/"),o={all:r,just:e.replace(n+"//","")};return i&&(o.under=""+r+i),o};function _(e){var t=e.height,n=e.width,r=i.e,a=i.e;return n&&t?n>t?{orientation:"landscape",width:a,height:r/(n/t)}:t>n?{orientation:"portrait",width:a/(t/n),height:r}:{orientation:"square",width:a,height:r}:{height:r,width:a}}},FXuT:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("kxpR"),h=n.n(p),m=n("aK/h"),f=n("XHGt"),v=n("TSYQ"),g=n.n(v),_=n("clTI"),O=n("uf9I"),y=n("D4L/"),j=n("6kok"),k=n("hUCq"),E=n("Fdc0"),C=n("5mKg"),I=n("od5y"),w=n("ZYn4"),S=n("derf"),T=n("XLFM"),R=n("nNoG"),N=(n("fSZv"),n("HO/Y")),x=new R.b("jumper"),M=(m.b.object,m.b.oneOf(["channel","private","mpim","im"]),m.b.string.isRequired,m.b.string,m.b.number,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.string,m.b.bool,m.b.func,m.b.object,m.b.bool,m.b.bool,m.b.bool,m.b.string,m.b.string,m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.string,{channel:{},channelType:"channel",mpimMemberCount:void 0,className:void 0,showPendingSharedIcon:!1,showSharedIcon:!1,showOrgSharedIcon:!1,memberId:void 0,showPresence:!0,inline:!1,onClick:void 0,iconProps:{},showTeamIconForXwsChannels:!1,showTeamIconForLocalChannels:!1,showTeamIcon:!1,teamIdForChannel:"",teamName:"",teamIconSize:void 0,inheritPresenceIconSize:!1,showDraftIcon:!1,hasDraft:void 0,showArchived:!1,channelIsFrozen:!1,previousName:void 0}),P=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderChannelIcon",value:function(){var e=this.props,t=e.channel,n=e.channelType,r=e.mpimMemberCount,a=e.inline,i=e.memberId,o=e.showPresence,s=e.inheritPresenceIconSize,c=e.showDraftIcon,l=e.hasDraft,u=e.showArchived,d=void 0;return"im"===n?i&&o&&!a?h.a.createElement(w.a,{inheritIconSize:s,memberId:i}):null:(d=u&&Object(j.V)(t)&&(!Object(j.bb)(t)||Object(j.W)(t))?"archive":c&&l?"pencil":"mpim"===n&&r?"multiparty-dm-"+r:"private"===n?"lock":"channel",h.a.createElement(I.b,{type:d,size:"inherit","data-qa-icon-type":n}))}},{key:"renderSharedIcon",value:function(){var e=this.props,t=e.showPendingSharedIcon,n=e.showSharedIcon,r=e.showOrgSharedIcon,i=e.iconProps,o=void 0;if(t)o="shared-channels-pending";else if(n)o="shared-channels";else{if(!r)return null;o="shared-channel"}return h.a.createElement(I.a,a()({},i,{type:o}))}},{key:"renderTeamIcon",value:function(){var e=this.props,t=e.showTeamIcon,n=e.teamIdForChannel,r=e.teamName,a=e.teamIconSize;return t&&n&&r?h.a.createElement(h.a.Fragment,null,h.a.createElement(S.b,{id:n,size:a,className:"c-channel_name__team_icon"}),h.a.createElement("span",{className:"c-channel_name__team_name"},r)):null}},{key:"renderChannelNameSuffix",value:function(){var e=this.props,t=e.previousName,n=e.showArchived,r=e.channel;if(!(t||n&&Object(j.V)(r)))return null;var a=void 0;return n&&Object(j.V)(r)&&(a=x.t("(archived)",{fallbackHash:"eddc813f35b12589c4e5493a8a8e500ddb10c57e"})),t&&(a=x.t("(formerly #{previous_name})",{previous_name:t,note:'Shown when a user is typing the old name of a channel, e.g. "(formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"})),h.a.createElement("span",{className:"c-channel_name__suffix"},a)}},{key:"renderChannelName",value:function(){var e=this.props,t=e.inline,n=e.displayName;return h.a.createElement(h.a.Fragment,null,this.renderChannelIcon(),h.a.createElement("span",{className:g()("c-channel_name__text",{"c-channel_name__text--inline":!t})},n,this.renderChannelNameSuffix()),this.renderSharedIcon(),this.renderTeamIcon())}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.className,r=e.showArchived,a=e.channel,i=r&&Object(j.V)(a)?"c-channel_name--archived":"";return!!t?h.a.createElement(T.c,{className:g()("c-channel_name c-channel_name--clickable",n,i),onClick:t,type:"button"},this.renderChannelName()):h.a.createElement("span",{className:g()("c-channel_name",n,i),"data-qa":"channel_name_header"},this.renderChannelName())}}]),t}(p.Component);P.displayName="ChannelName";P.defaultProps=M,P.displayName="ChannelName",t.a=Object(f.b)(function(e,t){var n=t.channel,r=t.channelId,a=t.showTeamIconForXwsChannels,i=t.showTeamIconForLocalChannels,o=n||Object(_.d)(e,r),s=Object(j.lb)(o)?Object(j.K)(o):null;n&&Object(E.qb)(n)&&(o=Object(_.j)(e,n.id));var c=Object(j.eb)(o)?Object(j.G)(o):null,l=Object(j.v)(o),u=Object(O.b)(e),d=Object(j.ab)(n)||Object(j.Qb)(e,n),b=a&&("channel"===l||"private"===l)&&!Object(j.qb)(o)&&(i||d),p=b?o.team_id:void 0;b&&!p&&(d?p=Object(k.a)({state:e,channel:n,currentTeamId:u})||Object(j.Wb)(e,n):i&&(p=u));var h=p?Object(y.i)(e,p):void 0,m=p?Object(C.e)(h):void 0,f=Object(j.y)(e,r);return{channel:n,displayName:Object(j.x)(e,o,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),channelType:l,mpimMemberCount:s,memberId:c,showPendingSharedIcon:Object(j.ub)(o),showSharedIcon:Object(j.Y)(o),showOrgSharedIcon:Object(j.sb)(o),showTeamIcon:b,teamIdForChannel:p,teamName:m,hasDraft:f,channelIsFrozen:Object(N.j)(e,"feature_esc_disconnect_v2_client")&&Object(j.bb)(n)}})(P)},Fai7:function(e,t,n){},FdTv:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=n("D5XI"),p=(n("R88t"),d.b.node,d.b.string,d.b.node,d.b.node,d.b.node,function(e){var t=e.children,n=e.className,r=e.icon,i=e.subtitle,s=e.title,l=o()(e,["children","className","icon","subtitle","title"]),d=Object(b.b)().closeButtonIsVisible;return c.a.createElement("div",a()({},l,{className:u()("c-sk-modal_title_bar",{"c-sk-modal_title_bar--pad_right":d},n)}),r&&c.a.createElement("div",{className:"c-sk-modal_title_bar__icon"},r),c.a.createElement("div",{className:"c-sk-modal_title_bar__text"},s&&c.a.createElement("h1",null,s),i&&c.a.createElement("h3",null,i)),t)});p.displayName="ModalTitleBar",p.defaultProps={children:null,className:null,icon:null,subtitle:null,title:null},t.a=p},Fdc0:function(e,t,n){"use strict";n.d(t,"c",function(){return S}),n.d(t,"a",function(){return T}),n.d(t,"b",function(){return R}),n.d(t,"J",function(){return N}),n.d(t,"r",function(){return x}),n.d(t,"w",function(){return M}),n.d(t,"x",function(){return P}),n.d(t,"I",function(){return A}),n.d(t,"t",function(){return D}),n.d(t,"u",function(){return L}),n.d(t,"q",function(){return q}),n.d(t,"qb",function(){return F}),n.d(t,"X",function(){return B}),n.d(t,"ib",function(){return U}),n.d(t,"jb",function(){return H}),n.d(t,"vb",function(){return K}),n.d(t,"wb",function(){return G}),n.d(t,"ab",function(){return V}),n.d(t,"n",function(){return z}),n.d(t,"m",function(){return Y}),n.d(t,"v",function(){return W}),n.d(t,"N",function(){return Q}),n.d(t,"Gb",function(){return X}),n.d(t,"bb",function(){return Z}),n.d(t,"xb",function(){return J}),n.d(t,"Db",function(){return $}),n.d(t,"ob",function(){return ee}),n.d(t,"yb",function(){return te}),n.d(t,"eb",function(){return ne}),n.d(t,"ub",function(){return re}),n.d(t,"nb",function(){return ae}),n.d(t,"Bb",function(){return ie}),n.d(t,"lb",function(){return oe}),n.d(t,"mb",function(){return se}),n.d(t,"rb",function(){return ce}),n.d(t,"l",function(){return le}),n.d(t,"o",function(){return ue}),n.d(t,"Ab",function(){return de}),n.d(t,"Fb",function(){return be}),n.d(t,"sb",function(){return pe}),n.d(t,"kb",function(){return he}),n.d(t,"zb",function(){return me}),n.d(t,"cb",function(){return fe}),n.d(t,"pb",function(){return ve}),n.d(t,"fb",function(){return ge}),n.d(t,"Y",function(){return _e}),n.d(t,"Z",function(){return Oe}),n.d(t,"S",function(){return ye}),n.d(t,"W",function(){return je}),n.d(t,"hb",function(){return ke}),n.d(t,"tb",function(){return Ee}),n.d(t,"gb",function(){return Ce}),n.d(t,"Cb",function(){return Ie}),n.d(t,"db",function(){return we}),n.d(t,"Eb",function(){return Se}),n.d(t,"d",function(){return Te}),n.d(t,"U",function(){return Re}),n.d(t,"T",function(){return Ne}),n.d(t,"Q",function(){return xe}),n.d(t,"P",function(){return Me}),n.d(t,"R",function(){return Pe}),n.d(t,"V",function(){return Ae}),n.d(t,"E",function(){return De}),n.d(t,"F",function(){return Le}),n.d(t,"B",function(){return qe}),n.d(t,"C",function(){return Fe}),n.d(t,"G",function(){return Be}),n.d(t,"p",function(){return Ue}),n.d(t,"y",function(){return He}),n.d(t,"M",function(){return Ke}),n.d(t,"z",function(){return Ge}),n.d(t,"s",function(){return Ve}),n.d(t,"H",function(){return ze}),n.d(t,"K",function(){return Ye}),n.d(t,"L",function(){return We}),n.d(t,"D",function(){return Qe}),n.d(t,"A",function(){return Xe}),n.d(t,"k",function(){return Je}),n.d(t,"e",function(){return $e}),n.d(t,"i",function(){return et}),n.d(t,"O",function(){return tt}),n.d(t,"f",function(){return nt}),n.d(t,"h",function(){return rt}),n.d(t,"g",function(){return at}),n.d(t,"j",function(){return it});var r=n("CpTu"),a=n("0VPD"),i=n("NFsq"),o=n("7EGn"),s=n("IzLi"),c=n("NZ+B"),l=n("Dpjh"),u=n("yHhI"),d=n("HO/Y"),b=n("DtX9"),p=n("clTI"),h=n("6kok"),m=n("5mKg"),f=n("zbZx"),v=n("FN36"),g=n("VjHM"),_=n("Ia0u"),O=n("Mj+f"),y=n("y5Ed"),j=n("BYHq"),k=n("FHcd"),E=n("D4L/"),C=n("uf9I"),I=(n("+epm"),n("1zbP")),w=n("aLpA"),S="USLACKBOT",T="UREVOKEDU",R="revokeduser";function N(e){return e&&e.team_id}function x(e,t){return Object(O.a)(e,t.id)||t.member_color||t.color}function M(e){var t=qe(e);return t||De(e)}function P(e){return e&&new RegExp("<@("+e+")\\b")}function A(e){var t=parseInt(e&&e.profile&&e.profile.status_expiration||0,10),n=Math.round(Date.now()/1e3)+1;return t?Math.max(t,n):parseInt(e&&e.profile&&e.profile.status_expiration||0,10)}function D(e){return e&&e.profile&&e.profile.guest_expiration_ts}function L(e){return e&&e.profile&&e.profile.guest_invited_by}function q(e){return e&&e.profile&&e.profile.avatar_hash}function F(e){return!!e&&Object(k.a)(e.id)}function B(e){return!(!e||!e.is_admin)}function U(e){return!!(e&&e.enterprise_user&&e.enterprise_user.is_admin)}function H(e){return!!(e&&e.enterprise_user&&e.enterprise_user.is_owner)}function K(e){return!(!e||!e.is_owner)}function G(e){return!(!e||!e.is_primary_owner)}function V(e){return!(!e||!e.is_app_user&&!e.is_bot)}function z(e){return V(e)?e.profile&&e.profile.bot_id:null}function Y(e){return V(e)?e.profile&&e.profile.api_app_id:null}function W(e){return e?e.manual_presence:null}function Q(e){return e?e.tz_label:null}function X(e){return Object(I.e)(e)}function Z(e){return!(!e||!e.is_app_user)}function J(e){return!(!e||!e.is_restricted)}function $(e){return!(!e||!e.is_ultra_restricted)}function ee(e){return J(e)}function te(e){return!(!e||!e.is_self)}function ne(e){return!(!e||!e.deleted)}function re(e){return!(!e||!e.is_org_user_deleted)}function ae(e){return!(!e||!e.is_forgotten)}function ie(e){return!(!e||!e.suspended)}function oe(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useCachedValue,n=void 0===t||t;return!!Object(s.a)(e)&&(n&&Object(c.a)(e.is_external)?e.is_external:!!e.team_id&&(!(!e._is_local&&e._is_from_org)&&(!e._is_local&&!e._is_from_org)))}function se(e,t){var n=Object(b.c)(e,t);return n?oe(n):(Object(u.a)({state:e}).warn("Trying to check for external team membership by id ("+t+") but member is not present in the model."),!1)}function ce(e,t){return!(!e||!t)&&(e.team_id===t||Object(i.a)(Object(o.a)(e,"enterprise_user.teams"),t))}function le(e,t){if(!e||!t)return[];var n=Object(o.a)(e,"enterprise_user.teams",[]);return Object(a.a)(n,t)}function ue(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeSelfTeamId:!1}).includeSelfTeamId;return e&&t&&t.team_id?n?[Object(C.b)(e),t.team_id]:[t.team_id]:[]}function de(e){return!(!e||!e.is_stranger)}function be(e){return Object(I.d)(e)}function pe(e){return Object(I.c)(e)}function he(e){return Object(I.b)(e)}function me(e){return!(!e||e.id!==S&&!e.is_slackbot)}function fe(e){return!(!e||!e.is_bot&&!me(e))}function ve(e){return!(!e||!e.is_invited_user)}function ge(e){return e&&e.id===T}function _e(e){return e&&e.profile&&e.profile.always_active}function Oe(e){return e&&e.is_invited_user}function ye(e){return!!(e&&e.profile&&e.profile.is_custom_image)}function je(e){return!(!e||fe(e)||me(e)||J(e)||$(e)||ne(e)||ve(e)||ae(e))}function ke(e){return!!(e&&e.enterprise_user&&e.enterprise_user.teams&&0===e.enterprise_user.teams.length)}function Ee(e){return!!(e&&e.enterprise_user&&e.enterprise_user.teams&&e.enterprise_user.teams.length<=1)}function Ce(e){var t=Object(b.b)(e),n=Object(v.a)(e,"disable_file_uploads"),r=Object(v.a)(e,"disable_email_ingestion");return!ee(t)&&"disable_all"!==n&&"disable_all_except_images"!==n&&!r}function Ie(e){return!(!e||!e.two_factor_auth_enabled)}function we(e){return!(!e||!(e.is_bot&&e.bot_can_be_configured||me(e)))}function Se(e,t){return!!Object(d.j)(e,"feature_esc_grid_migrations_client")&&(!(!t||!t.team_id)&&Object(m.K)(e,t.team_id))}function Te(e,t){if(!Object(d.j)(e,"feature_esc_grid_migrations_client"))return!1;var n=!1;return Object(r.a)(t,function(t){t&&t.team_id&&Object(m.K)(e,t.team_id)&&(n=!0)}),n}function Re(e,t){return!!(e||t||t.id)&&Object(y.b)(e,t.id)}function Ne(e){return!!(e&&e.profile&&e.profile.status_emoji)}function xe(e,t,n,r,a){var i=!a,o=Object(b.c)(e,t,i);return o?a&&be(o)?t:Me(e,o,n,r):t}function Me(e,t,n,r){if(!t)return"";var a=(r?"@":"")+((Object(g.h)(e)?null:qe(t))||De(t));return n?Object(l.a)(a):a}function Pe(e,t,n){if(!t)return"";var r=Le(t);return!Object(g.h)(e)&&Fe(t)&&(r=Fe(t)),n?Object(l.a)(r):r}var Ae=function(e,t){return!t||t.every(function(t){return Object(b.i)(e,t)})};function De(e){return Ze(e,"real_name")}function Le(e){return Ze(e,"_real_name_normalized_lc")}function qe(e){return Ze(e,"display_name")}function Fe(e){return Ze(e,"_display_name_normalized_lc")}function Be(e,t){var n=De(t),r=qe(t);return Object(g.h)(e)?r:r?n:""}function Ue(e,t){var n=Object(p.j)(e,t&&t.id);return n?Object(h.S)(n):null}function He(e){return e&&e.enterprise_user&&e.enterprise_user.enterprise_name}function Ke(e){return e&&e.profile&&e.profile.title}function Ge(e){return e&&e.profile&&e.profile.phone}function Ve(e){return e&&e.profile&&e.profile.email}function ze(e){return e&&e.profile&&e.profile.skype}function Ye(e){return e&&e.tz}function We(e){return e&&e.tz_offset}function Qe(e){return e&&e.profile&&e.profile.fields}function Xe(e){return e&&e.profile}function Ze(e,t){return e?e.profile?e.profile[t]?e.profile[t]:e[t]?e[t]:e.profile[t+"_normalized"]?e.profile[t+"_normalized"]:"":e.is_bot&&e.name?e.name:"":""}function Je(e){var t=Object(b.b)(e);if($(t))return!1;var n=J(t);return!Object(v.a)(e,"commands_only_regular")||!n}function $e(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).member||Object(b.b)(e),n=Object(E.d)(e);if(Object(m.q)(n)){var r=Object(_.a)(e,"who_can_manage_ext_shared_channels"),s=Object(o.a)(r,"type[0]");if("NO_ONE"===s)return!1;if(U(t)||H(t))return!0;if("ORG_AND_WORKSPACE_ADMINS_OWNERS"===s)return K(t)||B(t);if("ORG_ADMINS_AND_OWNERS_AND_SELECTED"===s){var c=Object(j.d)(e);return!(!Object(i.a)(r.user,t.id)&&!Object(a.a)(r.subteam,c).length)}return!1}return!(!Object(m.B)(n)||1!==Object(v.a)(e,"enable_shared_channels"))&&(K(t)||B(t))}var et=function(e,t,n){if(!t)return{ok:!1,reason:w.r.CHANNEL_NOT_FOUND};if(!n)return{ok:!1,reason:w.r.USER_NOT_FOUND};var r=Object(p.d)(e,t,!1),i=Object(b.c)(e,n,!1);if(ce(i,Object(C.b)(e)))return{ok:!0};if(Object(h.eb)(r)||Object(h.lb)(r))return{ok:!0};if(Object(h.rb)(r)){var s=Object(h.B)(e,r);if(oe(i))return{ok:!1,reason:w.r.GRID_EXTERNAL_USER_CANNOT_JOIN_CHANNEL};if(Object(h.qb)(r))return{ok:!0};var c=Object(o.a)(i,"enterprise_user.teams")||[];return Object(a.a)(c,s).length?{ok:!0}:{ok:!1,reason:w.r.ORG_USER_NOT_IN_TEAM}}if(Object(h.Y)(r)){var l=Object(h.M)(e,r);if(function(e,t){if(!e||!t)return!1;if(oe(t))return!1;var n=ce(t,Object(C.b)(e)),r=Object(C.a)(e);return!n&&(N(t)===r||Object(o.a)(t,"enterprise_user.enterprise_id")===r)}(e,i))return{ok:!1,reason:w.r.ORG_USER_NOT_IN_TEAM};var u=N(i);return l.indexOf(u)>-1?{ok:!0}:{ok:!1,reason:w.r.EXTERNAL_USER_CANNOT_JOIN_OTHER_EXTERNAL_CHANNEL}}return oe(i)?Object(f.d)(e)?{ok:!1,reason:w.r.GRID_EXTERNAL_USER_CANNOT_JOIN_CHANNEL}:{ok:!1,reason:w.r.EXTERNAL_USER_CANNOT_JOIN_CHANNEL}:{ok:!1,reason:w.r.ORG_USER_NOT_IN_TEAM}};function tt(e,t){if(e&&t){if(e.enterprise_user&&t.enterprise_user){var n=e.enterprise_user.teams,r=t.enterprise_user.teams;return Object(a.a)(n,r)}var i=N(e);if(i===N(t))return[i]}return[]}var nt=function(e,t,n){var r=Object(p.d)(e,t,!1);return!(oe(Object(b.c)(e,n,!1))&&!Object(h.eb)(r)&&!Object(h.lb)(r))&&function(e,t,n){return et(e,t,n).ok}(e,t,n)},rt=function(e,t){return oe(Object(b.c)(e,t,!1))?{ok:!1,reason:w.L.EXTERNAL_MEMBER}:{ok:!0}},at=function(e,t){return rt(e,t).ok},it=function(e,t){if(!Object(f.d)(e))return!1;if(J(t))return!1;var n=t.enterprise_user.teams;return!(!n||!n.length||1===n.length)&&(!!ce(t,Object(C.b)(e))&&!!Object(E.d)(e).can_leave)}},FghR:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("oaNE"),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("9rZX"),v=n.n(f),g=n("TSYQ"),_=n.n(g),O=n("18Pa"),y=n("yg0S"),j=n("QbLZ"),k=n.n(j),E=n("jo6Y"),C=n.n(E),I=n("+6YQ"),w=(p.b.node,p.b.func,{children:void 0,onClick:d.a}),S=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buttonRef=m.a.createRef(),n.focusOnButton=n.focusOnButton.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.focusOnButton()}},{key:"focusOnButton",value:function(){this.buttonRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClick,r=C()(e,["children","onClick"]);return m.a.createElement(I.a,k()({ref:this.buttonRef,"data-qa":"coachmark_close_button",onClick:n},r),t)}}]),t}(h.PureComponent);S.displayName="CoachmarkCloseButton",S.defaultProps=w;var T=S,R=n("cnLP"),N=(n("KwLZ"),p.b.instanceOf(Element),p.b.oneOf([10,20,30,40,50,60,70,80,90]),p.b.node.isRequired,p.b.string,p.b.string,p.b.bool.isRequired,p.b.func,p.b.number,p.b.number,p.b.func,p.b.func,p.b.string,p.b.string,p.b.oneOf(R.a).isRequired,p.b.bool,p.b.object,{anchorElement:null,arrowPosition:50,closeCoachmark:d.a,coachmarkClassNames:void 0,"data-qa":"coachmark",offsetX:0,offsetY:0,onClickPrimaryButton:d.a,onClickSecondaryButton:d.a,primaryCallToActionText:void 0,secondaryCallToActionText:void 0,centerOnArrow:!1,style:{}}),x=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentRef=m.a.createRef(),n}return u()(t,e),o()(t,[{key:"getComputedStyles",value:function(e,t){var n=this.props,r=n.offsetX,a=n.offsetY,i=n.centerOnArrow,o=window.scrollX||window.pageXOffset,s=window.scrollY||window.pageYOffset,c={};switch(t){case"top":c.left=e.left+o+parseInt(r,10),c.top=e.top+s-e.height+parseInt(a,10),i&&(c.left+=e.width/2);break;case"bottom":c.left=e.left+o+parseInt(r,10),c.top=e.top+s+e.height+20+parseInt(a,10),i&&(c.left+=e.width/2);break;case"right":c.left=e.left+o+e.width+20+parseInt(r,10),c.top=e.top+s+e.height/2+parseInt(a,10);break;case"left":c.left=e.left+o+parseInt(r,10),c.top=e.top+s+e.height/2+parseInt(a,10)}return c}},{key:"render",value:function(){var e=this.props,t=e.anchorElement,n=e.arrowPosition,r=e.children,a=e.closeCoachmark,i=e.coachmarkClassNames,o=e["data-qa"],s=e.isOpen,c=e.onClickPrimaryButton,l=e.onClickSecondaryButton,u=e.orientation,d=e.primaryCallToActionText,p=e.secondaryCallToActionText,h=e.centerOnArrow,f=e.style;if(!s||!t)return null;var g=_()("c-coachmark","c-coachmark--"+u,"c-coachmark--"+n,{"c-coachmark--center_on_arrow":h},i),j=t.getBoundingClientRect?this.getComputedStyles(t.getBoundingClientRect(),u):{},k=Object(b.a)({},j,f);return m.a.createElement(v.a,{"data-qa":o,className:g,isOpen:s,onRequestClose:a,overlayClassName:"c-coachmark__overlay",ref:this.contentRef,shouldCloseOnEsc:!0,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},content:k}},m.a.createElement(y.a,null,m.a.createElement(O.a,{className:"c-coachmark__close",icon:"times",onClick:a,"aria-label":"Close Coachmark"}),r,m.a.createElement("div",{className:"c-coachmark__footer"},p&&m.a.createElement(T,{onClick:l,type:"outline",className:"margin_right_75","data-action-type":"secondary"},p),d&&m.a.createElement(T,{onClick:c,type:"primary","data-action-type":"primary"},d))))}}]),t}(h.PureComponent);x.displayName="Coachmark",x.defaultProps=N;t.a=x},Fil7:function(e,t,n){},Fkps:function(e,t,n){},FnFz:function(e,t,n){},Fp75:function(e,t,n){"use strict";var r=n("sk9p"),a=n.n(r),i=n("1myf"),o=n("S1sa"),s=n("bPB8"),c=n("zmn3"),l=n("mkut"),u=n("CpTu"),d=n("7EGn"),b=n("F294"),p=n("HO/Y"),h=n("XzsM"),m=n("BicV"),f=n("aW/o"),v=n("pRVB"),g=n("VjHM"),_=n("V/Wy"),O=n("Y+74"),y=n("9D+4"),j=n("Ypgw"),k=n("clTI"),E=n("9MC8"),C=n("uf9I"),I=n("bYYE"),w=n("6kok"),S=n("+8di"),T=n("hOQf"),R=n("qhBG"),N=n("2HDu"),x=n("g5qt"),M=n("UEb0"),P=n("Smdl"),A=n("jyiZ"),D=n("GdsW"),L=n("ROZo"),q=Object(L.b)("TS.mentions.maybeUpdateMentions"),F=n("59Je"),B=n("ESFG"),U=n("5lF5");n.d(t,"a",function(){return H}),n.d(t,"o",function(){return G}),n.d(t,"q",function(){return V}),n.d(t,"p",function(){return z}),n.d(t,"f",function(){return Y}),n.d(t,"r",function(){return W}),n.d(t,"n",function(){return Q}),n.d(t,"d",function(){return J}),n.d(t,"b",function(){return $}),n.d(t,"c",function(){return ee}),n.d(t,"g",function(){return ae}),n.d(t,"h",function(){return ie}),n.d(t,"j",function(){return oe}),n.d(t,"k",function(){return se}),n.d(t,"i",function(){return ce}),n.d(t,"m",function(){return le}),n.d(t,"l",function(){return ue}),n.d(t,"e",function(){return de});var H=x.X||window.Notification||window.webkitNotifications,K=["channel_leave","channel_join","group_leave","group_join"];function G(e,t,n){if(!t||!n)return M.a.BAD_ARGUMENTS;if(t.no_display)return M.a.NO_DISPLAY_OVERRIDE;if(Object(T.ib)(t))return M.a.REPLY_MESSAGE;if(t.subtype&&-1!==K.indexOf(t.subtype))return M.a.JOIN_LEAVE_MESSAGE;var r=ae(e,n.id);if("nothing"===r)return M.a.SILENT_PREFERENCE;var a=Object(R.a)(e,n),i=Object(p.b)(e),o=function(e,t,n){var r=!1,a=Object(T.W)(e,t),i=Object(p.j)(e,"feature_wta_notifications");if(n){var o={ignoreHighlightWords:Object(T.vb)(t,a,i),ignoreAtEveryoneMentions:!1,ignoreAtChannelMentions:!1,ignoreAtHereMentions:"away"===Object(y.e)(e)},s=Object(C.b)(e);(r=Object(T.x)(t,Object(p.b)(e),Object(O.a)(e),s,o))&&!Object(P.a)()&&q()}else{var c={ignoreHighlightWords:Object(T.vb)(t,a,i),ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0,ignoreAtHereMentions:!0},l=Object(C.b)(e);(r=Object(T.x)(t,Object(p.b)(e),Object(O.a)(e),l,c))&&!Object(P.a)()&&q()}return r}(e,t,a);if("bot_message"===t.subtype&&"everything"!==r&&!o)return M.a.BOT_MESSAGE;if(Object(p.j)(e,"feature_wta_notifications")&&Object(T.W)(e,t)&&"everything"!==r&&!o)return M.a.APP_MESSAGE;var s=Object(T.j)(t,i),c=o&&s,l=Object(F.c)(e,n.id);return!s||Object(I.g)(e)||Object(p.j)(e,"feature_incremental_unread_counts")||X(c,l),Y()?c||"everything"===r?Z(e,t,n)?M.a.ACTIVE_VIEW_VISIBLE:Object(T.cb)(t,i)?M.a.FROM_CURRENT_USER:t.no_notifications?M.a.NO_NOTIFICATIONS_OVERRIDE:l?M.a.MUTED_CHANNEL:Object(m.c)(e)&&!t._ignore_dnd?M.a.USER_IN_DND:Object(S.a)(e,n)?M.a.LESS_RELEVANT_ORG_TEAM:function(e,t,n){return!!Object(p.m)(e)&&!Object(T.n)({state:e,text:t.text,channelId:n.id,userId:t.user})}(e,t,n)?M.a.OVERSIZED_MENTION:M.a.NONE:M.a.NO_MENTIONS:M.a.PERMISSION_DENIED}function V(e,t,n){return t&&n?t.no_display?M.a.NO_DISPLAY_OVERRIDE:Object(T.ib)(t)?M.a.REPLY_MESSAGE:t.suppress_notification&&Object(p.j)(e,"feature_silence_app_dms")?M.a.APP_DM_SUPPRESSED:(Object(I.g)(e)||Object(p.j)(e,"feature_incremental_unread_counts")||X(!0),"nothing"===oe(e,n.id)?M.a.SILENT_PREFERENCE:Y()?Z(e,t,n)?M.a.ACTIVE_VIEW_VISIBLE:Object(T.cb)(t,Object(p.b)(e))?M.a.FROM_CURRENT_USER:t.no_notifications?M.a.NO_NOTIFICATIONS_OVERRIDE:Object(m.c)(e)&&!t._ignore_dnd?M.a.USER_IN_DND:Object(S.a)(e,n)?M.a.LESS_RELEVANT_ORG_TEAM:function(e,t,n){if(!Object(w.Db)(n))return!1;return!(!Object(d.a)(t,"upload")||!Object(u.a)(Object(d.a)(t,"files",[]),{mode:"email"}))}(0,t,n)?M.a.EMAIL_SHARED:M.a.NONE:M.a.PERMISSION_DENIED):M.a.BAD_ARGUMENTS}function z(e,t){if(!t||!t.channel)return M.a.BAD_ARGUMENTS;var n=Object(k.d)(e,t.channel,!1);if(!n||Object(w.nb)(n)||Object(w.ab)(n))return M.a.BAD_ARGUMENTS;var r=t.msg,a=t.thread_ts;if(Object(S.a)(e,n))return M.a.LESS_RELEVANT_ORG_TEAM;if("treatment"===Object(h.c)(e,"notify_upon_channel_invite")&&function(e){return!!e&&"desktop_notification"===e.type&&e.is_channel_invite}(t))return M.a.NONE;var i={ts:r,thread_ts:a};if(!Object(T.ib)(i))return M.a.NOT_REPLY_MESSAGE;if(function(e,t,n){if(!Object(I.g)(e))return!1;if(Object(P.a)()&&!Object(v.k)(e))return!1;if(Object(T.w)(t.text))return!1;if(Object(p.j)(e,"feature_react_threads")){var r=Object(v.j)(e);if(Object(P.a)()&&"thread"!==r)return!1;if(!Object(P.a)()&&"convo"!==r)return!1;var a=Object(v.e)(e),i=Object(N.a)(Object(b.a)(a)),o=i.channelId,s=i.threadTs;return t.thread_ts&&n.id===o&&t.thread_ts===s}return t.thread_ts&&n.id===Object(U.a)()&&t.thread_ts===Object(U.b)()}(e,t,n))return M.a.ACTIVE_VIEW_VISIBLE;var o=Object(E.b)(e);if(!o||r>o)return M.a.REDUNDANT_SOCKET_EVENT;var s=void 0,c=(s=Object(p.j)(e,"feature_react_threads")?Object(j.d)(e,{channelId:n.id,ts:a,fetchIfMissing:!1}):Object(B.b)(n.id,a))?s.last_read||s.lastRead:null;return c&&c>=r?M.a.ALREADY_SEEN_REPLY:M.a.NONE}function Y(){return!!H&&(!!x.X||"granted"===Q())}function W(){return!!H&&(!Y()&&"denied"!==Q())}function Q(){return x.X||!H?"na":window.Notification?window.Notification.permission:"na"}function X(e,t){e&&-1===document.title.indexOf("!")?document.title="! "+document.title:t||-1!==document.title.indexOf("*")||(document.title="* "+document.title)}function Z(e,t,n){if(!Object(I.g)(e))return!1;if(!(!Object(P.a)()||Object(v.k)(e)))return!1;if(Object(T.w)(t.text))return!1;var r=Object(f.a)(e);return n.id===r&&!t._hidden_reply&&!Object(D.b)()}function J(e){return $(e)&&ee(e)}function $(e){return"nothing"===Object(_.d)(e,"global_desktop")}function ee(e){return"nothing"===Object(_.d)(e,"global_mobile")}function te(e,t){if("desktop"!==t&&"mobile"!==t)throw new Error("Platform must be desktop or mobile: "+t);return Object(_.d)(e,"global_"+t)}function ne(e,t,n){var r=Object(k.d)(e,t,!1);return!r||Object(w.nb)(r)||Object(w.ab)(r)?null:Object(w.lb)(r)||Object(w.eb)(r)?function(e,t){if("desktop"!==t&&"mobile"!==t)throw new Error("Platform must be desktop or mobile: "+t);if(Object(p.j)(e,"feature_turn_mpdm_notifs_on")){var n=Object(_.d)(e,"global_mpdm_"+t);return n||("nothing"===te(e,t)?"nothing":"everything")}return Object(_.d)(e,"global_"+t)}(e,n):te(e,n)}function re(e,t,n){if("desktop"!==n&&"mobile"!==n)throw new Error("Platform must be desktop or mobile: "+n);var r=Object(k.d)(e,t,!1);if(!r||Object(w.nb)(r)||Object(w.ab)(r))return null;if(Object(w.eb)(r))throw new Error("IMs do not have a calculated notification setting");var a=Object(_.c)(e,t,n);return a||ne(e,t,n)}function ae(e,t){return re(e,t,"desktop")}function ie(e,t){return re(e,t,"mobile")}function oe(e,t){return ne(e,t,"desktop")}function se(e,t){return ne(e,t,"mobile")}function ce(e){var t=Object(_.a)(e),n=Object(l.a)(t),r=Object(s.a)(n.map(function(n){var r=Object(k.d)(e,n,null);if(!r)return null;if(Object(w.nb)(r))return null;if(Object(w.ab)(r))return null;if(w.yb&&!Object(w.kb)(r))return null;if(Object(w.V)(r))return null;var a=t[n];if(a.muted)return r;if(a.suppress_at_channel)return r;var i=oe(e,n),o=se(e,n);return i!==a.desktop?r:o!==a.mobile?r:null})),u=Object(o.a)(r,w.lb),d=a()(u,2),b=d[0],p=d[1],h=Object(i.a)(p,"name").concat(b);return Object(c.a)(h,"id")}function le(){var e=Y(),t=null;if(!e){var n=Q();t="denied"===n?"not_allowed":"default"===n?"not_yet_allowed":"impossible"}return{notificationsEnabled:e,notificationDisabledType:t}}function ue(e){var t=Object(_.d)(e,"desktop_sound"),n=Object(A.b)(!0);return n[t]&&n[t].url}function de(e){return(!x.X||!Object(x.ab)()&&!Object(x.Ab)())&&(!Object(g.g)(e,"mute_sounds")&&!Object(m.c)(e))}},FsHF:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d});var r=n("ROZo"),a=n("rWF5"),i=Object(r.b)("TS.members.getMemberProfileFieldDisplayName",function(e){return e&&e.profile&&e.profile.display_name||""}),o=Object(r.b)("TS.members.userAddedToTeam"),s=Object(r.b)("TS.members.userRemovedFromTeam"),c=Object(r.b)("TS.members.legacyUpsertAndSignal",function(){throw new Error("Not implemented")}),l=(Object(r.b)("TS.members.legacyStartBatchUpsert",function(){throw new Error("Not implemented")}),Object(r.b)("TS.members.legacyFinishBatchUpsert",function(){throw new Error("Not implemented")}),Object(r.b)("TS.members.legacyGetPrefCompliantMemberNameLowerCase",function(){throw new Error("Not implemented")}),Object(r.b)("TS.members.getAvatarBaseUrl",function(){return a.k?"https://dev.slack.com/avatarsource/":"https://ca.slack-edge.com/"})),u=Object(r.b)("TS.members.invalidateMembersUserCanSeeArrayCaches"),d=Object(r.b)("TS.members.presence_changed_sig.dispatch")},Ft5X:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("TSYQ"),s=n.n(o),c=n("6kok"),l=n("od5y"),u=(i.b.object.isRequired,i.b.string,i.b.bool,function(e){var t=e.channel,n=e.strong,r=e.channelName||Object(c.w)(t),i=null;if(Object(c.yb)(t)||Object(c.xb)(t)){var o=s()({"c-icon--align-hashmark":!Object(c.xb)(t)});i=a.a.createElement(l.a,{className:o,align:"baseline",inherit:!0,type:Object(c.xb)(t)?"lock":"channel"})}var u=null;Object(c.sb)(t)?u=a.a.createElement(l.a,{align:"baseline",inherit:!0,type:"shared_channel"}):Object(c.ub)(t)?u=a.a.createElement(l.a,{align:"baseline",inherit:!0,type:"shared_channels_pending"}):Object(c.Cb)(t)&&(u=a.a.createElement(l.a,{align:"baseline",inherit:!0,type:"shared_channels"}));var d=s()({bold:n});return a.a.createElement("span",{className:d},i,r,u)});u.displayName="FormattedChannelName",u.defaultProps={channelName:"",strong:!1},t.a=u},Fuyg:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("gSGL"),a=n("nNoG");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.a)(e)?e.length?Object(a.a)(e.toLocaleLowerCase()):"":null}},"Fw/c":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Bulk add custom emoji");i.propTypes={teamId:r.b.string.isRequired,cacheTs:r.b.string.isRequired,emojis:r.b.object,aliases:r.b.object};var o=Object(a.b)("Bulk remove custom emoji");o.propTypes={teamId:r.b.string.isRequired,cacheTs:r.b.string.isRequired,names:r.b.arrayOf(r.b.string).isRequired};var s=Object(a.b)("Rename a custom emoji");s.propTypes={teamId:r.b.string.isRequired,cacheTs:r.b.string.isRequired,prevName:r.b.string.isRequired,nextName:r.b.string.isRequired,url:r.b.string.isRequired}},FyaT:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a});var r={CARD_NUMBER:"cardNumber",CARD_EXPIRY:"cardExpiry",CARD_CVC:"cardCvc",POSTAL_CODE:"postalCode"},a="new_credit_card_id",i=9},"G+bj":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("GQZf");function a(e){return!(!e||1!==e.length||e[0].type!==r.a.RICH_TEXT)}},G2ZK:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("fyoz"),s=n("cMxN"),c=n("4Rcn"),l=(r.b.string,r.b.string,r.b.shape({top:r.b.number,left:r.b.number,right:r.b.number,bottom:r.b.number,height:r.b.number,width:r.b.number}),{memberId:void 0,title:"",targetBounds:void 0}),u=function(e){var t=e.memberId,n=e.title,r=e.targetBounds,a=t?i.a.createElement(o.b,{id:t,size:"small",showAvatar:!0,useDarkMode:!0,showPresence:!0,forcedPrimary:"real_name"}):n;return i.a.createElement(s.a,{isOpen:!0,position:"top",targetBounds:r,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},i.a.createElement(c.a,{position:"top",className:t?"c-tooltip__tip--member":null},a))};u.displayName="TextyTooltip",u.defaultProps=l,t.a=u},G9En:function(e,t,n){},GA3r:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=200;t.b={calculator:"calculator",form:"form",review:"review",success:"success"}},GC45:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var r=n("ROZo"),a=Object(r.b)("TS.coachmark.legacyIsShowing"),i=Object(r.b)("TS.coachmark.startTractorUploadFileCoachmark"),o=Object(r.b)("TS.coachmark.startTractorSendMessageCoachmark"),s=Object(r.b)("TS.coachmark.startJoinerLandingPlaceCoachmark")},GGbT:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=new(n("nNoG").b)("calls");function a(e){var t=e.dateEnd,n=e.isDmCall,a=e.wasMissed,i=e.wasRejected,o=e.isCreator,s=e.isParticipant,c=e.dmCallName,l=e.participantsCount,u=t&&n&&a&&i&&o,d=t&&n&&a,b=t&&n&&a&&o,p=t,h=!n&&s,m=!n&&!s,f=n&&2===l,v=!t&&n&&o,g=!t&&n;return t&&n&&a&&i&&!o?r.t("You declined the call"):u?r.t("{dmCallName} declined the call",{dmCallName:c}):b?r.t("{dmCallName} missed the call",{dmCallName:c}):d?r.t("You missed the call"):p?r.t("This call has ended"):h?r.t("You are on this call"):m?r.t("Join this call"):f?r.t("On a call with {dmCallName}",{dmCallName:c}):v?r.t("Calling {dmCallName}",{dmCallName:c}):g?r.t("{dmCallName} is calling you",{dmCallName:c}):""}},GLRY:function(e,t,n){},GOkG:function(e,t,n){},GPfB:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.im_browser.startWithMpim")},GQZf:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r={BULLET:"bullet",ORDERED:"ordered"};t.a={RICH_TEXT:"rich_text",SECTION:"rich_text_section",QUOTE:"rich_text_quote",PREFORMATTED:"rich_text_preformatted",LIST:"rich_text_list",TEXT:"text",USER:"user",USERGROUP:"usergroup",CHANNEL:"channel",BROADCAST:"broadcast",EMOJI:"emoji",LINK:"link",TEAM:"team",DATE:"date",COLOR:"color",_THEME_INSTALL_BUTTON:"theme_install_button"}},GTwG:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("P2f5"),c=n("N52Z"),l=n("P9LH"),u=n("DtX9"),d=n("Fdc0"),b=n("kOzZ"),p=Object(o.b)("Clogs a link click in a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.file,i=n.payload,o=void 0===i?{}:i;if(r){var s=t(),p=Object(b.a)({state:s}),h=r.timestamp,m=Object(l.l)(r),f=m.userId,v=m.botId;if(!v){var g=Object(u.c)(s,f);v=Object(d.n)(g)}var _=null;if(v){var O=Object(c.c)(s,v);_=O?O.app_id:null}var y=a()({},o,{timestamp:h,member_id:f,app_id:_,bot_id:v});p.track("FILE_LINK_CLICKED",y),"copy_link"===o.subtype?p.track("MSG_LINK_COPY",y):"video_play"===o.subtype?p.track("MSG_VIDEO_PLAY",y):"file_download"===o.subtype?p.track("FILE_DOWNLOAD",y):"file_expand"===o.subtype?p.track("PREVIEW_EXPAND",y):"file_collapse"===o.subtype&&p.track("PREVIEW_COLLAPSE",y)}});p.propTypes={file:i.b.shape({timestamp:i.b.number,user:i.b.string}).isRequired,payload:i.b.object},t.a=p,Object(o.b)("Clogs a link click in a file given a file ID",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.payload,i=void 0===a?{}:a;if(r){var o=t(),c=Object(s.h)(o,r,!1);e(p({file:c,payload:i}))}}).propTypes={fileId:i.b.string,payload:i.b.object}},GbYP:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("7EGn"),b=n("ifKl"),p=n("HI9p"),h=n("CpTu"),m=n("zmn3"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("TSYQ"),O=n.n(_),y=n("tn36"),j=n("QbLZ"),k=n.n(j),E=n("jo6Y"),C=n.n(E),I=n("XLFM"),w=n("od5y"),S=(n("hOZo"),f.b.node.isRequired,f.b.func.isRequired,f.b.bool,f.b.string,f.b.bool,f.b.number,{isSelected:!1,icon:"",fullWidth:!1,count:NaN}),T=Object(v.forwardRef)(function(e,t){var n=e.label,r=e.isSelected,a=e.fullWidth,i=e.count,o=e.icon,s=C()(e,["label","isSelected","fullWidth","count","icon"]),c=O()("c-tabs__tab","js-tab",{"c-tabs__tab--active":r,"c-tabs__tab--full_width":a});return g.a.createElement(I.c,k()({},s,{role:"tab",className:c,"aria-selected":r,tabIndex:r?0:"-1",ref:t}),n,Number.isFinite(i)&&g.a.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},i),!!o&&g.a.createElement(w.b,{type:o,className:"c-tabs__tab_icon",size:"inherit",inline:!0,"data-qa":"tabs_item_render_icon"}))});T.defaultProps=S,T.displayName="TabsItem";var R=T,N=(f.b.node.isRequired,f.b.bool,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.fullHeight,r=O()("c-tabs__tab_panel","js-panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":n});return g.a.createElement("div",{role:"tabpanel",className:r,"data-qa":"tabs_content_container"},t)}}]),t}(v.PureComponent));N.displayName="TabsContent",N.defaultProps={fullHeight:!1};var x=N,M=(f.b.array.isRequired,f.b.string,f.b.func,f.b.bool,f.b.bool,{defaultTabId:"",onTabChange:b.a,fullHeight:!1,fullWidthMenu:!1}),P={ArrowLeft:"onLeftArrow",ArrowRight:"onRightArrow",Home:"onHome",End:"onEnd"},A=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(y.a)(n,["onItemClick","selectTab","renderTabsItems","onLeftArrow","onRightArrow","onHome","onEnd","onKeyDown","onFocus","getTabIndexById","getTabIdByIndex"]),n.focusedTabRef=g.a.createRef();var r=void 0,i=n.props,o=i.defaultTabId,s=i.tabs;if(s&&s.length){var l=Object(p.a)(s,{id:o});r=o&&l?o:s[0].id}return n.state={selectedTabId:r,focusedTabIndex:void 0},n}return u()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.defaultTabId!==e.defaultTabId&&e.defaultTabId){if(!this.props.tabs||!this.props.tabs.length)return;this.selectTab(e.defaultTabId)}}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.focusedTabIndex;void 0!==n&&t.focusedTabIndex!==n&&this.focusedTabRef.current&&this.focusedTabRef.current.focus()}},{key:"onItemClick",value:function(e,t){this.selectTab(t)}},{key:"onLeftArrow",value:function(e){e.preventDefault();var t=this.getTabIndexById(e.target.id)-1,n=t>=0?t:this.props.tabs.length-1;this.focusTab(n)}},{key:"onRightArrow",value:function(e){e.preventDefault();var t=this.getTabIndexById(e.target.id)+1,n=t<this.props.tabs.length?t:0;this.focusTab(n)}},{key:"onHome",value:function(e){e.preventDefault(),this.focusTab(0)}},{key:"onEnd",value:function(e){e.preventDefault(),this.focusTab(this.props.tabs.length-1)}},{key:"onKeyDown",value:function(e){var t=P[e.key];t&&this[t](e)}},{key:"onFocus",value:function(e){var t=this.state.focusedTabIndex,n=this.getTabIndexById(e.target.id);n!==t&&this.focusTab(n)}},{key:"getTabIndexById",value:function(e){var t=this.props.tabs;return Object(p.a)(t,{id:e})}},{key:"getTabIdByIndex",value:function(e){var t=this.props.tabs;return Object(d.a)(t,"["+e+"].id")}},{key:"focusTab",value:function(e){this.setState(function(){return{focusedTabIndex:e}})}},{key:"selectTab",value:function(e){var t=this,n=this.props.tabs,r=Object(h.a)(n,{id:e});return r.isExternalLink?r.onClick(e):(this.setState(function(){return{selectedTabId:e}},function(){t.props.onTabChange(e)}),null)}},{key:"renderTabsItems",value:function(){var e=this,t=this.props,n=t.tabs,r=t.fullWidthMenu,a=this.onItemClick;return Object(m.a)(n,function(t,n){var i=e.state.focusedTabIndex===n?e.focusedTabRef:void 0;return g.a.createElement(R,{key:t.id,id:t.id,icon:t.icon,label:t.title,onClick:function(e){t.isExternalLink||a(e,t.id),t.onClick&&t.onClick(t.id)},isSelected:e.state.selectedTabId===t.id,disabled:t.isDisabled,fullWidth:r,count:t.titleCount,"data-qa":t["data-qa"],ref:i})})}},{key:"render",value:function(){var e=this.props,t=e.tabs,n=e.fullHeight,r=e.fullWidthMenu,a=this.state.selectedTabId,i=Object(h.a)(t,{id:a},"").content,o=O()({"c-tabs__tab_container--full_height":n}),s=O()("c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":r});return g.a.createElement("div",{className:o,"data-qa":"tabs_full_height_class"},g.a.createElement("div",{role:"tablist",className:s,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus},this.renderTabsItems()),g.a.createElement(x,{content:i,fullHeight:n,fullWidthMenu:r}))}}]),t}(v.PureComponent);A.displayName="Tabs",A.defaultProps=M;t.a=A},GdsW:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"h",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return p});var r=n("ROZo"),a=Object(r.b)("TS.client.displayModelObById"),i=Object(r.b)("TS.client.setLastActiveChannelId"),o=Object(r.b)("TS.client.activeChannelIsHidden"),s=Object(r.b)("TS.client.activeChannelDisplayGoneAway"),c=Object(r.b)("TS.client.handleDeepLink"),l=Object(r.b)("TS.client.handleDeepLinkWithArgs"),u=Object(r.b)("TS.client.userAddedToTeam"),d=Object(r.b)("TS.client.userRemovedFromTeam"),b=Object(r.b)("TS.client.apiPaused"),p=Object(r.b)("TS.client.apiUnpaused");Object(r.b)("TS.client.showErrorReloadDialog")},Ggy7:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.ui.snippet_dialog.startEdit",r.a),o=Object(a.b)("TS.ui.snippet_dialog.startCreate",r.a)},GkXS:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m});var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("eJId"),c=n("U/ze"),l=n("KPXh"),u=n("u2vH"),d=n("1VpL"),b=Object(c.b)(function(e){if(!e)return null;var t=Object(s.c)(e),n=e.slashCommand.commands;return[].concat(o()(t),o()(Object.values(n)))}),p=Object(c.b)(function(e){return e&&e.slashCommand&&e.slashCommand.cacheTs||null}),h=Object(c.b)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=b(e);return a&&t?a.filter(function(a){var i=Object(l.k)(e,a,{channelId:t,isThread:n}).isEnabled,o=Object(l.j)(e,a,{channelId:t});return i&&(r||o)}):[]}),m=Object(c.b)(function(e,t,n){return h(e,t,n).map(function(t){var n=Object(l.h)(t),r=void 0,i=void 0;if("client"===n||"core"===n)r="Slack";else if("app"===n){i=t.app;var o=Object(d.e)(e,i)||void 0;r=o.name||Object(u.n)(o)||void 0}else"custom"===n?r="Custom":"service"===n&&(r=t.service_name);return a()({},t,{appName:r,appId:i})})})},Gl4g:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("xWuZ"),i=n("6LPd"),o=n("XfeM"),s=n("wYji"),c=n("smxp"),l=n("9HJ0"),u=n("HHn2"),d=new(n("nNoG").b)("cmd_handlers"),b=Object(o.b)("/expand slash command",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=Object.values(Object(c.b)(t(),n)||{}),o=Object(a.a)(r.map(function(e){return Object(u.b)(e)})),b=Object(i.a)(o,o.map(function(){return!0}));e(Object(l.a)(b)),e(Object(s.b)({temporary:!1,message:{text:d.t("I\u2019ve expanded all files in this channel for you."),channel:n}}))});b.propTypes={channelId:r.b.string.isRequired},t.default=b},"Gq2+":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("hOQf"),s=n("lek6"),c=n("y/l/");n("3ksD"),i.b.object.isRequired;function l(e){var t=e.msg,n=t.file,r=t.files,i=t.comment,l=t.user,u=n||r&&r[0];return Object(o.ab)(t)&&u&&i?a.a.createElement("span",{className:"c-message_kit__comment"},a.a.createElement(c.a,{fileId:u,comment:i}),a.a.createElement("br",null),a.a.createElement(s.a,{text:i.comment,memberId:l})):null}l.displayName="MessageFileComment"},Gxzu:function(e,t,n){"use strict";n.d(t,"g",function(){return f}),n.d(t,"h",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return j});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=n("Rmtr"),h=n("BrU6"),m=n("V18M"),f=Object(l.b)("Set the search input box display query");f.propTypes={displayQuery:c.b.string.isRequired};var v=Object(l.b)("Set the user query and display query associated with the search input box without any side effects");v.propTypes={userQuery:c.b.string.isRequired,displayQuery:c.b.string.isRequired,setSearchInputBoxQueriesInternal:c.b.bool};var g=Object(d.b)(function(e){return e&&e.searchInputBox&&e.searchInputBox.userQuery}),_=Object(d.b)(function(e){return e&&e.searchInputBox&&e.searchInputBox.displayQuery}),O=Object(d.b)(function(e){return e&&e.searchInputBox&&e.searchInputBox.queryIsUserGenerated}),y=Object(b.b)("The search input has changed",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).textyString,r=t();return n!==_(r)?(Object(m.a)(r)&&!Object(p.e)(r)&&e(Object(p.f)()),e(Object(h.a)({textyString:n,queryIsUserGenerated:!0,fetchAutocompleteSuggestions:!0}))):Promise.resolve()});y.propTypes={textyString:c.b.string.isRequired};var j=Object(l.b)("Reset search input box redux state");j.propTypes={};var k={displayQuery:"",userQuery:"",queryIsUserGenerated:!1},E=Object(u.b)((r={},i()(r,j,function(){return k}),i()(r,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayQuery,r=t.queryIsUserGenerated,a=void 0!==r&&r;return s()({},e,{displayQuery:n,queryIsUserGenerated:a})}),i()(r,v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userQuery,r=t.displayQuery,a=t.queryIsUserGenerated;return s()({},e,{userQuery:n,displayQuery:r,queryIsUserGenerated:a})}),r),k,{persistenceEnabled:!0});E.propTypes={displayQuery:c.b.string,userQuery:c.b.string,queryIsUserGenerated:c.b.bool},t.a=E},H2PH:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("lCmp"),b=n("IzLi"),p=n("gSGL"),h=n("c8Bs"),m=n("CpTu"),f=n("UXvI"),v=n("q/xz"),g=n("lhZz"),_=n("eVYY"),O=n("DTT0"),y=n("N0/W"),j=n("eCgt"),k=n("kxpR"),E=n.n(k),C=n("XfeM"),I=n("FYw3"),w=n.n(I),S=n("mRg0"),T=n.n(S),R=n("ifKl"),N=n("aK/h"),x=n("XHGt"),M=n("nNoG"),P=n("ICFZ"),A=n("UOab"),D=n("a+Oh"),L=n("7WZX"),q=n("U3Q0"),F=n("qafc"),B=new M.b("file-upload"),U=(N.b.func,N.b.func,N.b.string,N.b.string,N.b.string,N.b.bool,N.b.func,{onGo:R.a,onClose:R.a,msgText:void 0,errorTitle:void 0,errorMessage:void 0,allowTryAgain:!0,enqueueToast:R.a}),H=function(e){function t(e){c()(this,t);var n=w()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCancel=n.onCancel.bind(n),n}return T()(t,e),u()(t,[{key:"onCancel",value:function(){var e=this.props,t=e.onClose,n=e.msgText;if(this.canCopyMessage()){Object(P.b)(n);var r=B.t("Text copied.");this.props.enqueueToast({element:E.a.createElement(F.b,{icon:"check-circle-o",iconClassName:"sk_seafoam_green"},r)})}t()}},{key:"getErrorMessage",value:function(){var e=this.props.errorMessage;return e||(this.canCopyMessage()?B.t("If you\u2019d like, you can copy your message to your clipboard in order to send it separately \u2014 or you can try uploading again."):B.t("Hmm, it looks like your file failed to upload. Want to try again?"))}},{key:"canCopyMessage",value:function(){return this.props.msgText&&Object(P.a)()}},{key:"render",value:function(){var e=this.props,t=e.onGo,n=e.onClose,r=e.errorTitle,a=e.allowTryAgain,i=r||B.t("Your file couldn\u2019t be uploaded"),o=void 0;o=a&&this.canCopyMessage()?B.t("Try Again"):a?B.t("Yes, try again"):B.t("OK");var s=void 0;a&&this.canCopyMessage()?s=B.t("Copy Text & Close"):a&&(s=B.t("Cancel"));var c=this.getErrorMessage();return E.a.createElement(q.a,{className:"p-file_upload_error_dialog",title:i,goButtonText:o,cancelText:s,showCancelButton:a,onGo:t,onCancel:this.onCancel,onClose:n,shouldCloseOnGo:!1},c)}}]),t}(k.PureComponent);H.displayName="FileUploadErrorDialog",H.defaultProps=U;var K=Object(x.b)(function(e,t){var n=t.blocks;return Object(D.a)(e)?{msgText:Object(A.a)(e,n)}:{}},function(e){return{enqueueToast:function(){return e(L.c.apply(void 0,arguments))}}})(H),G=Object(C.b)("Opens the File Upload Error Dialog",function(e,t,n){e(Object(O.e)({element:E.a.createElement(K,n)}))});G.propTypes=null;var V=G,z=n("P9LH"),Y=n("6kok"),W=n("clTI"),Q=n("FN36"),X=n("c72F"),Z=n("yHhI"),J=n("OqoL"),$=n("5O0F"),ee=n("negh"),te=n("kOzZ"),ne=n("WQtW"),re=n("Smdl"),ae=n("St+r"),ie=n("Z7Ay");n.d(t,"a",function(){return he}),n.d(t,"b",function(){return me});var oe={},se=$.a.OK,ce=$.a.TIMEOUT,le=$.a.ABORTED,ue=$.a.UNKNOWN,de="UPLOAD-QUEUE",be=new M.b("upload-queue"),pe=function(){function e(t){if(c()(this,e),!t)throw new Error("UploadQueue requires a teamId");this._teamId=t,this._store=Object(g.getStoreInstanceByTeamId)(t),this._queue=[],this._activeJob=null,this._logger=Object(Z.a)({teamId:t}),this._log=this._log.bind(this),this._throttledLog=Object(f.a)(this._log,5e3,{leading:!1}),this._uploadExternalFileFetcher=this._uploadExternalFileFetcher.bind(this),this._uploadExternalFileUsingChatPostMessageFetcher=this._uploadExternalFileUsingChatPostMessageFetcher.bind(this),this._uploadFilesFetcher=this._uploadFilesFetcher.bind(this),this._onMultiFileUploadProgress=this._onMultiFileUploadProgress.bind(this),Object(v.a)(this)}return u()(e,[{key:"uploadFiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.files,r=t.shareData,a=void 0===r?{}:r;if(!n||!n.length)return Promise.reject(new Error("no files passed to uploadFiles"));if(Object(d.a)(n,function(t){return!e._doesPendingFileExist(t)})){this._displayFileNotFoundError({msgText:a.introMessage,blocks:a.blocks});var i=new Error("[UPLOAD-QUEUE]: file not found in uploadFiles");return this._log(i,{level:"error"}),Promise.reject(i)}var o=a.isBox||a.isDropbox,s=this._uploadFilesFetcher,c=this._store.getState&&this._store.getState();if(o){var l=a.isDropbox&&Object(Q.a)(c,"dropbox_legacy_picker");s=l?this._uploadExternalFileUsingChatPostMessageFetcher:this._uploadExternalFileFetcher}return new Promise(function(t,r){var i={files:n,shareData:a,cancelable:!o,numRetries:0,fetcher:s,resolve:t,reject:r,processingTimeout:null};e._queue.push(i),e._go()})}},{key:"cancelCurrentUpload",value:function(){this._activeJob&&(this._activeJob.uploads&&(this._cancelActiveXhrRequests(),this._log("Upload was cancelled by the user"),this._store.dispatch(Object(_.j)()),this._uploadOver()))}},{key:"maybeResolveCurrentUpload",value:function(e){if(e&&this._activeJob&&this._activeJob.shareData&&e===this._activeJob.shareData.clientMsgId){this._activeJob.hasCurrentUploadResolved=!0;var t=this._store&&this._store.getState();Object(_.h)(t)===_.d?(this._log("Resolving upload for client_msg_id: "+e),this._resolveCurrentUpload()):this._logger.warn(de+": attempting to resolve upload before completeUpload resolved "+this._activeJob.shareData.clientMsgId)}}},{key:"onDisconnect",value:function(){var e=this._store.getState(),t=Object(_.h)(e);t===_.e&&this._activeJob&&(this._activeJob.disconnectedDuringUpload=!0),t===_.d&&this._forceResolveCurrentUpload("client disconnected")}},{key:"onChannelLeave",value:function(){if(this._store&&this._activeJob&&this._activeJob.shareData&&!this._isMemberOfChannelBeingUploadedTo()){var e=this._store.getState();if(Object(_.h)(e)===_.d){var t=this._activeJob.shareData.channelId;this._forceResolveCurrentUpload("user left channel being uploaded to: "+t)}}}},{key:"_uploadExternalFileFetcher",value:function(){var e=this,t=(this._activeJob||{}).resolve,n=this._activeJob.shareData,r=n.channelId,a=n.link,i=n.title,s=n.broadcast,c=n.threadTs,l=n.metadata,u=n.blocks;return this._store.dispatch(Object(_.l)()),this._store.dispatch(Object(y.s)({title:i,link:a,broadcast:s,threadTs:c,channels:r||"",initialComment:this._getProcessedIntroMessage(),blocks:u,reason:"upload-queue"})).then(function(){var n;e._clogUploadComplete(ee.k.FILE_COMPLETE_UPLOAD_SUCCESS,(n={},o()(n,ee.d.file_upload_action,l&&l.fileUploadAction),o()(n,ee.d.file_upload_src,l&&l.fileUploadSrc),n)),e._store.dispatch(Object(_.k)()),e._uploadOver(),t&&t()})}},{key:"_uploadExternalFileUsingChatPostMessageFetcher",value:function(){var e=this,t=this._activeJob.shareData,n=t.channelId,r=t.link,a=t.broadcast,i=t.introMessage,o=t.blocks,s=t.threadTs;this._store.dispatch(Object(_.l)());var c=this._store.getState(),l=void 0,u=void 0;return Object(D.a)(c)?(l=Object(X.a)(c,o),o&&l.insert("\n"),l.insert(r,{link:r})):u=i+" \n "+r,this._store.dispatch(Object(j.a)({channelId:n,replyToTs:s,shouldBroadcast:a,text:u,delta:l})).then(function(){e._store.dispatch(Object(_.k)()),e._uploadOver()})}},{key:"_uploadFilesFetcher",value:function(){var e=this,t=this._activeJob.files;this._activeJob.uploads=[],this._log("Preparing to upload "+t.length+" file(s)");var n=t.map(function(t,n){return e._store.dispatch(Object(y.h)({fileName:Object(z.m)(t),fileSize:t.size,snippetType:t.snippetType,reason:"upload-queue"})).then(function(r){var a=r.file,i=r.upload_url;return e._log("Got upload URL and ID "+a),new Promise(function(r){var o=new FormData;o.append("file",t);var s=new XMLHttpRequest;s.addEventListener("timeout",e._onTimeout.bind(e)),s.addEventListener("abort",e._onAbort.bind(e)),s.addEventListener("error",e._onError.bind(e)),s.addEventListener("load",function(){e._log("Completed POSTing "+a+" to upload URL"),r()}),s.upload&&s.upload.addEventListener("progress",function(t){return e._onMultiFileUploadProgress(t,a)}),e._activeJob.uploads[n]={xhr:s,fileId:a,title:Object(z.k)(t),size:t.size,loaded:0},s.open("POST",i),s.send(o)})})});return Promise.all(n).then(function(){e._onLoad()})}},{key:"_go",value:function(){if(this._activeJob)this._log("Job in progress, queuing");else{if(!this._queue.length)return this._log("Upload queue empty"),void this._store.dispatch(Object(_.m)());this._log("Starting an upload"),this._activeJob=this._queue.shift(),this._actuallyUpload(this._activeJob)}}},{key:"_resolveCurrentUpload",value:function(){var e=this._activeJob||{},t=e.uploads,n=e.resolve,r=e.processingTimeout;t&&(this._log("Successfuly resolved file uploads for: "+this._getUploadFileIds()),n&&n()),clearTimeout(r),this._store.dispatch(Object(_.k)()),this._uploadOver()}},{key:"_actuallyUpload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.files,r=t.fetcher,a=void 0;n&&1===n.length&&(a=Object(z.k)(n[0])),this._store.dispatch(Object(_.n)({fileName:a,fileCount:n&&n.length,isRetry:!!this._activeJob.numRetries,cancelable:this._activeJob.cancelable})),this._activeJob.startTime=Date.now(),r().catch(function(t){e._onError(t)})}},{key:"_onUploadProgress",value:function(e){var t="";if(e.lengthComputable){var n=Math.floor(100*e.loaded/e.total,10);this._store.dispatch(Object(_.i)({percentComplete:n})),t="Uploading "+this._activeJob.fileId+" - "+n+"% complete",this._activeJob.totalProgress=e.loaded}else t="Uploading "+this._activeJob.fileId+" - Upload percentage not computable";this._throttledLog(t)}},{key:"_onMultiFileUploadProgress",value:function(e,t){if(e.lengthComputable){var n=this._activeJob.uploads,r=Object(m.a)(n,{fileId:t});r?(r.loaded=e.loaded,this._updateMultiFileUploadProgress()):this._throttledLog("Could not find upload progress data for "+t+" in _activeJob.uploads",{level:"warn"})}else this._throttledLog("Uploading "+this._getUploadFileIds()+" - Upload percentage not computable")}},{key:"_updateMultiFileUploadProgress",value:function(){var e=this._activeJob.uploads.reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loaded,r=t.size;return e.totalLoaded+=n,e.totalSize+=r,e},{totalLoaded:0,totalSize:0}),t=e.totalLoaded,n=e.totalSize,r=Math.floor(100*t/n,10);this._store.dispatch(Object(_.i)({percentComplete:r}));var a="Uploading "+this._getUploadFileIds()+" - "+r+"% complete";this._throttledLog(a),this._activeJob.totalProgress=t}},{key:"_log",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).level,n=void 0===t?"info":t;this._logger[n](de,e)}},{key:"_uploadOver",value:function(){this._activeJob=null,this._go()}},{key:"_getMultiFileUploadDataForApi",value:function(){var e=this._activeJob.uploads;return e?e.map(function(e){return{id:e.fileId,title:e.title}}):null}},{key:"_getUploadFileIds",value:function(){var e=(this._activeJob||{}).uploads;return e?e.map(function(e){return e.fileId}):null}},{key:"_getUploadSize",value:function(){var e=(this._activeJob||{}).uploads;return e?e.reduce(function(e,t){return e+t.size},0):0}},{key:"_getUploadFileCount",value:function(){var e=(this._activeJob||{}).files;return e?e&&e.length:0}},{key:"_getProcessedIntroMessage",value:function(){var e=this._store&&this._store.getState();if(!Object(D.a)(e)){var t=(this._activeJob&&this._activeJob.shareData||{}).introMessage;return Object(J.b)(e,t)}}},{key:"_cancelActiveXhrRequests",value:function(){var e=this._activeJob.uploads;e&&e.forEach(function(e){e.xhr&&e.xhr.abort()})}},{key:"_clogUploadComplete",value:function(e,t){var n,r=this._activeJob||{},i=r.shareData,s=void 0===i?{}:i,c=r.numRetries,l=r.retryReason,u=r.startTime,d=r.disconnectedDuringUpload,b=s.isBox||s.isDropbox?ee.n.EXTERNAL:ee.n.EDGE,p=Date.now()-u,h=!!s.introMessage||!!s.blocks,m=this._getUploadFileCount();Object(te.a)({state:this._store.getState()}).track(e,a()((n={},o()(n,ee.d.type,b),o()(n,ee.d.duration,p),o()(n,ee.d.has_upload_message,h),o()(n,ee.d.file_count,m),o()(n,ee.d.retry_count,c),o()(n,ee.d.upload_size,this._getUploadSize()),o()(n,ee.d.retry_reason,l),o()(n,ee.d.did_disconnect_during_upload,d),n),t))}},{key:"_ensureRequestLoadedSuccessfully",value:function(e){return!!e&&(e.status===se||(this._onError("Error with loaded request; status code: "+e.status+"; status text: "+e.statusText,{status:e.status,response:e.responseText}),!1))}},{key:"_ensureAllRequestsLoadedSuccessfully",value:function(){var e=this,t=this._activeJob.uploads;return Object(h.a)(t,function(t){return e._ensureRequestLoadedSuccessfully(t.xhr)})}},{key:"_forceResolveCurrentUpload",value:function(e){this._activeJob&&(this._log("[UPLOAD-QUEUE]: force resolving current upload because: "+e,{level:"error"}),this._resolveCurrentUpload())}},{key:"_setProcessingTimeout",value:function(){var e=this;this._activeJob&&(this._activeJob.processingTimeout=setTimeout(function(){var t=e._store.getState();Object(_.h)(t)===_.d&&e._forceResolveCurrentUpload("processing step timed out")},6e4))}},{key:"_retryUpload",value:function(e){var t=this;this._activeJob.numRetries+=1,this._activeJob.retryReason=e;["fileId","xhrOpenTime","uploads","startTime","totalProgress","processingTimeout","hasCurrentUploadResolved"].forEach(function(e){delete t._activeJob[e]}),this._actuallyUpload(this._activeJob)}},{key:"_onLoad",value:function(){var e=this,t=this._activeJob,n=t.shareData,r=t.fileId,i=t.uploads;if(this._ensureAllRequestsLoadedSuccessfully()){var s=void 0;r?(s={fileId:r},this._log(r+" Finished POST-ing data")):(s={files:this._getMultiFileUploadDataForApi()},this._log("Finished POST-ing data for "+i.length+" file(s)")),this._store.dispatch(Object(_.i)({percentComplete:100})),this._throttledLog.flush(),this._store.dispatch(Object(y.a)(a()({},s,n,{introMessage:this._getProcessedIntroMessage(),reason:"upload-queue"}))).then(function(){var t;e._activeJob||e._logger.error(de+": active job object missing after completeUpload resolves"),e._store.dispatch(Object(_.l)()),e._setProcessingTimeout();var r=n&&n.metadata;e._clogUploadComplete(ee.k.FILE_COMPLETE_UPLOAD_SUCCESS,(t={},o()(t,ee.d.file_upload_action,r&&r.fileUploadAction),o()(t,ee.d.file_upload_src,r&&r.fileUploadSrc),t));var a=e._shouldImmediatelyResolveUpload()||{},i=a.shouldImmediatelyResolve,s=a.reason;i?(e._log("immediately resolving upload beacause: "+s),e._resolveCurrentUpload()):Object(re.a)()&&!Object(ae.i)(e._store.getState())&&e._resolveCurrentUpload()}).catch(this._onError.bind(this))}}},{key:"_onTimeout",value:function(){this._onError("File upload timed out!",{status:ce})}},{key:"_onAbort",value:function(){this._onError("File upload aborted!",{status:le})}},{key:"_onXhrError",value:function(e){var t=(this&&this._activeJob||{}).xhrOpenTime,n=void 0;if(t&&(n=Date.now()-t),Object(b.a)(e)){var r=e.currentTarget,i={};Object(b.a)(r)&&(i={status:r.status,statusText:r.statusText,timeout:r.timeout,response:r.response,responseText:r.responseText,responseType:r.responseType,responseUrl:r.responseUrl,responseXML:r.responseXML,readyState:r.readyState});var o=a()({loaded:e.loaded,total:e.total,lengthComputable:e.lengthComputable,type:e.type,message:e.message,description:e.description,timeStamp:e.timeStamp,isTrusted:e.isTrusted},i,{duration:n,stack:Object(ne.a)()});this._logger.error(de,e,"on XHR error "+JSON.stringify(o))}this._onError(e)}},{key:"_onError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"File upload failed!",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.status,a=void 0===r?ue:r,i=n.response,s=void 0===i?null:i,c=this._activeJob||{},l=c.numRetries,u=c.reject,d=c.shareData,b=c.totalProgress,h=Object(p.a)(t)?new Error(t):t,m="(status: "+a+"; response: "+s+")";a===le?this._log(h.toString(),{level:"warn"}):(this._log(h.toString(),{level:"error"}),this._cancelActiveXhrRequests(),0===l?(this._log("First attempt to upload failed, automatically retrying"),this._retryUpload(h.toString())):this._store.dispatch(V({onGo:function(){e._log(l+"nd attempt to upload failed, user requested to retry"),e._retryUpload(h.toString()),e._store.dispatch(Object(O.a)())},onClose:function(){var t;e._log("User canceled upload after error"),u&&u(h);var n=d&&d.metadata;e._clogUploadComplete(ee.k.FILE_COMPLETE_UPLOAD_FAILURE,(t={},o()(t,ee.d.file_upload_error_message,h.toString()),o()(t,ee.d.file_upload_action,n&&n.fileUploadAction),o()(t,ee.d.file_upload_src,n&&n.fileUploadSrc),o()(t,ee.d.file_upload_progress,b),t)),e._logger.error(h,"[UPLOAD-QUEUE]: error uploading file "+m),e._store.dispatch(Object(_.j)()),e._uploadOver()},msgText:d&&d.introMessage,blocks:d&&d.blocks}))),this._throttledLog.cancel()}},{key:"_doesPendingFileExist",value:function(e){return!!e&&(!Object(z.I)(e)||e.size&&e.size>0)}},{key:"_displayFileNotFoundError",value:function(e){var t=this,n=e.msgText,r=e.blocks,a=be.t("Your file couldn\u2019t be uploaded"),i=be.t("Something about your file changed before it could be uploaded. This might happen if your file has been moved, edited, or deleted from your device.");this._store.dispatch(V({errorTitle:a,errorMessage:i,msgText:n,blocks:r,allowTryAgain:!1,onGo:function(){return t._store.dispatch(Object(O.a)())}}))}},{key:"_shouldImmediatelyResolveUpload",value:function(){var e=this._activeJob||{},t=e.shareData,n=e.hasCurrentUploadResolved;return this._activeJob&&t?t.clientMsgId?this._isMemberOfChannelBeingUploadedTo()?n?{shouldImmediatelyResolve:!0,reason:"message already received by client (race condition)"}:{shouldImmediatelyResolve:!1}:{shouldImmediatelyResolve:!0,reason:"not member of channel being uploaded to"}:{shouldImmediatelyResolve:!0,reason:"file not shared into channel"}:{shouldImmediatelyResolve:!0,reason:"missing activeJob or shareData"}}},{key:"_isMemberOfChannelBeingUploadedTo",value:function(){if(!this._store||!this._activeJob||!this._activeJob.shareData)return!1;var e=this._activeJob.shareData.channelId;if(!e)return!1;var t=this._store.getState&&this._store.getState(),n=Object(W.d)(t,e);return Object(Y.kb)(n)}}]),e}();function he(e){return oe[e]?oe[e]:(oe[e]=new pe(e),Object(ie.c)(e,"uploadQueue",oe[e]),oe[e])}function me(e,t){he(e).maybeResolveCurrentUpload(t)}},HALc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("AFNo"),a=n("4zXV"),i=n("aK/h"),o=n("hrxL"),s=n("HO/Y"),c="screenhero.rooms.inviteCancel",l=Object(r.b)("Sends an invite cancel to the web API from the slack window",function(e,t,n){var r=n.id,i=n.type,l=n.responderUserIds,u=n.useSendBeacon,d=void 0!==u&&u;return Promise.all([l.map(function(n){var l=t(),u={responder:n,room:r,cancel_type:i};return d?Object(o.a)({apiUrl:"/api/",method:c,token:Object(s.g)(l),versionTs:Object(s.d)(l,"version_ts"),versionUid:Object(s.d)(l,"version_uid"),args:u}):e(Object(a.a)({method:c,reason:"calls-invite-cancel",args:u}))})])});l.propTypes=i.b.shape({id:i.b.string.isRequired,type:i.b.string.isRequired,responderUserIds:i.b.arrayOf(i.b.string).isRequired}).isRequired},HDoQ:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("QbLZ"),c=n.n(s),l=n("zmn3"),u=n("LDAF"),d=n("TGBA"),b=n("Z0Cl"),p=n("Fsnq"),h=n("OZf9"),m=n("fujP"),f=n("CpTu"),v=n("oaNE"),g=n("XIp8"),_=n("aK/h"),O=n("EzZj"),y=n("MNvw"),j=n("U/ze"),k=n("XfeM"),E=n("7EGn"),C=n("4zXV"),I=n("om+M"),w=n("HO/Y"),S=Object(I.a)("Fetches members of a workspace",function(e,t,n){var r={count:100,include_bots:0,exclude_slackbot:!0,include_deleted:0};n.cursorMark&&(r.cursor_mark=n.cursorMark),n.sortDir&&(r.sort_dir=n.sortDir),n.sortBy&&(r.sort=n.sortBy),"created"===r.sort&&(r.sort="created_dt"),(Object(E.a)(n,"filter.billingStatus.deactivated")||Object(E.a)(n,"filter.billingStatus.orgDeactivated"))&&(r.include_deleted=1);var a=t(),i=function(e,t,n){var r=void 0,a=Object(w.m)(n);r=a?{type:"and",clauses:[{type:"is",value:"user"}]}:{type:"is",value:"user",clauses:[]};e.billingStatus.deactivated&&e.billingStatus.orgDeactivated&&(r={type:"is",value:"user",clauses:[]});var i=function(e,t){if(!e)return null;var n={type:"and",clauses:[]};if(Object(u.a)(e.accountType,function(e){return e})){var r={type:"or",clauses:[]};e.accountType.owner&&(r.clauses.push({type:"level",value:"owner"}),r.clauses.push({type:"level",value:"primary_owner"})),e.accountType.admin&&r.clauses.push({type:"level",value:"admin"}),e.accountType.regular&&r.clauses.push({type:"level",value:"regular"}),e.accountType.invited&&(r.clauses.push({type:"level",value:"invited"}),r.clauses.push({type:"level",value:"invited_guest"})),e.accountType.guest&&(r.clauses.push({type:"level",value:"restricted"}),r.clauses.push({type:"level",value:"ultra_restricted"}),r.clauses.push({type:"level",value:"invited_guest"})),n.clauses.push(r)}if(e.billingStatus.active||e.billingStatus.inactive){var a={type:"or",clauses:[]};e.billingStatus.active&&a.clauses.push({type:"inactive",value:!1}),e.billingStatus.inactive&&a.clauses.push({type:"inactive",value:!0}),n.clauses.push(a)}t&&(e.billingStatus.deactivated||e.billingStatus.orgDeactivated)&&(e.billingStatus.deactivated||n.clauses.push({type:"or",clauses:[{type:"deleted",value:!1},{type:"org_user_deleted",value:!0}]}),e.billingStatus.orgDeactivated||n.clauses.push({type:"and",clauses:[{type:"org_user_deleted",value:!1}]}));if(Object(u.a)(e.authentication,function(e){return e})){var i={type:"or",clauses:[]};e.authentication.noAuth&&i.clauses.push({type:"and",clauses:[{type:"two_factor_enabled",value:!1},{type:"sso_active",value:!1}]}),e.authentication.twoFactor&&i.clauses.push({type:"two_factor_enabled",value:!0}),e.authentication.sso&&i.clauses.push({type:"sso_active",value:!0}),n.clauses.push(i)}return n.clauses.length?n:null}(e,a);a&&!i&&r.clauses.push({type:"and",clauses:[{type:"deleted",value:!1},{type:"org_user_deleted",value:!1}]});(i||t)&&(r={type:"and",clauses:[{type:"is",value:"user"}]},i&&r.clauses.push(i),t&&r.clauses.push({type:"fuzzy_with_email",value:t}));return r}(n.filter,n.searchQuery,a);r.query=JSON.stringify(i);var o=n.reason||"admin-fetch-team-members";return e(Object(C.a)({method:"users.admin.fetchTeamUsers",reason:o,args:r})).then(function(e){return{sortBy:r.sort,sortDir:r.sort_dir,members:e.items,cursorMark:e.next_cursor_mark,numTotalResults:e.num_found}}).catch(function(e){throw e})});S.propTypes={count:_.b.number,cursorMark:_.b.string,sortBy:_.b.string,sortDir:_.b.string,filter:_.b.object,searchQuery:_.b.string};Object(I.a)("Fetch the user counts for this team",function(e){return e(Object(C.a)({method:"team.counts"})).then(function(e){return e.users}).catch(function(e){throw e})});var T=Object(I.a)("Make a member an admin",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.setAdmin",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});T.propTypes={memberId:_.b.string.isRequired};var R=Object(I.a)("Make a user a regular member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.setRegular",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});R.propTypes={memberId:_.b.string.isRequired};var N=Object(I.a)("Make a user a multi-channel guest",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelIds,a={user:n.memberId};return r&&r.length&&(a.channels=r.join(",")),e(Object(C.a)({method:"users.admin.setRestricted",args:a})).then(function(e){return e}).catch(function(e){throw e})});N.propTypes={channelIds:_.b.arrayOf(_.b.string).isRequired,memberId:_.b.string.isRequired};var x=Object(I.a)("Make a user a single-channel guest",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.memberId;return e(Object(C.a)({method:"users.admin.setUltraRestricted",args:{channel:r,user:a}})).then(function(e){return e}).catch(function(e){throw e})});x.propTypes={channelId:_.b.string.isRequired,memberId:_.b.string.isRequired};var M=Object(I.a)("Removes the owner role from a member and applies their previous roles",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.removeOwner",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});M.propTypes={memberId:_.b.string.isRequired};var P=Object(I.a)("Make a member an owner",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.setOwner",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});P.propTypes={memberId:_.b.string.isRequired};var A=Object(I.a)("Disables two-factor verification for a given member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.disable2FA",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});A.propTypes={memberId:_.b.string.isRequired};var D=Object(I.a)("Sends the SSO binding email to a target member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.sendSSOBind",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});D.propTypes={memberId:_.b.string.isRequired};var L=Object(I.a)("Set the expiration for a guest",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.expirationTs;return e(Object(C.a)({method:"users.admin.setExpiration",args:{user:r,expiration_ts:a}})).then(function(e){return e}).catch(function(e){throw e})});L.propTypes={memberId:_.b.string.isRequired,expirationTs:_.b.oneOfType([_.b.string,_.b.number])};var q=Object(I.a)("Set the expiration for a guest",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.removeExpiration",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});q.propTypes={memberId:_.b.string.isRequired},Object(I.a)("Deactivates a member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).target;return e(Object(C.a)({method:"users.admin.setInactive",args:{user:n.id}})).then(function(){var r=t(),a=n.id,i=Object(w.m)(r),o=n.enterprise_user;e(me({memberId:a,isDeleted:!0})),i&&n.is_restricted&&!Object(m.a)(o)&&o.teams&&1===o.teams.length&&o.teams[0]===n.team_id&&e(ke(a))}).catch(function(e){throw e})}).propTypes={target:_.b.object.isRequired};var F=Object(I.a)("Update the profile info for a member",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.profile;return e(Object(C.a)({method:"users.profile.set",args:{user:r,profile:JSON.stringify(a)}})).then(function(e){return e}).catch(function(e){throw e})});F.propTypes={memberId:_.b.string.isRequired,profile:_.b.object.isRequired};var B=Object(I.a)("Update the channel for a Single-Channel Guest via API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelId;return e(Object(C.a)({method:"users.admin.changeURAChannel",args:{user:r,channel:a}})).then(function(e){return e})});B.propTypes={memberId:_.b.string.isRequired,channelId:_.b.string.isRequired};var U=Object(I.a)("Sends the invitation email to a target member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(Object(C.a)({method:"users.admin.resendInvitation",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});U.propTypes={memberId:_.b.string.isRequired};var H=n("yHhI"),K=n("CPJ1"),G=n("wfE8"),V=n("lhZz"),z=n("Fdc0"),Y=n("5mKg"),W=n("DtX9");var Q={activate:function(e,t,n){return!Object(z.cb)(n)&&Object(z.eb)(n)&&!Object(z.nb)(n)&&!Object(z.Bb)(n)&&Object(z.X)(t)&&(!Object(Y.B)(e)||Object(Y.B)(e)&&!Object(z.ob)(n))&&(!Object(Y.q)(e)||Object(Y.q)(e)&&!Object(z.ob)(n))},activate_as_guest:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&Object(z.eb)(n)&&!Object(z.nb)(n)&&!Object(z.Bb)(n)&&!Object(z.wb)(n)&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(z.ob)(n)&&!Object(z.ub)(n)||Object(Y.q)(e)&&Object(z.hb)(n)&&!Object(z.ub)(n)||Object(Y.q)(e)&&Object(z.ob)(n)&&Object(z.ub)(n)&&Object(Y.a)(e,t))},deactivate:function(e,t,n){var r=Object(V.getStateByTeamId)(e.id);return!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.wb)(n)&&!Object(z.U)(r,n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},demote_admin:function(e,t,n){return!Object(z.cb)(n)&&Object(z.X)(n)&&!Object(z.vb)(n)&&!Object(z.pb)(n)&&!Object(z.eb)(n)&&Object(z.vb)(t)},demote_owner:function(e,t,n){return!Object(z.cb)(n)&&Object(z.vb)(n)&&!Object(z.eb)(n)&&!Object(z.pb)(n)&&!Object(z.wb)(n)&&Object(z.wb)(t)},promote_to_member:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.pb)(n)&&Object(z.ob)(n)&&!Object(z.eb)(n)&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(z.tb)(n))&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(Y.a)(e,t))},promote_to_admin:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.pb)(n)&&!Object(z.X)(n)&&!Object(z.ob)(n)},promote_to_owner:function(e,t,n){return!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.pb)(n)&&!Object(z.vb)(n)&&!Object(z.ob)(n)&&Object(z.vb)(t)},promote_to_mc_guest:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&Object(z.Db)(n)&&Object(Y.B)(e)&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(z.tb)(n))},demote_to_sc_guest:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.Db)(n)&&Object(z.xb)(n)&&Object(Y.B)(e)&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(z.tb)(n))},transfer_ownership:function(e,t,n){var r=Object(V.getStateByTeamId)(e.id);return Object(z.wb)(t)&&Object(z.wb)(n)&&!Object(z.pb)(n)&&function(e){if(!e)return!1;var t=Object(W.a)(e);return Object(b.a)(t,function(e){return Object(z.W)(e)}).length>1}(r)},activate_bot:function(e,t,n){return Object(z.X)(t)&&Object(z.cb)(n)&&Object(z.eb)(n)},configure_bot:function(e,t,n){return Object(z.X)(t)&&Object(z.cb)(n)&&Object(z.db)(n)},disable_2fa:function(e,t,n){return!Object(z.cb)(n)&&Object(z.Cb)(n)&&!Object(z.eb)(n)&&!Object(z.wb)(n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},send_sso:function(e,t,n){return Object(Y.D)(e)&&!Object(Y.q)(e)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.wb)(n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},update_expiration_ts:function(e,t,n){return Object(z.X)(t)&&Object(z.ob)(n)&&!Object(z.cb)(n)&&!Object(z.eb)(n)},cant_deactivate:function(e,t,n){var r=Object(V.getStateByTeamId)(e.id);return Object(z.U)(r,n)&&Object(Y.q)(e)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.wb)(n)&&Object(z.tb)(n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},cant_convert_member_role:function(e,t,n){var r=Object(V.getStateByTeamId)(e.id);return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.U)(r,n)&&!Object(z.eb)(n)&&!Object(z.pb)(n)&&Object(Y.B)(e)&&Object(Y.q)(e)&&!Object(z.tb)(n)},cant_convert_or_deactivate:function(e,t,n){var r=Object(V.getStateByTeamId)(e.id);return Object(z.U)(r,n)&&Object(Y.q)(e)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.wb)(n)&&!Object(z.tb)(n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},cant_reactivate_as_guest:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&Object(z.eb)(n)&&!Object(z.wb)(n)&&!Object(z.ob)(n)&&Object(Y.B)(e)&&Object(Y.q)(e)&&!Object(z.hb)(n)},convert_to_guest:function(e,t,n){return Object(z.X)(t)&&!Object(z.cb)(n)&&!Object(z.eb)(n)&&!Object(z.pb)(n)&&!Object(z.ob)(n)&&!Object(z.X)(n)&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(z.tb)(n))&&(!Object(Y.q)(e)||Object(Y.q)(e)&&Object(Y.a)(e,t))},edit_member_profile:function(e,t,n){return n.id===t.id||Object(z.X)(t)&&(Object(Y.B)(e)||Object(z.pb)(n))&&!Object(z.nb)(n)&&!Object(z.Bb)(n)&&!Object(z.cb)(n)&&!Object(z.wb)(n)&&!Object(z.ub)(n)&&(Object(z.wb)(t)||Object(z.vb)(t)&&!Object(z.vb)(n)||Object(z.X)(t)&&!Object(z.X)(n))},resend_invitation:function(e,t,n){return Object(z.X)(t)&&!Object(z.eb)(n)&&Object(z.pb)(n)}};var X,Z=n("D4L/"),J=n("clTI"),$={owner:!1,admin:!1,regular:!1,guest:!1};Object(j.b)(function(e){return Object(w.j)(e,"feature_golden_gate_ui")})&&($.invited=!1);var ee={accountType:$,billingStatus:{active:!1,inactive:!1,deactivated:!1,orgDeactivated:!1},authentication:{noAuth:!1,twoFactor:!1,sso:!1}},te=Object(O.b)("Set the current sort and list of members in the store");te.propTypes={sortBy:_.b.string.isRequired,sortDir:_.b.string.isRequired,cursorMark:_.b.string,numTotalResults:_.b.number};var ne=Object(O.b)("Set the current search query and list of members in the store");ne.propTypes={searchQuery:_.b.string,members:_.b.array,cursorMark:_.b.string,numTotalResults:_.b.number};var re=Object(O.b)("Set a specific filter and list of members in the store");re.propTypes={headerId:_.b.string.isRequired,filterName:_.b.string.isRequired,isSelected:_.b.bool.isRequired,members:_.b.array,cursorMark:_.b.string,numTotalResults:_.b.number};var ae=Object(O.b)("Set filter(s) which affect UI and API params");ae.propTypes=_.b.object.isRequired;var ie=Object(O.b)("Add a new page of members to the store");ie.propTypes={members:_.b.array.isRequired,cursorMark:_.b.string,numTotalResults:_.b.number.isRequired};var oe=Object(O.b)("Set the loading status for the next page of results");oe.propTypes=_.b.bool.isRequired;var se=Object(O.b)("Set the loading status for a new query");se.propTypes=_.b.bool.isRequired;var ce=Object(O.b)("Set the loading status for loading channels");ce.propTypes=_.b.bool.isRequired;var le=Object(O.b)("Changes a member's is_admin status");le.propTypes={memberId:_.b.string.isRequired,isAdmin:_.b.bool.isRequired};var ue=Object(O.b)("Changes a member's is_restricted status");ue.propTypes={memberId:_.b.string.isRequired,isRestricted:_.b.bool.isRequired};var de=Object(O.b)("Changes a member's is_ultra_restricted status");de.propTypes={memberId:_.b.string.isRequired,isUltraRestricted:_.b.bool.isRequired};var be=Object(O.b)("Changes a member's is_owner status");be.propTypes={memberId:_.b.string.isRequired,isOwner:_.b.bool.isRequired};var pe=Object(O.b)("Changes a member's two_factor_auth_enabled status to false");pe.propTypes=_.b.object;var he=Object(O.b)("Add user's channels to store");he.propTypes={memberId:_.b.string.isRequired,channels:_.b.array};var me=Object(O.b)("Add member's deleted status");me.propTypes={memberId:_.b.string,isDeleted:_.b.bool.isRequired};var fe=Object(O.b)("Update a member's profile");fe.propTypes={memberId:_.b.string.isRequired,profile:_.b.object.isRequired};var ve=Object(O.b)("Update a guest's expiration");ve.propTypes={memberId:_.b.string.isRequired,expirationTs:_.b.number.isRequired};var ge=Object(O.b)("Set the member list csv in the store");ge.propTypes=_.b.object.isRequired;var _e=Object(O.b)("Update the store with whether a user has filtered the member list");_e.propTypes=_.b.bool.isRequired;var Oe=Object(O.b)("Clear the filter in store by setting filter to the initial state");Oe.propTypes=_.b.object;var ye=Object(O.b)("Store an API error for the Edit Member Info dialog");ye.propTypes=_.b.object.isRequired;var je=Object(O.b)("Clear all errors for the Edit Member Info dialog");je.propTypes=_.b.object;var ke=Object(O.b)("Updates the number of enterprise teams a user is part of");ke.propTypes=_.b.string.isRequired;var Ee,Ce,Ie={members:[],filter:(Ee=Object(g.a)(ee),Ce=window.location.hash&&window.location.hash.substring(1),Ce&&"restricted"===Ce&&(Ee.accountType.guest=!0),Ee),searchQuery:null,sortBy:null,sortDir:null,cursorMark:null,numTotalResults:null,isLoadingNewPage:!1,isLoadingNewQuery:null,isLoadingChannels:!1,isFiltered:!1,team:{},actor:{},actions:[],memberListCsv:{},memberInfoFormErrors:[]},we=Object(y.b)((X={},o()(X,te,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sortBy,r=t.sortDir,a=t.members,i=t.cursorMark,o=t.numTotalResults;return c()({},e,{sortBy:n,sortDir:r,members:a,cursorMark:i,numTotalResults:o})}),o()(X,ne,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.searchQuery,r=t.members,a=t.cursorMark,i=t.numTotalResults;return c()({},e,{searchQuery:n,members:r,cursorMark:a,numTotalResults:i})}),o()(X,ae,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter;return c()({},e,{filter:t})}),o()(X,re,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.headerId,r=t.filterName,a=t.isSelected,i=t.members,s=t.cursorMark,l=t.numTotalResults,u=e.filter,d=o()({},n,o()({},r,a));return c()({},e,{filter:Object(v.a)({},u,d),members:i,cursorMark:s,numTotalResults:l})}),o()(X,ie,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.members,r=t.cursorMark,i=t.numTotalResults;return c()({},e,{members:[].concat(a()(e.members),a()(n)),cursorMark:r,numTotalResults:i})}),o()(X,oe,function(e,t){return c()({},e,{isLoadingNewPage:t})}),o()(X,se,function(e,t){return c()({},e,{isLoadingNewQuery:t})}),o()(X,ce,function(e,t){return c()({},e,{isLoadingChannels:t})}),o()(X,le,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isAdmin,a=Object(f.a)(e.members,{id:n}),i=c()({},a,{is_admin:r});return r||(i.is_owner=!1),c()({},e,{members:e.members.map(function(e){return e.id===n?i:e})})}),o()(X,ue,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isRestricted,a=Object(f.a)(e.members,{id:n}),i=c()({},a,{is_restricted:r});return r||(i.is_ultra_restricted=!1),c()({},e,{members:e.members.map(function(e){return e.id===n?i:e})})}),o()(X,de,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isUltraRestricted,a=Object(f.a)(e.members,{id:n}),i=c()({},a,{is_ultra_restricted:r});return r&&(i.is_restricted=!0),c()({},e,{members:e.members.map(function(e){return e.id===n?i:e})})}),o()(X,be,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isOwner,a=Object(f.a)(e.members,{id:n}),i=c()({},a,{is_owner:r});return r&&(i.is_admin=!0),c()({},e,{members:e.members.map(function(e){return e.id===n?i:e})})}),o()(X,pe,function(e,t){return c()({},e,{members:e.members.map(function(e){return e.id===t&&e.two_factor_auth_enabled?c()({},e,{two_factor_auth_enabled:!1}):e})})}),o()(X,he,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.channels;return c()({},e,{members:e.members.map(function(e){return e.id===n?c()({},e,{channels:r}):e})})}),o()(X,me,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.isDeleted,a=Object(f.a)(e.members,{id:n}),i=c()({},a,{deleted:r});return r&&(i.is_admin=!1,i.is_owner=!1,i.is_primary_owner=!1,i.is_restricted=!1,i.is_ultra_restricted=!1,a.is_restricted&&a.profile.guest_expiration_ts&&delete i.profile.guest_expiration_ts),c()({},e,{members:e.members.map(function(e){return e.id===n?i:e})})}),o()(X,fe,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.profile;return c()({},e,{members:e.members.map(function(e){return e.id===n?c()({},e,{profile:r}):e})})}),o()(X,ve,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.expirationTs;return c()({},e,{members:e.members.map(function(e){return e.id===n?c()({},e,{profile:c()({},e.profile,{guest_expiration_ts:r})}):e})})}),o()(X,ge,function(e,t){return c()({},e,{memberListCsv:t})}),o()(X,_e,function(e,t){return c()({},e,{isFiltered:t})}),o()(X,Oe,function(e,t){return c()({},e,{filter:t,cursorMark:null})}),o()(X,ye,function(e,t){return c()({},e,{memberInfoFormErrors:[].concat(a()(e.memberInfoFormErrors),[t])})}),o()(X,je,function(e){return c()({},e,{memberInfoFormErrors:[]})}),o()(X,ke,function(e,t){return c()({},e,{members:e.members.map(function(e){return e.id===t?c()({},e,{enterprise_user:c()({},e.enterprise_user,{teams:[]})}):e})})}),X),Ie,{persistenceEnabled:!1});we.propTypes={members:_.b.array,filter:_.b.object,searchQuery:_.b.string,sortBy:_.b.string,sortDir:_.b.string,cursorMark:_.b.string,numTotalResults:_.b.number,isLoadingNewPage:_.b.bool,isLoadingNewQuery:_.b.bool,isLoadingChannels:_.b.bool,isFiltered:_.b.bool,team:_.b.object,actor:_.b.object,actions:_.b.array,memberListCsv:_.b.object,memberInfoFormErrors:_.b.array};var Se=we,Te=Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.sortDir?e.adminMembers.sortDir:"asc"}),Re=Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.sortBy?e.adminMembers.sortBy:"real_name"}),Ne=Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.filter?e.adminMembers.filter:null}),xe=Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.searchQuery?e.adminMembers.searchQuery:null}),Me=Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.cursorMark?e.adminMembers.cursorMark:null}),Pe=(Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.numTotalResults?e.adminMembers.numTotalResults:null}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.isLoadingNewPage?e.adminMembers.isLoadingNewPage:null}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.isLoadingNewQuery?e.adminMembers.isLoadingNewQuery:null}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.isLoadingChannels?e.adminMembers.isLoadingChannels:null}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.members?e.adminMembers.members:[]}),Object(j.b)(function(e,t){if(!e||!t||Object(m.a)(t))return[];var n=[],r=Object(W.b)(e),a=Object(Z.d)(e);return Object(h.a)(Q,function(e,i){e(a,r,t)&&n.push(i)}),n}),Object(j.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={filter:Ne(e),sortBy:Re(e),sortDir:Te(e),searchQuery:xe(e),cursorMark:Me(e)};return Object(v.a)(n,t),n})),Ae=(Object(j.b)(function(e,t){if(!e||!t||Object(m.a)(e.adminMembers)||!e.adminMembers.members.length)return null;var n=null;return e.adminMembers.members.forEach(function(e){e.id===t&&e.channels&&(n=e.channels)}),n}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.memberListCsv?e.adminMembers.memberListCsv:{}}),Object(j.b)(function(e){return!!(e&&e.adminMembers&&e.adminMembers.isFiltered)&&e.adminMembers.isFiltered}));Object(j.b)(function(e){if(!Ae(e))return 0;var t=0,n=Ne(e);return Object.keys(n).map(function(e){return t+=Object(p.a)(Object(b.a)(Object(d.a)(n[e])))}),t}),Object(j.b)(function(e){return e&&e.adminMembers&&e.adminMembers.memberInfoFormErrors?e.adminMembers.memberInfoFormErrors:[]});Object(k.b)("Load sorted admin member data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sortBy,a=n.sortDir;e(se(!0)),e(te({sortBy:r,sortDir:a}));var i=Pe(t(),{sortBy:r,sortDir:a,cursorMark:null,reason:"admin-members-store-sort-members"});return e(S(i)).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.members,i=t.cursorMark,o=t.numTotalResults;e(te({members:n,sortBy:r,sortDir:a,cursorMark:i,numTotalResults:o})),e(se(!1))}).catch(function(e){throw e})}).propTypes={sortBy:_.b.string.isRequired,sortDir:_.b.string.isRequired},Object(k.b)("Load the subset of admin member data matching a search query",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).searchQuery;e(se(!0)),e(ne({searchQuery:n}));var r=Pe(t(),{searchQuery:n,cursorMark:null,reason:"admin-members-store-search-members"});return e(S(r)).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.members,a=t.cursorMark,i=t.numTotalResults;e(ne({members:r,searchQuery:n,cursorMark:a,numTotalResults:i})),e(se(!1))}).catch(function(e){throw e})}).propTypes={searchQuery:_.b.string},Object(k.b)("Load filtered admin member data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.headerId,a=n.filterName,i=n.isSelected;e(re({headerId:r,filterName:a,isSelected:i})),e(se(!0));var s=Pe(t(),{filter:o()({},r,o()({},a,i)),cursorMark:null,reason:"admin-members-store-filter-members"});return e(S(s)).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.members,s=n.cursorMark,c=n.numTotalResults,l=!1,d=Ne(t());["accountType","billingStatus","authentication"].map(function(e){return Object(u.a)(d[e],function(e){return!e})&&(l=!0),l}),e(_e(l)),e(re({headerId:r,filterName:a,isSelected:i,members:o,cursorMark:s,numTotalResults:c})),e(se(!1))}).catch(function(e){throw e})}).propTypes={filter:_.b.string},Object(k.b)("Resets all filters and loads a full, member list sorted by name",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(!n||!n.deactivated),a=Object(g.a)(ee);n&&(n.orgDeactivated&&(a.billingStatus.orgDeactivated=!0),n.deactivated?a.billingStatus.deactivated=!0:(a.billingStatus.deactivated=!1,a.billingStatus.orgDeactivated=!1)),e(ae({filter:a}));var i=Pe(t(),{filter:a,sortBy:"real_name",sortDir:"asc",cursorMark:null,reason:"admin-members-store-reset-member-filters"});return e(_e(r)),e(se(!0)),e(te(c()({},i))),e(S(i)).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.members,a=t.sortBy,i=t.sortDir,o=t.cursorMark,s=t.numTotalResults;e(_e(r)),e(se(!1)),e(te({members:n,sortBy:a,sortDir:i,cursorMark:o,numTotalResults:s}))}).catch(function(e){throw e})}).propTypes=_.b.object;Object(k.b)("Load the subset of admin member data matching a search query",function(e,t){var n=t();e(oe(!0));var r=Pe(n,{reason:"admin-members-store-fetch-new-page"}),a=window.location.hash&&window.location.hash.substring(1);if(a&&"disabled"===a){e(_e(!0)),r.filter.billingStatus.deactivated=!0}if(a&&"disabled"===a&&Object(w.m)(n)){e(_e(!0)),r.filter.billingStatus.orgDeactivated=!0}return e(S(r)).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.members,r=t.cursorMark,a=t.numTotalResults;e(oe(!1)),e(ie({members:n,cursorMark:r,numTotalResults:a}))}).catch(function(t){throw e(oe(!1)),t})});Object(k.b)("Makes a member an admin",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(T({memberId:n})).then(function(){e(le({memberId:n,isAdmin:!0}))}).catch(function(e){throw e})}).propTypes={memberId:_.b.string.isRequired},Object(k.b)("Makes a user a regular member",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.action;return e(R({memberId:r})).then(function(){if("demote_admin"===a){e(le({memberId:r,isAdmin:!1}))}else if("promote_to_member"===a){e(ue({memberId:r,isRestricted:!1})),e(de({memberId:r,isUltraRestricted:!1})),e(ve({memberId:r,expirationTs:0}))}else if("activate"===a){e(me({memberId:r,isDeleted:!1}))}}).catch(function(e){throw e})}).propTypes={memberId:_.b.string.isRequired,action:_.b.string.isRequired},Object(k.b)("Can either make a member an owner or make an owner a member",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.action;return"promote_to_owner"===a?e(P({memberId:r})).then(function(){e(be({memberId:r,isOwner:!0}))}).catch(function(e){throw e}):"demote_owner"===a?e(M({memberId:r})).then(function(t){e(be({memberId:r,isOwner:!1})),t.is_admin||e(T({memberId:r})).then(function(){e(le({memberId:r,isAdmin:!0}))}).catch(function(e){throw e})}).catch(function(e){throw e}):null}).propTypes={memberId:_.b.string.isRequired,action:_.b.string.isRequired},Object(k.b)("Disables two-factor verification for a given member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(A({memberId:n})).then(function(){e(pe(n))}).catch(function(e){throw e})}).propTypes={memberId:_.b.string.isRequired},Object(k.b)("Sends the single sign-on binding email to a target member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(D({memberId:n})).catch(function(e){throw e})}).propTypes={memberId:_.b.string.isRequired};var De=Object(k.b)("Gets guest channels for member",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.isGuest,i=n.isDeactivated;e(ce(!0));var o={userId:r,keys:["channels"]};a||(o.keys=["full_member_channels"]),i&&(o.keys=["deactivated_channels"]),e(Object(K.d)(o)).then(function(n){var a=n[o.keys];Object(m.a)(a)?e(ce(!1)):e(Object(G.e)({ids:a})).then(function(){var n=a.map(function(e){return Object(J.d)(t(),e)});e(he({memberId:r,channels:n})),e(ce(!1))})}).catch(function(t){throw e(ce(!1)),t})});De.propTypes={memberId:_.b.string.isRequired,isGuest:_.b.bool,isDeactivated:_.b.bool};var Le=Object(k.b)("Set or remove expiration for a guest via API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.expirationTs;0===a?e(q({memberId:r})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;e(ve({memberId:r,expirationTs:t.guest_expiration_ts}))}):e(L({memberId:r,expirationTs:a})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;e(ve({memberId:r,expirationTs:t.guest_expiration_ts}))})});Le.propTypes={memberId:_.b.string.isRequired,expirationTs:_.b.number.isRequired},Object(k.b)("Updates channels guest should be a member of",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelIdsToAdd,i=n.channelIdsToRemove,o=[],s=[];return a&&a.length&&(o=a.map(function(t){return e(Object(G.J)({channelId:t,users:r}))})),i&&i.length&&(s=i.map(function(t){return e(Object(G.L)({channelId:t,memberId:r}))})),Promise.all(o.concat(s)).then(function(){e(De({memberId:r}))})}).propTypes={memberId:_.b.string.isRequired,channelIdsToAdd:_.b.array.isRequired,channelIdsToRemove:_.b.array.isRequired},Object(k.b)("Converts a full member to a multi-channel guest, sets channels and optionally expiration",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelIds,i=n.expirationTs;return e(N({memberId:r,channelIds:a})).then(function(){if(e(ue({memberId:r,isRestricted:!0})),e(me({memberId:r,isDeleted:!1})),null==i||isNaN(i)||e(Le({memberId:r,expirationTs:i})),a&&a.length){var n=Object(l.a)(a,function(e){return Object(J.d)(t(),e)});e(he({memberId:r,channels:n}))}})}).propTypes={memberId:_.b.string.isRequired,channelIds:_.b.array,expirationTs:_.b.number},Object(k.b)("Converts a full member to a single-channel guest, sets channel and optionally expiration",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelId,i=n.expirationTs;return e(x({channelId:a,memberId:r})).then(function(){e(de({memberId:r,isUltraRestricted:!0})),e(ue({memberId:r,isRestricted:!0})),e(me({memberId:r,isDeleted:!1})),null==i||isNaN(i)||e(Le({memberId:r,expirationTs:i}));var n=Object(J.d)(t(),a);e(he({memberId:r,channels:[n]}))})}).propTypes={memberId:_.b.string.isRequired,channelId:_.b.string,expirationTs:_.b.number},Object(k.b)("Promotes a single-channel guest to multi-channel, adds/removes specified channels, and sets expiration",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelIdsToAdd,i=n.expirationTs;return e(N({channelIds:a,memberId:r})).then(function(){e(de({memberId:r,isUltraRestricted:!1})),e(ue({memberId:r,isRestricted:!0})),null==i||isNaN(i)||e(Le({memberId:r,expirationTs:i})),e(he({memberId:r,channelIdsToAdd:a}))})}).propTypes={memberId:_.b.string.isRequired,channelIdsToAdd:_.b.array,expirationTs:_.b.number},Object(k.b)("Promotes a single-channel guest to multi-channel, adds/removes specified channels, and sets expiration",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelId,i=n.expirationTs;return e(x({channelId:a,memberId:r})).then(function(){e(de({memberId:r,isUltraRestricted:!0})),e(ue({memberId:r,isRestricted:!0})),null==i||isNaN(i)||e(Le({memberId:r,expirationTs:i}));var n=Object(J.d)(t(),a);e(he({memberId:r,channels:[n]}))})}).propTypes={memberId:_.b.string.isRequired,channelIdsToAdd:_.b.array,channelIdsToRemove:_.b.array,expirationTs:_.b.number};Object(k.b)("Gets csv member list for a workspace",function(e,t){var n=new XMLHttpRequest;n.open("POST","/api/users.admin.fetchTeamUsersCsv",!0),n.responseType="blob",n.onload=function(){200===this.status&&e(ge(this.response))};var r=t();n.onerror=function(e){Object(H.a)({getState:t}).error(e,"admin_csv_download")};var a=new FormData,i=Object(w.d)(r,"api_token");a.append("token",i),n.send(a)});_.b.string.isRequired,_.b.object.isRequired,Object(k.b)("Update the channel for a Single-Channel Guest",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberId,a=n.channelId;e(B({memberId:r,channelId:a})).then(function(){e(De({memberId:r}))})}).propTypes={memberId:_.b.string.isRequired,channelId:_.b.string.isRequired},Object(k.b)("Sends the joining invitation email to a target member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(U({memberId:n})).catch(function(e){throw e})}).propTypes={memberId:_.b.string.isRequired};var qe,Fe=n("7Ztl"),Be=n("cLE1"),Ue=n("xncf"),He=n("oRzC"),Ke=n("Ddh9"),Ge=n("u3oV"),Ve=n("/1FC"),ze=n("6tKJ"),Ye=function(e,t){if(!t||!t.id)return e;var n=e.views,r=e.viewsState;return c()({},e,{views:c()({},n,o()({},t.id,t)),viewsState:c()(o()({},t.id,t.state),r)})},We=Object(y.b)((qe={},o()(qe,ze.a,Ye),o()(qe,ze.e,Ye),o()(qe,ze.f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.view,r=t.viewState;if(!n||!n.id||!r)return e;var a=e.viewsState;return c()({},e,{viewsState:c()({},a,o()({},n.id,r))})}),o()(qe,ze.c,function(e,t){if(!t||!t.id)return e;var n=Object(Ge.a)(e.views,function(e){return e.id!==t.id&&e.root_view_id!==t.id&&e.previous_view_id!==t.id}),r=c()({},e.viewsState);Object.keys(e.viewsState).forEach(function(e){n[e]||delete r[e]});var a=e.activeViewId;return{views:n,viewsState:r,activeViewId:n[a]?a:null}}),o()(qe,ze.d,function(e,t){return t?c()({},e,{activeViewId:t}):e}),o()(qe,ze.b,function(e,t){if(!t||!t.length||!Object(Ve.a)(t))return e;var n=Object(b.a)(t,function(e){return e&&e.id});if(!n.length)return e;var r=c()({},e);return Object(h.a)(n,function(t){r.views[t.id]=t,r.viewsState[t.id]=e.viewsState[t.id]||t.state}),r}),qe),{views:{},viewsState:{},activeViewId:null},{persistenceEnabled:!0});We.propTypes={views:_.b.object,viewsState:_.b.object,activeViewId:_.b.string};var Qe,Xe=We,Ze=n("1VpL"),Je=n("p+j0"),$e=n("N52Z"),et=n("TcTh"),tt=n("m8R6"),nt=n("+JGq"),rt=(Qe={},o()(Qe,nt.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels,r=t.reason,a=!1;if(!r)return Object(H.b)().warn("addOrReplace action must have a reason! Ignoring."),e;if(!n||!n.length)return e;var i=c()({},e);return n.forEach(function(e){e&&e.id&&(a=!0,i[e.id]=e)}),a?i:e}),o()(Qe,nt.d,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ids;return t&&t.length?Object(tt.a)(e,t):e}),Qe),at=Object(y.b)(rt,{},{persistenceEnabled:!0});at.propTypes=_.b.objectOf(_.b.shape({id:_.b.string.isRequired}));var it,ot=at,st=n("8Cw3"),ct=n("HKE1"),lt=n("6kok");function ut(e){return!(!e||!e.id)&&(!(Object(lt.eb)(e)&&!e.name&&!Object(lt.G)(e))&&(!(Object(lt.lb)(e)&&!e.name&&!e._internal_name)&&!!e.name))}function dt(e,t){if(!t)return e;if(!e.reverseMap||!e.reverseMap[t]||Object(m.a)(e.reverseMap[t]))return e;var n=c()({},e),r=e.reverseMap[t];return Object.keys(r).forEach(function(e){var t=r[e];t&&t.length&&t.forEach(function(t){delete n[e][t]})}),n.reverseMap[t]={},n}function bt(e,t){if(!t||!t.length||!Object(Ve.a)(t))return e;var n=Object(b.a)(t,ut);if(!n.length)return e;var r={channelsAndGroups:c()({},e.channelsAndGroups),ims:c()({},e.ims),mpims:c()({},e.mpims),reverseMap:c()({},e.reverseMap)};return n.forEach(function(e){!function(e,t){if(!t||!t.id||Object(lt.ab)(t))return e;if(Object(lt.eb)(t)&&Object(lt.G)(t)){var n=Object(lt.G)(t),r=e.ims[n],a=t.id;if(r&&r>a)return e}e=dt(e,t.id);var i=t.id,o=Object(ct.a)(t.name),s={};if(Object(lt.eb)(t)&&Object(lt.G)(t)){var c=Object(lt.G)(t);e.ims[c]=i,e.ims[o]=i,s.ims=[c,o]}else if(Object(lt.lb)(t)&&t._internal_name){var l=t._internal_name;e.mpims[l]=i,e.mpims[o]=i,s.mpims=[l,o]}else e.channelsAndGroups[o]=i,s.channelsAndGroups=[o];e.reverseMap[i]=s}(r,e)}),r}var pt=Object(y.b)((it={},o()(it,nt.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channels;return t.reason?bt(e,n):e}),o()(it,nt.d,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ids;if(!t||!t.length)return e;var n={channelsAndGroups:c()({},e.channelsAndGroups),ims:c()({},e.ims),mpims:c()({},e.mpims),reverseMap:c()({},e.reverseMap)};return t.forEach(function(e){dt(n,e)}),n}),it),{channelsAndGroups:{},ims:{},mpims:{},reverseMap:{}},{persistenceEnabled:!0});pt.propTypes={channelsAndGroups:_.b.objectOf(_.b.string),ims:_.b.objectOf(_.b.string),mpims:_.b.objectOf(_.b.string),reverseMap:_.b.objectOf(_.b.shape({channelsAndGroups:_.b.arrayOf(_.b.string),ims:_.b.arrayOf(_.b.string),mpims:_.b.arrayOf(_.b.string)}))};var ht,mt=pt,ft=n("6MAr"),vt=n("59Je"),gt=n("mkut"),_t=n("Muja"),Ot=Object(O.b)("Update the apiNeedsMarking flag for a channel");Ot.propTypes={id:_.b.string.isRequired,needsApiMarking:_.b.bool.isRequired};var yt=Object(O.b)("Wipe out all API needs marking flags when they are all completed");yt.propTypes=null;var jt=Object(O.b)("Remove API needs marking flags for specified IDs");jt.propTypes=_.b.arrayOf(_.b.string).isRequired;var kt={},Et=Object(y.b)((ht={},o()(ht,Ot,function(e,t){return t.needsApiMarking?c()({},e,o()({},t.id,t.needsApiMarking)):Object(tt.a)(e,t.id)}),o()(ht,yt,function(e){return Object(_t.a)(e,kt)?e:kt}),o()(ht,jt,function(e,t){return Object(_t.a)(e,kt)?e:Object(tt.a)(e,t)}),ht),kt,{persistenceEnabled:!0});Et.propTypes=_.b.objectOf(_.b.bool);var Ct=Et,It=Object(j.b)(function(e){var t=e&&e.channelsMeta&&e.channelsMeta.needsApiMarking;return t?Object(gt.a)(t):[]}),wt=(Object(j.b)(function(e){var t=It(e);return Object(b.a)(t,function(t){return!Object(vt.c)(e,t)})}),Object(j.b)(function(e){var t=It(e);return Object(b.a)(t,function(t){return Object(vt.c)(e,t)})}),n("4om7")),St=n("Ih8g"),Tt=n("fNU1"),Rt=Object(st.a)({channelNamesToIds:mt,inviters:ft.b,mutedChannels:vt.a,needsApiMarking:Ct,needsCreatedMessage:wt.a,openedThisSession:St.a,prqMetrics:Tt.a}),Nt=n("//AP"),xt=n("jo6Y"),Mt=n.n(xt),Pt=n("HI9p"),At=n("dYt1"),Dt=function(e){return{id:String(e.action_id),type:e.type,name:e.name,description:e.description,callbackId:e.callback_id}},Lt=function(e){return{actionUrl:e.action_url||"",suggestionUrl:e.suggestion_url||"",actions:(e.actions||[]).map(Dt)}},qt=Object(I.a)("fetch interactive messages / actions config",function(e,t,n){return e(Object(C.a)({method:"developer.apps.actions.list",args:{app_id:n}})).then(Lt)});qt.propTypes=_.b.string;var Ft=function(e){return{action_id:Number(e.id)||e.id,type:e.type,name:e.name,description:e.description,callback_id:e.callbackId}},Bt=Object(I.a)("save existing actions config",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.actionUrl,i=n.suggestionUrl,o=n.actions,s=e(Object(C.a)({method:"developer.apps.actions.update",args:{app_id:r,action_url:a,actions:JSON.stringify(o.map(Ft))}})).then(Lt);return s.then(function(){return e(Object(C.a)({method:"developer.apps.suggestions.update",args:{app:r,suggestion_url:i}}))}).then(function(){return s})});Bt.propTypes={appId:_.b.string,actionUrl:_.b.string,suggestionUrl:_.b.string,actions:_.b.array};var Ut,Ht=n("nNoG"),Kt=n("DVJN"),Gt=new Ht.b("developer_apps"),Vt={id:_.b.string.isRequired,type:_.b.oneOf(Object(d.a)(Kt.a)).isRequired,name:_.b.string.isRequired,description:_.b.string.isRequired,callbackId:_.b.string.isRequired},zt=Object(O.b)("Create an app action (but without saving)");zt.propTypes={appId:_.b.string.isRequired,action:_.b.shape(c()({},Vt,{id:_.b.string})).isRequired};var Yt=Object(O.b)("Update an app action (but without saving)");Yt.propTypes={appId:_.b.string.isRequired,action:_.b.shape(Vt).isRequired};var Wt=Object(O.b)("Remove an app action (but without saving)");Wt.propTypes={appId:_.b.string.isRequired,actionId:_.b.string.isRequired};var Qt=Object(O.b)("Remove all app actions (but without saving)");Qt.propTypes={appId:_.b.string.isRequired};var Xt=Object(O.b)("App action config fetch in flight");Xt.propTypes=_.b.string.isRequired;var Zt=Object(O.b)("App action config fetch success");Zt.propTypes={appId:_.b.string.isRequired,actionUrl:_.b.string,suggestionUrl:_.b.string,actions:_.b.arrayOf(_.b.shape(Vt))};var Jt=Object(O.b)("App action config fetch failed");Jt.propTypes=_.b.string.isRequired;var $t=Object(O.b)("App action config save in flight");$t.propTypes=_.b.string.isRequired;var en=Object(O.b)("App action config save success");en.propTypes={appId:_.b.string.isRequired,actionUrl:_.b.string,suggestionUrl:_.b.string,actions:_.b.arrayOf(_.b.shape(Vt))};var tn=Object(O.b)("App action config failed");tn.propTypes={appId:_.b.string.isRequired,error:_.b.string};var nn={actions:[]},rn=function(e,t,n){return c()({},e,o()({},t,c()({},e[t]||nn,n)))},an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.action,a=Object(At.a)(Object(E.a)(e,n+".actions",[])),i=r.id&&Object(Pt.a)(a,function(e){return e.id===r.id});return"number"==typeof i&&i>=0?a[i]=r:a.push(c()({},r,{id:"X"+a.length})),rn(e,n,{actions:a,unsaved:!0})},on={},sn=Object(y.b)((Ut={},o()(Ut,Xt,function(e,t){return rn(e,t,{fetchInFlight:!0,fetchError:!1})}),o()(Ut,Zt,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=Mt()(t,["appId"]),a=Object(E.a)(e,n+".unsaved",!1);return rn(e,n,c()({fetchInFlight:!1,fetchError:!1,isDataLoaded:!0},a?{}:r))}),o()(Ut,Jt,function(e,t){return rn(e,t,{fetchInFlight:!1,fetchError:!0})}),o()(Ut,zt,an),o()(Ut,Yt,an),o()(Ut,Wt,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.actionId,a=Object(At.a)(Object(E.a)(e,n+".actions",[])),i=Object(Pt.a)(a,function(e){return e.id===r});return"number"==typeof i&&i>=0?(a.splice(i,1),rn(e,n,{actions:a,unsaved:!0})):e}),o()(Ut,Qt,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).appId;return rn(e,t,{actions:[],unsaved:!0})}),o()(Ut,$t,function(e,t){return rn(e,t,{saveInFlight:!0,saveError:null,unsaved:!1})}),o()(Ut,en,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=Mt()(t,["appId"]);return rn(e,n,c()({saveInFlight:!1,saveError:null},r))}),o()(Ut,tn,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.error;return rn(e,n,{saveInFlight:!1,saveError:r||null,unsaved:!0})}),Ut),on,{persistenceEnabled:!0});sn.propTypes=_.b.objectOf(_.b.shape({fetchInFlight:_.b.bool,fetchError:_.b.bool,isDataLoaded:_.b.bool,unsaved:_.b.bool,saveInFlight:_.b.bool,saveError:_.b.string,actionUrl:_.b.string,suggestionUrl:_.b.string,actions:_.b.arrayOf(_.b.shape({id:_.b.string,type:_.b.string,name:_.b.string,description:_.b.string,callbackId:_.b.string}))}));var cn=sn,ln=Object(j.b)(function(e,t){return(e&&e.developerActions||on)[t]||nn});Object(j.b)(function(e,t){return!!ln(e,t).isDataLoaded}),Object(j.b)(function(e,t){return!!ln(e,t).unsaved}),Object(j.b)(function(e,t){return ln(e,t).actions.filter(function(e){return e.type===Kt.a.messageAction})}),Object(j.b)(function(e,t){return ln(e,t).actions.filter(function(e){return e.type===Kt.a.globalAction})}),Object(j.b)(function(e,t){return ln(e,t).saveError});Object(k.b)("Fetch config for app, but only if safe to do so",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).appId,r=t(),a=ln(r,n),i=a.fetchInFlight,o=a.saveInFlight,s=a.unsaved;return i||o||s?Promise.resolve():(e(Xt(n)),e(qt(n)).then(function(t){return e(Zt(c()({appId:n},t)))}).catch(function(r){e(Jt(n)),function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=Object(H.a)(e)).error.apply(t,r)}({getState:t},r)}))}).propTypes={appId:_.b.string.isRequired},Object(k.b)("Save app actions config",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.actionUrl,i=n.suggestionUrl,o=t(),s=ln(o,r),l=s.saveInFlight,u=s.actionUrl,d=s.suggestionUrl,b=s.actions;return l?Promise.reject(new Error("Dev app actions: Save already in flight")):(e($t(r)),e(Bt({appId:r,actionUrl:"string"==typeof a?a:u,suggestionUrl:"string"==typeof i?i:d,actions:b.map(function(e){e.id;var t=Mt()(e,["id"]);return function(e){return"X"===e[0]}(e.id)?t:e})})).then(function(t){return e(en(c()({appId:r},t))),{ok:!0}}).catch(function(t){var n=t.data&&t.data.error;if(e(tn({appId:r,error:n})),{missing_name:Gt.t("Some required fields are empty \u2014 please take another look?"),missing_description:Gt.t("Some required fields are empty \u2014 please take another look?"),missing_callback_id:Gt.t("Some required fields are empty \u2014 please take another look?"),duplicate_names:Gt.t("Apps can\u2019t use the same name for multiple actions."),duplicate_callback_ids:Gt.t("Apps can\u2019t use the same callback ID for multiple actions."),name_too_long:Gt.t("Names can\u2019t be longer than {num} characters.",{num:24}),description_too_long:Gt.t("Descriptions can\u2019t be longer than {num} characters.",{num:150}),callback_id_too_long:Gt.t("Callback IDs can\u2019t be longer than {num} characters.",{num:255}),app_cannot_have_more_than_one_hundred_actions:Gt.t("Apps can\u2019t have more than {num} actions",{num:100}),missing_type:Gt.t("Hmm, something\u2019s gone wrong."),type_is_not_message_action:Gt.t("Hmm, something\u2019s gone wrong.")}[n])return{ok:!1};throw t}))}).propTypes={appId:_.b.string.isRequired};var un,dn=n("Fw/c"),bn=Object(y.b)((un={},o()(un,dn.b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.cacheTs,a=t.emojis,i=t.aliases;if(!n||!r||!a&&!i)return e;var s={};Object(h.a)(a,function(e,t){e&&t&&(s[t]={url:e})}),Object(h.a)(i,function(e,t){e&&t&&(s[t]={aliasOf:e})});var l=e[n]&&e[n].customEmoji||{},u=e[n]&&e[n].cacheTs;return Object(m.a)(s)||u===r?e:c()({},e,o()({},n,{customEmoji:c()({},l,s),cacheTs:r}))}),o()(un,dn.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.cacheTs,a=t.names;if(!e[n]||!r||Object(m.a)(a))return e;var i=Object(tt.a)(e[n].customEmoji,a);return c()({},e,o()({},n,{customEmoji:i,cacheTs:r}))}),o()(un,dn.c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.cacheTs,a=t.prevName,i=t.nextName;if(!(a&&i&&e[n]&&e[n].customEmoji&&e[n].customEmoji[a]&&r))return e;var s=c()({},e[n].customEmoji);return s[i]=c()({},s[a]),delete s[a],Object(h.a)(s,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).aliasOf,t=arguments[1];e===a&&(s[t]=c()({},s[t],{aliasOf:i}))}),c()({},e,o()({},n,{customEmoji:s,cacheTs:r}))}),un),{},{persistenceEnabled:!0});bn.propTypes=_.b.objectOf(_.b.shape({cacheTs:_.b.string,customEmoji:_.b.objectOf(_.b.shape({url:_.b.string}))}));var pn,hn=bn,mn=n("B0Wu"),fn=n("Ia5v"),vn=n("sk9p"),gn=n.n(vn),_n=n("SiRs"),On=n("W5IG"),yn=function(e){if(!e.counts)return null;var t={};return Object.entries(e.counts).forEach(function(e){var n=gn()(e,2),r=n[0],a=n[1];t[r]=Object(_n.a)(a)||0}),t},jn=Object(y.b)((pn={},o()(pn,On.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.channelsData;return n?c()({},e,o()({},n,c()({},r,{counts:yn(r)}))):e}),o()(pn,On.b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.channel;if(!n||!r)return e;var i=e[n];if(!i||!i.channels||!i.channels.length)return e;var s=Object(b.a)([].concat(a()(i.channels)),function(e){return e!==r.id}),l=null;return i.counts&&(l=c()({},i.counts),s.length<i.channels.length&&(Object(lt.xb)(r)?l.private=Math.max(0,l.private-1):l.public=Math.max(0,l.public-1))),c()({},e,o()({},n,c()({},e[n],{channels:s,counts:yn({counts:l})})))}),pn),{},{persistenceEnabled:!0});jn.propTypes=_.b.objectOf(_.b.shape({channels:_.b.arrayOf(_.b.string),counts:_.b.shape({public:_.b.number,private:_.b.number,im:_.b.number,mpim:_.b.number})}));var kn,En=jn,Cn=n("P2f5"),In=n("y5Ed"),wn=n("3OZj"),Sn=n("N4dO"),Tn=n("bPB8"),Rn=n("BeL+"),Nn=n("lCmp"),xn=n("owWc"),Mn=n("hk86"),Pn=function(e){return e&&e.profile&&e.profile.fields},An=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c()({},e,{profile:c()({},e.profile,{fields:Object(tt.a)(e.profile.fields,t)})})},Dn=Object(y.b)((kn={},o()(kn,Mn.c,function(e,t){return t&&t.id?c()({},e,o()({},t.id,t)):e}),o()(kn,Mn.d,function(e,t){if(!t||!t.length||!Object(Ve.a)(t))return e;var n=c()({},e);return t.forEach(function(e){n[e.id]=e}),n}),o()(kn,Mn.h,function(e,t){return t&&t.id&&e[t.id]?Object(tt.a)(e,t.id):e}),o()(kn,Mn.a,function(e,t){return t&&t.length&&Object(Ve.a)(t)?Object(tt.a)(e,Object(l.a)(t,"id")):e}),o()(kn,Mn.g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(Tn.a)(t.map(function(t){return e[t.id]})),r=e[z.c];return Object(Rn.a)([r].concat(a()(n))).reduce(function(e,t){return t&&(e[t.id]=t),e},{})}),o()(kn,Mn.f,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fieldsToDelete,n=Object(xn.a)(e,function(e,n,r){return Pn(n)&&Object(Nn.a)(t,function(e){return void 0!==n.profile.fields[e]})&&(e[r]=An(n,t)),e},{});return Object(m.a)(n)?e:c()({},e,n)}),o()(kn,Mn.e,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fields,n=void 0===t?[]:t,r=Object(xn.a)(e,function(e,t,r){if(Pn(t)){var a=Object(b.a)(n,function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;if(t.possible_values&&Pn(e)){var r=e.profile.fields[t.id];n=void 0!==r&&-1===t.possible_values.indexOf(r.value)}return n}(t,e)});a.length>0&&(e[r]=An(t,a.map(function(e){return e.id})))}return e},{});return Object(m.a)(r)?e:c()({},e,r)}),o()(kn,Mn.b,function(e){return e}),kn),{},{persistenceEnabled:!0});Dn.propTypes=_.b.objectOf(_.b.shape({id:_.b.string.isRequired}));var Ln,qn=Dn,Fn=n("dyRQ"),Bn=n("/Ikh"),Un=n("uXhx"),Hn=n("jeQL"),Kn=n("pHS2"),Gn=n("hOQf"),Vn=n("Uny/"),zn=n("Iq6W"),Yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.isHidden,i=e[n];if(!i)return e;var s=i[r];return s?"thread_broadcast"!==s.subtype?e:!!s._hidden_reply===a?e:c()({},e,o()({},n,c()({},i,o()({},r,c()({},s,{_hidden_reply:a}))))):e},Wn=Symbol("Non-persisted messages map"),Qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.messages,r=t.replace,a=n.map(function(e){var t=e.file&&e.file.id?{file:e.file.id}:{},n=Object(l.a)(Object(Tn.a)(e.files),function(e){return e.id||e}),r=n&&n.length?{files:n}:{files:void 0},a=performance.now().toString();return c()({},e,t,r,{__meta__:{lastUpdatedTs:a}})}),i=Object(Kn.a)(a,"channel"),o={},s={};Object(h.a)(i,function(t,n){s[n]=c()({},e[n]),o[n]=c()({},o[n]),Object(h.a)(t,function(e){s[n][e.ts]=r?e:c()({},s[n][e.ts],e),Object(Gn.xb)(e)||(o[n][e.ts]=!0)}),Object(m.a)(o[n])&&delete o[n]});var u=c()({},e,s);return Object(m.a)(o)||(u[Wn]=c()({},e[Wn],o)),u},Xn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.messages,r=t.replace;if(!n||!n.length||!Object(Ve.a)(n))return e;var a=Object(Tn.a)(Object(l.a)(n,"root")),i=Qn(e,{messages:n,replace:r});return a.length?Qn(i,{messages:a,replace:!1}):i},Zn=function(e,t,n){if(!e[t])return e;var r=n(e[t]);return Object(m.a)(r)?Object(tt.a)(e,[t]):c()({},e,o()({},t,r))},Jn=function(e,t,n){var r=Zn(e,t,n);return r!==e&&r[Wn]&&(r[Wn]=Zn(r[Wn],t,n)),r},$n={},er=Object(y.b)((Ln={},o()(Ln,zn.a,function(e,t){return Xn(e,{messages:t})}),o()(Ln,zn.i,function(e,t){return Xn(e,{messages:t,replace:!0})}),o()(Ln,zn.h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channel,r=t.ts;return n&&r?Jn(e,n,function(e){return Object(tt.a)(e,[r])}):e}),o()(Ln,zn.f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channel,r=t.oldestAllowableTs;if(!n||!r)return e;if(!e[n])return e;var a=parseFloat(r);if(isNaN(a))throw new Error("Invalid oldestAllowableTs");return Jn(e,n,function(e){return Object(Hn.a)(e,function(e,t){return parseFloat(t)<a})})}),o()(Ln,zn.e,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId;if(!t)return e;if(!e[t])return e;var n=Object(tt.a)(e,[t]),r=n[Wn];return r&&r[t]&&(n[Wn]=Object(tt.a)(r,[t])),n}),o()(Ln,zn.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return Yn(e,{channelId:n,ts:r,isHidden:!0})}),o()(Ln,zn.l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return Yn(e,{channelId:n,ts:r,isHidden:!1})}),o()(Ln,zn.c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.text,i=t.blocks,s=t.memberId,l=t.editTs,u=e[n];if(!u)return e;var d=e[n][r];if(!d)return e;if(i){if(Object(_t.a)(i,d.blocks))return e}else if(d.text===a)return e;var b=void 0;s&&(b={user:s,ts:l});var p=c()({},d,{edited:b});return i?p.blocks=i:p.text=a,c()({},e,o()({},n,c()({},u,o()({},r,p))))}),o()(Ln,zn.j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.actionId,s=t.isPending,l=e[n][r];if(!l)return e;var u=l.__meta__||{},d=o()({},"attachment-"+a+"-isPending",s),b=o()({},"attachment-"+a+"-action-"+i+"-isPending",s);return c()({},e,o()({},n,c()({},e[n],o()({},r,c()({},l,{__meta__:c()({},u,d,b)})))))}),o()(Ln,zn.k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.isShowing,s=e[n][r];if(!s)return e;var l=s.__meta__||{},u=o()({},"attachment-"+a+"-loaderIsShowing",i);return c()({},e,o()({},n,c()({},e[n],o()({},r,c()({},s,{__meta__:c()({},l,u)})))))}),o()(Ln,zn.g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId,i=e[n];if(!i)return e;var s=i[r];return s&&Object(f.a)(s.attachments,{id:a})?c()({},e,o()({},n,c()({},i,o()({},r,c()({},s,{attachments:Object(Un.a)(s.attachments,{id:a})}))))):e}),o()(Ln,zn.b,function(){return $n}),Ln),$n,{persistenceEnabled:!0,beforeWriteTransform:function(e){var t=e[Wn]||{},n=Object(tt.a)(e,[Wn]);return Object(m.a)(t)?n:(Object(h.a)(t,function(e,t){if(!Object(m.a)(n[t])&&!Object(m.a)(e)){var r=c()({},n[t]);Object(h.a)(e,function(e,t){r[t]=Object(Vn.b)(r[t])}),n[t]=r}}),n)}});er.propTypes=_.b.objectOf(_.b.objectOf(_.b.shape({ts:_.b.string,type:_.b.string,user:_.b.string})));var tr,nr=er,rr=n("FLa3"),ar=n("9MC8"),ir=n("aa+J"),or=n("zfae"),sr=n("Z3Pq"),cr=n("X6iR"),lr=n("eJId"),ur=n("KPXh"),dr=n("e5MT"),br={commands:{},cacheTs:null},pr=Object(y.b)((tr={},o()(tr,dr.c,function(){return br}),o()(tr,dr.b,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commandName,n=e.commands,r=n[t],a=Mt()(n,[t]);return r?c()({},e,{commands:a}):e}),o()(tr,dr.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.commands,r=void 0===n?[]:n,a=t.cacheTs;return Object(m.a)(r)?e:{commands:function(e,t){var n=c()({},e),r={};if(Object(h.a)(t,function(e){var t=Object(ur.g)(e);if(Object(cr.a)(t,"/")){var a=Object(ur.a)(e);if(a)return r[a]=r[a]||[],void r[a].push(t);var i=Object(ur.d)(e);Object(lr.a)(i)||(n[i]=c()({autocomplete:!0},e,{isServer:!0}))}}),!Object(m.a)(r)){var a=Object(sr.a)(n,ur.g);Object(h.a)(r,function(e,t){var n=a[t];n&&(n.aliases=e)})}return n}(e.commands,Object(sr.a)(r,"name")),cacheTs:a}}),tr),br,{persistenceEnabled:!0});pr.propTypes=_.b.shape({commands:_.b.objectOf(_.b.shape({app:_.b.string,autocomplete:_.b.bool,desc:_.b.string,isServer:_.b.bool,name:_.b.string,usage:_.b.string})),cacheTs:_.b.string});var hr,mr=pr,fr=n("XxO7"),vr=Object(y.b)((hr={},o()(hr,fr.a,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id;return c()({},e,{enterpriseId:t})}),o()(hr,fr.b,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id;return c()({},e,{teamId:t})}),hr),{},{persistenceEnabled:!0});vr.propTypes=_.b.shape({enterpriseId:_.b.string,teamId:_.b.string});var gr,_r=vr,Or=n("tA4R"),yr=n("OtLZ"),jr=n("NFsq"),kr=n("sJR0"),Er=Object(H.b)(),Cr=Object(y.b)((gr={},o()(gr,kr.a,function(e,t){if(!t||!t.id)return Er.warn('addGroup: user group missing required "id" prop'),e;var n=c()({},e);return n[t.id]=c()({},t),n}),o()(gr,kr.c,function(e,t){if(!t||!t.length)return e;if(!t.some(function(e){return e.id}))return e;var n=c()({},e);return t.forEach(function(e){e.id?n[e.id]=c()({},e,{users:e.users||[]}):Er.warn('bulkAddGroups: user group missing required "id" prop')}),n}),o()(gr,kr.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.groupId,r=t.users,a=void 0===r?[]:r;if(!a||!n||!e[n])return e;var i=c()({},e[n]);return i.users=a,i.user_count=a.length,c()({},e,o()({},n,i))}),o()(gr,kr.b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.groupId,r=t.memberId;if(!r||!n||!e[n]||Object(jr.a)(e[n].users,r))return e;var i=c()({},e[n]);return i.users=[].concat(a()(i.users||[]),[r]),c()({},e,o()({},n,i))}),o()(gr,kr.k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.groupId,r=t.memberId;if(!(r&&n&&e[n]&&Object(jr.a)(e[n].users,r)))return e;var a=e[n],i=a.users,s=Mt()(a,["users"]);return s.users=Object(yr.a)(i,r),c()({},e,o()({},n,s))}),o()(gr,kr.j,function(e,t){return t?Object(tt.a)(e,t):e}),gr),{},{persistenceEnabled:!0});Cr.propTypes=_.b.objectOf(_.b.shape({id:_.b.string.isRequired,users:_.b.array}));var Ir=Cr,wr=n("BYHq"),Sr=n("bYYE");n.d(t,"a",function(){return Se}),n.d(t,"b",function(){return Fe.a}),n.d(t,"c",function(){return Be.b}),n.d(t,"j",function(){return Ue.a}),n.d(t,"d",function(){return He.c}),n.d(t,"e",function(){return Ke.a}),n.d(t,"f",function(){return Xe}),n.d(t,"g",function(){return Ze.d}),n.d(t,"h",function(){return Je.a}),n.d(t,"i",function(){return $e.b}),n.d(t,"k",function(){return et.d}),n.d(t,"l",function(){return ot}),n.d(t,"m",function(){return Rt}),n.d(t,"n",function(){return Nt.b}),n.d(t,"o",function(){return cn}),n.d(t,"p",function(){return hn}),n.d(t,"q",function(){return mn.a}),n.d(t,"r",function(){return fn.b}),n.d(t,"s",function(){return En}),n.d(t,"t",function(){return Cn.d}),n.d(t,"u",function(){return In.a}),n.d(t,"v",function(){return wn.a}),n.d(t,"w",function(){return Sn.d}),n.d(t,"x",function(){return qn}),n.d(t,"y",function(){return Fn.d}),n.d(t,"z",function(){return Bn.a}),n.d(t,"A",function(){return nr}),n.d(t,"B",function(){return rr.b}),n.d(t,"C",function(){return ar.a}),n.d(t,"D",function(){return ir.a}),n.d(t,"E",function(){return or.c}),n.d(t,"G",function(){return mr}),n.d(t,"F",function(){return _r}),n.d(t,"H",function(){return Or.b}),n.d(t,"J",function(){return Ir}),n.d(t,"I",function(){return wr.c}),n.d(t,"K",function(){return Sr.a})},HDtv:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("yPgC"),m=n("nNoG"),f=n("Lnf+"),v=n("P9LH"),g=n("P2f5"),_=new m.b("files");var O=n("lhZz"),y=n("bsix"),j=new m.b("menu_file"),k=(h.a.File().isRequired,p.b.string,p.b.string.isRequired,{action:void 0}),E=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){if(Object(v.M)(this.props.file))return null;var e="Arugula"===this.fileTypeDescription?j.t("Post"):this.fileTypeDescription;return b.a.createElement("div",{className:"c-pillow_file__size c-pillow_file__meta__entry"},this.size,b.a.createElement("div",{className:"c-pillow_file__swap"},e,b.a.createElement("div",{className:"c-pillow_file__slide c-pillow_file__size__action"},this.shouldShowSize&&" \u2014 ",this.actionText)))}},{key:"fileTypeDescription",get:function(){var e=this.props,t=e.file,n=e.teamId,r=Object(O.getStateByTeamId)(n);return t.is_external?Object(y.a)(t,r):t.pretty_type}},{key:"actionText",get:function(){var e=this.props,t=e.file,n=e.action,r=e.teamId;return function(e,t,n){switch(e){case"view":return _.t("Click to view");case"download":return _.t("Click to download");case"window":return _.t("Click to open original");case"remote":return _.t("Click to open in {appName}",{appName:Object(g.g)(n,t)});case"external":switch(t.external_type){case"gdrive":return _.t("Click to open in Google\xa0Drive");case"dropbox":return _.t("Click to open in Dropbox");case"box":return _.t("Click to open in Box");case"onedrive":return _.t("Click to open in OneDrive");default:return _.t("Click to open in a\xa0web\xa0page")}default:return _.t("Click to open")}}(n,t,Object(O.getStateByTeamId)(r))}},{key:"size",get:function(){return this.shouldShowSize?[Object(f.a)(this.props.file.size)," "]:null}},{key:"shouldShowSize",get:function(){var e=this.props.file;return!e.is_external&&("docs"!==e.filetype&&this.props.file.size>1e3)}}]),t}(d.PureComponent);E.displayName="FileSize",E.defaultProps=k;t.a=E},HE7G:function(e,t,n){},HHn2:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n("QEec"),a=function(e,t,n){if(!e||!t||!n)return!1;var r=n.viewContext||"";switch(e){case"file":return"inline_file_msg_"+t.replace(".","_")+n.id+r;case"files":var a=n.fileIds;if(!a)return null;var i=a.join("_");return"inline_files_msg_"+t.replace(".","_")+i+r;case"call":return"call_msg_"+n.id+t+r;case"attachment":return n.imageUrl?"img_msg_"+t+(n.id||n.imageUrl)+r:n.audioHtml?"aud_msg_"+t+(n.id||n.audioHtml)+r:n.videoHtml?"vid_msg_"+t+(n.id||n.thumbUrl)+r:null;case"attachmentText":return"attach_text_"+n.id+t+r;case"attachmentTextMore":return"attach_text_more_"+n.id+t+r;case"attachmentsOverLimit":return"attach_over_"+n.limit+"_"+t+r;case"blockText":return"block_text_"+t+"_"+n.blockId;default:return!1}},i=function(e){var t=e.ts;if(e.file)return[a("file",t,{id:e.file})];if(e.files)return[a("files",t,{fileIds:e.files})];if("sh_room_shared"===e.subtype||"sh_room_created"===e.subtype)return[a("call",t,{id:e._call_id})];if(e.attachments){var n=[];return Object(r.a)(e.attachments,function(e){n.push(a("attachment",t,{id:e.id,imageUrl:e.image_url,audioHtml:e.audio_html,videoHtml:e.video_html,thumbUrl:e.thumb_url}))}),n}return[]};t.a=a},"HL/o":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("lek6");function c(e,t){return o.a.createElement(s.a,a()({noJumbomoji:!0,noEmojiText:!0,noHighlights:!0,noLinking:!0,noSpecials:!0,showTooltips:!1,text:e},t))}c.displayName="renderMrkdwnText"},HMjZ:function(e,t,n){"use strict";n.d(t,"e",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return O});var r=n("FN36"),a=n("6kok"),i=n("5mKg"),o=n("DtX9"),s=n("13mM"),c=n("Fdc0"),l=n("D4L/"),u=n("nNoG"),d=n("clTI"),b=n("HO/Y"),p="Slack",h=new u.b("calls");function m(e){return!!Object(r.a)(e,"allow_calls")}function f(e,t){var n=Object(o.c)(e,Object(a.G)(t));return!!m(e)&&((!Object(b.j)(e,"feature_esc_disconnect_v2_client")||!Object(a.bb)(t))&&(!Object(a.eb)(t)||!(Object(c.cb)(n)||Object(c.yb)(n)||Object(c.pb)(n))))}function v(e,t){var n=Object(l.d)(e),r=!Object(i.B)(n)&&!Object(a.eb)(t)&&!O(e);return!(!Object(b.j)(e,"feature_offline_mode")||Object(s.c)(e))||(r||Object(a.wb)(t)||Object(a.V)(t))}function g(e,t){var n=Object(d.d)(e,t);return!v(e,n)&&f(e,n)}function _(e,t){var n=Object(l.d)(e),o=Object(i.B)(n),d=Object(a.lb)(t),p=O(e),m=o||p;if(Object(b.j)(e,"feature_offline_mode")&&!Object(s.c)(e))return h.t("Go online to start a call");if(m&&Object(a.V)(t))return h.t("Unarchive this channel to start a call");if(m&&Object(a.wb)(t))return h.t("Join this channel to start a call");if(p)return h.t("Start a call using {callsAppName}",{callsAppName:Object(r.a)(e,"calling_app_name")});if(!o&&d)return h.t("To start a group call, check out our paid plans.");if(!o&&Object(a.W)(t))return h.t("To start a call in a channel, check out our paid plans.");if(Object(a.eb)(t))return h.t("Call {name}",{name:Object(c.Q)(e,t.user)});if(d){var f=Object(a.I)(e,t).map(function(t){return Object(c.P)(e,t)});return h.t("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Object(u.h)(f).join("")})}return h.t("Start a call")}function O(e){return Object(r.a)(e,"calling_app_name")!==p}},HSvc:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("nNoG"),m=n("20gP"),f=n("TegG"),v=(n("cgI0"),new h.b("channel_modal")),g=(p.b.func.isRequired,p.b.bool.isRequired,p.b.func,p.b.array,{filterMembers:void 0,selectedOptions:[]}),_=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderMember",value:function(e,t){return b.a.createElement(f.a,{id:e.value,isActive:t.isActive,showPresence:!0,showAvatar:!0,className:"p-invite_users_input__member_invites_select"})}},{key:"renderEmptyStateMessage",value:function(e){return b.a.createElement("div",{className:"align_center","data-qa":"channel_create_modal_invite_no_results_message"},v.rt("No one found matching {query}",{fallbackHash:"f4e12416c6b8d6a75b8a34fc79a221e1a43d1120",fallbackHashNs:"form",query:b.a.createElement("strong",null,e)}))}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.exceededLimitError,r=e.filterMembers,a=e.selectedOptions;return b.a.createElement("label",{htmlFor:"invite_users_input_invites",className:"p-invite_users_input"},b.a.createElement("span",{className:"p-invite_users_input__label_title"},v.rt("<strong>Send invites to</strong> (optional)")),b.a.createElement("span",{className:"p-invite_users_input__label_error","data-qa":"invite_users_input_error"},n&&v.t("You can\u2019t choose more than 1000 items.")),b.a.createElement("div",{className:"p-invite_users_input__input"},b.a.createElement(m.b,{selectedOptions:a,renderOption:this.renderMember,width:"100%",onSelectedItemsChange:t,selectId:"invite_users_input_invites",placeholderText:v.t("Search by name"),emptyStateMessage:this.renderEmptyStateMessage,optionsRowHeight:32,size:"large",searcherOptions:{entities:{channels:!1,members:!0,userGroups:!1},limit:24,sort:{frecency:!0},filter:r},ariaDescribedBy:"invite_users_input_description"})),b.a.createElement("div",{id:"invite_users_input_description",className:"p-invite_users_input__input_subtext"},v.t("Select up to 1000 people to add to this channel.")))}}]),t}(d.Component);_.displayName="ChannelNameInput",t.a=_,_.defaultProps=g},HWeM:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("MnCE"),s=n("0f2Y"),c=n("82mD");r.b.string.isRequired,r.b.string.isRequired,r.b.string,r.b.string,r.b.bool,r.b.bool;function l(e){var t=e.ts,n=e.format,r=e.fallback,a=e.link,o=e.noLinking,l=e.do24hrTime,u=Object(c.d)(t,n,{fallbackString:r,do24hrTime:l});return u?!a||o?i.a.createElement("span",{className:"c-mrkdwn__date"},u):i.a.createElement(s.a,{className:"c-mrkdwn__date",href:a},u):null}l.displayName="DateCommand",l.defaultProps={fallback:null,link:null,noLinking:!1,do24hrTime:!1},t.a=Object(o.a)(l)},HWup:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("+Xah"),a=n("ifKl"),i=n("ROZo"),o=(Object(i.b)("TS.utility.msgs.doApiUrl",a.a),Object(i.b)("TS.utility.msgs.doNewApiUrl",a.a)),s=Object(i.b)("TS.utility.msgs._handleLegacyAttachment",r.a)},"HX+W":function(e,t,n){"use strict";n.d(t,"e",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return g});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=c.b.shape({viewId:c.b.string,teamId:c.b.string}),p=c.b.shape({stack:c.b.arrayOf(b),index:c.b.number,loaded:c.b.bool}),h=Object(l.b)("Updates navigation history state");h.propTypes={history:c.b.shape({stack:c.b.arrayOf(b).isRequired,index:c.b.number.isRequired}).isRequired};var m=Object(l.b)("Signals that the client has initially loaded, or has attempted to load, the state from storage");m.propTypes=c.b.bool.isRequired;var f=Object(u.b)((r={},i()(r,h,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).history;return t?{stack:t.stack,index:t.index,loaded:!0}:e}),i()(r,m,function(e,t){return s()({},e,{loaded:!!t})}),r),{},{persistenceEnabled:!1});f.propTypes=p,t.a=f;var v=Object(d.b)(function(e){return e&&e.navigationHistory}),g=Object(d.b)(function(e){return e&&e.navigationHistory&&e.navigationHistory.loaded})},HXD8:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return p}),n.d(t,"f",function(){return h});var r="universal_search",a={autocompleteKeystroke:"autocomplete_keystroke",autocompleteRequest:"autocomplete_request",autocompleteResponse:"autocomplete_response",autocompleteRenderStart:"autocomplete_render_start",searchAccept:"search_accept",searchFilter:"search_filter",searchModuleRequest:"search_module_request",searchModuleResponse:"search_module_response",searchModuleRenderStart:"search_module_render_start"},i={autocompleteRequestToResponse:"ac_request_to_response",autocompleteKeystrokeToRenderStart:"ac_keystroke_to_render_start",searchAcceptToRenderStart:"search_accept_to_render_start",searchRequestToResponse:"search_request_to_response"};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[r+"_"+e].concat(t||[]).join("_")}function s(e){e.mark(o(a.autocompleteKeystroke))}function c(e){e.mark(o(a.autocompleteRequest))}function l(e){e.mark(o(a.autocompleteResponse)),e.measureAndClear(o(a.autocompleteRequest),i.autocompleteRequestToResponse)}function u(e){e.mark(o(a.autocompleteRenderStart)),e.getLatestMark(a.autocompleteKeystroke)&&e.measureAndClear(o(a.autocompleteKeystroke),i.autocompleteKeystrokeToRenderStart)}function d(e){e.mark(o(a.searchAccept))}function b(e,t,n,r){r.mark(o(a.searchModuleRequest,[e,t,n]))}function p(e,t,n,r){r.mark(o(a.searchModuleResponse,[e,t,n])),r.measureAndClear(o(a.searchModuleRequest,[e,t,n]),i.searchRequestToResponse)}function h(e,t,n,r){r.mark(o(a.searchModuleRenderStart,[e,t,n])),r.measureAndClear(o(a.searchAccept),i.searchAcceptToRenderStart)}},HbQL:function(e,t,n){},HcX7:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("set new message count for unreads view");i.propTypes=r.b.number.isRequired;var o=Object(a.b)("increments refreshId for Unreads View");o.propTypes=null;var s=Object(a.b)("set the thread key (channel ID-timestamp) to focus");s.propTypes=r.b.string},Hh47:function(e,t,n){"use strict";var r=n("XfeM"),a=n("kOzZ"),i=n("XZOc"),o=Object(r.b)("Clog a query session event using data from redux",function(e,t){var n=e(Object(i.g)()),r=e(Object(i.f)());Object(a.a)({state:t()}).track("SEARCH_QUERY_SESSION",{search_session_id:n,client_request_id:r})});o.propTypes=null;var s=o,c=n("oLrU");n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var l=Object(r.b)("Sets a new ID for the query session",function(e){var t=Object(c.a)();return e(Object(i.h)({querySessionId:t})),e(Object(i.k)()),e(s()),t});l.propTypes={};var u=Object(r.b)("Sets a new ID for the search session",function(e){var t=Object(c.a)();return e(Object(i.i)({searchSessionId:t})),e(l()),t});u.propTypes={}},Hm4q:function(e,t,n){},HuaI:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",function(){return o}),n.d(t,"internalSetFocusedWorkspace",function(){return s}),n.d(t,"internalWorkspacesRemoved",function(){return l}),n.d(t,"internalRemoveWorkspaceType",function(){return u}),n.d(t,"internalSetFocusedWorkspaceType",function(){return d}),n.d(t,"internalWorkspacesRemovedType",function(){return b}),n.d(t,"setWorkspaceOrder",function(){return p}),n.d(t,"setWorkspaceBooted",function(){return h}),n.d(t,"setWorkspaceFailedToBoot",function(){return m}),n.d(t,"setWorkspaceIsMigrating",function(){return f}),n.d(t,"setWorkspaceIsAccessLimited",function(){return v}),n.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return g});var r=n("aK/h"),a=n("EzZj"),i=n("Z7Ay"),o=Object(a.b)("Initializes the store and sets the initial focused workspace ID");o.propTypes=r.b.object.isRequired;var s=Object(a.b)("Actually focus a workspace");s.propTypes=r.b.string.isRequired;var c=Object(a.b)("Removes a workspace from the store");c.propTypes=r.b.string.isRequired;var l=Object(a.b)("Signals that a workspace has been removed");l.propTypes=r.b.arrayOf(r.b.string).isRequired;var u=c.getType(),d=s.getType(),b=l.getType(),p=Object(a.b)("Sets the order of workspaces for display");p.propTypes=r.b.arrayOf(r.b.string).isRequired;var h=Object(a.b)("Sets the workspace booted state");h.propTypes=r.b.string.isRequired;var m=Object(a.b)("Sets the workspace failed to boot state");m.propTypes=r.b.string.isRequired;var f=Object(a.b)("Indicates that the given workspace is in the middle of an org migration");f.propTypes=r.b.string.isRequired;var v=Object(a.b)("Indicates that the given workspace has its access limited on this network");v.propTypes=r.b.string.isRequired;var g=Object(a.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");g.propTypes=r.b.string,Object(i.a)("workspacesStoreActions",{setWorkspaceOrder:p,setWorkspaceBooted:h})},HvGc:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"a",function(){return T}),n.d(t,"s",function(){return R}),n.d(t,"c",function(){return N}),n.d(t,"g",function(){return x}),n.d(t,"f",function(){return M}),n.d(t,"l",function(){return P}),n.d(t,"e",function(){return A}),n.d(t,"r",function(){return D}),n.d(t,"p",function(){return L}),n.d(t,"h",function(){return q}),n.d(t,"q",function(){return F}),n.d(t,"t",function(){return B}),n.d(t,"o",function(){return U}),n.d(t,"n",function(){return H}),n.d(t,"i",function(){return K}),n.d(t,"u",function(){return G}),n.d(t,"j",function(){return V}),n.d(t,"d",function(){return z}),n.d(t,"k",function(){return Y}),n.d(t,"v",function(){return W}),n.d(t,"m",function(){return Q});var r=n("m8R6"),a=n("ifKl"),i=n("aK/h"),o=n("HO/Y"),s=n("iqxf"),c=n("pRVB"),l=n("ZQFR"),u=n("Qk/F"),d=n("VjHM"),b=n("XfeM"),p=n("DTT0"),h=n("2HDu"),m=n("/Rx2"),f=n("Smdl"),v=n("9kTo"),g=n("kOzZ"),_=n("s19S"),O=n("Jjev"),y=n("KDee"),j=n("5lF5"),k=n("sDWr"),E=n("uf9I"),C=n("lhZz"),I=n("s5Is"),w=n("iTOt"),S=Object(b.b)("Runs after a flexpane is closed",function(e,t){if(Object(f.a)()){var n=t(),a=Object(w.b)(n),i=Object(c.j)(n),o=Object(w.c)(n);e(Object(l.d)({prevRouteName:a,prevFlexName:i,prevFlexParams:Object(r.a)(o,["entityId","teamId"])}))}}),T=Object(b.b)("Closes the flexpane",function(e,t){if(Object(f.a)()){var r=t(),a=Object(c.j)(r);return"details"!==a&&Object(c.a)(r)?e(A({sectionId:Object(c.b)(r)})):("details"===a&&e(Object(l.a)({channelDetailsOpen:!1,channelDetailsSection:Object(c.b)(r)})),e(Object(u.a)({routeName:k.a,flexName:void 0,flexParams:void 0})))}return Object(v.a)()?Promise.all([n.e(0),n.e(98),n.e(107),n.e(6),n.e(28)]).then(n.bind(null,"xUL/")).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).closeFlexpaneThunk;return e(t())}):(Object(y.b)(),Object(y.a)(),Promise.resolve())}),R=Object(b.b)("Close or re-open the flexpane",function(e,t){if(Object(f.a)())if(Object(c.j)(t()))e(T());else{var n=Object(c.i)(t()),r=n.prevRouteName,a=n.prevFlexName,i=n.prevFlexParams;r&&a&&e(Object(u.a)({routeName:r,flexName:a,flexParams:i}))}}),N=Object(b.b)("Opens the file details flexpane",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.flexOrigin,i=n.flexOriginId;if(Object(f.a)())e(Object(u.a)({routeName:k.g,flexName:"files",flexParams:{fileId:r},flexOrigin:a,flexOriginId:i}));else{Object(_.h)(r,a,!1,!0,null)}});N.propTypes={fileId:i.b.string.isRequired,flexOrigin:i.b.string,flexOriginId:i.b.string};var x=Object(b.b)("Opens the file list flexpane",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.filetype,a=void 0===r?"":r,i=n.user,o=void 0===i?"":i;Object(f.a)()?(e(Object(u.a)({routeName:k.h,flexName:"files"})),e(Object(s.j)("all"===a?"":a)),e(Object(s.k)("all"===o?"":o))):(Object(O.a)(),Object(_.p)(o))});x.propTypes={filetype:i.b.string,user:i.b.string};var M=Object(b.b)("Opens the downloads flexpane",function(e){Object(f.a)()?e(Object(u.a)({routeName:k.f,flexName:"downloads"})):Object(y.c)("downloads")}),P=Object(b.b)("Opens the threads flexpane",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,i=n.highlightTs,o=n.origin,s=n.originId;return Object(f.a)()?Object(C.getClientStoreInstance)().dispatch(Object(I.setFocusedWorkspace)({teamId:Object(E.b)(t())})).then(function(){var t={threadId:Object(h.c)(r,a)};i&&(t.replyTs=i),e(Object(u.a)({routeName:k.k,flexName:"thread",flexParams:t,flexOrigin:o,flexOriginId:s}))}):(Object(j.f)(r,a,i,o,s),Promise.resolve())});P.propTypes={channelId:i.b.string.isRequired,threadTs:i.b.string.isRequired,origin:i.b.string,originId:i.b.string};var A=Object(b.b)("Opens the Channel Details flexpane{",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sectionId;n?Object(f.a)()?e(Object(u.a)({routeName:k.d,flexName:"details",flexParams:{sectionId:n}})):("info"===n&&Object(y.c)("details"),Object(y.c)(n)):Object(f.a)()?e(Object(u.a)({routeName:k.d,flexName:"details",flexParams:{sectionId:""}})):Object(y.c)("details"),Object(f.a)()&&e(Object(l.a)({channelDetailsOpen:!0,channelDetailsSection:n||""}))});A.propTypes={sectionId:i.b.string};var D=Object(b.b)("Show or hides the channel details flexpane",function(e,t){var n=t();return e("details"===Object(c.j)(n)?T():A({sectionId:Object(c.b)(n)||"info"}))}),L=Object(b.b)("Opens the What's New flexpane",function(e){Object(f.a)()?e(Object(u.a)({routeName:k.p,flexName:"whats_new"})):Object(y.c)("whats_new")}),q=Object(b.b)("Opens the Keyboard Shortcuts flexpane",function(e,t){var n=t(),r=Object(d.g)(n,"seen_keyboard_shortcuts_coachmark");Object(g.a)({state:n}).track("FLEXPANE_KBSHORTCUTS_OPEN",{seen_coach_mark:r}),Object(f.a)()?(Object(m.d)(n)&&e(Object(p.a)()),e(Object(u.a)({routeName:k.i,flexName:"shortcuts"}))):Object(y.c)("shortcuts")}),F=Object(b.b)("Toggle the Activity flexpane open or closed",function(e,t){var n=t();return"activity"===Object(c.j)(n)?e(T()):Object(f.a)()?e(Object(u.a)({routeName:k.b,flexName:"activity"})):Promise.resolve(Object(y.c)("mentions"))}),B=Object(b.b)("Toggles the Keyboard Shortcuts flexpane",function(e,t){var n=t();return e("shortcuts"===Object(c.j)(n)?T():q())}),U=Object(b.b)("Opens the file list flexpane",function(e,t){var n=t(),r=Object(o.j)(n,"feature_sonic_user_groups");Object(f.a)()&&r?e(Object(u.a)({routeName:k.n,flexName:"user_groups"})):Object(_.l)()}),H=Object(b.b)("Opens the user group details flexpane",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).groupId,r=t(),a=Object(o.j)(r,"feature_sonic_user_groups");Object(f.a)()&&a?e(Object(u.a)({routeName:k.m,flexName:"user_groups",flexParams:{userGroupId:n}})):Object(_.j)(n)});H.propTypes={groupId:i.b.string.isRequired};var K=Object(b.b)("Show member directory flexpane",function(e){return Object(f.a)()?e(Object(u.a)({routeName:k.e,flexName:"directory"})):Object(_.m)()}),G=Object(b.b)("Toggle member directory flexpane",function(e,t){var n=t();return"directory"===Object(c.j)(n)?e(T()):Object(f.a)()?e(Object(u.a)({routeName:k.e,flexName:"directory"})):Object(_.m)()}),V=Object(b.b)("Show the member profile",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId||Object(o.b)(t());return Object(f.a)()?e(Object(u.a)({routeName:k.o,flexName:"user_profile",flexParams:{memberId:n}})):Object(_.i)(n)});V.propTypes={memberId:i.b.string};var z=Object(b.b)("Show the app profile",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).appOrServiceId;return e(Object(u.a)({routeName:k.c,flexName:"app_profile",flexParams:{appOrServiceId:n}}))});z.propTypes={appOrServiceId:i.b.string.isRequired};var Y=Object(b.b)("Opens the list of Starred Items",function(e,t){var n=t();return"starred_items"===Object(c.j)(n)?Promise.resolve():Object(f.a)()?e(Object(u.a)({routeName:k.j,flexName:"starred_items"})):Promise.resolve(Object(y.c)("stars"))}),W=Object(b.b)("Toggle the list of Starred Items",function(e,t){var n=t(),r=Object(c.j)(n);return Object(f.a)()?e("starred_items"===r?T():Object(u.a)({routeName:k.j,flexName:"starred_items"})):null}),Q=Object(b.b)("Opens the users connected calendars",function(e,t){var n=t(),r=Object(o.j)(n,"feature_calendar_simple_agenda_view");Object(f.a)()&&r?e(Object(u.a)({routeName:k.l,flexName:"calendar"})):Object(a.a)()});Q.propTypes={user:i.b.string}},Hvpu:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("zmn3"),h=n("kxpR"),m=n.n(h),f=(n("aK/h"),n("clTI")),v=n("D4L/"),g=n("6kok"),_=n("N4dO"),O=n("FHcd"),y=n("DtX9"),j=n("Fdc0"),k=n("5mKg"),E=n("Qrgz"),C=n("+1yX"),I=n("k2C/");var w=n("RoYr"),S=n("aXcD"),T=n("a+Oh"),R=n("46+D");n.d(t,"b",function(){return M});var N=5;t.a=function(e){var t=function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={channelId:e.initialChannelId,msgText:e.initialText,msgOps:void 0},t.setSelectedChannel=t.setSelectedChannel.bind(t),t.setMsgText=t.setMsgText.bind(t),t.setMsgOps=t.setMsgOps.bind(t),t}return b()(n,t),c()(n,[{key:"setSelectedChannel",value:function(e){this.setState(function(){return{channelId:e}})}},{key:"setMsgText",value:function(e){this.setState(function(){return{msgText:e}})}},{key:"setMsgOps",value:function(e){this.setState(function(){return{msgOps:e}})}},{key:"render",value:function(){return m.a.createElement(e,a()({msgText:this.state.msgText,setMsgText:this.setMsgText,msgOps:this.state.msgOps,setMsgOps:this.setMsgOps,selectedChannelId:this.state.channelId,setSelectedChannel:this.setSelectedChannel},this.props))}}]),n}(h.PureComponent);return t.displayName="ShareDialogWrapper",t.defaultProps={initialChannelId:null,initialText:""},t};var x=function(e,t){if(!t)return null;var n=function(e,t,n){return e&&t&&t.id?Object(O.a)(t.id)?Object(j.o)(e,t,n):Object(C.a)(t.id)?Object(g.M)(e,t,n):[]:[]}(e,t);return n?Object(p.a)(n,function(t){var n=Object(v.i)(e,t);return Object(k.L)(n)?m.a.createElement(R.a,{type:"unknown"}):Object(k.e)(n)}):null};function M(e,t){var n=t.selectedChannelId,r=t.msgText,a=t.msgOps,i=!1,o=!1,s=!1,c="",l=null,u=!1,d=Object(f.d)(e,n)||Object(f.j)(e,n);d&&(i=Object(E.q)(e,d.id)&&!Object(g.V)(d),o=Object(g.cb)(d),s=Object(g.yb)(d)&&!Object(g.kb)(d),l=Object(g.v)(d),u=Object(g.l)(e,d));var b=Object(T.a)(e),p=void 0;p=b?{contents:a}:Object(S.b)(r,{highlightWords:[],shouldRenderEmojiAsText:!0});var h=Object(w.a)(p),m=n&&Object(g.n)(e,n,h),v=void 0,R=0;if(n&&Object(g.Tb)(e,n,h)){var M=Object(_.f)(e,n).counts;M&&M.member_count&&M.member_count>=N&&(R=M.member_count,v=h.includes("BKeveryone")?"@everyone":"@channel")}return Object(O.a)(n)?(c=Object(j.Q)(e,n),i=!0):d&&(c=Object(g.x)(e,d)),d||(d=Object(y.c)(e,n)),{canPostInSelectedChannel:i,canThread:u,selectedChannelIsGeneral:o,willJoinChannel:s,selectedChannelName:c,channelType:l,disallowedKeywordInMsgText:m||null,atChannelWarningKeyword:v||null,channelMemberCount:R,selectedChannel:d,selectedChannelId:n,sharedTeamNames:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!(e&&t&&t.id)&&(Object(O.a)(t.id)?Object(j.lb)(t):Object(C.a)(t.id)?Object(g.Y)(t):!(!Object(I.a)(t.id)&&!Object(I.b)(t.id))&&Object(k.G)(e,t))}(e,d)?x(e,d):null,featureWysiwygComposer:b}}},I6hh:function(e,t,n){},ICFZ:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return j});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("oTSI"),c=n("yU6Y"),l=n.n(c),u=n("yHhI"),d=n("g5qt"),b=n("kOzZ"),p=n("qvNt"),h=void 0;document.queryCommandSupported&&Object(p.b)(window,"click",function(){h=document.queryCommandSupported("copy")});var m=Object(u.b)(),f=Object(s.a)(function(){return!!(l.a.chrome&&l.a.version>=42)||(!!(l.a.firefox&&l.a.version>=41)||(!!(l.a.msie&&l.a.version>=9)||(!!(l.a.opera&&l.a.version>=29)||!!h)))}),v=Object(s.a)(function(){var e=new _,t=new g;return e.canWriteText()?e:t}),g=function(){function e(){a()(this,e),this.currentRanges=[],this.selection=null}return o()(e,[{key:"canWriteText",value:function(){return f()}},{key:"writeText",value:function(e){if(!this.canWriteText())return m.warn("Cannot write string to clipboard"),!1;var t=document.createElement("textarea");t.id="clipboardTextarea",t.appendChild(document.createTextNode(e)),document.body.appendChild(t);var n=this.writeNode(t);return document.body.removeChild(t),n}},{key:"canWriteHTML",value:function(){return f()}},{key:"writeHTML",value:function(e){if(!this.canWriteHTML())return m.warn("Cannot write html to clipboard"),!1;var t=document.createElement("p");t.innerHTML=e;var n=document.createElement("textarea");n.id="clipboardTextarea",n.innerHTML=t.innerHTML,document.body.appendChild(n);var r=this.writeNode(n);return document.body.removeChild(n),r}},{key:"writeNode",value:function(e){var t=!1;if("input"!==e.type&&"textarea"!==e.type)return m.warn("Can only write input and textarea node's to clipboard"),!1;var n=document.activeElement;try{this.saveSelection(),window.getSelection().removeAllRanges(),e.select(),document.execCommand("copy")}catch(e){t=!0,m.warn("Something bad happened when we tried to copy: "+e)}finally{this.restoreSelection(),n&&n.focus&&n.focus()}return!t}},{key:"saveSelection",value:function(){this.currentRanges=[],this.selection=window.getSelection();for(var e=0,t=this.selection.rangeCount;e<t;e++)this.currentRanges.push(this.selection.getRangeAt(e))}},{key:"restoreSelection",value:function(){this.selection.removeAllRanges();for(var e=0,t=this.currentRanges.length;e<t;e++)this.selection.addRange(this.currentRanges[e])}}]),e}(),_=function(){function e(){a()(this,e)}return o()(e,[{key:"canWriteText",value:function(){return Object(d.j)()}},{key:"writeText",value:function(e){return this.canWriteText()?(Object(d.Qb)(e),!0):(m.warn("Cannot write string to clipboard"),!1)}},{key:"canWriteHTML",value:function(){return!1}},{key:"writeHTML",value:function(){return m.warn("We cannot write HTML in SSB"),!1}}]),e}(),O=function(){return v().canWriteText()},y=function(e){return v().writeText(e)},j=function(e,t){var n=Object.keys(t);if(0!==n.length){var r=[],a=null;try{var i=(e.originalEvent||e).clipboardData||window.clipboardData;n.forEach(function(e){try{i.setData(e,t[e]);var n=i.getData(e);t[e]===n&&r.push(e)}catch(t){m.warn('TS.clipboard.writeTextFromEvent: error copying to "'+e+'" ('+t+")")}})}catch(e){a=e}a||0!==r.length||(a="failed to write to clipboard"),a?m.error("clipboard.writeTextFromEvent: "+a):Object(b.a)().track("CLIPBOARD_WRITE",{action:e.type,err:a,types:r.join(",")})}}},"ID5/":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("iH/p"),o=Object(a.b)("/search slashcommand",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).originalRest;return e(Object(i.h)({query:n}))});o.propTypes={originalRest:r.b.string},t.default=o},IF1j:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("TGBA"),h=n("ifKl"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("XHGt"),_=n("TSYQ"),O=n.n(_),y=n("DtX9"),j=n("Fdc0"),k=n("0sSB"),E=n("N52Z"),C=n("D4L/"),I=n("bHK9"),w=n("HO/Y"),S=n("qkTT"),T=n("lQgN"),R=n("xoiQ"),N=n("derf"),x=n("RAhH"),M=n("nNoG"),P=n("O/xh"),A=n("ukeO"),D=n("699E"),L=(m.b.string,m.b.string,m.b.bool,m.b.string,m.b.string,{image:null,classes:null,ariaHidden:!1,ariaRole:"img",ariaLabel:void 0});function q(e){var t=e.classes,n=e.image,r=e.ariaHidden,a=e.ariaRole,i=e.ariaLabel;if(!n)throw Error("Must Include image!");var o=O()("c-base-icon--medium_token",t);return v.a.createElement(A.a,{image:n,classes:o,size:D.a.medium,ariaHidden:r,ariaRole:a,ariaLabel:i})}q.displayName="MediumTokenBaseIcon",q.defaultProps=L;var F=q,B=(m.b.string,m.b.string,m.b.bool,m.b.string,m.b.string,{image:null,classes:null,ariaHidden:!1,ariaRole:"img",ariaLabel:void 0});function U(e){var t=e.classes,n=e.image,r=e.ariaHidden,a=e.ariaRole,i=e.ariaLabel;if(!n)throw Error("Must Include image!");var o=O()("c-base-icon--large_token",t);return v.a.createElement(A.a,{image:n,classes:o,size:D.a.large,ariaHidden:r,ariaRole:a,ariaLabel:i})}U.displayName="LargeTokenBaseIcon",U.defaultProps=B;var H=U,K=n("lwWk"),G=n("llxT"),V=n("mOAw"),z=n("u9my"),Y=n("s19S"),W=n("EHyS"),Q=n("jK7E"),X=n("XzsM");n("BQ0Q");n.d(t,"a",function(){return ee});var Z=new M.b("avatar"),J=(m.b.number.isRequired,m.b.string,m.b.string,m.b.bool,m.b.string,m.b.object,m.b.string,m.b.string,m.b.number,m.b.func,m.b.string,m.b.string,m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.oneOf(Object(p.a)(D.b)),m.b.bool,m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.func,m.b.bool,m.b.oneOfType([m.b.string,m.b.number]),m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.object,{userId:null,currentUserId:null,isAdHocMember:null,botId:null,botProfile:void 0,imageUrl:null,imageUrl2x:null,additionalOverlay:null,onClick:null,emoji:null,className:null,teamId:null,isExternal:!1,isRestricted:!1,isUltraRestricted:!1,isInToken:!1,tokenSize:void 0,memberIsHuman:!0,memberOrBotName:void 0,showTooltip:!1,showCard:!1,showBadge:!0,isInteractive:!0,clogLinkClick:h.a,tabIndex:"0",ariaHidden:void 0,featureReactMemberProfileCard:!1,canRenderEmoji:!1,featureSonicEmoji:!1,featureSkBaseIcon:!1,forceSkBaseIcon:!1,experimentAvatarClickEditProfile:!1,team:void 0});function $(){var e=cdn_url+"/00b63/img/avatars/ava_0002-48.png",t=cdn_url+"/00b63/img/avatars/ava_0002-72.png 2x";return v.a.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:e,srcSet:t,alt:""})}$.displayName="renderEmojiFallback";var ee=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return b()(t,e),c()(t,[{key:"onClick",value:function(e){if(Object(W.a)(e))return null;e.preventDefault();var t=this.props,n=t.isInteractive,r=t.showCard,a=t.userId,i=t.botId,o=t.memberIsHuman,s=t.teamId,c=t.onClick,l=t.clogLinkClick,u=t.featureReactMemberProfileCard,d=t.currentUserId,b=t.experimentAvatarClickEditProfile;return n?(e.stopPropagation(),e.persist(),l(),c?c(e):u?null:!o&&i&&r?Object(z.a)(e,i,s):b&&a===d?Object(Q.a)():r&&o?Object(V.a)(e,a):Object(Y.i)(a,null)):null}},{key:"getSrcSetAttribute",value:function(){return this.props.imageUrl2x?this.props.imageUrl2x+" 2x":""}},{key:"getHrefAttr",value:function(){var e=this.props,t=e.userId,n=e.botId;return t?"/team/"+t:n?"/services/"+n:""}},{key:"renderImageOrEmoji",value:function(){var e=this.props,t=e.imageUrl,n=e.imageUrl2x,r=e.emoji;return t||n?this.renderImageTag():r?this.renderEmoji():null}},{key:"renderTokenAvatar",value:function(){var e=this.props,t=e.imageUrl,n=e.imageUrl2x,r=t||n;switch(e.tokenSize){case D.b.medium:return v.a.createElement(F,{image:r,ariaHidden:!0});case D.b.large:return v.a.createElement(H,{image:r,ariaHidden:!0});default:return null}}},{key:"renderImageTag",value:function(){return this.props.imageUrl||this.props.imageUrl2x?this.props.isInToken?this.renderTokenAvatar():this.props.featureSkBaseIcon||this.props.forceSkBaseIcon?v.a.createElement(A.a,{image:this.props.imageUrl||this.props.imageUrl2x,size:this.props.size,ariaHidden:!0}):v.a.createElement("img",{className:"c-avatar__image",src:this.props.imageUrl||this.props.imageUrl2x,srcSet:this.getSrcSetAttribute(),alt:""}):null}},{key:"renderEmoji",value:function(){var e=this.props,t=e.emoji,n=e.canRenderEmoji,r=e.featureSonicEmoji;return t?r&&!n?$():v.a.createElement(S.b,{className:"c-avatar__emoji",text:this.props.emoji,emojiSize:S.a.LARGE,renderFallback:r?null:$,forceDisplay:!0}):null}},{key:"renderAdditionalOverlay",value:function(){if(this.props.additionalOverlay){var e=this.props.additionalOverlay>9?"9+":"+"+this.props.additionalOverlay;return v.a.createElement("div",{className:"c-avatar__additional_overlay"},e)}return null}},{key:"renderBadgeElement",value:function(e){var t=e.tooltipText,n=e.className,r=v.a.createElement("span",{className:"c-avatar__badge_inner"});this.props.showTooltip&&(r=v.a.createElement(x.c,{tip:t},r));var a=O()("c-avatar__badge",n);return v.a.createElement("span",{className:a},r)}},{key:"renderBadge",value:function(){if(this.props.isExternal&&this.props.teamId)return v.a.createElement(N.b,{className:"c-avatar__team_icon",id:this.props.teamId,team:this.props.team,size:16,showTooltip:this.props.showTooltip});if(this.props.isUltraRestricted){return this.renderBadgeElement({tooltipText:function(){return Z.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,function(e){var t=e.text;return v.a.createElement("span",{className:"c-avatar__tooltip_detail"},t)})},className:"c-avatar__badge--ultra_restricted"})}if(this.props.isRestricted){return this.renderBadgeElement({tooltipText:function(){return Z.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,function(e){var t=e.text;return v.a.createElement("span",{className:"c-avatar__tooltip_detail"},t)})},className:"c-avatar__badge--restricted"})}return null}},{key:"render",value:function(){var e=this.props,t=e.isAdHocMember,n=e.imageUrl,r=e.imageUrl2x,i=e.emoji,o=e.isInteractive,s=e.className,c=e.size,l=e.showBadge,u=e.tabIndex,d=e.botId,b=e.botProfile,p=e.userId,h=e.featureReactMemberProfileCard,m=e.showCard,g=e.memberOrBotName,_=O()(s,"c-avatar",{"c-avatar--no_image":!(n||r||i),"c-avatar--interactive":o&&!t,"c-avatar--ad_hoc_member":t}),y={height:c+"px",lineHeight:c+"px",width:c+"px"},j=void 0;h&&!d||(j=o&&this.getHrefAttr());var k=void 0;h&&(k=g&&(o||j)&&Z.t("View {name}\u2019s Profile",{name:g}));var E=this.renderImageOrEmoji(),C=v.a.createElement(f.Fragment,null,E,l&&c>=32&&this.renderBadge(),this.renderAdditionalOverlay());return C=j?v.a.createElement(K.a,a()({href:j,target:"_blank",rel:"noopener noreferrer",style:y,className:_,onClick:this.onClick,tabIndex:u,"aria-hidden":this.props.ariaHidden,"aria-label":k},Object(T.a)(this.props)),C):o?v.a.createElement(G.a,a()({style:y,className:_},Object(T.a)(this.props),{"aria-hidden":this.props.ariaHidden,"aria-label":k,tabIndex:u}),C):v.a.createElement("span",a()({style:y,className:_},Object(T.a)(this.props),{"aria-hidden":this.props.ariaHidden}),C),h&&o&&m?v.a.createElement(P.a,a()({botId:d,userId:p,botProfile:b,onClick:this.onClick},Object(T.a)(this.props)),C):C}}]),t}(f.PureComponent);ee.displayName="Avatar",ee.defaultProps=J;t.b=Object(g.b)(function(e,t){var n=t.user,r=t.userId,a=t.botId,i=t.botProfile,o=t.size,s=t.icons,c=t.emoji,l=t.slackbotFeels,u=Object(C.d)(e),d=u&&u.id,b=Object(w.b)(e),p=null,h=null,m=void 0,f=void 0,v=void 0,g=void 0,_=c,O=void 0,S=!0,T=void 0;if(n||r){var N=n||Object(y.c)(e,r);if(N&&!N.isUnknown&&!N.is_unknown){a||(S=!(O=Object(j.n)(N)));var x=Object(R.a)({size:o,teamId:N.team_id,memberId:N.id,avatarHash:N.profile.avatar_hash,slackbotFeels:l});p=x.imageUrl,h=x.imageUrl2x,m=N.team_id,f=t.isExternal||N.is_external,v=N.is_restricted,g=N.is_ultra_restricted,T=Object(j.P)(e,N)}}else{S=!1;var M=s||i&&i.icons;if(a&&!M){var P=Object(E.c)(e,a);P&&(M=P.icons,T=Object(k.a)(P))}if(!_&&M&&(_=M.emoji),!_){var A=Object(R.a)({size:o,botImages:M,isBot:!0});p=A.imageUrl,h=A.imageUrl2x}if(i&&i.team_id){m=i.team_id;var D=u&&u.enterprise_id;f=i.team_id!==d&&!D}}var L="profile_click"===Object(X.c)(e,"newxp_2182")||"new_avatars_profile_click"===Object(X.c)(e,"newxp_2182");return{imageUrl:p,imageUrl2x:h,emoji:_,canRenderEmoji:Object(I.l)(e,{text:_,teamId:m||d}),teamId:m,isExternal:f,isRestricted:v,isUltraRestricted:g,memberIsHuman:S,memberOrBotName:T,botId:O||a,featureReactMemberProfileCard:Object(w.j)(e,"feature_react_member_profile_card"),featureSonicEmoji:Object(w.j)(e,"feature_sonic_emoji"),featureSkBaseIcon:Object(w.j)(e,"feature_sk_base_icon"),experimentAvatarClickEditProfile:L,currentUserId:b}})(ee)},IJ5d:function(e,t,n){},IRiz:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var r=n("aK/h"),a=n("4zXV"),i=n("yHhI"),o=n("om+M"),s=Object(o.a)("Fetch highlights for a channel given a set of timestamps",function(){return Promise.resolve({messagesByChannel:[],requestId:""})});s.propTypes={channelId:r.b.string.isRequired,timestamps:r.b.array.isRequired,lastReadTs:r.b.string.isRequired,prevChannelSwitchTs:r.b.string};var c=Object(o.a)("Set the feedback received for a specific highlight",function(){return Promise.resolve(null)});c.propTypes={args:r.b.object.isRequired,requestId:r.b.string};var l=Object(o.a)("Fetch highlights from channel insights for a channel",function(e,t,n){return e(Object(a.a)({method:"channels.insights",args:{channel:n,modules:"highlights"},reason:"channel-details-insights"})).then(function(e){return{highlightMsgs:e.top_messages}}).catch(function(e){return Object(i.a)({getState:t}).error(e)})});l.propTypes={channelId:r.b.string};var u=Object(o.a)("Fetch highlights from channel insights for a channel",function(e,t,n){return e(Object(a.a)({method:"channels.insights",args:{channel:n,modules:"top_contributors,similar_channels"},reason:"channel-details-channel-insights"})).then(function(e){return{resp:e}}).catch(function(e){return Object(i.a)({getState:t}).error(e)})});u.propTypes={channelId:r.b.string}},ITcr:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m});var r=n("QbLZ"),a=n.n(r),i=n("nNoG"),o=n("aLpA"),s=n("clTI"),c=n("HO/Y"),l=n("6kok"),u=n("Qrgz"),d=new i.b("broadcast_keywords");function b(e){var t="BKgroup"===e?"BKchannel":e;return o.f[t]?a()({id:t,name:p(o.f[t]),description:h(o.f[t])},o.f[t]):null}function p(e){if(!e)return"";switch(e.ms_name){case"channel":return d.t("channel");case"everyone":return d.t("everyone");case"here":return d.t("here");default:return e.ms_name||""}}function h(e){switch(e&&e.ms_name){case"channel":case"group":return d.t("Notify everyone in this channel.");case"everyone":return d.t("Notify everyone in your workspace.");case"here":return d.t("Notify every online member in this channel.",{fallbackHash:"1588b5d37a69c79ca40cb3117d6ddfaafac40bea"});default:return""}}function m(e,t){var n=Object(s.d)(e,t);if(!n)return[];if(Object(c.m)(e)&&Object(l.Bb)(n)&&Object(l.rb)(n))return[];var r=[];return Object(u.e)(e,t)&&r.push(b("BKeveryone")),(Object(l.yb)(n)||Object(l.xb)(n)||Object(l.lb)(n))&&(!Object(l.cb)(n)||Object(u.e)(e,t))&&Object(u.d)(e,t)&&(r.push(b("BKchannel")),r.push(b("BKhere"))),r}},ITju:function(e,t,n){},IVup:function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=n("PR8O"),i=Object(r.b)("/slackmediainfo slash command",function(){Object(a.a)()&&window.open("chrome://media-internals/")});t.default=i},IWeC:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("TSYQ"),m=n.n(h),f=n("XHGt"),v=n("HO/Y"),g=n("1zbP"),_=n("6kok"),O=n("hOQf"),y=n("clTI"),j=n("llxT"),k=n("HvGc"),E=n("nNoG"),C=n("od5y"),I=(n("Cjw+"),new E.b("message")),w=(p.b.object.isRequired,p.b.string,p.b.object,p.b.string,p.b.func.isRequired,p.b.string,p.b.string,p.b.bool.isRequired,{className:null,channel:void 0,channelName:void 0,flexOrigin:"starred_items",flexOriginId:void 0}),S=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(){var e=this.props,t=e.msg,n=e.flexOrigin,r=e.flexOriginId,a=t.channel,i=t.ts,o=t.thread_ts;this.props.showThread({channelId:a,threadTs:o,highlightTs:i,origin:n,originId:r})}},{key:"renderChannelName",value:function(){var e=this.props,t=e.channel,n=e.channelName,r=void 0;return Object(_.yb)(t)?r="channel":Object(_.xb)(t)&&(r="lock"),b.a.createElement(b.a.Fragment,null,r&&b.a.createElement(C.b,{className:m()("c-message_kit__inline_channel_context_icon","c-message_kit__inline_channel_context_icon--"+r),type:r,inline:!0,size:"inherit"}),Object(_.eb)(t)?I.t("Direct Message"):n)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.msg,r=e.className,a=e.featureMessageBlocks;if(!t)return null;if(Object(g.e)(t))return null;var i=m()("c-message_kit__inline_channel_context","bold",r),o=this.renderChannelName();return Object(O.ib)(n)?b.a.createElement(j.a,{className:i,onClick:this.onClick},a?I.rt("Thread in {channelName}",{channelName:o}):b.a.createElement(b.a.Fragment,null,"Thread in ",o)):b.a.createElement("div",{className:i},o)}}]),t}(b.a.PureComponent);S.displayName="InlineChannelContext",S.defaultProps=w;var T={showThread:function(){return k.l.apply(void 0,arguments)}};t.a=Object(f.b)(function(e,t){var n=t.msg,r=Object(y.d)(e,n.channel,!0);return{channel:r,channelName:Object(_.x)(e,r,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),featureMessageBlocks:Object(v.j)(e,"feature_message_blocks")}},T)(S)},IY6O:function(e,t,n){"use strict";n.r(t),n.d(t,"getAllWorkspaces",function(){return s}),n.d(t,"getNumberOfWorkspaces",function(){return c}),n.d(t,"getWillNavigateToUnbootedWorkspaceId",function(){return l}),n.d(t,"getWorkspacesMeta",function(){return u}),n.d(t,"getWorkspaceMetaBySubdomain",function(){return d}),n.d(t,"getFocusedWorkspace",function(){return b}),n.d(t,"getRecentlyFocusedWorkspaces",function(){return p}),n.d(t,"getBootedWorkspaces",function(){return h}),n.d(t,"getBootedWorkspacesByOrg",function(){return m}),n.d(t,"getFailedToBootWorkspaces",function(){return f}),n.d(t,"getNextWorkspace",function(){return v}),n.d(t,"getPreviousWorkspace",function(){return g}),n.d(t,"isWorkspaceBooted",function(){return _}),n.d(t,"hasWorkspaceFailedToBoot",function(){return O}),n.d(t,"isWorkspaceMigrating",function(){return y}),n.d(t,"isWorkspaceAccessLimited",function(){return j}),n.d(t,"isWorkspaceExpired",function(){return k});var r=n("NFsq"),a=n("CpTu"),i=n("U/ze"),o=n("Z7Ay"),s=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.allWorkspaces}),c=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.allWorkspaces&&e.workspaces.allWorkspaces.length}),l=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.willNavigateToUnbootedWorkspaceId}),u=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.workspacesMeta}),d=Object(i.b)(function(e,t){var n=u(e);return Object(a.a)(n,function(e){return e.url&&e.url.startsWith("https://"+t+".")})}),b=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.focusedWorkspace}),p=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.recentlyFocusedWorkspaces}),h=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.bootedWorkspaces}),m=Object(i.b)(function(e,t){var n=u(e);return h(e).filter(function(e){var r=n[e];return r.enterprise_id&&r.enterprise_id===t})}),f=Object(i.b)(function(e){return e&&e.workspaces&&e.workspaces.failedToBootWorkspaces}),v=function(e){var t=s(e),n=b(e),r=t.indexOf(n);return t[(r+1)%t.length]},g=function(e){var t=s(e),n=b(e),r=t.indexOf(n);return t[(r+t.length-1)%t.length]},_=Object(i.b)(function(e,t){return e&&e.workspaces&&e.workspaces.bootedWorkspaces&&e.workspaces.bootedWorkspaces.includes(t)}),O=Object(i.b)(function(e,t){return!!(e&&e.workspaces&&e.workspaces.failedToBootWorkspaces&&Object(r.a)(e.workspaces.failedToBootWorkspaces,t))}),y=Object(i.b)(function(e,t){return!!(e&&e.workspaces&&e.workspaces.migratingWorkspaces&&Object(r.a)(e.workspaces.migratingWorkspaces,t))}),j=Object(i.b)(function(e,t){return!!(e&&e.workspaces&&e.workspaces.accessLimitedWorkspaces&&Object(r.a)(e.workspaces.accessLimitedWorkspaces,t))}),k=Object(i.b)(function(e,t){var n=u(e);return!!(n&&n[t]&&n[t].isExpired)});Object(o.a)("workspacesStoreSelectors",{isWorkspaceBooted:_,getAllWorkspaces:s,getWorkspacesMeta:u,getFocusedWorkspace:b,getBootedWorkspaces:h,getWillNavigateToUnbootedWorkspaceId:l})},Ia0u:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("U/ze"),a=Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.org_prefs&&e.prefs.enterprise.org_prefs[t]});Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.locked_prefs&&e.prefs.enterprise.locked_prefs[t]}),Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.unlocked_prefs&&e.prefs.enterprise.unlocked_prefs[t]})},Ia5v:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=Object(c.b)("Add an external team id to the store");u.propTypes=s.b.shape({id:s.b.string}).isRequired;var d=Object(l.b)(a()({},u,function(e,t){if(!t)return e;var n=t.id;return!n||e[n]?e:o()({},e,a()({},n,!0))}),{},{persistenceEnabled:!0});d.propTypes=s.b.shape({id:s.b.string}),t.b=d},Idin:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r=n("jo6Y"),a=n.n(r),i=n("aK/h"),o=n("om+M"),s=n("4zXV"),c=n("yHhI"),l=Object(o.a)("Fetch help issues",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reason,i=a()(n,["reason"]);return e(Object(s.a)({method:"help.issues.list",args:i,reason:r})).catch(function(e){throw Object(c.a)("Failed to get list of issues for a user"),e})}),u=Object(o.a)("Fetch help articles",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reason,i=a()(n,["reason"]);return e(Object(s.a)({method:"helpdesk.get",args:i,reason:r})).catch(function(e){throw Object(c.a)("Failed to get list of articles for a user"),e})}),d=Object(o.a)("Fetch help center tracking token",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reason,i=a()(n,["reason"]);return e(Object(s.a)({method:"helpcenter.trackingToken",args:i,reason:r})).catch(function(e){throw Object(c.a)("Failed to get help center tracking token for user"),e})});l.propTypes={reason:i.b.string.isRequired},u.propTypes={locale:i.b.string,reason:i.b.string.isRequired},d.propTypes={reason:i.b.string.isRequired}},Ih8g:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Set the opened_this_session prop for a channel");d.propTypes={channelId:s.b.string.isRequired,openedThisSession:s.b.bool.isRequired};var b=Object(l.b)(a()({},d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.openedThisSession;return e.channelId===r?e:o()({},e,a()({},n,r))}),{},{persistenceEnabled:!1});b.propTypes=s.b.objectOf(s.b.bool),t.a=b;var p=Object(u.b)(function(e,t){return e&&e.channelsMeta&&e.channelsMeta.openedThisSession&&e.channelsMeta.openedThisSession[t]})},IhBA:function(e,t,n){"use strict";var r=n("Tg3t"),a=n("nNoG"),i=n("ICFZ"),o=n("N0/W"),s=n("lhZz"),c=n("P9LH"),l=n("g5qt"),u=n("yJbr"),d=n("ROZo"),b=Object(d.b)("TS.ui.file_share.fileShowPublicUrlDialog",function(){return null}),p=n("Jjev"),h=n("Smdl"),m=new a.b("file");t.a=function(e){var t=e.file,n=e.actions,a=e.isSnippet,d=e.fileRefreshState,f=e.clogLinkClick,v=e.refreshFile,g=e.includeDownload,_=e.onDownload,O=e.includeStar,y=e.updateStar,j=e.renameFile,k=e.openWindow,E=e.previewFile,C=e.deleteFile,I=e.teamId,w=e.inFileDetails,S=e.featureModernDeleteFile,T=e.removePreview,R=e.openFilePublicUrlDialog,N=e.createPublicFileUrlAndOpenDialog,x=e.featureOfflineMode,M=e.isOffline,P=Object(c.g)(t)?t.permalink+"?origin_team="+I:t.permalink,A=[{label:m.t("View details"),show:!w,click:function(){f({link_action:"file_preview_action"}),E({fileId:t.id})},dataQa:"view_file_details"},{type:"separator",key:"separator-view-details",show:!w},{label:m.t("Copy link to file"),show:n.copy_file_link,click:function(){f({subtype:"copy_link"}),Object(i.b)(P)},dataQa:"copy_file_link"},{label:Object(c.L)(t)?m.t("Unstar file"):m.t("Star file"),show:O,click:function(){return y(!Object(c.L)(t),{file:t.id})},dataQa:"star_file"},{label:a?m.t("View raw"):m.t("Open original"),target:t.id,href:t.url_private,show:n.open_original,click:function(){f({file_action:"file_new_window_link"})},dataQa:"open_original"},{label:m.t("Download"),href:l.X?null:t.url_private_download,show:g&&n.download,disabled:x&&M,showOfflineIcon:x&&M,click:function(e){return _(e)},dataQa:"download_action"},{type:"separator",key:"separator-edit"},{label:n.edit?m.t("Edit in new window"):m.t("Open in new window"),show:n.new_window&&w,href:P,target:"_blank",click:function(e){return k(e)}},{label:m.t("Rename\u2026",{fallbackHash:"5626fb9e3a6e9fa6d2549335b97332589f33a113"}),show:n.edit_title,disabled:x&&M,showOfflineIcon:x&&M,click:function(){j()},dataQa:"rename_file"},{label:t.public_url_shared?m.t("View external link\u2026",{fallbackHash:"5462c90a038c7d8e8a9b0388c475f6e85f05328b"}):m.t("Create external link\u2026",{fallbackHash:"10b5ab3ccfa2ce65de60e98b49eb99da08b3b459"}),show:(n.create_public_link||n.revoke_public_link)&&"docs"!==t.mode,disabled:x&&M,showOfflineIcon:x&&M,click:function(){Object(h.a)()?t.public_url_shared?R({fileId:t.id}):N({fileId:t.id}):t.public_url_shared?b(t):Object(u.c)(t,function(e){return e&&b(t.id)})},dataQa:t.public_url_shared?"view_external_link":"create_external_link"},{label:m.t("Print\u2026",{fallbackHash:"9969e64f94e50d95c24e5099e97fbb2b972909bf"}),show:n.print,click:window.print},{label:m.t("Save to Dropbox\u2026",{fallbackHash:"0e52a271aea04a7c49d5b385151d21c0a4a83647"}),show:n.save_to_dropbox,disabled:x&&M,showOfflineIcon:x&&M,click:function(){return Object(s.dispatchForTeamId)(I,Object(o.l)(t))}},{label:function(){switch(d){case r.a.READY:return m.t("Refresh file\u2026",{fallbackHash:"2ccdf2bc95df724e4a7eae72a9383c7a6345dc59"});case r.a.REFRESHING:return m.t("Refreshing\u2026",{fallbackHash:"47c017d0f1fba332c37fd7706db028ffcd0b796e"});case r.a.ERROR:return m.t("Refresh failed.");case r.a.DONE:return m.t("File refreshed!");default:return m.t("Refresh file\u2026",{fallbackHash:"2ccdf2bc95df724e4a7eae72a9383c7a6345dc59"})}}(),show:n.refresh,disabled:x&&M,showOfflineIcon:x&&M,click:function(){v({fileId:t.id})},dataQa:"refresh_file_button"},{type:"separator",key:"separator-delete"},{label:m.t("Remove Preview"),show:n.remove_pdf_preview,disabled:x&&M,showOfflineIcon:x&&M,click:T,dataQa:"remove_preview"},{label:t.is_external?m.t("Delete file from Slack"):m.t("Delete file"),show:n.delete_file,disabled:x&&M,showOfflineIcon:x&&M,danger:!0,click:function(){return S?C():Object(p.b)(t.id)},dataQa:"delete_file"}];return A=A.filter(function(e){return e&&(e.show||"separator"===e.type)})}},Iq5H:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("XHGt"),c=n("TSYQ"),l=n.n(c),u=n("aK/h"),d=n("DQNL"),b=n("pGee"),p=n("A+cF"),h=n("kd6D"),m=n("od5y"),f=n("9mdM"),v=(n("JfyJ"),{unknown:"unknown",nonexistent:"non-existent"}),g=(u.b.string,u.b.object,u.b.bool,{className:void 0,userGroup:void 0,invert:!1}),_=function(e){var t=Object(d.h)(e);return o.a.createElement("span",{className:"c-user_group__name c-small_user_group__name"},t)};_.displayName="renderName";var O=function(e){var t=Object(d.e)(e);return o.a.createElement("span",{className:"c-small_user_group__description"},t)};function y(e){var t=e.className,n=e.invert,r=e.userGroup,i=!Object(d.u)(r);if(Object(d.s)(r)||Object(d.r)(r)){var s=l()("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":n});return o.a.createElement("div",{className:"c-small_user_group__missing"},o.a.createElement(m.b,{className:s,type:"user_groups"}),o.a.createElement(f.a,{type:Object(d.s)(r)?v.unknown:v.nonexistent,invert:n}))}var c=i?h.c.dim:null;return n&&(c=h.c.highlightDark),o.a.createElement(p.d,{avatar:function(e){return o.a.createElement(m.b,a()({},e,{type:"user_groups"}))},className:t,size:"small",style:c,text:o.a.createElement(p.c,null,_(r),O(r))})}O.displayName="renderDescription",y.displayName="SmallUserGroupEntity",y.defaultProps=g,t.a=Object(s.b)(function(e,t){var n=t.id;return{userGroup:t.group||Object(b.e)(e,n)}})(y)},Iq6W:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"l",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return v});var r=n("aK/h"),a=n("yPgC"),i=n("EzZj"),o=Object(i.b)("Add messages");o.propTypes=r.b.arrayOf(r.b.object).isRequired;var s=Object(i.b)("Replace messages");s.propTypes=r.b.arrayOf(r.b.object).isRequired;var c=Object(i.b)("Remove a message");c.propTypes={channel:r.b.string.isRequired,ts:r.b.string.isRequired};var l=Object(i.b)("Remove all messages prior to a given timestamp");l.propTypes={channel:r.b.string.isRequired,oldestAllowableTs:r.b.string.isRequired};var u=Object(i.b)("Remove all messages for a channel");u.propTypes={channelId:r.b.string.isRequired};var d=Object(i.b)("Hide a thread broadcast");d.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired};var b=Object(i.b)("Show a thread broadcast");b.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired};var p=Object(i.b)("Edit the text of a message");p.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,text:r.b.string,blocks:a.a.BlockKitBlocks,memberId:r.b.string,editTs:r.b.string};var h=Object(i.b)("Set pending state of attachment action and parent attachment");h.propTypes={channelId:r.b.string.isRequired,messageTs:r.b.string.isRequired,attachmentId:r.b.string.isRequired,actionId:r.b.string.isRequired,isPending:r.b.bool};var m=Object(i.b)("Set showing state of attachment action loading spinner");m.propTypes={channelId:r.b.string.isRequired,messageTs:r.b.string.isRequired,attachmentId:r.b.string.isRequired,isShowing:r.b.bool};var f=Object(i.b)("Removes the attachment");f.propTypes={channelId:r.b.string.isRequired,messageTs:r.b.string.isRequired,attachmentId:r.b.string.isRequired};var v=Object(i.b)("Removes all messages from all channels");v.propTypes=null},IwIE:function(e,t,n){},IyaR:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("Dpjh"),h=n("ifKl"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("XHGt"),_=n("mM05"),O=n.n(_),y=n("HO/Y"),j=n("uf9I"),k=n("XzsM"),E=n("clTI"),C=n("AITD"),I=n("NAkb"),w=n("2Y1Y"),S=n("aLpA"),T=n("mLe0"),R=n("a+Oh"),N=n("eglI"),x=n("oxKW"),M=n("9kTo"),P=n("Pe1S"),A=(n("U/6N"),v.b.string,v.b.string,v.b.object,v.b.string,v.b.string,v.b.object,v.b.bool,v.b.bool,v.b.bool,v.b.func,v.b.string,v.b.string,v.b.bool,v.b.func,v.b.func,v.b.bool,v.b.bool,v.b.bool,v.b.number,{channelId:void 0,teamId:void 0,legacyChannel:void 0,threadTs:void 0,text:"",initialContents:void 0,enabled:!0,useJumbomoji:!0,enableBroadcastKeywords:!0,onTextChange:h.a,ariaLabel:void 0,placeholder:null,focusOnMount:!1,onEnter:h.a,onEscape:h.a,featureSonicInputs:!1,clientToolBar:!1,featureWysiwygComposer:!1,maxLines:3}),D=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setTextyRef=n.setTextyRef.bind(n),n.onTextChange=n.onTextChange.bind(n),n.renderInput=n.renderInput.bind(n),n.onEnter=n.onEnter.bind(n),n.state={numCharsOverLimit:n.countCharsOverLimit()},n}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.featureWysiwygComposer||""===e.text&&this.texty.clear()}},{key:"onEnter",value:function(e){return!(!e||!e.shiftKey)||this.props.onEnter()}},{key:"onTextChange",value:function(){var e=this.props.featureWysiwygComposer,t=this.state.numCharsOverLimit,n=void 0,r=void 0;e?r=e?this.getTextContents():void 0:n=this.getText();var a=this.countCharsOverLimit(),i=a>0||t>0;i&&this.setState(function(){return{numCharsOverLimit:a}}),this.props.onTextChange({text:n,msgOps:r,overLimit:i})}},{key:"setTextyRef",value:function(e){this.texty=e&&e.getWrappedInstance?e.getWrappedInstance():e}},{key:"getText",value:function(){var e=this.props,t=e.text,n=e.featureSonicInputs;return e.featureWysiwygComposer?null:this.texty?n?this.texty.value():Object(w.i)(this.texty.value(),{enableBroadcastKeywords:this.props.enableBroadcastKeywords}):t||""}},{key:"getTextContents",value:function(){var e=this.props,t=e.featureWysiwygComposer,n=e.initialContents;if(!t)return null;if(!this.texty)return n&&n.contents;var r=this.texty.getContents();return r&&r.contents}},{key:"focus",value:function(){this.texty&&this.texty.focus()}},{key:"countCharsOverLimit",value:function(){var e=this.props,t=e.featureSonicInputs,n=e.featureWysiwygComposer,r=void 0;if(t&&n){var a=this.getTextContents();r=Object(T.a)(new O.a(a))}else r=this.getText().length;return Math.max(0,r-S.y)}},{key:"renderLegacyAutocomplete",value:function(){var e=this,t=this.props,n={searchOptions:{model_ob:t.legacyChannel,in_thread:!!t.threadTs},tabcomplete:{positionMenu:function(t){t.style.width=e.texty.container.offsetWidth+"px",Object(I.a)(t,e.texty.container)},completers:["channels","emoji","members"]}};return this.renderInput({modules:n})}},{key:"renderModernAutocomplete",value:function(){var e={enabled:this.props.enabled};return f.a.createElement(x.a,a()({completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,channelId:this.props.channelId,renderInput:this.renderInput,shouldCompleteOnTab:!0,position:"bottom"},e))}},{key:"renderInput",value:function(e){var t=e.modules,n=e.isOpen,r=e.legacyTextyClassName,i=this.props,o=i.teamId,s=i.featureSonicInputs,c=i.clientToolBar,l=i.featureWysiwygComposer,u=i.maxLines,d=i.text,b=i.initialContents,h=c||l||Object(M.a)()?a()({},Object(P.a)({featureWysiwygComposer:l}),{teamId:o}):null,m=l?b:d;return f.a.createElement(N.default,{id:"share-dialog-message-input",className:"p-share_dialog_message_input",ref:this.setTextyRef,channelId:this.props.channelId,modules:a()({composer:h},t),isAutocompleteOpen:n,legacyTextyClassName:r,ariaLabel:this.props.ariaLabel,initialText:m,placeholder:Object(p.a)(this.props.placeholder),enableBroadcastKeywords:this.props.enableBroadcastKeywords,enableJumbomoji:this.props.useJumbomoji,onEnter:this.onEnter,onEscape:this.props.onEscape,onTextChange:this.onTextChange,isDisabled:!this.props.enabled,focusOnMount:this.props.focusOnMount,useLegacyCreate:!s,maxLines:u,minLines:3,maxLength:S.y})}},{key:"render",value:function(){return this.props.featureSonicInputs?this.renderModernAutocomplete():this.renderLegacyAutocomplete()}}]),t}(m.PureComponent);D.displayName="ShareDialogMessageInput",D.defaultProps=A,t.a=Object(g.b)(function(e,t){var n=t.channelId,r=Object(y.j)(e,"feature_sonic_inputs");return{legacyChannel:r?null:Object(E.d)(e,n),useJumbomoji:Object(C.a)(e),teamId:Object(j.b)(e),featureSonicInputs:r,clientToolBar:"composer_toolbar"===Object(k.c)(e,"composer_toolbar"),featureWysiwygComposer:Object(R.a)(e)}},null,null,{withRef:!0})(D)},J47P:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return p});var r=n("QbLZ"),a=n.n(r),i=n("OZf9"),o=n("aK/h"),s=n("6FZx"),c=n("yHhI"),l=n("rWF5"),u="_isSlackSubmenuItem",d=a()({},s.d,{kbNavActive:o.b.bool,stealKBNav:o.b.func,returnKBNav:o.b.func,preventHighlightChange:o.b.func,allowHighlightChange:o.b.func});function b(e){return!!e[u]}function p(e){if(l.k){var t=e.propTypes||{},n=void 0;Object.defineProperty(e,"propTypes",{get:function(){return n},set:function(t){var r=e.displayName||e.name||"Component";Object(i.a)(d,function(e,n){var a=t[n];a&&a!==e&&a!==e.isRequired&&Object(c.b)().warn(r+"'s "+n+" prop type doesn't match submenu")}),n=a()({},d,t)}}),e.propTypes=t}return e[u]=!0,e[s.a]=!0,e}},JHHQ:function(e,t,n){"use strict";var r=n("NZ+B"),a=n("zmn3"),i=n("Z0Cl"),o=n("aK/h"),s=n("XfeM"),c=n("TcTh"),l=n("M+2+"),u=n("Iq6W"),d=n("1Vww"),b=n("QWnR"),p=n("uf9I"),h=n("2HDu"),m=n("+1yX"),f=n("mI5s"),v=n("HO/Y"),g=n("qlK9"),_=n("yHhI"),O=n("Zr7G"),y=Object(s.b)("Add messages from history",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.msgs,s=n.channelId,y=n.isLimited,j=n.latest,k=n.oldest,E=n.hasMore,C=n.loading,I=n.forceUnreadCount,w=n.deleted,S=void 0===w?[]:w,T=t(),R=Object(O.c)({getState:t});Object(v.j)(T,"feature_tinyspeck")&&R.mark("rmsgs_addMessagesFromHistory");var N=Object(i.a)(o,function(e){var n=Object(f.c)(T,{channelId:s,ts:e.ts});return n&&Object(_.a)({getState:t}).warn("Filtering out "+e.ts+" in "+s+" history response because it was deleted"),!n}),x=Object(a.a)(N,"ts"),M=Object(m.a)(s)?s:Object(h.a)(s).channelId;Object(v.j)(T,"feature_message_history_cfm")&&M&&Object(l.b)(Object(p.b)(T),M,x),Object(v.j)(T,"feature_degraded_send")?e(Object(u.i)(N)):e(Object(u.a)(N)),e(Object(c.b)({channelId:s,timestamps:x,isLimited:y,latest:j,oldest:k,hasMore:E,loading:C,forceUnreadCount:I})),Object(r.a)(C)&&e(C?Object(b.f)({channelId:s,loadingOlder:!!j}):Object(b.c)({channelId:s})),Object(v.j)(T,"feature_tinyspeck")&&R.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),Object(v.j)(T,"feature_degraded_send")&&S.forEach(function(t){return e(Object(d.a)({deleted_ts:t,channel:M}))}),Object(v.j)(T,"feature_degraded_send")&&N.forEach(function(n){return Object(g.b)(t,e,n,n)})});y.propTypes={msgs:o.b.arrayOf(o.b.object).isRequired,channelId:o.b.string.isRequired,isLimited:o.b.bool,latest:o.b.string,oldest:o.b.string,hasMore:o.b.oneOfType([o.b.bool,o.b.shape({hasMoreStart:o.b.bool,hasMoreEnd:o.b.bool})]),loading:o.b.bool,forceUnreadCount:o.b.bool},t.a=y},JS8a:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("TSYQ"),g=n.n(v),_=n("yHhI"),O=n("PJXc");function y(e){return f.a.Children.toArray(function e(t){return t instanceof Array?t.map(function(t){return e(t)}):t&&t.type===f.a.Fragment?e(t.props.children):t}(e))}var j=n("oLrU"),k=n("6FZx"),E=n("1Y60");n("tGxD");n.d(t,"b",function(){return R});h.b.node.isRequired,h.b.string,h.b.func,h.b.func,h.b.func,h.b.bool,h.b.oneOfType([h.b.number,h.b.string]),h.b.bool,h.b.bool,h.b.bool,h.b.func,h.b.func,h.b.string;var C={menuClassNames:void 0,onMenuItemSelected:p.a,onTriggerClose:p.a,onCloseSubmenu:p.a,width:300,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,temporaryCustomStatusOverrideMakeMenuInaccessibleForKeyboard:void 0,preventHighlightChange:p.a,allowHighlightChange:p.a,"data-qa":"menu"};function I(e){var t=e&&e.type;return t&&Object(k.c)(t)}function w(e){var t=e&&e.type;return t&&Object(O.b)(t)}function S(e){var t=e&&e.type;return t&&Object(E.b)(t)}var T=0;function R(){return T>0}var N={ArrowUp:"up",Up:"up",ArrowDown:"down",Down:"down",ArrowLeft:"left",Left:"left",ArrowRight:"right",Right:"right",Escape:"esc"},x=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0},n.setAriaMenuRef=n.setAriaMenuRef.bind(n),n.onMenuKeyDown=n.onMenuKeyDown.bind(n),n.onMouseLeaveMenu=n.onMouseLeaveMenu.bind(n),n.onMenuItemSelected=n.onMenuItemSelected.bind(n),n.allowHighlightChange=n.allowHighlightChange.bind(n),n.preventHighlightChange=n.preventHighlightChange.bind(n),n.activateKBNav=n.activateKBNav.bind(n),n.activeMenuId="menu-"+Object(j.a)(),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.kbNavActive&&!this.props.temporaryCustomStatusOverrideMakeMenuInaccessibleForKeyboard&&this.ariaMenuNode.focus(),T+=1}},{key:"componentDidUpdate",value:function(e){this.props.kbNavActive&&this.props.kbNavActive!==e.kbNavActive&&this.activateKBNav()}},{key:"componentWillUnmount",value:function(){T-=1}},{key:"onMenuNavigation",value:function(e){if(!this.props.temporaryCustomStatusOverrideMakeMenuInaccessibleForKeyboard){var t=this.getIndexOfNextMenuItemInDirection(e);this.setState(function(){return{highlightedMenuItemIndex:t,highlightedMenuItemKbNavActive:!1}})}}},{key:"onMenuItemSelected",value:function(e,t){this.props.onMenuItemSelected(e,t)}},{key:"onMenuKeyDown",value:function(e){var t=this;if(this.props.kbNavActive){var n=N[e.key];if(n)switch(e.stopPropagation(),e.preventDefault(),n){case"up":case"down":this.onMenuNavigation(n);break;case"left":this.props.onCloseSubmenu(e);break;case"right":this.setState(function(){return{highlightedMenuItemKbNavActive:t.currentItemIsSubmenu()}});break;case"esc":this.props.onTriggerClose(e)}}}},{key:"onMouseLeaveMenu",value:function(){var e=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(function(){return{highlightedMenuItemIndex:e,contingentHighlightedMenuItemIndex:-1}})}},{key:"onMouseEnterMenuItem",value:function(e){var t=this.state.highlightCanChangeOnMouseMovement?e:this.state.highlightedMenuItemIndex;this.setState(function(){return{highlightedMenuItemIndex:t,contingentHighlightedMenuItemIndex:e,highlightedMenuItemKbNavActive:!1}}),this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode&&this.ariaMenuNode.focus()}},{key:"getAllMenuItemIndices",value:function(){var e=[];return y(this.props.children).forEach(function(t,n){(I(t)||w(t))&&e.push(n)}),e}},{key:"getIndexOfNextMenuItemInDirection",value:function(e){var t=this.getAllMenuItemIndices(),n=t.indexOf(this.state.highlightedMenuItemIndex),r=t.length-1;return"down"===e?t[n<r?n+1:0]:t[n-1>=0?n-1:r]}},{key:"setAriaMenuRef",value:function(e){this.ariaMenuNode=e}},{key:"currentItemIsSubmenu",value:function(){var e=this.state.highlightedMenuItemIndex;return!(e<0)&&(!!this.menuChildren&&w(this.menuChildren[e]))}},{key:"activateKBNav",value:function(){var e=this;this.ariaMenuNode.focus(),this.setState(function(t){return{highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:-1===t.highlightedMenuItemIndex?e.getIndexOfNextMenuItemInDirection("down"):t.highlightedMenuItemIndex}})}},{key:"preventHighlightChange",value:function(){this.setState(function(){return{highlightCanChangeOnMouseMovement:!1}}),this.props.preventHighlightChange&&this.props.preventHighlightChange()}},{key:"allowHighlightChange",value:function(){this.setState(function(e){return{highlightedMenuItemIndex:e.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0}}),this.props.allowHighlightChange&&this.props.allowHighlightChange()}},{key:"renderMenuItem",value:function(e,t){var n=this.onMouseEnterMenuItem.bind(this,t),r=this.state,i=r.highlightedMenuItemIndex,o=r.highlightedMenuItemKbNavActive,s=this.props.stripTerminalSeparators,c=a()({},e.props,{onMouseEnter:n,key:t});if((I(e)||w(e))&&(c.menuCallback=this.onMenuItemSelected,c.menuCallbackId=t,c.highlighted=i===t,c.activeMenuId=this.activeMenuId+"-"+t),w(e)&&(c.kbNavActive=c.highlighted&&o,c.returnKBNav=this.activateKBNav,c.preventHighlightChange=this.preventHighlightChange,c.allowHighlightChange=this.allowHighlightChange),S(e)&&s)if(this.menuChildren){if(S(this.menuChildren[t-1]))return null;c.noFirstChild=!0,c.noLastChild=!0}else Object(_.b)().warn("Menu.renderMenuItem called without this.menuChildren");return f.a.cloneElement(e,c)}},{key:"renderMenuItems",value:function(){return this.menuChildren=y(this.props.children),this.menuChildren.map(this.renderMenuItem,this)}},{key:"render",value:function(){var e=this.props,t=e.noMargin,n=e.menuClassNames,r=e["data-qa"],a=g()("c-menu__items",{"c-menu__items--no_margin":t}),i=g()("c-menu",n),o=-1!==this.state.highlightedMenuItemIndex?this.activeMenuId+"-"+this.state.highlightedMenuItemIndex:null;return f.a.createElement("div",{className:i,"data-qa":r,style:{width:this.props.width}},f.a.createElement("div",{className:"c-menu__items_scroller"},f.a.createElement("div",{"aria-activedescendant":o,ref:this.setAriaMenuRef,className:a,onKeyDown:this.onMenuKeyDown,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu",tabIndex:"-1","no-bootstrap":1},this.renderMenuItems())))}}]),t}(m.PureComponent);x.displayName="Menu",x.defaultProps=C;t.a=x},JVYW:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("sk9p"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("kxpR"),u=n.n(l),d=n("TSYQ"),b=n.n(d),p=n("CMvH"),h=n("iGrU"),m=n("aK/h"),f=n("UXvI"),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(l.useState)(0),r=o()(n,2),a=r[0],i=r[1],s=Object(l.useCallback)(function(e){i(e)},[]);return{onScroll:Object(l.useMemo)(function(){var e=Object(f.a)(s,160);return function(t){e(t.target.scrollTop)}},[s]),indicateTop:t>e&&a>0,indicateBottom:t>e&&a<t-e}},g=(n("vhF3"),m.b.node,m.b.string,m.b.bool,m.b.bool,function(e){var t=e.children,n=e.className,r=e.showScrollIndicatorTop,i=e.showScrollIndicatorBottom,s=c()(e,["children","className","showScrollIndicatorTop","showScrollIndicatorBottom"]),d=Object(l.useState)(null),m=o()(d,2),f=m[0],g=m[1],_=Object(l.useState)({containerHeight:null,containerWidth:null}),O=o()(_,2),y=O[0],j=y.containerHeight,k=y.containerWidth,E=O[1],C=Object(l.useCallback)(function(e){var t=e.client,n=t.height,r=t.width;E({containerHeight:n,containerWidth:r})},[]),I=v(j,f),w=I.onScroll,S=I.indicateTop,T=I.indicateBottom;return u.a.createElement(p.a,{client:!0,onResize:C},function(e){var o=e.measureRef;return u.a.createElement("div",a()({},s,{key:"c-sk-modal__content",className:b()("c-sk-modal_content",{"c-sk-modal_content--indicateTop":S&&r,"c-sk-modal_content--indicateBottom":T&&i},n),ref:o}),u.a.createElement(h.b,{width:k||0,height:j||0,contentHeight:f,onScroll:w,inheritSize:!0},u.a.createElement(p.a,{offset:!0,onResize:function(e){var t=e.offset.height;return g(t)}},function(e){var n=e.measureRef;return u.a.createElement("div",{className:"c-sk-modal__content__inner",ref:n},t)})))})});g.displayName="ModalContent",g.defaultProps={children:null,className:null,showScrollIndicatorTop:!0,showScrollIndicatorBottom:!0};t.a=g},JXW8:function(e,t,n){"use strict";var r=n("e9ZU");t.a=r.a},"JZ/c":function(e,t,n){"use strict";var r=n("sk9p"),a=n.n(r),i=n("fujP"),o=n("yHhI"),s=n("vFlG"),c={"<B:START>":"<B:END>","<I:START>":"<I:END>","<CODE:START>":"<CODE:END>","<STRIKE:START>":"<STRIKE:END>","<PRE:START>":"<PRE:END>","<QUOTE:START>":"<QUOTE:END>"},l={"<B:END>":"<B:START>","<I:END>":"<I:START>","<CODE:END>":"<CODE:START>","<STRIKE:END>":"<STRIKE:START>","<PRE:END>":"<PRE:START>","<QUOTE:END>":"<QUOTE:START>"},u=function(e){for(var t=e.slice(),n=[],r=function(e){var r=t[e];if(Object(s.a)(c,r))n.push(r);else if(Object(s.a)(l,r)){var i=l[r],o=n.lastIndexOf(i),u=n.slice(o+1);n.splice(o,1),u.slice().reverse().forEach(function(n){var r=c[n];t.splice(e,0,r),e+=1}),u.forEach(function(n){t.splice(e+1,0,n),e+=1})}a=e},a=0;a<t.length;a++)r(a);return t},d=n("hhQR"),b=n.n(d),p=n("X6iR");function h(e){if(Object(p.a)(e,"<!")){var t=function(e){var t=e.slice(2,-1).split("|"),n=a()(t,2),r=n[0],i=n[1],o=r.split("^"),s=b()(o);return{type:s[0],label:i,args:s.slice(1)}}(e),n=t.type,r=t.label,i=t.args;if("here"===n||"channel"===n||"everyone"===n||"group"===n)return{type:n};if("team"===n||"subteam"===n)return{type:n,label:r,id:a()(i,1)[0]};if("date"===n){var o=a()(i,3);return{type:n,label:r,ts:o[0],format:o[1],link:o[2]}}return{type:"unknown"}}}n.d(t,"a",function(){return v});var m={"<B:START>":{type:"bold",endToken:"<B:END>"},"<I:START>":{type:"italic",endToken:"<I:END>"},"<STRIKE:START>":{type:"strike",endToken:"<STRIKE:END>"},"<CODE:START>":{type:"code",endToken:"<CODE:END>"},"<QUOTE:START>":{type:"quote",endToken:"<QUOTE:END>"},"<PRE:START>":{type:"pre",endToken:"<PRE:END>"},"<QUOTE:PREFIX>":{type:"quote_prefix"},"<LONGQUOTE:PREFIX>":{type:"long_quote_prefix"},"<LINE:BREAK>":{type:"line_break"},"<PARA:BREAK>":{type:"paragraph_break"},"<SPACE:HARD>":{type:"space_hard"},"<HIGHLIGHT:START>":{type:"highlight",endToken:"<HIGHLIGHT:END>"}};function f(e){return e.reduce(function(e,t){return t.contents&&(e+=f(t.contents)+1),e+1},0)}function v(e){return Object(i.a)(e)?[]:function e(t,n){for(var r=[],i=0;i<t.length;i+=1){var s=t[i];if(s===n)break;if(Object.prototype.hasOwnProperty.call(m,s)){var c=m[s],l=c.type,u=c.endToken,d={type:l};u&&(d.contents=e(t.slice(i+1),u),i+=f(d.contents)+1),r.push(d)}else if(0===s.indexOf("<"))if(0===s.indexOf("<LINK:START")){var b={type:"link",contents:e(t.slice(i+1),"<LINK:END>"),url:s.slice(12,-1)};r.push(b),i+=f(b.contents)+1}else if(0===s.indexOf("<!")){var p=h(s);r.push({type:"command",data:p,token:s,fallback:s.slice(2,-1)})}else if(0===s.indexOf("<@")){var v=s.slice(2,-1).split("|"),g=a()(v,2),_=g[0],O=g[1];r.push({type:"member",id:_,fallback:O})}else if(0===s.indexOf("<#")){var y=s.slice(2,-1).split("|"),j=a()(y,2),k=j[0],E=j[1];r.push({type:"channel",id:k,name:E})}else 0===s.indexOf("<EMOJI:COLONS")?r.push({type:"emoji",name:s.slice(14,-1)}):0===s.indexOf("<JUMBOMOJI:COLONS")?r.push({type:"jumbomoji",name:s.slice(18,-1)}):0===s.indexOf("<HEX:BLOCK")?r.push({type:"hex",color:s.slice(11,-1)}):(r.push({type:"unknown",token:s}),Object(o.b)().warn("tokensToMessageContent: Failed to handle token",s));else r.push({text:s})}return r}(u(e))}},Jam5:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("tfYw"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("Cjy0"),f=n.n(m),v=n("kxpR"),g=n.n(v),_=n("Qaea"),O=n.n(_),y=n("oLrU"),j=f.a.import("blots/block/embed"),k={},E=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),c()(t,[{key:"index",value:function(e,t){return this.domNode.contains(e)?t:-1}}],[{key:"create",value:function(e,n){var r=b()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this),i=a()({},e);if(!i.embedId){var o=Object(y.a)();i.embedId="doc-embed-"+o}var s=g.a.createElement(n,i);return O.a.render(s,r),t.setPropsOnDOM(r,i),function(e,t){k[e]=t}(i.embedId,s),r}},{key:"value",value:function(e){return t.getPropsFromDOM(e)}},{key:"formats",value:function(e){return t.getPropsFromDOM(e)}},{key:"updateComponent",value:function(e,n){var r=e.dataset.embedId,a=g.a.cloneElement(function(e){return k[e]||null}(r),n);O.a.render(a,e),t.setPropsOnDOM(e,n)}},{key:"getPropsFromDOM",value:function(e){return a()({},e.dataset)}},{key:"setPropsOnDOM",value:function(e,t){Object.keys(t).forEach(function(n){"store"!==n&&(e.dataset[n]=t[n])}),e&&e.firstChild&&e.firstChild.dataset&&e.firstChild.dataset.isPrivate&&(e.dataset.isPrivate=!0)}},{key:"addClassesToContainer",value:function(e,t){e.classList.add(t)}},{key:"registerEmbeds",value:function(e){Array.isArray(e)?e.forEach(function(e){return f.a.register(e)}):"function"==typeof e&&f.a.register(e)}}]),t}(j);E.tagName="docsblockembed",t.a=E},JfyJ:function(e,t,n){},JgMF:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XHGt"),s=n("m/st"),c=n("tt0d"),l=n("lrhk"),u=(i.b.string.isRequired,i.b.object,function(e){var t=e.href,n=e.attachment;return t&&n?a.a.createElement("div",{className:"c-pillow_file__post__unfurl"},a.a.createElement(l.a,{key:t,msg:{text:n.from_url,ts:Object(c.a)(),url:n.from_url},attachment:n})):null});u.displayName="PostUnfurl",u.defaultProps={attachment:null};var d=Object(o.b)(function(e,t){return{attachment:Object(s.b)(e,t.href)}})(u);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.children,r=t.getDefaultOutput;if("DIV"===e.tagName&&e.classList.contains("unfurl-container")){var i=e.querySelector(".unfurl-placeholder");if(!i)return null;if(!i.href)return null;var o=i.href;return a.a.createElement(d,{key:o,href:o})}return r(e,{children:n})}n.d(t,"a",function(){return b})},Jjev:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("ROZo"),a=Object(r.b)("TS.view.files.clearFilter"),i=Object(r.b)("TS.view.files.delete")},Jn9h:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_={PENDING:"pending",LOADED:"loaded",LOADING:"loading",ERROR:"error"},O=(f.b.func,f.b.func,f.b.string,f.b.string.isRequired,function(e){function t(){c()(this,t);var e=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:_.PENDING},e}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;this.asyncLoader=new Image,this.asyncLoader.onload=function(){e.setState(function(){return{status:_.LOADED}})},this.asyncLoader.onerror=function(){e.setState(function(){return{status:_.ERROR}})},this.fetchImage()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.src,r=t.srcSet;e.src===n&&e.srcSet===r||this.setState(function(){return{status:_.LOADING}})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e&&t.status!==_.LOADING||this.state!==t}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.srcSet,r=t.src;e.src===r&&e.srcSet===n||this.fetchImage()}},{key:"componentWillUnmount",value:function(){this.abortImage()}},{key:"fetchImage",value:function(){var e=this.props,t=e.src,n=e.srcSet;this.asyncLoader.src=t,this.asyncLoader.srcset=n}},{key:"abortImage",value:function(){this.asyncLoader.onerror=m.a,this.asyncLoader.onload=m.a,this.asyncLoader.src="",this.asyncLoader.srcset=""}},{key:"render",value:function(){var e=this.props,t=e.renderError,n=e.renderPending,r=o()(e,["renderError","renderPending"]);switch(this.state.status){case _.LOADED:case _.LOADING:return g.a.createElement("img",a()({alt:""},r));case _.ERROR:return t();default:return n()}}}]),t}(g.a.Component));O.displayName="AsyncImage",O.defaultProps={renderError:function(){return null},renderPending:function(){return null},srcSet:""};var y=O;t.a=y},Jnln:function(e,t,n){"use strict";n.d(t,"f",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"h",function(){return v}),n.d(t,"g",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return y});var r=n("x91h"),a=n("clTI"),i=n("smxp"),o=n("DtX9"),s=n("9HJ0"),c=n("VjHM"),l=n("Fdc0"),u=n("6kok"),d=n("FXaq"),b=n("t3QL"),p=2097152;function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return void 0===Object(s.d)(e,t)&&(!1!==Object(c.g)(e,"expand_inline_imgs")&&!!(n>p&&Object(c.g)(e,"obey_inline_img_limit")))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(s.d)(e,t);return void 0!==r?r:!1!==Object(c.g)(e,"expand_inline_imgs")&&!h(e,t,n)}function f(e,t){var n=t.attachmentId,r=t.attachmentFromUrl,s=t.messageTs,c=t.channelId,d=Object(i.a)(e,c,s),b=Object(a.u)(e,c)&&Object(a.d)(e,c),p=Object(o.b)(e);return!!(d&&b&&p)&&((n||0===n)&&(r||d.text)&&(Object(l.X)(p)&&!Object(u.eb)(b)||p.id===d.user)&&"pinned_item"!==d.subtype&&"reply_broadcast"!==!d.subtype)}function v(e){var t=e.attachment,n=e.messageSubtype,r=e.messageText,a=e.messageIsStandalone,i=e.expandInlineImgsPref,o=e.expandNonMediaAttachmentsPref;if(!t)return!1;if(t.is_share)return!0;if("reply_broadcast"===n)return!0;if("twitter"===t.service_name&&"bot_message"===n)return!0;if(!t.from_url)return!0;if(a)return!0;if(r&&-1===r.indexOf(t.from_url.replace(/&/g,"&amp;")))return!0;if(i){if(t.audio_html)return!0;if(t.other_html)return!0;if(t.video_html)return!0;if(t.image_url)return!0;if(t.service_name&&"twitter"===t.service_name.toString().toLowerCase())return!0}return o}function g(e,t){if(!e||!t)return!1;var n=t.text;return!!n&&(Object(r.a)(n).indexOf(e.fromUrl)>-1&&Object(d.m)(e))}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return[];var a=e.attachments;return a?a.filter(function(a){return v({attachment:a,messageSubtype:e.subtype,messageText:e.text,messageIsStandalone:r,expandInlineImgsPref:t,expandNonMediaAttachmentsPref:n})}).map(b.b):[]}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e&&e.attachments?_(e,t,n,r).filter(function(t){return g(t,e)}):[]}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e&&e.attachments?_(e,t,n,r).filter(function(t){return!g(t,e)}):[]}},JoT8:function(e,t,n){},JpmM:function(e,t,n){"use strict";n.d(t,"f",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"e",function(){return C}),n.d(t,"d",function(){return I}),n.d(t,"b",function(){return w});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("HI9p"),l=n("aK/h"),u=n("EzZj"),d=n("MNvw"),b=n("U/ze"),p=n("XfeM"),h=n("VjHM"),m=n("dHuL"),f=n("yPgC"),v=Object(u.b)("Set a new list of What's New updates");v.propTypes=l.b.arrayOf(f.a.WhatsNewUpdate.isRequired).isRequired;var g=Object(u.b)("Mark What's New fetch as in progress");g.propTypes=null;var _=Object(u.b)("Mark What's New fetch as failed");_.propTypes=null;var O={updates:[],isLoading:!0,fetchFailed:!1},y=Object(d.b)((r={},i()(r,v,function(e,t){return{updates:t,isLoading:!1,fetchFailed:!1}}),i()(r,g,function(e){return s()({},e,{isLoading:!0,fetchFailed:!1})}),i()(r,_,function(e){return s()({},e,{isLoading:!1,fetchFailed:!0})}),r),O,{persistenceEnabled:!0});y.propTypes={updates:l.b.arrayOf(f.a.WhatsNewUpdate.isRequired).isRequired,isLoading:l.b.bool.isRequired,fetchFailed:l.b.bool.isRequired},t.a=y;var j=Object(b.b)(function(e){return e.whatsNew||O});j.propTypes=null;var k=Object(b.b)(function(e){return j(e).updates});k.propTypes=null;var E=Object(b.b)(function(e){return j(e).isLoading});E.propTypes=null;Object(b.b)(function(e){return j(e).fetchFailed});E.propTypes=null;var C=Object(b.b)(function(e){var t=Object(h.g)(e,"whats_new_read")||0;if(t<0)return 0;var n=k(e)||[],r=Object(c.a)(n,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timestamp<=t});return r<0?n.length:r});C.propTypes=null;var I=Object(b.b)(function(e){var t=(k(e)||[])[0];return t&&t.timestamp});I.propTypes=null;var w=Object(p.b)("Fetch and upsert What's New updates into store",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(g()),e(Object(m.b)({reason:n})).then(function(t){return e(v(t))}).catch(function(t){throw e(_()),t})});w.propTypes={reason:l.b.string.isRequired}},Jqqi:function(e,t,n){"use strict";function r(e){return!!(e&&e.insert&&e.insert.workflowtoken)}n.d(t,"a",function(){return r})},JtAu:function(e,t,n){"use strict";var r=n("BDy0"),a=n("tyNn"),i=n("utBT"),o=n("tP3m"),s=n("sRJn"),c=n("HO/Y"),l=n("+epm"),u=n("UR+L"),d=n("QWnR"),b=n("aWll"),p=n("uWmS"),h=n("XMIj"),m=n("W6f1"),f=n("fzrg"),v=n("90XA"),g=n("Ycgk"),_=n("mI5s"),O=n("9/DQ"),y=n("BicV"),j=n("hPvj"),k=n("hmiP"),E=n("a3KO"),C=n("9HJ0"),I=n("XzsM"),w=n("Tg3t"),S=n("eVYY"),T=n("iqxf"),R=n("m4Q8"),N=n("OC5O"),x=n("iqSe"),M=n("sk9p"),P=n.n(M),A=n("m1cH"),D=n.n(A),L=n("YEIV"),q=n.n(L),F=n("QbLZ"),B=n.n(F),U=(n("fujP"),n("1Lli")),H=n("GxtX"),K=n("NFsq"),G=n("Z3Pq"),V=n("CpTu"),z=n("zmn3"),Y=n("aK/h"),W=n("AFNo"),Q=n("ifKl"),X=n("om+M"),Z=n("4zXV");Object(X.a)("Starts an import",function(e,t,n){var r=n.service,a=n.file,i=n.url,o=n.passphrase,s=n.onProgress,l=void 0===s?Q.a:s;return r?new Promise(function(e,n,s){var u=new XMLHttpRequest;u.open("POST","/api/imports.create",!0),u.onload=function(){try{var t=JSON.parse(u.response);200===u.status&&t.ok?e(t):n(new Error(t.error))}catch(e){n(e)}},u.onerror=function(e){n(e)},u.upload.onprogress=l;var d=t(),b=Object(c.d)(d,"api_token"),p=new FormData;p.append("token",b),p.append("service_name",r),a&&p.append("export_file",a),i&&p.append("download_url",i),o&&p.append("passphrase",o),u.send(p),s(function(){return u.abort()})}):Promise.reject(new Error("missing service!"))}).propTypes={service:Y.b.string.isRequired,file:Y.b.object,url:Y.b.string,passphrase:Y.b.string};var J=Object(X.a)("Fetches data for a single import",function(e,t,n){var r=n.id;return r?e(Object(Z.a)({method:"imports.get",args:{import_id:r},reason:"get-import"})).then(function(e){return e.import}):Promise.reject(new Error("missing id!"))});J.propTypes={id:Y.b.number.isRequired};var $=Object(X.a)("Cancels an import",function(e,t,n){var r=n.id;return r?e(Object(Z.a)({method:"imports.cancel",args:{import_id:r},reason:"cancel-import"})).then(function(e){return e.import}):Promise.reject(new Error("missing id!"))});$.propTypes={id:Y.b.number.isRequired};var ee=Object(X.a)("Rolls back (undoes) an import",function(e,t,n){var r=n.id;return r?e(Object(Z.a)({method:"imports.rollback",args:{import_id:r,dry_run:!1},reason:"rollback-import"})).then(function(e){return e.import}):Promise.reject(new Error("missing id!"))});ee.propTypes={id:Y.b.number.isRequired};var te=Object(X.a)("Lists imports by service",function(e,t,n){var r=n.service,a=n.limit;return r?e(Object(Z.a)({method:"imports.listByService",args:{service_name:r,limit:a},reason:"list-imports"})).then(function(e){return e.imports}):Promise.reject(new Error("missing service!"))});te.propTypes={service:Y.b.string.isRequired},Object(X.a)("Updates mappings and stars import",function(e,t,n){var r=n.id,a=n.users,i=void 0===a?{}:a,o=n.channels,s=void 0===o?{}:o,c=n.shouldImportDMs,l=void 0!==c&&c;return r?e(Object(Z.a)({method:"imports.updateMapping",args:{import_id:r,mapped_users:JSON.stringify(i),mapped_channels:JSON.stringify(s),should_import_dms:l},reason:"update-import-mapping"})).then(function(e){return e.imports}):Promise.reject(new Error("missing id!"))}).propTypes={id:Y.b.number.isRequired,users:Y.b.arrayOf(Y.b.object),channels:Y.b.arrayOf(Y.b.object),shouldImportDMs:Y.b.bool};var ne,re={UPLOADING:0,PARSING:1,MAPPING:2,IMPORTING:3,DONE:4,CANCELLED:5,ROLLBACK:6,DOWNLOADING:10,FAILED:11,ROLLBACK_DONE:12},ae=Object(W.a)("Update an import");ae.propTypes=Y.b.object;var ie=Object(W.a)("Set imports");ie.propTypes=Y.b.object;var oe=Object(W.a)("Set current import ID");oe.propTypes=Y.b.number;var se=Object(W.a)("Set all import IDs");se.propTypes=Y.b.arrayOf(Y.b.number);var ce=Object(W.a)("Set whether an import is being reversed");ce.propTypes=Y.b.bool;var le=Object(W.d)((ne={},q()(ne,ae,function(e,t){return B()({},e,{imports:B()({},e.imports,q()({},t.id,t))})}),q()(ne,ie,function(e,t){return B()({},e,{imports:t})}),q()(ne,oe,function(e,t){return B()({},e,{currentImportId:t})}),q()(ne,se,function(e,t){return B()({},e,{importIds:t})}),q()(ne,ce,function(e,t){return B()({},e,{isReversingImport:t})}),ne),{},{persistenceEnabled:!0});le.propTypes={imports:Y.b.objectOf(Y.b.object),currentImportId:Y.b.number,importIds:Y.b.arrayOf(Y.b.number),isReversingImport:Y.b.bool};var ue=le,de=Object(W.e)(function(e,t){return e&&e.imports&&e.imports.imports&&e.imports.imports[t]}),be=Object(W.e)(function(e){return e&&e.imports&&e.imports.importIds||[]}),pe=(Object(W.e)(function(e){return be(e).map(function(t){return de(e,t)})}),Object(W.e)(function(e){return e&&e.imports&&e.imports.currentImportId})),he=(Object(W.e)(function(e){return e&&e.imports&&e.imports.isReversingImport}),function(e){return e&&e.status}),me=function(e){if(!e)return!1;switch(he(e)){case re.UPLOADING:case re.DOWNLOADING:case re.PARSING:case re.MAPPING:case re.IMPORTING:return!0;default:return!1}},fe=function(e){if(!e)return!1;switch(he(e)){case re.DONE:case re.FAILED:return!0;default:return!1}},ve=function(e){return!!e&&he(e)===re.ROLLBACK},ge=Object(W.f)("Fetches and upserts a single import using imports.get",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).id;return n?e(J({id:n})).then(function(r){e(ae(r));var a=be(t());Object(K.a)(a,n)||e(se([n].concat(D()(a))));var i=me(r),o=pe(t()),s=ve(r);e(ce(s));var c=fe(r);(i||c)&&n!==o?e(oe(n)):i||c||n!==o||e(oe(null))}):Promise.reject(new Error("missing id!"))});ge.propTypes={id:Y.b.number.isRequired};var _e=function(e,t,n){var r=Object(z.a)(n,"id");e(se(r));var a=Object(G.a)(n,"id");e(ie(a));var i=n[0];i&&(me(i)||fe(i))?e(ge({id:i.id})):e(oe(null));var o=Object(V.a)(n,ve);e(ce(!!o))};Object(W.f)("Fetches and upserts imports using imports.listByService",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.service,a=n.limit;if(!r)return Promise.reject(new Error("missing service!"));if("hipchat"===r){var i=[e(te({service:"hipchat",limit:a})),e(te({service:"stride",limit:a}))];return Promise.all(i).then(function(t){var n=P()(t,2),r=n[0],a=n[1],i=Object(U.a)(Object(H.a)(r,a),"date_update","desc").slice(0,10);return _e(e,0,i)})}return e(te({service:r,limit:a})).then(function(t){return _e(e,0,t)})}).propTypes={service:Y.b.string.isRequired};var Oe=Object(W.f)("Cancels an import and updates the store with the cancelled import",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).id;return n?e($({id:n})).then(function(){return e(ge({id:n}))}):Promise.reject(new Error("missing id!"))});Oe.propTypes={id:Y.b.number.isRequired};Object(W.f)("Cancels the current import",function(e,t){var n=pe(t());return n?e(Oe({id:n})):Promise.resolve()});Object(W.f)("Rollsback an import and updates the store with the cancelled import",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).id;return n?(e(ce(!0)),e(ee({id:n})).then(function(){return e(ge({id:n}))})):Promise.reject(new Error("missing id!"))}).propTypes={id:Y.b.number.isRequired};var ye,je=n("kyO0"),ke=n("4wYP"),Ee=n("EzZj"),Ce=n("MNvw"),Ie=n("U/ze"),we=Object(Ee.b)("Expand name and label of a email");we.propTypes={fileId:Y.b.string.isRequired};var Se=Object(Ee.b)("Toggle show/hide quoted text for the email");Se.propTypes={fileId:Y.b.string.isRequired};Object(Ie.b)(function(e,t){return!!e.emailRender.expandedQuotedText[t]}),Object(Ie.b)(function(e,t){return!!e.emailRender.expandedEmailMeta[t]});var Te=Object(Ce.b)((ye={},q()(ye,we,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileId;return B()({},e,{expandedEmailMeta:B()({},e.expandedEmailMeta,q()({},t,!e.expandedEmailMeta[t]))})}),q()(ye,Se,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileId;return B()({},e,{expandedQuotedText:B()({},e.expandedQuotedText,q()({},t,!e.expandedQuotedText[t]))})}),ye),{expandedEmailMeta:{},expandedQuotedText:{}},{persistenceEnabled:!0});Te.propTypes={expandedEmailMeta:Y.b.objectOf(Y.b.bool),expandedQuotedText:Y.b.objectOf(Y.b.bool)};var Re,Ne=Te,xe=n("UxT1"),Me=n("XYkb"),Pe=n("0rwR"),Ae=n("hAjP"),De=n("fp5s"),Le=n("b+9+"),qe={channelId:null,startTs:null,highlightTs:null,highlightLazy:null,highlightsBackButtonVisible:!1,userSetUnreadPoint:!1,unreadLineVisible:!1,ghostLastRead:null,scrollmarks:{},overlayVisible:!1,prevChannelId:null,prevChannelSwitchTs:null,newxpOnboardingStep:null,hasMessagePaneUnmounted:!1,isAppSpaceOpen:!1,focusRequestedTs:void 0},Fe=Object(Ce.b)((Re={},q()(Re,Le.e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.startTs,a=t.startTsOffset,i=t.highlightTs,o=t.ghostLastRead,s=t.prevChannelId;return B()({},e,{channelId:n,startTs:r||null,startTsOffset:a,highlightTs:i||null,highlightsBackButtonVisible:!1,userSetUnreadPoint:!1,unreadLineVisible:!1,ghostLastRead:o,prevChannelId:s,prevChannelSwitchTs:String(Date.now()/1e3)})}),q()(Re,Le.c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ts,r=t.offset,a=t.highlight,i=t.highlightLazy,o=a?n:Object(De.a)();return B()({},e,{startTs:n,startTsOffset:r,highlightTs:o,highlightLazy:i})}),q()(Re,Le.a,function(e){return B()({},e,{highlightTs:null,highlightLazy:null})}),q()(Re,Le.o,function(e){return B()({},e,{userSetUnreadPoint:!0,ghostLastRead:null})}),q()(Re,Le.b,function(e,t){return t!==e.channelId?e:e.userSetUnreadPoint?B()({},e,{userSetUnreadPoint:!1}):e}),q()(Re,Le.i,function(e,t){return B()({},e,{ghostLastRead:t})}),q()(Re,Le.j,function(e,t){return B()({},e,{highlightsBackButtonVisible:t})}),q()(Re,Le.n,function(e,t){return t===e.unreadLineVisible?e:B()({},e,{unreadLineVisible:t})}),q()(Re,Le.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.scrollmark;return B()({},e,{scrollmarks:B()({},e.scrollmarks,q()({},n,r))})}),q()(Re,Le.m,function(e,t){return e.overlayVisible===t?e:B()({},e,{overlayVisible:t})}),q()(Re,Le.f,function(e,t){return B()({},e,{channelSessionId:t})}),q()(Re,Le.l,function(e,t){return B()({},e,{newxpOnboardingStep:t})}),q()(Re,Le.k,function(e,t){return B()({},e,{hasMessagePaneUnmounted:t})}),q()(Re,Le.g,function(e,t){return B()({},e,{isAppSpaceOpen:t})}),q()(Re,Le.h,function(e,t){return B()({},e,{focusRequestedTs:t})}),Re),qe,{persistenceEnabled:!0});Fe.propTypes={channelId:Y.b.string,startTs:Y.b.string,highlightTs:Y.b.string,highlightLazy:Y.b.bool,highlightsBackButtonVisible:Y.b.bool,userSetUnreadPoint:Y.b.bool,unreadLineVisible:Y.b.bool,ghostLastRead:Y.b.string,scrollmarks:Y.b.objectOf(Y.b.object),overlayVisible:Y.b.bool,prevChannelId:Y.b.string,prevChannelSwitchTs:Y.b.string,newxpOnboardingStep:Y.b.string,hasMessagePaneUnmounted:Y.b.bool,isAppSpaceOpen:Y.b.bool};var Be,Ue=Fe,He=n("fOu1"),Ke=n("DTT0"),Ge=n("HX+W"),Ve=n("RMtf"),ze=n("clNh"),Ye=Object(Ce.b)((Be={},q()(Be,ze.a,function(e,t){return B()({},e,{inCreatorOnboarding:t})}),q()(Be,ze.b,function(e,t){return B()({},e,{inJoinerOnboarding:t})}),q()(Be,ze.e,function(e,t){return B()({},e,{onboardingChannelId:t})}),q()(Be,ze.d,function(e){return B()({},e,{inJoinerOnboarding:!1,inCreatorOnboarding:!1})}),q()(Be,ze.h,function(e,t){return B()({},e,{welcomeModel:t||{}})}),q()(Be,ze.g,function(e,t){return B()({},e,{tractorMessageCoachmarkVisible:t})}),q()(Be,ze.f,function(e,t){return B()({},e,{tractorFilesCoachmarkVisible:t})}),q()(Be,ze.c,function(e,t){return B()({},e,{joinerLandingPlaceCoachmarkVisible:t})}),Be),{inJoinerOnboarding:!1,inCreatorOnboarding:!1,onboardingChannelId:"",welcomeModel:{},tractorMessageCoachmarkVisible:!1,tractorFilesCoachmarkVisible:!1,joinerLandingPlaceCoachmarkVisible:!1},{persistenceEnabled:!1});Ye.propTypes={inJoinerOnboarding:Y.b.bool,inCreatorOnboarding:Y.b.bool,onboardingChannelId:Y.b.string,welcomeModel:Y.b.object,tractorMessageCoachmarkVisible:Y.b.bool,tractorFilesCoachmarkVisible:Y.b.bool,joinerLandingPlaceCoachmarkVisible:Y.b.bool};var We=Ye,Qe=n("O2xR"),Xe=n("XEIi"),Ze=n("ExPg"),Je=n("uf7e"),$e=n("m8R6"),et=n("OZf9"),tt=n("9hu3"),nt=n("zWa+"),rt=Object(Ee.b)("Set a channel pref");rt.propTypes={pref:Y.b.string.isRequired,value:Y.b.any.isRequired};var at,it=n("ZRqz"),ot=n("CzFX"),st=n("Ecd5"),ct=n("hW7K"),lt={user:{},team:{},channel:{},enterprise:{},userColors:{},notifications:{},uiState:{showOpenTransition:!0,lastActiveSection:"notifications"}},ut="all_notifications_prefs",dt="user_colors",bt="frecency_jumper",pt="frecency_ent_jumper",ht="emoji_use";function mt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.pref,a=n.value,i=arguments[2];if(!r||!i)return e;if(e[i]&&e[i][r]===a)return e;var o=e.notifications;"user"===i&&r===ut&&(o=Object(ct.a)(a));var s=e.userColors;"user"===i&&r===dt&&(s=Object(ct.a)(a));var c=e.user&&e.user.frecency_jumper;"user"===i&&r===bt&&(c=Object(ct.a)(a));var l=e.user&&e.user.frecency_ent_jumper;"user"===i&&r===pt&&(l=Object(ct.a)(a));var u=e.user&&e.user[ht];return"user"===i&&r===ht&&(u=Object(ct.a)(a)),B()({},e,q()({notifications:o,userColors:s},i,B()({},e[i],(t={},q()(t,r,a),q()(t,"emoji_use",u),q()(t,"frecency_jumper",c),q()(t,"frecency_ent_jumper",l),t))))}var ft=Object(Ce.b)((at={},q()(at,tt.c,function(e,t){var n=t&&Object(ct.a)(t[ut]),r=t&&Object(ct.a)(t[dt]),a=t&&Object(ct.a)(t[ht]),i=t&&Object(ct.a)(t[bt]),o=t&&Object(ct.a)(t[pt]);return B()({},e,{user:B()({},t,{emoji_use:a,frecency_jumper:i,frecency_ent_jumper:o}),userColors:r,notifications:n})}),q()(at,tt.b,function(e,t){return mt(e,t,"user")}),q()(at,nt.b,function(e,t){return mt(e,t,"team")}),q()(at,nt.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;if(0===Object.keys(t).length)return e;var r=B()({},e.team);return Object(et.a)(t,function(t,a){e.team[a]!==t&&(n=!0,r[a]=t)}),n?B()({},e,{team:r}):e}),q()(at,tt.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;if(0===Object.keys(t).length)return e;var r=B()({},e.user),a=e.notifications,i=e.userColors;return Object(et.a)(t,function(t,o){e.user[o]!==t&&(n=!0,r[o]=t,o===ut&&(a=Object(ct.a)(t)),o===dt&&(i=Object(ct.a)(t)))}),n?B()({},e,{notifications:a,userColors:i,user:r}):e}),q()(at,nt.c,function(e,t){return B()({},e,{team:t})}),q()(at,rt,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.pref,a=t.value;if(!n||!r)return e;var i=e.channel,o=i[n];return B()({},e,{channel:B()({},i,q()({},n,B()({},o,q()({},r,a))))})}),q()(at,it.b,function(e,t){return B()({},e,{enterprise:t})}),q()(at,it.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pref,r=t.value;if(!n||null==r)return e;var a=e.enterprise,i=a.org_prefs;return B()({},e,{enterprise:B()({},a,{org_prefs:B()({},i,q()({},n,r))})})}),q()(at,ot.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.value,a=t.sync,i=void 0!==a&&a;if(!n||null==r)return e;var o=e.notifications.global||{};!i||"global_desktop"!==n&&"global_mobile"!==n?o[n]=r:(o.global_desktop=r,o.global_mobile=r);var s={channels:e.notifications.channels,global:B()({},o)};return B()({},e,{notifications:s})}),q()(at,ot.c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.name,a=t.value,i=t.sync;if(!n||!r||null==a)return e;if(i&&"desktop"!==r)throw new Error("Cannot use sync arg with "+r+", can only be applied when name is 'desktop'");var o=e.notifications&&e.notifications.channels||{},s=o[n]||{};if(i&&s.desktop===a&&s.mobile===a)return e;if(s[r]===a)return e;var c=B()({},s,q()({},r,a));i&&(c.mobile=a);var l=B()({},e.notifications,{channels:B()({},o,q()({},n,B()({},c)))});return B()({},e,{notifications:l})}),q()(at,ot.a,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId;if(!t)return e;if(!e.notifications||!e.notifications.channels)return e;var n=Object($e.a)(e.notifications.channels,t);return B()({},e,{notifications:B()({},e.notifications,{channels:n})})}),q()(at,ot.b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.override;return n&&r?B()({},e,{notifications:B()({},e.notifications,{channels:B()({},e.notifications.channels,q()({},n,r))})}):e}),q()(at,st.b,function(e,t){return B()({},e,{uiState:{showOpenTransition:t,lastActiveSection:e.uiState.lastActiveSection}})}),q()(at,st.a,function(e,t){return B()({},e,{uiState:{showOpenTransition:e.uiState.showOpenTransition,lastActiveSection:t}})}),at),lt,{persistenceEnabled:!0});ft.propTypes={user:Y.b.objectOf(Y.b.any),team:Y.b.objectOf(Y.b.any),enterprise:Y.b.objectOf(Y.b.any),userColors:Y.b.objectOf(Y.b.string),notifications:Y.b.shape({global:Y.b.object,channels:Y.b.any}),uiState:Y.b.shape({showOpenTransition:Y.b.bool,lastActiveSection:Y.b.string})};var vt=ft,gt=n("9D+4"),_t=n("8vVC"),Ot=n("kn0e"),yt=n("Rmtr"),jt=Object(Ee.b)("Example action to store channels for channel discovery");jt.propTypes={channels:Y.b.arrayOf(Y.b.object)};var kt=Object(Ce.b)(q()({},jt,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;return B()({},e,{channels:t})}),{channels:[]},{persistenceEnabled:!0});kt.propTypes={channels:Y.b.arrayOf(Y.b.object)};var Et,Ct=kt,It=(Object(Ie.b)(function(e){return e&&e.searchChannelsUsers&&e.searchChannelsUsers.channels}),n("Gxzu")),wt=n("W7ut"),St=n("OZtQ"),Tt=n("XZOc"),Rt=n("WvH5"),Nt=n("St+r"),xt=n("+Gfg"),Mt=n("1tet"),Pt=n("oZiQ"),At=n("gEbr"),Dt=n("Ypgw"),Lt=n("7WZX"),qt=n("tZRu"),Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t.length)return e;var r=B()({},e);return t.forEach(function(e){r[e]=B()({},r[e],{desynced:n})}),r},Bt=Object(Ce.b)((Et={},q()(Et,qt.c,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ft(e,t,!0)}),q()(Et,qt.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ft(e,t,!1)}),q()(Et,qt.a,function(){return{}}),Et),{},{persistenceEnabled:!1});Bt.propTypes=Y.b.objectOf(Y.b.shape({desynced:Y.b.bool}));var Ut,Ht=Bt,Kt=n("Nc+C"),Gt=n("q2TN"),Vt=n("m/st"),zt=n("0NgK"),Yt=n("HcX7"),Wt={newUnreadMsgCount:0,refreshId:0,focusRequestedThreadKey:void 0},Qt=Object(Ce.b)((Ut={},q()(Ut,Yt.d,function(e,t){return B()({},e,{newUnreadMsgCount:t})}),q()(Ut,Yt.a,function(e){var t=e.refreshId||0;return B()({},e,{refreshId:t+1})}),q()(Ut,Yt.c,function(e,t){return e.focusRequestedThreadKey===t?e:B()({},e,{focusRequestedThreadKey:t})}),Ut),Wt,{persistenceEnabled:!1});Qt.propTypes={newUnreadMsgCount:Y.b.number};var Xt=Qt,Zt=n("uhZy"),Jt=Object(Ee.b)("Initialize the raw users counts");Jt.propTypes=Y.b.shape({channels:Y.b.array,groups:Y.b.array,ims:Y.b.array,mpims:Y.b.array,threads:Y.b.object});var $t=Object(Ce.b)(q()({},Jt,function(e,t){return B()({},e,{counts:t})}),{},{persistenceEnabled:!0});$t.propTypes={counts:Y.b.shape({channels:Y.b.array,groups:Y.b.array,ims:Y.b.array,mpims:Y.b.array,threads:Y.b.object})};var en,tn=$t,nn=(Object(Ie.b)(function(e){return e&&e.usersCounts&&e.usersCounts.counts}),n("ZQFR")),rn=Object(Ce.b)((en={},q()(en,nn.e,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id;return t?B()({},e,{primaryViewId:t}):e}),q()(en,nn.g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.flexName,r=t.flexParams,a=void 0===r?[]:r,i=t.flexOrigin,o=void 0===i?null:i,s=t.flexOriginId,c=void 0===s?null:s;return B()({},e,{flexName:n,flexParams:a,flexOrigin:o,flexOriginId:c})}),q()(en,nn.b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.flexOrigin,r=void 0===n?null:n,a=t.flexOriginId,i=void 0===a?null:a;return B()({},e,{flexOrigin:r,flexOriginId:i})}),q()(en,nn.c,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).flexRestore,n=void 0===t?null:t;return B()({},e,{flexRestore:n})}),q()(en,nn.f,function(e,t){return B()({},e,{focusedWorkspaces:t})}),q()(en,nn.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prevRouteName,r=t.prevFlexName,a=t.prevFlexParams;return B()({},e,{prevRouteName:n,prevFlexName:r,prevFlexParams:a})}),q()(en,nn.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelDetailsOpen,r=t.channelDetailsSection;return e.channelDetailsOpen===n&&e.channelDetailsSection===r?e:B()({},e,{channelDetailsOpen:n,channelDetailsSection:r})}),en),{},{persistenceEnabled:!0});rn.propTypes={primaryViewId:Y.b.string,flexName:Y.b.string,flexParams:Y.b.arrayOf(Y.b.string),flexOrigin:Y.b.string,flexRestore:Y.b.object,flexOriginId:Y.b.string,focusedWorkspaces:Y.b.arrayOf(Y.b.string),prevRouteName:Y.b.string,prevFlexName:Y.b.string,prevFlexParams:Y.b.object,channelDetailsOpen:Y.b.bool,channelDetailsSection:Y.b.string};var an,on=rn,sn=n("oLrU"),cn=n("P2LY"),ln={channelMessages:{},items:[],lastRequestTimestamp:null,isWorkflowItemCoachmarkVisible:!1,isOpenedFromSonicBoot:!1,pageEntryPoint:"direct",pageViewingSessionId:Object(sn.a)(),lastUsedLocale:null},un=Object(Ce.b)((an={},q()(an,cn.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messages;return B()({},e,{channelMessages:B()({},e.channelMessages,q()({},n,B()({},e.channelMessages[n]||{},r)))})}),q()(an,cn.f,function(e,t){return B()({},e,{items:t.items,lastUsedLocale:t.locale,lastRequestTimestamp:Date.now()})}),q()(an,cn.b,function(e){return B()({},e,{isOpenedFromSonicBoot:!0})}),q()(an,cn.a,function(e){return B()({},e,{isWorkflowItemCoachmarkVisible:!1})}),q()(an,cn.g,function(e){return B()({},e,{isWorkflowItemCoachmarkVisible:!0})}),q()(an,cn.e,function(e,t){return B()({},e,{pageEntryPoint:t})}),q()(an,cn.c,function(e){return B()({},e,{pageViewingSessionId:Object(sn.a)()})}),an),ln,{persistenceEnabled:!1});un.propTypes={channelMessages:Y.b.object};var dn=un,bn=n("T8HY"),pn=n("JpmM"),hn=n("KxGR"),mn=n("Mq3E");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return i.b}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return s.a}),n.d(t,"f",function(){return c.a}),n.d(t,"g",function(){return l.c}),n.d(t,"h",function(){return u.a}),n.d(t,"j",function(){return d.b}),n.d(t,"l",function(){return b.a}),n.d(t,"m",function(){return p.b}),n.d(t,"k",function(){return h.a}),n.d(t,"n",function(){return m.e}),n.d(t,"p",function(){return f.a}),n.d(t,"q",function(){return v.d}),n.d(t,"r",function(){return g.a}),n.d(t,"s",function(){return _.a}),n.d(t,"t",function(){return O.c}),n.d(t,"u",function(){return y.a}),n.d(t,"v",function(){return j.b}),n.d(t,"w",function(){return k.a}),n.d(t,"z",function(){return E.d}),n.d(t,"A",function(){return C.b}),n.d(t,"B",function(){return I.b}),n.d(t,"C",function(){return w.b}),n.d(t,"D",function(){return S.f}),n.d(t,"E",function(){return T.a}),n.d(t,"F",function(){return R.a}),n.d(t,"G",function(){return N.a}),n.d(t,"H",function(){return x.a}),n.d(t,"I",function(){return ue}),n.d(t,"J",function(){return je.a}),n.d(t,"K",function(){return ke.c}),n.d(t,"x",function(){return Ne}),n.d(t,"L",function(){return xe.a}),n.d(t,"M",function(){return Me.a}),n.d(t,"N",function(){return Pe.a}),n.d(t,"O",function(){return Ae.b}),n.d(t,"P",function(){return Ue}),n.d(t,"Q",function(){return He.b}),n.d(t,"R",function(){return Ke.b}),n.d(t,"S",function(){return Ge.a}),n.d(t,"T",function(){return Ve.a}),n.d(t,"U",function(){return We}),n.d(t,"V",function(){return Qe.b}),n.d(t,"W",function(){return Xe.c}),n.d(t,"X",function(){return Ze.b}),n.d(t,"Y",function(){return Je.b}),n.d(t,"ab",function(){return vt}),n.d(t,"bb",function(){return gt.d}),n.d(t,"cb",function(){return _t.b}),n.d(t,"db",function(){return Ot.b}),n.d(t,"eb",function(){return yt.b}),n.d(t,"fb",function(){return Ct}),n.d(t,"hb",function(){return It.a}),n.d(t,"gb",function(){return wt.a}),n.d(t,"ib",function(){return St.d}),n.d(t,"jb",function(){return Tt.b}),n.d(t,"kb",function(){return Rt.a}),n.d(t,"lb",function(){return Nt.b}),n.d(t,"mb",function(){return xt.b}),n.d(t,"Z",function(){return Mt.d}),n.d(t,"nb",function(){return Pt.b}),n.d(t,"pb",function(){return At.c}),n.d(t,"ob",function(){return Dt.a}),n.d(t,"qb",function(){return Lt.a}),n.d(t,"rb",function(){return Ht}),n.d(t,"sb",function(){return Kt.e}),n.d(t,"tb",function(){return Gt.c}),n.d(t,"ub",function(){return Vt.a}),n.d(t,"vb",function(){return zt.b}),n.d(t,"wb",function(){return Xt}),n.d(t,"xb",function(){return Zt.b}),n.d(t,"yb",function(){return tn}),n.d(t,"Bb",function(){return on}),n.d(t,"zb",function(){return dn}),n.d(t,"y",function(){return bn.a}),n.d(t,"Ab",function(){return pn.a}),n.d(t,"o",function(){return hn.a}),n.d(t,"i",function(){return mn.b})},JuZt:function(e,t,n){"use strict";n.r(t);var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("WD4z"),m=n("4Twu"),f=n("U3Q0"),v=n("Atrf"),g=n("wfE8"),_=n("aK/h"),O=n("1zbP"),y=n("HO/Y"),j=n("DTT0"),k=n("clTI"),E=n("DtX9"),C=n("6kok"),I=n("Fdc0"),w=new(n("nNoG").b)("shared"),S=(_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.string,_.b.func.isRequired,_.b.func.isRequired,_.b.bool.isRequired,{memberName:void 0}),T=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onError=n.onError.bind(n),n.onGo=n.onGo.bind(n),n.state={isPending:!1,error:null},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onError",value:function(e){this._isMounted&&this.setState(function(){return{isPending:!1,error:e&&e.data?e.data.error:"unknown_error"}})}},{key:"onGo",value:function(){this.setState(function(){return{isPending:!0}});var e=this.props,t=e.closeModal,n=e.memberId,r=e.channelId;(0,e.dispatchSubmitKickFromChannel)({memberId:n,channelId:r}).then(t).catch(this.onError)}},{key:"renderChannel",value:function(){var e=this.props.channelId;return b.a.createElement(m.a,{channelId:e,inline:!0})}},{key:"renderMember",value:function(){var e=this.props.memberId;return b.a.createElement("strong",null,b.a.createElement(v.a,{id:e,noLinking:!0}))}},{key:"renderError",value:function(){var e=this.props.featureSonicInputs;switch(this.state.error){case"restricted_action":return e?w.rt("Hmm, looks like you don\u2019t have permission to kick from channels. Please contact a Workspace Admin if {memberName} should no longer have access to your workspace.",{memberName:this.renderMember()}):"";case"not_in_channel":return e?w.rt("{memberName} is not a member of {channelName}.",{memberName:this.renderMember(),channelName:this.renderChannel()}):"";default:return e?w.rt("Something\u2019s gone wrong, and we couldn\u2019t remove <strong>{memberName}</strong> from {channelName}. We suspect this is only temporary. Try again in a bit?",{memberName:this.renderMember(),channelName:this.renderChannel()}):""}}},{key:"renderPrivateChannelMessage",value:function(){var e=this.props.featureSonicInputs,t=e?w.rt("If you remove {memberName} from {channelName}, they will no longer be able to see any of its messages. To rejoin the private channel, they will have to be re-invited.",{memberName:this.renderMember(),channelName:this.renderChannel()}):"",n=e?w.t("Are you sure you wish to do this?"):"";return b.a.createElement(d.Fragment,null,b.a.createElement("p",null,t),b.a.createElement("p",null,n))}},{key:"renderPublicChannelMessage",value:function(){var e=w.rt("Are you sure you wish to remove <strong>{user_name}</strong> from {channel_name}?",{user_name:this.renderMember(),channel_name:this.renderChannel()});return b.a.createElement("p",null,e)}},{key:"render",value:function(){var e=this.props,t=e.isPrivate,n=e.memberName,r=e.featureSonicInputs,a=this.state,i=a.error,o=a.isPending,s=r?w.t("Remove member"):"",c=n?w.t("Remove {user_name}",{user_name:n}):s,l=t?this.renderPrivateChannelMessage():this.renderPublicChannelMessage();return b.a.createElement(f.a,{title:c,goButtonIsDisabled:!!i,goButtonIsPending:o,goButtonText:w.t("Yes, remove them"),onGo:this.onGo,shouldCloseOnGo:!1},l,i&&b.a.createElement(h.a,{className:"margin_top_100 margin_bottom_0",level:"error"},this.renderError()))}}]),t}(d.PureComponent);T.displayName="RemoveMemberDialog",T.defaultProps=S;t.default=Object(p.b)(function(e,t){var n=t.channelId,r=t.memberId,a=void 0,i=Object(E.c)(e,r);Object(O.b)(i)&&(a=Object(I.P)(e,i,!1,!0));return{memberName:a,isPrivate:!!Object(C.xb)(Object(k.d)(e,n)),featureSonicInputs:Object(y.j)(e,"feature_sonic_inputs")}},function(e){return{dispatchSubmitKickFromChannel:function(){return e(g.L.apply(void 0,arguments))},closeModal:function(){return e(j.a.apply(void 0,arguments))}}})(T)},JvK6:function(e,t,n){},JyD1:function(e,t,n){},"K+2G":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("kOzZ"),c=n("DTT0"),l=n("VjHM"),u=n("iCc5"),d=n.n(u),b=n("V7oC"),p=n.n(b),h=n("FYw3"),m=n.n(h),f=n("mRg0"),v=n.n(f),g=n("XHGt"),_=n("tn36"),O=n("fL8H"),y=n("nNoG"),j=n("AfrZ"),k=n("D4L/"),E=new y.b("prefs"),C=(i.b.string.isRequired,i.b.string.isRequired,i.b.string.isRequired,i.b.shape({referringUiContext:i.b.object,referringEventId:i.b.any}),i.b.func.isRequired,i.b.object.isRequired,function(e){function t(e){d()(this,t);var n=m()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(_.a)(n,["onGo","onCancel"]),n}return v()(t,e),p()(t,[{key:"onGo",value:function(){var e=this.props,t=e.locale,n=e.clogger,r=e.options,a=e.teamId;n.track("PREF_USER_CLIENT_UPDATE",{updated_user_client_prefs:{locale:t},contexts:{ui_context:{action:"click",ui_element:"change_locale_button"},referring_ui_context:r.referringUiContext},referring_event_id:r.referringEventId}),this.props.setLocaleForTeam({locale:t,teamId:a})}},{key:"onCancel",value:function(){var e=this.props,t=e.locale,n=e.clogger,r=e.options;n.track("PREF_USER_CLIENT_UPDATE",{updated_user_client_prefs:{locale:t},contexts:{ui_context:{action:"click",ui_element:"cancel_button"},referring_ui_context:r.referringUiContext},referring_event_id:r.referringEventId})}},{key:"render",value:function(){var e=this.props.localeLabel;return a.a.createElement(O.a,{showCancelButton:!0,shouldCloseOnGo:!1,goButtonText:E.t("Change to {lang}",{lang:e}),title:E.t("Change language to {lang}?",{lang:e}),onGo:this.onGo,onCancel:this.onCancel},a.a.createElement("p",null,E.t("Are you sure you want to change the language you use with Slack?")))}}]),t}(r.Component));C.displayName="ChangeLanguageAlertDialog",C.defaultProps={options:{referringUiContext:{},referringEventId:null}};var I={setLocaleForTeam:function(){return j.d.apply(void 0,arguments)}},w=Object(g.b)(function(e){return{teamId:Object(k.d)(e).id}},I)(C),S=Object(o.b)("Opens the change language confirmation dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.locale,i=n.options,o=t(),u=Object(l.g)(o,"locales_enabled")[r],d=Object(s.a)({state:o});e(Object(c.e)({element:a.a.createElement(w,{localeLabel:u,locale:r,options:i,clogger:d}),isStackable:!0,name:"change-language-dialog"}))});S.propTypes={locale:i.b.string.isRequired,options:i.b.object};t.a=S},K1NN:function(e,t,n){},K2X0:function(e,t,n){},K2yZ:function(e,t,n){"use strict";var r=n("aK/h"),a=n("1zbP"),i=n("XfeM"),o=n("clTI"),s=n("Zhz1"),c=n("wfE8"),l=n("13mM");var u=n("FHcd"),d=Object(i.b)("Promise to get a channel by user input",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).name,r=Object(s.a)(n);Object(u.a)(r)||(r=function(e){var t=e.toLowerCase();return t=(t=(t=(t=(t=t.replace(/^#+/g,"")).replace(/ /g,"-")).replace(/[^A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d58-\u0d5e\u0d66-\u0d78\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19_-]+/g,"_")).replace(/-+/g,"-")).replace(/_+/g,"_"),/^[-_]+?$/.test(t)||/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f]/g.test(t)?null:t}(r));var i=t(),d=Object(o.e)(i,r);return Object(a.b)(d)?Promise.resolve({channel:d,channelName:r}):Promise.race([e(Object(c.f)({query:{query:r,count:1}})),new Promise(function(e,t){return setTimeout(t,Object(l.b)(i))})]).then(function(){return{channel:Object(o.e)(t(),r),channelName:r}})});d.propTypes={name:r.b.string.isRequired};t.a=d},K5QD:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("x91h"),b=n("Dpjh"),p=n("kxpR"),h=n.n(p),m=n("aK/h"),f=n("yPgC"),v=n("lek6"),g=(f.a.File(["name"]).isRequired,m.b.string,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.className;return t.title?h.a.createElement(v.a,{text:Object(b.a)(Object(d.a)(t.title)),noSpecials:!0,noJumbomoji:!0,className:n}):h.a.createElement("span",{className:n},t.name)}}]),t}(p.PureComponent));g.displayName="Name",g.defaultProps={className:null},t.a=g},K7CU:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"m",function(){return v}),n.d(t,"l",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"e",function(){return k}),n.d(t,"k",function(){return C}),n.d(t,"f",function(){return I}),n.d(t,"i",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"j",function(){return T});var r=n("m1cH"),a=n.n(r),i=n("fujP"),o=n("VjHM"),s=n("HO/Y"),c=n("rWF5"),l=n("eK75"),u=n("bHK9"),d=n("rzSx"),b="https://a.slack-edge.com/production-standard-emoji-assets",p="10.2",h=6,m=9;function f(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).forceDisplay;return v(e)&&!t?"as_text":Object(c.p)()?Object(s.j)(e,"feature_sonic_emoji")?"apple":"default":"google"}function v(e){return"as_text"===Object(o.g)(e,"emoji_mode")}var g=/^(?:[a-f0-9]{4,5}-)*[a-f0-9]{4,5}$/;function _(e){return g.test(e)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unicode,n=e.emojiMode,r=e.emojiSize;if(!_(t))throw new Error("invalid unicode passed to constructStandardEmojiUrl: "+t);if(!function(e){return"apple"===e||"google"===e}(n))throw new Error("invalid emojiMode passed to constructStandardEmojiUrl: "+n);if(!function(e){return"small"===e||"medium"===e||"large"===e}(r))throw new Error("invalid emojiSize passed to constructStandardEmojiUrl: "+r);var a=Object(c.m)()?"@2x":"";return b+"/"+p+"/"+n+"-"+r+"/"+t+a+".png"}var y=function(e){return e&&e.name},j=function(e){return e&&(e.displayName||e.display_name||y(e))},k=function(e){return e?(e.aliases?[e].concat(a()(e.aliases)):[e]).map(function(e){return{name:y(e),displayName:j(e)}}):null},E=function(e){return!(!e||Object(i.a)(e.skinVariations))},C=function(e){return!(!e||!/^[2-6]$/.test(e))},I=function(e,t){if(!e)return null;var n=e.emojiBestNameMatchCanonical;if(!n)return"";var r=":"+n+":";return C(t)&&E(e.item)?r+":skin-tone-"+t+":":r},w=function(e){var t=Object(l.a)();if(!t||!t.source)return!1;var n=":"+e+":";return new RegExp("^"+t.source+"$").test(n)};function S(e){var t=Object(u.j)(e);return t?E(t):Object(d.d)(e)}function T(e){return/^[a-zA-Z0-9\xe0\xe1\xe2\xe4\xe3\xe8\xe9\xea\xeb\xed\xee\xef\xf3\xf6\xf4\xf5\u0153\xfa\xf9\xfb\xfc\xff\xe7\xdf\xf1\xc0\xc1\xc2\xc4\xc3\xc8\xc9\xca\xcb\xcd\xce\xcf\xd3\xd6\xd4\xd5\u0152\xda\xd9\xdb\xdc\u0178\xc7\xd1\u3041-\u3096\u30a0-\u30ff\uff61-\uff9f\u3400-\u4db5\u4e00-\u9fcb-\u983b\u2e80-\u2fd5\uff41-\uff5a\uff10-\uff19-_+'\uff3f\uff0b\u30fc\u3005]*$/.test(e)}},KD8n:function(e,t,n){"use strict";var r=n("AFNo"),a=Object(r.a)("(noop) Open the custom status dialog via side-effect");a.propTypes=null,t.a=a},KDee:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l});var r=n("ROZo"),a=Object(r.b)("TS.client.ui.flex.openFlexTab"),i=Object(r.b)("TS.client.ui.flex.hideFlex"),o=Object(r.b)("TS.client.ui.flex.clogOnHideFlex"),s=Object(r.b)("TS.client.ui.flex.toggleFlexTab"),c=Object(r.b)("TS.client.ui.flex.toggleMembersView"),l=Object(r.b)("TS.client.ui.flex.togglePinsList")},"KEK+":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=(n("B+HQ"),p.b.string,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.className,t=v()("c-input_radio",e);return m.a.createElement("input",a()({},this.props,{className:t,type:"radio"}))}}]),t}(h.PureComponent));g.displayName="Radio",g.defaultProps={className:null},t.a=g},KPXh:function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"g",function(){return C}),n.d(t,"e",function(){return I}),n.d(t,"i",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"h",function(){return R}),n.d(t,"c",function(){return N}),n.d(t,"j",function(){return x}),n.d(t,"f",function(){return P}),n.d(t,"k",function(){return A});var r=n("NFsq"),a=n("g5qt"),i=n("FN36"),o=n("DtX9"),s=n("clTI"),c=n("Fdc0"),l=n("aLpA"),u=n("HO/Y"),d=n("Qrgz"),b=n("UEyp"),p=n("6kok"),h=n("PR8O"),m=n("nNoG"),f=n("HMjZ"),v=new m.b("cmd_handlers"),g=l.P.UNKNOWN_COMMAND,_=l.P.UNSUPPORTED_IN_THREAD,O=l.P.CUSTOM_ERROR,y=["/away","/beep","/color","/colors","/colour","/colours","/deletelast","/dm","/editlast","/feedback","/keys","/msg","/prefs","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/star","/togglethemes","/active","/mute"],j=["/slackdebugunreads","/slackjspath"],k={"/call":{icon:"phone",iconClassName:"sk_reddish_orange_bg sk_white"},"/who":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/remove":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/open":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/mute":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/leave":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/invite":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/expand":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/collapse":{icon:"channel",iconClassName:"sk_aubergine_bg sk_white"},"/star":{icon:"star-o",iconClassName:"sk_sunshine_yellow_bg sk_black"},"/search":{icon:"search",iconClassName:"sk_lilypad_green_bg sk_white"},"/apps":{icon:"search",iconClassName:"sk_lilypad_green_bg sk_white"},"/remind":{icon:"bell-o",iconClassName:"sk_raspberry_red_bg sk_white"},"/status":{icon:"bell-o",iconClassName:"sk_sapphire_blue_bg sk_white"},"/dnd":{icon:"bell-o",iconClassName:"sk_sapphire_blue_bg sk_white"},"/away":{icon:"bell-o",iconClassName:"sk_sapphire_blue_bg sk_white"},"/active":{icon:"bell-o",iconClassName:"sk_sapphire_blue_bg sk_white"},"/shrug":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/me":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/msg":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/invite_people":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/feedback":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/feed":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"},"/shortcuts":{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"}},E=function(e){return e&&e.alias_of},C=function(e){return e&&e.name},I=function(e){return e&&(e.desc||e.description)},w=function(e){return e&&e.usage},S=function(e){return e&&(e.canonical_name||e.name)},T=function(e){return e&&e.aliases},R=function(e){return e&&e.type},N=function(e){return e&&e.app},x=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;if(!t)return!1;var r=S(t);return"/leave"===r?Object(d.j)(e,n):"/remove"===r?Object(d.h)(e,n):!!t.autocomplete},M=function(e){switch(e){case d.c.INVALID_DM:return v.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case d.c.OWNER_REQUIRED:return v.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case d.c.INVALID_PARAMS:case d.c.RESTRICTED_USER:default:return v.t("You don\u2019t have permission to rename.")}},P=function(e){return k[S(e)]||{icon:"magic",iconClassName:"sk_dark_gray_bg sk_white"}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.channelId,m=n.isThread;if(!e||!t)return{isEnabled:!1,reason:g};var k=S(t),E=R(t);if(!Object(u.j)(e,"feature_tinyspeck")&&Object(r.a)(j,k))return{isEnabled:!1,reason:g};if(m){if("/giphy"===k&&Object(u.j)(e,"feature_threaded_slack_owned_plugins"))return{isEnabled:!0};if(!Object(r.a)(y,k))return{isEnabled:!1,reason:_}}if("custom"===E||"service"===E){var C=Object(i.a)(e,"commands_only_regular"),I=Object(o.b)(e);if(C&&Object(c.xb)(I))return{isEnabled:!1,reason:g}}if("/open"===k||"/feed"===k){var w=Object(o.b)(e);if(Object(c.xb)(w))return{isEnabled:!1,reason:g}}else if("/topic"===k){var T=Object(d.w)(e,l),N=T.ok,x=T.reason;if(!N)return{isEnabled:!1,reason:O,feedback:Object(p.u)(x)}}else if("/invite"===k){var P=Object(o.b)(e);if(Object(c.Db)(P))return{isEnabled:!1,reason:g};var A=Object(s.d)(e,l);if(!Object(p.kb)(A))return{isEnabled:!1,reason:O,feedback:v.t("You don\u2019t have permission to invite people.")};if(Object(c.xb)(P)&&!Object(p.xb)(A))return{isEnabled:!1,reason:O,feedback:v.t("You don\u2019t have permission to invite people.")}}else if("/invite_people"===k){if(!Object(b.d)(e)||!Object(u.j)(e,"feature_modernize_invites"))return{isEnabled:!1,reason:O,feedback:v.t("You don\u2019t have permission to invite people.")}}else if("/rename"===k){var D=Object(d.L)(e,l),L=D.ok,q=D.reason;if(!L)return{isEnabled:!1,reason:O,feedback:M(q)}}else if("/slackaccessibility"===k){if(!Object(h.a)())return{isEnabled:!1,reason:g}}else if("/archive"===k){if(!Object(d.y)(e,l))return{isEnabled:!1,reason:g}}else if("/call"===k){if(!Object(f.a)(e,l))return{isEnabled:!1,reason:g}}else if("/slacktrace"===k&&!Object(a.i)())return{isEnabled:!1,reason:O,feedback:Object(u.j)(e,"feature_sonic_inputs")?v.t("Please run /slacktrace in the latest version of the Slack desktop app."):""};return{isEnabled:!0}}},Km4y:function(e,t,n){},KmK8:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("aK/h"),m=n("TSYQ"),f=n.n(m),v=n("ypl0"),g=(n("Fil7"),h.b.node,h.b.node,h.b.node,h.b.string,h.b.oneOf(["light","dense"]),{light:void 0,compact:void 0,className:void 0,children:void 0,theme:"light"}),_=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.light,n=e.compact,r=e.children,a=e.theme,i=f()("c-message_kit__gutter",this.props.className,{"c-message_kit__gutter--compact":"dense"===a});if("dense"===a&&!n||"light"===a&&!t)return b.a.createElement("div",{className:i},b.a.createElement("div",{className:"c-message_kit__gutter__right"},r));var o="light"===a?t:n;return b.a.createElement("div",{className:i},b.a.createElement("div",{className:"c-message_kit__gutter__left"},o),b.a.createElement("div",{className:"c-message_kit__gutter__right"},r))}}]),t}(d.PureComponent);_.displayName="MessageGutter",_.defaultProps=g,t.a=Object(p.b)(function(e){return{theme:Object(v.a)(e)}})(_)},KwLZ:function(e,t,n){},KxGR:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Tell the app whether the Composer formatting bar is visible");d.propTypes={isOpen:s.b.bool.isRequired};var b=Object(l.b)(a()({},d,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isOpen;return"boolean"!=typeof t?e:e&&e.isOpen===t?e:o()({},e,{isOpen:t})}),!1,{persistenceEnabled:!1});b.propTypes={isOpen:s.b.bool.isRequired},t.a=b;var p=Object(u.b)(function(e){return e&&e.composerToolbarUI&&e.composerToolbarUI.isOpen})},KyCo:function(e,t,n){"use strict";n.r(t);var r=n("g5qt"),a=n("XfeM"),i=n("PR8O"),o=Object(a.b)("/slackdevtools slash command",function(){if(Object(i.a)()){Object(r.Nb)(!1)}});t.default=o},KyUF:function(e,t,n){"use strict";n.r(t);var r=n("m1cH"),a=n.n(r),i=n("owWc"),o=n("g5qt"),s=n("aK/h"),c=n("59Je"),l=n("wYji"),u=n("HO/Y"),d=n("tP3m"),b=n("VjHM"),p=n("0NgK"),h=n("XfeM"),m=n("clTI"),f=n("DtX9"),v=n("D4L/"),g=n("6kok"),_=n("Fdc0"),O=n("5mKg"),y=n("uf9I"),j=n("yHhI"),k=Object(h.b)("/slackdebugunreads slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,s=n.threadTs,h=t(),k=Object(y.b)(t()),E=Object(j.a)({teamId:k}),C=Object(m.b)(h);if(!C||!Object.keys(C).length){var I="/slackdebugunreads: Could not get list of model objects for user. :(";return E.warn(I),void e(Object(l.b)({message:{text:I,channel:r,thread_ts:s}}))}var w=Object(i.a)(C,function(n,i,o){var u=Object(g.S)(i),d=Object(g.T)(i),b=Object(g.v)(i);if(!b){var p="/slackdebugunreads: bad type for channel id "+o+"?";E.warn(p),e(Object(l.b)({message:{text:p,channel:r,thread_ts:s}}))}if(u||d){var h=[">","`"+o+"`","group"===b||"mpim"===b?" ("+b+"):":":",u?" unread"+("im"===b||"mpim"===b?" (highlight)":"")+" = "+u:"",d?", highlight = "+d:"",Object(c.c)(t(),o)?" (muted)":""].join("");return{unreads:[].concat(a()(n.unreads),[h]),unreadChannelCount:n.unreadChannelCount+1,unreadCountSum:n.unreadCountSum+1}}return n},{unreads:[],unreadChannelCount:0,unreadCountSum:0}),S=w.unreads,T=w.unreadChannelCount,R=w.unreadCountSum?S:["No unreads found across "+C.length+" channels??"],N=Object(p.f)(h),x=Object(p.g)(h),M=Object(f.b)(h),P=Object(_.P)(h,M,!0),A=Object(_.J)(M),D=Object(v.i)(h,A),L=Object(O.e)(D),q=["\ud83d\udd75\ufe0f \ud83d\udcd6 *Unreads Report for user @"+P+" (`"+M.id+'`) in workspace "'+L+'" (`'+D.id+"`)*","> "+x+" unreads across "+T+(1===T?" channel":" channels"),"> hasUnreadThreads: "+(Object(u.j)(h,"feature_incremental_unread_counts")?Object(p.j)(h):Object(d.c)(h))+" TS.model.threads_mention_count: "+(Object(u.j)(h,"feature_incremental_unread_counts")?Object(p.e)(h):Object(d.b)(h))].concat(a()(R),["> SSB setBadgeCount details: totalUnreadHighlights = "+N+", totalUnreads = "+x+", bullet = "+(o.X&&Object(b.g)(h,"mac_ssb_bullet")?"true":"false")]).join("\n");E.info(q),e(Object(l.b)({message:{text:q,channel:r,thread_ts:s}}))});k.propTypes={channelId:s.b.string.isRequired,threadTs:s.b.string},t.default=k},"L+JM":function(e,t,n){},L7JY:function(e,t,n){},L8el:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("fujP"),a=new(n("nNoG").b)("message");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object(r.a)(e))return e.upload?a.t("This file can't be shown"):a.t("This message can't be shown")}},L8gx:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("bPB8"),a=n("zmn3"),i=n("uXhx"),o=n("1myf"),s=n("okoL"),c=n("vPIQ"),l=n("TcTh"),u=n("smxp"),d=n("y8dB"),b=n("hOQf");function p(e,t){var n=Object(l.h)(e,t);if(!n||!n.timestamps)return null;var p=Object(u.b)(e,t),h=Object(d.a)(Object(r.a)(Object(a.a)(n.timestamps,function(e){return p[e]}))),m=Object(s.a)(Object(o.a)(Object(i.a)(h.messages,b.db),"ts"),5);return Object(c.a)(m,function(e){return Object(b.e)(e)})}},"LA/b":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("Z0Cl"),h=n("ifKl"),m=n("hbEN"),f=n("kxpR"),v=n.n(f),g=n("aK/h"),_=n("XHGt"),O=n("HO/Y"),y=n("XMIj"),j=n("nNoG"),k=n("XfeM"),E=n("wfE8"),C=n("7/2U"),I=Object(k.b)("Returns the result of channel name validation for the Channel Create modal",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelName;return e(Object(E.f)({query:n})).then(function(){var e=t();return Object(C.a)(e,n,"",Object(C.b)(Object(O.j)(e,"feature_longer_channel_names")))})});I.propTypes={channelName:g.b.string.isRequired};var w=I,S=n("plEq"),T=n("nlS/"),R=(n("s+EY"),new j.b("channel_modal")),N=new j.b("ui_validation"),x=(g.b.string.isRequired,g.b.string.isRequired,g.b.string,g.b.bool,g.b.bool,g.b.bool,g.b.string,g.b.bool,g.b.func.isRequired,g.b.func,g.b.func.isRequired,g.b.func.isRequired,g.b.node,g.b.object,g.b.number.isRequired,g.b.func,g.b.array,{placeholder:"",featureLongerChannelNames:!1,featureCreateChannelNameGuidelines:!1,featureChannelNamingNorms:!1,initialChannelName:"",isPrivate:!1,onChannelNameKeyDown:h.a,customErrorMessage:null,channelNameErrors:{},fetchAndUpsertChannelPrefixesList:h.a,channelPrefixes:void 0}),M=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={channelName:e.initialChannelName||"",selectState:{filterQuery:"",options:n.formatOptions(e.channelPrefixes),selectId:"channel-name",isExpanded:!1,isLoading:!1,isInvalid:!1,isDisabled:!1,selectedOption:null}},n.inputRef=v.a.createRef(),n.onChannelNameChange=n.onChannelNameChange.bind(n),n.setSelectState=n.setSelectState.bind(n),n.validateChannelName=Object(m.a)(n.validateChannelName,500),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.featureChannelNamingNorms&&void 0===this.props.channelPrefixes&&this.setState(function(e){return{selectState:a()({},e.selectState,{isLoading:!0})}},function(){return e.props.fetchAndUpsertChannelPrefixesList().finally(function(){return e.setState(function(e){return{selectState:a()({},e.selectState,{isLoading:!1})}})})})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.featureChannelNamingNorms&&e.channelPrefixes!==this.props.channelPrefixes&&this.setState(function(e){return{selectState:a()({},e.selectState,{options:t.filterOptions(e.selectState.filterQuery),isExpanded:!(e.selectState.isExpanded&&!t.props.channelPrefixes.length)&&e.selectState.isExpanded})}})}},{key:"onChannelNameChange",value:function(e){var t=e.toLowerCase().replace(/\s/g,"");this.setState(function(){return{channelName:t}}),this.validateChannelName(t),this.props.onChannelNameChange(t)}},{key:"setSelectState",value:function(e,t){var n=this;this.setState(function(t){var r=e(),i=a()({},t.selectState,r);return void 0!==r.filterQuery&&r.filterQuery!==t.selectState.filterQuery&&(i.options=n.filterOptions(r.filterQuery)),!t.selectState.isLoading&&0===i.options.length&&i.isExpanded&&(i.isExpanded=!1),!1===r.isExpanded&&null===r.activeRowIndex&&""===r.filterQuery&&(i.filterQuery=t.selectState.filterQuery),r.selectedOption&&(i.selectedOption=null,i.filterQuery=r.selectedOption.label+"-",i.options=n.filterOptions(i.filterQuery),i.isExpanded=!1,n.inputRef.current.focus()),n.props.onChannelNameChange(i.filterQuery),{selectState:i}},t)}},{key:"getChannelNameErrorString",value:function(){var e=this.props,t=e.featureLongerChannelNames,n=e.customErrorMessage,r=e.channelNameErrors,a=e.maxChannelNameLength;return n||(r.hasNameRequiredWarning?R.t("Don\u2019t forget to name your channel."):r.hasMaxLengthWarning&&t?N.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:a}):r.hasMaxLengthWarning&&!t?R.t("Names must be lowercase, without spaces or periods, and shorter than 22 characters."):r.hasSpecialsWarning?R.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):r.hasPunctuationWarning?R.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):r.hasNameTakenWarning?R.t("That name is already taken by a channel, username, or user group."):null)}},{key:"filterOptions",value:function(e){var t=this.formatOptions(this.props.channelPrefixes);return e?Object(p.a)(t,function(t){return Object(j.a)(t.label).includes(Object(j.a)(e))}):t}},{key:"formatOptions",value:function(e){return e?e.map(function(e){return{label:e.prefix,value:e.prefix}}):[]}},{key:"validateChannelName",value:function(e){var t=this;this.props.validateChannelName({channelName:e}).then(function(e){t.props.onChannelValidationChange(e)})}},{key:"renderSelectWithPrefixes",value:function(){return this.props.featureChannelNamingNorms?v.a.createElement(T.b,{size:"large",width:"100%",ariaLabel:R.t("Channel Name"),placeholderText:R.t("e.g. plan-budget"),selectState:this.state.selectState,setSelectState:this.setSelectState,showDropdownIcon:!1,inputRef:this.inputRef,isLoading:this.state.selectState.isLoading}):null}},{key:"render",value:function(){var e=this.props,t=e.featureLongerChannelNames,n=e.featureCreateChannelNameGuidelines,r=e.featureChannelNamingNorms,a=e.isPrivate,i=e.onChannelNameKeyDown,o=e.id,s=e.name,c=e.placeholder,l=e.maxChannelNameLength,u=this.state.channelName,d=n?R.t("e.g. marketing",{note:"Placeholder text in an input showing an example of a channel name",fallbackHash:"557e28b4ad2521870e519128062dcd4a1645004b"}):R.t("e.g. leads",{note:"Placeholder text in an input showing an example of a channel name"});return v.a.createElement("div",null,v.a.createElement("label",{htmlFor:o},v.a.createElement("span",{className:"p-channel_name_input__label_title"},v.a.createElement("strong",null,R.t("Name"))),v.a.createElement("span",{className:"p-channel_name_input__label_error","data-qa":"channel_name_error"},this.getChannelNameErrorString())),v.a.createElement("div",{className:"p-channel_name_input__input"},r?this.renderSelectWithPrefixes():v.a.createElement(S.a,{value:u,icon:a?"lock":"channel",placeholder:c||d,id:o,name:s,size:"large",onChange:this.onChannelNameChange,showError:!t,maxCharacterLimit:t?l:null,onKeyDown:i,autoComplete:"off",focusOnMount:!0,hintText:t?R.t("Names must be lowercase, without spaces or periods, and can\u2019t be longer than 80 characters."):R.t("Names must be lowercase, without spaces or periods, and shorter than 22 characters.")})))}}]),t}(f.Component);M.displayName="ChannelNameInput",M.defaultProps=x;t.a=Object(_.b)(function(e){var t=Object(O.j)(e,"feature_longer_channel_names");return{featureLongerChannelNames:t,maxChannelNameLength:Object(C.b)(t),featureCreateChannelNameGuidelines:Object(O.j)(e,"feature_create_channel_name_guidelines"),featureChannelNamingNorms:Object(O.j)(e,"feature_channel_naming_norms"),channelPrefixes:Object(y.c)(e)}},function(e){return{validateChannelName:function(){return e(w.apply(void 0,arguments))},fetchAndUpsertChannelPrefixesList:function(){return e(y.b.apply(void 0,arguments))}}})(M)},LRbe:function(e,t,n){},LXUr:function(e,t,n){},LaJC:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var r=n("H0/5"),a=n("Dpjh"),i=n("yU6Y"),o=n.n(i),s=n("PR8O"),c=n("n3t6"),l=n("aLpA"),u=n("cErB"),d=n("rWF5"),b=null;function p(){if(b)return b;var e=void 0;return e=d.k?l.I:d.y?l.K:l.J,b=["slack.com","slack-imgs.com",e]}var h=void 0;function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.redirDomain,i=void 0===n?"slack-redir.net":n,l=t.hideReferrers,d=void 0===l||l,b={href:e,originalURL:e,proxyURL:null,rel:"noopener noreferrer",isProxied:!1};if("string"!=typeof e)return null;if(Object(r.a)(e).match(/^javascript:/gi))return null;if(Object(s.a)())return b;if(!function(e){if(!e)return!1;var t=Object(u.j)(e);if(t.protocol===location.protocol&&t.host===location.host)return!1;if(!f.includes(t.protocol))return!1;var n=Object(u.d)(e,!0);return!p().includes(n)}(e))return b;if(!d)return b;var m=Object(c.c)(e);m=m.replace(/&amp;/g,"&"),m=(m=Object(a.a)(m)).replace(/&amp;/g,"&").replace(/(%27|&#39;)/g,"'"),m=encodeURIComponent(m);var v=void 0!==h?h:h=o.a.chrome&&o.a.version>=4.1||o.a.opera&&o.a.version>=15?{iframe_redirect_type:4,redirect_type:null,rewrite_on_right_click:!1}:o.a.ie?{iframe_redirect_type:4,redirect_type:3,rewrite_on_right_click:!0}:o.a.firefox?{iframe_redirect_type:o.a.version>=36?4:2,redirect_type:3,rewrite_on_right_click:o.a.version<36}:o.a.safari&&o.a.version>=5||navigator.userAgent.match(/(Slack_SSB)/g)?{iframe_redirect_type:2,redirect_type:null,rewrite_on_right_click:!1}:{iframe_redirect_type:4,redirect_type:3,rewrite_on_right_click:!0},g=v.redirect_type?"&v="+v.redirect_type:"";return b.href="https://"+i+"/link?url="+m+g,b.proxyURL=b.href,b.isProxied=!0,b}var f=["https:","http:","ftp:","sftp:"]},Lid2:function(e,t,n){},"Lnf+":function(e,t,n){"use strict";var r=new(n("nNoG").b)("filesize");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.decimalPlaces,a=t.iec;if(0===e)return a?r.t("0 bits",{note:"File size is 0 bits"}):r.t("0 bytes",{note:"File size is 0 bytes"});var i=a?1024:1e3;if(Math.abs(e)<i)return r.t("{bytes} B",{bytes:e,note:"File size in bytes, e.g. 5 bytes -> 5 B"});var o=-1,s=e;do{s/=i,o+=1}while(Math.abs(s)>=i&&o<7);var c=n?s.toFixed(n):Math.round(s);return(a?[r.t("{size} KiB",{size:c,note:"File size in kilobytes, 5 KiB"}),r.t("{size} MiB",{size:c,note:"File size in megabytes, 5 MiB"}),r.t("{size} GiB",{size:c,note:"File size in gigabytes, 5 GiB"}),r.t("{size} TiB",{size:c,note:"File size in terabytes, 5 TiB"}),r.t("{size} PiB",{size:c,note:"File size in petabytes, 5 PiB"}),r.t("{size} EiB",{size:c,note:"File size in exabytes, 5 EiB"}),r.t("{size} ZiB",{size:c,note:"File size in zettabytes, 5 ZiB"}),r.t("{size} YiB",{size:c,note:"File size in yottabytes, 5 YiB"})]:[r.t("{size} kB",{size:c,note:"File size in kilobytes, 5 kB"}),r.t("{size} MB",{size:c,note:"File size in megabytes, 5 MB"}),r.t("{size} GB",{size:c,note:"File size in gigabytes, 5 GB"}),r.t("{size} TB",{size:c,note:"File size in terabytes, 5 TB"}),r.t("{size} PB",{size:c,note:"File size in petabytes, 5 PB"}),r.t("{size} EB",{size:c,note:"File size in exabytes, 5 EB"}),r.t("{size} ZB",{size:c,note:"File size in zettabytes, 5 ZB"}),r.t("{size} YB",{size:c,note:"File size in yottabytes, 5 YB"})])[o]}},LpuC:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=n("TSYQ"),_=n.n(g),O=n("aK/h"),y=n("NcDR"),j=(n("Qxp+"),O.b.string,O.b.func,O.b.number,O.b.oneOfType([O.b.object,O.b.func]).isRequired,O.b.bool.isRequired,{className:void 0,onChange:m.a,value:0}),k=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return h()(t,e),u()(t,[{key:"handleChange",value:function(e){this.props.onChange(Number(e.target.value))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.forwardedRef,r=e.hasKeyboardFocus,i=(e.onChange,e.value),s=o()(e,["className","forwardedRef","hasKeyboardFocus","onChange","value"]),c=_()("c-slider__input",t,{"c-slider__input--focus-visible":r});return v.a.createElement("input",a()({ref:n,type:"range",className:c,onChange:this.handleChange,value:i},s))}}]),t}(f.PureComponent);k.displayName="Slider",k.defaultProps=j,t.a=Object(y.a)(v.a.forwardRef(function(e,t){return v.a.createElement(k,a()({},e,{forwardedRef:t||v.a.createRef()}))}))},Lr9k:function(e,t,n){"use strict";var r=n("VnZi");t.a=r.a},Lstb:function(e,t,n){},Lts7:function(e,t,n){"use strict";var r=n("7EGn"),a=n("XfeM"),i=n("uf9I"),o=n("SZMM"),s=n("HO/Y"),c=n("DtX9"),l=n("Fdc0"),u=Object(a.b)("launch workflow builder",function(e,t,n){var a=t();if(!Object(l.xb)(Object(c.b)(a))&&Object(s.j)(a,"feature_builder_can_access")){var u=Object(i.b)(a);e(Object(o.d)({pathname:"/workflow-builder/"+u+"/"+Object(r.a)(n,"subPathname",""),windowOptions:{height:700,width:1024}}))}});u.propTypes=null,t.a=u},LvkU:function(e,t,n){},LxWA:function(e,t,n){"use strict";function r(e,t){var n=void 0,r=void 0;return function(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];cancelAnimationFrame(r),n=performance.now();return r=requestAnimationFrame(function a(o){o>n+t?e.apply(void 0,i):r=requestAnimationFrame(a)})}}n.d(t,"a",function(){return r})},"M+2+":function(e,t,n){"use strict";var r=n("oTSI"),a=n("lhZz"),i=n("HO/Y"),o=n("btvA"),s=n("m1cH"),c=n.n(s),l=n("QbLZ"),u=n.n(l),d=n("sk9p"),b=n.n(d),p=n("lCmp"),h=n("uXhx"),m=n("qAkX"),f=n("F294"),v=n("c8Bs"),g=n("OZf9"),_=n("aK/h"),O=n("XfeM"),y=n("yHhI"),j=n("ZAxE"),k=n("JHHQ"),E=n("hOQf"),C=n("2HDu"),I=n("+1yX"),w=n("smxp"),S=n("TcTh"),T="HISTORY-CFM",R=100;function N(e,t){return e+":"+t}function x(e){var t=e.split(":"),n=b()(t,2);return{channelId:n[0],ts:n[1]}}function M(e,t){return Object(v.a)(t,function(t,n){return e[n]})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ranges,n=void 0===t?{}:t,r=e.tsMaps,a=void 0===r?[]:r,i=u()({},n),o=a[0];return a.forEach(function(e){o!==e&&(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(p.a)(t,function(t,n){return e[n]})}(o,e)?o=e:M(o,e)?delete i[e.rangeId]:M(e,o)?(delete i[o.rangeId],o=e):Object(g.a)(e,function(e,t){return delete o[t]}))}),Object.values(i)}function A(e,t){return P(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(y.a)({state:e,label:T}),a={},i=[];return n.sort().forEach(function(n){var o=Object(w.a)(e,t,n);if(o){if(!Object(E.Z)(o)&&!Object(E.ob)(o)){var s=[];(!Object(E.ib)(o)||Object(E.kb)(o)||Object(E.qb)(o))&&s.push(t),(Object(E.kb)(o)||Object(E.ib)(o))&&s.push(Object(C.c)(t,Object(E.N)(o))),s.forEach(function(t){if(t){var r=Object(S.h)(e,t,n);if(r&&r!==S.a){var o=r.start,s=r.end,c=r.timestamps,l=o+"-"+s;if(!a[l]){var u={};Object.defineProperty(u,"rangeId",{enumerable:!1,value:l}),a[l]={id:t,firstTs:Object(f.a)(c),lastTs:Object(m.a)(c),start:o,end:s,tsMap:u},i.push(u)}a[l].tsMap[n]=!0}}})}}else r.warn("No message for "+n+" in "+t)}),{ranges:a,tsMaps:i}}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[])).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.firstTs,r=e.lastTs,a=e.start,i=e.end,o=function(e){var t=void 0,n=void 0;return Object(g.a)(e,function(e,r){void 0===t&&(t=r),void 0===n&&(n=r),r<t&&(t=r),r>n&&(n=r)}),{minTs:t,maxTs:n}}(e.tsMap),s=o.minTs,c=o.maxTs;return{id:t,oldest:s===n?a:s,latest:c===r?i:c}})}var D=Object(O.b)("Fetches a range of messages",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.oldest,i=n.latest;return Object(y.a)({getState:t,label:T}).info("Re-fetching "+r+" "+a+" - "+i),Object(I.a)(r)?function(e,t){return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.channelId,a=n.oldest,i=n.latest,o=n.cursor,s=void 0===o?"":o,l=n.msgsInRange,u=void 0===l?[]:l,d=n.deletedInRange,b=void 0===d?[]:d,p={channelId:r,oldest:a,latest:i,cursor:s,inclusive:!0,includePinCount:!1,limit:R,reason:"channel-history-store.CFM.fetch"};return e(Object(j.b)(p)).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.msgs,s=void 0===o?[]:o,l=n.deleted,d=void 0===l?[]:l,p=n.isLimited,h=n.hasMore,m=n.responseMetadata,f=void 0===m?{}:m;return u.push.apply(u,c()(s)),b.push.apply(b,c()(d)),h&&!p&&f.next_cursor?t({channelId:r,oldest:a,latest:i,cursor:f.next_cursor,msgsInRange:u,deletedInRange:b}):(e(Object(k.a)({msgs:u,channelId:r,isLimited:p,latest:i,oldest:a,deletedInRange:b})),Promise.resolve())})}(t)}(e,{channelId:r,oldest:a,latest:i}):function(e,t){return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.channelId,a=n.threadTs,i=n.oldest,o=n.latest,s=n.cursor,l=void 0===s?"":s,u=n.msgsInRange,d=void 0===u?[]:u,b=n.deletedInRange,p=void 0===b?[]:b,m={channelId:r,threadTs:a,oldest:i,latest:o,cursor:l,inclusive:!0,limit:R,reason:"channel-history-store.CFM.fetch"};return e(Object(j.d)(m)).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.msgs,u=void 0===s?[]:s,b=n.deleted,m=void 0===b?[]:b,f=n.hasMore,v=n.responseMetadata,g=void 0===v?{}:v;if(d.push.apply(d,c()(l?Object(h.a)(u,{ts:a}):u)),p.push.apply(p,c()(m)),f&&g.next_cursor)return t({channelId:r,threadTs:a,oldest:i,latest:o,cursor:g.next_cursor,msgsInRange:d,deletedInRange:p});var _=i===a||o===a?d:Object(h.a)(d,{ts:a});return e(Object(k.a)({msgs:_,channelId:Object(C.c)(r,a),latest:o,oldest:i,deletedInRange:p})),Promise.resolve()})}(t)}(e,u()({},Object(C.a)(r),{oldest:a,latest:i}))});D.propTypes={channelId:_.b.string,oldest:_.b.string,latest:_.b.string};var L=Object(O.b)("Fetches chunks of channel history for the given message IDs",function(e,t){var n=function(e){var t={};return e.forEach(function(e){var n=x(e),r=n.channelId,a=n.ts;t[r]=t[r]||[],t[r].push(a)}),t}((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).ids),r={};return Object(g.a)(n,function(n,a){var i=A(t(),a,n);r[a]=Promise.map(i,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.oldest,r=t.latest,a=t.id;return e(D({channelId:a,oldest:n,latest:r}))})}),Promise.all(Object.values(r))});L.propTypes={ids:_.b.arrayOf(_.b.string)};var q=L;window.refetchChannelHistory=L;var F=n("Z7Ay");n.d(t,"d",function(){return U}),n.d(t,"b",function(){return H}),n.d(t,"c",function(){return K}),n.d(t,"a",function(){return G});var B=Object(r.a)(function(){return new o.b({fetch:function(e,t){return Object(a.dispatchForTeamId)(e,q({ids:t}))},metricsName:"channel-history",isEnabled:function(e){return Object(i.j)(Object(a.getStateByTeamId)(e),"feature_message_history_cfm")}})}),U=function(e,t,n){return B().maybeRefetch(e,N(t,n))},H=function(e,t,n){return B().markObjectsAsFresh(e,n.map(function(e){return N(t,e)}))},K=function(e,t,n){return B().markObjectsAsStale(e,n.map(function(e){return N(t,e)}))},G=function(e){return B().getFreshObjects(e).map(x)};Object(F.b)("conditionalFetchManagerChannelHistory",B)},M1dg:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("1myf"),c=n("lE2N"),l=n("Bw5p"),u=n("CpTu"),d=n("yJbr");function b(e,t){if(!e)return t;if(!t)return t;var n=t.comments||[],r=Object(u.a)(n,function(t){return t.id===e.id}),i=o()({},r,e,Object(l.a)(r,["is_starred","_rxn_key"])),b=Object(s.a)(Object(c.a)([i].concat(a()(n)),"id"),"timestamp"),p=t.initial_comment&&e.id===t.initial_comment.id,h=p?i:t.initial_comment;return r?Object(d.h)(t,e):Object(d.g)(t,e),p&&Object(d.f)(t),o()({},t,{comments:b,initial_comment:h})}},M46C:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.client.stats.isEnabled",function(){return!1})},M4HD:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return b}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return m});var r=n("1zbP"),a=n("dyRQ"),i=n("DtX9"),o=n("clTI"),s=n("Fdc0"),c=n("6kok"),l=function(e){return e&&e.name},u=function(e){return e&&e.short_description},d=function(){return r.b.apply(void 0,arguments)},b=function(){return r.d.apply(void 0,arguments)},p=function(e){return!(!e||!e.is_xoxa_app)},h=function(e){return!(!e||!e.is_workflow_app)},m=function(e,t,n){if(!t||!t.is_installed)return!1;var r=t.bot_user_id;if(!r)return!1;var l=Object(i.c)(e,r);if(!l)return!1;var u=Object(o.d)(e,n);if(Object(c.gb)(u)&&!Object(s.bb)(l))return!1;var d=Object(a.f)(e,n,r);return d.isKnown&&!d.isMember}},M4yy:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=["file_comment","file_mention","file_share","file_upload"];function a(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileSubtypes;return(void 0===t?r:t).includes(e)}},MAit:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("XHGt"),m=n("VjHM"),f=n("yPgC"),v=n("P9LH"),g=n("nNoG"),_=n("82mD"),O=n("WTjW"),y=n("N52Z"),j=n("JXW8"),k=n("w6pt"),E=(p.b.string,p.b.string,p.b.bool,{className:void 0,name:void 0,badge:!0}),C=function(e){var t=e.className,n=e.name,r=e.badge;return b.a.createElement("span",{className:t},n||b.a.createElement(k.a,null)," ",r&&b.a.createElement(j.a,null))};C.displayName="BotName",C.defaultProps=E;var I=Object(h.b)(function(e,t){var n=t.id;return{name:Object(y.e)(e,n)}})(C),w=new g.b("files"),S=(f.a.File().isRequired,p.b.bool,p.b.bool,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderUser",value:function(){var e=this.props.file;return e.bot_id?b.a.createElement(I,{id:e.bot_id,className:"c-pillow_file__user"}):b.a.createElement(O.a,{id:e.user,className:"c-pillow_file__user"})}},{key:"renderTimestamp",value:function(){var e=this.props,t=e.file,n=e.time24,r=Object(_.l)(Object(v.o)(t),{shortenMonth:!0}),a=this.props.excludeTime?r:w.t("{date} at {time}",{date:r,time:Object(_.p)(Object(v.o)(t),{do24hrTime:n})});return b.a.createElement("span",{className:"c-pillow_file__timestamp"},a)}},{key:"render",value:function(){return Object(v.M)(this.props.file)?null:b.a.createElement("div",{className:"c-pillow_file__user_timestamp c-pillow_file__meta__entry"},this.renderUser()," ",this.renderTimestamp())}}]),t}(d.PureComponent));S.displayName="FileUserTimestamp",S.defaultProps={time24:!1,excludeTime:!1};t.a=Object(h.b)(function(e){return{time24:Object(m.g)(e,"time24")}})(S)},MNBn:function(e,t,n){},MOyV:function(e,t,n){"use strict";n.r(t),n.d(t,"getInsertData",function(){return m}),n.d(t,"getMatch",function(){return f}),n.d(t,"getNumResults",function(){return v}),n.d(t,"shouldDisplayResults",function(){return g}),n.d(t,"getResultFrecencyId",function(){return _});var r=n("Fsnq"),a=n("gSGL"),i=n("fujP"),o=n("K7CU"),s=n("XoJV"),c=n("Qv4Q"),l=n("nNoG"),u=n("kOzZ"),d=n("kbLV"),b=n("bHK9"),p=/(^|\s|\S)([:|\uff1a][^~@#$%^&*()=[\]{}\\|!?`;:\uff1a",.<>\/ ]*)$/i,h=function(e){return"+"===e||"-"===e},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userSkinTone,r=t.shouldRenderEmojiAsText;if(!e||!e.item)return null;Object(u.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"emoji"}}});var a=Object(o.f)(e,n);if(r){var i=Object(l.p)();return{text:Object(s.g)({locale:i,name:a})}}return{text:"",slackemoji:{text:a}}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isUserSolicited,r=t.locale;if(!Object(a.a)(e))return null;var i=void 0,o=void 0;if(e.replace(p,function(t,n,r,a){var s;!h(s=n)&&Object(d.a)(s)||(o=a+n.length,i=e.substr(o,r.length))}),!i)return null;if(Object(c.d)().test(i))return null;if(!n){var s=1===o&&h(e[0]),l="ja-JP"===r||s?2:3;if(i.length<l)return null}return{match:i,index:o}},v=r.a,g=function(e,t,n){return!(!e||Object(i.a)(t))&&(1!==t.length||!n)},_=function(e){return e&&e.item&&Object(b.e)(e.item.name)}},MREy:function(e,t,n){"use strict";var r=n("JS8a");n.d(t,"g",function(){return r.b});var a=n("l+8s");n.d(t,"e",function(){return a.a});var i=n("BWAg");n.d(t,"b",function(){return i.a});var o=n("1Y60");n.d(t,"d",function(){return o.a});var s=n("Y2FI");n.d(t,"c",function(){return s.a});var c=n("/K2e");n.d(t,"a",function(){return c.a});n("6FZx");t.f=r.a},"Ma6+":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("wK/9"),s=n("4zXV"),c=n("om+M"),l=n("Y/4G"),u=Object(c.a)("send actions to the app developer",function(e,t,n){var r=Object(o.b)(n),a=r.service_id,i=r.actions,c=r.container,u=r.service_team_id,d=l.a.generateAndEnqueue();return e(Object(s.a)({reason:"dispatch_action_to_developer",method:"blocks.actions",args:{service_id:a,service_team_id:u,actions:JSON.stringify(i),container:JSON.stringify(c),client_token:d}}))});u.propTypes={serviceId:i.b.string,serviceTeamId:i.b.string,actions:i.b.any,container:i.b.any},Object(c.a)("send a sample block kit builder action",function(e,t,n){var r=Object(o.b)(n),a=r.actions,i=r.container;return e(Object(s.a)({reason:"generate_sample_actions_payload",method:"blocks.actionsPreview",args:{actions:JSON.stringify(a),container:JSON.stringify(i)}}))}).propTypes={actions:i.b.any,container:i.b.any},Object(c.a)("send block kit content to a slack channel",function(e,t,n){var r=n.blocks,a=n.token;return e(Object(s.a)({reason:"validate_block_kit_content",method:"blocks.format",args:{blocks:r,token:a}}))}).propTypes=i.b.any,Object(c.a)("send block kit content to a slack channel",function(e,t,n){return e(Object(s.a)({reason:"send_block_kit_to_slack",method:"chat.postMessage",args:a()({},n)}))}).propTypes=i.b.object;var d=Object(c.a)("get suggestions from the app for external selects",function(e,t,n){var r=Object(o.b)(n),a=r.container,i=r.service_id,c=r.action_id,l=r.block_id,u=r.value;return e(Object(s.a)({reason:"get_external_select_options",method:"blocks.suggestions",args:{service_id:i,container:JSON.stringify(a),action_id:c,block_id:l,value:u}})).then(function(e){var t=e.option_groups,n=e.options;return t?{optionGroups:t}:n?{options:n}:{options:[]}})});d.propTypes={serviceId:i.b.string,container:i.b.object,action_id:i.b.string,block_id:i.b.string,value:i.b.string}},MbVY:function(e,t,n){},"MeX/":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r={narrow:120,wide:190,full:"100%"},a={small:"small",medium:"medium",large:"large"}},MhQa:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return p});var r=n("ROZo"),a=Object(r.a)("TS.shared.legacyGetActiveModelOb"),i=(Object(r.b)("TS.shared.ensureModelObsArePresent",function(){return Promise.reject(new Error("Not implemented"))}),Object(r.b)("TS.shared.legacyKickMember"),Object(r.b)("TS.shared.getDisplayNameForModelOb",function(){return""}),Object(r.b)("TS.shared.dispatchMessageReceived")),o=Object(r.b)("TS.shared.legacyDispatchUnreadChanged"),s=Object(r.b)("TS.shared.legacyDispatchUnreadHighlightChanged"),c=Object(r.b)("TS.shared.legacyDispatchMarkedSig"),l=Object(r.b)("TS.shared.legacySetOldestUnreadTsForId"),u=Object(r.b)("TS.shared.legacyBatchUpsertObjects"),d=(Object(r.b)("TS.shared.legacyGetShareModelObId"),Object(r.b)("TS.shared.legacyAddMsgFromModern")),b=Object(r.b)("TS.shared.legacyRemoveMsgFromModern"),p=Object(r.b)("TS.shared.legacyMsgNotSentFromModern")},"Mj+f":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("U/ze"),a=Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.userColors&&e.prefs.userColors[t]})},Mjmw:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("m8R6"),c=n("aK/h"),l=n("kxpR"),u=n.n(l),d=n("XHGt"),b=n("DtX9"),p=n("Fdc0"),h=(c.b.string,c.b.string,{secondaryName:"",className:void 0});function m(e){var t=e.secondaryName,n=e.className,r=o()(e,["secondaryName","className"]);return u.a.createElement("span",a()({className:n},Object(s.a)(r,["dispatch"])),t)}m.displayName="SecondaryName",m.defaultProps=h,t.a=Object(d.b)(function(e,t){var n=t.id,r=Object(b.c)(e,n);return!r||Object(p.Gb)(r)?{}:{secondaryName:Object(p.G)(e,r)}})(m)},Mq3E:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=s.b.oneOf(["name","created","members_desc","members_asc"]),b=Object(c.b)("Set the current sort of the Channel Browser");b.propTypes={sort:d.isRequired};var p=Object(l.b)(a()({},b,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sort;return o()({},e,{channelBrowserSort:t})}),{channelBrowserSort:"name"},{persistenceEnabled:!0});p.propTypes={channelBrowserSort:d.isRequired},t.b=p;var h=Object(u.b)(function(e){return e&&e.channelBrowser&&e.channelBrowser.channelBrowserSort});h.propTypes=null},MrXf:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("XfeM"),c=n("DTT0"),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("XHGt"),g=n("aK/h"),_=n("HO/Y"),O=n("P2f5"),y=n("7WZX"),j=n("N0/W"),k=n("P9LH"),E=n("U3Q0"),C=n("qafc"),I=n("C2xn"),w=n("nNoG"),S=n("yHhI"),T=(n("qa/k"),new w.b("files")),R=(g.b.string.isRequired,g.b.object,g.b.object.isRequired,g.b.bool.isRequired,g.b.func.isRequired,g.b.func.isRequired,{file:void 0}),N=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onGo=n.onGo.bind(n),n}return f()(t,e),b()(t,[{key:"onGo",value:function(){var e=this,t=this.props,n=t.fileId,r=t.logger;t.featureModernDeleteFile&&this.props.deleteFile({fileId:n,reason:"delete_file_dialog"}).then(function(e){return e&&e.ok?Promise.resolve():Promise.reject(new Error(e&&e.error))}).catch(function(t){r.error("DELETE-FILE","delete file failed",t),e.props.enqueueToast({element:o.a.createElement(C.b,null,T.t("Oops! We couldn\u2019t delete that file"))})})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.logger;if(!e.featureModernDeleteFile)return n.error("DELETE-FILE","dialog mounted with featureModernDeleteFile off"),null;if(!t)return n.error("DELETE-FILE","file not found"),null;var r=void 0;return r=Object(k.g)(t)?T.t("Are you sure you want to delete this post permanently?"):Object(k.B)(t)?T.t("Are you sure you want to permanently delete this file from Slack?"):T.t("Are you sure you want to delete this file permanently?"),o.a.createElement(E.a,{title:T.t("Delete file"),goButtonText:T.t("Yes, delete this file"),goButtonType:"danger",overlayClassName:"p-delete_file_dialog",onGo:this.onGo},r,o.a.createElement(I.a,{file:t,className:"margin_top_100"}))}}]),t}(i.PureComponent);N.displayName="DeleteFileDialog",N.defaultProps=R;var x={deleteFile:function(){return j.c.apply(void 0,arguments)},enqueueToast:function(){return y.c.apply(void 0,arguments)}},M=Object(v.b)(function(e,t){return{file:Object(O.h)(e,t.fileId),logger:Object(S.a)(e),featureModernDeleteFile:Object(_.j)(e,"feature_modern_delete_file")}},x)(N),P=Object(s.b)("Opens the delete file dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isStackable,i=a()(n,["isStackable"]);e(Object(c.e)({element:o.a.createElement(M,i),isStackable:r}))});P.propTypes={fileId:g.b.string.isRequired};t.a=P},"N0/W":function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("u3oV"),c=n("jeQL"),l=n("zmn3"),u=n("aK/h"),d=n("uf9I"),b=n("P2f5"),p=n("P9LH"),h=n("7dvU"),m=n("PhTC"),f=n("om+M"),v=n("4zXV"),g=n("OqoL"),_=n("Smdl"),O=n("XfeM"),y=n("Cbpi"),j=n("HO/Y"),k=n("St+r"),E=Object(O.b)("Dispatches degraded mode rtm events and requests offline history for relevant channels/threads",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileIds,a=n.channelId,i=n.threadTs,o=n.broadcast,s=t(),c=Object(j.b)(s);r.forEach(function(t){e(Object(k.c)({type:"file_created",file:{id:t},file_id:t,user_id:c}))});setTimeout(function(){i&&!o||e(Object(y.a)({channelId:a})),i&&e(Object(y.a)({channelId:a,threadTs:i}))},5e3)});E.propTypes={fileIds:u.b.arrayOf(u.b.string).isRequired,channelId:u.b.string.isRequired,threadTs:u.b.string,broadcast:u.b.bool},n.d(t,"l",function(){return C}),n.d(t,"s",function(){return I}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"j",function(){return T}),n.d(t,"i",function(){return R}),n.d(t,"d",function(){return N}),n.d(t,"g",function(){return P}),n.d(t,"e",function(){return A}),n.d(t,"f",function(){return D}),n.d(t,"h",function(){return L}),n.d(t,"a",function(){return q}),n.d(t,"o",function(){return F}),n.d(t,"r",function(){return B}),n.d(t,"n",function(){return U}),n.d(t,"m",function(){return H}),n.d(t,"q",function(){return K}),n.d(t,"k",function(){return G}),n.d(t,"p",function(){return V});var C=Object(f.a)("Saves a file to Dropbox",function(e,t,n){return e(Object(v.a)({method:"files.getTempURL",args:{file:n.id},EXPEDITED:!0})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).url;e&&window.Dropbox.save(e,n.name)})});C.propTypes=u.b.object;var I=Object(f.a)("Uploads an external (Box or Dropbox) file to `files.uploadExternal`",function(e,t,n){var r=n.channels,a=n.link,i=n.title,o=n.broadcast,s=n.initialComment,c=n.blocks,l=n.threadTs,u=n.reason;return e(Object(v.a)({method:"files.uploadExternal",args:{channels:r,link:a,title:i,broadcast:o,initial_comment:s,blocks:JSON.stringify(c),thread_ts:l},reason:u}))});I.propTypes={channels:u.b.string.isRequired,link:u.b.string.isRequired,title:u.b.string,initialComment:u.b.string,blocks:u.b.array,broadcast:u.b.bool,threadTs:u.b.string,reason:u.b.string};var w=Object(f.a)("Calls the files.createExternal endpoint",function(e,t,n){var r=n.serviceStub,a=n.mimeType,i=n.filename,o=n.openEdit,s=n.reason;return e(Object(v.a)({method:"files.createExternal",args:{service_stub:r,mime_type:a,filename:i,open_edit:o},reason:s}))});w.propTypes={serviceStub:u.b.string.isRequired,mimeType:u.b.string.isRequired,filename:u.b.string,openEdit:u.b.string,reason:u.b.string};var S=Object(f.a)("Deletes a file",function(e,t,n){var r=n.fileId,a=n.reason;return e(Object(v.a)({method:"files.delete",args:{file:r},reason:a}))});S.propTypes={fileId:u.b.string.isRequired,reason:u.b.string.isRequired};var T=Object(f.a)("Calls the files.refresh endpoint",function(e,t,n){var r=n.fileId;return e(Object(v.a)({method:"files.refresh",args:{file:r}}))});T.propTypes={fileId:u.b.string.isRequired};var R=Object(f.a)("Calls the files.list endpoint",function(e,t,n){var r=n.user,a=n.channelId,i=n.types,o=n.count,s=n.page,l=n.tsFrom,u=n.tsTo,d=n.reason,b=Object(c.a)({user:r,channel:a,types:i,count:o,page:s,ts_from:l,ts_to:u},function(e){return null==e||""===e||"all"===e});return e(Object(v.a)({method:"files.list",args:b,reason:d}))});R.propTypes={user:u.b.string,types:u.b.string,count:u.b.number,page:u.b.number,tsFrom:u.b.number,tsTo:u.b.number,reason:u.b.string.isRequired};var N=Object(f.a)("Edits a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.title,i=n.removeThumbPdf,s=n.content,c=n.filetype,l=n.reason,u=void 0===l?"fetching-a-file-object-for-edits":l;if(!r)return Promise.reject(new Error("editFile: No file ID provided"));var d=t(),h=Object(b.h)(d,r),m=Object(p.b)(h);if(i&&!m)return Promise.reject(new Error("editFile: File is not an office file. Cannnot remove preview on a non office file"));var f=o()({file:r},a&&{title:a},i&&{remove_thumb_pdf:i},s&&{content:s},c&&{filetype:c});return e(Object(v.a)({method:"files.edit",reason:u,args:f}))});N.propTypes={fileId:u.b.string.isRequired,title:u.b.string.isRequired};var x={},M=Object(f.a)("Fetches file info",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,i=n.reason;if(!r)return Promise.reject(new Error("fetchFileById: No file ID provided"));var s=t(),c=Object(d.b)(s);if(x[c]||(x[c]={}),x[c][r])return x[c][r];var l=e(Object(v.a)({method:"files.info",args:{file:r,page:1,count:500,truncate:1},reason:i})).then(function(e){var t=e.file,n=a()(e,["file"]);return t&&t.id!==r&&Object(p.c)(t)?o()({},t,{id:r,isMigratedFromLegacyPost:!0,docsId:t.id,comments:n.comments,content:n.content,content_html:n.content_html,content_highlight_html:n.content_highlight_html}):o()({},t,{comments:n.comments,content:n.content,content_html:n.content_html,content_highlight_html:n.content_highlight_html})}).catch(function(e){if(e&&e.data&&"file_deleted"===e.data.error)return Object(m.a)(r);throw e}).finally(function(e){return delete x[c][r],e});return x[c][r]=l,l});M.propTypes={fileId:u.b.string.isRequired,reason:u.b.string};var P=Object(f.a)("Fetches file info for multiple files",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileIds,a=n.reason;return r?1===r.length?e(M({fileId:r[0],reason:a})).then(function(e){return[e]}).catch(function(){return[]}):e(Object(v.a)({method:"files.list",args:{files:r},reason:a})).then(function(e){return e.files}):Promise.reject(new Error("fetchFilesById: No file IDs provided"))});P.propTypes={fileIds:u.b.arrayOf(u.b.string).isRequired,reason:u.b.string};var A=Object(f.a)("Fetches and upserts a file from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.reason;return e(M({fileId:r,reason:a})).then(function(t){return e(Object(h.b)({files:[t]}))}).then(function(e){return e[0]})});A.propTypes={fileId:u.b.string.isRequired,reason:u.b.string};var D=Object(f.a)("Fetches and upserts file info for multiple files",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileIds,a=n.reason;return e(P({fileIds:r,reason:a})).then(function(t){return e(Object(h.a)({files:t}))})});D.propTypes={fileIds:u.b.arrayOf(u.b.string).isRequired,reason:u.b.string};var L=Object(f.a)("Gets an edge upload URL",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileName,a=n.fileSize,i=n.snippetType,o=n.reason;return e(Object(v.a)({method:"files.getUploadURL",args:{filename:r,length:a,snippet_type:i},reason:o}))});L.propTypes={fileName:u.b.string.isRequired,fileSize:u.b.number.isRequired,snippetType:u.b.string,reason:u.b.string};var q=Object(f.a)("Finalizes an upload start with files.getUploadURL",function(e,t,n){var r=n.fileId,a=n.files,i=n.channelId,o=n.introMessage,c=n.blocks,u=n.title,d=n.broadcast,b=n.threadTs,p=n.clientMsgId,h=n.reason;return e(Object(v.a)({method:"files.completeUpload",args:Object(s.a)({file:r,files:JSON.stringify(a),channel:i,intro:o,blocks:JSON.stringify(c),title:u,broadcast:d,thread_ts:b,client_msg_id:p}),reason:h})).tap(function(){if(Object(_.a)()){var t=r?[r]:Object(l.a)(a,"id");e(E({fileIds:t,channelId:i,threadTs:b,broadcast:d}))}})});q.propTypes={fileId:u.b.string,files:u.b.arrayOf(u.b.shape({id:u.b.string.isRequired,title:u.b.string.isRequired})),channelId:u.b.string,introMessage:u.b.string,blocks:u.b.array,title:u.b.string,broadcast:u.b.bool,threadTs:u.b.string,clientMsgId:u.b.string,reason:u.b.string};var F=Object(f.a)("Calls files.share",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.channelId,i=n.msgText,o=n.blocks,s=n.shareQuietly,c=n.reason,l=void 0===c?"":c,u={file:r,channel:a,comment:Object(g.b)(t(),i),blocks:JSON.stringify(o),resharing_aware:!0};return s&&(u.share_quietly=!0),e(Object(v.a)({method:"files.share",args:u,reason:l}))});F.propTypes={fileId:u.b.string,channelId:u.b.string,msgText:u.b.string,shareQuietly:u.b.bool};var B=Object(f.a)("Calls files.unshare",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.channelId,i=n.reason,o=void 0===i?"":i,s={file:r,channel:a};return e(Object(v.a)({method:"files.unshare",args:s,reason:o}))});B.propTypes={fileId:u.b.string,channelId:u.b.string};var U=Object(f.a)("Sets the non-owner editability of a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.nonOwnerEditability;return e(Object(v.a)({method:"files.docs.setNonOwnerEditability",reason:"allowing-a-file-to-be-edited-by-non-owners",args:{file:r,non_owner_editability:a}}))});U.propTypes={fileId:u.b.string.isRequired,nonOwnerEditability:u.b.bool.isRequired};var H=Object(f.a)("Sets the non-owner editability of a file",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;return e(Object(v.a)({method:"files.docs.setEditor",reason:"set-a-baton-to-edit-a-file",args:{file:n}}))});H.propTypes={fileId:u.b.string.isRequired};var K=Object(f.a)("Sets the non-owner editability of a file",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId;return e(Object(v.a)({method:"files.docs.unsetEditor",reason:"releasing-a-baton-to-edit-a-file",args:{file:n}}))});K.propTypes={fileId:u.b.string.isRequired};var G=Object(f.a)("Revokes a public url generated for a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.reason;return e(Object(v.a)({method:"files.revokePublicURL",reason:a||"revoking-public-url-of-file",args:{file:r}}))});G.propTypes={fileId:u.b.string.isRequired};var V=Object(f.a)("Share a public url for a file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.reason;return e(Object(v.a)({method:"files.sharedPublicURL",reason:a||"sharing-public-url-of-file",args:{file:r}}))});V.propTypes={fileId:u.b.string.isRequired}},N1Yt:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("k9sz"),o=n.n(i),s=n("aK/h");n("HE7G"),s.b.node.isRequired,s.b.number.isRequired;function c(e){var t=e.children,n=e.lines,i=Object(r.useRef)(),s=Object(r.useRef)();return Object(r.useEffect)(function(){i.current.textContent!==s.current&&(o()(i.current,{clamp:n}),s.current=i.current.textContent)}),a.a.createElement("span",{className:"c-truncate",ref:i},t)}c.displayName="Truncate",t.a=c},N2fK:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=n("aK/h"),_=n("TSYQ"),O=n.n(_),y=n("tn36"),j=n("XLFM"),k=n("od5y"),E=(n("WLCO"),g.b.string,g.b.func,g.b.func,g.b.func,g.b.string,g.b.string,g.b.string,g.b.bool,g.b.bool,g.b.func,g.b.func,{title:"",onTitleClick:null,onLeftArrowClick:null,onRightArrowClick:null,titleLabel:void 0,leftArrowLabel:void 0,rightArrowLabel:void 0,rightArrowIsDisabled:!1,leftArrowIsDisabled:!1,onFocus:m.a,onBlur:m.a}),C=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.titleRef=null,Object(y.a)(n,["setTitleRef"]),n}return h()(t,e),u()(t,[{key:"setTitleRef",value:function(e){this.titleRef=e}},{key:"focus",value:function(){this.titleRef&&this.titleRef.focus()}},{key:"renderButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.className,r=o()(t,["className"]),i=O()("c-calendar_view_header__stepper_btn",n);return v.a.createElement(j.c,a()({className:i},r),v.a.createElement(k.b,{type:e}))}},{key:"renderLeftArrow",value:function(){return this.props.onLeftArrowClick?this.renderButton("chevron-large-left",{onClick:this.props.onLeftArrowClick,className:"c-calendar_view_header__left_stepper_btn","aria-label":this.props.leftArrowLabel,"data-qa":"cal_header_prev_btn",disabled:this.props.leftArrowIsDisabled}):null}},{key:"renderRightArrow",value:function(){return this.props.onRightArrowClick?this.renderButton("chevron-large-right",{onClick:this.props.onRightArrowClick,className:"c-calendar_view_header__right_stepper_btn","aria-label":this.props.rightArrowLabel,"data-qa":"cal_header_next_btn",disabled:this.props.rightArrowIsDisabled}):null}},{key:"renderTitle",value:function(){var e=this.props,t=e.title,n=e.titleLabel,r=e.onTitleClick;return r?v.a.createElement(j.c,{className:"c-button-unstyled c-calendar_view_header__title_btn","data-qa":"cal_header_title",onClick:r,"aria-label":n||t,ref:this.setTitleRef},t):t}},{key:"render",value:function(){return v.a.createElement("div",{className:"c-calendar_view_header",onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderLeftArrow(),v.a.createElement("span",{className:"c-calendar_view_header__title"},this.renderTitle()),this.renderRightArrow())}}]),t}(f.Component);C.displayName="ViewHeader",C.defaultProps=E,t.a=C},N2p5:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f});var r=n("fp5s"),a=n("+Xah"),i=n("TSHB"),o=n("Z3Pq"),s=n("MXQz"),c=n("kxpR"),l=n.n(c),u=Object(s.a)(function(){return new DOMParser});function d(e){return u().parseFromString(e,"text/html")}function b(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).transform,n=void 0===t?a.a:t;return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?a.a:r;if(!t.currentNode)return null;var o=[];do{var s=t.currentNode,c=t.firstChild()&&e(t,{transform:i}),l=i(s,{children:c});o.push(l)}while(t.nextSibling());t.parentNode();return o}(e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),{transform:n})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return e?e.reduce(function(e,t){return function(n,r){var a=r.children;return t(n,{children:a,getDefaultOutput:e})}},t):null}function h(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).children;if(e instanceof Text)return e.data;if(e instanceof HTMLBodyElement)return t;var n=e.attributes,a=Object(i.a)(Object(o.a)(n,"name"),"value");return a.class&&(a.className=a.class,delete a.class),a.key=Object(r.a)("node-to-react"),l.a.createElement(e.tagName.toLowerCase(),a,t)}function m(e){return b(e,{transform:p(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],h)})}function f(e){return b(e,{transform:p(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}),e}},N36p:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("XHGt"),m=n("aK/h"),f=n("DTT0"),v=n("QbLZ"),g=n.n(v),_=n("UXvI"),O=n("TSYQ"),y=n.n(O),j=n("vSXf"),k=n("od5y"),E=n("RAhH"),C=n("nNoG"),I=n("2fzK"),w=(n("lHdP"),new C.b("image_viewer")),S=(m.b.string,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.number,m.b.oneOfType([m.b.string,m.b.number]),m.b.bool,m.b.bool.isRequired,m.b.func,m.b.func,{className:null,handleZoomIn:d.a,handleZoomOut:d.a,handleReset:d.a,handleZoomToActualPixels:d.a,handleSlider:d.a,handlePan:d.a,level:.5,displayLevel:.5,isVisible:!0,onMouseEnter:d.a,onMouseLeave:d.a}),T=function(e,t){return p.a.createElement(b.Fragment,null,p.a.createElement("div",null,e),p.a.createElement("div",{className:"sk_light_gray"},t))};T.displayName="makeTooltipContentWithSubtext";var R=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputWidth=0,n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.handleSliderChange=n.handleSliderChange.bind(n),n.handleInactivity=n.handleInactivity.bind(n),n.throttledOnActivity=Object(_.a)(n.onActivity.bind(n),200,{leading:!0,trailing:!0}),n.inputRef=p.a.createRef(),n.state={isHoveringTooltip:!1,isRecentlyActive:!1},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.inputWidth=this.inputRef.current.getBoundingClientRect().width,this.forceUpdate(),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillReceiveProps",value:function(e){e.level!==this.props.level&&this.throttledOnActivity()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.activityTimeout),this.throttledOnActivity.cancel(),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"onKeyDown",value:function(e){var t=e.shiftKey?300:50;e.ctrlKey&&(this.isCtrlHeld=!0),Object(I.a)()&&!e.target.classList.contains("p-zoom__slider")||("+"===e.key||"="===e.key?e.metaKey||this.props.handleZoomIn():"-"===e.key?e.metaKey||this.props.handleZoomOut():" "!==e.key||e.repeat?"0"!==e.key||0===this.props.level||e.repeat?"ArrowDown"===e.key||"Down"===e.key?this.props.handlePan({x:0,y:-t},!0):"ArrowUp"===e.key||"Up"===e.key?this.props.handlePan({x:0,y:t},!0):"ArrowRight"===e.key||"Right"===e.key?this.props.handlePan({x:-t,y:0},!0):"ArrowLeft"!==e.key&&"Left"!==e.key||this.props.handlePan({x:t,y:0},!0):e.metaKey||this.props.handleReset():0===this.props.level?this.props.handleZoomToActualPixels():this.props.handleReset())}},{key:"onKeyUp",value:function(e){e.ctrlKey||(this.isCtrlHeld=!1)," "===e.key&&e.preventDefault()}},{key:"onActivity",value:function(){clearTimeout(this.activityTimeout),this.activityTimeout=setTimeout(this.handleInactivity,1e3),this.state.isRecentlyActive||this.setState(function(){return{isRecentlyActive:!0}})}},{key:"setIsHoveringTooltip",value:function(e){this.setState(function(){return{isHoveringTooltip:e,isRecentlyActive:!1}})}},{key:"handleInactivity",value:function(){this.setState(function(){return{isRecentlyActive:!1}})}},{key:"handleSliderChange",value:function(e){this.props.handleSlider(Number(e.target.value),this.isCtrlHeld)}},{key:"calcTooltipOffset",value:function(){return(this.props.level-.5)*(this.inputWidth-12)}},{key:"_makeSharedTooltipOptions",value:function(){var e=this;return{zIndex:"above_fs",onMouseEnter:function(){return e.setIsHoveringTooltip(!0)},onMouseLeave:function(){return e.setIsHoveringTooltip(!1)}}}},{key:"renderSlider",value:function(){var e=this;return p.a.createElement(E.c,g()({},this._makeSharedTooltipOptions(),{ref:function(t){e.tooltip=t},offsetX:this.calcTooltipOffset(),tip:this.props.displayLevel,shouldForceVisible:this.state.isRecentlyActive&&!this.state.isHoveringTooltip}),p.a.createElement("input",{className:"p-zoom__slider",type:"range",min:0,max:1,value:this.props.level,onChange:this.handleSliderChange,step:.01,onKeyDown:function(e){return e.preventDefault()},onKeyPress:function(e){return e.preventDefault()},ref:this.inputRef}))}},{key:"render",value:function(){var e=this,t=this.props.level>0;return this.props.featureModernImageViewer?p.a.createElement("div",{className:y()("p-zoom",this.props.className,{"p-zoom--hidden":!this.props.isVisible}),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},p.a.createElement("div",{className:"p-zoom__control_group"},p.a.createElement(E.c,g()({},this._makeSharedTooltipOptions(),{tip:T(w.t("Zoom out"),w.t("Press -"))}),p.a.createElement(k.b,{type:"minus",className:"p-zoom__button--zoom_out",onClick:function(){return e.props.handleZoomOut()}})),this.renderSlider(),p.a.createElement(E.c,g()({},this._makeSharedTooltipOptions(),{tip:T(w.t("Zoom in"),w.t("Press + or ="))}),p.a.createElement(k.b,{type:"plus",className:"p-zoom__button--zoom_in",onClick:function(){return e.props.handleZoomIn()}}))),p.a.createElement(E.c,g()({},this._makeSharedTooltipOptions(),{tip:T(w.t("Reset"),w.t("Press space"))}),p.a.createElement(k.b,{type:"collapse-vertical",className:"p-zoom__control_group p-zoom__button--reset",disabled:!t,onClick:this.props.handleReset}))):null}}]),t}(b.PureComponent);R.displayName="ZoomControl",R.defaultProps=S;var N=Object(j.a)("feature_modern_image_viewer")(R),x=n("yU6Y"),M=n.n(x),P=n("CpTu"),A=function(e){var t=e.value,n=e.min,r=e.max;return Math.max(n,Math.min(r,t))},D=function(e,t){return{left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}},L=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}};function q(e){return M.a.mac?e.metaKey:e.ctrlKey}var F=function(e){var t=e.scale,n=e.translate,r=e.minScale,a=e.size,i=g()({},n);return Math.abs(n.y)>a.height/2*(t-r)&&(i.y=Math.sign(n.y)*(a.height/2)*(t-r)),Math.abs(n.x)>a.width/2*(t-r)&&(i.x=Math.sign(n.x)*(a.width/2)*(t-r)),i},B=function(e){var t=e.value,n=e.direction,r=e.steps,a=1===n,i=a?r:r.slice().reverse();return Object(P.a)(i,function(e){return function(e,t){return(a?e<t:e>t)&&e!==t}(t,e)})},U=function(e){var t=e.point,n=e.containerRect,r=e.targetRect,a=e.prevScale,i=e.newScale,o=e.prevTranslate,s=e.minScale,c=e.maxScale,l=A({value:i,min:s,max:c}),u=l-a,d=L(n),b=(t.x-o.x-d.x)/a,p=(t.y-o.y-d.y)/a;return{scale:l,translate:F({scale:l,translate:{x:o.x-b*u,y:o.y-p*u},minScale:s,size:r})}},H=(m.b.node.isRequired,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.bool,m.b.bool,m.b.object,{handleZoomIn:d.a,handleZoomOut:d.a,handlePan:d.a,handleZoomDelta:d.a,handleBoxZoom:d.a,handleReset:d.a,canZoomIn:!1,canZoomOut:!1,containerRect:null}),K=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseWheel=n.onMouseWheel.bind(n),n.onDocumentCaptureClick=n.onDocumentCaptureClick.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.state={cursor:"default",dragBoxCSSPosition:null},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){document.addEventListener("wheel",this.onMouseWheel),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("click",this.onDocumentCaptureClick,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=this.determineCursor(e);this.setCursor(t)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("wheel",this.onMouseWheel),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("click",this.onDocumentCaptureClick,!0)}},{key:"onMouseDown",value:function(e){e.stopPropagation(),this.isMouseDown=0===e.button,this.dragOrigin={x:e.clientX,y:e.clientY},this.numMouseMoves=0,this.wasPlatformCtrlDownAtStart=q(e),this.wasAltKeyDownAtStart=e.altKey,this.setCursor()}},{key:"onMouseMove",value:function(e){if(this.isAltKeyDown=e.altKey,this.isPlatformCtrlDown=q(e),this.setCursor(),this.isMouseDown){if(this.numMouseMoves+=1,this.wasPlatformCtrlDownAtStart){var t=D(this.dragOrigin,{x:e.clientX,y:e.clientY}),n=(r=t,a=this.props.containerRect,g()({},r,{left:r.left-a.left,top:r.top-a.top}));this.setState(function(){return{dragBoxCSSPosition:n}})}else{if(!this.props.canZoomOut)return;this.props.handlePan({x:e.movementX,y:e.movementY})}var r,a;e.stopPropagation(),e.preventDefault()}}},{key:"onMouseUp",value:function(e){var t=this.isMouseDown,n=this.wasAltKeyDownAtStart,r=this.wasPlatformCtrlDownAtStart,a=this.numMouseMoves>5,i=!a||n,o=!n&&a&&r;if(this.shouldCancelClickEvent=t,this.isMouseDown=!1,this.isRightClick=!1,t){if(e.stopPropagation(),e.preventDefault(),o){var s=D(this.dragOrigin,{x:e.clientX,y:e.clientY});this.props.handleBoxZoom(s),this.setState(function(){return{dragBoxCSSPosition:null}})}else if(i){var c={x:e.x,y:e.y};n?this.props.handleZoomOut(c):this.props.canZoomIn?this.props.handleZoomIn(c,!0):this.props.handleReset()}this.setCursor()}}},{key:"onDocumentCaptureClick",value:function(e){this.shouldCancelClickEvent&&e.stopPropagation()}},{key:"onMouseWheel",value:function(e){e.preventDefault(),e.stopPropagation();var t={x:e.clientX,y:e.clientY};if(0===e.deltaMode){e.ctrlKey?this.props.handleZoomDelta(t,.01*-e.deltaY):this.props.handlePan({x:.6*-e.deltaX,y:.6*-e.deltaY})}else{this.props.handleZoomDelta(t,.01*-e.deltaY)}}},{key:"onKeyDown",value:function(e){e.altKey&&(this.isAltKeyDown=!0),q(e)&&(this.isPlatformCtrlDown=!0),this.setCursor()}},{key:"onKeyUp",value:function(e){e.altKey||(this.isAltKeyDown=!1),q(e)||(this.isPlatformCtrlDown=!1),this.setCursor()}},{key:"setCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.determineCursor();this.setState(function(){return{cursor:e}})}},{key:"determineCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return this.isPlatformCtrlDown?"crosshair":e.canZoomOut&&this.isMouseDown&&this.numMouseMoves>5?M.a.webkit?"-webkit-grabbing":"grabbing":e.canZoomOut&&this.isAltKeyDown||!e.canZoomIn?"zoom-out":e.canZoomIn?"zoom-in":M.a.webkit?"-webkit-grab":"grab"}},{key:"render",value:function(){var e=this,t=p.a.Children.only(this.props.children),n=p.a.cloneElement(t,{onClick:function(e){return e.stopPropagation()},onMouseDown:function(t){return e.onMouseDown(t)},style:g()({},t.props.style,{cursor:this.state.cursor})});return p.a.createElement(b.Fragment,null,n,this.state.dragBoxCSSPosition&&p.a.createElement("div",{className:"p-zoom__box",style:g()({},this.state.dragBoxCSSPosition)}))}}]),t}(b.PureComponent);K.displayName="ZoomMouseInteraction";var G=K;K.defaultProps=H;var V=n("hbEN"),z=n("jo6Y"),Y=n.n(z),W=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFullResImageLoaded:!1},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.requestFullImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.requestFullImage()}},{key:"componentWillUnmount",value:function(){this.fullResImage.onload=null}},{key:"onFullImageLoaded",value:function(){this.setState(function(e){return g()({},e,{isFullResImageLoaded:!0})})}},{key:"requestFullImage",value:function(){var e=this;this.fullResImage&&(this.fullResImage.onload=null),this.fullResImage=new Image,this.fullResImage.onload=function(){return e.onFullImageLoaded()},this.fullResImage.src=this.props.src,this.setState(function(e){return g()({},e,{isFullResImageLoaded:!1})})}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.fallbackSrc,r=e.alt,a=Y()(e,["src","fallbackSrc","alt"]);return p.a.createElement("img",g()({},a,{src:this.state.isFullResImageLoaded?t:n,alt:r}))}}]),t}(b.PureComponent);W.displayName="ImageWithLowResFallback";var Q=W,X=n("RQuH"),Z=function(e){return Object(X.a)(e,2,9)?{2:"0deg",3:"180deg",4:"180deg",5:"90deg",6:"90deg",7:"90deg",8:"-90deg"}[e]:"0deg"},J=(n("z9FX"),new C.b("image_viewer")),$=function(e){var t=e.width,n=e.height,r=e.orientation,a=Z(r);return"90deg"===a||"-90deg"===a?{width:n,height:t}:{width:t,height:n}},ee=(m.b.shape({width:m.b.number.required,height:m.b.number.required,url:m.b.string.required,orientation:m.b.number,thumbnailUrl:m.b.string,altText:m.b.string}),m.b.func,m.b.bool.isRequired,m.b.func,{image:null,onDidZoomLevelChange:d.a,closeImageViewer:d.a}),te=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scale:0,translate:{x:0,y:0},shouldAnimate:!0,isUserRecentlyActive:!1},n.scaleSteps=[0,.5,1,1.5,2],n.minScale=n.scaleSteps[0],n.maxScale=n.scaleSteps[n.scaleSteps.length-1],n.throttledOnUserActivity=Object(_.a)(n.onUserActivity.bind(n),200,{leading:!0,trailing:!0}),n.handleSlider=n.handleSlider.bind(n),n.handleZoomIn=n.handleZoomIn.bind(n),n.handleZoomOut=n.handleZoomOut.bind(n),n.handleZoomDelta=n.handleZoomDelta.bind(n),n.handleZoomToActualPixels=n.handleZoomToActualPixels.bind(n),n.handleBoxZoom=n.handleBoxZoom.bind(n),n.handleReset=n.handleReset.bind(n),n.handlePan=n.handlePan.bind(n),n.debouncedViewportResize=Object(V.a)(n.updateViewport.bind(n),200),n.handleUserInactivity=n.handleUserInactivity.bind(n),n.handleContainerClick=n.handleContainerClick.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.updateViewport(),window.addEventListener("resize",this.debouncedViewportResize)}},{key:"componentDidUpdate",value:function(e,t){e.image.url!==this.props.image.url&&this.updateViewport(),t.scale!==this.state.scale&&(this.props.onDidZoomLevelChange(this.normalizeScale()),this.throttledOnUserActivity())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.userActivityTimeout),this.throttledOnUserActivity.cancel(),this.debouncedViewportResize.cancel(),window.removeEventListener("resize",this.debouncedViewportResize)}},{key:"onUserActivity",value:function(){clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout(this.handleUserInactivity,1800),this.state.isUserRecentlyActive||this.setState(function(){return{isUserRecentlyActive:!0}})}},{key:"handleUserInactivity",value:function(){this.mouseIsOverControl||this.setState(function(){return{isUserRecentlyActive:!1}})}},{key:"updateViewport",value:function(){var e=this;this.containerElement&&this.setState(function(t){var n=e.minScale,r=e.containerElement.getBoundingClientRect();return e.minScale=Math.min(1,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=e.width/e.height;return Math.min(r*(t.height-n),t.width-n)/e.width}($(e.props.image),r)),t.scale===n?{shouldAnimate:0!==n,scale:e.minScale,containerRect:r}:{containerRect:r}})}},{key:"handleZoomIn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(this.state.containerRect),n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(function(r){if(r.scale===e.maxScale)return r;var a=e.minScale<.9?1:2;n||(a=B({direction:1,value:r.scale,steps:e.scaleSteps}));var i=U(g()({},e._buildScaleOptions(r),{newScale:a,point:t}));return g()({},i,{shouldAnimate:!0})})}},{key:"handleZoomOut",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(this.state.containerRect);this.setState(function(n){if(n.scale===e.minScale)return n;var r=U(g()({},e._buildScaleOptions(n),{newScale:B({direction:-1,value:n.scale,steps:e.scaleSteps}),point:t}));return g()({},r,{shouldAnimate:!0})})}},{key:"handleZoomDelta",value:function(e,t){var n=this;this.setState(function(r){if(r.scale===n.minScale&&t<0||r.scale===n.maxScale&&t>0)return r;var a=U(g()({},n._buildScaleOptions(r),{newScale:r.scale+t,point:e}));return g()({},a,{shouldAnimate:t>2})})}},{key:"handleReset",value:function(){var e=this;this.setState(function(){return{shouldAnimate:!0,scale:e.minScale,translate:{x:0,y:0}}})}},{key:"handleZoomToActualPixels",value:function(){this.setState(function(){return{shouldAnimate:!0,scale:1}})}},{key:"handlePan",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(function(r){return g()({shouldAnimate:n},function(e){var t=e.delta,n=e.targetRect,r=e.prevScale,a=e.prevTranslate,i=e.minScale;return{translate:F({scale:r,translate:{x:a.x+t.x,y:a.y+t.y},minScale:i,size:n})}}({prevScale:r.scale,prevTranslate:r.translate,delta:e,minScale:t.minScale,targetRect:$(t.props.image)}))})}},{key:"handleBoxZoom",value:function(e){var t=this;this.setState(function(n){return g()({shouldAnimate:!0},function(e){var t=e.rect,n=e.prevScale,r=e.prevTranslate,a=e.minScale,i=e.maxScale,o=e.containerRect,s=e.targetRect,c=L(o),l=L(t),u=Math.min(o.width/t.width,o.height/t.height),d=A({value:n*u,min:a,max:i});return{scale:d,translate:F({scale:d,translate:{x:r.x*(d/n)-(l.x-c.x)*(d/n),y:r.y*(d/n)-(l.y-c.y)*(d/n)},minScale:a,size:s})}}({rect:e,prevScale:n.scale,prevTranslate:n.translate,maxScale:t.maxScale,minScale:t.minScale,targetRect:$(t.props.image),containerRect:n.containerRect}))})}},{key:"handleSlider",value:function(e,t){var n=this;this.setState(function(r){var a,i,o,s=(a={value:e,min:n.minScale,max:n.maxScale},i=a.value,o=a.min,i*(a.max-o)+o);t||(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08;return e<t+n&&e>t-n?t:e}(s,1,.02));var c=U(g()({},n._buildScaleOptions(r),{newScale:s}));return c.scale===r.scale?{}:g()({},c,{shouldAnimate:!0})})}},{key:"normalizeScale",value:function(){return e={value:this.state.scale,min:this.minScale,max:this.maxScale},t=e.value,n=e.min,(t-n)/(e.max-n);var e,t,n}},{key:"_buildScaleOptions",value:function(e){return{point:L(e.containerRect),prevTranslate:e.translate,prevScale:e.scale,maxScale:this.maxScale,minScale:this.minScale,targetRect:$(this.props.image),containerRect:e.containerRect}}},{key:"handleContainerClick",value:function(e){e.target===this.containerElement&&this.props.closeImageViewer()}},{key:"render",value:function(){var e=this;if(!this.props.featureModernImageViewer)return null;var t=this.props.image.orientation,n=Z(t),r=function(e){return Object(X.a)(e,2,9)?{2:{x:-1,y:1},3:{x:1,y:1},4:{x:-1,y:1},5:{x:1,y:-1},6:{x:1,y:1},7:{x:-1,y:1},8:{x:1,y:1}}[e]:{x:1,y:1}}(t),a=this.props.image,i=a.width,o=a.height;return p.a.createElement("div",{className:"p-image_viewer",ref:function(t){e.containerElement=t},onClick:this.handleContainerClick},p.a.createElement(G,{handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleZoomDelta:this.handleZoomDelta,handlePan:this.handlePan,handleBoxZoom:this.handleBoxZoom,handleReset:this.handleReset,canZoomIn:this.state.scale===this.minScale,canZoomOut:this.state.scale!==this.minScale,containerRect:this.state.containerRect},p.a.createElement(Q,{src:this.props.image.url,fallbackSrc:this.props.image.thumbnailUrl,alt:this.props.image.altText||"",className:"p-image_viewer__image",width:i,height:o,onMouseMove:this.throttledOnUserActivity,onDragStart:function(t){(q(t)||e.state.scale!==e.minScale)&&t.preventDefault()},style:{transition:this.state.shouldAnimate?"200ms transform ease":"",transform:"translate3d("+this.state.translate.x+"px, "+this.state.translate.y+"px, 0) rotate("+n+") scale("+this.state.scale*r.x+", "+this.state.scale*r.y+"\n\t\t\t\t\t\t\t)"}})),p.a.createElement("div",{className:"p-image_viewer__zoom_positioner"},p.a.createElement(N,{className:"p-image_viewer__zoom_control",isVisible:this.state.isUserRecentlyActive,handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleSlider:this.handleSlider,handleReset:this.handleReset,handleZoomToActualPixels:this.handleZoomToActualPixels,handlePan:this.handlePan,level:this.normalizeScale(),onMouseEnter:function(){e.mouseIsOverControl=!0},onMouseLeave:function(){e.mouseIsOverControl=!1},displayLevel:J.t("{imageScale}%",{imageScale:Math.round(100*this.state.scale)})})))}}]),t}(b.PureComponent);te.displayName="ImageViewerWithZoom",te.defaultProps=ee;var ne=Object(j.a)("feature_modern_image_viewer")(te),re=n("sk9p"),ae=n.n(re),ie=n("6LIB"),oe=n("yHhI"),se=n("HO/Y"),ce=n("cD5Y"),le=n("7WZX"),ue=n("qafc"),de=(n("d/c/"),new C.b("file_viewer")),be=new C.b("file"),pe="pdf_iframe_ready",he="corrupt_pdf",me="close_file_viewer",fe="pdf_pages",ve=(m.b.string,m.b.bool,m.b.object.isRequired,m.b.bool,m.b.func,m.b.func,{src:null,isConvertedPdf:!1,featureReactFileViewer:!1,closeModal:d.a,enqueueToast:d.a}),ge=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMessage=n.onMessage.bind(n),n.onViewerReady=d.a,n.fetchPromise=null,n.viewerPromise=null,n.state={loading:!0,error:null},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.src&&(this.fetchPromise=this.fetchPDF(),this.viewerPromise=new Promise(function(t){e.onViewerReady=t}),this.init(),window.addEventListener("message",this.onMessage))}},{key:"componentWillUnmount",value:function(){this.fetchPromise&&this.fetchPromise.cancel(),this.viewerPromise&&this.viewerPromise.cancel(),window.removeEventListener("message",this.onMessage)}},{key:"onError",value:function(){this.setState(function(){return{loading:!1,error:!0}})}},{key:"onMessage",value:function(e){var t=this.props,n=t.logger,r=t.isConvertedPdf,a=t.featureReactFileViewer;if(e.origin===window.location.origin)if(e.source&&e.source.parent===window)switch(this.getMessageType(e.data)){case pe:n.debug("PDF-VIEWER","iframe ready"),this.onViewerReady(e.source);break;case me:n.debug("PDF-VIEWER","requesting close"),this.props.closeModal();break;case he:n.error("PDF-VIEWER","corrupt PDF"),this.onError();break;case fe:if(!r)break;if(25!==e.data.pdf_pages)break;var i=a?be.t("You\u2019re previewing the first 25 pages of this file. Download the file to see all pages."):"",o=p.a.createElement(ue.b,{},i);this.props.enqueueToast({element:o});break;default:n.warn("PDF-VIEWER","not handling unknown message",e.data)}else n.error("PDF-VIEWER","Received a message from a source that is not a child");else n.error("PDF-VIEWER","Received a message from an unknown origin",e.origin)}},{key:"getMessageType",value:function(e){return Object(ie.a)(e)&&e.pdf_pages?fe:e}},{key:"init",value:function(){var e=this;Promise.all([this.fetchPromise,this.viewerPromise]).then(function(t){var n=ae()(t,2),r=n[0],a=n[1];e.props.logger.debug("PDF-VIEWER","all good! ready to send",r,a),e.setState(function(){return{loading:!1}}),e.sendPDF(r,a)}).catch(function(t){e.props.logger.error(t),e.onError()})}},{key:"fetchPDF",value:function(){var e=this.props.src;return e?new Promise(function(t,n,r){var a=new XMLHttpRequest;a.addEventListener("load",function(){t(a.response)}),a.addEventListener("error",function(){n(new Error("PDF load request failed with status "+a.status))}),r(a.abort),a.responseType="arraybuffer",a.withCredentials=!0,a.open("GET",e),a.send()}):Promise.reject(new Error("No PDF src specified"))}},{key:"sendPDF",value:function(e,t){var n=this.props.logger;if(!e||!t)return n.error("PDF-VIEWER","wtf? no data or viewer",e,t),void this.onError();n.debug("PDF-VIEWER","sending buffer to iframe",e,t),t.postMessage(e,window.location.origin,[e])}},{key:"renderError",value:function(){return p.a.createElement("div",{className:"p-pdf_viewer__error"})}},{key:"renderLoading",value:function(){return this.state.loading?p.a.createElement("div",{className:"p-pdf_viewer__loading"},p.a.createElement(ce.a,null)):null}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.featureReactFileViewer,r=this.state.error;return n?!t||r?this.renderError():p.a.createElement("div",{className:"p-pdf_viewer"},this.renderLoading(),p.a.createElement("iframe",{className:"p-pdf_viewer__frame",src:"/pdf-viewer",ref:this.viewer,title:de.t("PDF Viewer")})):null}}]),t}(b.Component);ge.displayName="PDFViewer",ge.defaultProps=ve;var _e={closeModal:function(){return f.a.apply(void 0,arguments)},enqueueToast:le.c},Oe=Object(h.b)(function(e){return{logger:Object(oe.a)({state:e}),featureReactFileViewer:Object(se.j)(e,"feature_react_file_viewer")}},_e)(ge),ye=n("u2vH"),je=(n("lm4U"),new C.b("file_viewer")),ke=(m.b.string,m.b.bool,m.b.func,{src:null,featureReactFileViewer:!1,closeViewer:d.a}),Ee=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerElement=p.a.createRef(),n.handleContainerClick=n.handleContainerClick.bind(n),n}return u()(t,e),o()(t,[{key:"handleContainerClick",value:function(e){e.target===this.containerElement.current&&this.props.closeViewer()}},{key:"renderError",value:function(){return p.a.createElement("div",{className:"p-pdf_viewer__error"})}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.featureReactFileViewer,r=Object(ye.B)(t),a="https://www.youtube.com/embed/"+r;return n?t&&""!==r?p.a.createElement("div",{className:"p-youtube_viewer",ref:this.containerElement,onClick:this.handleContainerClick},p.a.createElement("div",{className:"p-youtube_viewer__video"},p.a.createElement("div",{className:"p-youtube_viewer__responsive_container"},p.a.createElement("iframe",{className:"p-youtube_viewer__iframe",src:a,frameBorder:"0",allowFullScreen:!0,title:je.t("Youtube Video for App")})))):this.renderError():null}}]),t}(b.Component);Ee.displayName="YoutubeViewer",Ee.defaultProps=ke;var Ce=Object(h.b)(function(e){return{featureReactFileViewer:Object(se.j)(e,"feature_react_file_viewer")}})(Ee),Ie=(m.b.string,m.b.shape({src:m.b.string,width:m.b.number,height:m.b.number,orientation:m.b.number}),m.b.shape({src:m.b.string,isConvertedPdf:m.b.bool}),m.b.shape({src:m.b.string}),m.b.node,m.b.func,m.b.func,{title:void 0,image:void 0,pdf:void 0,youtube:void 0,children:null,onDidZoomLevelChange:d.a,closeFileViewer:d.a}),we=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderImageViewer",value:function(){var e=this.props,t=e.title,n=e.image,r=e.onDidZoomLevelChange;return n?p.a.createElement(ne,{key:n.src,onDidZoomLevelChange:r,image:{url:n.src,alt:t,width:n.width,height:n.height,orientation:n.orientation,thumbnailUrl:n.thumbnailUrl},closeImageViewer:this.props.closeFileViewer}):null}},{key:"renderPDFViewer",value:function(){var e=this.props.pdf;return e?p.a.createElement(Oe,{src:e.src,isConvertedPdf:e.isConvertedPdf}):null}},{key:"renderYoutubeViewer",value:function(){var e=this.props.youtube;return e?p.a.createElement(Ce,{src:e.src,closeViewer:this.props.closeFileViewer}):null}},{key:"render",value:function(){return p.a.createElement("div",{className:"p-file_viewer__content"},this.renderImageViewer(),this.renderPDFViewer(),this.renderYoutubeViewer(),this.props.children)}}]),t}(b.Component);we.displayName="FileViewerContent",we.defaultProps=Ie;var Se={closeFileViewer:function(){return f.a.apply(void 0,arguments)}};t.a=Object(h.b)(null,Se)(we)},N4dO:function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"b",function(){return k}),n.d(t,"e",function(){return I}),n.d(t,"f",function(){return w}),n.d(t,"g",function(){return S}),n.d(t,"h",function(){return T});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("gSGL"),u=n("IzLi"),d=n("syB0"),b=n("aK/h"),p=n("XfeM"),h=n("EzZj"),m=n("MNvw"),f=n("U/ze"),v=n("lhZz"),g=n("uf9I"),_=n("yHhI"),O=n("YhFg").a,y=Object(h.b)("Add or replace channel member count info");y.propTypes={channelId:b.b.string.isRequired,countInfo:b.b.shape({counts:b.b.shape({member_count:b.b.number,restricted_member_count:b.b.number,teams_member_count:b.b.object}),last_fetched_ts:b.b.number}).isRequired};var j=Object(h.b)("Clear member count info for a channel");j.propTypes=b.b.string.isRequired;var k=Object(h.b)("Clear all member count info");k.propTypes=null;var E={},C=Object(m.b)((r={},i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.countInfo;return Object(l.a)(n)&&Object(u.a)(r)?s()({},e,i()({},n,r)):e}),i()(r,j,function(e,t){return t&&e[t]?Object(c.a)(e,t):e}),i()(r,k,function(){return E}),r),E,{persistenceEnabled:!0,beforeWriteTransform:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=s()({},e[n]),delete t[n].promise,t[n].should_refetch=!0}),t}});C.propTypes=b.b.objectOf(b.b.shape({last_fetched_ts:b.b.number,should_refetch:b.b.bool,counts:b.b.shape({app_count:b.b.number,member_count:b.b.number,restricted_member_count:b.b.number,teams_member_count:b.b.objectOf(b.b.number)})})),t.d=C;var I=Object(f.b)(function(e,t){return e&&Object(u.a)(e.memberCounts)&&e.memberCounts[t]}),w=Object(f.b)(function(e,t){if(!e||!e.memberCounts)return{};var n=I(e,t)||{should_refetch:!0};return n.should_refetch&&!n.promise&&Object(d.a)(v.dispatchForTeamId,Object(g.b)(e),S({channelId:t})),n}),S=Object(p.b)("Gets member counts for a given model object",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),a=I(r,n)||{should_refetch:!0},i=void 0;return a.should_refetch&&!a.promise&&(i=e(O({channelId:n,lastFetchedTs:a.last_fetched_ts})).then(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r&&!isNaN(r.everyone)||Object(_.a)({getState:t}).error(new Error("fetchMemberCountsForChannel error: 'counts.everyone' returned from user_counts_request is NaN for "+n+". Response received: "+JSON.stringify(r)+". Falling back to counts.members."));var a={counts:{member_count:r.people,restricted_member_count:r.guests,teams_member_count:r.external_teams,app_count:r.apps},last_fetched_ts:Date.now(),should_refetch:!!(I(t(),n)||{}).should_refetch};return e(y({channelId:n,countInfo:a})),a}).catch(function(){a=I(r,n)||{};var t=s()({},a,{should_refetch:!0});t.promise&&delete t.promise,e(y({channelId:n,countInfo:t}))}),a=s()({},a,{should_refetch:!1,promise:i})),a.counts&&!i||e(y({channelId:n,countInfo:a})),a});S.propTypes={channelId:b.b.string.isRequired};var T=Object(p.b)("Increments or decrements member counts for a given model object and marks that they should be fetched on future calls to getOrFetchMemberCounts",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.memberCountDelta,i=void 0===a?0:a,o=n.restrictedMemberCountDelta,c=void 0===o?0:o,l=n.appCountDelta,u=void 0===l?0:l,d=I(t(),r);if(d&&d.counts){var b=s()({},d,{counts:s()({},d.counts,{member_count:d.counts.member_count+i,restricted_member_count:d.counts.restricted_member_count+c,app_count:d.counts.app_count+u}),should_refetch:!0});e(y({channelId:r,countInfo:b}))}});T.propTypes={channelId:b.b.string.isRequired,memberCountDelta:b.b.number,restrictedMemberCountDelta:b.b.number,appCountDelta:b.b.number}},N52Z:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("vFlG"),c=n("0VPD"),l=n("Wy5O"),u=(n("uXhx"),n("oTSI")),d=n("7EGn"),b=n("OZf9"),p=n("Z0Cl"),h=n("/1FC"),m=n("m8R6"),f=n("aK/h"),v=n("9oTK"),g=n("NOj5"),_=n("cZF4"),O=n("BeL+"),y=n("ifKl"),j=n("4zXV"),k=n("Yg2s"),E=n("om+M"),C=n("J9z2"),I=Object(E.a)("fetch bot info",function(e,t,n){var r=n.ids,a=n.reason,i=void 0===a?"fetchBotsInfo":a;return e(Object(j.a)({method:"bots.info",args:{bots:r.join(",")},reason:i}))});I.propTypes={ids:f.b.array};var w,S=Object(E.a)("Fetches missing bots",(w=Object(v.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,s,u,b,p,h,m,f,j=r.ids,E=r.fetchConditionally,w=void 0===E||E,S=r.reason,T=void 0===S?"fetchBotsById":S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&j.length){e.next=2;break}return e.abrupt("return",Promise.resolve({bots:[],resolved:[],missing:[]}));case 2:return a=Object(O.a)(j).filter(C.a),e.next=5,Object(v.resolve)(t(Object(k.b)({ids:a,fetchConditionally:w})).then(function(e){var t=e.objects,n=e.failedIds;return{objects:t,resolved:Object(l.a)(j,n),missing:n}}));case 5:if(i=e.sent,o=i.resolved,s=i.missing,u=i.objects,!s||!s.length){e.next=18;break}return e.next=12,Object(v.resolve)(t(I({ids:s,reason:"fallback:"+T})).catch(y.a));case 12:return b=e.sent,p=Object(d.a)(b,"bots",[]),h=p.map(function(e){return e.id}),m=Object(c.a)(s,h),f=Object(l.a)(s,h),e.abrupt("return",{bots:Object(g.a)(u,p,"id"),resolved:Object(_.a)(o,m),missing:f});case 18:return e.abrupt("return",{bots:u,resolved:o,missing:s});case 19:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return w.apply(this,arguments)}));S.propTypes={ids:f.b.arrayOf(f.b.string).isRequired,reason:f.b.string,fetchConditionally:f.b.bool};var T=n("yHhI"),R=n("btvA"),N=n("1zbP"),x=n("HO/Y"),M=n("EzZj"),P=n("MNvw"),A=n("U/ze"),D=n("XfeM"),L=n("lhZz"),q=n("Fdc0"),F=n("UF3u"),B=n("EJiy"),U=n.n(B),H=n("dYt1");var K,G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,r){if(!r)return n;if(!n)return r;var a=Object(H.a)(n),i=!1;return Object(b.a)(r,function(n,r){var o,s=e[r];s?s(a[r],n)||(a[r]=n,i=!0):a[r]!==n&&!!a[r]!==n&&(/boolean|number|string/.test(void 0===(o=n)?"undefined":U()(o))||Object(T.b)().warn(r+" is not scalar! It needs to be handled by "+t+" specifically to see if it has changed! "+(void 0===n?"undefined":U()(n))),a[r]=n,i=!0)}),i?a:n}},V=n("uf9I"),z=n("ROZo"),Y=Object(z.b)("TS.apps.legacyGetAppByName"),W=n("1VpL"),Q=n("DtX9");n.d(t,"h",function(){return te}),n.d(t,"a",function(){return ne}),n.d(t,"c",function(){return ue}),n.d(t,"g",function(){return de}),n.d(t,"e",function(){return be}),n.d(t,"f",function(){return pe}),n.d(t,"d",function(){return he});var X=Object(M.b)("add a bot to the store");X.propTypes=f.b.shape({id:f.b.string.isRequired}).isRequired;var Z=Object(M.b)("bulk add bots to the store");Z.propTypes=f.b.arrayOf(f.b.shape({id:f.b.string.isRequired})).isRequired;var J=G({icons:F.a},"mergeBot"),$=function(e){return e.name&&e.isUnknown?Object(m.a)(e,"isUnknown"):e},ee=Object(P.b)((K={},a()(K,X,function(e,t){if(!t||!t.id)return e;var n=e[t.id];return n&&n.updated>t.updated?e:o()({},e,a()({},t.id,t))}),a()(K,Z,function(e,t){if(!t||!t.length||!Object(h.a)(t))return e;var n=Object(p.a)(t,function(t){if(!t||!t.id)return!1;var n=e[t.id];return!(n&&n.updated>t.updated)});if(!n.length)return e;var r=o()({},e);return Object(b.a)(n,function(e){r[e.id]=e}),r}),K),{},{persistenceEnabled:!0});ee.propTypes=f.b.objectOf(f.b.shape({id:f.b.string.isRequired}));t.b=ee;var te=Object(D.b)("Upsert a single bot to store, with logging",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.id){var r=re(t()),a=$(J(r[n.id],n));if(a!==r[n.id])Object(T.a)({getState:t}).debug("BOTS",'upsertBot: adding bot "'+n.id+'"'),e(X(a))}});te.propTypes={id:f.b.string.isRequired,name:f.b.string,icons:f.b.objectOf(f.b.string),isUnknown:f.b.bool,deleted:f.b.bool};var ne=Object(D.b)("Bulk upsert bots to store, with logging",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).bots,r=t(),a=Object(V.b)(r),i=re(r),o=[],s=[],c=Object(T.a)({getState:t});return Object(b.a)(n,function(e){if(e&&e.id){var t=$(J(i[e.id],e));t!==i[e.id]&&(o.push(t),i[e.id]?c.debug("BOTS",'bulkUpsertBot: updating existing bot "'+e.id+'"'):c.debug("BOTS",'bulkUpsertBot: adding bot "'+e.id+'"')),Object(N.b)(t)&&s.push(e.id)}}),o.length&&e(Z(o)),ce().markObjectsAsFresh(a,s),o});ne.propTypes={bots:f.b.arrayOf(f.b.shape(te.propTypes)).isRequired};var re=Object(A.b)(function(e){return e?e.bots:{}});function ae(e,t){var n=Object(L.getStateByTeamId)(e),r=Object(T.a)({teamId:e});return Object(x.r)(n)?Object(L.dispatchForTeamId)(e,S({ids:t,reason:"fetchBotsForTeamId"})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bots,n=e.missing;return n&&n.length&&(t&&t.length&&r.info("BOTS","Successful fetch: "+t.map(function(e){return e.id}).join(",")),r.info("BOTS","Failed fetch: "+n.join(","))),t}):Object(L.dispatchForTeamId)(e,I({ids:t})).then(function(e){return Object(d.a)(e,"bots")})}function ie(e,t){Object(L.dispatchForTeamId)(e,ne({bots:t}))}var oe=Object(u.a)(function(){return new N.a({fetch:ae,upsertKnown:ie,upsertNonExistent:ie,makeUnknownObject:function(){return{files:[]}}})});function se(e,t){return ae(e,t).then(function(t){return Object(L.dispatchForTeamId)(e,ne({bots:t}))})}var ce=Object(u.a)(function(){return new R.b({fetch:se,isEnabled:function(){return!0}})}),le=["B01","BSLACKBOT","B03"],ue=Object(A.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return!1;var r=Object(V.b)(e),a=re(e)[t];return!a&&Object(C.a)(t)&&n&&le.indexOf(t)<0?oe().fetchObjectWithId(r,t):(ce().maybeRefetch(r,t),a||!1)}),de=Object(A.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,r=t.botId,a=t.botProfile,i=void 0,o=void 0;n&&(i=Object(Q.c)(e,n)),r&&(o=ue(e,r));var s=void 0;!Object(N.b)(o)&&Object(N.b)(i)&&(s=Object(q.n)(i))&&s!==r&&(o=ue(e,s));var c=void 0;if(!Object(N.b)(o)&&a&&((c=a.id)&&c!==s&&c!==r&&(o=ue(e,c)),Object(N.b)(o)||(o=a)),!Object(N.b)(i)&&Object(N.b)(o)&&o.app_id){var l=Object(W.e)(e,o.app_id);if(Object(N.b)(l)){var u=l.app_user_id;u&&u!==n&&(i=Object(Q.c)(e,u))}}return{bot:o,member:i,memberIsHuman:Object(N.b)(i)&&!Object(q.ab)(i)}});de.propTypes=f.b.oneOfType([f.b.shape({userId:f.b.string,botId:f.b.string.isRequired,botProfile:f.b.object}),f.b.shape({userId:f.b.string.isRequired,botId:f.b.string,botProfile:f.b.object})]);var be=Object(A.b)(function(e,t){var n=ue(e,t);if(n&&n.name)return n.name}),pe=(Object(A.b)(function(e,t){if(!e||!t||!t.is_bot)return null;var n=void 0,r=t.profile.api_app_id;if(!r){var a=Y(t);a&&(r=a.id)}return r?n="/apps/"+r:t.profile.bot_id&&(n="/services/"+t.profile.bot_id),n}),Object(A.b)(function(e,t){return Object(s.a)(e,["bots",t])})),he=(Object(A.b)(function(e){return e&&e.bots}),Object(A.b)(function(e,t){if(!e||!t)return null;var n=Object(Q.c)(e,t.user),r=t.bot_id||n&&n.profile&&n.profile.bot_id;if(!r)return null;if(t.bot_profile)return t.bot_profile.id!==r?o()({},t.bot_profile,{id:r}):t.bot_profile;var a=ue(e,r);return a||null}));Object(A.b)(function(e,t){if(!e||!t)return null;var n=Object(Q.c)(e,t.user),r=he(e,t),a=Object(T.a)({state:e}),i=r&&r.id||n&&n.profile&&n.profile.bot_id,o=r&&r.team_id;i&&!r&&a.warn("getBotInfoByMsg: failed to find a bot with ID '"+i+"'");var s=n&&n.profile&&n.profile.api_app_id||r&&r.app_id;return s||i?o?{botId:i,appId:s,teamId:o}:{botId:i,appId:s}:(a.warn("Unable to get bot info for message",t),null)}),Object(A.b)(function(e,t){if(!e||!t||!t.team_id)return null;var n=Object(V.b)(e),r=Object(V.a)(e);return n!==t.team_id&&!r})},N5a2:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("m1cH"),a=n.n(r),i=n("TGBA"),o=n("1Apa"),s=n("aK/h"),c=n("kxpR"),l=n.n(c),u=n("TSYQ"),d=n.n(u),b=n("OYPW"),p=n("RAhH"),h=(n("lZnb"),{SMALL:"small",MEDIUM:"medium",LARGE:"large"}),m={small:80,medium:120,large:160},f=(s.b.string,s.b.bool,s.b.oneOf([].concat(a()(Object(i.a)(h)),["random"])),s.b.bool,s.b.node,s.b.bool,{className:void 0,isNonExistent:!1,size:h.MEDIUM,subtler:!1,tooltip:void 0,invert:!1}),v=function(e){var t=e.className,n=e.invert,r=e.isNonExistent,a=e.size,s=e.subtler,c=e.tooltip,u=Object(b.a)(function(){return Object(o.a)(Object(i.a)(m))},[a]),h=m[a]||u,f=r?"non_existent":"unknown",v=l.a.createElement("span",{className:d()(t,"c-missing_text","c-missing_text--"+f,{"c-missing_text--subtler":s,"c-missing_text--unknown_inverted":"unknown"===f&&n,"c-missing_text--non_existent_inverted":r&&n}),style:{width:h}});return c?l.a.createElement(p.c,{tip:c},v):v};v.defaultProps=f,t.b=v},NAkb:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.tabcomplete.positionUIRelativeToInput",r.a)},NB3s:function(e,t,n){"use strict";var r=n("bo4X"),a=n("QEGb"),i=n("pmOY"),o=n("JVYW"),s=n("FdTv"),c=n("8W09"),l=n("CGJF"),u=n("QbLZ"),d=n.n(u),b=n("jo6Y"),p=n.n(b),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=n("aK/h"),_=(n("/lqa"),g.b.string.isRequired,g.b.string,g.b.number,g.b.string.isRequired,g.b.string,g.b.number,function(e){var t=e.alt,n=e.className,r=e.src,a=e.src2x,i=e.height,o=e.width,s=p()(e,["alt","className","src","src2x","height","width"]),c=a?r+" 1x, "+a+" 2x":void 0,l=m.a.createElement("img",d()({},s,{className:v()("c-sk-modal_image",n),src:r,srcSet:c,alt:t,height:i,width:o}));if(o&&i){var u=100*(i/o);return m.a.createElement("div",{style:{paddingTop:u+"%"},className:"c-sk-modal_image__container"},l)}return l});_.defaultProps={className:null,height:null,src2x:"",width:null};var O=_,y=n("+J1t"),j=n("c695"),k=n("D5XI"),E=(g.b.node,g.b.func,{children:void 0,onClick:function(e){return e()}});function C(e){var t=e.children,n=e.onClick,r=p()(e,["children","onClick"]);return m.a.createElement(k.a.Consumer,null,function(e){var a=e.closeModal;return m.a.createElement(j.a,d()({},r,{onClick:function(){return n(a)}}),t)})}C.displayName="ModalCloseButton",C.defaultProps=E;var I=C;n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,"h",function(){return i.a}),n.d(t,"d",function(){return o.a}),n.d(t,"j",function(){return s.a}),n.d(t,"f",function(){return c.a}),n.d(t,"g",function(){return l.a}),n.d(t,"i",function(){return O}),n.d(t,"c",function(){return I}),n.d(t,"e",function(){return y.a})},NBf8:function(e,t,n){},NV5S:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("7EGn"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("aK/h"),_=n("tn36"),O=n("U3Q0"),y=n("Jn9h"),j=n("P8Y3"),k=n("4Twu"),E=n("iB/r"),C=n("g0Ht"),I=n("nNoG"),w=n("DTT0"),S=n("DtX9"),T=n("Fdc0"),R=n("xoiQ"),N=n("clTI"),x=n("6kok"),M=(n("gE4N"),new I.b("apps")),P=(g.b.string,g.b.string.isRequired,g.b.arrayOf(C.a).isRequired,g.b.func.isRequired,g.b.func,g.b.func,g.b.string,g.b.any,g.b.func,g.b.bool,g.b.string,g.b.string,g.b.node,g.b.bool,{appName:void 0,goButtonText:void 0,cancelText:void 0,onClose:p.a,onDismiss:p.a,title:void 0,channelId:void 0,closeModal:p.a,shouldCloseOnGo:!0,children:void 0,isChannelImOrMpim:!1}),A=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(_.a)(n,["onGo","onCancel","onCloseButtonClick"]),n.state={confirmInProgress:!1},n}return b()(t,e),c()(t,[{key:"onGo",value:function(){var e=this.props,t=e.onAuthorize;return e.shouldCloseOnGo&&this.setState(function(){return{confirmInProgress:!0}}),t()}},{key:"onCancel",value:function(){return(0,this.props.onDismiss)()}},{key:"onCloseButtonClick",value:function(){this.props.closeModal(),this.props.onClose()}},{key:"renderTitle",value:function(){var e=this.props,t=e.appName,n=e.channelId,r=e.isChannelImOrMpim,a=e.title,i=void 0;return a?i=a:t&&n&&(i=r?M.rt("{appName} would like to do the following in your direct message with {channelName}:",{appName:t,channelName:f.a.createElement(k.a,{channelId:n,inline:!0,className:"bold"})}):M.rt("{appName} would like to do the following in {channelName}:",{appName:t,channelName:f.a.createElement(k.a,{channelId:n,inline:!0,className:"bold"})})),f.a.createElement("h3",{className:"normal bottom_margin top_margin align_center"},i)}},{key:"renderPendingImage",value:function(){return f.a.createElement("span",{className:"p-app_permission_dialog__app_icon--placeholder p-app_permission_dialog__app_icon"})}},{key:"render",value:function(){var e=this.props,t=e.appIcon,n=e.appName,r=e.cancelText,a=e.children,i=e.goButtonText,o=e.scopeInfo,s=e.onClose,c=e.shouldCloseOnGo,l=this.state.confirmInProgress,u={onGo:this.onGo,onCancel:this.onCancel,onClose:s,goButtonIsPending:l,goButtonIsDisabled:l,contentLabel:M.t("Grant {appName} Access",{appName:n}),className:"p-app_permission_dialog",showCloseButton:!1,showHeader:!1,goButtonText:i||M.t("Allow"),cancelText:r||M.t("Don\u2019t Allow"),useSlackScrollbar:!1,"data-qa":"app_permission_dialog",shouldCloseOnGo:c};return f.a.createElement(O.a,u,f.a.createElement(E.a,{"aria-label":M.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"generic_dialog"}),className:"c-dialog__close",onClick:this.onCloseButtonClick,icon:"times"}),f.a.createElement("div",{className:"align_center"},f.a.createElement(y.a,{className:"p-app_permission_dialog__app_icon",src:t,height:"48",width:"48",alt:n,renderPending:this.renderPendingImage})),this.renderTitle(),f.a.createElement(j.a,{scopeInfo:o}),a)}}]),t}(m.PureComponent);A.displayName="AppPermissionDialog",A.defaultProps=P,A.displayName="AppPermissionDialog";var D={closeModal:w.a},L=Object(v.b)(function(e,t){var n=t.appUserId,r=t.channelId,i=Object(N.d)(e,r),o={isChannelImOrMpim:Object(x.eb)(i)||Object(x.lb)(i)};if(!n)return o;var s=Object(S.c)(e,n);if(!s)return o;var c=Object(R.a)({size:48,teamId:s.team_id,memberId:n,avatarHash:Object(h.a)(s,"profile.avatar_hash")});return a()({},o,{appIcon:c.imageUrl,appName:Object(T.E)(s)})},D)(A),q=n("YEIV"),F=n.n(q),B=n("fvjX"),U=n("HO/Y"),H=n("dCAd"),K=n("negh"),G=n("kOzZ"),V=n("yPgC"),z=new I.b("apps"),Y=(g.b.string,g.b.string,g.b.string,g.b.object.isRequired,g.b.bool,g.b.func,g.b.func,g.b.bool,g.b.bool,g.b.arrayOf(V.a.ScopeInfo).isRequired,g.b.string.isRequired,{appIcon:void 0,appId:void 0,appName:void 0,featureWtaPermApiSplit:!1,fetchAppPermissionsAddScope:p.a,fetchAppPermissionsAddUser:p.a,hasChannelScopes:!1,isUserRequest:!1}),W={appUserId:g.b.string.isRequired},Q=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.referringEventId=null,n.referringUiContext=null,Object(_.a)(n,["handleClose","handleCancel","handleGo"]),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.appId&&this.trackClog(K.v.IMPRESSION)}},{key:"componentDidUpdate",value:function(e){!e.appId&&this.props.appId&&this.trackClog(K.v.IMPRESSION)}},{key:"getHandler",value:function(e){var t=e.didConfirm,n=this.props,r=n.isUserRequest,a=n.scopeInfo,i=n.triggerId,o=r?this.props.fetchAppPermissionsAddUser:this.props.fetchAppPermissionsAddScope,s=a.map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).scopes}).join(","),c=t?K.v.ALLOW:K.v.DO_NOT_ALLOW;return this.trackClog(c),o({didConfirm:t,scopes:s,triggerId:i})}},{key:"handleGo",value:function(){this.getHandler({didConfirm:!0})}},{key:"handleCancel",value:function(){this.getHandler({didConfirm:!1})}},{key:"handleClose",value:function(){this.trackClog(K.v.CLOSE)}},{key:"trackClog",value:function(e){var t,n=this.props,r=n.appId,a=n.clogger,i=n.isUserRequest?"APP_USER_REQUEST_DIALOG":"APP_PERMISSION_REQUEST_DIALOG",o=F()({},K.x.action,e);a.track(i,F()({contexts:(t={},F()(t,K.c.ui_context,o),F()(t,K.c.referring_ui_context,this.referringUiContext),F()(t,K.c.core,F()({},K.d.app_id,r)),t)},K.c.referring_event_id,this.referringEventId)),this.referringEventId=i,this.referringUiContext=o}},{key:"renderTitle",value:function(){var e=this.props,t=e.appName,n=e.featureWtaPermApiSplit,r=e.hasChannelScopes,a=e.isUserRequest;return t?(n?r:!a)?z.rt("{appName} would like to do the following in <strong>all channels it\u2019s a member of</strong>:",{appName:t}):z.t("{appName} would like to:",{appName:Object(I.n)(t)}):""}},{key:"render",value:function(){var e=this.props,t=e.appIcon,n=e.scopeInfo,r={appIcon:t,onAuthorize:this.handleGo,onClose:this.handleClose,onDismiss:this.handleCancel,scopeInfo:n,title:this.renderTitle()};return f.a.createElement(L,r)}}]),t}(m.PureComponent);Q.displayName="AppPermissionRequestDialog",Q.defaultProps=Y;var X=Object(v.b)(function(e,t){var n=t.appUserId,r=Object(S.c)(e,n);return{appIcon:Object(R.a)({size:48,teamId:r.team_id,memberId:n,avatarHash:Object(h.a)(r,"profile.avatar_hash")}).imageUrl,appId:Object(T.m)(r),appName:Object(T.E)(r),clogger:Object(G.a)({state:e}),featureWtaPermApiSplit:Object(U.j)(e,"feature_wta_perm_api_split")}},function(e){return Object(B.b)({fetchAppPermissionsAddScope:H.c,fetchAppPermissionsAddUser:H.d},e)})(Q);X.propTypes=W;var Z=X;n.d(t,"a",function(){return Z});t.b=L},NV6F:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("ifKl"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,t=!1;function n(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}return n.isRegistered=function(){return t},n.register=function(r){if(n.isRegistered())throw new Error("Already registered");t=!0,e=r},n},i=a(),o=a(function(){return null})},NWaE:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("hbEN"),b=n("ifKl"),p=n("kxpR"),h=n.n(p),m=n("aK/h"),f=n("XHGt"),v=n("nNoG"),g=n("HO/Y"),_=n("9ToC"),O=n("plEq"),y=(n("5vPQ"),new v.b("ui_validation")),j=(m.b.string.isRequired,m.b.string.isRequired,m.b.string,m.b.string,m.b.bool,m.b.func.isRequired,m.b.func.isRequired,m.b.func,m.b.node,m.b.object,{placeholder:"",initialEmailAddress:"",featureSonicEscCreation:!1,onInviteeEmailAddressKeyDown:b.a,customErrorMessage:null,inviteeEmailAddressErrors:{}}),k=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={emailAddress:e.initialEmailAddress||""},n.onInviteeEmailAddressChange=n.onInviteeEmailAddressChange.bind(n),n.validateEmailAddress=Object(d.a)(n.validateEmailAddress,500),n}return u()(t,e),o()(t,[{key:"onInviteeEmailAddressChange",value:function(e){var t=e;this.setState(function(){return{emailAddress:t}}),this.validateEmailAddress(t),this.props.onInviteeEmailAddressChange(t)}},{key:"getInviteeEmailAddressErrorString",value:function(){var e=this.props,t=e.customErrorMessage,n=e.inviteeEmailAddressErrors;return t||(n.hasInvalidEmailAddressWarning?y.t("This doesn\u2019t seem like an email address. Sorry!"):null)}},{key:"validateEmailAddress",value:function(e){var t={hasInvalidEmailAddressWarning:!Object(_.a)(e)};this.props.onInviteeEmailAddressValidationChange(t)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.featureSonicEscCreation,a=e.onInviteeEmailAddressKeyDown,i=e.placeholder,o=this.state.emailAddress;return r?h.a.createElement("label",{htmlFor:t,"data-qa":"invitee_email_address_input_label"},h.a.createElement("div",{className:"p-invitee_email_address_input__label_title"},h.a.createElement("strong",null,y.t("Invitee\u2019s email address"))),h.a.createElement("div",null,h.a.createElement(O.a,{value:o,placeholder:i||y.t("jane@acme-corp.com",{note:"Placeholder email address for an (admin) invitee of a shared channel invitation. Pairs with the acme-corp.com placeholder in the domain field, below (although, that string is in the shared_channels i18n namespace)"}),id:t,name:n,size:"large",onChange:this.onInviteeEmailAddressChange,onKeyDown:a,autoComplete:"off",useInlineAlert:!0,errorText:this.getInviteeEmailAddressErrorString()}))):null}}]),t}(p.Component);k.displayName="InviteeEmailAddressInput",k.defaultProps=j;t.a=Object(f.b)(function(e){return{featureSonicEscCreation:Object(g.j)(e,"feature_sonic_esc_creation")}})(k)},NXqO:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("3Hq1"),b=n("ifKl"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("tn36"),v=n("aK/h"),g=n("TSYQ"),_=n.n(g),O=n("wd/R"),y=n.n(O),j=n("hFPh"),k=n("nNoG"),E=(n("Da5w"),new k.b("date_picker")),C=(v.b.string,v.b.string,v.b.string,v.b.arrayOf(v.b.string),v.b.string,v.b.string,v.b.arrayOf(v.b.string),v.b.string,v.b.func,v.b.func,v.b.string,v.b.string,v.b.bool,{className:null,selectedStartDate:null,selectedEndDate:null,disabledDates:[],dateFormat:"YYYY-MM-DD",displayFormat:"MMMM D, YYYY",parseFormats:["YYYY-M-D"],monthTitleFormat:"MMMM YYYY",onStartDateChange:b.a,onEndDateChange:b.a,startDatePlaceholder:"",endDatePlaceholder:"",showInputs:!1}),I=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedStartDate:y()(e.selectedStartDate).isValid()?e.selectedStartDate:null,selectedEndDate:y()(e.selectedEndDate).isValid()?e.selectedStartDate:null},Object(f.a)(n,["handleStartDateChange","handleEndDateChange"]),n}return u()(t,e),o()(t,[{key:"handleStartDateChange",value:function(e){e!==this.state.selectedStartDate&&(this.setState(function(){return{selectedStartDate:e}}),this.props.onStartDateChange({selectedStartDate:e}))}},{key:"handleEndDateChange",value:function(e){e!==this.state.selectedEndDate&&(this.setState(function(){return{selectedEndDate:e}}),this.props.onEndDateChange({selectedEndDate:e}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabledDates,r=e.dateFormat,a=e.displayFormat,i=e.parseFormats,o=e.monthTitleFormat,s=e.startDatePlaceholder,c=e.endDatePlaceholder,l=e.showInputs,u=_()("c-date_range_picker",t);return h.a.createElement("div",{className:u},l?h.a.createElement(j.g,{startDate:this.state.selectedStartDate,endDate:this.state.selectedEndDate,dateFormat:r,displayFormat:a,parseFormats:i,startDatePlaceholder:s,endDatePlaceholder:c,onStartDateChange:this.handleStartDateChange,onEndDateChange:this.handleEndDateChange}):null,h.a.createElement(j.f,{selectedStartDate:this.state.selectedStartDate,selectedEndDate:this.state.selectedEndDate,disabledDates:n,monthTitleFormat:o,dateFormat:r,onStartDateChange:this.handleStartDateChange,onEndDateChange:this.handleEndDateChange}))}}]),t}(p.PureComponent);I.displayName="DateRangePicker",I.defaultProps=C,t.a=Object(m.b)(function(e,t){var n=t.startDatePlaceholder,r=t.endDatePlaceholder,a=n;Object(d.a)(a)&&(a=E.t("Start"));var i=r;return Object(d.a)(i)&&(i=E.t("End")),{startDatePlaceholder:a,endDatePlaceholder:i}})(I)},NZir:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("fvjX"),c=n("x4bP"),l=n("+JGq"),u=n("St+r"),d={autoPause:!0,actionSanitizer:function(e){switch(e.type){case l.a.getType():return o()({},e,{payload:"Channel bulk add payload is too big to output to redux devtools"});case u.x.getType():return o()({},e,{payload:"View raw WebSocket frames for details, but this was a "+(e.payload.subtype?[e.payload.type,e.payload.subtype].join("."):e.payload.type)+" message"});default:return e}},stateSanitizer:Object(c.a)()?void 0:function(){return{apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"}},maxAge:1e3,features:{pause:!0}};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.customEnhancers,r=e.middlewares,i=e.disableDevTools;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!i?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(o()({},d,{name:"Slack-"+t})):s.d).apply(void 0,[s.a.apply(void 0,a()(r))].concat(a()(n)))}n.d(t,"a",function(){return b})},"Nc+C":function(e,t,n){"use strict";n.d(t,"h",function(){return T}),n.d(t,"b",function(){return N}),n.d(t,"f",function(){return L}),n.d(t,"g",function(){return F}),n.d(t,"d",function(){return B}),n.d(t,"c",function(){return H}),n.d(t,"a",function(){return K});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("jo6Y"),l=n.n(c),u=n("Wy5O"),d=n("bPB8"),b=n("zmn3"),p=n("Z0Cl"),h=n("/1FC"),m=n("m8R6"),f=n("aK/h"),v=n("EzZj"),g=n("MNvw"),_=n("U/ze"),O=n("XfeM"),y=n("BeG2"),j=n("HO/Y"),k=n("St+r"),E=n("sK36"),C=k.i,I=y.h,w=E.c,S=E.b,T=Object(v.b)("Update typing timestamp for a given key");T.propTypes={key:f.b.string.isRequired,started:f.b.number.isRequired,model_ob_id:f.b.string.isRequired,member_id:f.b.string.isRequired,member_is_self:f.b.bool};var R=Object(v.b)("Remove typing activity for a given key");R.propTypes={key:f.b.string.isRequired};var N=Object(v.b)("Stop the typing cleanup interval because there are no users typing");N.propTypes=null;var x=Object(v.b)("Remove typing activity for multiple keys");x.propTypes=f.b.arrayOf(f.b.string);var M=Object(g.b)((r={},i()(r,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=l()(t,["key"]);return n?e[n]?s()({},e,i()({},n,s()({},e[n],{started:r.started}))):s()({},e,i()({},n,s()({},r))):e}),i()(r,R,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;return t&&e[t]?Object(m.a)(e,t):e}),i()(r,x,function(e,t){if(!t||!t.length||!Object(h.a)(t))return e;var n=Object(m.a)(e,t);return Object.keys(n).length===Object.keys(e).length?e:n}),r),{},{persistenceEnabled:!1});M.propTypes=f.b.objectOf(f.b.shape({started:f.b.number,model_ob_id:f.b.string,member_id:f.b.string,member_is_self:f.b.bool})),t.e=M;var P=Object(_.b)(function(e){return e&&e.typing}),A=Object(_.b)(function(e,t){return e&&e.typing&&e.typing[t]}),D=Object(_.b)(function(e){return e&&e.typing&&Object.keys(e.typing).length}),L=Object(_.b)(function(e,t){var n=Object(p.a)(e&&e.typing,function(e){return e.model_ob_id===t&&!e.member_is_self});return Object(b.a)(n,"member_id")}),q=Object(O.b)("remove old typing records",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).now,r=P(t()),a=Object(b.a)(r,function(e,t){var r=e.member_is_self?5e3:6e3;return n-e.started>=r?t:null});(a=Object(d.a)(a)).length&&e(x(a))});q.propTypes={now:f.b.number.isRequired};var F=Object(O.b)("member started typing (also dispatched by currentUserStartedTyping)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.memberId,i=t(),o=r+"_"+a,s=Date.now(),c=!A(i,o);e(T({key:o,started:s,model_ob_id:r,member_id:a,member_is_self:Object(j.b)(i)===a})),c&&w(r,a)});F.propTypes={channelId:f.b.string.isRequired,memberId:f.b.string.isRequired};var B=Object(O.b)("logged in user has started typing",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t();if(C(r)&&n){var a=Object(j.b)(r);if(!A(r,n+"_"+a))e(I({type:"typing",channel:n})),e(F({channelId:n,memberId:a}))}});B.propTypes={channelId:f.b.string.isRequired};var U=Object(O.b)("member stopped typing (also dispatched by currentUserEndedTyping)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.memberId;e(R({key:r+"_"+a})),S(r,a)});U.propTypes={channelId:f.b.string.isRequired,memberId:f.b.string.isRequired};var H=Object(O.b)("logged in user has stopped typing",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;if(n){var r=t(),a=Object(j.b)(r);e(U({channelId:n,memberId:a}))}});H.propTypes={channelId:f.b.string.isRequired};var K=Object(O.b)("Periodically update the typing map to look for typing records that have expired, and update legacy of the changes",function(e,t){var n=Date.now(),r=P(t());e(q({now:n}));var a=P(t());Object(u.a)(Object.keys(r),Object.keys(a)).forEach(function(e){var t=r[e];S(t.model_ob_id,t.member_id)}),D(t())<1&&e(N())})},NcDR:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("Rjct");t.a=function(e){var t=o.a.forwardRef(function(t,n){return o.a.createElement(s.a.Consumer,null,function(r){return o.a.createElement(e,a()({ref:n},t,{hasKeyboardFocus:r}))})});return t.defaultProps=e.defaultProps,t}},NgwH:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.fs_modal_file_viewer.start",function(){return null})},NoFl:function(e,t,n){},NqlN:function(e,t,n){"use strict";var r=n("nNoG"),a=n("Qv4Q"),i=/_|-/g,o=new r.b("emoji");t.a=function(e){if(!e)return e;var t={2:o.t("light skin tone"),3:o.t("medium-light skin tone"),4:o.t("medium skin tone"),5:o.t("medium-dark skin tone"),6:o.t("dark skin tone")},n=Object(a.g)(e)||{},r=n.name,s=n.skinTone;if(!r)return e;var c=r.replace(i," "),l=o.t("{emojiPhrase} emoji",{emojiPhrase:c});if(!s)return""===l?c:l;var u=t[s];return""===u?""===l?c:l:o.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:c,skinToneDescription:u})}},NuWb:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("N52Z"),c=n("hOQf"),l=n("6kok"),u=n("clTI"),d=n("kOzZ"),b=Object(o.b)("Clogs a user click in a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.msg,i=n.payload,o=void 0===i?{}:i,b=t(),p=Object(d.a)({state:b}),h=r.ts,m=r.channel,f=m?Object(u.d)(b,m):null,v=f?Object(l.t)(f):null,g=Object(c.Q)(b,r),_=g.userId,O=void 0===_?null:_,y=g.botId,j=void 0===y?null:y,k=j?Object(s.d)(b,r):null,E=k?k.app_id:null;p.track("USERNAME_CLICK",a()({},o,{message_timestamp:h,channel_id:m,channel_type:m?m.charAt(0):null,channel_privacy_type:v,member_id:O,app_id:E,bot_id:j}))});b.propTypes={msg:i.b.object.isRequired,payload:i.b.object},t.a=b},NvKv:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("Smdl"),y=n("VjHM"),j=n("RAhH"),k=n("qc8s"),E=n("oW4N"),C=n("/MYD"),I=n("nNoG"),w=n("lQgN"),S=n("lwWk"),T=(n("qKnh"),new I.b("message")),R=(h.b.string.isRequired,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.node,h.b.func,{link:null,relative:!1,compact:!1,meridiem:!0,full:!1,time24:!1,clickable:!1,children:null,onClick:p.a}),N=function(e){var t=e.timestamp,n=e.time24,r=e.includeSeconds,a=void 0===r||r;return T.t("{date} at {time}",{date:Object(C.a)(t,{shortenMonth:!0}),time:Object(k.a)(t,{do24hrTime:n,includeSeconds:a})})},x=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={now:Date.now()},n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.relative&&this.startRelativeTimestampUpdater()}},{key:"componentDidUpdate",value:function(e){!e.relative&&this.props.relative?this.startRelativeTimestampUpdater():e.relative&&!this.props.relative&&this.stopRelativeTimestampUpdater()}},{key:"componentWillUnmount",value:function(){this.stopRelativeTimestampUpdater()}},{key:"startRelativeTimestampUpdater",value:function(){var e=this;this.stopRelativeTimestampUpdater(),this.relativeTimestampUpdater=setInterval(function(){e.setState(function(){return{now:Date.now()}})},6e4)}},{key:"stopRelativeTimestampUpdater",value:function(){clearInterval(this.relativeTimestampUpdater)}},{key:"render",value:function(){var e=this.props,t=e.timestamp,n=e.full,r=e.relative,i=e.meridiem,o=e.compact,s=e.link,c=e.time24,l=e.clickable,u=e.children,d=e.onClick,b=f.a.createElement(N,{timestamp:t,time24:c,includeSeconds:!n}),p=void 0;p=n?b:r?Object(E.a)(t,{alwaysAgo:!0,compact:o}):Object(k.a)(t,{do24hrTime:c,includeMeridiem:i});var h=_()("c-timestamp",{"c-timestamp--static":!l}),m={};Object(O.a)()?(m["data-stringify-type"]="replace",m["data-stringify-text"]="["+Object(k.a)(t)+"]",m["data-stringify-requires-siblings"]=!0):(m["data-stringify-prefix"]="[",m["data-stringify-suffix"]="]");var v=s?S.a:"span",g=f.a.createElement(v,a()({className:h,href:s||null,onClick:d},Object(w.a)(this.props)),f.a.createElement("span",a()({className:"c-timestamp__label"},m),p));if(u){var y=f.a.createElement("span",null,u,f.a.createElement("br",null),f.a.createElement("span",{className:"sk_dark_gray no_wrap"},b));return f.a.createElement(j.c,{delay:j.a,tip:y},g)}return n?g:f.a.createElement(j.c,{delay:j.a,tip:b},g)}}]),t}(m.Component);x.displayName="Timestamp",x.defaultProps=R,N.propTypes={timestamp:h.b.string.isRequired,time24:h.b.bool},N.defaultProps=R;t.b=Object(v.b)(function(e,t){return a()({},t,{time24:Object(y.g)(e,"time24")})})(x)},"O+bt":function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("HO/Y"),_=n("aWll"),O=n("D4L/"),y=n("+cPl"),j=n("5mKg"),k=n("Fdc0"),E=n("08ch"),C=n("XUHR"),I=n("VjHM"),w=n("nNoG"),S=n("FghR"),T=n("cnLP"),R=(n("CJcE"),new w.b("coachmarks")),N={INTRO_MODAL:"shared-channels-intro-modal"},x=(h.b.func.isRequired,h.b.func.isRequired,h.b.bool,h.b.node,h.b.bool,h.b.bool,h.b.func,h.b.func,h.b.func,h.b.string,h.b.bool,{children:null,withoutAnimation:!1,canCreateSharedChannels:!1,openSharedChannelCreationOrRequestModal:d.a,openSharedChannelIntroductionModal:d.a,setUserPref:d.a,sharedChannelsCoachmarkOrigin:void 0,featureSonicEscCreation:!1,sharedChannelsEnabled:!1}),M=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n.onContinue=n.onContinue.bind(n),n.renderActionButton=n.renderActionButton.bind(n),n.renderCoachmarkContent=n.renderCoachmarkContent.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.setUserPref({pref:"seen_shared_channels_coachmark",value:!0})}},{key:"onClose",value:function(e){e.preventDefault(),this.props.setSharedChannelsCoachmarkIsVisible(!1),this.props.setSharedChannelsCoachmarkOrigin("")}},{key:"onContinue",value:function(){this.props.sharedChannelsCoachmarkOrigin===N.INTRO_MODAL?this.props.openSharedChannelCreationOrRequestModal():this.props.openSharedChannelIntroductionModal(),this.props.setSharedChannelsCoachmarkIsVisible(!1),this.props.setSharedChannelsCoachmarkOrigin("")}},{key:"renderActionButton",value:function(){return this.props.sharedChannelsCoachmarkOrigin===N.INTRO_MODAL?R.t("Create a Shared Channel"):R.t("Get Started")}},{key:"renderCoachmarkContent",value:function(){var e=this.props.withoutAnimation,t=v()({"p-shared_channels_coachmark_image_without_animation":e,"p-shared_channels_coachmark_image":!e});return p.a.createElement("div",null,p.a.createElement("div",{className:t}),p.a.createElement("div",{className:"p-shared_channels_coachmark_title"},R.t("Picture this: two separate companies, using Slack together.")),p.a.createElement("div",{className:"p-shared_channels_coachmark_subtitle"},R.t("Shared channels let you work with other companies and teams, from right inside Slack.")))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.canCreateSharedChannels,r=e.featureSonicEscCreation,a=e.sharedChannelsEnabled;if(!r)return null;if(!n||!a)return null;var i=p.a.createElement(S.a,{orientation:"right",closeCoachmark:this.onClose,onClickPrimaryButton:this.onContinue,onClickSecondaryButton:this.onClose,secondaryCallToActionText:R.t("Close"),primaryCallToActionText:this.renderActionButton(),offsetX:-10,arrowPosition:10,centerOnArrow:!0,isOpen:!0},this.renderCoachmarkContent());return p.a.createElement(T.b,{orientation:"right",coachmarkElement:i},t)}}]),t}(b.Component);M.displayName="ChannelHeadingSharedChannelsCoachmark",M.defaultProps=x;t.b=Object(m.b)(function(e){var t=Object(O.d)(e);return{canCreateSharedChannels:Object(k.e)(e),sharedChannelsEnabled:Object(j.C)(e,t),withoutAnimation:!Object(I.g)(e,"a11y_animations"),sharedChannelsCoachmarkOrigin:Object(_.j)(e),featureSonicEscCreation:Object(g.j)(e,"feature_sonic_esc_creation")}},function(e){return{setSharedChannelsCoachmarkIsVisible:function(){return e(_.r.apply(void 0,arguments))},openSharedChannelCreationOrRequestModal:function(){return e(E.a.apply(void 0,arguments))},openSharedChannelIntroductionModal:function(){return e(C.a.apply(void 0,arguments))},setSharedChannelsCoachmarkOrigin:function(){return e(_.s.apply(void 0,arguments))},setUserPref:function(){return e(y.f.apply(void 0,arguments))}}})(M)},"O/s2":function(e,t,n){},"O/xh":function(e,t,n){"use strict";var r=n("71a+");t.a=r.a},O0RF:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("TGBA"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("TSYQ"),O=n.n(_),y=n("nNoG"),j=(n("vDxo"),new y.b("app_dialog")),k={block:"block",inline:"inline"},E=(f.b.node,f.b.string,f.b.oneOf(["pointer"]),f.b.string,f.b.bool,f.b.node,f.b.node.isRequired,f.b.oneOf(Object(m.a)(k)),f.b.bool,{children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:k.block,isDisabled:!1}),C=function(e){function t(){return c()(this,t),b()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"getCursor",value:function(){var e=this.props,t=e.cursor,n=e.htmlFor;return void 0===t&&n?"pointer":t}},{key:"renderOptionalTextMaybe",value:function(){var e=this.props.optional,t=j.t("(optional)");return e?g.a.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},t):null}},{key:"renderSubtextMaybe",value:function(){var e=this.props.subtext;return e?g.a.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},e):null}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.cursor,e.htmlFor),r=(e.optional,e.subtext),i=e.text,s=e.type,c=e.isDisabled,l=o()(e,["className","cursor","htmlFor","optional","subtext","text","type","isDisabled"]),u=O()("c-label",t,{"c-label--block":s===k.block,"c-label--inline":s===k.inline,"c-label--with_subtext":r,"c-label--pointer":"pointer"===this.getCursor(),"c-label--disabled":c,"c-label--with_formatted_text":"string"!=typeof i});return g.a.createElement("label",a()({},l,{htmlFor:n,className:u,"data-qa-label":!0,"data-qa-label-type":s}),g.a.createElement("span",{className:"c-label__text","data-qa-label-text":!0},i,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),g.a.createElement("span",{"data-qa-label-children":!0},this.props.children))}}]),t}(g.a.Component);C.displayName="Label",C.defaultProps=E,t.a=C},O1SN:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("qafc"),o=new(n("nNoG").b)("file");function s(){return a.a.createElement(i.b,{position:"bottom-right",icon:"warning"},a.a.createElement("div",null,o.rt("<strong>Can\u2019t download file.</strong> To download, you must be connected to an approved network (usually your workplace\u2019s)")))}s.displayName="DownloadBlockedToast",t.a=s},O2xR:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return h});var r,a=n("YEIV"),i=n.n(a),o=n("yIs4"),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Increase count of open popovers for a team");d.propTypes=null;var b=Object(c.b)("Descrease count of open popovers for a team");b.propTypes=null;var p=Object(l.b)((r={},i()(r,d,function(e){return e+1}),i()(r,b,function(e){return 0===e?e:e-1}),r),0,{persistenceEnabled:!1});p.propTypes=s.b.number,t.b=p;var h=Object(u.b)(function(e){return e&&Object(o.a)(e.openPopoversCount)&&e.openPopoversCount>0})},O8YM:function(e,t,n){"use strict";n.d(t,"f",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return y}),n.d(t,"b",function(){return j}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return E}),n.d(t,"g",function(){return C}),n.d(t,"a",function(){return I}),n.d(t,"j",function(){return w}),n.d(t,"k",function(){return S});var r=n("CaXY"),a=n("MeX/"),i=[r.a.activity,r.a.starred_message,r.a.threads_flexpane],o=[r.a.modal].concat(i),s=[r.a.delete_dialog,r.a.share_dialog,r.a.search,r.a.app_actions,r.a.shared_message],c=[r.a.delete_dialog,r.a.share_dialog,r.a.search,r.a.app_actions,r.a.shared_message].concat(i),l=[r.a.modal],u=[r.a.modal],d=[r.a.message,r.a.delete_dialog],b=[r.a.message_attachment,r.a.delete_dialog,r.a.share_dialog,r.a.all_threads,r.a.all_unreads].concat(i),p=[r.a.message_attachment,r.a.message,r.a.threads_flexpane],h=[r.a.delete_dialog,r.a.share_dialog,r.a.app_actions].concat(i),m=[r.a.share_dialog,r.a.delete_dialog,r.a.app_actions].concat(i),f=[r.a.modal],v=o,g=function(e){return s.includes(e)},_=function(e){return u.includes(e)},O=function(e){return c.includes(e)},y=function(e){return l.includes(e)},j=function(e){return d.includes(e)},k=function(e){return b.includes(e)},E=function(e){return p.includes(e)},C=function(e){return h.includes(e)},I=function(e){return m.includes(e)?a.b.narrow:f.includes(e)?a.b.full:a.b.wide},w=function(e){return e.container===r.a.message_attachment},S=function(e){return v.includes(e)}},OC5O:function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return y});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=c.b.oneOf(["messages","about"]),p=c.b.shape({emoji:c.b.string,memberName:c.b.string,channelName:c.b.string}),h=c.b.shape({activeAppTab:b,newUnreads:c.b.number,toaster:p}),m=Object(l.b)("Notifies modern of the active tab for app/bot users");m.propTypes=b;var f=Object(l.b)("Set the number of new unread messages that came in while in the All Unreads view");f.propTypes=c.b.number;var v=Object(l.b)("Sets the currently active reaction toast; null or undefined to clear");v.propTypes=p;var g=Object(u.b)((r={},i()(r,m,function(e,t){return t?s()({},e,{activeAppTab:t}):e}),i()(r,f,function(e,t){return s()({},e,{newUnreads:t})}),i()(r,v,function(e,t){return s()({},e,{toaster:t})}),r),{activeAppTab:"messages",newUnreads:0},{persistenceEnabled:!0});g.propTypes=h,t.a=g;var _=Object(d.b)(function(e){return e&&e.globalNav&&e.globalNav.activeAppTab}),O=Object(d.b)(function(e){return e&&e.globalNav&&e.globalNav.newUnreads}),y=Object(d.b)(function(e){return e&&e.globalNav&&e.globalNav.toaster})},OF9j:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("Dpjh"),a=n("owWc"),i=n("Jqqi");function o(e){return e.contents?Object(a.a)(e.contents,function(e,t){if(t.attributes&&t.attributes.slackmention&&t.attributes.slackmention.id){if(t.insert.length>t.attributes.slackmention.label.length){var n=t.insert.split(t.attributes.slackmention.label);if(n.length>1)return n.shift(),e+(n=n.map(function(){return"<@"+t.attributes.slackmention.id+"|"+Object(r.a)(t.attributes.slackmention.label)+">"})).join("")}return e+"<@"+t.attributes.slackmention.id+"|"+Object(r.a)(t.attributes.slackmention.label)+">"}if(t.insert&&t.insert.slackemoji)return e+t.insert.slackemoji.text;if(Object(i.a)(t)){var a=t.insert.workflowtoken,o=a.id,s=a.property;return e+"{{"+o+(s?"."+s:"")+"}}"}return e+t.insert},"").replace(/\n$/,""):""}},OHCw:function(e,t,n){"use strict";n.d(t,"e",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"i",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return O}),n.d(t,"d",function(){return y}),n.d(t,"a",function(){return j}),n.d(t,"g",function(){return k});var r=n("mkut"),a=n("NFsq"),i=n("aK/h"),o=n("4zXV"),s=n("om+M"),c=n("uf9I"),l=n("4B0G"),u=n("yHhI"),d=n("PSBI"),b=n("pfQy"),p=n("8tPE"),h="checkout_v2",m=Object(s.a)("Fetch States and Countries",function(e,t){var n=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-fetch-states-countries-data",method:"payments.billing.addresses.locations",args:{checkout_step:n}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully fetched states and countries"),Object(a.a)(Object(r.a)(e.vat_countries),l.e.UNITED_KINGDOM)&&(e.vat_countries[l.e.UNITED_KINGDOM_UK]=e.vat_countries[l.e.UNITED_KINGDOM],delete e.vat_countries[l.e.UNITED_KINGDOM]),{countries:e.countries||[],usStates:e.us_states||{},canadaStates:e.canada_states||{},vatCountries:e.vat_countries||{},abnCountries:e.abn_countries||{},taxableZipcodes:e.taxable_zipcodes||[]}}).catch(function(e){throw Object(d.a)({error:e,description:"Error while fetching states and countries",subtype:h,teamId:Object(c.b)(t())}),e})}),f=Object(s.a)("Fetch Company Address",function(e,t){var n=t(),r=Object(b.x)(n);return e(Object(o.a)({reason:"checkout-flow-fetch-team-company-address-data",method:"payments.billing.addresses.get"})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully fetched company address"),function(e,t){var n=l.c.COMPANY_NAME,r=l.c.STREET,a=l.c.SUITE,i=l.c.CITY,o=l.c.REGION,s=l.c.POSTAL_CODE,c=l.c.COUNTRY,u=l.c.IS_BUSINESS_PURCHASE,d=l.c.IS_VAT_AVAILABLE,b=l.c.VAT_ID,h=l.c.ABN_ID,m=l.c.QST_ID,f=e.country||c,v=e.state||o,g=!1,_=!1,O=b;f?Object(p.n)(f,t)?(g=null===e.is_business?u:e.is_business,_=null===e.waiting_for_vat?d:!e.waiting_for_vat,O=e.vat_id||b):Object(p.l)(f)&&(g=e.is_business):(g=u,_=d);var y=m;return Object(p.m)(f,v)&&(y=e.tax_id||m),{companyName:e.company_name||n,street:e.street1||r,suite:e.street2||a,city:e.city||i,postalCode:e.zip||s,region:v,country:f,isBusinessPurchase:g,isVatIdAvailable:_,vatId:O,abnId:e.abn_id||h,qstId:y}}(e,r)}).catch(function(e){throw Object(d.a)({error:e,description:"Error while fetching company address",subtype:h,teamId:Object(c.b)(t())}),e})}),v=Object(s.a)("Validate and Persist Company Address",function(e,t,n){var r=Object(b.p)(t()),a=n.qstId,i={abn_id:n.abnId,city:n.city,company_name:n.companyName,country:n.country,is_business:n.isBusinessPurchase,state:n.region,street1:n.street,street2:n.suite,vat_id:n.vatId,waiting_for_vat:!n.isVatIdAvailable,zip:n.postalCode,is_checkout_v2:!0,checkout_step:r,tax_id:a};return e(Object(o.a)({reason:"checkout-flow-validate-persist-company-address",method:"payments.billing.addresses.validateAndSet",args:i})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully validated and persisted company address"),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while validating and persisting company address",subtype:h,teamId:Object(c.b)(t())}),e})});v.propTypes=i.b.object;var g=Object(s.a)("Submit information from the payment form to the server to complete the purchase of a paid Slack plan",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tokenId,a=n.productId,i=n.isNewCreditCard,s=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-process-upgrade-charge",method:"payments.checkout.charge",args:{stripe_token:r,product_id:a,is_new_card:i,checkout_step:s}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully processed upgrade charge successfully for product_id "+a+", is_new_card "+i),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while processing upgrade charge for product_id "+a+", is_new_card "+i,subtype:h,teamId:Object(c.b)(t())}),e})});g.propTypes={tokenId:i.b.string,productId:i.b.string,isNewCreditCard:i.b.bool};var _=Object(s.a)("Submit information from the checkout invoice form to the server to complete the purchase of a paid Slack plan via invoice",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.numUsers,a=n.productId,i=n.billingContacts,s=n.purchaseOrderNumber,l=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-create-invoice",method:"payments.checkout.createInvoice",args:{num_users:r,product_id:a,billing_contacts:i,po_number:s,checkout_step:l,is_checkout_v2:!0}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully created invoice for product_id "+a+", num_users "+r),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while creating invoice for product_id "+a+", num_users "+r,subtype:h,teamId:Object(c.b)(t())}),e})});_.propTypes={numUsers:i.b.string,productId:i.b.string,billingContacts:i.b.string,purchaseOrderNumber:i.b.string};var O=Object(s.a)("Fetch Stripe Customer",function(e,t,n){var r=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-fetch-stripe-customer-data",method:"payments.stripe.getCustomer",args:{country:n,checkout_step:r}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully fetched Stripe customer"),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while fetching Stripe customer",subtype:h,teamId:Object(c.b)(t())}),e})});O.propTypes=i.b.string;var y=Object(s.a)("Fetch Self User Data",function(e,t){var n=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-fetch-current-user-data",method:"users.info",args:{self:!0,checkout_step:n}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully fetched self user data"),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while fetching self user data",subtype:h,teamId:Object(c.b)(t())}),e})}),j=Object(s.a)("Checks If User Can Access Checkout",function(e,t){var n=Object(b.p)(t());return e(Object(o.a)({reason:"checkout-flow-check-user-can-access-checkout-v2",method:"payments.checkout.canShowCheckoutV2",args:{checkout_step:n}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully checked if user can access checkout"),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while checking if user can access checkout",subtype:h,teamId:Object(c.b)(t())}),e})}),k=Object(s.a)("Notify an api endpoint about the steps of checkout",function(e,t,n){var r=n.activeCheckoutStep;return e(Object(o.a)({reason:"checkout-flow-log-checkout-impression",method:"payments.checkout.logImpression",args:{checkout_step:r}})).then(function(e){return Object(u.a)({getState:t}).info(h,"Successfully logged backend step impression"),e}).catch(function(e){throw Object(d.a)({error:e,description:"Error while logging backend step impression",subtype:h,teamId:Object(c.b)(t())}),e})});k.propTypes={activeCheckoutStep:i.b.string}},OIOV:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("ntJl"),o=n("clTI"),s=n("bYYE"),c=n("QWnR"),l=n("VjHM"),u=n("aW/o"),d=n("yHhI"),b=n("Zr7G"),p=n("fNU1"),h=n("6kok"),m=n("ZAxE"),f=n("wdjV"),v=n("b+9+"),g=Object(a.b)("Switch to a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.startTs,g=t(),_=Object(u.a)(g),O=Object(d.a)({getState:t,label:"SWITCH-TO-CHANNEL"});if(r){Object(b.c)({state:g}).mark("start_channel_change_"+r),e(Object(p.c)({lastFocus:Object(s.e)(g),objId:r}));var y=Object(o.d)(g,r),j=Object(h.S)(y),k=Object(h.D)(y);Object(m.a)(r),e(Object(c.a)({channelId:r}));var E=Object(l.g)(g,"start_scroll_at_oldest")&&Object(l.g)(g,"mark_msgs_read_immediately"),C=j?k:null;if(a)O.info("Switching to "+r+" at specified startTs "+a),e(Object(v.e)({channelId:r,startTs:a,highlightTs:a,prevChannelId:_,ghostLastRead:C}));else{if(k&&j&&E)O.info("Switching to "+r+" at last_read "+k),e(Object(v.e)({channelId:r,startTs:k,prevChannelId:_,ghostLastRead:C}));else{var I=Object(f.m)(g,r);E&&I?(O.info("Switching to "+r+" at scrollmark "+I.mark),e(Object(v.e)({channelId:r,startTs:I.mark,startTsOffset:I.offset,prevChannelId:_,ghostLastRead:C}))):(O.info("Switching to "+r+" at end"),e(Object(v.e)({channelId:r,startTs:null,prevChannelId:_,ghostLastRead:C})))}!Object(h.yb)(y)||Object(h.kb)(y)||Object(h.Sb)(y)||e(Object(i.updateOneKeyForChannel)({id:y.id,never_needs_joined_msg:!0}))}}else e(Object(v.e)({channelId:null,startTs:null,prevChannelId:_}))});g.propTypes={channelId:r.b.string,startTs:r.b.string},t.a=g},ONPw:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var r=n("ROZo"),a=Object(r.b)("TS.ui.channel_options_dialog.promiseToGetWhoCanPostListData",function(){return!1}),i=Object(r.b)("TS.ui.team_picker.createFilterFunction",function(){return function(){return Promise.resolve({items:[]})}}),o=Object(r.b)("TS.permissions.members.canCreateSharedChannel",function(){return!1}),s=(Object(r.b)("TS.permissions.members.canDisconnectSharedChannels",function(){return!1}),Object(r.b)("TS.ui.im_browser.showRequestToDisconnectSharedChannelModal",function(){return!1}))},OO1R:function(e,t,n){"use strict";var r=n("EJiy"),a=n.n(r),i=n("VjHM"),o=n("QLyv"),s=n("VyaM"),c=n("qc8s"),l=n("gBC1"),u=n("/MYD");t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.do24hrTime,d=void 0===r?void 0:r,b=n.uncapitalized,p=void 0===b||b;if("object"!==(void 0===e?"undefined":a()(e)))throw new Error("toHumanReadableDateAndTime now requires Redux state");var h=void 0;h="en-us"!==o.a.locale()||(void 0===d?!!Object(i.g)(e,"time24"):d);var m=Object(s.a)(t,{returnMoment:!0}),f=Object(l.a)(m,{uncapitalized:p}),v=Object(c.a)(m,{includeMeridiem:!h,do24hrTime:h}),g=void 0;if(f){switch(o.a.locale()){case"es-es":g=f+" a las "+v;break;case"es-la":g=f+" a la(s) "+v;break;case"fr-fr":g=f+" \xe0 "+v;break;case"de-de":g=f+" um "+v;break;case"ja-jp":g=f+"\u306e"+v;break;case"pt-br":g=f+" \xe0s "+v;break;default:g=f+" at "+v}return p?g.charAt(0).toLocaleLowerCase()+g.slice(1):g.charAt(0).toLocaleUpperCase()+g.slice(1)}return Object(u.a)(t,{shortenMonth:!0})}},OUnl:function(e,t,n){},OWki:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.ui.channel_invite_modal.startInviteToChannelModal",r.a)},OYPW:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("kxpR"),i=n("UF3u");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.useRef)(),o=Object(a.useRef)();return Object(i.a)(o.current,t)||(n.current=e(),o.current=t),n.current}},OZtQ:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("Vfgr"),c=n("BeL+"),l=n("NFsq"),u=n("GxtX"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("XfeM"),f=n("Gxzu"),v=n("AcCB"),g=n("iW0Y"),_=n("hu7Z"),O=n("5BKc"),y=n("Rmtr"),j=n("/NHa"),k=n("oLrU"),E=n("QQwV"),C=n("UQEz");var I,w=n("Rjjz"),S=n("yHhI"),T=n("Hh47"),R=n("nOXG");n.d(t,"w",function(){return L}),n.d(t,"g",function(){return q}),n.d(t,"o",function(){return F}),n.d(t,"c",function(){return B}),n.d(t,"B",function(){return H}),n.d(t,"h",function(){return K}),n.d(t,"s",function(){return G}),n.d(t,"q",function(){return V}),n.d(t,"C",function(){return z}),n.d(t,"a",function(){return Y}),n.d(t,"y",function(){return W}),n.d(t,"z",function(){return Q}),n.d(t,"b",function(){return X}),n.d(t,"A",function(){return Z}),n.d(t,"x",function(){return $}),n.d(t,"D",function(){return ee}),n.d(t,"E",function(){return te}),n.d(t,"u",function(){return ne}),n.d(t,"t",function(){return re}),n.d(t,"v",function(){return ae}),n.d(t,"r",function(){return oe}),n.d(t,"e",function(){return le}),n.d(t,"i",function(){return ue}),n.d(t,"f",function(){return de}),n.d(t,"m",function(){return be}),n.d(t,"p",function(){return pe}),n.d(t,"l",function(){return he}),n.d(t,"j",function(){return me}),n.d(t,"k",function(){return fe}),n.d(t,"n",function(){return ve});function N(e,t){var n=Object(b.b)(e);return n.propTypes=t,n}var x=d.b.shape({from:d.b.arrayOf(d.b.string).isRequired,in:d.b.arrayOf(d.b.string).isRequired,after:d.b.string,before:d.b.string}),M={query:d.b.string.isRequired,queryFilter:x.isRequired,channelObjects:d.b.object,requestInstanceId:d.b.string},P=(d.b.shape(M),d.b.shape({pagination:d.b.shape({page:d.b.number.isRequired,first:d.b.number,last:d.b.number,page_count:d.b.number,per_page:d.b.number,total_count:d.b.number}).isRequired,items:d.b.arrayOf(d.b.shape({channel:d.b.shape({id:d.b.string}),iid:d.b.string,messages:d.b.arrayOf(d.b.shape({ts:d.b.string,text:d.b.string,permalink:d.b.string,user:d.b.string}))})).isRequired,filters:d.b.oneOfType([d.b.shape({from:d.b.arrayOf(d.b.string),in:d.b.arrayOf(d.b.string),after:d.b.string,before:d.b.string}),d.b.array]),query:d.b.string,request_id:d.b.string})),A={query:d.b.string.isRequired,module:d.b.string.isRequired,result:P.isRequired},D=(d.b.shape(A),N("Set the query string for the editable request query",{query:d.b.string.isRequired})),L=N("Set the query filter object on the editable request",{queryFilter:x.isRequired}),q=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.query}),F=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.request&&e.searchResults.request.query}),B=N("Remove results modules for the search",{}),U=N("Promote the editable request to become the request",{}),H=Object(m.b)("Set a request from the editable request",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchSuggestions,r=void 0===n||n;e(U());var a=F(t());Object(S.a)({getState:t}).info("IMPROVED_SEARCH","Starting new search"),e(B());var i=e(Object(w.a)({query:a,fetchSuggestions:r}));return e(Object(g.a)({interfaceMode:_.a.SEARCH_RESULTS})),a&&e(Object(w.p)({query:a})),i});H.propTypes={fetchSuggestions:d.b.bool};var K=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter}),G=N("Set the map of channel objects we need in order to render the channel filter.",{channels:d.b.object.isRequired}),V=N("Reset the editable request",{}),z=N("Set the search results",A),Y=N("Adds to the search results",{module:d.b.string.isRequired,result:P.isRequired}),W=Object(b.b)("Set the suggestions for the current search query - for messages");W.propTypes={suggestions:d.b.shape({from:d.b.arrayOf(d.b.string),in:d.b.arrayOf(d.b.string)})};var Q=Object(b.b)("Set the suggestions for the current search query - for files");Q.propTypes={fileSuggestions:d.b.shape({from:d.b.arrayOf(d.b.string),in:d.b.arrayOf(d.b.string)})};var X=Object(b.b)("Clear the suggestions for the current search query");X.propTypes=null;var Z=Object(b.b)("Set the request ID for the current fetchAllSearchResults call");Z.propTypes={id:d.b.string.isRequired};var J=Object(m.b)("Set the query filter object on the editable request and update the query",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).queryFilter,r=t(),a=Object(j.c)(r,q(r),n),i=Object(s.a)(a.toTextyString()),o=Object(s.a)(a.toString());return e(Object(T.a)()),e(D({query:o})),e(Object(f.g)({displayQuery:i})),e(L({queryFilter:n})),e(H({fetchSuggestions:Object(R.a)(r)}))});J.propTypes={queryFilter:x};var $=Object(m.b)("Set the query in the request which is being edited",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query,r=t();e(B()),e(Object(v.e)()),e(Object(v.r)({moduleType:"messages",loading:!0})),e(Object(v.r)({moduleType:"files",loading:!0}));var a=Object(j.b)(r,n);return e(L({queryFilter:a})),function(e,t){var n=Object(s.a)(t);return n=Object(C.a)(n,{shouldRenderEmojiAsText:!0}),Object(E.a)(e,n)}(r,n).then(function(t){return e(D({query:t})),e(H({fetchSuggestions:!0}))})});$.propTypes={query:d.b.string.isRequired};var ee=Object(m.b)("Update a `from` filters for the search",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId,r=t(),a=K(r),i=a&&a.from||[];return Object(l.a)(i,n)?i=i.filter(function(e){return e!==n}):i.push(n),e(J({queryFilter:o()({},a,{from:i})}))});ee.propTypes={memberId:d.b.string.isRequired};var te=Object(m.b)("Update a `in` filters for the search",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),a=K(r),i=a&&a.in||[];return Object(l.a)(i,n)?i=i.filter(function(e){return e!==n}):i.push(n),e(J({queryFilter:o()({},a,{in:i})}))});te.propTypes={channelId:d.b.string.isRequired};var ne=Object(m.b)("Set the (possibly undefined) before filter date string on the editable request",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).dateString;return e(J({queryFilter:o()({},K(t()),{before:n})}))});ne.propTypes={dateString:d.b.string};var re=Object(m.b)("Set the (possibly undefined) before filter date string on the editable request",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).dateString;return e(J({queryFilter:o()({},K(t()),{after:n})}))});re.propTypes={dateString:d.b.string};var ae=Object(m.b)("Update the file type for the search",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileType;return e(J({queryFilter:o()({},K(t()),{fileType:n})}))});ae.propTypes={fileType:d.b.string.isRequired};var ie=Object(b.b)("Reset search result redux state");ie.propTypes={};var oe=Object(m.b)("Reset all search related redux and displays an error message after an error is caught in the view",function(e){e(Object(y.g)()),e(Object(f.e)()),e(ie()),e(Object(v.b)()),e(Object(v.l)({error:O.e.RenderErrorCaught,loading:!1})),e(Object(v.o)({visible:!0})),e(Object(g.a)({interfaceMode:_.a.SEARCH_RESULTS}))});oe.propTypes={};var se={previousRequest:void 0,request:void 0,editableRequest:{query:"",queryFilter:{from:[],in:[],after:void 0,before:void 0},queryFilterHistory:{from:[],in:[],fileType:void 0},channelObjects:{}},suggestions:{from:[],in:[]},fileSuggestions:{from:[],in:[]},response:void 0,lastFetchAllRequestId:""},ce=Object(p.b)((I={},a()(I,ie,function(){return se}),a()(I,D,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).query;return o()({},e,{editableRequest:o()({},e.editableRequest,{query:t})})}),a()(I,L,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).queryFilter;return o()({},e,{editableRequest:o()({},e.editableRequest,{queryFilter:t,queryFilterHistory:o()({},e.editableRequest.queryFilterHistory,{from:Object(c.a)(Object(u.a)(e.editableRequest.queryFilterHistory.from||[],t.from||[])),in:Object(c.a)(Object(u.a)(e.editableRequest.queryFilterHistory.in||[],t.in||[]))})}),suggestions:o()({},e.suggestions,{from:Object(c.a)(Object(u.a)(e.suggestions&&e.suggestions.from||[],t.from||[])),in:Object(c.a)(Object(u.a)(e.suggestions&&e.suggestions.in||[],t.in||[]))}),fileSuggestions:o()({},e.fileSuggestions,{from:Object(c.a)(Object(u.a)(e.fileSuggestions&&e.fileSuggestions.from||[],t.from||[])),in:Object(c.a)(Object(u.a)(e.fileSuggestions&&e.fileSuggestions.in||[],t.in||[]))})})}),a()(I,G,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;return o()({},e,{editableRequest:o()({},e.editableRequest,{channelObjects:t})})}),a()(I,V,function(e){return o()({},e,{editableRequest:o()({},se.editableRequest,{queryFilter:{from:[],in:[],before:void 0,after:void 0,fileType:void 0},queryFilterHistory:{from:[],in:[]}}),suggestions:{from:[],in:[]},fileSuggestions:{from:[],in:[]}})}),a()(I,U,function(e){return o()({},e,{previousRequest:e&&e.request,request:o()({},e.editableRequest,{requestInstanceId:Object(k.a)()})})}),a()(I,z,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query,r=t.module,i=t.result;return o()({},e,{response:o()({},e.response||{},{query:n,results:o()({},e.response&&e.response.results||{},a()({},r,o()({},i,{items:a()({},i.pagination.page,i.items),requestIds:{1:i.request_id}}))),filters:i.filters?i.filters:{}})})}),a()(I,Y,function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.module,s=r.result,c=r.page;return o()({},e,{response:o()({},e.response||{},{results:o()({},e.response&&e.response.results||{},a()({},i,o()({},e.response&&e.response.results&&e.response.results[i]||{},{items:o()({},e.response.results[i].items,a()({},s.pagination.page,s.items)),pagination:(t=e.response.results[i].pagination,n=s.pagination,o()({},t,{last:n.last,total_count:n.total_count})),requestIds:o()({},e.response.results[i].requestIds,a()({},c,s.request_id))})))})})}),a()(I,B,function(e){return o()({},e,{response:se.response})}),a()(I,W,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).suggestions;return o()({},e,{suggestions:t})}),a()(I,Q,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileSuggestions;return o()({},e,{fileSuggestions:t})}),a()(I,X,function(e){return o()({},e,{suggestions:se.suggestions,fileSuggestions:se.fileSuggestions})}),a()(I,Z,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id;return o()({},e,{lastFetchAllRequestId:t})}),I),se,{persistenceEnabled:!0});ce.propTypes={previousRequest:d.b.object,request:d.b.object,editableRequest:d.b.shape({query:d.b.string,queryFilter:d.b.shape({from:d.b.array,in:d.b.array,after:d.b.string,before:d.b.string}),queryFilterHistory:d.b.shape({from:d.b.array,in:d.b.array}),channelObjects:d.b.object}),suggestions:d.b.shape({from:d.b.array,in:d.b.array}),fileSuggestions:d.b.shape({from:d.b.array,in:d.b.array}),response:d.b.object,lastFetchAllRequestId:d.b.string};t.d=ce;var le=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest}),ue=(Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilterHistory}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.from}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.in})),de=(Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.after}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.before}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.channelObjects})),be=(Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.fileType}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.request})),pe=(Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.previousRequest}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.previousRequest&&e.searchResults.previousRequest.query}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.response}),Object(h.b)(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).module;return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.results&&e.searchResults.response.results[t]})),he=(Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.query}),Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.lastFetchAllRequestId})),me=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.suggestions}),fe=Object(h.b)(function(e){return e&&e.searchResults&&e.searchResults.fileSuggestions}),ve=Object(h.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.module,r=t.page,a=void 0===r?1:r;return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.results&&e.searchResults.response.results[n]&&e.searchResults.response.results[n].requestIds&&e.searchResults.response.results[n].requestIds[a]})},OgdT:function(e,t,n){"use strict";n.r(t),n.d(t,"propTypes",function(){return g});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("1Apa"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("nNoG"),f=n("U3Q0"),v=new m.b("rxns"),g={error:h.b.oneOf(["too_many_emoji","too_many_reactions"]).isRequired},_=[function(){return v.t("For reasons of performance and productivity and brevity being the soul of wit, you can add up to 23 emoji to a message, but no more.",{fallbackHash:"794631f678fbb6fc09aeb01c84ed296ab74d2bfd"})},function(){return v.t("Well done! You\u2019ve added the maximum amount of emoji one person can add to one message. For reasons of performance, productivity and sharpened creative thinking, we cap the number of individual reacji to 23.",{fallbackHash:"6bc8c58e34c7f7741aa80ed5e9be299490442c8d"})},function(){return v.t("Emotions! We all have them \u2014 but on Slack, you\u2019re limited to 23 reactions per message.",{fallbackHash:"1ad8ba31825ab045be95b0b03a4ec3c835421f89"})}],O=[function(){return v.t("The human heart is a powerful thing; its capacity to feel is limitless! A message\u2019s capacity is 50.",{fallbackHash:"c150f264344765077dff40263d1787d7dd473aa8"})},function(){return v.t("Alas! Slack only allows each message a grand total of 50 emoji reactions.",{fallbackHash:"58169cc0877356a4ff1e13e704f63875116e4c4d"})},function(){return v.t("A single message can\u2019t have more than 50 unique reactions. When we asked the engineers why they said, \u201cwe have to set limits somewhere,\u201d and then we tried to frown but this error popped up. So that\u2019s where we\u2019re at.",{fallbackHash:"440d506143f2665f556689039ccb95db36bdfa30"})}],y=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.error,t=void 0;return"too_many_reactions"===e?t=Object(d.a)(_)():"too_many_emoji"===e&&(t=Object(d.a)(O)()),p.a.createElement(f.a,{goButtonText:v.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"}),shouldCloseOnGo:!0,showCancelButton:!1,showCloseButton:!1,title:v.t("You\u2019ve reached the reaction limit")},p.a.createElement("p",null,t))}}]),t}(b.PureComponent);y.displayName="ReactionErrorDialog",t.default=y},OkQS:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("MnCE"),s=n("TSYQ"),c=n.n(s),l=(i.b.string,i.b.string,function(e){return"#"!==e.charAt(0)?"#"+e:e}),u=function(e){var t=e.color,n=e.className,r=c()("c-message_attachment__border",n);return a.a.createElement("div",{className:r,style:t?{backgroundColor:l(t)}:null})};u.displayName="AttachmentBorder",u.defaultProps={color:null,className:null},t.a=Object(o.a)(u)},Oko8:function(e,t,n){},"OnR/":function(e,t,n){},OqoL:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("zmn3"),o=n("Vfgr"),s=n("pxG+"),c=n("fCVm"),l=n("VjHM"),u=n("Y+74"),d=n("AITD"),b=n("bHK9"),p=n("nNoG"),h=n("aXcD"),m=n("Dpjh"),f=n("uFGw"),v=n("t+Pu"),g=n("tvJC"),_=n("CeJR");var O=/(^|\n)>(?![\W_](?:<|>|[|\/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;var y=n("cErB"),j=n("Qv4Q"),k=n("x4bP"),E=n("rzSx"),C=n("pWPO"),I=n("HO/Y"),w=n("K7CU"),S=n("clTI"),T=n("6kok");n.d(t,"a",function(){return R});var R=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201c|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201d\u2019,.<>\/?\s]+)/g,N=/(^|\S)( +)(\n|$)/gm;t.b=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isInternalMessage;if(!e||!t)return"";var r=!n,x=Object(I.j)(e,"feature_allow_intra_word_formatting"),M=Object(d.a)(e),P=Object(l.g)(e,"convert_emoticons"),A=Object(u.a)(e),D=Object(w.m)(e),L=t,q=[];L=function(e){return e?e.replace(/\u00A0/g," ").replace(/\u000D/g,"\n").replace(/\u000A/g,"\n"):""}(L),L=Object(c.d)(q,L,{replace_pre:!0,replace_code:!0});var F,B,U=(F=r,B=[],{text:L.replace(h.a,function(e,t,n){var r=void 0;r=Object(v.a)(t)?"<!"+Object(_.a)(t)+">":Object(g.a)(t)?F?Object(m.a)(n):n:Object(f.a)(t)?"<!subteam^"+t+"|"+n+">":"<@"+t+">";var a="mention-"+(B.length+1)+"-"+Date.now();return B.push({mention:r,placeholder:a}),a}),mentions:B});if(L=(L=U.text).replace(N,"$1$3"),P&&!D){var H=function(e){var t=[],n=0;return{text:e.replace(O,function(e){n+=1;var r="quoted-text-placeholder-"+Date.now()+"-"+n;return t.push({match:e,placeholder:r}),r}),quotedSections:t}}(L);L=H.text,L=Object(j.h)(L),H.quotedSections.forEach(function(e){L=L.replace(e.placeholder,function(){return e.match})})}r&&(L=Object(c.c)(L,"CLEAN",{jumbomoji:M,allow_intra_word_formatting:x})),U.mentions.forEach(function(e){L=L.replace(e.placeholder,function(){return e.mention})}),L=L.replace(R,function(t,n,r,a){if("/"===n&&function(e,t,n){var r=e.lastIndexOf(" ",n),a=-1!==r?r+1:0,i=e.substring(a,n+t.length);return Object(y.c)(i).length>0}(L,t,a))return t;var i=Object(s.a)(r,"._-\u2026"),o=Object(S.e)(e,i);if(!Object(T.yb)(o))return t;if(!o)return t;var c=r.slice(i.length),l=Object(T.x)(e,o,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1})||i;return n+"<#"+o.id+"|"+l+">"+c}),p.e||(L=Object(E.f)(L));var K=Object(I.j)(e,"feature_sonic_emoji")?Object(b.a)(e):Object(i.a)(Object(E.a)(),"name");return q=q.map(function(t){var n=a()({},t),i=Object(h.b)(n.str,{highlightWords:A,shouldRenderEmojiAsText:D,emojiNames:K,useSonicEmoji:Object(I.j)(e,"feature_sonic_emoji")||Object(k.a)(),locale:Object(p.p)()});return n.str=Object(C.a)(i),r&&(n.str=Object(c.c)(n.str,"CLEAN",{jumbomoji:M,allow_intra_word_formatting:x})),n}),L=Object(c.e)(q,L),Object(o.a)(L)}},Ov61:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("XHGt"),c=n("MnCE"),l=n("aK/h"),u=n("clTI"),d=n("6kok"),b=n("od5y"),p=n("sIuu"),h=n("lQgN"),m=(l.b.string,l.b.bool,l.b.bool,l.b.string,l.b.object.isRequired,l.b.arrayOf(l.b.string).isRequired,{className:null,inherit:!0,inline:!0,tooltipPosition:void 0});function f(e){var t=e.className,n=e.channel,r=e.inherit,i=e.inline,s=e.tooltipPosition,c=e.externalTeamIds;return Object(d.ub)(n)||Object(d.Y)(n)?o.a.createElement(p.a,a()({className:t,inherit:r,inline:i,pending:Object(d.ub)(n),sharedTeamIds:c,tooltip:!0,tooltipPosition:s},Object(h.a)(e))):Object(d.rb)(n)?o.a.createElement(b.b,a()({className:t,type:"shared-channel",size:r?"inherit":void 0,inline:i},Object(h.a)(e))):null}f.defaultProps=m;t.a=Object(s.b)(function(e,t){var n=t.channelId,r=t.channel;return{channel:r||Object(u.d)(e,n),externalTeamIds:Object(d.M)(e,r)}})(Object(c.a)(f))},Owxj:function(e,t,n){"use strict";var r=n("aK/h"),a=n("Qv4Q"),i=n("bHK9"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.messageText,r=t.teamId;if(!n||!r)return"";var o=Object(a.c)();return n.replace(o,function(t){var n=Object(i.h)(e,{text:t,teamId:r});return n||t})};t.a=o,o.propTypes={messageText:r.b.string,teamId:r.b.string}},"P+5D":function(e,t,n){},P2LY:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return d});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Set loaded channel messages");i.propTypes=r.b.shape({channelId:r.b.string.isRequired,messages:r.b.object.isRequired});var o=Object(a.b)("Set welcome place onboarding data");o.propTypes=r.b.object;var s=Object(a.b)("Mark welcome place as opened from sonic boot");s.propTypes=null;var c=Object(a.b)("Hide the coachmark from a workflow action");c.propTypes=null;var l=Object(a.b)("Hide the coachmark from a workflow action");l.propTypes=null;var u=Object(a.b)("Set Welcome Place page entry point");u.propTypes=r.b.string;var d=Object(a.b)("Regenerate Welcome Place page viewing session ID");d.propTypes=null},P2f5:function(e,t,n){"use strict";var r=n("AuEd");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"e",function(){return r.e}),n.d(t,"f",function(){return r.f}),n.d(t,"g",function(){return r.g}),n.d(t,"h",function(){return r.h}),n.d(t,"i",function(){return r.i}),n.d(t,"j",function(){return r.j}),n.d(t,"k",function(){return r.k}),n.d(t,"l",function(){return r.l}),n.d(t,"m",function(){return r.m}),n.d(t,"n",function(){return r.o}),n.d(t,"o",function(){return r.q}),n.d(t,"p",function(){return r.r}),n.d(t,"q",function(){return r.s}),t.d=r.d},P3Po:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("TGBA"),g=n("ifKl"),_=n("7EGn"),O=n("aK/h"),y=n("kxpR"),j=n.n(y),k=n("TSYQ"),E=n.n(k),C=n("sJy+"),I=n("w0ce"),w=n("dI1W"),S=n("vFLu"),T=n("5VWh"),R=n("e4Fz"),N=(O.b.string,O.b.string,O.b.oneOf(Object(v.a)(C.b)),O.b.string,O.b.oneOf(Object(v.a)(C.c)),O.b.bool,O.b.node,O.b.string,O.b.string.isRequired,O.b.bool,O.b.bool,O.b.string,O.b.string.isRequired,O.b.oneOf(Object(v.a)(S.a)),O.b.string,O.b.func,O.b.func,O.b.func,O.b.string,O.b.number,O.b.number,O.b.bool,{className:null,errorId:void 0,errorLevel:C.b.error,errorText:null,errorType:C.c.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,labelId:null,onChange:g.a,onFocus:g.a,onBlur:g.a,placeholder:null,size:S.a.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,featureAppViewsV1:!1}),x=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.id;return n.state={errorId:Object(_.a)(n.props,"errorId",Object(R.a)(r,"error")),hintId:Object(_.a)(n.props,"hintId",Object(R.a)(r,"hint")),inputLengthIsTooLong:!1,inputLengthIsTooShort:!1,isFocused:!1,textStyle:{}},n.props.maxCharacterLimit&&(n.characterCounterId=Object(R.a)(r,"character-count")),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.setInputRef=n.setInputRef.bind(n),n.setCharacterCountRef=n.setCharacterCountRef.bind(n),n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.getTextStyle()}},{key:"componentWillReceiveProps",value:function(e){e.maxCharacterLimit&&e.value!==this.props.value&&this.setInputLengthTooLong(e.value.length>e.maxCharacterLimit),e.minCharacterLimit&&e.value!==this.props.value&&this.setInputLengthTooShort(e.value.length<e.minCharacterLimit),e.isRequired||0!==e.value.length||this.setInputLengthTooShort(!1)}},{key:"componentDidUpdate",value:function(e,t){this.props.value===e.value&&this.state.isFocused===t.isFocused||this.getTextStyle()}},{key:"onFocus",value:function(){this.setFocus(!0),this.props.onFocus()}},{key:"onBlur",value:function(){this.setFocus(!1),this.props.onBlur()}},{key:"setFocus",value:function(e){this.setState(function(){return{isFocused:e}})}},{key:"setInputLengthTooLong",value:function(e){this.setState(function(){return{inputLengthIsTooLong:e}})}},{key:"setInputLengthTooShort",value:function(e){this.setState(function(){return{inputLengthIsTooShort:e}})}},{key:"setInputRef",value:function(e){this.input=e}},{key:"setCharacterCountRef",value:function(e){this.characterCount=e}},{key:"setTextStyle",value:function(e){this.setState(function(){return{textStyle:e}})}},{key:"getTextStyle",value:function(){if(this.props.maxCharacterLimit){var e={paddingRight:this.characterCount.getCharacterCountWidth()};this.setTextStyle(e)}else this.setTextStyle({})}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"renderDeprecatedErrorMaybe",value:function(){var e=this.props,t=e.errorLevel,n=e.errorText,r=e.errorType,a=e.isRequired,i=e.maxCharacterLimit,o=e.minCharacterLimit,s=e.value,c=e.featureAppViewsV1;return n?j.a.createElement(C.d,{id:this.state.errorId,level:t,type:r,className:"margin_bottom_100"},n):a||0!==s.length?i&&this.state.inputLengthIsTooLong?j.a.createElement(C.d,{id:this.state.errorId,level:C.b.error,type:r,className:"margin_bottom_100"},Object(R.b)(i,c)):o&&this.state.inputLengthIsTooShort&&!this.state.isFocused?j.a.createElement(C.d,{id:this.state.errorId,level:C.b.error,type:r,className:"margin_bottom_100"},Object(R.c)(o,c)):null:null}},{key:"renderErrorMaybe",value:function(){var e=this.props,t=e.errorText,n=e.isRequired,r=e.maxCharacterLimit,a=e.minCharacterLimit,i=e.value;return t?j.a.createElement(I.a,{id:this.state.errorId},t):n||0!==i.length?r&&this.state.inputLengthIsTooLong?j.a.createElement(I.a,{id:this.state.errorId},Object(R.b)(r)):a&&this.state.inputLengthIsTooShort&&!this.state.isFocused?j.a.createElement(I.a,{id:this.state.errorId},Object(R.c)(a)):null:null}},{key:"renderHintMaybe",value:function(){var e=this.props.hintText;return e?j.a.createElement(w.a,{id:this.state.hintId},e):null}},{key:"renderWrappedTextareaMaybe",value:function(){var e=this.props,t=e.value,n=e.maxCharacterLimit,r=e.size,a=e.isDisabled,i=this.renderTextArea();return n&&(i=j.a.createElement(T.a,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:t.length,isDisabled:a,maxCharacterLimit:n,type:"multiline",size:r},i)),i}},{key:"renderTextArea",value:function(){var e,t=this.props,n=t.className,r=(t.errorId,t.errorLevel),i=t.errorText,s=(t.errorType,t.hintId,t.hintText),l=t.useInlineAlert,u=t.id,d=t.isRequired,b=t.labelId,p=t.name,h=t.onChange,m=(t.onFocus,t.onBlur,t.maxCharacterLimit),f=t.minCharacterLimit,v=(t.featureAppViewsV1,c()(t,["className","errorId","errorLevel","errorText","errorType","hintId","hintText","useInlineAlert","id","isRequired","labelId","name","onChange","onFocus","onBlur","maxCharacterLimit","minCharacterLimit","featureAppViewsV1"])),g=this.state,_=g.inputLengthIsTooShort,O=g.inputLengthIsTooLong,y=g.textStyle,k=!!i||O&&!!m||_&&!!f,C=E()((e={},o()(e,"c-input_textarea--with_"+r,k),o()(e,"c-input_textarea--with_hint",s),o()(e,"c-input_textarea--with_character_count",!!m),o()(e,"c-input_text--with_inline_alert",l),e),n),I=Object(R.e)([b,k?this.state.errorId:null]),w=Object(R.e)([this.state.hintId,this.characterCounterId]);return j.a.createElement(S.b,a()({},v,{ref:this.setInputRef,style:y,ariaDescribedby:w,ariaInvalid:k,ariaLabelledby:I,ariaRequired:d,className:C,id:u,name:p,onChange:h,onFocus:this.onFocus,onBlur:this.onBlur}))}},{key:"render",value:function(){var e=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return j.a.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),e,this.renderHintMaybe())}}]),t}(j.a.Component);x.displayName="FormTextarea",t.a=x,x.defaultProps=N},P8Y3:function(e,t,n){"use strict";var r=n("fujP"),a=n("kxpR"),i=n.n(a),o=n("aK/h"),s=n("MnCE"),c=n("g0Ht"),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("TSYQ"),g=n.n(v),_=n("tn36"),O=n("RAhH"),y=n("XLFM"),j=n("od5y"),k=new(n("nNoG").b)("apps"),E=(o.b.bool,o.b.string.isRequired,o.b.string,o.b.arrayOf(o.b.string),function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isExpanded:!1},Object(_.a)(n,["setTooltipRef","handleShowMoreClick"]),n}return f()(t,e),b()(t,[{key:"componentDidUpdate",value:function(e,t){t.isExpanded!==this.state.isExpanded&&this.tooltip&&this.tooltip.hideTip()}},{key:"setTooltipRef",value:function(e){this.tooltip=e}},{key:"handleShowMoreClick",value:function(e){e.preventDefault(),this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"renderShowMoreMaybe",value:function(){var e=this.props.longDescription,t=this.state.isExpanded,n=t?k.t("Show less"):k.t("Show more"),r=t?"caret_down":"caret_right";return e?i.a.createElement(O.c,{tip:n,shouldFade:!1,zIndex:"above_fs",ref:this.setTooltipRef},i.a.createElement(y.c,{className:"left_margin",onClick:this.handleShowMoreClick},i.a.createElement(j.b,{inline:!0,type:r,className:"p-oauth_scope_info__expander_icon"}))):null}},{key:"renderLongDescriptionMaybe",value:function(){var e=this.props.longDescription,t=this.state.isExpanded;return e&&t?i.a.createElement("p",{className:"p-oauth_scope_info__scope_description no_bottom_margin small_top_margin"},e):null}},{key:"render",value:function(){var e=this.props,t=e.isDangerous,n=e.shortDescription,r=e.scopes,a=g()({"p-oauth_scope_info__safe_scope":!t,"p-oauth_scope_info__dangerous_scope":t});return i.a.createElement("div",{className:a,"data-qa-scopes":r.join(",")},i.a.createElement("div",{className:"display_flex"},t&&i.a.createElement(j.b,{inline:!0,type:"warning",className:"p-oauth_scope_info__spacer_icon"}),i.a.createElement("span",{className:"p-oauth_scope_info__scope_description flex_one"},n),this.renderShowMoreMaybe()),this.renderLongDescriptionMaybe())}}]),t}(a.PureComponent));E.displayName="OauthScopeDescription",E.defaultProps={isDangerous:!1,longDescription:null,scopes:[]};var C=E,I=(n("QHXv"),o.b.arrayOf(c.a).isRequired,o.b.string,o.b.string,{defaultScopeDescription:void 0,"data-qa":"oauth_scope_info"}),w=function(e){var t=e.scopeInfo,n=e.defaultScopeDescription,a=e["data-qa"];if(Object(r.a)(t))return null;var o=function(e,t){var n=[],r=[];return t&&n.push(i.a.createElement(C,{key:"default",shortDescription:t})),e.forEach(function(e){var t=e.scopes,a=e.short_description,o=e.long_description,s=e.is_dangerous,c={key:t[0],shortDescription:a,longDescription:o,isDangerous:s,scopes:t},l=i.a.createElement(C,c);s?r.push(l):n.push(l)}),{safeScopeDescriptions:n,dangerousScopeDescriptions:r}}(t,n),s=o.safeScopeDescriptions,c=o.dangerousScopeDescriptions;return i.a.createElement("div",{className:"p-oauth_scope_info","data-qa":a},!Object(r.a)(s)&&i.a.createElement("div",{className:"p-oauth_scope_info__safe_scopes"},s),!Object(r.a)(c)&&i.a.createElement("div",{className:"p-oauth_scope_info__dangerous_scopes"},c))};w.displayName="OauthScopeInfo",w.displayName="OauthScopeInfo",w.defaultProps=I;var S=Object(s.a)(w);t.a=S},P9LH:function(e,t,n){"use strict";n.d(t,"D",function(){return O}),n.d(t,"M",function(){return y}),n.d(t,"H",function(){return j}),n.d(t,"N",function(){return k}),n.d(t,"L",function(){return E}),n.d(t,"E",function(){return C}),n.d(t,"F",function(){return I}),n.d(t,"G",function(){return w}),n.d(t,"w",function(){return S}),n.d(t,"v",function(){return T}),n.d(t,"n",function(){return R}),n.d(t,"z",function(){return N}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return M}),n.d(t,"b",function(){return P}),n.d(t,"u",function(){return A}),n.d(t,"C",function(){return D}),n.d(t,"I",function(){return L}),n.d(t,"J",function(){return q}),n.d(t,"g",function(){return F}),n.d(t,"c",function(){return B}),n.d(t,"p",function(){return U}),n.d(t,"B",function(){return H}),n.d(t,"K",function(){return K}),n.d(t,"h",function(){return G}),n.d(t,"s",function(){return V}),n.d(t,"m",function(){return z}),n.d(t,"k",function(){return Y}),n.d(t,"i",function(){return X}),n.d(t,"j",function(){return Z}),n.d(t,"d",function(){return J}),n.d(t,"A",function(){return $}),n.d(t,"y",function(){return ee}),n.d(t,"o",function(){return te}),n.d(t,"r",function(){return re}),n.d(t,"q",function(){return ae}),n.d(t,"l",function(){return ie}),n.d(t,"t",function(){return oe}),n.d(t,"O",function(){return se}),n.d(t,"a",function(){return ce}),n.d(t,"x",function(){return le});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("sk9p"),c=n.n(s),l=n("yIs4"),u=n("RQuH"),d=n("Vfgr"),b=n("NFsq"),p=n("gSGL"),h=n("m8R6"),m=n("7EGn"),f=n("fujP"),v=n("aLpA"),g=new(n("nNoG").b)("files"),_=function(e){return"hosted"!==e.mode?"external":e.mimetype&&0===e.mimetype.indexOf("image/")&&-1===e.mimetype.indexOf("svg")||"pdf"===e.filetype?"window":"download"},O=function(e){return void 0!==e.content?!!e.is_truncated:e.size>v.R},y=function(e){return!!e&&"tombstone"===e.mode},j=function(e){return!(!e||"hidden_by_limit"!==e.mode&&!e.is_hidden_by_limit)},k=function(e){return!!e&&!(y(e)||j(e))},E=function(e){return e&&e.is_starred},C=function(e){return!e.is_public&&!e.is_external&&!e.is_shared},I=function(e){return e.is_public},w=function(e){return e.isUnknown};function S(e){return e&&e.shares&&e.shares.public&&Object.keys(e.shares.public)||[]}function T(e){return e&&e.shares&&e.shares.private&&Object.keys(e.shares.private)||[]}function R(e){return e&&e.shares?S(e).concat(T(e)):[]}function N(e){return!(!e||!e.shares)&&!!R(e).length}var x=function(e){if(!k(e))return!1;var t=e.thumb_360||e.thumb_360_gif,n=e.mimetype&&-1!==e.mimetype.indexOf("image/");return t&&n},M=function(e){return!!k(e)&&("pdf"===e.filetype||!!e.converted_pdf)},P=function(e){return!!e&&!!e.converted_pdf},A=function(e){return M(e)?e.converted_pdf||e.url_private_download:null},D=function(e){return!!e&&!(!e.is_box&&!e.is_dropbox)},L=function(e){return!!e&&e instanceof Blob},q=function(e){return!!L(e)&&(!!Object(p.a)(e.type)&&-1!==e.type.indexOf("image/"))},F=function(e){return"post"===e.mode||"space"===e.mode||"docs"===e.mode},B=function(e){return"docs"===e.mode},U=function(e){return e?x(e)?"image":F(e)?"post":"snippet"===e.mode?"snippet":"email"===e.mode?"email":"docs"===e.mode?"docs":"generic":null};var H=function(e){return!!e.is_external&&"app"!==e.external_type},K=function(e){return!!e.is_external&&"app"===e.external_type},G=function(e){return H(e)};function V(e){if(K(e))return"remote";if(x(e))return"view";if(function(e){return!!e&&("pdf"===e.filetype||e.converted_pdf)&&"hosted"===e.mode&&e.size<=5e7}(e))return"view";var t=U(e);return"snippet"===t||"post"===t||"email"===t?"detail":_(e)}function z(e){return e?Object(d.a)(e.name)||g.t("Untitled"):null}function Y(e){return e?Object(d.a)(e.title)||z(e):null}var W=/^(m4a|mp3|wav)$/,Q=/^(mp4|mov|webm)$/,X=function(e){return W.test(e.filetype)},Z=function(e){return Q.test(e.filetype)},J=function(e){if(!e)return!1;var t=X(e)||Z(e),n=!e.is_external||!Object(f.a)(Object(m.a)(e,"video.outputs"));return t&&n},$=function(e){if(!e)return!1;var t=U(e);return"post"===t||"docs"===t?function(e){if(!e)return!1;var t=e.preview;if(!t)return!1;if(t.length>=400)return!0;if(t.split(" ").length>=50)return!0;if(t.split("\n").length>=4)return!0;var n=t.match(/<\/(?:h\d|p|li|pre|blockquote)>/g)||[],r=t.match(/<hr>/g)||[];return n.concat(r).length>=4}(e):"snippet"===t?function(e){return!!e&&(e.lines_more>0||e.preview_is_truncated)}(e):"email"===t};function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;if(!e.thumb_360&&!e.thumb_360_gif)return!1;var n=t.suppressAnimations,r=t.featurePjpeg,a=t.maxSize||480;if(n&&"gif"===e.filetype){if(e.deanimate_gif)return e.deanimate_gif;if(a>360&&e.thumb_480)return e.thumb_480;if(e.thumb_160)return e.thumb_160}if(e.thumb_480_gif||e.thumb_360_gif){if(a>360&&e.thumb_480_gif)return e.thumb_480_gif;if(e.thumb_360_gif)return e.thumb_360_gif}return r&&e.pjpeg?e.pjpeg:e.thumb_pdf?e.thumb_pdf:a>480&&e.thumb_1024?e.thumb_1024:a>360&&e.thumb_960?e.thumb_960:e.thumb_720?e.thumb_720:e.thumb_480?e.thumb_480:e.thumb_360}function te(e){return e?e.updated||e.created||e.timestamp:null}var ne={mp3:"file-audio",wav:"file-audio",m4a:"file-audio",ogg:"file-audio",txt:"file-text",rtf:"file-text",png:"file-image",jpg:"file-image",jpeg:"file-image",gif:"file-image",bmp:"file-image",eps:"file-image",image:"file-image",pages:"file-image",tiff:"file-image",svg:"file-image",flv:"file-video",mov:"file-video",avi:"file-video",mp4:"file-video",key:"file-presentation",keynote:"file-presentation",csv:"file-spreadsheet",tsv:"file-spreadsheet",numbers:"file-spreadsheet",iso:"file-media-archive",zip:"file-archive",dmg:"file-disk-image",exe:"file-executable",gfx3d:"file-3d-graphic",db:"file-database",sql:"file-database",md:"file-markdown",c:"file-code",cpp:"file-code",csharp:"file-code",diff:"file-code",erlang:"file-code",java:"file-code",javascript:"file-code",objc:"file-code",perl:"file-code",python:"file-code",ruby:"file-code",erb:"file-code",rb:"file-code",xml:"file-code",space:"file-text-post",docs:"file-text-post",gpres:"file-google-presentation",gsheet:"file-google-spreadsheet",gdoc:"file-google-document",gdraw:"file-google-form",gform:"file-google-form",doc:"file-word",docx:"file-word",xls:"file-excel",xlsx:"file-excel",xlsm:"file-excel",xltx:"file-excel",ppt:"file-powerpoint",pptx:"file-powerpoint",ai:"file-illustrator",psd:"file-photoshop",indd:"file-indesign",fla:"file-adobe-flash",swf:"file-adobe-swf",apk:"file-android-app",ipa:"file-iphone-app"},re=function(e){return ne[e]};var ae=function(e){if(!e||!Object(p.a)(e))return null;var t,n=e.split("/"),r=c()(n,2),a=r[0],i=r[1];return t=i,Object(b.a)(v.s,t)?i:a};function ie(e){return"USLACKBOT"===e.user&&e.bot_id?{botId:e.bot_id}:{userId:e.user,botId:e.bot_id}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.orientation,n=e.imageDimensionRatio;return Object(u.a)(t,2,9)&&n?{transform:{2:"scaleX(-1)",3:"rotate(180deg)",4:"rotate(180deg) scaleX(-1)",5:"rotate(90deg) scale("+n+", -"+n+")",6:"rotate(90deg) scale("+n+")",7:"rotate(90deg) scale(-"+n+", "+n+")",8:"rotate(-90deg) scale("+n+", "+n+")"}[t]}:{}}function se(e,t){if(e){var n={goodFiles:[],excludedFiles:[]},r=0;!function(e){var i=void 0,o=void 0,s=void 0;e.forEach(function(c){o=c,s=c,(c.isFile||c.isDirectory)&&(i=c,s=c),c.getAsEntry?(i=c.getAsEntry(),s=i):c.webkitGetAsEntry&&(i=c.webkitGetAsEntry(),s=i),"function"==typeof c.getAsFile?o=c.getAsFile():File&&c instanceof File&&(o=c),a(o,s,function(a,i,o){a?s.name?n.excludedFiles.push(o):n.excludedFiles.push(i):D(i)?i.link?n.goodFiles.push(i):n.excludedFiles.push(i):!Object(l.a)(i.size)||i.size<=0?n.excludedFiles.push(i):n.goodFiles.push(i),(r+=1)===e.length&&t(n)})},this)}(e)}function a(e,t,n){t&&t.isDirectory?n(!0,e,t):D(e)?n(!1,e,t):function(e,t){var n=void 0;if(e.size<16384&&window.FileReader){(n=new FileReader).onload=function(){n.onerror=null,n.onload=null,n=null,t(!1)},n.onerror=function(){n.onerror=null,n.onload=null,n=null,t(!0)};try{n.readAsDataURL(e)}catch(e){n.onerror=null,n.onload=null,n=null,t(!0)}}else t(!1)}(e,function(r){n(r,e,t)})}}var ce=function(e,t,n){if(!e||!t)return null;if(!n){if(!e.pinned_info||!e.pinned_info[t])return e;var r=Object(h.a)(e.pinned_info,t);return Object(f.a)(r)?Object(h.a)(e,"pinned_info"):o()({},e,{pinned_info:r})}var i=n.pinnedBy,s=n.pinnedTs;return e.pinned_info&&e.pinned_info[t]&&e.pinned_info[t].pinned_by===i&&e.pinned_info[t].pinned_ts===s?e:o()({},e,{pinned_info:o()({},e.pinned_info,a()({},t,{pinned_by:i,pinned_ts:s}))})},le=function(e){return e?e.permalink_public:null}},PAPM:function(e,t,n){"use strict";n.d(t,"c",function(){return E}),n.d(t,"b",function(){return C}),n.d(t,"a",function(){return I});var r=n("m1cH"),a=n.n(r),i=n("hbEN"),o=n("BeL+"),s=n("Wy5O"),c=n("ZBlo"),l=n("fujP"),u=n("/1FC"),d=n("yIs4"),b=n("gSGL"),p=n("3PKk"),h=n("aK/h"),m=n("JvzI"),f=n("om+M"),v=n("CPJ1"),g=n("VjHM"),_=n("uOc9"),O=n("aLpA"),y=100,j={};var k=Object(i.a)(function(e,t){Promise.all(Object.keys(j).map(function(n){var r=j[n].userIds;return j[n].resolve(function(e,t,n,r){var a=Object(c.a)(Object(o.a)(r),y).map(function(r){return e(Object(p.f)({method:Object(_.a)(t())?p.c.CHANNEL_MEMBERSHIP:p.a.MEMBERSHIP,args:{channel:n,users:r}}))});return Promise.all(a).then(function(e){var t={};e.forEach(function(e){var n=e.members||[],r=e.non_members||[];n.forEach(function(e){t[e]=!0}),r.forEach(function(e){t[e]=!1})});var a=Object.keys(t);if(a.length!==r.length){var i=Object(s.a)(r,a);throw new Error("Flannel did not return membership status of "+n+" for some users: "+i.join(", "))}return t})}(e,t,n,r)),j[n].promise})),j={}},200);function E(e,t,n,r){if(!Object(b.a)(n))throw new Error("Expected channelId to be a String");if(!Object(u.a)(r)||!r.every(b.a))throw new Error("Expected userIds to be an Array of Strings");if(Object(l.a)(r))return Promise.resolve({});if(j[n])j[n].userIds=Object(o.a)([].concat(a()(j[n].userIds),a()(r)));else{var i=void 0,s=new Promise(function(e){i=e});j[n]={userIds:Object(o.a)(r),promise:s,resolve:i}}return k(e,t),j[n].promise}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O.A;return Object(b.a)(n)?Object(d.a)(r)?r>y?Promise.reject(new Error("Can't request more than "+y+" members per query")):e(Object(p.f)({method:Object(_.a)(t())?p.c.MEMBER_LIST:p.a.MEMBER_QUERY,args:{channels:[n],present_first:!0,filter:"everyone AND NOT bots AND NOT apps",count:r}})).then(function(t){var n=t.results;return Object(v.h)(e,n),n}):Promise.reject(new Error("Expected count to be a Number.")):Promise.reject(new Error("No channel id given"))}var I=Object(f.a)("Fetches members for the channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.count,i=void 0===a?10:a,o=n.marker,s=n.searchQuery,c=t(),l={count:i,channels:[r],marker:o,filter:"people",index:Object(g.h)(c)?"users_by_realname":"users_by_display_name",locale:Object(m.a)()};return s&&(l.query=s,l.search_profile_fields=!0),e(Object(v.c)({query:l})).then(function(e){var t=e.members;return{members:void 0===t?[]:t,nextMarker:e.next_marker}})});I.propTypes={channelId:h.b.string.isRequired,marker:h.b.string,searchQuery:h.b.string,count:h.b.number}},PJXc:function(e,t,n){"use strict";var r=n("hcpk"),a=n("J47P");n.d(t,"b",function(){return a.b}),t.a=r.a},PM8X:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.react_emoji_menu.start",function(){return null})},POms:function(e,t,n){},PPyR:function(e,t,n){},PR8O:function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return!!/(Slack)/g.test(e)}},PSBI:function(e,t,n){"use strict";var r=n("rWF5");function a(e){var t=e.error,n=e.description,a=e.subtype,i=e.teamId,o=e.version,s=r.k?"https://dev.slack.com/beacon/error":"https://slack.com/beacon/error",c=t;c instanceof Error&&(c.subtype=a),"string"==typeof c&&(c={message:c,subtype:a}),c||(c={subtype:a});var l={description:n,version:o,error_json:JSON.stringify(c,Object.getOwnPropertyNames(c)),team:i},u=new XMLHttpRequest;u.open("POST",s,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(encodeURI(Object.keys(l).map(function(e){return e+"="+l[e]}).join("&")))}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(e){var t=e.error,n=e.description,r=e.subtype;a({error:t,teamId:e.teamId,description:n,subtype:r+"_payment_api_error",version:"checkout_v2"})},o=function(e){var t=e.error,n=e.description,r=e.subtype;a({error:t,teamId:e.teamId,description:n,subtype:r+"_payment_critical_user_facing_error",version:"checkout_v2"})}},PT3z:function(e,t,n){},PWfr:function(e,t,n){},Pe1S:function(e,t,n){"use strict";function r(e){var t=e.featureWysiwygComposer,n=t?[["bold","italic","strike","link","code"],[{list:"bullet"},{list:"ordered"}],["code-block","blockquote"]]:[],r=[["bold","italic","code","strike"]];return t&&r.push(["bullet-list","ordered-list","blockquote","code-block"]),{formats:n,buttons:r,useFormattingCharacters:!t,disableLinkForm:!0,isComposerEnabled:function(){return!0}}}n.d(t,"a",function(){return r})},PhTC:function(e,t,n){"use strict";t.a=function(e){return{id:e,mode:"tombstone",is_deleted:!0}}},Pl1I:function(e,t,n){"use strict";var r=n("ifKl"),a=n("aK/h"),i=n("kxpR"),o=n.n(i),s=n("MnCE"),c=n("nNoG"),l=n("s19S"),u=n("/m+M"),d=n("Atrf"),b=new c.b("app_card"),p=(a.b.string,a.b.string,a.b.string,a.b.string,a.b.bool.isRequired,a.b.bool,a.b.bool,a.b.func,a.b.bool,{appType:void 0,memberId:void 0,appHomeTeamDisplayName:void 0,appName:"this app",isWorkflowApp:!1,installerIsYou:!1,onMemberClick:r.a,featureAddAppHomeTeamName:!1});function h(e){var t=e.appType,n=e.memberId,r=e.appName,a=e.isError,i=e.isWorkflowApp,s=e.installerIsYou,c=e.onMemberClick,p=e.appHomeTeamDisplayName,h=e.featureAddAppHomeTeamName,m=Object(u.a)().featureBuilderIsWorkflowApp,f=void 0;if(s)f=m&&i?b.rt("Created with Workflow Builder."):b.rt("You added {appName} to this workspace.",{appName:r});else{var v=o.a.createElement(d.a,{noMemberCard:!0,id:n,onClick:function(e){e.preventDefault(),Object(l.i)(n),c()}});f=m&&i?b.rt("Created with Workflow Builder."):p&&h?b.rt("{appName} is installed on {appHomeTeamDisplayName}.",{appHomeTeamDisplayName:p,appName:r}):"custom_integration"===t?b.rt("{installer} added this custom integration to this workspace.",{installer:v,appName:r}):"slack"===t?b.rt("{installer} configured {appName} to post in this channel.",{installer:v,appName:r}):b.rt("{installer} added {appName} to this workspace.",{installer:v,appName:r})}return a?null:o.a.createElement("div",{className:"p-app_profile_card__installation_summary","data-qa":"app_card_installation_summary"},o.a.createElement("span",{"data-qa-app-profile-card-installation-summary":!0},f))}h.defaultProps=p,t.a=Object(s.a)(h)},Po2o:function(e,t,n){"use strict";var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.presence_manager.createNewPresenceList",function(){return{add:r.a,remove:r.a,clear:r.a,destroy:r.a}});t.a=i},PoBj:function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=n("PR8O"),i=n("g5qt"),o=Object(r.b)("/slackdesktopsettings slash command",function(){Object(a.a)()&&Object(i.Eb)()});t.default=o},PrHW:function(e,t,n){},PsO1:function(e,t,n){},PxLB:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("wdjV"),c=n("6kok"),l=n("clTI"),u=n("kOzZ"),d=Object(o.b)("Clogs a message sent or resent",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.msg,o=n.resent,d=void 0!==o&&o,b=t(),p=r?Object(l.d)(b,r):null,h={message_timestamp:i.ts,channel_id:r,channel_type:r?r.charAt(0):null,channel_privacy_type:p?Object(c.t)(p):null},m=Object(s.b)(b);null!==m&&(h=a()({},h,{channel_session_id:m}));var f=d?"MSG_RESENT":"MSG_SENT";Object(u.a)({state:b}).track(f,h)});d.propTypes={channelId:i.b.string.isRequired,msg:i.b.shape({ts:i.b.string}).isRequired,resent:i.b.bool},t.a=d},Py5X:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("Muja"),f=n("7EGn"),v=n("HiDb"),g=n("qAkX"),_=n("Yk7g"),O=n("HI9p"),y=n("ifKl"),j=n("hbEN"),k=n("TSYQ"),E=n.n(k),C=n("tn36"),I=n("aK/h"),w=n("kxpR"),S=n.n(w),T=n("HDnS"),R=n("UF3u"),N=n("RMmo"),x=n("8yfr"),M=n("oLrU"),P=n("icQl"),A=n("od5y"),D=n("nNoG"),L=n("RbWr"),q=n("e4Fz"),F=(n("clrF"),new D.b("select")),B={label:"Clear selection",value:"sk-select-clear"},U={"data-qa":I.b.string,ariaLabel:I.b.string,emptyStateMessage:I.b.func,isLoading:I.b.bool,listRef:I.b.node,maxListHeight:I.b.number,onOptionSelected:I.b.func,onScroll:I.b.func,optionsRowHeight:I.b.number,renderOption:I.b.func.isRequired,selectState:I.b.shape({activeRowIndex:I.b.number,isRequired:I.b.bool,selectedOption:I.b.object,selectedOptions:I.b.array,options:I.b.array,selectId:I.b.string.isRequired}).isRequired,setSelectState:I.b.func.isRequired,width:I.b.number.isRequired,multiSelectMode:I.b.bool,includeWrapper:I.b.bool,includePadding:I.b.bool,unstyled:I.b.bool,customOptionCompare:I.b.func,classPrefix:I.b.string,selectDataQa:I.b.string},H={ariaLabel:void 0,emptyStateMessage:void 0,isLoading:!1,maxListHeight:x.e,onOptionSelected:y.a,onScroll:y.a,optionsRowHeight:x.a,multiSelectMode:!1,includeWrapper:!0,includePadding:!0,unstyled:!1,hasOptionBeenSelected:void 0,classPrefix:void 0,wrapperStyles:void 0,selectDataQa:void 0},K=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isMouseMoveEnabled=!0,Object(C.a)(n,["getOptionsList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedUp","onKeyPressedEsc","onMouseLeftOption","onScroll","renderRow","scrollToSelected"]),n.listBody=S.a.createRef(),n.list=S.a.createRef(),n.currentRow=S.a.createRef(),n.formatOptions=Object(P.a)(t.formatOptions),n.debouncedEnableMouseMove=Object(j.a)(n.enableMouseMove,200),n.debouncedOnScroll=Object(j.a)(n.onScroll,200),B.label=F.t("Clear selection"),n}return h()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState,a=n.filterQuery,i=n.options;if(a!==e.selectState.filterQuery||!Object(R.a)(e.selectState.options,i)){var o=this.getFirstSelectableRowIndex();r(function(){return{activeRowIndex:o}})}}},{key:"getFirstSelectableRowIndex",value:function(){var e=this,t=this.props,n=t.selectState,r=t.multiSelectMode,a=t.customOptionCompare,i=n.filterQuery,o=this.getOptionsList(),s=null;if(i&&o.length){var c=Object(O.a)(o,function(t){return"heading"!==t.type&&"divider"!==t.type&&!e.isOptionSelected(n,t.option,r,a)},0);-1!==c&&(s=c)}return s}},{key:"componentDidMount",value:function(){this.keyCommands=this.initKeyCommands();var e=this.props,t=e.selectState,n=e.setSelectState,r=t.options,a=t.selectedOption,i=a?Object(O.a)(r,a):this.getFirstSelectableRowIndex();n(function(){return{activeRowIndex:i}}),this.scrollToSelected()}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"onKeyPressedDown",value:function(e){if(this.isMouseMoveEnabled=!1,this.shouldInterceptKeyEvent(e)){var t=this.props,n=t.selectState,r=t.setSelectState,a=n.isExpanded,i=n.selectType,o=this.getNextActiveRowIndex(n.activeRowIndex);a&&e.preventDefault(),r(function(){return{activeRowIndex:o}}),i===x.g.BASIC&&this.currentRow&&this.currentRow.current&&this.focusNode(this.currentRow.current),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(o))}}},{key:"onKeyPressedUp",value:function(e){if(this.isMouseMoveEnabled=!1,this.shouldInterceptKeyEvent(e)){var t=this.props,n=t.selectState,r=t.setSelectState,a=n.isExpanded,i=n.selectType,o=this.getPreviousActiveRowIndex(n.activeRowIndex);a&&e.preventDefault(),r(function(){return{activeRowIndex:o}}),i===x.g.BASIC&&this.currentRow&&this.currentRow.current&&this.focusNode(this.currentRow.current),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(o))}}},{key:"onKeyPressedEsc",value:function(e){this.props.selectState.isExpanded&&this.shouldInterceptKeyEvent(e)&&(e.preventDefault(),this.props.setSelectState(function(){return{isExpanded:!1,activeRowIndex:null,filterQuery:""}}))}},{key:"onMouseEnteredOption",value:function(e){this.isMouseMoveEnabled&&(this.props.setSelectState(function(){return{activeRowIndex:e}}),this.list.current&&this.list.current.forceUpdateGrid())}},{key:"onMouseLeftOption",value:function(){this.isMouseMoveEnabled&&this.clearActive()}},{key:"onKeyPressedEnter",value:function(e){if(this.shouldInterceptKeyEvent(e)){e.preventDefault();var t=this.props.selectState.activeRowIndex,n=this.getOptionsList(),r=n[t]&&n[t].option||n[t];r&&r.isDisabled||this.onOptionSelected(r)}}},{key:"onOptionClicked",value:function(e){this.isMouseMoveEnabled&&this.onOptionSelected(e)}},{key:"onScroll",value:function(e){this.props.onScroll(e)}},{key:"getClassName",value:function(e,t){return this.props.unstyled?t:E()(t,e)}},{key:"getRowHeight",value:function(e){var t=this.props.optionsRowHeight;return e.type&&"divider"===e.type?x.b:t}},{key:"clearActive",value:function(){this.props.setSelectState(function(){return{activeRowIndex:null}}),this.list.current&&this.list.current.forceUpdateGrid()}},{key:"focusNode",value:function(e){e&&document.activeElement!==e&&e.focus()}},{key:"getOptionsList",value:function(){var e=this.props,t=e.multiSelectMode,n=e.selectState,r=n.options,a=n.isRequired,i=n.selectedOption,s=[];return r&&r.length&&(s=t||!i||a?r:[B].concat(o()(r)),s=[].concat(o()(this.formatOptions(s)))),s}},{key:"enableMouseMove",value:function(){this.isMouseMoveEnabled=!0}},{key:"getDataQaTag",value:function(e,t){var n=this.props,r=n.selectDataQa,a=n.selectState.isRequired,i=(e.value?e.value:e.label).replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase(),o=a?t:t-1;return e.value?r+"_option_"+o:r+"_option_header_"+i}},{key:"getNextActiveRowIndex",value:function(e){var t=this.getOptionsList(),n=t[0]&&"heading"===t[0].type;if(null===e&&!n)return 0;if(null===e&&n)return 1;var r=Object(O.a)(t,function(e){return"heading"!==e.type&&"divider"!==e.type},e+1);return t[r]?r:n?1:0}},{key:"getPreviousActiveRowIndex",value:function(e){var t=this.getOptionsList(),n=e-Object(_.a)(t.slice(0,e)).findIndex(function(e){return"heading"!==e.type&&"divider"!==e.type})-1;return t&&!t.length?null:n===e?t.length-1:t[n]&&e>0?n:t.length-1}},{key:"initKeyCommands",value:function(){var e=new N.a;return e.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:["enter"],handler:this.onKeyPressedEnter},{keys:["up"],handler:this.onKeyPressedUp},{keys:["esc"],handler:this.onKeyPressedEsc}]),e}},{key:"handleClear",value:function(){var e=this.props,t=e.selectState,n=e.setSelectState,r=e.onOptionSelected;t.selectedOption&&(n(function(){return{selectedOption:null,isExpanded:!1,filterQuery:""}},function(){r({value:null})}),this.list.current&&this.list.current.forceUpdateGrid())}},{key:"scrollToSelected",value:function(){if(this.list.current){var e=this.props.selectState.selectedOption;if(!this.props.multiSelectMode&&e){var t=this.getOptionsList(),n=Object(O.a)(t,function(t){return Object(f.a)(t,"option.value")===e.value});this.list.current.scrollToRow(n)}}}},{key:"onOptionSelected",value:function(e){var t=this.props,n=t.onOptionSelected,r=t.selectState,a=t.setSelectState,i=t.multiSelectMode,s=t.inputRef,c=t.customOptionCompare;if(e&&!e.isDisabled)if(i){var l=r.selectedOptions;this.isOptionSelected(r,e,i,c)||a(function(){return{selectedOptions:[].concat(o()(l),[e]),activeRowIndex:null,filterQuery:"",isExpanded:!1}}),s&&s.current&&s.current.focus()}else if(e===B)this.handleClear();else{var u={isExpanded:!1,filterQuery:""};!Object(m.a)(r.selectedOption,e)&&(u.selectedOption=e),a(function(){return u},function(){n(e)})}}},{key:"getArialabelForItem",value:function(e){var t=e.isFirstChild,n=e.isLastChild,r=e.optgroup;if(!r)return null;var a=F.t("First item in group {group}, {value}",{group:r&&r.split("-")[0],value:e.option.label}),i=F.t("Last item in group {group}, {value}",{group:r&&r.split("-")[0],value:e.option.label});return t?a:n?i:null}},{key:"shouldInterceptKeyEvent",value:function(e){return!!e.target.hasAttribute("aria-autocomplete")||(!!e.target.hasAttribute("aria-haspopup")||!(!this.listBody.current||!this.listBody.current.contains(e.target)))}},{key:"renderEmptyState",value:function(){var e=this.props,t=e.emptyStateMessage,n=e.width,r=e.selectState,a=e.isLoading,i=e.selectDataQa;if(a)return null;var o=r.filterQuery,s=F.t("No items");return t&&(s=t(o)),S.a.createElement("div",{"data-qa":i?i+"-empty-state":null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:n}},S.a.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option")},s))}},{key:"renderList",value:function(){var e=this,t=this.props,n=t.ariaLabel,r=t.maxListHeight,a=t.width,i=t.multiSelectMode,o=t.includePadding,s=t.unstyled,c=this.props.selectState.selectId,l=this.getOptionsList(),u=r||x.e,d=l.map(function(t){return e.getRowHeight(t)}).reduce(function(e,t){return e+t},0),b=d<u?d:u,p={padding:o?x.c:0,boxSizing:"content-box"},h=s?a:a-x.d;return S.a.createElement(T.a,{"aria-label":n,containerProps:{"aria-multiselectable":!!i},containerRole:"presentation",containerStyle:{position:"relative",overflow:"visible"},style:p,height:b,id:Object(q.a)(c,"listbox"),"no-bootstrap":1,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,role:"listbox",rowCount:l?l.length:0,rowHeight:function(t){var n=t.index;return e.getRowHeight(l[n])},rowRenderer:this.renderRow,tabIndex:-1,width:h})}},{key:"renderListBody",value:function(){if(this.props.isLoading)return this.renderLoadingState();var e=this.getOptionsList();return!e||e&&!e.length?this.renderEmptyState():this.renderList()}},{key:"renderLoadingState",value:function(){var e=this.props.width,t=F.t("Loading results\u2026");return S.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:e}},S.a.createElement(A.b,{type:"spinner",animation:"spin"}),S.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state_message")},t))}},{key:"renderRow",value:function(e){var t=this,n=e.index,r=e.key,a=e.style,i=this.props,o=i.classPrefix,s=i.selectState,c=i.multiSelectMode,l=i.customOptionCompare,u=i.unstyled,d=s.selectId,b=this.getOptionsList(),p=void 0,h=(p=b[n].option?b[n].option:b[n]).isPlaceholder,m=this.isOptionActive(s,b,p),f=this.isOptionSelected(s,p,c,l),v=p===B,g="heading"===b[n].type,_=!!b[n].optgroup,O="divider"===b[n].type,j=!!p.isDisabled,k=o?o+"__option":null,C=E()("c-select_options_list__option",k,{"c-select_options_list__option--active":m,"c-select_options_list__option--placeholder":h,"c-select_options_list__option--selected":f&&!g&&!O,"c-select_options_list__option--disabled":j,"c-select_options_list__group_header":g,"c-select_options_list__group_option":_,"c-select_options_list__divider":O,"c-select_options_list__clear_option":v}),I=v?B.label:S.a.createElement("hr",{className:this.getClassName("c-select_options__divider")});O||v||(I=this.props.renderOption(p,{index:n,isActive:m,isSelected:f&&!g&&!O}));var w=void 0;return w=u?I:S.a.createElement("span",{className:this.getClassName("c-select_options_list__option_label")},I),S.a.createElement("div",{"aria-hidden":g?"true":null,"aria-selected":f,"aria-label":g?null:this.getArialabelForItem(b[n]),className:this.getClassName(C,k),"data-qa":O?void 0:this.getDataQaTag(p,n),id:Object(q.a)(d,"option_"+n),key:r,style:a,onClick:j?function(){return t.onOptionSelected(p)}:function(){t.onOptionClicked(p)},onMouseEnter:j?y.a:function(){t.onMouseEnteredOption(n)},onMouseLeave:j?y.a:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":m?"true":void 0,ref:m?this.currentRow:null,optgroup:_?b[n].optgroup:void 0,"aria-disabled":j||null},w)}},{key:"isOptionSelected",value:function(e,t,n,r){var a=e.selectedOptions,i=void 0===a?null:a,o=e.selectedOption,s=void 0===o?null:o;return!(n&&(!i||i&&!i.length))&&(!(!n&&!s)&&(n?r?i.some(function(e){return r({selectedOption:e,listOption:t})}):i.some(function(e){return e.value===t.value}):s.value===t.value))}},{key:"isOptionActive",value:function(e,t,n){var r=e.activeRowIndex,a=void 0===r?null:r;if(!a&&0!==a)return!1;var i=t[a];return(i&&i.option?i.option:i)===n}},{key:"render",value:function(){var e=this.props,t=e.classPrefix,n=e.selectDataQa,r=E()("c-select_options_list",a()({},t+"_options_list",t)),i=S.a.createElement("div",{className:r,ref:this.listBody,"data-qa":n?n+"-options-list":null},this.renderListBody());if(!this.props.includeWrapper)return i;var o=E()("c-select_options_list__wrapper",a()({},t+"_options_list_wrapper",t));return S.a.createElement("div",{className:this.getClassName(o),"data-qa":n?n+"-options-list-wrapper":null},i)}}],[{key:"formatOptions",value:function(e){return Object(v.a)(e,function(t,n){if(t.options){var r=t.label.toLowerCase()+"-"+Object(M.a)(),a=[{type:"heading",label:t.label,group:r}].concat(t.options.map(function(e,n){var a={type:"option",option:e,optgroup:r};return 0===n&&(a.isFirstChild=!0),n===t.options.length-1&&(a.isLastChild=!0),a}));return e[n-1]&&e[n-1].value&&!e[n-1].options&&a.unshift({type:"divider"}),Object(g.a)(e)===t?a:(a.push({type:"divider"}),a)}return{type:"option",option:t}})}}]),t}(L.a);K.displayName="SelectOptionsList",K.propTypes=U,K.defaultProps=H,t.a=K},"Q+UV":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("M4yy"),a=n("zfae"),i=n("bHK9"),o=n("uf9I"),s=n("HO/Y"),c=n("rzSx"),l=function(e,t,n){if(!e||!t)throw new TypeError("makeReactionKey: missing type or ID");if("message"===e&&!n)throw new TypeError("makeReactionKey: no channel ID provided for message type");if("message"!==e&&n)throw new TypeError("makeReactionKey: channel ID provided for non-message type");return e+"-"+t+"-"+(n||"")},u=function(e,t){var n=void 0,a=void 0,i=void 0;if(e)if("file_comment"===e.subtype){var o=["file_comment",e.comment];a=o[0],n=o[1]}else if(Object(r.a)(e.subtype))a="file",n=t;else{var s=["message",e,e.channel];a=s[0],n=s[1],i=s[2]}return n&&(n._rxn_key||l(a,n.id||n.ts,i))},d=function(e,t,n){if(Object(a.f)(e,t,n))return n;var r=Object(s.j)(e,"feature_sonic_emoji"),l=Object(o.b)(e),u=r?Object(i.b)(e,{text:n,teamId:l}):Object(c.i)(n),d=r?Object(i.i)(u):Object(c.b)(u);return Object(a.f)(e,t,d)?d:u}},Q4QL:function(e,t,n){},Q9r6:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("7EGn"),o=n("vFlG"),s=n("lE2N"),c=n("x91h"),l=n("3Hq1"),u=n("/1FC"),d=n("aK/h"),b=n("XfeM"),p=n("EzZj"),h=n("lhZz"),m=n("Ia5v"),f=n("W5IG"),v=n("uf9I"),g=n("5mKg"),_=n("ROZo"),O=Object(_.b)("TS.permissions.teams.canLeaveTeam",function(){return!1}),y=n("FN36"),j=n("HO/Y"),k=n("Smdl"),E=n("90XA"),C=n("St+r"),I=n("YB7p"),w=n("yHhI"),S=n("kOzZ"),T=n("negh"),R=n("iegW"),N=n("tA4R"),x=n("D4L/"),M=n("RAAT");n.d(t,"c",function(){return P}),n.d(t,"b",function(){return A}),n.d(t,"a",function(){return D});var P=Object(b.b)("Upsert a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.team,s=n.isExternal,c=void 0!==s&&s;if(!r||!r.id)return r;var d=t(),b=Object(w.a)({getState:t}),p=Object(v.b)(d);Object(R.a)(p,[r.id]);var h=Object(x.k)(d,r.id),g=h?Object(x.i)(d,r.id,!1):{};h&&!g&&b.error("existing team object is falsy in upsertTeam for team.id = "+r.id+". Own team id = "+p,{subtype:document.location.href});var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name||e.name?{isUnknown:!1,isNonExistent:!1}:{}}(g,r),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(o.a)(t,"is_over_storage_limit"))return{over_storage_limit:!!t.is_over_storage_limit};var n=a()({},e,t).over_storage_limit;return Object(l.a)(n)?{}:{over_storage_limit:n}}(g,r),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];e||n.error("existingTeam falsy in mergeProfile");t||n.error("team falsy in mergeProfile");var r=e.profile,i=t.profile,o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fields,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fields,n=e&&!t?e:t;return Object(u.a)(n)?n:[]}(r,i);return a()({},r,i,{fields:o})}(g,r,b),D=function(e){return{_other_account:!!e._other_account}}(r),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(!Object(j.j)(n,"feature_esc_grid_migrations_client"))return{};if(void 0!==t.is_migrating)return{is_migrating:t.is_migrating};return void 0!==e.is_migrating?{}:{is_migrating:!1}}(g,r,d),q=a()({},g,r,_,L,O,{profile:y},D);if(c){e(Object(m.a)({id:q.id}));var F=r.channels,B=r.counts;(F||B)&&e(Object(f.a)({teamId:q.id,channelsData:{channels:F,counts:B}}))}return Object.defineProperties(q,{channels:{get:function(){return b.warn("EXT_TEAMS_CHANNELS","Accessing `channels` directly from the team object is deprecated. Use `getChannelsByTeamId` instead."),Object(M.b)(d,r.id)},enumerable:!1},counts:{get:function(){return b.warn("EXT_TEAMS_CHANNELS","Accessing `counts` directly from the team object is deprecated. Use `getChannelCountsByTeamId` instead."),Object(M.a)(d,r.id)},enumerable:!1}}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Object(j.j)(t,"feature_esc_grid_migrations_client"))return;if(!n.external_org_migrations)return;var r=Object(v.b)(t);if(n.id!==r)return;if(Object(E.g)(t)){var o=Object(x.i)(t,r),s=Object(i.a)(o,"external_org_migrations.date_updated");if(void 0!==s&&s<n.external_org_migrations.date_updated){var c="team.external_org_migrations has updated for current team "+o.id+", external team data could be stale";Object(k.a)()?Object(I.a)({immediate:!0,reason:c,reasonKey:"external_org_migrations"}):Object(I.b)({noCache:!0,reason:c,reasonKey:"external_org_migrations"});var l=Object(S.a)({state:t});l.track(T.k.ENTERPRISE_EXTERNAL_ORG_MIGRATION,{contexts:{ui_context:{action:T.v.FORCE_COLD_BOOT,step:Object(C.n)(t)?T.z.RECONNECT:T.z.BOOT}}}),l.sendDataAndEmptyQueue()}}var u=!1;n.external_org_migrations.current&&n.external_org_migrations.current.forEach(function(n){var r=Object(x.i)(t,n.team_id);r&&(e(P({team:a()({},r,{is_migrating:!0})})),u=!0)});u&&e(A())}(e,d,q),e(Object(N.a)(q)).payload});P.propTypes={team:d.b.shape({id:d.b.string.isRequired}).isRequired};var A=Object(p.b)("Trigger side effects when a migration for an external org has updated");A.propTypes={};var D=function(e){if(!Object(g.q)(e))return e;var t=e;return t=function(e){if(!Object(g.q)(e))return e;var t=e;if(t.top_combined_channels||(t.top_combined_channels=[]),t.your_channels||t.your_groups){var n=[];t.your_channels&&(n=n.concat(t.your_channels)),t.your_groups&&(n=n.concat(t.your_groups)),t.top_combined_channels=Object(s.a)(t.top_combined_channels.concat(n),"id").sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})}return t}(t=function(e){if(!Object(g.q)(e))return e;var t=e;return O(t)&&(t.can_leave=!0,t.cannot_leave_reasons=[]),t}(t=function(e){if(!Object(g.q)(e))return e;var t=e;return void 0===t.joined_date&&(t.joined_date=0),t}(t=function(e){if(!Object(g.q)(e))return e;var t=e;return t.user_counts||(t.user_counts={}),t.user_counts.active_members||(t.user_counts.active_members=0),t}(t=function(e){if(!Object(g.q)(e))return e;var t=e;return t.description=Object(c.a)(t.description),t}(t=function(e){if(!Object(g.q)(e))return e;var t=e;switch(t.is_open=!1,t.is_closed=!1,t.is_unlisted=!1,t.discoverable||Object(h.getStoreInstanceByTeamId)(e.id)&&Object(y.a)(Object(h.getStateByTeamId)(e.id),"discoverable")){case"public":case"open":t.is_open=!0;break;case"private":case"closed":t.is_closed=!0;break;case"invite_only":t.is_invite_only=!0;break;case"unlisted":default:t.is_unlisted=!0}return t}(t))))))}},QEGb:function(e,t,n){"use strict";var r=n("XHGt"),a=n("DTT0"),i=n("bo4X"),o=Object(r.b)(void 0,function(e){return{closeModal:function(){return e(Object(a.a)())}}})(i.a);t.a=o},QGHb:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("aK/h"),a=n("4zXV"),i=n("UjNr"),o=n("om+M"),s=n("HO/Y"),c=Object(o.a)("Set whether this message/file/etc is starred",function(e,t,n){var r={method:n.starred?"stars.add":"stars.remove",args:n.args,reason:n.reason};return Object(s.j)(t(),"feature_offline_mode")?e(Object(i.a)(r)):e(Object(a.a)(r))});c.propTypes={starred:r.b.bool,args:r.b.object,reason:r.b.string.isRequired};var l=Object(o.a)("Fetch list of user starred items",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.count,i=n.page,o=n.exclude,s=n.cursor,c=n.limit,l=n.reason;return e(Object(a.a)({method:"stars.list",args:{count:r,page:i,exclude:o,cursor:s,limit:c},reason:l}))});l.propTypes={count:r.b.number,page:r.b.number,exclude:r.b.string,cursor:r.b.string,limit:r.b.number,reason:r.b.string.isRequired}},QHXv:function(e,t,n){},QJdW:function(e,t,n){},QLsh:function(e,t,n){"use strict";n.r(t),n.d(t,"openFileWindow",function(){return a}),n.d(t,"windowWithTokenBecameKey",function(){return i}),n.d(t,"windowWithTokenResignedKey",function(){return o}),n.d(t,"windowWithTokenWillClose",function(){return s}),n.d(t,"windowWithTokenBeganLoading",function(){return c}),n.d(t,"windowWithTokenEstimatedProgressChanged",function(){return l}),n.d(t,"windowWithTokenFinishedLoading",function(){return u}),n.d(t,"windowWithTokenDidChangeGeometry",function(){return d}),n.d(t,"windowWithTokenCrashed",function(){return b});var r=n("ROZo"),a=Object(r.b)("TS.client.windows.openFileWindow"),i=Object(r.b)("TS.client.windows.windowWithTokenBecameKey"),o=Object(r.b)("TS.client.windows.windowWithTokenResignedKey"),s=Object(r.b)("TS.client.windows.windowWithTokenWillClose"),c=Object(r.b)("TS.client.windows.windowWithTokenBeganLoading"),l=Object(r.b)("TS.client.windows.windowWithTokenEstimatedProgressChanged"),u=Object(r.b)("TS.client.windows.windowWithTokenFinishedLoading"),d=Object(r.b)("TS.client.windows.windowWithTokenDidChangeGeometry"),b=Object(r.b)("TS.client.windows.windowWithTokenCrashed")},QLy6:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("lE2N"),b=n("Fsnq"),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("D4L/"),y=n("X7d8"),j=n("kOzZ"),k=n("5mKg"),E=n("HO/Y"),C=n("Smdl"),I=n("UF3u"),w=n("nNoG"),S=n("4qCO"),T=n("aolG"),R=n("DTT0"),N=n("cD5Y"),x=n("WD4z"),M=n("0f2Y"),P=n("wfE8"),A=n("QOdn"),D=n("ERGU"),L=n("QbLZ"),q=n.n(L),F=n("zmn3"),B=n("S1sa"),U=n("clTI"),H=n("5+aj"),K=n("08ch"),G=n("RCIA"),V=n("6kok"),z=n("XLFM"),Y=n("od5y"),W=n("MREy"),Q=n("derf"),X=n("RAhH"),Z=n("XlRd"),J=n("aF86"),$=n("U3Q0"),ee=n("Rszm"),te=n("O0RF"),ne=n("RAAT"),re=(n("Lstb"),new w.b("connected_workspaces")),ae=(h.b.object.isRequired,h.b.object.isRequired,h.b.array.isRequired,h.b.object,h.b.bool,h.b.func.isRequired,h.b.func,h.b.func,h.b.object.isRequired,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.func,h.b.bool,h.b.bool,h.b.func,h.b.func,{openModal:p.a,submitDisconnectSharedTeam:p.a,featureChannelIsRemoveCreateSharedChannel:!1,featureEscDisconnectV2Client:!1,featureEscDisconnectV2ReleaseDependentCopy:!1,featureSharedChannelsBlockLargeOrgs:!1,featureSonicChannelBrowser:!1,featureSonicEscCreation:!1,isEnterprise:!1,openChannelBrowser:p.a,openConnectedWorkspacesModal:p.a,openSharedChannelCreationOrRequestModal:p.a,workspaceChannelCounts:null,hasSharedChannels:!1}),ie="SHARED_CHANNELS_MANAGE_MODAL_ACTION",oe=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isCheckboxChecked:!1},n.renderActionMenu=n.renderActionMenu.bind(n),n.showDisconnectDialog=n.showDisconnectDialog.bind(n),n.handleCheckboxChange=n.handleCheckboxChange.bind(n),n.onChannelBrowserBack=n.onChannelBrowserBack.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e,t){this.dialog&&t.isCheckboxChecked!==this.state.isCheckboxChecked&&this.dialog.render({goButtonIsDisabled:!this.state.isCheckboxChecked,goOnEnterPressed:this.state.isCheckboxChecked})}},{key:"onChannelBrowserBack",value:function(){this.props.openConnectedWorkspacesModal({showOpenTransition:!1})}},{key:"calculateChannelNumbers",value:function(){var e=this.props,t=e.workspaceChannels,n=e.workspaceChannelCounts;if(e.featureEscDisconnectV2Client&&n){var r=n.public,a=void 0===r?0:r,i=n.private,o=void 0===i?0:i,s=n.im,c=void 0===s?0:s,l=n.mpim;return{numPublicChannels:a,numPrivateChannels:o,numTotalChannels:a+o,numImsAndMpims:c+(void 0===l?0:l)}}var u=Object(B.a)(t,function(e){return Object(V.xb)(e)||Object(V.Jb)(e)});if(!u)return{numTotalChannels:0,numPrivateChannels:0};var d=u[1].length,b=u[0].length;return{numPublicChannels:d,numPrivateChannels:b,numTotalChannels:d+b}}},{key:"createChannelString",value:function(e){var t=e.numTotalChannels,n=e.numPrivateChannels;return this.props.featureEscDisconnectV2ReleaseDependentCopy&&t<1?re.t("No channels"):""+re.t("{count, plural, =1 {# channel} other {# channels}}",{count:t})+(n?re.t(" ({count} private)",{count:n}):"")}},{key:"handleCheckboxChange",value:function(){this.setState(function(e){return{isCheckboxChecked:!e.isCheckboxChecked}})}},{key:"resetCheckbox",value:function(){this.setState(function(){return{isCheckboxChecked:!1}})}},{key:"showDisconnectDialog",value:function(){this.dialog=this.props.openModal({element:this.renderDisconnectDialog(),isStackable:!0})}},{key:"renderDisconnectDialog",value:function(){var e=this,t=this.props,n=t.onClose,r=t.clogger,a=t.isEnterprise,i=t.featureEscDisconnectV2ReleaseDependentCopy,o=this.props.workspace,s=o.name,c=o.id,l=re.rt("Stop sharing with {workspaceName}?",{workspaceName:s}),u=re.rt("<strong>This can\u2019t be undone.</strong> You won\u2019t be able to reshare any of these channels."),d=this.calculateChannelNumbers(),b=re.t("{count, plural, =1 {# public channel} other {# public channels}}",{count:d.numPublicChannels}),p=re.t("{count, plural, =1 {# private channel} other {# private channels}}",{count:d.numPrivateChannels}),h=re.rt("<strong>Yes, stop sharing with {targetWorkspaceName}</strong>",{targetWorkspaceName:s}),v=i?f.a.createElement("p",null,re.rt("Note: channels that were originally created by <strong>{targetWorkspaceName}</strong> will become read-only.",{targetWorkspaceName:s})):f.a.createElement("p",null,re.rt("Note: each organization will keep separate copies of these channels, and can continue using their copies.",{fallbackHashNs:"external_shared_channels",fallbackHash:"49107666751107c25ee3e6095a1216e35ca62b86"})),g=re.rt(" This will not cancel any pending shared channel invitations."),_=f.a.createElement(m.Fragment,null,f.a.createElement(x.a,{level:"error",className:"margin_bottom_100",type:"inline"},u),f.a.createElement("p",null,re.rt("This will disconnect all the channels you currently share with <strong>{targetWorkspaceName}</strong>. ",{targetWorkspaceName:s}),!a&&re.t("Members of the two organizations will no longer be able to direct message each other."),g),f.a.createElement("p",{className:"margin_bottom_25"},re.t("You\u2019re disconnecting...")),f.a.createElement("ul",null,d.numPublicChannels?f.a.createElement("li",null,b):"",d.numPrivateChannels?f.a.createElement("li",null,p):"",!a&&f.a.createElement("li",null,re.t("All direct and group messages"))),v);return f.a.createElement($.a,{title:l,goButtonText:re.t("Stop Sharing"),goButtonType:"danger",onCancel:function(){r.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CANCEL_BTN"})},onGo:function(){r.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CONFIRM_BTN"}),e.props.submitDisconnectSharedTeam({targetTeamId:c}).then(n)},onClose:function(){r.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CLOSE_MODAL"}),e.resetCheckbox()},truncateTitle:!1,goButtonIsDisabled:!this.state.isCheckboxChecked,goOnEnterPressed:this.state.isCheckboxChecked},_,f.a.createElement(te.a,{text:h,htmlFor:"confirmStopSharingAll",type:"inline",cursor:"pointer"},f.a.createElement(ee.a,{id:"confirmStopSharingAll",isRequired:!0,onChange:this.handleCheckboxChange})))}},{key:"renderActionMenu",value:function(e){var t=this,n=this.props,r=n.workspaceChannels,a=n.clogger,i=n.featureChannelIsRemoveCreateSharedChannel,o=n.featureEscDisconnectV2ReleaseDependentCopy,s=n.featureSharedChannelsBlockLargeOrgs,c=n.featureSonicChannelBrowser,l=n.featureSonicEscCreation,u=n.isEnterprise,d=n.hasSharedChannels,b=this.props.workspace.name,p=this.props.workspace,h=p.id,m=p.domain,v=re.t("Stop sharing {count, plural, =1 {this channel} other {these channels}}",{count:r.length});o&&(v=u?re.t("Stop sharing all channels..."):re.rt("Stop sharing with {ext_team}...",{ext_team:b}));var g=i?null:f.a.createElement(W.b,{label:re.t("Share a new channel"),onSelected:function(){a.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_SHARE_NEW_BTN"}),Object(C.a)()&&l?t.props.openSharedChannelCreationOrRequestModal({initialSlackURL:m,showOpenTransition:!1}):(Object(G.c)({team_url:m,element:"SHARED_CHANNELS_MANAGE_MODAL_SHARE_NEW_BTN"}),t.props.onClose())},"data-qa":"p-connected_workspaces_menu_item__new_esc",className:l?"":Object(Z.b)()},l?"":f.a.createElement(Z.a,null)),_=u&&!s?null:f.a.createElement(W.b,{label:v,danger:!0,onSelected:function(){a.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_BTN"}),t.showDisconnectDialog()},"data-qa":"p-connected_workspaces_menu_item__disconnect"}),O=d?f.a.createElement(W.b,{label:re.t("View shared channels"),onSelected:function(){a.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_VIEW_CHANNELS_BTN"}),c&&Object(C.a)()?t.props.openChannelBrowser({showOpenTransition:!1,initialFilter:""+h,onBack:t.onChannelBrowserBack,isFromConnectedWorkspaces:!0}):(Object(D.c)({show_which_channels:"ext_shared_team_"+h,onBack:D.b}),t.props.onClose())},className:c?"":Object(Z.b)(),"data-qa":"p-connected_workspaces_menu_item__view_esc"},c?"":f.a.createElement(Z.a,null)):null;return f.a.createElement(W.f,q()({},e,{width:"auto"}),O,g,_)}},{key:"renderConversationCounts",value:function(){var e=this,t=this.props.workspace,n=t.id,r=t.name,a=this.props,i=a.clogger,o=a.featureEscDisconnectV2ReleaseDependentCopy,s=a.featureSonicChannelBrowser,c=a.isEnterprise,l=this.calculateChannelNumbers(),u=this.createChannelString(l),d=o&&!c&&Object.prototype.hasOwnProperty.call(l,"numImsAndMpims")?f.a.createElement("span",{className:"p-connected_workspaces_row__ims_and_mpims"},re.t("{count, plural, =0 {No direct message conversations} =1 {# direct message conversation} other {# direct message conversations}}",{count:l.numImsAndMpims})):null,b=_()("p-connected_workspaces_row__item",{"p-connected_workspaces_row__conversation_counts":o});return f.a.createElement("div",{className:b},f.a.createElement(X.c,{tip:s?re.t("View channels"):f.a.createElement(J.a,null,re.t("View channels")),position:"top"},f.a.createElement(z.c,{className:"p-connected_workspaces_row__channels overflow_ellipsis","aria-label":re.t("View {channelCountString} in {name}",{channelCountString:u,name:r}),onClick:function(){i.trackClickWithContext({event:ie,element:"SHARED_CHANNELS_MANAGE_MODAL_CHANNEL_COUNT_BTN"}),s&&Object(C.a)()?e.props.openChannelBrowser({showOpenTransition:!1,initialFilter:""+n,onBack:e.onChannelBrowserBack}):(Object(D.c)({show_which_channels:"ext_shared_team_"+n,onBack:D.b}),e.props.onClose())},disabled:Object(C.a)()&&!s},u)),d)}},{key:"render",value:function(){var e=this.props.workspace,t=e.name,n=e.domain,r=e.icon;return f.a.createElement("div",{className:"p-connected_workspaces_row"},f.a.createElement("div",{className:"p-connected_workspaces_row__item"},f.a.createElement(Q.b,{teamName:t,size:35,icon:r,className:"p-connected_workspaces_row__workspace_icon margin_right_75"}),f.a.createElement("div",{className:"p-connected_workspaces_row__workspace_info"},f.a.createElement("div",{className:"p-connected_workspaces_row__workspace_name overflow_ellipsis"},t),f.a.createElement("div",{className:"p-connected_workspaces_row__workspace_domain overflow_ellipsis"},n+".slack.com"))),this.renderConversationCounts(),f.a.createElement("div",{className:"p-connected_workspaces_row__item"},f.a.createElement("div",{className:"p-connected_workspaces_row__actions"},f.a.createElement(W.e,{renderMenu:this.renderActionMenu,position:"bottom-right",offsetX:20},f.a.createElement(z.c,{"aria-label":re.t("More options for {name}",{name:t}),"data-qa":"p-connected_workspaces_item__more_options_btn"},f.a.createElement(Y.a,{type:"ellipsis"}))))))}}]),t}(m.Component);oe.displayName="ConnectedWorkspacesRow",oe.defaultProps=ae;var se=Object(v.b)(function(e,t){var n=Object(ne.b)(e,t.workspace.id);return{workspaceChannels:Object(F.a)(n,function(t){return Object(U.d)(e,t)}),workspaceChannelCounts:Object(ne.a)(e,t.workspace.id),hasSharedChannels:Object(k.p)(e,t.workspace),currentTeam:Object(O.d)(e),clogger:Object(j.a)({state:e}),featureChannelIsRemoveCreateSharedChannel:Object(E.j)(e,"feature_channel_is_remove_create_shared_channel"),featureEscDisconnectV2Client:Object(E.j)(e,"feature_esc_disconnect_v2_client"),featureEscDisconnectV2ReleaseDependentCopy:Object(E.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),isEnterprise:Object(E.m)(e),featureSonicChannelBrowser:Object(E.j)(e,"feature_sonic_channel_browser"),featureSonicEscCreation:Object(E.j)(e,"feature_sonic_esc_creation"),featureSharedChannelsBlockLargeOrgs:Object(E.j)(e,"feature_shared_channels_block_large_orgs")}},function(e){return{openModal:function(){return e(R.e.apply(void 0,arguments))},submitDisconnectSharedTeam:function(){return e(P.I.apply(void 0,arguments))},openChannelBrowser:function(){return e(A.a.apply(void 0,arguments))},openConnectedWorkspacesModal:function(){return e(H.a.apply(void 0,arguments))},openSharedChannelCreationOrRequestModal:function(){return e(K.a.apply(void 0,arguments))}}})(oe),ce=new w.b("connected_workspaces"),le=(h.b.object.isRequired,h.b.bool,h.b.func,h.b.func,h.b.func,h.b.string,h.b.func,h.b.object.isRequired,h.b.bool,h.b.bool,h.b.array,h.b.func.isRequired,h.b.func.isRequired,{onBack:null,onClose:p.a,showOpenTransition:void 0,closeModal:p.a,referringUiElement:null,fetchAndUpsertExternalTeams:p.a,featureSonicChannelBrowser:!1,featureEscDisconnectV2ReleaseDependentCopy:!1,workspaces:[]}),ue=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderConnectedWorkspacesRow=n.renderConnectedWorkspacesRow.bind(n),n.onViewInvitesClick=n.onViewInvitesClick.bind(n),n.state={isLoading:!0,pendingSharedInvites:0},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.referringUiElement,r=t.clogger,a={event:"SHARED_CHANNELS_MANAGE_MODAL_OPEN"};n&&(a.element=n),r.trackClickWithContext(a),this.props.fetchAndUpsertExternalTeams({reason:"populate_manage_shared_channels"}).then(function(){e.setState(function(){return{isLoading:!1}})}),this.props.listSharedInvites({reason:"channel-browser"}).then(function(t){e.setState(function(){return{pendingSharedInvites:t.inbound.length}})}).catch(function(){e.setState(function(){return{pendingSharedInvites:0}})})}},{key:"onViewInvitesClick",value:function(){this.props.featureSonicChannelBrowser?this.props.openChannelBrowser({showOpenTransition:!1,initialFilter:"pending_invites"}):(Object(D.a)(),Object(D.c)(),this.props.onClose())}},{key:"getRenderedWorkspaceCount",value:function(){var e=this.props.workspaces;return Object(b.a)(e)}},{key:"renderPendingSharedChannelInvitesAlert",value:function(){if(this.state.pendingSharedInvites>0){var e=ce.rt("There {count, plural, =1 {is} other {are}} <strong> {count} pending shared channel {count, plural, =1 {invite} other {invites}}</strong> that {count, plural, =1 {requires} other {require}} attention. ",{count:this.state.pendingSharedInvites}),t=ce.rt("View {count, plural, =1 {invite} other {invites}}",{count:this.state.pendingSharedInvites});return f.a.createElement("div",null,f.a.createElement(x.a,{className:"margin_top_100",level:"info",type:"boxed",align:"left"},e,f.a.createElement(M.a,{onClick:this.onViewInvitesClick},t)))}return null}},{key:"renderConnectedWorkspacesRow",value:function(e){var t=Object(C.a)()?this.props.closeModal:this.props.onClose;return f.a.createElement(se,{workspace:e,key:e.id,onClose:t})}},{key:"renderWorkspaces",value:function(){var e=this.state.isLoading,t=this.props.workspaces,n=this.getRenderedWorkspaceCount();if(e||n<1)return null;var r=t.sort(function(e,t){return Object(S.a)(e.name,t.name)}).map(this.renderConnectedWorkspacesRow);return f.a.createElement("div",null,f.a.createElement("div",{className:"p-connected_workspaces_row p-connected_workspaces_row--header"},f.a.createElement("div",{className:"p-connected_workspaces_row__item"},ce.t("Organization")),f.a.createElement("div",{className:"p-connected_workspaces_row__item"},ce.t("Shared channels")),f.a.createElement("div",{className:"p-connected_workspaces_row__item"})),r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentTeam,r=t.onBack,a=t.showOpenTransition,i=t.featureEscDisconnectV2ReleaseDependentCopy,o=this.getRenderedWorkspaceCount(),s=ce.rt("{currentTeamName} is currently sharing channels with {count, plural, =1 {# other organization.} other {# other organizations.}}",{currentTeamName:Object(k.e)(n),count:o}),c=_()("p-connected_workspaces__list",{"p-connected_workspaces__list--loading":this.state.isLoading}),l=Object(C.a)()?this.props.closeModal:this.props.onClose;return f.a.createElement(T.a,{showBackButton:!!r,showOpenTransition:a,showCancelButton:!1,showGoButton:!1,onBack:function(){e.props.onBack(),l()},onCancel:l,modalClasses:"p-connected_workspaces_modal",title:ce.t("Manage shared channels")},f.a.createElement("div",{className:"p-connected_workspaces"},f.a.createElement("div",{className:"p-connected_workspaces__header"},f.a.createElement("div",{className:"p-connected_workspaces__header_description"},i&&o<1?ce.rt("Currently, <strong>{currentTeamName}</strong> isn\u2019t sharing any channels.",{currentTeamName:Object(k.e)(n)}):s)),this.renderPendingSharedChannelInvitesAlert(),f.a.createElement("div",{className:c},f.a.createElement(N.a,{className:"p-connected_workspaces__spinner",size:"jumbo"}),this.renderWorkspaces())))}}]),t}(m.Component);ue.displayName="ConnectedWorkspaces",ue.defaultProps=le;t.a=Object(v.b)(function(e){var t=Object(E.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),n=Object(d.a)(Object(O.b)(e).concat(Object(O.a)(e)),"id").filter(function(n){return r=n,a=Object(E.m)(e),!(!t&&!Object(k.p)(e,r)||t&&a&&!Object(k.p)(e,r));var r,a});return{currentTeam:Object(O.d)(e),clogger:Object(j.a)({state:e}),featureEscDisconnectV2Client:Object(E.j)(e,"feature_esc_disconnect_v2_client"),featureSonicChannelBrowser:Object(E.j)(e,"feature_sonic_channel_browser"),featureEscDisconnectV2ReleaseDependentCopy:t,workspaces:n}},function(e){return{fetchAndUpsertExternalTeams:function(){return e(y.a.apply(void 0,arguments))},closeModal:function(){return e(R.a.apply(void 0,arguments))},listSharedInvites:function(){return e(P.p.apply(void 0,arguments))},openChannelBrowser:function(){return e(A.a.apply(void 0,arguments))}}},null,{areStatePropsEqual:function(e,t){return Object(I.a)(e,t,2)}})(ue)},"QO+4":function(e,t,n){},QOdn:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DTT0"),c=n("HO/Y"),l=n("aW/o"),u=n("hAjP"),d=n("YCXn"),b=n("Smdl"),p=n("yHhI"),h=n("iCc5"),m=n.n(h),f=n("V7oC"),v=n.n(f),g=n("FYw3"),_=n.n(g),O=n("mRg0"),y=n.n(O),j=n("7EGn"),k=n("Z0Cl"),E=n("ifKl"),C=n("XHGt"),I=n("UYUI"),w=n("5+aj"),S=n("Qrgz"),T=n("Fdc0"),R=n("5mKg"),N=n("nNoG"),x=n("k2C/"),M=n("kOzZ"),P=n("cTgs"),A=n("fNU1"),D=n("wfE8"),L=n("aWll"),q=n("D4L/"),F=n("Ia0u"),B=n("FN36"),U=n("Mq3E"),H=n("od5y"),K=n("hI7H"),G=n("+6YQ"),V=n("WD4z"),z=n("0f2Y"),Y=n("DCka"),W=n("ZHrX"),Q=new N.b("channel_browser"),X=(i.b.string.isRequired,i.b.func.isRequired,function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return y()(t,e),v()(t,[{key:"onChange",value:function(e){this.props.onChange(e.target.value||"")}},{key:"render",value:function(){return a.a.createElement(W.a,{value:this.props.value,onChange:this.onChange,icon:"search",placeholder:Q.t("Search channels"),autoFocus:!0,className:"small_bottom_margin",size:"large"})}}]),t}(r.PureComponent));X.displayName="ChannelBrowserInput";var Z=X,J=n("m1cH"),$=n.n(J),ee=n("X7d8"),te=n("bixr"),ne=n("hUMe"),re=n("UF3u"),ae=new N.b("channel_browser"),ie=(i.b.string.isRequired,i.b.func,i.b.arrayOf(i.b.string),i.b.bool,i.b.func.isRequired,i.b.bool,{onChange:E.a,externalTeamIds:[],featureSonicChannelBrowser:!1,sharedChannelsEnabled:!1}),oe=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onOptionSelected=n.onOptionSelected.bind(n),n.renderOption=n.renderOption.bind(n),n.renderSelectedOption=n.renderSelectedOption.bind(n),n}return y()(t,e),v()(t,[{key:"componentDidMount",value:function(){this.fetchExternalTeamsPromise=this.props.fetchAndUpsertExternalTeams({reason:"channel-browser-filter"})}},{key:"componentWillUnmount",value:function(){this.fetchExternalTeamsPromise&&this.fetchExternalTeamsPromise.cancel()}},{key:"onOptionSelected",value:function(e){this.props.onChange(e.value)}},{key:"getFilterOptions",value:function(){var e=this.props.sharedChannelsEnabled;if(!this.props.featureSonicChannelBrowser)return[];var t=[{value:"all",label:ae.t("All channels")},{value:"private",label:ae.t("Private channels")},{value:"archived",label:ae.t("Archived channels")}];return e&&(t=t.concat([{value:"shared",label:ae.t("All shared channels")}].concat($()(this.props.externalTeamIds.map(function(e){return{value:e,label:e}}))))),t}},{key:"findOption",value:function(e){return this.getFilterOptions().find(function(t){return t.value===e})}},{key:"renderOption",value:function(e){return this.props.featureSonicChannelBrowser?Object(x.a)(e.value)||Object(x.b)(e.value)?ae.rt("Shared with {teamName}",{teamName:a.a.createElement(ne.a,{id:e.value})}):e.label:null}},{key:"renderSelectedOption",value:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,ae.t("Show:"))," ",this.renderOption(e))}},{key:"render",value:function(){var e=this.getFilterOptions(),t=this.findOption(this.props.filter);return a.a.createElement(te.a,{options:e,key:e.map(function(e){return e.value}).join("-"),selectedOption:t,onOptionSelected:this.onOptionSelected,renderOption:this.renderOption,renderSelectedOption:this.renderSelectedOption,minOptionsListWidth:300,className:"inline_block"})}}]),t}(r.Component);oe.displayName="ChannelBrowserFilterDropdown",oe.defaultProps=ie;var se={fetchAndUpsertExternalTeams:function(){return ee.a.apply(void 0,arguments)}},ce=Object(C.b)(function(e){var t=Object(k.a)(Object(q.b)(e),function(t){return Object(R.p)(e,t)}),n=Object(q.d)(e);return{externalTeamIds:t.map(function(e){return e.id}),featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser"),sharedChannelsEnabled:Object(R.C)(e,n)}},se,null,{areStatePropsEqual:function(e,t){return Object(re.a)(e,t,2)}})(oe),le=new N.b("channel_browser"),ue=(i.b.string.isRequired,i.b.func.isRequired,i.b.bool.isRequired,function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onOptionSelected=n.onOptionSelected.bind(n),n.renderSelectedOption=n.renderSelectedOption.bind(n),n}return y()(t,e),v()(t,[{key:"onOptionSelected",value:function(e){this.props.onChange(e.value)}},{key:"getSortOptions",value:function(){var e=[{value:"name",label:le.t("Channel name",{fallbackHash:"d5eb68fc10bc6fa57a8fa118cff91133adabd4bb"})},{value:"created",label:le.t("Creation date (newest first)",{fallbackHash:"67096ef1e182866cd27f176578c135e09b1344e1"})}];return this.props.showMemberCount?e.concat([{value:"members_desc",label:le.t("Members (most to fewest)")},{value:"members_asc",label:le.t("Members (fewest to most)")}]):e}},{key:"findOption",value:function(e){return this.getSortOptions().find(function(t){return t.value===e})}},{key:"renderSelectedOption",value:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,le.t("Sort:"))," ",e.label)}},{key:"render",value:function(){var e=this.getSortOptions(),t=this.findOption(this.props.sort);return a.a.createElement(te.a,{options:e,selectedOption:t,onOptionSelected:this.onOptionSelected,renderSelectedOption:this.renderSelectedOption,minOptionsListWidth:300,className:"inline_block",key:e})}}]),t}(r.PureComponent));ue.displayName="ChannelBrowserSortDropdown";var de=ue,be=n("YEIV"),pe=n.n(be),he=n("QbLZ"),me=n.n(he),fe=n("c8Bs"),ve=n("X6iR"),ge=n("hbEN"),_e=n("Rjjz"),Oe=n("Zr7G"),ye=n("eK0w"),je=n("VBRD"),ke=n("c48M"),Ee=n("clTI"),Ce=n("6kok"),Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pendingSharedInvites,r=t.filter,a=t.query;if(!n)return[];if("private"===r||"archived"===r)return[];if(a)return[];var i=[].concat($()((n.inbound||[]).map(function(e){return{key:"pending-inbound-"+e.id,pendingType:"inbound",invite:e}})),$()((n.outbound||[]).map(function(e){return{key:"pending-outbound-"+e.id,pendingType:"outbound",invite:e}})));return Object(x.a)(r)||Object(x.b)(r)?i.filter(function(t){switch(t.pendingType){case"inbound":return t.invite.inviting_team.id===r;case"outbound":var n=Object(Ee.d)(e,t.invite.channel);return Object(Ce.M)(e,n).indexOf(r)>=0;default:return!1}}):i},we=n("yIs4"),Se=n("qAkX"),Te=n("TSYQ"),Re=n.n(Te),Ne=n("QLyv"),xe=n("82mD"),Me=n("DtX9"),Pe=n("N4dO"),Ae=n("bo4X"),De=n("pmOY"),Le=n("FdTv"),qe=n("JVYW"),Fe=n("+J1t"),Be=n("8W09"),Ue=n("CGJF"),He=new N.b("channel_browser"),Ke=(i.b.string,i.b.string,i.b.bool,i.b.func,i.b.func,{inviterName:"",targetTeamName:"",canManageSharedChannels:!1,onConfirm:E.a,closeModal:E.a}),Ge=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n.onConfirm=n.onConfirm.bind(n),n}return y()(t,e),v()(t,[{key:"onClose",value:function(e){e&&e.stopPropagation(),this.props.closeModal()}},{key:"onConfirm",value:function(e){e.stopPropagation(),this.props.canManageSharedChannels&&(this.props.onConfirm(),this.props.closeModal())}},{key:"render",value:function(){var e=this.props,t=e.inviterName,n=e.targetTeamName;return a.a.createElement(Ae.a,{centered:!0,closeModal:this.onClose,role:"alertdialog",shouldCloseOnOverlayClick:!0,labelledby:"cancel_pending_invite_warning_title_bar"},a.a.createElement(De.a,null,a.a.createElement(Le.a,{title:He.t("Cancel invitation?",{fallbackHash:"8937dc6aca513ec60403fc4db9177afe0ff839dc",fallbackHashNs:"shared"}),id:"cancel_pending_invite_warning_title_bar"})),a.a.createElement(qe.a,null,a.a.createElement(Fe.a,{"data-qa":"cancel_pending_invite_warning_body"},He.rt("This invitation was originally sent by {inviterName} to {targetTeamName}. Are you sure you want to cancel?",{inviterName:a.a.createElement("strong",null,t),targetTeamName:a.a.createElement("strong",null,n),fallbackHash:"5e4901d4b761a246f0f8d9ba79d2ce96b28a228f",fallbackHashNs:"shared_channels"}))),a.a.createElement(Be.a,null,a.a.createElement(Ue.a,null,a.a.createElement(G.a,{type:"outline",onClick:this.onClose,"data-qa":"cancel_pending_invite_nevermind_button"},He.t("Never mind",{fallbackHash:"74bbe595f199204908a7a8b8f00596def4277e5e",fallbackHashNs:"shared"})),a.a.createElement(G.a,{type:"danger",onClick:this.onConfirm,"data-qa":"cancel_pending_invite_confirm_button"},He.t("Cancel invitation",{fallbackHash:"0790b704c3d1ff9bff94c61cd82b877cbad7bfcb",fallbackHashNs:"shared"})))))}}]),t}(r.PureComponent);Ge.displayName="CancelPendingInviteWarningModal",Ge.defaultProps=Ke;var Ve={closeModal:function(){return Object(s.a)()}},ze=Object(C.b)(null,Ve)(Ge),Ye=Object(o.b)("Opens the warning dialog for canceling pending outbound invite to share a channel sent by someone else ",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.invite,i=n.targetTeam,o=n.canManageSharedChannels,l=n.onConfirm;if(Object(c.j)(t(),"feature_sonic_channel_browser")&&o){var u=Object(T.Q)(t(),Object(j.a)(r,"inviting_user.id",null)),d=Object(R.e)(i);e(Object(s.e)({element:a.a.createElement(ze,{inviteId:r.id,inviterName:u,targetTeamName:d,canManageSharedChannels:o,onConfirm:l}),isStackable:!0,name:"cancel-pending-invite-warning"}))}});Ye.propTypes={inviteId:i.b.string,inviterName:i.b.string,targetTeamName:i.b.string,canManageSharedChannels:i.b.bool,onConfirm:i.b.func};var We=Ye,Qe=n("NB3s"),Xe=n("XLFM"),Ze=n("2SqV"),Je=n("kDop"),$e=(n("wjFd"),new N.b("channel_browser")),et=(i.b.shape({id:i.b.string}),i.b.bool,i.b.func,i.b.func,i.b.func,i.b.func,i.b.object,i.b.bool,i.b.bool,{channel:null,canManageSharedChannels:!1,onConfirm:E.a,onNotConfirm:E.a,closeModal:E.a,getExternalTeamIdsConnectedOnlyByChannel:E.a,clogger:null,featureEscDisconnectV2ReleaseDependentCopy:!1,channelIsHostedByAnotherTeam:!1}),tt=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onConfirm=n.onConfirm.bind(n),n.onClose=n.onClose.bind(n),n.state={isLastChannel:!1},n.fetchPromise=null,n}return y()(t,e),v()(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.featureEscDisconnectV2ReleaseDependentCopy&&!this.fetchPromise){var t=this.props.channel&&this.props.channel.id;this.fetchPromise=this.props.getExternalTeamIdsConnectedOnlyByChannel({channelId:t,reason:"channel-browser-disconnect"}).then(function(t){var n=!!t.length;n&&e.setState(function(){return{isLastChannel:!0}}),e.props.clogger.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:n,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_CHANNEL_BROWSER_STOP_SHARING_BTN",ui_component:"CHANNEL_BROWSER"}}})}).finally(function(){e.fetchPromise=null})}}},{key:"componentWillUnmount",value:function(){this.fetchPromise&&this.fetchPromise.cancel()}},{key:"onConfirm",value:function(e){e.stopPropagation(),this.props.canManageSharedChannels&&(this.props.onConfirm({isLastChannel:this.state.isLastChannel}),this.props.closeModal())}},{key:"onClose",value:function(e){e.stopPropagation(),this.props.onNotConfirm({isLastChannel:this.state.isLastChannel}),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.featureEscDisconnectV2ReleaseDependentCopy,n=e.channelIsHostedByAnotherTeam,r=e.channel,i=t&&n?$e.rt("Disconnect from {channelName}",{channelName:a.a.createElement(Je.a,{channel:r,boldIcon:!0}),fallbackHash:"554f3fe5f235b14bff33a231bc6355f16500ba48",fallbackHashNs:"shared"}):$e.rt("Stop sharing {channelName}",{channelName:a.a.createElement(Je.a,{channel:r,boldIcon:!0}),fallbackHash:"2a86eadfd6432f8eb3edc216b42521eeda9fcc82",fallbackHashNs:"shared"});return a.a.createElement(Qe.a,{centered:!0,closeModal:this.props.closeModal,role:"alertdialog",shouldCloseOnOverlayClick:!0,labelledby:"stop_sharing_channel_warning_title_bar"},a.a.createElement(De.a,null,a.a.createElement(Le.a,{title:i,id:"stop_sharing_channel_warning_title_bar",className:"p-stop_sharing_modal__title","data-qa":"stop-sharing-modal-title"})),a.a.createElement(qe.a,null,a.a.createElement(Fe.a,null,a.a.createElement(Ze.a,{channel:r,showLastChannelWarning:this.state.isLastChannel}))),a.a.createElement(Be.a,null,a.a.createElement(Ue.a,null,a.a.createElement(Xe.d,{type:"outline",onClick:this.onClose},$e.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),a.a.createElement(Xe.d,{type:"danger",onClick:this.onConfirm,"data-qa":"stop-sharing-modal-button"},t&&n?$e.t("Disconnect",{fallbackHash:"ed28e0686e1251ba046f582a3e9ec02470a5e78d",fallbackHashNs:"shared"}):$e.t("Stop sharing",{fallbackHash:"29fddb665e8bd2c5812fa3a4c3770c8ecc2ce175",fallbackHashNs:"shared"})))))}}]),t}(r.PureComponent);tt.displayName="StopSharingChannelModal",tt.defaultProps=et;var nt={closeModal:function(){return Object(s.a)()},getExternalTeamIdsConnectedOnlyByChannel:function(){return D.o.apply(void 0,arguments)}},rt=Object(C.b)(function(e,t){var n=t.channel;return{featureEscDisconnectV2ReleaseDependentCopy:Object(c.j)(e,"feature_esc_disconnect_v2_release_dependent_copy"),channelIsHostedByAnotherTeam:Object(Ce.db)(e,n),clogger:Object(M.a)(e)}},nt)(tt),at=Object(o.b)("Opens the Stop Sharing Channel Modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,i=n.onConfirm,o=n.onNotConfirm;Object(c.j)(t(),"feature_sonic_channel_browser")&&e(Object(s.e)({element:a.a.createElement(rt,{channel:r,canManageSharedChannels:Object(T.e)(t()),onConfirm:i,onNotConfirm:o}),isStackable:!0,name:"stop-sharing-channel-modal"}))});at.propTypes={channel:i.b.object};var it=at,ot=n("/foC"),st=n("llxT"),ct=n("zmn3"),lt=n("zZZw"),ut=n("derf"),dt=new N.b("channel_browser"),bt=(i.b.arrayOf(i.b.shape({id:i.b.string})),i.b.bool,i.b.func,{pendingTeams:[],canManageSharedChannels:!1,onPendingOutboundInviteCancel:E.a});function pt(e){var t=e.pendingTeams,n=e.canManageSharedChannels,r=e.onPendingOutboundInviteCancel,i=Object(ct.a)(t,function(e){return Object(R.e)(e)});return a.a.createElement("div",{className:"p-channel_browser_list_item__pending_info",key:"pending","data-qa":"channel_browser_list_item_outbound_pending_info"},t.map(function(e){return a.a.createElement(ut.b,{key:e.id,id:e.id,isPendingShared:!0})}),a.a.createElement("span",null,dt.rt("Waiting for {teamNames} to join",{teamNames:a.a.createElement("strong",null,Object(lt.a)(i,{react:!0})),fallbackHash:"02f1870eead574c5f1b88ae0dac271ab5363ac35",fallbackHashNs:"shared"})),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{"aria-hidden":!0,className:"p-channel_browser_list_item__divider"},"|"),a.a.createElement(z.a,{onClick:r,"data-qa":"channel_browser_list_item_cancel"},dt.rt("Cancel invitation",{fallbackHash:"0790b704c3d1ff9bff94c61cd82b877cbad7bfcb",fallbackHashNs:"shared"}))))}pt.displayName="ListItemOutboundPendingInfo",pt.defaultProps=bt;var ht=pt,mt=new N.b("channel_browser"),ft=(i.b.arrayOf(i.b.shape({id:i.b.string})),i.b.bool,i.b.func,i.b.bool,{connectedTeams:[],canManageSharedChannels:!1,onStopSharingChannel:E.a,isDisconnected:!1});function vt(e){var t=e.connectedTeams,n=e.canManageSharedChannels,r=e.onStopSharingChannel,i=e.isDisconnected,o=Object(ct.a)(t,function(e){return Object(R.e)(e)});return a.a.createElement("div",{className:"p-channel_browser_list_item__connected_info",key:"connected","data-qa":"channel_browser_list_item_connected_info"},t.map(function(e){return a.a.createElement(ut.b,{key:e.id,id:e.id})}),a.a.createElement("span",null,mt.rt("Shared with {teamNames}",{teamNames:a.a.createElement("strong",null,Object(lt.a)(o,{react:!0})),fallbackHash:"6796beaea29093c05236b175d824f1f492d854f8",fallbackHashNs:"shared"})),n&&!i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{"aria-hidden":!0,className:"p-channel_browser_list_item__divider"},"|"),a.a.createElement(z.a,{"data-qa":"channel_browser_list_item_disconnect",onClick:r},mt.rt("Stop sharing this channel",{fallbackHash:"7fc1a2b179a498af5092cf404a47e2a652edd98e",fallbackHashNs:"shared"}))))}vt.displayName="ListItemConnectedInfo",vt.defaultProps=ft;var gt=vt,_t=n("bPB8"),Ot=new N.b("channel_browser");i.b.arrayOf(i.b.shape({id:i.b.string}));function yt(e){var t=e.pendingInviteCanceledTeams,n=Object(_t.a)(Object(ct.a)(t,function(e){return Object(R.e)(e)})),r=n.length,i=r?Ot.rt("The invitation to {targetTeamNames} {targetTeamCount, plural, =1 {has been canceled.} other {have been canceled.}}",{targetTeamNames:a.a.createElement("strong",null,Object(lt.a)(n,{react:!0})),targetTeamCount:r,fallbackHash:"7ba640280651a83038eb6398c25343e2cb6a3587",fallbackHashNs:"shared"}):Ot.rt("The invitation has been canceled.",{fallbackHash:"b7f1533dd6fb72f126074a5f827306c5af290dee",fallbackHashNs:"shared"});return a.a.createElement("div",{className:"p-channel_browser_list_item__pending_info",key:"canceled"},a.a.createElement(H.b,{type:"disable",inline:!0,className:"p-channel_browser_list_item__canceled_icon"}),a.a.createElement("span",null,i))}yt.displayName="ListItemPendingCanceledInfo",yt.defaultProps={pendingInviteCanceledTeams:[]};var jt=yt,kt=n("Ewba"),Et=n("WTjW"),Ct=n("c8iJ"),It=new N.b("channel_browser"),wt=(i.b.func,i.b.func,i.b.bool,i.b.bool,{handleViewSharedChannelInvite:E.a,handleSharedChannelDecline:E.a,featureSonicChannelBrowser:!1,canInteractWithInviteButtons:!1}),St=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickViewInvite=n.onClickViewInvite.bind(n),n.onClickDecline=n.onClickDecline.bind(n),n}return y()(t,e),v()(t,[{key:"onClickViewInvite",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.handleViewSharedChannelInvite()}},{key:"onClickDecline",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.handleSharedChannelDecline()}},{key:"render",value:function(){var e=this.props,t=e.featureSonicChannelBrowser,n=e.canInteractWithInviteButtons;return t&&n?a.a.createElement("div",{"data-qa":"channel_browser_esc_incoming_invite_buttons"},a.a.createElement(Xe.d,{className:"margin_right_50","data-qa":"channel_browser_esc_decline_invite_button",type:"outline",size:"small",onClick:this.onClickDecline},It.rt("Decline")),a.a.createElement(Xe.d,{"data-qa":"channel_browser_esc_accept_invite_button",type:"primary",size:"small",onClick:this.onClickViewInvite},It.rt("View Invitation"))):null}}]),t}(r.Component);St.displayName="ChannelBrowserInviteButton",St.defaultProps=wt;var Tt=Object(C.b)(function(e){return{canInteractWithInviteButtons:Object(T.e)(e),featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser")}})(St),Rt=new N.b("channel_browser"),Nt=(i.b.object.isRequired,i.b.func,i.b.bool,i.b.func.isRequired,{onDeclineInvitation:E.a,featureSonicChannelBrowser:!1}),xt=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n.onDeclineInvitation=n.onDeclineInvitation.bind(n),n}return y()(t,e),v()(t,[{key:"onClose",value:function(e){e.stopPropagation(),this.props.closeModal()}},{key:"onDeclineInvitation",value:function(e){e.stopPropagation(),this.props.onDeclineInvitation(),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.invite;if(!e.featureSonicChannelBrowser)return null;var n=Object(R.e)(t.inviting_team);return a.a.createElement(Ae.a,{closeModal:this.onClose},a.a.createElement(De.a,null,a.a.createElement(Le.a,{title:Rt.t("Decline invitation?")})),a.a.createElement(qe.a,null,a.a.createElement(Fe.a,{"data-qa":"decline_inbound_invite_warning_body"},Rt.rt("This invitation was originally sent from {invitingTeamName} to {receivingUserName}. Are you sure you want to decline?",{invitingTeamName:a.a.createElement("strong",null,n),receivingUserName:a.a.createElement("strong",null,a.a.createElement(Et.a,{id:t.receiving_user_id}))}))),a.a.createElement(Be.a,null,a.a.createElement(Ue.a,null,a.a.createElement(G.a,{type:"outline",onClick:this.onClose,"data-qa":"decline_inbound_invite_nevermind_button"},Rt.t("Never Mind")),a.a.createElement(G.a,{type:"danger",onClick:this.onDeclineInvitation,"data-qa":"decline_inbound_invite_confirm_button"},Rt.t("Decline Invitation")))))}}]),t}(r.Component);xt.displayName="DeclineInboundInviteWarningModal",xt.defaultProps=Nt;var Mt={closeModal:function(){return s.a.apply(void 0,arguments)}},Pt=Object(C.b)(function(e){return{featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser")}},Mt)(xt),At=new N.b("channel_browser"),Dt=(i.b.shape({id:i.b.string.isRequired,channel:i.b.string.isRequired,inviting_team:i.b.object.isRequired,date_create:i.b.number.isRequired,receiving_user_id:i.b.string.isRequired}).isRequired,i.b.bool,i.b.func,i.b.string.isRequired,i.b.bool,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,{wasCanceled:!1,onCancelInboundPendingInvite:E.a,featureSonicChannelBrowser:!1}),Lt=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInvitationModalBack=n.onInvitationModalBack.bind(n),n.handleViewSharedChannelInvite=n.handleViewSharedChannelInvite.bind(n),n.handleSharedChannelDecline=n.handleSharedChannelDecline.bind(n),n}return y()(t,e),v()(t,[{key:"onInvitationModalBack",value:function(){this.props.openChannelBrowser({showOpenTransition:!1})}},{key:"handleViewSharedChannelInvite",value:function(){var e=this.props.invite;this.props.openSharedChannelInvitationModal({invite:e,showOpenTransition:!1,onBack:this.onInvitationModalBack})}},{key:"handleSharedChannelDecline",value:function(){var e=this.props,t=e.invite,n=e.currentUserId,r=e.onCancelInboundPendingInvite;t.receiving_user_id===n?r({invite:t}):this.props.openModal({element:a.a.createElement(Pt,{invite:t,onDeclineInvitation:function(){return r({invite:t})}}),isStackable:!0})}},{key:"renderInfoText",value:function(){var e=this.props,t=e.invite,n=e.currentUserId,i=e.wasCanceled;if(!e.featureSonicChannelBrowser)return null;var o=Object(R.e)(t.inviting_team),s=Object(xe.k)(t.date_create),c={invitingTeamName:a.a.createElement("strong",null,o),inviteDate:s,receivingUserName:a.a.createElement("strong",null,a.a.createElement(Et.a,{id:t.receiving_user_id}))};if(i){var l=At.rt("The invitation from {invitingTeamName} has been declined.",c);return a.a.createElement(r.Fragment,null,a.a.createElement(Ct.a,{type:"disable",inline:!0,className:"p-channel_browser_list_item__canceled_icon margin_top_25"}),l)}return t.receiving_user_id===n?At.rt("{invitingTeamName} sent this invitation to you on {inviteDate}.",c):At.rt("{invitingTeamName} sent this invitation to {receivingUserName} on {inviteDate}.",c)}},{key:"render",value:function(){var e=!this.props.wasCanceled&&a.a.createElement("div",{className:"p-channel_browser_list_item__inbound_buttons margin_top_50"},a.a.createElement(Tt,{handleViewSharedChannelInvite:this.handleViewSharedChannelInvite,handleSharedChannelDecline:this.handleSharedChannelDecline}));return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"p-channel_browser_list_item__inbound_info","data-qa":"channel_browser_item_inbound_info"},this.renderInfoText()),e)}}]),t}(r.Component);Lt.displayName="ListItemInboundPendingInfo",Lt.defaultProps=Dt;var qt={openSharedChannelInvitationModal:function(){return kt.a.apply(void 0,arguments)},openChannelBrowser:function(){return ln.apply(void 0,arguments)},openModal:function(){return s.e.apply(void 0,arguments)}},Ft=Object(C.b)(function(e){return{currentUserId:Object(c.b)(e),featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser")}},qt)(Lt),Bt=(n("l1Fk"),new N.b("channel_browser")),Ut=(i.b.string,i.b.func,i.b.object,i.b.oneOf(["inbound","outbound"]),i.b.arrayOf(i.b.shape({id:i.b.string})),i.b.func,i.b.func,i.b.func,i.b.func,i.b.bool,i.b.bool,i.b.object,i.b.string,i.b.arrayOf(i.b.object),i.b.bool,i.b.object,i.b.oneOfType([i.b.number,i.b.string]),i.b.bool,i.b.func,i.b.func,{channelId:"",onChannelSelect:E.a,invite:void 0,pendingType:void 0,pendingInviteCanceledTeams:[],onCancelOutboundPendingInvite:E.a,onCancelInboundPendingInvite:E.a,onDisconnectChannel:E.a,onNotConfirmDisconnectChannel:E.a,isDisconnected:!1,showMemberCount:!1,channel:null,channelCreatorName:"",pendingAndConnectedTeams:[],canManageSharedChannels:!1,currentMember:null,memberCount:null,featureSonicChannelBrowser:!1,openCancelPendingInviteWarningModal:E.a,openStopSharingChannelModal:E.a}),Ht=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChannelSelect=n.onChannelSelect.bind(n),n.onPendingOutboundInviteCancel=n.onPendingOutboundInviteCancel.bind(n),n.onStopSharingChannel=n.onStopSharingChannel.bind(n),n}return y()(t,e),v()(t,[{key:"onChannelSelect",value:function(e){e.preventDefault(),this.isPendinginInboundInvite()||this.props.isDisconnected||this.props.onChannelSelect({channelId:this.props.channelId,isMember:Object(Ce.kb)(this.props.channel)})}},{key:"onPendingOutboundInviteCancel",value:function(e){var t=this;e.stopPropagation();var n=this.props,r=n.invite,a=n.pendingAndConnectedTeams,i=n.canManageSharedChannels;if(i){var o=r&&r.inviting_user,s=Object(Se.a)(a);o.id===this.props.currentMember.id?this.props.onCancelOutboundPendingInvite({invite:r,targetTeam:s}):this.props.openCancelPendingInviteWarningModal({invite:r,targetTeam:s,canManageSharedChannels:i,onConfirm:function(){return t.props.onCancelOutboundPendingInvite({invite:r,targetTeam:s})}})}}},{key:"onStopSharingChannel",value:function(e){var t=this;e.stopPropagation();var n=this.props.channel;this.props.openStopSharingChannelModal({channel:n,onConfirm:function(e){var r=e.isLastChannel;return t.props.onDisconnectChannel({channelId:n.id,isLastChannel:r})},onNotConfirm:function(e){var n=e.isLastChannel;return t.props.onNotConfirmDisconnectChannel({isLastChannel:n})}})}},{key:"maybeRenderCreateInfo",value:function(){var e=this.props,t=e.channel,n=e.channelCreatorName;if(!e.featureSonicChannelBrowser)return null;var r=!t.created||isNaN(Object(Ne.a)(t.created).unix())?null:Object(xe.k)(t.created),i=void 0;return n?i=r?Bt.rt("Created by {channelCreatorName} on {calendarDate}",{channelCreatorName:a.a.createElement("strong",null,n),calendarDate:r}):Bt.rt("Created by {channelCreatorName}",{channelCreatorName:a.a.createElement("strong",null,n)}):r&&(i=Bt.rt("Created on {calendarDate}",{calendarDate:r})),i?a.a.createElement("span",{className:"p-channel_browser_list_item__create_info"},i):null}},{key:"maybeRenderOutboundPendingAndConnectedInfo",value:function(){var e=[],t=this.props,n=t.channel,r=t.pendingAndConnectedTeams,i=t.canManageSharedChannels,o=t.pendingInviteCanceledTeams,s=t.pendingType,c=t.isDisconnected;if("inbound"===s)return null;Array.isArray(o)&&o.length>0&&e.push(a.a.createElement(jt,{key:"pending-canceled",pendingInviteCanceledTeams:o}));var l=r.reduce(function(e,t){var r=e.pending,a=e.connected;return Object(Ce.vb)(n,t.id)?{connected:a,pending:[].concat($()(r),[t])}:{pending:r,connected:[].concat($()(a),[t])}},{connected:[],pending:[]});if(Object(Ce.ub)(n)){var u=l.pending;u.length&&e.push(a.a.createElement(ht,{key:"pending-outbound",pendingTeams:u,canManageSharedChannels:i,onPendingOutboundInviteCancel:this.onPendingOutboundInviteCancel}))}if(Object(Ce.Y)(n)){var d=l.connected;d.length&&e.push(a.a.createElement(gt,{key:"connected",connectedTeams:d,canManageSharedChannels:i,onStopSharingChannel:this.onStopSharingChannel,isDisconnected:c}))}return e.length?e:null}},{key:"isPendinginInboundInvite",value:function(){var e=this.props,t=e.pendingType,n=e.canManageSharedChannels;return"inbound"===t&&n}},{key:"maybeRenderPendingInboundInfo",value:function(){var e=this.props,t=e.invite,n=e.onCancelInboundPendingInvite,r=e.pendingInviteCanceledTeams;return this.isPendinginInboundInvite()?a.a.createElement(Ft,{invite:t,wasCanceled:r.length>0,onCancelInboundPendingInvite:n}):null}},{key:"maybeRenderMemberCount",value:function(){var e=this.props,t=e.showMemberCount,n=e.memberCount;if(this.isPendinginInboundInvite())return null;var r=Object(we.a)(n)?Object(N.l)(n):"\u2013";return t&&a.a.createElement("div",{className:"p-channel_browser_list_item__member_count",key:"member-count"},a.a.createElement(H.b,{type:"user",size:"inherit","aria-hidden":!0}),a.a.createElement("span",{className:"p-channel_browser_list_item__member_count__count","data-qa":"channel_browser_list_item_member_count"},r))}},{key:"renderEnter",value:function(){var e=this.props,t=e.channel;if(!e.featureSonicChannelBrowser)return null;if(this.isPendinginInboundInvite()||this.props.isDisconnected)return null;var n=!Object(Ce.kb)(t)||Object(Ce.V)(t);return t&&a.a.createElement(st.a,{className:"p-channel_browser_list_item__preview",tabIndex:"0","aria-label":n?Bt.t("Preview channel"):Bt.t("Open channel"),key:"enter-or-preview"},a.a.createElement(H.b,{type:"enter",inline:!0,className:"p-channel_browser_list_item__preview__icon"}),n?a.a.createElement("span",{className:"p-channel_browser_list_item__preview__text"},Bt.t("preview")):null)}},{key:"renderChannelInfo",value:function(){var e=this.props,t=e.channel;if(!e.featureSonicChannelBrowser)return null;if(!t)return null;var n=this.maybeRenderOutboundPendingAndConnectedInfo(),r=this.maybeRenderPendingInboundInfo(),i=this.maybeRenderCreateInfo();return a.a.createElement("div",{className:"p-channel_browser_list_item__info"},i,n,r)}},{key:"renderSecondaryContent",value:function(){return a.a.createElement(a.a.Fragment,null,this.renderEnter(),this.maybeRenderMemberCount())}},{key:"render",value:function(){if(!this.props.featureSonicChannelBrowser)return null;var e=this.props,t=e.channelId,n=e.channel,r=Re()("p-channel_browser_list_item",{"p-channel_browser_list_item--disabled":this.isPendinginInboundInvite(),"p-channel_browser_list_item--disconnected":this.props.isDisconnected});return a.a.createElement("div",{className:r,onClick:this.onChannelSelect,role:"presentation","data-qa":"channel_browser_list_item"},a.a.createElement(ot.a,{className:"p-channel_browser_list_item__entity",channelId:t,channel:n,metadata:this.renderChannelInfo(),secondaryContent:this.renderSecondaryContent()}))}}]),t}(r.Component);Ht.displayName="ChannelBrowserListItem",Ht.defaultProps=Ut;var Kt={openCancelPendingInviteWarningModal:function(){return We.apply(void 0,arguments)},openStopSharingChannelModal:function(){return it.apply(void 0,arguments)}},Gt=Object(C.b)(function(e,t){var n=t.channelId,r=t.invite,a=t.showMemberCount,i=Object(Ee.d)(e,n),o=r&&Object(Ce.Jb)(i)?function(e){return{id:e.channel,name:e.channel_name,is_channel:!0,is_pending_ext_shared:!0}}(r):i,s=Object(Ce.M)(e,o,{includeSelfTeamId:!1}).map(function(t){return Object(q.i)(e,t)}),l=a?Object(Pe.f)(e,o.id):null;return{channel:o,channelCreatorName:o&&Object(T.Q)(e,o.creator),pendingAndConnectedTeams:s,canManageSharedChannels:Object(T.e)(e),currentMember:Object(Me.b)(e),featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser"),memberCount:l?Object(j.a)(l,"counts.member_count",null):null}},Kt,null,{areStatePropsEqual:function(e,t){return Object(re.a)(e,t,2)}})(Ht),Vt=n("/m+M"),zt=n("MnCE"),Yt=(n("wqIo"),i.b.string,i.b.bool,function(e){var t=e.sectionHeader,n=e.isFirstItem;if(!Object(Vt.a)().featureSonicChannelBrowser)return null;var r=Re()("p-channel_browser_section_header",{"p-channel_browser_section_header--first":n});return a.a.createElement("div",{className:r},t)});Yt.displayName="ChannelBrowserSectionHeader",Yt.defaultProps={sectionHeader:null,isFirstItem:!1};var Wt=Object(zt.a)(Yt),Qt=new N.b("channel_browser"),Xt=200,Zt={PENDING_INVITES:"pending_invites",NOT_MEMBER:"not_member",MEMBER:"member",COMBINED:"combined"},Jt=(i.b.string.isRequired,i.b.string.isRequired,i.b.string.isRequired,i.b.func,i.b.arrayOf(i.b.object),i.b.object.isRequired,i.b.object.isRequired,i.b.func.isRequired,i.b.func,i.b.func,i.b.func,{pendingSharedChannels:[],submitCancelExternalSharedInviteForChannel:E.a,submitDeclineSharedChannelInvite:E.a,onChannelSelect:E.a,disconnectChannel:E.a}),$t=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchPost=n.fetchPost.bind(n),n.debouncedFetchPost=Object(ge.a)(n.fetchPost,Xt),n.renderRow=n.renderRow.bind(n),n.handleCancelOutboundPendingInvite=n.handleCancelOutboundPendingInvite.bind(n),n.handleCancelInboundPendingInvite=n.handleCancelInboundPendingInvite.bind(n),n.isFocusableItem=n.isFocusableItem.bind(n),n.handleDisconnectChannel=n.handleDisconnectChannel.bind(n),n.handleNotConfirmDisconnectChannel=n.handleNotConfirmDisconnectChannel.bind(n),n.state={channels:[],section:Zt.NOT_MEMBER,page:1,reachedEnd:!1,pendingSharedChannels:[],canceledPendingInvites:{},disconnectedChannels:{}},n.fetchPromise=null,n}return y()(t,e),v()(t,[{key:"componentDidMount",value:function(){"archived"!==this.props.filter&&"private"!==this.props.filter||this.setState(function(){return{section:Zt.COMBINED}})}},{key:"componentWillUnmount",value:function(){this.fetchPromise&&this.fetchPromise.cancel(),this.debouncedFetchPost.cancel()}},{key:"getSortArgs",value:function(){switch(this.props.sort){case"name":return{sort:"name",sort_dir:"asc"};case"created":return{sort:"created",sort_dir:"desc"};case"members_desc":return{sort:"member_count",sort_dir:"desc"};case"members_asc":return{sort:"member_count",sort_dir:"asc"};default:return{}}}},{key:"getFilterArgs",value:function(){var e=this.props.filter;if(Object(x.a)(e)||Object(x.b)(e))return{channel_type:"external_shared",external_shared_team_ids:e};switch(e){case"all":return{channel_type:"exclude_archived"};case"private":return{channel_type:"private_exclude_archived"};case"archived":return{channel_type:e};case"shared":return{channel_type:"external_shared"};default:return{}}}},{key:"getListKeys",value:function(){var e=this.state,t=e.channels,n=e.reachedEnd,r=e.section,a=e.page,i=this.props.pendingSharedChannels,o=i.length?[Zt.PENDING_INVITES].concat($()(i.map(function(e){return e.key}))):[],s=t.filter(function(e){return Object(fe.a)(i,function(t){return t.invite.channel!==e})});return n?[].concat($()(o),$()(s)):[].concat($()(o),$()(s),["loading-"+r+"-"+(a+1)])}},{key:"fetchPost",value:function(){var e=this;if(!this.fetchPromise&&!this.state.reachedEnd){var t=this.props.telemeter;t.mark("channel_browser_search_start"),this.fetchPromise=this.props.fetchSearchModule(me()({module:"channels",query:this.props.query,page:this.state.page,exclude_my_channels:this.state.section===Zt.NOT_MEMBER?1:0,only_my_channels:this.state.section===Zt.MEMBER?1:0},this.getSortArgs(),this.getFilterArgs(),{browse:"standard",extracts:0,max_extract_len:void 0,highlight:0,extra_message_data:0,reason:"channel-browser",omitSessionArgs:!0})).then(function(n){n.items&&n.pagination&&e.setState(function(e){var t=e.section,r=n.items.map(function(e){return e.id}),a=void 0;switch(a=t===Zt.COMBINED?e.channels.concat(r):1===e.page&&r.length>0?e.channels.concat(t,r):e.channels.concat(r),t){case Zt.NOT_MEMBER:var i=e.page>=n.pagination.page_count;return{channels:a,section:i?Zt.MEMBER:Zt.NOT_MEMBER,page:i?1:e.page+1};case Zt.COMBINED:case Zt.MEMBER:return{channels:a,page:e.page+1,reachedEnd:e.page>=n.pagination.page_count};default:return null}},function(){t.measureAndClear("channel_browser_search_start","channel_browser_search_success")})}).catch(function(){t.measureAndClear("channel_browser_search_start","channel_browser_search_error")}).finally(function(){e.fetchPromise=null})}}},{key:"handleCancelOutboundPendingInvite",value:function(e){var t=this,n=e.invite,r=e.targetTeam;this.props.submitCancelExternalSharedInviteForChannel({inviteId:n.id,reason:"channel-browser"}).then(function(){t.addCanceledInvite(n.channel,r)}).catch(function(e){throw e})}},{key:"handleCancelInboundPendingInvite",value:function(e){var t=this,n=e.invite;this.props.submitDeclineSharedChannelInvite(n.id).then(function(){t.addCanceledInvite(n.channel,n.inviting_team)})}},{key:"handleDisconnectChannel",value:function(e){var t=e.channelId,n=e.isLastChannel;this.setState(function(e){var n=e.disconnectedChannels;return me()({},e,{disconnectedChannels:me()({},n,pe()({},t,!0))})}),this.props.disconnectChannel({channelId:t,reason:"channel-browser"}),this.props.clogger.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:n,context:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_SUBMIT_BTN",ui_component:"CHANNEL_BROWSER"}}})}},{key:"handleNotConfirmDisconnectChannel",value:function(e){var t=e.isLastChannel;this.props.clogger.track("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:t,context:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_CANCEL_BTN",ui_component:"CHANNEL_BROWSER"}}})}},{key:"addCanceledInvite",value:function(e,t){this.setState(function(n){var r=n.canceledPendingInvites,a=r[e]||[];return{canceledPendingInvites:me()({},r,pe()({},e,[].concat($()(a),[t])))}})}},{key:"isFocusableItem",value:function(e){var t=e.key;return!Object(ve.a)(t,"loading")&&(t!==Zt.PENDING_INVITES&&(t!==Zt.NOT_MEMBER&&t!==Zt.MEMBER))}},{key:"renderRow",value:function(e,t){var n=t.key;if(Object(ve.a)(n,"loading"))return a.a.createElement("div",{className:"p-channel_browser__list__loading"},Qt.t("Loading\u2026",{fallbackHash:"8f26c6520d61588a9757bc182157c4497628e871"}));var r=0===e;if(n===Zt.PENDING_INVITES)return a.a.createElement(Wt,{sectionHeader:Qt.t("Pending invitations"),isFirstItem:r});if(n===Zt.NOT_MEMBER)return a.a.createElement(Wt,{sectionHeader:Qt.t("Channels you can join"),isFirstItem:r});if(n===Zt.MEMBER)return a.a.createElement(Wt,{sectionHeader:Qt.t("Channels you belong to"),isFirstItem:r});if(Object(ve.a)(n,"pending")){var i=this.props.pendingSharedChannels.find(function(e){return e.key===n}),o=i.invite,s=i.pendingType;return a.a.createElement(Gt,{channelId:o.channel,invite:o,pendingType:s,onChannelSelect:this.props.onChannelSelect,pendingInviteCanceledTeams:this.state.canceledPendingInvites[o.channel],onCancelOutboundPendingInvite:this.handleCancelOutboundPendingInvite,onCancelInboundPendingInvite:this.handleCancelInboundPendingInvite,showMemberCount:"member_count"===this.getSortArgs().sort})}return a.a.createElement(Gt,{channelId:n,onChannelSelect:this.props.onChannelSelect,pendingInviteCanceledTeams:this.state.canceledPendingInvites[n],onDisconnectChannel:this.handleDisconnectChannel,onNotConfirmDisconnectChannel:this.handleNotConfirmDisconnectChannel,isDisconnected:this.state.disconnectedChannels[n],showMemberCount:"member_count"===this.getSortArgs().sort})}},{key:"render",value:function(){var e=this,t=this.state,n=t.channels,r=t.reachedEnd,i=this.props,o=i.query,s=i.pendingSharedChannels;if(0===n.length&&0===s.length&&r){var c=o?Qt.rt("No matches found for <strong>{query}</strong>",{query:o}):Qt.t("No channels");return a.a.createElement("div",{className:"p-channel_browser__list--empty"},c)}var l=this.state.page>1?this.fetchPost:this.debouncedFetchPost;return a.a.createElement(je.a,null,function(t){var n=t.width,r=t.height,i=t.measureRef;return a.a.createElement("div",{className:"p-channel_browser__list_container",ref:i},a.a.createElement(ye.a,{width:n,height:Math.floor(r),keys:e.getListKeys(),rowRenderer:e.renderRow,loadPost:l,loadAround:l,isFocusableItem:e.isFocusableItem,hideHiddenStopTabs:!0}))})}}]),t}(r.Component);$t.displayName="ChannelBrowserList",$t.defaultProps=Jt;var en={fetchSearchModule:function(){return _e.c.apply(void 0,arguments)},submitCancelExternalSharedInviteForChannel:function(){return D.A.apply(void 0,arguments)},submitDeclineSharedChannelInvite:function(){return D.H.apply(void 0,arguments)},disconnectChannel:function(){return D.c.apply(void 0,arguments)}},tn=Object(C.b)(function(e,t){var n=t.pendingSharedInvites,r=t.filter,a=t.query,i=Ie(e,{pendingSharedInvites:n,filter:r,query:a});return{pendingSharedChannels:i&&i.length?i:ke.a,clogger:Object(M.a)({state:e}),telemeter:Object(Oe.c)({state:e})}},en)($t),nn=(n("nfdY"),new N.b("channel_browser")),rn=(i.b.bool,i.b.bool,i.b.bool,i.b.bool,i.b.string,i.b.string,i.b.func,i.b.bool,i.b.func.isRequired,i.b.func.isRequired,i.b.func,i.b.func,i.b.func,i.b.func,i.b.func.isRequired,i.b.func.isRequired,i.b.number,i.b.object,i.b.oneOfType([i.b.string,i.b.number]),U.a.isRequired,i.b.func.isRequired,{showOpenTransition:void 0,canUserCreateChannels:!0,canManageESC:!1,featureSonicChannelBrowser:!1,initialFilter:"all",initialQuery:"",isFromConnectedWorkspaces:!1,openConnectedWorkspacesModal:E.a,setPrimaryView:E.a,updateChannelLastTrigger:E.a,closeModal:E.a,onBack:void 0,externalTeamCount:0,clogger:null,enabledSharedChannelsPref:void 0}),an=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props,a=r.initialFilter,i=r.initialQuery;return n.onQueryChange=n.onQueryChange.bind(n),n.onFilterChange=n.onFilterChange.bind(n),n.onSortChange=n.onSortChange.bind(n),n.onCreateBack=n.onCreateBack.bind(n),n.onCreateClick=n.onCreateClick.bind(n),n.onChannelSelect=n.onChannelSelect.bind(n),n.onAboutChannelsClick=n.onAboutChannelsClick.bind(n),n.onOpenConnectedWorkspacesModal=n.onOpenConnectedWorkspacesModal.bind(n),n.state={query:i,filter:a,pendingSharedInvites:void 0},n}return y()(t,e),v()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.canManageESC&&(this.pendingInvitesFetch=this.props.listSharedInvites({reason:"channel-browser"}).then(function(t){e.setState(function(){return{pendingSharedInvites:t}})}).finally(function(){e.pendingInvitesFetch=null})),this.props.clogger.track("CHANNEL_BROWSER_OPEN",{is_admin:this.props.canManageESC,enabled_shared_channels_pref:this.props.enabledSharedChannelsPref})}},{key:"componentWillUnmount",value:function(){this.pendingInvitesFetch&&this.pendingInvitesFetch.cancel()}},{key:"onQueryChange",value:function(e){this.setState(function(){return{query:e}})}},{key:"onFilterChange",value:function(e){this.setState(function(){return{filter:e}})}},{key:"onSortChange",value:function(e){this.props.setChannelBrowserSort({sort:e}),this.props.clogger.track("CHANNEL_BROWSE_SORT",{sort_type:e})}},{key:"onCreateBack",value:function(){this.props.openChannelBrowser({showOpenTransition:!1,initialQuery:this.state.query})}},{key:"onCreateClick",value:function(){this.props.openChannelCreateModal({showOpenTransition:!1,onBack:this.onCreateBack,channelName:this.state.query})}},{key:"onChannelSelect",value:function(e){var t=e.channelId,n=e.isMember;this.props.setPrimaryView({id:t}),this.props.clogger.track("CHANNELBROWSER_SELECT",{item_id:t,item_type:t.charAt(0),is_member:n}),this.props.updateChannelLastTrigger({source:"CHANNEL_BROWSER",objId:t}),this.props.closeModal()}},{key:"onAboutChannelsClick",value:function(e){e.preventDefault(),this.props.closeModal(),this.props.setAboutChannelsCoachmarkIsVisible(!0)}},{key:"onOpenConnectedWorkspacesModal",value:function(){var e=this;this.props.openConnectedWorkspacesModal({showOpenTransition:!1,referringUiElement:"SHARED_CHANNELS_CHANNEL_BROWSER_MANAGE_SHARED_CHANNELS_BTN",onBack:function(){return Promise.resolve().then(function(){return e.props.openChannelBrowser({showOpenTransition:!1,isFromConnectedWorkspaces:!0})})}})}},{key:"maybeRenderCreateChannelButton",value:function(){return this.props.canUserCreateChannels?a.a.createElement(G.a,{className:"p-channel_browser__header__create","data-qa":"channel_browser_channel_create_btn",onClick:this.onCreateClick},nn.t("Create Channel")):null}},{key:"maybeRenderConnectedWorkspacesAlert",value:function(){var e=this,t=this.props,n=t.canManageESC,r=t.externalTeamCount,i=t.isFromConnectedWorkspaces,o=t.featureSonicChannelBrowser,s=this.state.filter;return o&&n&&(i||Object(x.a)(s)||Object(x.b)(s)||"shared"===s)?a.a.createElement("div",{className:"p-channel_browser__alert--connected","data-qa":"channel-browser-connected-workspaces-alert"},a.a.createElement(V.a,{type:"boxed",level:"info"},nn.rt("Your organization is currently sharing channels with {externalTeamCount, plural, =1{# other} other{# others}}. <a>Manage shared channels</a>",{externalTeamCount:r},function(t){var n=t.key,r=t.text;return a.a.createElement(z.a,{key:n,onClick:e.onOpenConnectedWorkspacesModal},r)}))):null}},{key:"renderAboutChannelsLink",value:function(){return this.props.featureSonicChannelBrowser?a.a.createElement("div",{className:"p-channel_browser__about_channels"},a.a.createElement(H.b,{className:"margin_right_25",type:"info-circle",inline:!0}),a.a.createElement(z.a,{className:"p-channel_browser__about_channels__link","data-qa":"channel_browser_about_channels_link",onClick:this.onAboutChannelsClick,invert:!0},nn.t("About channels\u2026"))):null}},{key:"render",value:function(){var e=this.props,t=e.showOpenTransition,n=e.featureSonicChannelBrowser,r=e.onBack,i=e.sort,o=this.state,s=o.query,c=o.filter,l=o.pendingSharedInvites;if(!n)return null;var u=[s,i,c,l?"haspending":"nopending"].join("-");return a.a.createElement(K.a,{showCancelButton:!1,showGoButton:!1,showOpenTransition:t,contentLabel:nn.t("Browse Channels"),modalBodyClasses:"p-channel_browser__body",showBackButton:!!r,onBack:r},a.a.createElement("div",null,this.renderAboutChannelsLink()),a.a.createElement("div",{className:"p-channel_browser__header"},a.a.createElement("h1",null,nn.t("Browse Channels")),this.maybeRenderCreateChannelButton()),a.a.createElement(Y.a,null,a.a.createElement("div",{className:"p-channel_browser__controls"},a.a.createElement(Z,{value:s,onChange:this.onQueryChange}),a.a.createElement(ce,{filter:c,onChange:this.onFilterChange}),a.a.createElement(de,{sort:i,onChange:this.onSortChange,showMemberCount:"archived"!==c}))),this.maybeRenderConnectedWorkspacesAlert(),a.a.createElement(tn,{query:s,sort:i,filter:c,key:u,onChannelSelect:this.onChannelSelect,pendingSharedInvites:l}))}}]),t}(r.Component);an.displayName="ChannelBrowser",an.defaultProps=rn;var on={openChannelCreateModal:function(){return I.a.apply(void 0,arguments)},openChannelBrowser:function(){return ln.apply(void 0,arguments)},setPrimaryView:function(){return P.a.apply(void 0,arguments)},updateChannelLastTrigger:function(){return A.d.apply(void 0,arguments)},closeModal:function(){return Object(s.a)()},listSharedInvites:function(){return D.p.apply(void 0,arguments)},setAboutChannelsCoachmarkIsVisible:function(){return L.n.apply(void 0,arguments)},openConnectedWorkspacesModal:function(){return w.a.apply(void 0,arguments)},setChannelBrowserSort:function(){return U.d.apply(void 0,arguments)}},sn=Object(C.b)(function(e){var t=Object(k.a)(Object(q.b)(e),function(t){return Object(R.p)(e,t)}),n=Object.keys(t).length;return{canUserCreateChannels:Object(S.C)(e)||Object(S.B)(e),canManageESC:Object(T.e)(e),externalTeamCount:n,clogger:Object(M.a)({state:e}),enabledSharedChannelsPref:Object(c.m)(e)?Object(j.a)(Object(F.a)(e,"who_can_manage_ext_shared_channels"),"type[0]"):Object(B.a)(e,"enable_shared_channels"),featureSonicChannelBrowser:Object(c.j)(e,"feature_sonic_channel_browser"),sort:Object(U.c)(e)}},on)(an),cn=Object(o.b)("Opens the Channel Browser",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.showOpenTransition,i=n.initialFilter,o=n.initialQuery,h=n.onBack,m=n.isFromConnectedWorkspaces,f=t();if(Object(c.j)(f,"feature_sonic_channel_browser")){var v=Object(p.a)({state:f});Object(b.a)()||(v.warn("CHANNEL-BROWSER","Modern openChannelBrowser called in legacy, opening legacy channel browser instead"),Object(d.b)());var g=Object(l.a)(f);(g?e(Object(u.a)({channelId:g,cancelUnsavedEdits:!1,scroll:!0})):Promise.resolve()).then(function(){e(Object(s.e)({element:a.a.createElement(sn,{showOpenTransition:r,initialFilter:i,initialQuery:o,onBack:h,isFromConnectedWorkspaces:m})}))}).catch(function(){v.error("CHANNEL-BROWSER","Not opening channel browser because user is editing a message")})}});cn.propTypes={showOpenTransition:i.b.bool,initialFilter:i.b.string,initialQuery:i.b.string,onBack:i.b.func};var ln=t.a=cn},QQwV:function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return E});var r,a=n("9oTK"),i=n("m1cH"),o=n.n(i),s=n("YEIV"),c=n.n(s),l=n("QbLZ"),u=n.n(l),d=n("4hnu"),b=n("OZtQ"),p=n("lhZz"),h=n("uf9I"),m=n("6kok"),f=n("+1yX"),v=n("i26o"),g=n("uwE/"),_=n("clTI"),O=n("WZ56"),y=n("s/st"),j=(r=Object(a.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t.replace(n,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=r.apply(void 0,[e].concat(n));i.push(o)}),e.next=4,Object(a.resolve)(Promise.all(i));case 4:return o=e.sent,e.abrupt("return",t.replace(n,function(){return o.shift()}));case 6:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)});function k(e,t){var n=Object(b.g)(e),r=new RegExp("\\b("+Object(g.f)().in+"|in):(#([^\\s]+))","g"),a=v.f.fromString(e,n),i={};return a.suggestionTokenList.forEach(function(e){if(e instanceof y.e){var t=e.getRawIdAndNameForXwsChannelWorkaround(),n=t.id,r=t.name;n&&Object(f.a)(n)&&r&&(i[r]||(i[r]=[]),i[r].push({id:n,name:r}))}}),t.replace(r,function(e,t,n,r){if(i[r]&&i[r].length>0){var a=i[r].shift();return t+":<#"+a.id+"|"+a.name+">"}return e})}function E(e,t){var n=new RegExp("\\b("+Object(g.f)().in+"|in):(#([^\\s]+))","g"),r=Object(b.f)(e),a=Object(b.i)(e),i={};return a.forEach(function(t){var n=r[t];if(n){var a=Object(m.x)(e,n,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});i[a]?i[a].push(n):i[a]=[n]}}),j(t,n,function(t,n,r,a){var s=void 0;if(s=i[a]&&i[a].length>0?i[a].shift():Object(_.e)(e,r)||Object(O.b)(e,r)){if(Object(m.eb)(s)){var l=Object(m.G)(s);return Promise.resolve(n+":<@"+l+">")}var f=Object(m.x)(e,s,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return Promise.resolve(n+":<#"+s.id+"|"+f+">")}return Object(d.a)(r,{limit:150,channels:{include_archived:!0,include_from_another_team:!0},members:{include_self:!0,include_org:!0,include_slackbot:!0,include_deleted:!0},mpims:!0,groups:{include_archived:!0,include_from_another_team:!0},sort:{frecency:!1}}).then(function(t){var a=Object(h.b)(e),i=Object(p.getStateByTeamId)(a),s=r&&r.replace("#",""),l=t.find(function(e){return e.name===s});if(!l)return n+":"+r;var d=Object(b.f)(i)||{};Object(p.dispatchForTeamId)(a,Object(b.s)({channels:u()({},d,c()({},l.id,l))}));var f=Object(b.e)(i).queryFilter;f.in=Array.from(new Set([].concat(o()(f.in),[l.id]))),Object(p.dispatchForTeamId)(a,Object(b.w)({queryFilter:f}));var v=Object(m.x)(i,l,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return n+":<#"+l.id+"|"+v+">"})})}},QTMz:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("DTT0"),d=n("XfeM"),b=n("HO/Y"),p=n("OWki"),h=n("iCc5"),m=n.n(h),f=n("V7oC"),v=n.n(f),g=n("FYw3"),_=n.n(g),O=n("mRg0"),y=n.n(O),j=n("zmn3"),k=n("ifKl"),E=n("tn36"),C=n("XHGt"),I=n("zbZx"),w=n("hI7H"),S=n("NB3s"),T=n("clTI"),R=n("nNoG"),N=n("DtX9"),x=n("D4L/"),M=n("wfE8"),P=n("ntJl"),A=n("yHhI"),D=n("k0G2"),L=n("5mKg"),q=n("dyRQ"),F=n("Fdc0"),B=n("6Jf9"),U=n("kOzZ"),H=n("YEIV"),K=n.n(H),G=n("S1sa"),V=n("Yk7g"),z=n("xWuZ"),Y=n("6kok"),W=n("20gP"),Q=n("4Twu"),X=n("lhZz"),Z=n("WD4z"),J=n("ynxK"),$=n("c695"),ee=n("TegG"),te=(l.b.object.isRequired,l.b.bool,function(e){function t(){return m()(this,t),_()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y()(t,e),v()(t,[{key:"render",value:function(){var e=this.props,t=e.option,n=e.isActive,r={secondaryContent:c.a.createElement("span",{"data-qa":"channel_invite_secondary_content"},t.inviteExceptionReason||"")};return c.a.createElement("div",{className:"display_flex"},c.a.createElement(ee.a,a()({id:t.value,isActive:n,isDisabled:!!t.inviteExceptionReason,showPresence:!0,showAvatar:!0},r)))}}]),t}(s.PureComponent));te.displayName="ChannelInviteListRow",te.defaultProps={isActive:!1};var ne=te,re=new R.b("channel_invite"),ae=(l.b.bool,l.b.object.isRequired,l.b.bool.isRequired,l.b.object.isRequired,l.b.object.isRequired,l.b.func,l.b.array,l.b.string,l.b.func,l.b.func.isRequired,l.b.bool,l.b.func,l.b.func,l.b.bool,l.b.func,l.b.object.isRequired,l.b.string,{featureSonicChannelInviteModal:!1,onSelectedItemsChange:k.a,selectedMembers:[],error:"",onKeyDown:k.a,canUserInviteToWorkspace:!1,openInviteModal:k.a,onFilterQueryChange:k.a,isSubmitting:!1,onSubmit:k.a,channelDisplayName:void 0}),ie="alreadyInChannel",oe="fromAnotherOrg",se="notMemberOfWorkspace",ce="cannotJoinChannel",le=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(E.a)(n,["onSelectedItemsChange","filterSearchResult","renderNoResultsMessage","renderOption","processOptions","onClickInviteToTeam","onFilterQueryChange"]),e.canUserInviteToWorkspace&&n.clogInviteToWorkspaceImpression(),n}return y()(t,e),v()(t,null,[{key:"shouldDisableOrgMember",value:function(e,t){return!Object(F.rb)(e,t)}}]),v()(t,[{key:"onFilterQueryChange",value:function(e){this.props.onFilterQueryChange(e)}},{key:"onSelectedItemsChange",value:function(e){this.props.onSelectedItemsChange(e)}},{key:"onClickInviteToTeam",value:function(){this.props.clogger.track("CHANNEL_INVITE_MODAL",{source:"channel_invite_modal",contexts:{ui_context:{action:"impression",ui_properties:{element_name:"external_invite_footer",element_type:"button"}}}}),this.props.openInviteModal()}},{key:"getErrorMessage",value:function(e){var t;return this.props.featureSonicChannelInviteModal&&(t={},K()(t,ie,re.t("Already in this channel")),K()(t,oe,re.t("From another organization")),K()(t,se,re.t("Not a member of this workspace")),K()(t,ce,re.t("Cannot join this channel")),t)[e]||""}},{key:"getSearcherOptions",value:function(){var e=this.props.channel;return{entities:{members:{includeBots:!1,includeSlackbot:!1,includeSelf:!1,includeDeleted:!1,onlyAdmins:!1,onlyLocalTeam:!1}},limit:20,allowEmptyQuery:!1,fuzzyLimit:3,returnMetadata:!1,filter:this.filterSearchResult,sort:{frecency:!0,normalize:!0,preferExactMatch:!0,currentChannel:e,preferChannelMembers:!1}}}},{key:"clogInviteToWorkspaceImpression",value:function(){this.props.clogger.track("CHANNEL_INVITE_MODAL",{source:"channel_invite_modal",contexts:{ui_context:{action:"impression",ui_properties:{element_name:"external_invite_footer",element_type:"button"}}}})}},{key:"sortOptions",value:function(e){return Object(z.a)(Object(V.a)(Object(G.a)(e,"inviteExceptionReason")))}},{key:"processOptions",value:function(e){var t=this,n=this.props,r=n.featureSonicChannelInviteModal,a=n.channel;if(!r)return Promise.resolve(e);var i=e.map(function(e){return e.value});return!i.length?Promise.resolve(e):this.props.getChannelMembershipInfoForUsers({channelId:a.id,userIds:i}).then(function(n){var r=n&&n.membershipInfo||{},a=e.map(function(e){return t.processOption(e,r)}),i=t.sortOptions(a);return Promise.resolve(i)})}},{key:"processOption",value:function(e,n){var r=this.props,i=r.currentTeam,o=r.featureSonicChannelInviteModal,s=r.isEnterprise,c=r.channel;if(!o)return e;var l=e.entity||{},u="",d=n[l.id];if(d&&d.isKnown&&d.isMember)u=this.getErrorMessage(ie);else{var b=Object(X.getStateByTeamId)(i.id);Object(F.f)(b,c.id,l.id)||(u=Object(F.lb)(l)?this.getErrorMessage(oe):s&&t.shouldDisableOrgMember(l,i.id)?this.getErrorMessage(se):this.getErrorMessage(ce))}return a()({},e,{isDisabled:!!u,inviteExceptionReason:u})}},{key:"filterSearchResult",value:function(e){var t=this.props,n=t.currentMember,r=t.channel;return!Object(F.bb)(e)&&(!Object(F.Db)(e)&&!(!Object(F.X)(n)&&Object(F.xb)(e)&&!Object(Y.xb)(r)))}},{key:"renderOption",value:function(e,t){var n=this.props,r=n.channel,a=n.currentTeam,i=n.featureSonicChannelInviteModal;return c.a.createElement(ne,{option:e,isActive:t.isActive,channel:r,currentTeam:a,featureSonicChannelInviteModal:i})}},{key:"renderNoResultsMessage",value:function(e){return this.props.featureSonicChannelInviteModal?c.a.createElement("div",{className:"align_center","data-qa":"channel_invite_no_results_message"},re.rt("No one found matching {query}",{query:c.a.createElement("strong",null,e)})):null}},{key:"render",value:function(){var e=this.props,t=e.featureSonicChannelInviteModal,n=e.selectedMembers,r=e.error,a=e.currentMember,i=e.channel,o=e.currentTeam,s=e.isSubmitting,l=e.canUserInviteToWorkspace,u=e.channelDisplayName;return t?c.a.createElement("div",{"data-qa":"channel_invite_form",className:"margin_bottom_100"},Object(F.xb)(a)&&c.a.createElement(Z.a,{type:"boxed",level:"warning",align:"left",className:"margin_bottom_100","data-qa":"channel_invite_mcg_alert"},re.rt("Anyone you add to {channelName} will be able to view the channel's entire history, including all of its messages and files.",{channelName:c.a.createElement("strong",null,u)})),r&&c.a.createElement(Z.a,{type:"boxed",level:"error",align:"left",className:"margin_bottom_100","data-qa":"channel_invite_error"},r),c.a.createElement("h1",null,c.a.createElement("span",{className:"overflow_ellipsis"},re.rt("Add people to {channelName}",{channelName:c.a.createElement(Q.a,{channel:i,inline:!0})}))),!Object(F.X)(a)&&c.a.createElement("div",{className:"margin_top_100","data-qa":"channel_invite_mcg_note"},re.t("If you\u2019d like to add a person on a guest account, you\u2019ll need to ask an admin.")),l&&c.a.createElement("div",{className:"display_flex margin_top_100","data-qa":"invite_to_workspace_link"},c.a.createElement("div",{className:"margin_right_25"},re.t("Need to add someone who's not yet in this workspace?")),c.a.createElement(J.a,{onClick:this.onClickInviteToTeam,"data-qa":"invite_to_workspace_button"},re.rt("Invite people to {teamName}",{teamName:Object(L.e)(o)}))),c.a.createElement("div",{className:"margin_top_150 display_flex"},c.a.createElement("div",{className:"full_width margin_right_75"},c.a.createElement(W.b,{focusOnMount:!0,selectedOptions:n,renderOption:this.renderOption,width:"100%",onSelectedItemsChange:this.onSelectedItemsChange,selectId:"channel_invite_modal_select",placeholderText:re.t("Search by name"),size:"large",searcherOptions:this.getSearcherOptions(),emptyStateMessage:this.renderNoResultsMessage,onKeyDown:this.props.onKeyDown,processOptions:this.processOptions,onFilterQueryChange:this.onFilterQueryChange,optionsRowHeight:32,selectDataQa:"invite_to_workspace_select"})),c.a.createElement("div",null,c.a.createElement($.a,{"aria-label":"Add people to channel",type:"primary",size:"large","data-qa":"invite_to_workspace_submit_button",disabled:!n.length,onClick:this.props.onSubmit,loading:s},re.t("Add"))))):null}}]),t}(c.a.Component);le.displayName="ChannelInviteForm",le.defaultProps=ae;var ue=Object(C.b)(function(e,t){var n=t.channel;return{channelDisplayName:Object(Y.x)(e,n)}})(le),de=new R.b("channel_invite"),be=Object(A.b)(),pe=(l.b.bool,l.b.bool,l.b.func.isRequired,l.b.object,l.b.string.isRequired,l.b.bool.isRequired,l.b.object.isRequired,l.b.object.isRequired,l.b.bool,l.b.func.isRequired,l.b.func.isRequired,l.b.func.isRequired,l.b.bool,l.b.func,l.b.object.isRequired,{featureSonicChannelInviteModal:!1,featureBetterSCInvites:!1,channel:void 0,keepChannelHistory:!0,featureModernizeInvites:!1,openInviteModal:k.a}),he=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedMembers:[],filterQuery:"",error:"",isSubmitting:!1},Object(E.a)(n,["onSelectedItemsChange","onSubmit","onKeyDown","openInviteModal","onFilterQueryChange"]),n.clogModalImpression(),n}return y()(t,e),v()(t,[{key:"onSelectedItemsChange",value:function(e){this.setState(function(){return{selectedMembers:e}})}},{key:"onFilterQueryChange",value:function(e){this.setState(function(){return{filterQuery:e}})}},{key:"onKeyDown",value:function(e,t){var n=t.hasActiveRowIndex,r=this.state.selectedMembers;e.keyCode===D.e&&!n&&r.length&&this.onSubmit()}},{key:"onSubmit",value:function(){var e=this;if(!this.props.featureSonicChannelInviteModal)return null;this.setState(function(){return{error:"",isSubmitting:!0}});var t=this.props,n=t.keepChannelHistory,r=t.channel,a=t.submitInviteToChannel,i=t.createChildChannelAndAddMembers,o=this.state.selectedMembers,s={channelId:r.id,users:Object(j.a)(o,"value").join(",")};return n?a(s).then(function(){e.props.closeModal()}).catch(function(t){e.setState(function(){return{error:e.getErrorMessage("too_many_users")}}),be.error("Error from channel invite action: "+t)}).finally(function(){e.setState(function(){return{isSubmitting:!1}})}):i(s).then(function(){e.props.closeModal()}).catch(function(t){var n=t&&t.name||"";e.setState(function(){return{error:e.getErrorMessage(n)}}),be.error("Error from create new channel action: "+t)}).finally(function(){e.setState(function(){return{isSubmitting:!1}})})}},{key:"getErrorMessage",value:function(e){if(!this.props.featureSonicChannelInviteModal)return"";var t=de.t("Hmm, something went wrong. Try again?");return{already_in_channel:de.t("User is already in this channel."),channel_not_found:de.t("A valid channel name is required."),user_not_found:de.t("A valid member name is required."),method_not_supported_for_channel_type:de.t("A valid channel name is required."),user_is_restricted:de.t("User is a Multi-Channel Guest. Only your Workspace Admin can add them to a channel."),org_user_not_in_team:de.t("User is not a member of {teamName}.",{teamName:Object(L.e)(this.props.currentTeam)}),too_many_users:de.t("You can only add up to 1,000 users at a time.",{fallbackHash:"5c1f891e6959d4e3c36c7ba4736d88b0bf2d7356"})}[e]||t}},{key:"clogModalImpression",value:function(){this.props.clogger.track("CHANNEL_INVITE_MODAL",{source:"channel_invite_modal",contexts:{ui_context:{action:"impression"}}})}},{key:"openInviteModal",value:function(){if(this.props.featureModernizeInvites){var e=this.state.filterQuery,t={initialChannelId:this.props.channel.id};if(e){var n=-1!==e.indexOf("@");t=a()({},t,{initialName:n?null:e,initialEmail:n?e:null})}this.props.closeModal(),this.props.openInviteModal(t)}}},{key:"canUserInviteToWorkspace",value:function(){var e=this.props,t=e.currentMember,n=e.keepChannelHistory,r=e.featureModernizeInvites;return Object(F.X)(t)&&n&&r}},{key:"render",value:function(){var e=this.props,t=e.featureSonicChannelInviteModal,n=e.featureBetterSCInvites,r=e.channel,a=e.currentMember,i=e.currentTeam,o=e.clogger,s=this.state,l=s.selectedMembers,u=s.error,d=s.isSubmitting;if(!t)return null;var b={channel:r,featureSonicChannelInviteModal:t,currentMember:a,isEnterprise:this.props.isEnterprise,currentTeam:i,selectedMembers:l,onSelectedItemsChange:this.onSelectedItemsChange,error:u,onKeyDown:this.onKeyDown,getChannelMembershipInfoForUsers:this.props.getChannelMembershipInfoForUsers,canUserInviteToWorkspace:this.canUserInviteToWorkspace(),openInviteModal:this.openInviteModal,onFilterQueryChange:this.onFilterQueryChange,isSubmitting:d,onSubmit:this.onSubmit,clogger:o};return n?c.a.createElement(S.a,{isOpen:!0,centered:!0,fullscreen:!1,closeModal:this.props.closeModal,maxWidth:620,contentLabel:de.t("Add people to channel")},c.a.createElement(S.h,null,c.a.createElement(S.j,null,c.a.createElement(ue,b))),c.a.createElement(S.d,{showScrollIndicatorBottom:!1},c.a.createElement(S.e,null)),c.a.createElement(S.f,null)):c.a.createElement(w.a,{showCancelButton:!1,showGoButton:!1,contentLabel:de.t("Add people to channel")},c.a.createElement(ue,b))}}]),t}(c.a.Component);he.displayName="ChannelInviteModal",he.defaultProps=pe;var me=Object(C.b)(function(e,t){var n=t.channelId,r=t.channel;return{featureSonicChannelInviteModal:Object(b.j)(e,"feature_sonic_channel_invite_modal"),featureBetterSCInvites:Object(b.j)(e,"feature_better_sc_invites"),featureModernizeInvites:Object(b.j)(e,"feature_modernize_invites"),channel:r||Object(T.d)(e,n),isEnterprise:Object(I.d)(e),currentMember:Object(N.c)(e,Object(b.b)(e)),currentTeam:Object(x.d)(e),clogger:Object(U.a)({state:e})}},function(e){return{closeModal:function(){return e(u.a.apply(void 0,arguments))},submitInviteToChannel:function(){return e(M.J.apply(void 0,arguments))},createChildChannelAndAddMembers:function(){return e(P.createChildChannelAndAddMembers.apply(void 0,arguments))},getChannelMembershipInfoForUsers:function(){return e(q.g.apply(void 0,arguments))},openInviteModal:function(){return e(B.a.apply(void 0,arguments))}}})(he),fe=n("fL8H"),ve=n("O0RF"),ge=n("KEK+"),_e=n("nWao"),Oe=n("Qrgz"),ye=new R.b("channel_invite"),je=(l.b.string.isRequired,l.b.bool,l.b.string,l.b.func,l.b.bool.isRequired,l.b.string,l.b.func,l.b.func.isRequired,l.b.func.isRequired,l.b.bool,{featureSonicChannelInviteModal:!1,openChannelInviteModal:k.a,channelName:"",shouldOpenChannelInviteModal:!0,users:"",onInviteError:k.a}),ke=function(e){function t(e){m()(this,t);var n=_()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={keepChannelHistory:!0,isLoading:!1},n.onRadioButtonChange=n.onRadioButtonChange.bind(n),n.submitOnGoAction=n.submitOnGoAction.bind(n),n}return y()(t,e),v()(t,[{key:"onRadioButtonChange",value:function(e){var t=e.target.value;this.setState(function(){return{keepChannelHistory:"keep_channel_history"===t}})}},{key:"setIsLoading",value:function(e){this.setState(function(){return{isLoading:e}})}},{key:"submitOnGoAction",value:function(){var e=this,t=this.props,n=t.shouldOpenChannelInviteModal,r=t.channelId,a=t.users,i=t.openChannelInviteModal,o=t.submitInviteToChannel,s=t.createChildChannelAndAddMembers,c=t.onInviteError,l=this.state.keepChannelHistory;return n?i({channelId:r,keepChannelHistory:l}):(this.setIsLoading(!0),l?o({channelId:r,users:a}).catch(function(t){e.setIsLoading(!1),c(t)}):s({channelId:r,users:a}).catch(function(t){e.setIsLoading(!1),c(t)}))}},{key:"renderLimitedInviteDialog",value:function(){var e=this.props,t=e.featureSonicChannelInviteModal,n=e.channelName,r=e.shouldOpenChannelInviteModal,a=this.state.isLoading;return t?c.a.createElement(fe.a,{title:ye.t("Anyone you add will be able to see all of the channel\u2019s contents"),goButtonText:ye.t("Add to channel"),onGo:this.submitOnGoAction,showCancelButton:!0,truncateTitle:!1,shouldCloseOnGo:!r,goButtonIsPending:a},ye.rt("New members will be able to see all of <strong>{channelName}</strong>\u2019s history, including any files that have been shared in the channel",{channelName:c.a.createElement("strong",null,n)})):null}},{key:"renderRadioButtons",value:function(){var e=this.props,t=e.channelName;if(!e.featureSonicChannelInviteModal)return null;var n=c.a.createElement("p",null,c.a.createElement("strong",null,ye.rt("Add to {channelName}",{channelName:t})),c.a.createElement("br",null),ye.t("Add new members to the existing channel")),r=c.a.createElement("p",null,c.a.createElement("strong",null,ye.t("Create a new channel")),c.a.createElement("br",null),ye.t("Slack will archive the existing channel and automatically invite all of its members to a new channel.")),a="channel_history";return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,ye.rt("New members will be able to see all of <b>{channelName}</b>\u2019s history, including any files that have been shared in the channel. If you\u2019d like, you can create a new channel instead.",{channelName:t})),c.a.createElement(_e.a,{field:a},c.a.createElement(ve.a,{text:n,htmlFor:a+"-1",type:"inline",cursor:"pointer"},c.a.createElement(ge.a,{id:a+"-1",name:a,value:"keep_channel_history",checked:this.state.keepChannelHistory,onChange:this.onRadioButtonChange,"data-qa":"keep-channel-history"})),c.a.createElement(ve.a,{text:r,htmlFor:a+"-2",type:"inline",cursor:"pointer"},c.a.createElement(ge.a,{id:a+"-2",name:a,value:"create_new_channel",checked:!this.state.keepChannelHistory,onChange:this.onRadioButtonChange,"data-qa":"create-new-channel"}))))}},{key:"render",value:function(){var e=this.props,t=e.featureSonicChannelInviteModal,n=e.isLimitedInvite,r=e.shouldOpenChannelInviteModal,a=this.state.isLoading;return t?n?this.renderLimitedInviteDialog():c.a.createElement(fe.a,{title:ye.t("Anyone you add will be able to see all of the channel\u2019s contents"),goButtonText:ye.t("Continue"),onGo:this.submitOnGoAction,shouldCloseOnGo:!r,truncateTitle:!1,showCancelButton:!0,goButtonIsPending:a},this.renderRadioButtons()):null}}]),t}(c.a.Component);ke.displayName="PrivateChannelPrompt",ke.defaultProps=je;var Ee=Object(C.b)(function(e,t){var n=t.channelId,r=Object(T.d)(e,n,!1),a=!Object(Oe.B)(e)||!Object(Oe.z)(e)||Object(Y.Y)(r);return{featureSonicChannelInviteModal:Object(b.j)(e,"feature_sonic_channel_invite_modal"),isLimitedInvite:a,channelName:Object(Y.x)(e,r)}},function(e){return{openChannelInviteModal:function(){return e(Ie.apply(void 0,arguments))},submitInviteToChannel:function(){return e(M.J.apply(void 0,arguments))},createChildChannelAndAddMembers:function(){return e(P.createChildChannelAndAddMembers.apply(void 0,arguments))}}})(ke);n.d(t,"b",function(){return Ce}),n.d(t,"a",function(){return Ie});var Ce=Object(d.b)("Start the Sonic Channel Invite flow in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()(n,[]),i=t();if(Object(b.j)(i,"feature_sonic_channel_invite_modal")){var s=Object(T.d)(i,r.channelId);e(Object(Y.xb)(s)?Object(u.e)({element:c.a.createElement(Ee,r)}):Object(u.e)({element:c.a.createElement(me,a()({channel:s},r))}))}else Object(p.a)(r.channelId)});Ce.propTypes={channelId:l.b.string};var Ie=Object(d.b)("Opens the Sonic Channel Invite Modal in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()(n,[]),i=t(),s=Object(T.d)(i,r.channelId);Object(b.j)(i,"feature_sonic_channel_invite_modal")?e(Object(u.e)({element:c.a.createElement(me,a()({channel:s},r))})):Object(p.a)(r.channelId)});Ie.propTypes={channelId:l.b.string}},QWnR:function(e,t,n){"use strict";n.d(t,"f",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return v});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Started loading history for a channel");b.propTypes={channelId:c.b.string.isRequired,loadingOlder:c.b.bool,request:c.b.instanceOf(Promise)};var p=Object(l.b)("Finished loading history for a channel");p.propTypes={channelId:c.b.string.isRequired};var h=Object(l.b)("Cancel history request for a channel");h.propTypes={channelId:c.b.string.isRequired};var m=Object(u.b)((r={},i()(r,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.loadingOlder,a=t.request,o=e[n];return o&&o.loading&&o.request&&o.request.cancel(),s()({},e,i()({},n,{loading:!0,loadingOlder:r,request:a}))}),i()(r,p,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId;return s()({},e,i()({},t,{loading:!1}))}),i()(r,h,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId,n=e[t];return n&&n.loading&&n.request&&n.request.cancel(),s()({},e,i()({},t,{loading:!1}))}),r),{},{persistenceEnabled:!1});m.propTypes=c.b.objectOf(c.b.shape({loading:c.b.bool,loadingOlder:c.b.bool,request:c.b.instanceOf(Promise)})),t.b=m;var f=Object(d.b)(function(e,t){return!!(e&&e.channelLoading&&e.channelLoading[t]&&e.channelLoading[t].loading)}),v=Object(d.b)(function(e,t){return!!(e&&e.channelLoading&&e.channelLoading[t]&&e.channelLoading[t].loading&&e.channelLoading[t].loadingOlder)})},QYR6:function(e,t,n){"use strict";var r=n("oTSI"),a=n("lhZz"),i=n("HO/Y"),o=n("CPJ1"),s=n("Yg2s"),c=n("DtX9"),l=n("Fdc0"),u=n("+epm"),d=n("btvA"),b=n("m1cH"),p=n.n(b),h=n("QbLZ"),m=n.n(h),f=n("iCc5"),v=n.n(f),g=n("V7oC"),_=n.n(g),O=n("FYw3"),y=n.n(O),j=n("tfYw"),k=n.n(j),E=n("mRg0"),C=n.n(E),I=n("hbEN"),w=n("cZF4"),S=n("uXhx"),T=n("ifKl"),R=n("Wy5O"),N=n("ZBlo"),x=n("q/xz"),M=n("yHhI"),P=n("9svP"),A=0,D=100,L=1e3,q=100,F=function(e){function t(e){if(v()(this,t),!e.subscribe||!e.unsubscribe)throw new Error("SubscriptionFetchManager must be passed a `subscribe` and `unsubscribe` function");if(e.maximum&&e.batchMaximum&&e.batchMaximum>e.maximum)throw new Error("SubscriptionFetchManager cannot be configured with a `batchMaximum` larger than `maximum`");var n=y()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,m()({},e,{fetch:function(e,t){return n._manageSubscriptions(e,t)}})));return n._subscribe=e.subscribe,n._unsubscribe=e.unsubscribe,n._interval=e.interval||A,n._maximum=Math.min(e.maximum||L,L),n._batchMaximum=Math.min(e.batchMaximum||q,n._maximum,q),n._subscribedIdsByTeam={},n._subscribedIdsMapByTeam={},n._pendingSubscribedIdsMapByTeam={},n._lastCallTimesByTeam={},n._teamsToRefetch={},n._deferredRefetch=Object(I.a)(n._deferredRefetch,D),Object(x.a)(n),n}return C()(t,e),_()(t,[{key:"markObjectsAsFresh",value:function(e,n){k()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"markObjectsAsFresh",this).call(this,e,n),d.b.isRefetchPaused()||(this._teamsToRefetch[e]=!0,this._deferredRefetch())}},{key:"_deferredRefetch",value:function(){var e=this;Object.keys(this._teamsToRefetch).forEach(function(t){var n=e._getSubscribedIdsMapForTeam(t),r=e._getPendingSubscribedIdsMapForTeam(t),a=Object.keys(e._objectFreshnessTTLs[t]||{}),i=Object(S.a)(a,function(e){return n[e]||r[e]});e._pendingIdsByTeam[t]=Object(w.a)(e._getPendingIdsForTeam(t),i),e._refetchPendingObjects(t)}),this._teamsToRefetch={}}},{key:"_ensureObjectsAreFresh",value:function(e,t){this._isEnabled(e)&&(this._maybeResetState(e),this.markObjectsAsFresh(e,t))}},{key:"_updateAfterRefetch",value:function(e,t){this._pendingIdsByTeam[e]=Object(R.a)(this._getPendingIdsForTeam(e),this._getSubscribedIdsForTeam(e),t)}},{key:"_maybeResetState",value:function(e){var n=Math.max(this._versions[e],1),r=Math.max(this._connectionCounts[e],1);k()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_maybeResetState",this).call(this,e),r===this._connectionCounts[e]&&n===this._versions[e]||(this._subscribedIdsByTeam[e]=[])}},{key:"_getSubscribedIdsForTeam",value:function(e){return this._subscribedIdsByTeam[e]||(this._subscribedIdsByTeam[e]=[]),this._subscribedIdsByTeam[e]}},{key:"_getSubscribedIdsMapForTeam",value:function(e){return this._subscribedIdsMapByTeam[e]||(this._subscribedIdsMapByTeam[e]={}),this._subscribedIdsMapByTeam[e]}},{key:"_getPendingSubscribedIdsMapForTeam",value:function(e){return this._pendingSubscribedIdsMapByTeam[e]||(this._pendingSubscribedIdsMapByTeam[e]={}),this._pendingSubscribedIdsMapByTeam[e]}},{key:"_addIdsAndPartition",value:function(e,t){if(!t||!t.length)return{toSubscribe:[],toUnsubscribe:[],pendingSubscribedIds:this._getSubscribedIdsForTeam(e),pendingSubscribedIdsMap:this._getSubscribedIdsMapForTeam(e)};var n=t.length,r={};t.forEach(function(e){r[e]=!0});for(var a=this._getSubscribedIdsForTeam(e),i=a.length,o=n+i>=this._maximum?this._maximum-this._batchMaximum:this._maximum,s=[].concat(p()(t)),c=m()({},r),l=[],u=this._objectFreshnessTTLs[e]||{},b=Object(d.c)(),h=void 0,f=0;f<i;f++){var v=u[h=a[f]]>b;r[h]?v&&delete r[h]:v&&s.length<o?(s.push(h),c[h]=!0):l.push(h)}return{toSubscribe:Object.keys(r),toUnsubscribe:l,pendingSubscribedIds:s,pendingSubscribedIdsMap:c}}},{key:"_getNextDelay",value:function(e){var t=(this._lastCallTimesByTeam[e]||0)+this._interval,n=Math.max(0,t-Date.now());return n?Promise.delay(Object(P.a)(n,0,.1)):Promise.resolve()}},{key:"_manageSubscriptions",value:function(e,t){var n=this;return Promise.mapSeries(Object(N.a)(t,this._batchMaximum),function(t){var r=n._addIdsAndPartition(e,t),a=r.toSubscribe,i=r.toUnsubscribe,o=r.pendingSubscribedIds,s=r.pendingSubscribedIdsMap,c=Promise.resolve();return i.length&&(Object(M.a)({teamId:e}).debug("SUB-FETCH","Unsubscribing ("+i.length+"): "+i),c=c.then(function(){return Promise.mapSeries(Object(N.a)(i,n._batchMaximum),function(t){return n._getNextDelay(e).then(function(){return n._lastCallTimesByTeam[e]=Date.now(),n._unsubscribe(e,t)}).tap(function(){n.markObjectsAsStale(e,t)}).catch(function(){o.push.apply(o,p()(t)),o.forEach(function(e){s[e]=!0})})})})),a.length&&(Object(M.a)({teamId:e}).debug("SUB-FETCH","Subscribing ("+a.length+"): "+a),c=c.then(function(){return n._getNextDelay(e).then(function(){return n._lastCallTimesByTeam[e]=Date.now(),n._subscribe(e,a)})})),n._pendingSubscribedIdsMapByTeam[e]=s,c.timeout(d.a).catch(T.a).finally(function(){delete n._pendingSubscribedIdsMapByTeam[e],n._subscribedIdsByTeam[e]=o,n._subscribedIdsMapByTeam[e]=s})})}}]),t}(d.b),B=n("Z7Ay");n.d(t,"d",function(){return H}),n.d(t,"b",function(){return K}),n.d(t,"c",function(){return G}),n.d(t,"a",function(){return V}),n.d(t,"e",function(){return z});var U=Object(r.a)(function(){return new F({subscribe:function(e,t){return Object(a.dispatchForTeamId)(e,Object(o.a)({ids:t,andSubscribe:!0}))},unsubscribe:function(e,t){return Object(a.dispatchForTeamId)(e,Object(s.i)({ids:t}))},isEnabled:function(){return!0},maxAge:function(e,t){var n=Object(a.getStateByTeamId)(e);if(!Object(i.j)(n,"feature_stranger_danger"))return 1/0;var r=Object(c.h)(n,t),o=3600;return r?Object(l.sb)(r)?o=1800:!Object(l.lb)(r)&&Object(u.b)(n,t)||(o=600):o=1,Object(P.a)(o,-.2,.2)},metricsName:"members",interval:1e3})}),H=function(e,t){return U().maybeRefetch(e,t)},K=function(e,t){return U().markObjectsAsFresh(e,t)},G=function(e,t){return U().markObjectsAsStale(e,t)},V=function(e,t){return U().isObjectFresh(e,t)},z=function(){return d.b.pauseRefetch()};Object(B.b)("subscriptionFetchManagerMembers",U)},QYyl:function(e,t,n){},QZia:function(e,t,n){"use strict";n.r(t),n.d(t,"getInsertData",function(){return d}),n.d(t,"getMatch",function(){return b}),n.d(t,"getNumResults",function(){return p}),n.d(t,"getResultFrecencyId",function(){return h});var r=n("Fsnq"),a=n("qAkX"),i=n("NFsq"),o=n("kOzZ"),s=n("bHo4"),c=n("TmhL"),l=n("kbLV"),u=/(^|\n|.)?((?:@|\uFF20)([^\n@\uFF20]*))$/i,d=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).highlightWords;if(!e||!e.id)return null;Object(o.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"member"}}});var n=Object(s.a)(e),r=Object(c.a)(e.id,n,t);return{text:n,format:{slackmention:{id:e.id,label:n,mention:r}}}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isUserSolicited,r=t.options,o=void 0===r?{}:r,s=void 0,c=void 0;if(e.replace(u,function(e,t,n,r,a){var u,d;(u=t,d=o.allowed_preceding_symbols,Object(i.a)(d,u)||!Object(l.a)(u))&&((r||"").match(/^\s/)||(s=n,c=a+(t||"").length))}),!s&&n){var d=Object(a.a)(/(^|\s)([^\s\n@\uFF20]+)$/.exec(e));(d=Object(l.a)(d,{trimCJK:!1}))&&(s=d,c=e.length-d.length)}if(!s)return null;return s.split(" ").length-1>4?null:{match:s,index:c}},p=r.a,h=function(e){return e&&e.id}},Qc6J:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("XHGt"),m=n("TSYQ"),f=n.n(m),v=n("clTI"),g=n("D4L/"),_=n("6kok"),O=n("5mKg"),y=n("derf"),j=(n("LRbe"),p.b.object,p.b.bool.isRequired,p.b.string,p.b.number,{team:void 0,className:null,iconSize:void 0}),k=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.shouldRender,n=e.team,r=e.className,a=e.iconSize;return t&&n?b.a.createElement("div",{className:f()("c-channel_team",r)},b.a.createElement(y.b,{id:n.id,className:"c-channel_team__icon",size:a}),b.a.createElement("span",{className:"c-channel_team__name"},Object(O.e)(n))):null}}]),t}(d.Component);k.displayName="ChannelTeam",k.defaultProps=j;t.a=Object(h.b)(function(e,t){var n=t.channel,r=t.channelId,a=n||Object(v.d)(e,r),i=Object(_.ab)(a)?Object(g.i)(e,Object(_.Wb)(e,a)):void 0;return{shouldRender:!!Object(_.ab)(a),team:i}})(k)},QgY0:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("D4L/"),a=n("tjIJ"),i=n("6kok"),o=n("5mKg"),s=n("Qrgz");function c(e,t){return l(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||u(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return!1;var c=Object(a.b)(e,t),l=c.team,u=c.channel;return!l&&n&&(l=Object(r.i)(e,n)),!(!l||!u||Object(o.L)(l)||Object(i.Ib)(u))&&(!Object(i.kb)(u)&&(Object(o.G)(e,l)&&!Object(s.g)(e,u.id)))}function u(e,t){if(!e||!t)return!1;var n=Object(a.b)(e,t),c=n.team,l=n.channel;return!(!c||!l||Object(o.L)(c)||Object(i.Ib)(l))&&(!Object(i.kb)(l)&&(!Object(i.V)(l)&&(Object(o.f)(Object(r.d)(e))===Object(o.f)(c)&&!Object(s.g)(e,l.id))))}},"Qk/F":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("Muja"),s=n("NFsq"),c=n("aK/h"),l=n("XfeM"),u=n("HvGc"),d=n("Smdl"),b=n("kLJo"),p=n("GNdI"),h=n("lhZz"),m=n("wA8W"),f=n("pRVB"),v=n("ZQFR"),g=n("iTOt"),_=Object(l.b)("Sets the secondary view of a workspace to a flex pane",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.routeName,c=n.flexName,l=n.flexParams,_=n.flexOrigin,O=n.flexOriginId,y=n.teamId,j=void 0===y?Object(p.a)():y;if(c&&!Object(s.a)(m.a,c))throw new Error("Cannot switch to invalid flexpane "+c);if(Object(d.a)()&&!r)throw new Error("Switching to a flexpane in sonic requires a routeName to be defined");var k=t(),E=Object(f.j)(k),C=Object(f.e)(k);if(!E||E===c&&Object(o.a)(Object(i.a)(l),C)||e(Object(u.b)({prevFlexName:E,prevFlexParams:C})),Object(d.a)()){e(Object(v.b)({flexOrigin:_,flexOriginId:O}));var I=Object(h.getStoreInstanceByTeamId)(j).getState(),w=Object(g.c)(I);return Object(b.g)(r,a()({},w,l||{},{teamId:j}),{reason:"workspace-store/setSecondaryView",shouldReplaceState:!0}).then(function(e){return e||Promise.reject(new Error("setSecondaryView: navigateToRoute did not navigate"))})}return e(Object(v.g)({flexName:c||void 0,flexParams:Object(i.a)(l),flexOrigin:_,flexOriginId:O})),Promise.resolve()});_.propTypes={routeName:c.b.string,flexName:c.b.string,flexParams:c.b.object,flexOrigin:c.b.string,flexOriginId:c.b.string},t.a=_},QlkZ:function(e,t,n){},QqPV:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("OZf9"),o=n("mM05"),s=n.n(o),c=n("nJKt"),l=n("6tF6"),u=n("Ahgz"),d=n("rqfA");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.featureRichTextLinks,r=t.doImageReplacement,o=new s.a;return Object(i.a)(e.ops,function(e){if(Object(d.a)(e)){var t=n?Object(l.a)({input:e.insert}):c.c.parse(e.insert);if(t.length){var i=0,s=e&&e.attributes;if(n?t.forEach(p):c.b.link(e.insert,{replaceFn:p}),i<e.insert.length&&i>=0){var b=e.insert.slice(i);Object(u.b)(b)||o.insert(b,s)}}else o.insert(e.insert,a()({},e.attributes))}else o.insert(e.insert,a()({},e.attributes));function p(t){var c=t&&t.offset;if(c>i&&(o.insert(e.insert.slice(i,c),s),i=t.index),t){var l=function(e,t){if(t)return e.url;var n=e.getType();return"url"===n?e.getUrl():"email"===n?"mailto: "+e.getEmail():"about:blank"}(t,n),d=n?t.type:t.getType(),b=n?t.text:t.matchedText;if(r&&"url"===d&&Object(u.b)(l)){var p=Object(u.c)(l);o.insert({slackdocimage:p}),i=c-b.length}else o.insert(b,a()({link:l},s)),i=c+b.length}}}),o}},QrSv:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var r=n("iCc5"),a=n.n(r),i=n("FYw3"),o=n.n(i),s=n("mRg0"),c=n.n(s),l=n("lhZz"),u=n("Rjjz"),d=function(e){function t(e){return a()(this,t),o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return Object(l.dispatchForTeamId)(e,Object(u.j)({query:"",limit:10})).then(function(e){return e.suggestions})},3e5))}return c()(t,e),t}(n("6i9J").a),b={};function p(e){return b[e]||(b[e]=new d(e)),b[e]}function h(e){return b[e]&&!b[e].isStaleOrUndefined()}},Qrgz:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return _}),n.d(t,"F",function(){return O}),n.d(t,"q",function(){return y}),n.d(t,"r",function(){return j}),n.d(t,"w",function(){return k}),n.d(t,"v",function(){return E}),n.d(t,"p",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"L",function(){return w}),n.d(t,"o",function(){return S}),n.d(t,"n",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"d",function(){return N}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return M}),n.d(t,"i",function(){return P}),n.d(t,"h",function(){return A}),n.d(t,"s",function(){return D}),n.d(t,"z",function(){return L}),n.d(t,"J",function(){return q}),n.d(t,"I",function(){return F}),n.d(t,"y",function(){return B}),n.d(t,"N",function(){return U}),n.d(t,"C",function(){return H}),n.d(t,"B",function(){return K}),n.d(t,"A",function(){return G}),n.d(t,"E",function(){return V}),n.d(t,"O",function(){return z}),n.d(t,"K",function(){return Y}),n.d(t,"M",function(){return W}),n.d(t,"D",function(){return Q}),n.d(t,"G",function(){return X}),n.d(t,"t",function(){return Z}),n.d(t,"f",function(){return J}),n.d(t,"H",function(){return $}),n.d(t,"x",function(){return ee}),n.d(t,"l",function(){return te}),n.d(t,"u",function(){return ne}),n.d(t,"P",function(){return re}),n.d(t,"m",function(){return ae});var r=n("NFsq"),a=n("1zbP"),i=n("HO/Y"),o=n("g5qt"),s=n("XzsM"),c=n("clTI"),l=n("DtX9"),u=n("D4L/"),d=n("FN36"),b=n("sg/O"),p=n("aLpA"),h=n("6kok"),m=n("Fdc0"),f=n("5mKg"),v={USER_NOT_FOUND:"user_not_found",CHANNEL_NOT_FOUND:"channel_not_found",CANT_LEAVE_GENERAL:"cant_leave_general",CANT_LEAVE_MANDATORY_SHARED_CHANNEL:"cant_leave_mandatory_shared_channel",USER_IS_RESTRICTED:"user_is_restricted",USER_IS_RESTRICTED_LAST_CHANNEL:"user_is_restricted_last_channel",USER_IS_ULTRA_RESTRICTED:"user_is_ultra_restricted",LAST_MEMBER:"last_member"},g=function(e,t){var n=Object(l.b)(e);if(!n)return{ok:!1,reason:v.USER_NOT_FOUND};if(!t)return{ok:!1,reason:v.CHANNEL_NOT_FOUND};var r=Object(c.d)(e,t,!1);if(Object(m.Db)(n)&&!Object(h.eb)(r)&&!Object(h.lb)(r))return{ok:!1,reason:v.USER_IS_ULTRA_RESTRICTED};if(!r||Object(a.d)(r))return{ok:!0};if(Object(a.c)(r))return{ok:!1,reason:v.CHANNEL_NOT_FOUND};if(Object(h.cb)(r))return{ok:!1,reason:v.CANT_LEAVE_GENERAL};if(Object(h.Bb)(r))return{ok:!1,reason:v.CANT_LEAVE_MANDATORY_SHARED_CHANNEL};if(Object(m.xb)(n)){if(Object(h.yb)(r))return{ok:!1,reason:v.USER_IS_RESTRICTED};if(!Object.values(Object(c.b)(e)||{}).some(function(e){return(Object(h.yb)(e)||Object(h.xb)(e))&&Object(h.kb)(e)&&!Object(h.V)(e)&&e.id!==t}))return{ok:!1,reason:v.USER_IS_RESTRICTED_LAST_CHANNEL}}return{ok:!0}},_=function(e,t){return g(e,t).ok};var O=function(e){var t=Object(l.b)(e);return!!t&&(!!Object(m.X)(t)||!Object(d.a)(e,"slackbot_responses_disabled")&&!Object(d.a)(e,"slackbot_responses_only_admins"))};function y(e,t){var n=Object(i.j)(e,"feature_announce_only"),r=Object(c.u)(e,t)&&Object(c.d)(e,t);return!(!t||!r)&&(!(!n&&Object(h.cb)(r)&&!function(e){var t=Object(l.b)(e);return!!t&&Object(b.b)(e,{prefName:"who_can_post_general",user:t})}(e))&&(!Object(h.jb)(e,r)&&(!Object(h.Ab)(e,r)&&!Object(h.Gb)(e,r))))}function j(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);return Object(h.l)(e,n)}var k=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return n&&r?Object(h.yb)(n)||Object(h.xb)(n)?Object(h.V)(n)||!Object(h.kb)(n)||!y(e,t)||Object(m.xb)(r)||Object(m.Db)(r)?{ok:!1,reason:h.j}:{ok:!0}:{ok:!1,reason:h.h}:{ok:!1,reason:h.g}},E=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return n&&r?Object(h.yb)(n)||Object(h.xb)(n)?Object(h.V)(n)||!Object(h.kb)(n)||!y(e,t)||Object(m.xb)(r)||Object(m.Db)(r)||Object(h.Y)(n)&&!Object(m.e)(e)?{ok:!1,reason:h.f}:{ok:!0}:{ok:!1,reason:h.e}:{ok:!1,reason:h.d}},C=function(e,t){var n=Object(c.d)(e,t);return!!n&&(!!Object(i.i)(e)&&(!!y(e,t)&&!((Object(h.yb)(n)||Object(h.xb)(n))&&!Object(h.kb)(n))))},I={INVALID_DM:Symbol("invalid_dm"),INVALID_PARAMS:Symbol("invalid_params"),OWNER_REQUIRED:Symbol("owner_required"),RESTRICTED_USER:Symbol("restricted_user")},w=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return n&&r?Object(h.eb)(n)||Object(h.lb)(n)?{ok:!1,reason:I.INVALID_DM}:Object(m.xb)(r)||Object(m.Db)(r)?{ok:!1,reason:I.RESTRICTED_USER}:Object(m.X)(r)||r.id===Object(h.r)(n)?{ok:!0}:{ok:!1,reason:I.OWNER_REQUIRED}:{ok:!1,reason:I.INVALID_PARAMS}};function S(e,t){if(t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);if(n&&Object(h.pb)(n))return!1}var r=Object(l.b)(e);return Object(b.b)(e,{prefName:"who_can_at_everyone",user:r})}function T(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!(!Object(i.m)(e)||!Object(m.ib)(r))||!Object(h.pb)(n)&&Object(b.b)(e,{prefName:"who_can_at_channel",user:r})}function R(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);if(!t||!n||!Object(h.cb)(n))return!1;if(!Object(i.m)(e))return S(e,n);var r=Object(l.b)(e);return S(e,n)&&!Object(h.Vb)(e,n.id,r.id)}function N(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!!r&&(!(!Object(m.vb)(r)&&!Object(m.ib)(r))||T(e,n)&&!Object(h.Vb)(e,n.id,r.id))}function x(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!Object(m.xb)(r)&&(!!Object(h.yb)(n)&&!Object(h.V)(n))}var M={INVALID_DM:Symbol("invalid_dm"),ARCHIVED_CHANNEL:Symbol("archived_channel"),REQUIRED_CHANNEL:Symbol("required_channel"),RESTRICTED_PUBLIC_CHANNEL:Symbol("restricted_public_channel"),RESTRICTED_PRIVATE_CHANNEL:Symbol("restricted_private_channel")};function P(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);return Object(h.V)(n)?{ok:!1,reason:M.ARCHIVED_CHANNEL}:Object(h.eb)(n)?{ok:!1,reason:M.INVALID_DM}:Object(h.lb)(n)?{ok:!1,reason:M.INVALID_DM}:Object(h.Bb)(n)?{ok:!1,reason:M.REQUIRED_CHANNEL}:Object(h.yb)(n)&&!function(e){var t=Object(l.b)(e);return!Object(m.xb)(t)&&Object(b.b)(e,{prefName:"who_can_kick_channels",user:t})}(e)?{ok:!1,reason:M.RESTRICTED_PUBLIC_CHANNEL}:function(e){var t=Object(l.b)(e);return!Object(m.xb)(t)&&Object(b.b)(e,{prefName:"who_can_kick_groups",user:t})}(e)?{ok:!0}:{ok:!1,reason:M.RESTRICTED_PRIVATE_CHANNEL}}function A(e,t){return P(e,t).ok}function D(e,t,n){if(Object(m.xb)(Object(l.b)(e)))return!1;if(Object(i.j)(e,"feature_announce_only")&&!y(e,t))return!1;var r=Object(c.d)(e,t);return!Object(h.V)(r)&&(!!Object(m.bb)(n)||!(Object(h.eb)(r)||Object(h.lb)(r)))}function L(e){var t=Object(l.b)(e);return!Object(m.xb)(t)&&Object(b.b)(e,{prefName:"who_can_archive_channels",user:t})}function q(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);if(!n||Object(h.eb)(n)||Object(h.Y)(n))return!1;if(Object(h.pb)(n)&&!Object(m.ib)(r))return!1;if(Object(i.j)(e,"feature_announce_only")){var a=Object(u.d)(e);return!((Object(f.v)(a)||Object(f.x)(a))&&!Object(h.cb)(n))&&(!("admin"===Object(d.a)(e,"who_can_manage_channel_posting_prefs")&&!Object(m.X)(r)&&!Object(m.ib)(r))&&y(e,t))}return Object(i.m)(e)&&Object(h.sb)(n)&&F(e)}function F(e){if(!Object(d.a)(e,"who_can_manage_shared_channels"))return!0;if(!Object(i.m)(e))return!1;var t=Object(l.b)(e);return!(!t||Object(m.xb)(t))&&!!Object(d.a)(e,"can_user_manage_shared_channels")}function B(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);return!!n&&(!Object(h.Y)(n)&&U(e,t))}function U(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);if(!n)return!1;if(Object(h.eb)(n))return!1;if(Object(h.lb)(n))return!1;if(Object(h.Bb)(n))return!1;if(!Object(i.j)(e,"feature_esc_disconnect_v2_release_dependent_copy")&&Object(h.Y)(n))return!1;if(Object(h.yb)(n)&&!L(e))return!1;var r=Object(l.b)(e);if(!r)return!1;if(Object(h.xb)(n)&&Object(m.xb)(r))return!1;if(Object(i.m)(e)&&Object(h.rb)(n)){if(!F(e)&&!Object(i.j)(e,"feature_announce_only"))return!1;if(Object(h.pb)(n)&&!Object(m.ib)(r))return!1}return!0}var H=function(e){var t=Object(l.b)(e);return!Object(m.xb)(t)&&Object(b.b)(e,{prefName:"who_can_create_channels",user:t})};function K(e){var t=Object(l.b)(e);return!Object(m.Db)(t)&&Object(b.b)(e,{prefName:"who_can_create_groups",user:t})}var G=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!(!Object(h.yb)(n)||Object(h.cb)(n)||Object(h.pb)(n))&&(Object(h.Y)(n)?Object(m.e)(e):!!Object(m.X)(r)&&!!K(e))},V=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!(!Object(i.j)(e,"feature_esc_disconnect_v2_release_dependent_copy")&&(Object(h.Y)(n)||Object(h.ub)(n)))&&(!(!Object(h.yb)(n)&&!Object(h.xb)(n))&&(!Object(h.Bb)(n)&&!Object(h.pb)(n)&&(Object(h.qb)(n)?Object(m.ib)(r)||Object(m.jb)(r):Object(m.X)(r)||Object(m.vb)(r))))},z=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e),a=Object(u.d)(e);return!!Object(f.B)(a)&&(!!Object(d.a)(e,"allow_retention_override")&&(!(Object(h.yb)(n)&&!Object(m.vb)(r))&&(!Object(m.ob)(r)&&(!Object(h.V)(n)&&(!Object(h.Y)(n)&&!Object(h.ub)(n)&&!(Object(h.yb)(n)&&Object(h.rb)(n)&&!Object(m.jb)(r)))))))},Y=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t);return!!n&&(Object(i.j)(e,"feature_shared_channels_block_large_orgs")?Object(i.m)(e)&&!Object(h.Bb)(n)&&!Object(h.Y)(n)&&!Object(h.ub)(n)&&F(e)&&(!Object(i.j)(e,"feature_default_shared_channels")||!Object(h.pb)(n)):Object(i.m)(e)&&!Object(h.Bb)(n)&&F(e)&&(!Object(i.j)(e,"feature_default_shared_channels")||!Object(h.pb)(n)))},W=function(e){var t=Object(u.d)(e),n=Object(l.b)(e);if(!Object(f.B)(t))return!1;if(Object(f.q)(t))return!Object(i.j)(e,"feature_shared_channels_block_large_orgs");var a=Object(r.a)(p.N,Object(f.f)(t)),o=Object(m.vb)(n)||Object(m.X)(n);return a&&o?0!==Object(d.a)(e,"enable_shared_channels"):1===Object(d.a)(e,"enable_shared_channels")},Q=function(e){var t=Object(l.b)(e);return!!t&&((Object(m.vb)(t)||Object(m.X)(t))&&W(e))},X=function(e,t){var n=Object(c.u)(e,t)&&Object(c.d)(e,t),r=Object(l.b)(e);return!(!n||!r)&&(!!Object(i.j)(e,"feature_channel_exports")&&(!Object(m.ob)(r)&&(Object(m.X)(r)||!Object(h.yb)(n))))},Z=function(e){return Object(h.Y)(e)&&!Object(h.ub)(e)&&!Object(h.cb)(e)},J=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).member,n=t||Object(l.b)(e),r=Object(u.d)(e);return Object(f.q)(r)?Object(m.e)(e,{member:t}):!(!Object(m.X)(n)&&!Object(m.vb)(n))},$=function(e,t){var n=Object(l.b)(e),r=Object(c.u)(e,t)&&Object(c.d)(e,t);return!(!r||!n)&&(!Object(h.V)(r)&&(!Object(m.Db)(n)&&(!(!Object(h.yb)(r)&&!Object(h.xb)(r))&&(Object(m.X)(n)||Object(h.kb)(r)))))},ee=function(e,t){var n=Object(c.d)(e,t),r=Object(l.b)(e);return!(!n||!r)&&(!Object(l.k)(e)&&!Object(h.V)(n)&&y(e,t)&&Object(h.kb)(n)&&!Object(h.Db)(n))},te=function(e,t){var n=Object(u.d)(e),r=Object(l.b)(e);if(!Object(i.j)(e,"feature_shared_channels_block_large_orgs")){if(!Object(f.q)(n)){var a=Object(m.X)(r)||Object(m.vb)(r),c=0===Object(d.a)(e,"enable_shared_channels");return a&&!c&&(Object(f.B)(n)||function(e,t){return!(!t||Object(o.V)())&&"treatment"===Object(s.c)(e,t)}(e,t))}return Object(m.e)(e)}return(!Object(f.q)(n)||!Object(i.j)(e,"feature_shared_channels_block_large_orgs"))&&Object(m.X)(r)},ne=function(e,t){if(!Object(i.j)(e,"feature_sonic_esc_creation"))return!1;var n=Object(c.u)(e,t)&&Object(c.d)(e,t);return(!Object(h.Y)(n)||Object(i.j)(e,"feature_shared_channels_network")||Object(h.ub)(n))&&!Object(h.cb)(n)&&W(e)};function re(e){var t=Object(l.b)(e);return Object(m.X)(t)}function ae(e,t){return!Object(m.xb)(t)&&(!Object(d.a)(e,"emoji_only_admins")||Object(m.X)(t))}},"Qxp+":function(e,t,n){},Qyw2:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("D4L/"),o=n("5mKg"),s=n("cErB"),c=n("hjTk"),l=n("rWF5"),u=n("SZMM"),d=Object(a.b)("Open a URL in an SSB window (if it exists) or a browser tab as a fallback",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).file;if(n&&n.permalink){var r=t(),a=Object(i.d)(r),d=Object(o.i)(a),b=d?Object(s.o)(n.permalink,"origin_team",d):n.permalink;Object(l.v)("3.4.0")?Object(u.e)(b):Object(c.a)(b)}});d.propTypes={file:r.b.object},t.a=d},QzTQ:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("hjTk"),o=n("5mKg"),s=n("XfeM"),c=n("DTT0"),l=n("D4L/"),u=n("HO/Y"),d=n("ifKl"),b=n("XHGt"),p=n("aK/h"),h=n("A8q6"),m=n("OYPW"),f=n("sk9p"),v=n.n(f),g=n("nNoG"),_=n("tt0d");function O(e){var t=e.width,n=e.height,r=e.maxSize,a=t,i=n;return(n>r||t>r)&&(n>t?(a=t*(r/n),i=r):(i=n*(r/t),a=r)),{displayWidth:a,displayHeight:i}}var y=n("QbLZ"),j=n.n(y),k=function(e){return j()({__meta__:{},type:"message",ts:"1524614173.000015",channel:"C12345678",is_channel:!0,is_private:!1,is_group:!1,is_mpim:!1,text:"\xa1Hola Mundo!",user:"W1W832GG1"},e)},E=n("WTjW"),C=n("XLFM"),I=n("WD4z"),w=n("NB3s"),S=n("/3PZ").a,T=n("hCvz"),R=n("KmK8"),N=n("0dpy"),x=n("FK8P"),M=n.n(x),P=(n("hzVQ"),n("sxa1"),p.b.number,p.b.string,p.b.string.isRequired,p.b.number.isRequired,p.b.number.isRequired,p.b.func,{aspectRatio:1,className:void 0,onChange:d.a});function A(e){var t=e.aspectRatio,n=e.className,i=e.imageSrc,o=e.maxSize,s=e.minSize,c=e.onChange,l=Object(r.useState)({aspect:t,height:o}),u=v()(l,2),d=u[0],b=u[1];return a.a.createElement(M.a,{className:n,crop:d,keepSelection:!0,minHeight:s,minWidth:s,onChange:b,onComplete:c,src:i})}A.displayName="ImageCrop",A.defaultProps=P;var D=a.a.memo(A),L=n("TSYQ"),q=n.n(L),F=(p.b.string,p.b.shape({height:p.b.number,x:p.b.number,y:p.b.number}).isRequired,p.b.object.isRequired,p.b.number.isRequired,p.b.number.isRequired,{className:void 0});function B(e){var t=e.className,n=e.crop,r=e.image,i=e.imageDisplaySize,o=e.previewDisplaySize,s=O({width:r.width,height:r.height,maxSize:i}).displayWidth,c=o/(n.width/s),l=c*(n.x/s),u=c*(n.y/s);return a.a.createElement("div",{className:q()(t,"p-image_crop__preview"),style:{backgroundImage:"url("+r.src,backgroundPosition:"-"+l+"px -"+u+"px",backgroundSize:c+"px",height:o,width:o}})}B.displayName="CropPreview",B.defaultProps=F;var U=a.a.memo(B),H=D,K=n("/m+M"),G=n("CPJ1"),V=460,z=36,Y=new g.b("edit_profile"),W=(p.b.string,p.b.object.isRequired,p.b.string.isRequired,p.b.func,p.b.func.isRequired,{currentUserId:void 0,switchPane:d.a});function Q(e){var t=e.currentUserId,n=e.image,i=e.switchPane,o=e.submitSetPhoto,s=e.imageId,c=Object(r.useState)(),l=v()(c,2),u=l[0],d=l[1],b=Object(r.useState)(!1),p=v()(b,2),f=p[0],g=p[1],y=Object(r.useState)(!1),j=v()(y,2),x=j[0],M=j[1],P=Object(m.a)(function(){return k({ts:Object(_.a)(Date.now()),user:t})},[t]);if(!Object(K.a)().featureSonicEditProfile)return null;var A=u?a.a.createElement(U,{className:"p-edit_profile__upload_preview_photo",crop:u,image:n,imageDisplaySize:V,previewDisplaySize:z}):a.a.createElement(S,{size:z});return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.h,null,a.a.createElement(h.a,{onClick:function(){return i("form")}}),a.a.createElement(w.j,{id:"edit_profile__title-bar",title:Y.t("Crop your photo")})),a.a.createElement(w.d,null,a.a.createElement(w.e,{className:"p-edit_profile__centered"},x&&a.a.createElement(I.a,{level:"error",className:"p-edit_profile__error_alert"},Y.t("Sorry! Something went wrong. Please try again.")),a.a.createElement("div",{className:"p-edit_profile__centered_primary p-edit_profile__centered_primary--background"},a.a.createElement(H,{className:"p-edit_profile__cropper",imageSrc:n.src,maxSize:V,minSize:z,onChange:d})),a.a.createElement("div",{className:"p-edit_profile__centered_primary"},a.a.createElement("div",{className:"p-edit_profile__upload_preview"},a.a.createElement("div",{className:"p-edit_profile__upload_preview_label"},Y.t("Preview")),a.a.createElement("div",{className:"p-edit_profile__upload_message"},a.a.createElement(R.a,{compact:A,light:A},a.a.createElement("strong",null,a.a.createElement(E.a,{id:t})),"\xa0\xa0",a.a.createElement(N.a,{msg:P}),a.a.createElement("br",null),a.a.createElement(T.b,{size:"large"}))))))),a.a.createElement(w.f,null,a.a.createElement(w.g,null,a.a.createElement(C.d,{onClick:function(){return i("form")},type:"outline"},Y.t("Cancel")),a.a.createElement(C.b,{onClick:function(){var e=O({width:n.width,height:n.height,maxSize:V}),t=e.displayWidth,r=e.displayHeight,a=Math.max(1,n.height/r),c=Math.max(1,n.width/t),l=u.x*c,d=u.y*a,b=u.width*c;g(!0),M(!1),o({imageId:s,cropX:l,cropY:d,cropSize:b,reason:"edit-profile-set-photo"}).then(function(){return i("form")}).catch(function(){M(!0),g(!1)})},loading:f},Y.t("Save")))))}Q.displayName="EditProfileCropPane",Q.defaultProps=W;var X={submitSetPhoto:function(){return G.k.apply(void 0,arguments)}},Z=Object(b.b)(function(e){return{currentUserId:Object(u.b)(e)}},X)(Q),J=n("YEIV"),$=n.n(J),ee=n("lCmp"),te=n("m8R6"),ne=n("fujP"),re=n("+Xah"),ae=n("Fdc0"),ie=n("DtX9"),oe=n("FN36"),se=n("8bBs"),ce=n("2ILS"),le=n("AfrZ"),ue=n("0f2Y"),de=n("cD5Y"),be=n("O0RF"),pe=n("JvzI"),he=n("aLpA"),me=n("vKOW"),fe=n("Jnq/"),ve=n("NFsq"),ge=n("WVKS");function _e(e){if(!e)return null;var t=e.trim().toLocaleLowerCase();if(Object(ve.a)(he.M,t))return"reserved";if(/^@/.test(e))return"at-symbol";if(/[`~!@#$%^&*+=\\:"<>?|]/.test(e))return"invalid-punctuation";return/^[-_.'\u2018\u2019",(){}[\]\/;]+$/.test(e)?"only-punctuation":Object(ge.a)().test(e)?t.match(/(?:\uD83D\uDCA9)/)?"emoji-poop":"emoji-"+Object(fe.a)(1,4):null}var Oe=new g.b("edit_profile");function ye(e){return{display_name:Object(ae.B)(e),phone:Object(ae.z)(e),real_name:Object(ae.E)(e),skype:Object(ae.H)(e),title:Object(ae.M)(e),tz:Object(ae.K)(e)}}var je=n("Apsv"),ke=n("Vfgr"),Ee=n("cErB");function Ce(e,t){var n=t.isRequired,r=t.maxLength,a=t.type,i=t.validator;if("text"===a||"link"===a){var o=Object(ke.a)(e);return n&&!o?"required":r&&o.length>r?"max-length":"link"!==a||Object(Ee.p)(o)?i?i(e):void 0:"invalid-link"}}var Ie=new g.b("ui_validation");function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.featureSonicEditProfile,r=t.maxLength;if(!n)return null;switch(e){case"required":return Ie.t("Unfortunately, you can\u2019t leave this blank.");case"max-length":return Ie.t("You can\u2019t enter more than {maxLength} characters.",{maxLength:r});case"invalid-link":return Ie.t("This doesn\u2019t seem like a proper link. Sorry!");case"reserved":return Ie.t("That name\u2019s already being used by Slack.");case"at-symbol":return Ie.t("Names can\u2019t start with the @ sign \u2014 that\u2019s how your teammates will mention you in conversation.");case"invalid-punctuation":return Ie.t("Mostly, names can\u2019t contain punctuation. (Apostrophes, spaces, and periods are fine.)");case"only-punctuation":return Ie.t("Names can\u2019t consist solely of punctuation. Please elaborate!");case"emoji-poop":return Ie.t("For reasons of party-pooping, names cannot contain emoji. Try again?");case"emoji-1":return Ie.t("For all manner of complex reasons, names simply cannot contain emoji. Try again?");case"emoji-2":return Ie.t("Using emoji for names makes some sense, but sadly, not enough. Try again?");case"emoji-3":return Ie.t("For technical reasons, emoji are not allowed in names. Try again?");case"emoji-4":return Ie.t("Of course you want a name with an emoji. Sadly, it is not to be. Try letters?");default:return null}}var Se=n("CpTu"),Te=n("plEq"),Re=n("od5y"),Ne=n("RAhH"),xe=n("nlS/"),Me=n("20gP"),Pe=n("dI1W"),Ae=n("BOlt"),De=n("TegG"),Le=new g.b("edit_profile"),qe=10,Fe=(p.b.string,p.b.string,p.b.shape({disabledTooltipLabel:p.b.string,hint:p.b.string,isDisabled:p.b.bool,isRequired:p.b.bool,isScim:p.b.bool,label:p.b.node.isRequired,maxLength:p.b.number,name:p.b.string.isRequired,options:p.b.arrayOf(p.b.object),placeholder:p.b.string,rules:p.b.string,type:p.b.string.isRequired}).isRequired,p.b.func,p.b.string,p.b.string,{errorText:void 0,errorAltText:void 0,onChange:d.a,value:void 0,valueAlt:void 0});function Be(e){var t=e.errorText,n=e.errorAltText,r=e.field,i=e.onChange,o=e.value,s=e.valueAlt;if(!Object(K.a)().featureSonicEditProfile)return null;var c=r.name+"-label",l=r.name+"-input",u=void 0;if(u=r.isScim?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne.c,{tip:Le.t("This field is automatically synced by your organization.")},a.a.createElement(Re.b,{type:"lock"})),a.a.createElement("strong",null,r.label)):r.isDisabled?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne.c,{tip:r.disabledTooltipLabel},a.a.createElement(Re.b,{type:"lock"})),a.a.createElement("strong",null,r.label)):r.isRequired?a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,r.label)," (",Le.t("required"),")"):r.label,"text"===r.type)return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.a,{htmlFor:l,id:c,text:u},a.a.createElement(Te.a,{ariaDescribedby:c,className:q()({margin_bottom_0:r.hint}),counterMinimumCharacters:r.maxLength-qe,errorText:t,id:l,isDisabled:r.isScim||r.isDisabled,isRequired:r.isRequired,maxCharacterLimit:r.maxLength,name:r.name,onChange:function(e){return i(r,e)},placeholder:r.placeholder||r.label,size:"large",useInlineAlert:!0,value:o}),r.hint&&a.a.createElement(Pe.a,{className:q()({margin_bottom_50:r.rules})},r.hint)),r.rules&&a.a.createElement("div",{className:"p-edit_profile__rules"},a.a.createElement("strong",null,Le.t("Custom rules for this workspace:")),a.a.createElement("br",null),r.rules));if("options_list"===r.type)return a.a.createElement(be.a,{htmlFor:l,id:c,text:u},a.a.createElement(xe.e,{isDisabled:r.isScim,isRequired:r.isRequired,onOptionSelected:function(e){return i(r,e.value)},options:r.options,selectedOption:Object(Se.a)(r.options,{value:o}),selectId:l,size:"large",width:"100%"}),a.a.createElement(Pe.a,null,r.hint));if("link"===r.type){var d=r.name+"-label-2",b=r.name+"-input-2";return a.a.createElement("div",{className:"p-edit_profile__columns"},a.a.createElement("div",{className:"p-edit_profile__column_primary"},a.a.createElement(be.a,{htmlFor:l,id:c,text:u},a.a.createElement(Te.a,{ariaDescribedby:c,counterMinimumCharacters:r.maxLength-qe,errorText:t,hintText:r.hint,id:l,isDisabled:r.isScim,isRequired:r.isRequired,maxCharacterLimit:r.maxLength,name:r.name,onChange:function(e){return i(r,e,s)},placeholder:"https://",size:"large",useInlineAlert:!0,value:o}))),a.a.createElement("div",{className:"p-edit_profile__column_secondary"},a.a.createElement(be.a,{htmlFor:b,id:d,text:Le.t("Display text")},a.a.createElement(Te.a,{ariaDescribedby:d,counterMinimumCharacters:r.maxLength-qe,errorText:n,hintText:Le.t("Optional"),id:b,isDisabled:r.isScim,maxCharacterLimit:r.maxLength,name:r.name+"_alt",onChange:function(e){return i(r,o,e)},placeholder:Le.t("My link"),size:"large",useInlineAlert:!0,value:s}))))}if("date"===r.type)return a.a.createElement(be.a,{htmlFor:l,id:c,text:u},a.a.createElement(Ae.a,{"aria-labelledby":c,className:"p-edit_profile__date_button",isDisabled:r.isScim,onDateChange:function(e){return i(r,e)},selectedDate:o,size:"large",type:"outline"}),a.a.createElement(Pe.a,null,r.hint));if("user"===r.type){var p=o&&o.split(",").map(function(e){return{label:e,value:e}});return a.a.createElement(be.a,{htmlFor:l,id:c,text:u},a.a.createElement(Me.b,{isRequired:r.isRequired,isDisabled:r.isScim,onSelectedItemsChange:function(e){var t=e.map(function(e){return e.value});i(r,t.join(","))},placeholderText:Le.t("Search by name"),renderOption:function(e,t){return a.a.createElement(De.a,{id:e.value,isSelected:t.isActive})},searcherOptions:{allowEmptyQuery:!0,entities:{channels:!1,members:!0,userGroups:!1}},selectedOptions:p,selectId:l,size:"large",width:"100%"}),a.a.createElement(Pe.a,null,r.hint))}return null}Be.defaultProps=Fe;var Ue=a.a.memo(Be),He=n("xoiQ"),Ke=n("Jn9h"),Ge=(p.b.string,p.b.object.isRequired,{className:void 0});function Ve(e){var t=e.className,n=e.member;if(!Object(K.a)().featureSonicEditProfile)return null;var r=Object(He.a)({avatarHash:Object(ae.q)(n),memberId:n.id,size:192,teamId:Object(ae.J)(n)}),i=r.imageUrl,o=r.imageUrl2x,s=a.a.createElement(S,{className:"p-edit_profile__photo"});return a.a.createElement(Ke.a,{"aria-hidden":"true",className:q()(t,"p-edit_profile__photo"),renderError:function(){return s},renderPending:function(){return s},src:i,srcSet:i+", "+o+" 2x"})}Ve.displayName="EditProfilePhoto",Ve.defaultProps=Ge;var ze=a.a.memo(Ve),Ye=n("jo6Y"),We=n.n(Ye),Qe=(p.b.node.isRequired,p.b.func,{switchPane:d.a});function Xe(e){var t=e.children,n=e.switchPane,i=We()(e,["children","switchPane"]),o=Object(r.useRef)();return a.a.createElement(C.d,j()({},i,{onClick:function(){return o.current.click()}}),t,a.a.createElement("input",{accept:"image/*;capture=camera","aria-hidden":"true",className:"hidden",onChange:function(e){return n("upload",{file:e.target.files[0]})},ref:o,tabIndex:"-1",type:"file"}))}Xe.displayName="EditProfileUploadButton",Xe.defaultProps=Qe;var Ze=Xe,Je=new g.b("edit_profile"),$e=(p.b.func,p.b.object,p.b.func,p.b.func,p.b.object,p.b.func,p.b.string,{fetchTeamProfile:function(){return Promise.resolve()},member:void 0,setUserPrefByApi:function(){return Promise.resolve()},switchPane:d.a,team:void 0,updateCurrentMemberProfile:function(){return Promise.resolve()},customDisplayNamePolicy:void 0});function et(e){var t=e.fetchTeamProfile,n=e.member,i=e.setUserPrefByApi,s=e.switchPane,c=e.team,l=e.updateCurrentMemberProfile,u=e.customDisplayNamePolicy,d=Object(r.useState)(!0),b=v()(d,2),p=b[0],h=b[1];Object(r.useEffect)(function(){t({reason:"EditProfileFormPane"}).finally(function(){return h(!1)})},[t]);var m=Object(r.useState)(!1),f=v()(m,2),_=f[0],O=f[1],y=Object(r.useState)({}),k=v()(y,2),E=k[0],C=k[1],I=Object(r.useState)({}),S=v()(I,2),T=S[0],R=S[1],N=function(e){var t=e.customDisplayNamePolicy,n=e.team,r=Object(pe.a)(),a=Object(me.a)(r),i=Object(o.D)(n)&&Object(o.E)(n);return[{label:Oe.t("Full name"),name:"real_name",placeholder:Oe.t("Full name"),isRequired:!0,type:"text",maxLength:he.u.FULL_NAME,validator:_e},{hint:Oe.t("This could be your first name, or a nickname \u2014 however you\u2019d like people to refer to you in Slack."),label:Oe.t("Display name"),name:"display_name",type:"text",isDisabled:i,disabledTooltipLabel:i?Oe.t("Display names are automatically set by your organization."):void 0,rules:i?void 0:t,maxLength:he.u.DISPLAY_NAME,validator:_e},{hint:Oe.t("Let people know what you do at {teamName}.",{teamName:Object(g.n)(Object(o.e)(n))}),label:Oe.t("What I do"),name:"title",type:"text",maxLength:he.u.TITLE},{hint:Oe.t("Enter a phone number."),label:Oe.t("Phone number"),name:"phone",placeholder:Oe.t("(123) 555-5555"),type:"text",maxLength:he.u.PHONE_NUMBER},{hint:Oe.t("Your current time zone. Used to send summary and notification emails, for times in your activity feeds, and for reminders."),label:Oe.t("Time zone"),name:"tz",options:a.map(function(e){var t=v()(e,2);return{label:t[0],value:t[1]}}),type:"options_list"}]}({customDisplayNamePolicy:u,team:c}),x=Object(r.useMemo)(function(){return Object(je.a)(c)},[c]),M=Object(r.useCallback)(function(e,t,n){e.isCustom?C(function(r){return j()({},r,{fields:j()({},r.fields,$()({},e.name,{alt:n,value:t}))})}):C(function(n){return j()({},n,$()({},e.name,t))}),R(function(r){var a;return j()({},r,(a={},$()(a,e.name,Ce(t,e)),$()(a,e.name+"_alt",Ce(n,{maxLength:e.maxLength})),a))})},[]),P=Object(K.a)().featureSonicEditProfile;if(!P)return null;function A(e){var t=function(e){if(e in E)return{value:E[e]};if(E.fields&&e in E.fields)return{value:E.fields[e].value,alt:E.fields[e].alt};var t=ye(n);if(e in t)return{value:t[e]};var r=Object(ae.D)(n);return r&&e in r?{value:r[e].value,alt:r[e].alt}:{}}(e.name),r=t.alt,i=t.value,o=we(T[e.name],{featureSonicEditProfile:P,maxLength:e.maxLength}),s=we(T[e.name+"_alt"],{featureSonicEditProfile:P,maxLength:e.maxLength});return a.a.createElement(Ue,{errorText:o,errorAltText:s,field:e,key:e.name,onChange:M,value:i,valueAlt:r})}return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.h,null,a.a.createElement(w.j,{id:"edit_profile__title-bar",title:a.a.createElement("div",{className:"p-edit_profile__title"},Je.t("Edit your profile"),p&&a.a.createElement(de.a,{className:"p-edit_profile__title_progress",size:"medium"}))})),a.a.createElement(w.d,null,a.a.createElement(w.e,null,a.a.createElement("div",{className:"p-edit_profile__columns"},a.a.createElement("div",{className:"p-edit_profile__column_primary"},N.map(A)),a.a.createElement("div",{className:"p-edit_profile__column_secondary"},a.a.createElement(be.a,{text:Je.t("Profile photo")},a.a.createElement(ze,{member:n})),a.a.createElement(Ze,{className:"p-edit_profile__column_secondary_control",switchPane:s,type:"outline"},Je.t("Upload an Image")),Object(ae.S)(n)&&a.a.createElement(ue.a,{className:"p-edit_profile__column_secondary_control",onClick:function(){return s("remove")}},Je.t("Remove photo")))),x.map(A))),a.a.createElement(w.f,null,Object(ae.X)(n)&&a.a.createElement(ue.a,{href:Object(o.o)(c,"/customize/profile")},Je.t("Add, edit or reorder fields")),a.a.createElement(w.g,null,a.a.createElement(w.c,{type:"outline"},Je.t("Cancel")),a.a.createElement(w.c,{disabled:Object(ee.a)(T,re.a),loading:_,onClick:function(e){if(Object(ne.a)(E))e();else{O(!0);var t=[];E.tz&&t.push(i({pref:"tz",value:E.tz}));var r=Object(te.a)(ye(n),"tz"),a=Object(ae.D)(n),o=j()({},r,Object(te.a)(E,"tz"),{fields:j()({},a,E.fields)});t.push(l({profile:o})),Promise.all(t).then(function(){return e()}).finally(function(){return O(!1)})}}},Je.t("Save Changes")))))}et.displayName="EditProfileFormPane",et.defaultProps=$e;var tt={fetchTeamProfile:function(){return ce.f.apply(void 0,arguments)},updateCurrentMemberProfile:function(){return se.a.apply(void 0,arguments)},setUserPrefByApi:function(){return le.f.apply(void 0,arguments)}},nt=Object(b.b)(function(e){return{member:Object(ie.b)(e),team:Object(l.d)(e),customDisplayNamePolicy:Object(oe.a)(e,"username_policy")}},tt)(et),rt=new g.b("edit_profile"),at=(p.b.object,p.b.func,p.b.func.isRequired,{member:void 0,switchPane:d.a});function it(e){var t=e.member,n=e.switchPane,i=e.submitDeletePhoto,o=Object(K.a)().featureSonicEditProfile,s=Object(r.useState)(!1),c=v()(s,2),l=c[0],u=c[1],d=Object(r.useState)(!1),b=v()(d,2),p=b[0],m=b[1];if(!o)return null;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.h,null,a.a.createElement(h.a,{onClick:function(){return n("form")}}),a.a.createElement(w.j,{id:"edit_profile__title-bar",title:rt.t("Remove profile photo")})),a.a.createElement(w.d,null,a.a.createElement(w.e,{className:"p-edit_profile__centered"},p&&a.a.createElement(I.a,{level:"error",className:"p-edit_profile__error_alert"},rt.t("Sorry! Something went wrong. Please try again.")),a.a.createElement("div",{className:"p-edit_profile__centered_content p-edit_profile__centered_content--wide"},a.a.createElement(ze,{className:"p-edit_profile__centered_title",member:t}),rt.t("Are you sure you want to remove your photo? We\u2019ll replace it with a default Slack avatar.")))),a.a.createElement(w.f,null,a.a.createElement(w.g,null,a.a.createElement(C.d,{onClick:function(){return n("form")},type:"outline"},rt.t("Cancel")),a.a.createElement(C.b,{onClick:function(){u(!0),m(!1),i({reason:"edit_profile_delete_photo"}).then(function(){return n("form")}).catch(function(){return m(!0)}).finally(function(){return u(!1)})},loading:l,type:"danger"},rt.t("Yes, Remove Photo")))))}it.displayName="EditProfileRemovePane",it.defaultProps=at;var ot={submitDeletePhoto:function(){return G.i.apply(void 0,arguments)}},st=Object(b.b)(function(e){return{member:Object(ie.b)(e)}},ot)(it),ct=n("qkTT");function lt(e){return new Promise(function(t,n){if(e){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(){return n(new Error("image failed to load"))},r.src=e}else n(new Error("invalid params"))})}var ut=["image/gif","image/png","image/jpeg"],dt=36,bt=4e3,pt=new Error("invalid_min_size"),ht=new Error("invalid_max_size"),mt=new Error("invalid_type"),ft=new Error("api_error");function vt(e){var t=e.file,n=e.prepareUserPhotoApi,a=Object(r.useState)({status:"uploading",image:null,error:null,imageId:null}),i=v()(a,2),o=i[0],s=i[1];return Object(r.useEffect)(function(){s({status:"uploading"}),function(e){var t=e.file,n=e.prepareUserPhotoApi;return new Promise(function(e,r){Object(ve.a)(ut,t.type)?lt(URL.createObjectURL(t)).then(function(a){a.height<dt||a.width<dt?r(pt):a.height>bt||a.width>bt?r(ht):n({file:t,reason:"EditProfileModal"}).then(function(t){t.ok&&t.url&&t.id?lt(t.url).then(function(n){return e({image:n,imageId:t.id})}).catch(function(){return r(ft)}):r(ft)}).catch(function(){r(ft)})}):r(mt)})}({file:t,prepareUserPhotoApi:n}).then(function(e){var t=e.image,n=e.imageId;s({status:"success",image:t,imageId:n})}).catch(function(e){s(e===pt?{error:"invalid_min_size"}:e===ht?{error:"invalid_max_size"}:e===mt?{error:"invalid_type"}:{error:"unknown"})})},[t,n]),o}var gt=new g.b("edit_profile"),_t=(p.b.object,p.b.func,p.b.func,{file:void 0,switchPane:d.a,prepareUserPhotoApi:function(){return Promise.resolve()}});function Ot(e){var t=e.file,n=e.switchPane,r=vt({file:t,prepareUserPhotoApi:e.prepareUserPhotoApi}),i=r.status,o=r.image,s=r.error,c=r.imageId;if(!Object(K.a)().featureSonicEditProfile)return null;if("success"===i)return n("crop",{image:o,imageId:c}),null;var l=void 0,u=void 0;if("uploading"===i)l=gt.t("Uploading your photo\u2026"),u=a.a.createElement(de.a,{size:"jumbo"});else if(s){var d=void 0,b=void 0;"invalid_min_size"===s?(l=gt.t("Dang"),d=":worried:",b=gt.t("That\u2019s a very nice photo, but it\u2019s a bit too small. Try one that\u2019s larger than {minSize} tall by {minSize} wide.",{minSize:dt.toLocaleString()+"px"})):"invalid_max_size"===s?(l=gt.t("Dang"),d=":worried:",b=gt.t("That\u2019s a very nice photo, but it\u2019s a bit too big. Try one that\u2019s smaller than {maxSize} tall by {maxSize} wide.",{maxSize:bt.toLocaleString()+"px"})):"invalid_type"===s?(l=gt.t("Oh cripes"),d=":flushed:",b=gt.t("Profile photos must be GIFs, JPGs or PNGs.")):(l=gt.t("Eek"),d=":frowning:",b=gt.t("Sorry! Something went wrong. Please try again.")),u=a.a.createElement("div",{className:"p-edit_profile__centered_content"},a.a.createElement(ct.b,{className:"p-edit_profile__centered_title",emojiSize:ct.a.LARGE,forceDisplay:!0,text:d}),a.a.createElement("strong",null,b))}return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.h,null,a.a.createElement(h.a,{onClick:function(){return n("form")}}),a.a.createElement(w.j,{id:"edit_profile__title-bar",title:l})),a.a.createElement(w.d,null,a.a.createElement(w.e,{className:"p-edit_profile__centered"},a.a.createElement("div",{className:"p-edit_profile__centered_primary p-edit_profile__centered_primary--background"},u))),a.a.createElement(w.f,null,a.a.createElement(w.g,null,a.a.createElement(w.c,{type:"outline"},gt.t("Cancel")),s&&a.a.createElement(Ze,{switchPane:n,type:"primary"},gt.t("Try a Different Image")))))}Ot.displayName="EditProfileUploadPane",Ot.defaultProps=_t;var yt={prepareUserPhotoApi:function(){return G.g.apply(void 0,arguments)}},jt=Object(b.b)(null,yt)(Ot),kt=(n("MNBn"),p.b.func,{closeModal:d.a});function Et(e){var t=e.closeModal,n=Object(m.a)(function(){return{crop:{render:function(e){return a.a.createElement(Z,e)}},form:{modalProps:{className:"p-edit_profile--wide"},render:function(e){return a.a.createElement(nt,e)}},remove:{render:function(e){return a.a.createElement(st,e)}},upload:{render:function(e){return a.a.createElement(jt,e)}}}});return a.a.createElement(h.b,{closeModal:t,defaultPane:"form",panes:n})}Et.displayName="EditProfileModal",Et.defaultProps=kt;var Ct={closeModal:function(){return c.a.apply(void 0,arguments)}},It=Object(b.b)(null,Ct)(Et),wt=Object(s.b)("Opens the edit profile modal",function(e,t){var n=t();if(Object(u.j)(n,"feature_sonic_edit_profile"))e(Object(c.e)({element:a.a.createElement(It)}));else{var r=Object(l.d)(n),s=Object(o.o)(r,"/account/profile");Object(i.a)(s)}});wt.propTypes=null;t.a=wt},"R+HZ":function(e,t,n){},R7V9:function(e,t,n){},R88t:function(e,t,n){},RAAT:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("7EGn"),a=n("U/ze"),i=Object(a.b)(function(e,t){return Object(r.a)(e,"externalTeamsChannels."+t+".channels",[])}),o=Object(a.b)(function(e,t){return Object(r.a)(e,"externalTeamsChannels."+t+".counts",null)})},RAhH:function(e,t,n){"use strict";var r=n("hW7Y");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b});n("4Rcn");t.c=r.c},"RB1+":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return p});var r=n("QbLZ"),a=n.n(r),i=n("ifKl"),o=n("tRvn"),s=n("yZHI"),c={},l={setText:i.a,getText:i.a,setBroadcast:i.a,getBroadcast:i.a,focus:i.a};function u(e){var t=e.viewContext,n=e.channelId,r=e.threadTs,i=e.functions;c[t+"-"+n+"-"+r]=a()({},l,i)}function d(e){var t=e.viewContext,n=e.channelId,r=e.threadTs;delete c[t+"-"+n+"-"+r]}function b(e){var t=e.viewContext,n=e.channelId,r=e.threadTs;return c[t+"-"+n+"-"+(r||void 0)]}function p(e){if(!e||!Object(o.a)(e))return null;var t=void 0,n=void 0,r=void 0;return Object(s.a)(e,function(e){return!!e.getAttribute("data-message-input")&&(t=e.getAttribute("data-channel-id"),n=e.getAttribute("data-thread-ts"),r=e.getAttribute("data-view-context"),!0)})?b({viewContext:r,channelId:t,threadTs:n}):null}},RCIA:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("ROZo"),a=Object(r.b)("TS.ui.share_channel_dialog.start",function(){return null}),i=Object(r.b)("TS.ui.share_channel_dialog.showApproveRequestDialog",function(){return null}),o=Object(r.b)("TS.ui.share_channel_dialog.showFindAnAdminDialog",function(){return null})},RDbB:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("XHGt"),o=n("nE62"),s=n.n(o),c=n("9D+4"),l=n("BicV"),u=n("DtX9"),d=n("Fdc0"),b=n("HO/Y"),p=n("FSos"),h=n("jo6Y"),m=n.n(h),f=n("iCc5"),v=n.n(f),g=n("V7oC"),_=n.n(g),O=n("FYw3"),y=n.n(O),j=n("mRg0"),k=n.n(j),E=n("ifKl"),C=n("aK/h"),I=n("kxpR"),w=n.n(I),S=n("MnCE"),T=n("Po2o"),R=n("x4bP"),N=n("yY9y"),x=(C.b.string.isRequired,C.b.oneOfType([C.b.element,C.b.func]),C.b.oneOf(["member","ra","ura","external"]).isRequired,C.b.bool.isRequired,C.b.bool,C.b.bool,C.b.bool,C.b.func,C.b.func,C.b.bool,{children:N.a,isDnd:!1,isSlackbot:!1,enablePresenceSubscriptions:!0,addMemberToPresenceSubscription:E.a,removeMemberFromPresenceSubscription:E.a,featureSonicPresenceManager:!1}),M=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k()(t,e),_()(t,[{key:"componentDidMount",value:function(){if(this.props.enablePresenceSubscriptions){if(this.props.featureSonicPresenceManager||Object(R.a)())return void this.props.addMemberToPresenceSubscription(this.props.memberId);this.presenceList=Object(T.a)([this.props.memberId])}}},{key:"componentDidUpdate",value:function(e){if(e.memberId!==this.props.memberId&&this.props.enablePresenceSubscriptions){if(this.props.featureSonicPresenceManager||Object(R.a)())return this.props.removeMemberFromPresenceSubscription(e.memberId),void this.props.addMemberToPresenceSubscription(this.props.memberId);this.presenceList&&(this.presenceList.clear(),this.presenceList.add(this.props.memberId))}}},{key:"componentWillUnmount",value:function(){if(this.props.enablePresenceSubscriptions){if(this.props.featureSonicPresenceManager||Object(R.a)())return void this.props.removeMemberFromPresenceSubscription(this.props.memberId);this.presenceList&&this.presenceList.destroy()}}},{key:"render",value:function(){var e=this.props,t=e.children,n=m()(e,["children"]);return w.a.createElement(t,n)}}]),t}(w.a.Component);M.displayName="PresenceWithSubscriptions",M.defaultProps=x;var P=Object(S.a)(M),A=function(e,t){var n=Object(b.j)(e,"feature_golden_gate_ui"),r=Object(c.f)(e,t.memberId),i=Object(u.c)(e,t.memberId),o="member";Object(d.lb)(i)?o="external":Object(d.xb)(i)&&!Object(d.Db)(i)?o="ra":Object(d.Db)(i)&&(o="ura");var s=!(n&&Object(d.pb)(i))&&Object(l.d)(e,t.memberId),p=Object(b.b)(e)===t.memberId,h=Object(d.zb)(i);return a()({},t,{userType:o,isDnd:s,isSelf:p,isSlackbot:h,isActive:"active"===r,featureSonicPresenceManager:Object(b.j)(e,"feature_sonic_presence_manager"),featureGoldenGateUi:n})};t.a=Object(i.c)(function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;return function(c,l){if(c.presence===n&&c.members===r&&c.dnd===i&&l===o)return t;o=l,n=c.presence,r=c.members,i=c.dnd;var u=a()({},A(c,l),{addMemberToPresenceSubscription:function(t){return e(Object(p.a)({memberId:t}))},removeMemberFromPresenceSubscription:function(t){return e(Object(p.c)({memberId:t}))}});return s()(t,u)?t:(t=u,u)}})(P)},REvl:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("tn36"),f=n("kxpR"),v=n.n(f),g=n("XHGt"),_=n("aK/h"),O=n("kX2h"),y=n("0Sj2"),j=(_.b.bool,_.b.bool,_.b.func.isRequired,_.b.func.isRequired,_.b.func.isRequired,_.b.func.isRequired,function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(m.a)(n,["setRef"]),n}return h()(t,e),u()(t,[{key:"setRef",value:function(e){this.select=e}},{key:"focus",value:function(){this.select&&this.select.focus()}},{key:"focusSelectInput",value:function(){this.select&&this.select.focusSelectInput()}},{key:"render",value:function(){var e=this.props,t=e.canPost,n=e.includeApps,r=e.conversationOptionsFetcher,i=e.conversationNoAppsOptionsFetcher,s=e.conversationCanPostOptionsFetcher,c=e.conversationCanPostNoAppsOptionsFetcher,l=o()(e,["canPost","includeApps","conversationOptionsFetcher","conversationNoAppsOptionsFetcher","conversationCanPostOptionsFetcher","conversationCanPostNoAppsOptionsFetcher"]),u=void 0;u=n?t?s:r:t?c:i;var d=a()({},l,{innerRef:this.setRef,optionsFetcher:u});return v.a.createElement(O.a,d)}}]),t}(f.Component));j.displayName="ConversationsSelect",j.defaultProps={canPost:!1,includeApps:!0};var k={conversationOptionsFetcher:y.e,conversationNoAppsOptionsFetcher:y.d,conversationCanPostOptionsFetcher:y.c,conversationCanPostNoAppsOptionsFetcher:y.b};t.a=Object(g.b)(null,k,null,{withRef:!0})(j)},RMJC:function(e,t,n){},RMmo:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("HiDb"),c=n("vJtL"),l=n("imBb"),u=n.n(l),d=u.a.prototype.stopCallback;u.a.prototype.stopCallback=function(){return!1};var b=function(e){return d(e,e.target)},p=function(){function e(t){a()(this,e),this.mousetrap=new u.a(t)}return o()(e,[{key:"bindAll",value:function(e){var t=this;e.forEach(function(e){var n=function(e){return[e.ignoreInputs&&b,e.filter].filter(c.a)}(e);e.handler=function e(t,n){var r=n[0];return r?e(function(e,t){return function(){var n=arguments.length<=0?void 0:arguments[0];t(n)||e.apply(void 0,arguments)}}(t,r),n.slice(1)):t}(e.handler,n),t.mousetrap.bind(e.keys,e.handler,e.action)})}},{key:"reset",value:function(){this.mousetrap.destroy()}},{key:"unbindAll",value:function(e){this.mousetrap.unbind(Object(s.a)(e,"keys"))}},{key:"trigger",value:function(e,t){this.mousetrap.trigger(e,t)}}]),e}();t.a=p},RMtf:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var r=n("YEIV"),a=n.n(r),i=n("aK/h"),o=n("Z7Ay"),s=n("EzZj"),c=n("MNvw"),l=Object(s.b)("NOOP");l.propTypes=null;var u=Object(c.b)(a()({},l,function(e){return e+1}),0,{persistenceEnabled:!1});u.propTypes=i.b.number,t.a=u,Object(o.a)("dispatchNoop",function(){slackDebug.activeTeam.redux.dispatch(l())})},"RO/v":function(e,t,n){"use strict";var r=n("fujP"),a=n("OZf9");t.a=function(e,t){if(Object(r.a)(e)||Object(r.a)(t))return e;var n=e.slice(0);return Object(a.a)(t,function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),n.length===e.length?e:n}},RRzp:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h");function o(e){var t=e.children,n=e.separator;if(!t||!n)return t;var r=[];return a.a.Children.forEach(t,function(e){e&&(r[r.length-1]&&r.push(n),r.push(e))}),r}o.propTypes={children:i.b.arrayOf(i.b.node).isRequired,separator:i.b.node.isRequired};t.a=o},RWyn:function(e,t,n){"use strict";n.r(t);var r=n("YsUP"),a=n("XfeM"),i=n("cewN"),o=n("BeG2"),s=Object(a.b)("/slackdebugdegrade",function(e){var t=0,n=Object(i.d)(window.location.search).ws_flakiness;n&&(t=parseFloat(n),(Object(r.a)(t)||t<0||t>1)&&(t=0)),e(Object(o.b)(t)),e(Object(o.g)())});s.propTypes=null,t.default=s},RbWr:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n("UF3u"),p=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(b.a)(e,this.props,2)||!Object(b.a)(t,this.state,2)}}]),t}(d.Component),h=n("b89k");n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h.a})},ReSx:function(e,t,n){},RfGh:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("TSYQ"),f=n.n(m),v=n("yPgC"),g=n("P9LH"),_=n("ubOb"),O=n("a+Im"),y=n("5yEy"),j=(n("3m4Y"),Object(O.b)(y.a)),k=(v.a.File().isRequired,h.b.func,h.b.string,h.b.bool,h.b.node,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.string,h.b.bool,h.b.func,h.b.func,{clogLinkClick:d.a,className:void 0,fullWidth:!1,children:void 0,showActions:!0,includeRootDownloadAction:!0,includeRootStarAction:!1,useRowAction:!1,"data-qa":void 0,hasKeyboardFocusWithin:!1,onFocus:d.a,onBlur:d.a}),E=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogLinkClick=n.clogLinkClick.bind(n),n}return u()(t,e),o()(t,[{key:"clogLinkClick",value:function(e){this.props.clogLinkClick(e,this.props.file)}},{key:"renderInnerContents",value:function(){var e=this.props,t=e.fullWidth,n=e.children,r=f()("c-pillow_file",{"c-pillow_file--full_width":t});return p.a.createElement("div",{className:r},n)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.fullWidth,r=e.includeRootDownloadAction,a=e.includeRootStarAction,i=e.showActions,o=e.useRowAction,s=e["data-qa"],c=e.hasKeyboardFocusWithin,l=e.onBlur,u=e.onFocus,d=f()("c-pillow_file_container",this.props.className,{"c-pillow_file_container--full_width":n,"c-pillow_file_container--focus-within":c}),b=i&&Object(g.N)(t)&&p.a.createElement(j,{file:t,clogLinkClick:this.clogLinkClick,useRowAction:o,includeRootDownloadAction:r,includeRootStarAction:a,"data-qa":"pillow-file_expandable-file-actions"});return p.a.createElement("div",{className:d,"data-qa":s,onFocus:u,onBlur:l},this.renderInnerContents(),b)}}]),t}(b.PureComponent);E.displayName="PillowFile",E.defaultProps=k,t.a=Object(_.a)(E)},RhZ7:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("NuWb"),_=n("3dqR"),O=n("Bekf"),y=n("hOQf"),j=(n("f8qf"),h.b.object.isRequired,h.b.string,h.b.number,h.b.func,{className:void 0,size:36,clogUserClick:d.a}),k=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogUserClick=n.clogUserClick.bind(n),n}return u()(t,e),o()(t,[{key:"clogUserClick",value:function(e){var t=this.props.msg;this.props.clogUserClick({msg:t,payload:e})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.size,r=v()("c-message_kit__avatar",this.props.className),a=Object(O.a)(t);return p.a.createElement(_.b,{className:r,userId:t.user,isAdHocMember:a,botId:t.bot_id,size:n,icons:t.icons,botProfile:t.bot_profile,slackbotFeels:t.slackbot_feels,clogLinkClick:this.clogUserClick,isInteractive:!Object(y.Y)(t),showCard:!0,showTooltip:!0,ariaHidden:"true",tabIndex:"-1"})}}]),t}(b.PureComponent);k.displayName="MessageAvatar",k.defaultProps=j;t.a=Object(m.b)(null,function(e){return{clogUserClick:function(t){return e(Object(g.a)(t))}}})(k)},Rhk5:function(e,t,n){},Rjct:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r).a.createContext(!1);t.a=a},Rjjz:function(e,t,n){"use strict";n.d(t,"c",function(){return be}),n.d(t,"j",function(){return pe}),n.d(t,"o",function(){return he}),n.d(t,"l",function(){return me}),n.d(t,"k",function(){return fe}),n.d(t,"p",function(){return ve}),n.d(t,"m",function(){return ge}),n.d(t,"a",function(){return _e}),n.d(t,"d",function(){return Oe}),n.d(t,"b",function(){return ke}),n.d(t,"e",function(){return Ee}),n.d(t,"f",function(){return Ce}),n.d(t,"g",function(){return Ae}),n.d(t,"h",function(){return De}),n.d(t,"n",function(){return qe}),n.d(t,"i",function(){return Fe});var r=n("sk9p"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("QbLZ"),c=n.n(s),l=n("jo6Y"),u=n.n(l),d=n("HI9p"),b=n("Wy5O"),p=n("Z0Cl"),h=n("zmn3"),m=n("wBxZ"),f=n("GxtX"),v=n("J2yf"),g=n("BeL+"),_=n("m8R6"),O=n("fujP"),y=n("6PbE"),j=n("XIp8"),k=n("aK/h"),E=n("4zXV"),C=n("yHhI"),I=n("oLrU"),w=n("XfeM"),S=n("om+M"),T=n("3MJR"),R=n("Szmb"),N=n("AcCB"),x=n("wmz2"),M=n("5BKc"),P=n("kyuO"),A=n("XZOc"),D=n("OZtQ"),L=n("Rmtr"),q=n("HO/Y"),F=n("uf9I"),B=n("clTI"),U=n("7dvU"),H=n("aW/o"),K=n("uxhc"),G=n("QrSv"),V=n("QQwV"),z=n("6kok"),Y=n("S6VJ"),W=n("zbZx"),Q=n("VjHM"),X=n("AfrZ"),Z=n("HXD8"),J=n("Gxzu"),$=n("jeHR"),ee=n("60Se"),te=n("lfDB"),ne=n("apxm"),re=n("nOXG"),ae=n("kNgr"),ie=n("wfE8"),oe=n("DtX9"),se=n("Fdc0"),ce=n("Z7Ay"),le=n("Zr7G"),ue=n("Y/4G"),de=3,be=Object(S.a)("Fetch search data for a specific module (messages, files, etc.)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.module,a=n.query,i=n.page,o=void 0===i?1:i,s=n.reason,l=n.omitSessionArgs,d=void 0!==l&&l,b=u()(n,["module","query","page","reason","omitSessionArgs"]),p=Object(le.c)({getState:t});Object(Z.g)(r,b&&b.sort||"unknown",o,p);var h={};return d||(h.client_req_id=e(Object(A.f)()),h.search_session_id=e(Object(A.g)())),e(Object(E.a)({method:"search.modules",args:c()({module:r,query:a,page:o},h,{extracts:1,highlight:1,max_extract_len:200,extra_message_data:1,no_user_profile:1},b),reason:s})).timeout(1e4).then(function(e){return Object(Z.h)(r,b&&b.sort||"unknown",o,p),e})});be.propTypes={module:k.b.string.isRequired,query:k.b.string.isRequired,page:k.b.number,reason:k.b.string.isRequired,omitSessionArgs:k.b.bool};var pe=Object(S.a)("Fetch the user's recent search history for use in the blank slate UI.",function(e,t,n){var r=n.query,a=n.limit;return e(Object(E.a)({method:"search.autocomplete",args:{query:r,limit:a}}))});pe.propTypes={query:k.b.string.isRequired,limit:k.b.number.isRequired};var he=Object(S.a)("Precache visibility filters for this user before they kick off a search",function(e,t){var n=t(),r=Object(q.d)(n,"enterprise_api_token"),a=Object(W.d)(n)&&r?{enterprise_token:r}:{};return e(Object(E.a)({method:"search.precache",args:a}))});he.propTypes={};var me=Object(S.a)("Retrieve search autocomplete query suggestions.",function(e,t,n){var r=n.limit,a=n.version,i=n.returnExperts,o=n.batchMin,s=void 0===o?0:o,c=n.batches,l=void 0===c?10:c,u=Object(oe.b)(t());return Object(se.xb)(u)||Object(se.Db)(u)?Promise.resolve({query_suggestion_list:[]}):e(Object(E.a)({method:"search.autocomplete.querySuggestions",args:{limit:r,version:a,return_experts:i?1:0,new_scale:!0,query_batch_min:s,query_batches:l}}))});me.propTypes={limit:k.b.number.isRequired,version:k.b.string.isRequired,returnExperts:k.b.bool.isRequired,batchMin:k.b.number,batches:k.b.number};var fe=Object(S.a)("Retrieve search autocomplete file suggestions.",function(e,t,n){var r=n.limit,a=n.version;return e(Object(E.a)({method:"search.autocomplete.fileSuggestions",args:{limit:r,version:a}}))});fe.propTypes={limit:k.b.number.isRequired,version:k.b.string.isRequired};var ve=Object(S.a)("Save a search query to the user's search query history",function(e,t,n){var r=n.query;return e(Object(E.a)({method:"search.save",args:{terms:r}})).catch(function(e){return Object(C.a)({getState:t}).error(e)}).finally(function(){var e=t(),n=Object(F.b)(e);Object(G.b)(n).flushAll()})});ve.propTypes={query:k.b.string.isRequired};var ge=Object(S.a)("Delete a search query from the user's search query history.",function(e,t,n){var r=n.terms,a=n.searchSessionId,i=n.querySessionId;return e(Object(E.a)({method:"search.delete",args:{terms:r,search_session_id:a,client_request_id:i}})).catch(function(e){return Object(C.a)({getState:t}).error(e)}).finally(function(){var e=t(),n=Object(F.b)(e);Object(G.b)(n).flushAll()})});ge.propTypes={terms:k.b.string.isRequired,searchSessionId:k.b.string.isRequired,querySessionId:k.b.string.isRequired};var _e=Object(w.b)("Fetch page 1 of all search results for a given query and filters",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.fetchSuggestions,i=void 0!==a&&a,o=t();if(""===r.trim())return e(Object(D.A)({id:""})),e(Object(N.m)({moduleType:"messages",error:M.e.NoQuery,loading:!1})),e(Object(N.m)({moduleType:"files",error:M.e.NoQuery,loading:!1})),Object(te.a)(o)&&e(Object(N.m)({moduleType:"channels",error:M.e.NoQuery,loading:!1})),Object(ne.a)(o)&&e(Object(N.m)({moduleType:"people",error:M.e.NoQuery,loading:!1})),Object(re.a)(o)&&e(Object(N.m)({moduleType:"facets.messages",error:M.e.NoQuery,loading:!1})),void(Object(re.a)(o)&&e(Object(N.m)({moduleType:"facets.files",error:M.e.NoQuery,loading:!1})));var s=Object(C.a)({state:o});s.info("IMPROVED_SEARCH","Fetching all search results");var l=Object(I.a)();e(Object(D.A)({id:l})),e(Object(N.e)()),e(Object(N.C)({moduleType:"messages",moduleState:{loading:!0,page:1,error:M.e.None}})),e(Object(N.C)({moduleType:"files",moduleState:{loading:!0,page:1,error:M.e.None}})),Object(te.a)(o)&&(e(Object(N.C)({moduleType:"channels",moduleState:{loading:!0,page:1,error:M.e.None}})),e(Object(N.a)())),Object(ne.a)(o)&&e(Object(N.C)({moduleType:"people",moduleState:{loading:!0,page:1,error:M.e.None}})),Object(re.a)(o)&&i&&e(Object(N.C)({moduleType:"facets.messages",moduleState:{loading:!0,page:1,error:M.e.None}})),Object(re.a)(o)&&i&&e(Object(N.C)({moduleType:"facets.files",moduleState:{loading:!0,page:1,error:M.e.None}})),i&&(e(Object(D.b)()),e(Object(N.r)({moduleType:"suggestions",loading:!0}))),e(be(c()({module:"messages",query:r},we(o),Ie(o)))).then(function(n){if(Ne(t(),l)){Object(C.a)({getState:t}).info("IMPROVED_SEARCH","Message results loaded successfully");var r=t();if(e(Object(D.C)({query:n.query,module:"messages",result:n})),e(Object(D.w)({queryFilter:Me(r,n.filters)})),e(Object(N.r)({moduleType:"messages",loading:!1})),e(Object(U.a)({files:ye(n.items)})),i&&!Object(re.a)(o)){var a=xe(r,n.filter_suggestions);Object(O.a)(a.channelObjects)||e(Object(D.s)({channels:c()({},Object(D.f)(r),a.channelObjects)})),e(Object(D.y)({suggestions:Object(_.a)(a,"channelObjects")})),e(Object(N.r)({moduleType:"suggestions",loading:!1})),e(Object(D.z)({fileSuggestions:Object(_.a)(a,"channelObjects")})),e(Object(N.r)({moduleType:"suggestionsForFiles",loading:!1}))}}}).catch(Promise.TimeoutError,function(){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Message results timed out"),e(Object(N.m)({moduleType:"messages",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Message results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"messages",error:M.e.Unknown,loading:!1}))}),e(be(c()({module:"files",query:r},Se(o),Ie(o)))).then(function(n){Ne(t(),l)&&(Object(C.a)({getState:t}).info("IMPROVED_SEARCH","Files results loaded successfully"),e(Object(D.C)({query:n.query,module:"files",result:n})),e(Object(D.w)({queryFilter:Me(o,n.filters)})),e(Object(N.r)({moduleType:"files",loading:!1})),n&&n.items&&n.items.length&&e(Object(U.a)({files:je(n.items)})))}).catch(Promise.TimeoutError,function(){s.warn("IMPROVED_SEARCH","Files results timed out"),e(Object(N.m)({moduleType:"files",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Files results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"files",error:M.e.Unknown,loading:!1}))}),Object(te.a)(o)&&e(be(c()({module:"channels",query:r},Te(o)))).then(function(n){Ne(t(),l)&&(Object(C.a)({getState:t}).info("IMPROVED_SEARCH","Channels results loaded successfully"),e(Object(D.C)({query:n.query,module:"channels",result:n})),e(Object(N.r)({moduleType:"channels",loading:!1})))}).catch(Promise.TimeoutError,function(){s.warn("IMPROVED_SEARCH","Channels results timed out"),e(Object(N.m)({moduleType:"channels",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Channels results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"channels",error:M.e.Unknown,loading:!1}))}),Object(ne.a)(o)&&e(be(c()({module:"people",query:r},Re(o)))).then(function(n){Ne(t(),l)&&(Object(C.a)({getState:t}).info("IMPROVED_SEARCH","People results loaded successfully"),e(Object(D.C)({query:n.query,module:"people",result:n})),e(Object(N.r)({moduleType:"people",loading:!1})))}).catch(Promise.TimeoutError,function(){s.warn("IMPROVED_SEARCH","People results timed out"),e(Object(N.m)({moduleType:"people",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","People results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"people",error:M.e.Unknown,loading:!1}))}),Object(re.a)(o)&&i&&(e(Object(D.b)()),e(be(c()({module:"facets.messages",query:r},we(o),Ie(o)))).then(function(n){if(Ne(t(),l)){Object(C.a)({getState:t}).info("IMPROVED_SEARCH","Facets module results loaded successfully");var r=xe(t(),n.filter_suggestions);e(Object(D.y)({suggestions:r})),e(Object(N.r)({moduleType:"suggestions",loading:!1}))}}).catch(Promise.TimeoutError,function(){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Facets message results timed out"),e(Object(N.m)({moduleType:"suggestions",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Facets message results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"suggestions",error:M.e.Unknown,loading:!1}))})),Object(re.a)(o)&&i&&e(be(c()({module:"facets.files",query:r},Ie(o),Se(o)))).then(function(n){if(Ne(t(),l)){Object(C.a)({getState:t}).info("IMPROVED_SEARCH","Facets module results loaded successfully");var r=xe(t(),n.filter_suggestions);e(Object(D.z)({fileSuggestions:r})),e(Object(N.r)({moduleType:"suggestionsForFiles",loading:!1}))}}).catch(Promise.TimeoutError,function(){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Facets message results timed out"),e(Object(N.m)({moduleType:"suggestionsForFiles",error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Facets message results threw an error while loading"),s.error(n),e(Object(N.m)({moduleType:"suggestionsForFiles",error:M.e.Unknown,loading:!1}))})});_e.propTypes={query:k.b.string.isRequired};var Oe=Object(w.b)("fetch search results by module",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.module,a=n.page,i=void 0===a?1:a,o=u()(n,["module","page"]),s=t(),l=Object(C.a)({state:s}),d=Object(D.o)(s);e(Object(N.C)({moduleType:r,moduleState:{loading:!0,page:i,error:M.e.None}}));return("messages"===r?e(be(c()({module:r,query:d,page:i},we(s),Ie(s),o))):"channels"===r?Object(te.a)(s)?e(be(c()({module:r,query:d,page:i},Te(s),o))):Promise.reject(new Error("Unable to use channel search")):"people"===r?Object(ne.a)(s)?e(be(c()({module:r,query:d,page:i},Re(s),o))):Promise.reject(new Error("Unable to use people search")):"files"===r&&Object(ae.a)(s)?e(be(c()({module:r,query:d,page:i},Se(s),Ie(s),o))):e(be(c()({module:r,query:d,page:i},Ie(s),o)))).then(function(t){1===i?(e(Object(D.C)({query:t.query,module:r,result:t})),t.filters&&e(Object(D.w)({queryFilter:Me(s,t.filters)}))):e(Object(D.a)({module:r,result:t,page:i})),e(Object(N.r)({moduleType:r,loading:!1})),"files"===r&&t&&t.items&&t.items.length?e(Object(U.a)({files:je(t.items)})):"messages"===r&&e(Object(U.a)({files:ye(t.items)}))}).catch(Promise.TimeoutError,function(){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Search timed out"),e(Object(N.m)({moduleType:r,error:M.e.Timeout,loading:!1}))}).catch(function(n){Object(C.a)({getState:t}).warn("IMPROVED_SEARCH","Error caught while loading"),l.error(n),e(Object(N.m)({moduleType:r,error:M.e.Unknown,loading:!1}))})});function ye(e){var t=[];return e.forEach(function(e){e.messages.forEach(function(e){e.files&&e.files.length&&e.files.forEach(function(e){return t.push(e)})})}),je(t)}function je(e){return e.map(function(e){return Object(_.a)(e,["search_name","search_title","iid","search_preview"])})}Oe.propTypes={module:k.b.string,page:k.b.number};var ke=Object(w.b)("Fetch the list of suggestions from search autocomplete",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query,r=t(),a=new ee.a(n),i=Object(le.c)({state:r}),s=Object($.d)(r)?24:10,c=void 0;if(!Object(G.a)(Object(F.b)(r))&&a.isEmpty()){c||(c=Object(K.d)(r,5,Object(K.a)(r)));var l=Object(K.b)(r,c,"");e(Object(L.j)({suggestions:l})),e(Object(L.h)({isBlankState:!0}));var u=l&&l[0];u&&e(Object(L.i)({selectedIndex:u.is_type_query_history?null:0,setText:!1}))}return Object(Z.c)(i),Object(K.c)(e,r,n,s,Object(K.a)(r)).then(function(n){Object(Z.d)(i);var s=t(),l=Object(J.b)(s),u=Object(V.b)(s,l),b=void 0;if(a.isEmpty()){c||(c=Object(K.d)(r,5,Object(K.a)(r)));var p=void 0;p=Object($.f)(r)?[].concat(o()(c),o()(n.suggestions||[])):[].concat(o()(n.suggestions||[]),o()(c)),b=Object(K.b)(s,p,u)}else b=Object(K.b)(s,n.suggestions,u);e(Object(L.j)({suggestions:b})),a.isEmpty()?e(Object(L.h)({isBlankState:!0})):e(Object(L.h)({isBlankState:!1})),Pe(r,b);var h=b&&b[0];return h&&e(Object(L.i)({selectedIndex:h.is_type_query_history?null:0,setText:!1})),n&&n.promise?n.promise.then(function(n){var a=b;b=Object(K.b)(s,n,u),e(Object(L.j)({suggestions:b})),Pe(r,b);var i=Object(L.c)(t());if(i){var o=a[i],c=Object(d.a)(b,function(e){return e.key===o.key});e(Object(L.i)({selectedIndex:c>-1?c:null,setText:!1}))}}):null})});ke.propTypes={query:k.b.string.isRequired};var Ee=Object(w.b)("Join a channel from an item in Channel Search",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;return e(Object(N.f)({channelId:n,value:"loading"})),e(Object(ie.K)({channelId:n,inBackground:!0})).then(function(){e(Object(N.f)({channelId:n,value:"done"}))}).catch(function(t){throw e(Object(N.f)({channelId:n,value:"error"})),t})});Ee.propTypes={channelId:k.b.string.isRequired};var Ce=Object(w.b)("Join a channel from an item in Channel Search",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;return e(Object(N.g)({channelId:n,value:"loading"})),e(Object(Y.a)({channelId:n})).then(function(){e(Object(N.g)({channelId:n,value:"done"}))}).catch(function(t){throw e(Object(N.g)({channelId:n,value:"error"})),t})});function Ie(e){var t=(Object(D.m)(e)||{}).queryFilterHistory,n=void 0===t?{in:[],from:[]}:t,r=Object(P.k)(e),a={max_filter_suggestions:10,request_context:JSON.stringify({active_cid:Object(H.a)(e),recent_filter_in:n.in,recent_filter_from:n.from}),search_tab_filter:r.click_module_name,search_tab_sort:r.click_module_sort};return Object(W.d)(e)&&(a.enterprise_token=Object(q.d)(e,"enterprise_api_token"),a.team=Object(F.b)(e)),a}function we(e){return{sort:Object(R.c)(e)===M.d.recentMessages?"timestamp":"score",search_exclude_bots:Object(Q.g)(e,M.i),search_only_my_channels:Object(Q.g)(e,M.m)}}function Se(e){var t={search_exclude_bots:Object(Q.g)(e,M.i),search_only_my_channels:Object(Q.g)(e,M.m)};return Object(ae.a)(e)&&(t.sort=Object(x.a)(e)),t}function Te(e){var t=(Object(D.m)(e)||{}).queryFilterHistory,n=void 0===t?{in:[],from:[]}:t,r=Object(R.b)(e),a=Object(T.c)(e),i=Object(T.e)(e),o=void 0;o=a.type===M.a.shared||i.length?"external_shared":a.type;var s=Object(R.f)(e),c=Object(R.a)(e);return{team:Object(F.b)(e),enterprise_token:Object(W.d)(e)&&!s?Object(q.d)(e,"enterprise_api_token"):void 0,channel_type:o,external_shared_team_ids:i.join(","),exclude_my_channels:c?1:0,sort:r,sort_dir:r===M.b.name?"asc":"desc",request_context:JSON.stringify({active_cid:Object(H.a)(e),recent_filter_in:n.in,recent_filter_from:n.from})}}function Re(e){var t=(Object(D.m)(e)||{}).queryFilterHistory,n=void 0===t?{in:[],from:[]}:t,r=Object(R.e)(e),i=Object(T.k)(e),o=Object(T.j)(e),s=Object(T.n)(e),c=Object(T.m)(e),l={};Object.entries(o).forEach(function(e){var t=a()(e,2),n=t[0],r=t[1];l[n]=[],r.forEach(function(e){e.checked&&l[n].push(e.value)})});var u=s.filter(function(e){return e.checked}).map(function(e){return e.value}),d=Object(R.f)(e),b=Object(R.d)(e);return{team:Object(F.b)(e),enterprise_token:Object(W.d)(e)&&!d?Object(q.d)(e,"enterprise_api_token"):void 0,sort:r,sort_dir:r===M.g.name?"asc":"desc",account_type:i.type,tz:u,external_shared_team_ids:c.join(","),custom_fields:JSON.stringify(l),hide_deactivated_users:b?1:0,request_context:JSON.stringify({active_cid:Object(H.a)(e),recent_filter_in:n.in,recent_filter_from:n.from})}}function Ne(e,t){return Object(D.l)(e)===t}function xe(e,t){var n=Object(F.b)(e),r=Object(y.a)(Object(Q.g)(e,"search_exclude_channels")||"",","),a=Object(D.m)(e)||{},i=a.queryFilter,o=a.queryFilterHistory,s=i||{from:[],in:[]},l=s.from,u=s.in,d=Object(re.a)(e)?{from:[],in:[]}:o||{from:[],in:[]},v=d.from,_=d.in,O=Object(B.d)(e,Object(H.a)(e)),j=Object(re.a)(e)?[]:Object(z.G)(O)||O&&O.id,k=Object(re.a)(e)?[]:Object(q.b)(e),E=Object(g.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)([],k),Object(m.a)(Object(h.a)(Object(p.a)(t.from,function(e){return!e.checked&&e.id!==k}),"id"),de)),v),l)),C=Object(b.a)(Object(g.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)([],j||[]),Object(h.a)(Object(m.a)(Object(h.a)(Object(p.a)(t.in,function(e){return!e.checked&&e.id!==j}),function(e){return Object(z.eb)(e.channel)?c()({},e,{id:Object(z.G)(e.channel)}):e}),de),"id")),_),u||[]),Object(h.a)(Object(p.a)(t.in,function(e){return e.checked}),function(e){return Object(z.eb)(e)?Object(z.G)(e.channel):e.id}))),r),I={};return Object(q.m)(e)&&t.in.forEach(function(e){Object(z.eb)(e)||e.channel.teams&&-1===e.channel.teams.indexOf(n)&&(I[e.channel.id]=e.channel)}),{from:E,in:C,channelObjects:I}}function Me(e,t){return{from:t.from||[],in:t.in&&Object.values(t.in)||[],before:t.before||void 0,after:t.after||void 0,fileType:t.file_types&&t.file_types[0]||void 0}}function Pe(e,t){Object(q.j)(e,"feature_tinyspeck")&&Object(ce.a)("autosuggestExplain",t.map(function(e){return e.explain}))}Ce.propTypes={channelId:k.b.string.isRequired};var Ae=Object(w.b)("Mark channel search in-product experience as seen",function(e){e(Object(X.f)({pref:"seen_channel_search",value:!0}))}),De=Object(w.b)("Mark people search in-product experience as seen",function(e){e(Object(X.f)({pref:"seen_people_search",value:!0}))}),Le=Object(S.a)("Opens a feedback dialog",function(e,t,n){var r=n.type,a=n.payload,i=void 0===a?null:a,o={client_token:ue.a.generateAndEnqueue(),type:r};return i&&(o.payload=JSON.stringify(i)),e(Object(E.a)({method:"search.feedback",args:o,reason:"search_feedback_"+r}))});Le.propTypes={type:k.b.string.isRequired,payload:k.b.object};var qe=Object(w.b)("Opens a search feedback dialog",function(e,t,n){var r=n.module,a=t(),i={search_session_id:e(Object(A.g)()),query_session_id:e(Object(A.f)()),query:Object(J.d)(a),module:r};return e(Le({type:"search",payload:i}))});qe.propTypes={module:k.b.string.isRequired};var Fe=Object(w.b)("Opens an omniswitcher feedback dialog",function(e,t,n){var r=n.query,a=t(),i=Object(j.a)(Object(L.d)(a)).map(function(e){return e.channel&&Object(v.a)(e,["channel","msgs"]),e.user&&Object(v.a)(e,["user","prefs"]),e}),o={search_session_id:e(Object(A.g)()),query:r,suggestions:i};return e(Le({type:"omniswitcher",payload:o}))});Fe.propTypes={query:k.b.string.isRequired}},RkHB:function(e,t,n){},Rmtr:function(e,t,n){"use strict";n.d(t,"j",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"f",function(){return _}),n.d(t,"a",function(){return O}),n.d(t,"k",function(){return y}),n.d(t,"i",function(){return k}),n.d(t,"g",function(){return E}),n.d(t,"c",function(){return w}),n.d(t,"e",function(){return S});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=n("Gxzu"),h=n("uxhc"),m=Object(l.b)("Set the list of autocomplete suggestions");m.propTypes={suggestions:c.b.arrayOf(c.b.shape({score:c.b.number,type:c.b.string,featureVector:c.b.string,explain:c.b.object})).isRequired};var f=Object(l.b)("Set if autocompleye has blank state suggestions");f.propTypes={isBlankState:c.b.bool};var v=Object(d.b)(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.suggestions}),g=Object(d.b)(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.isBlankState}),_=Object(l.b)("Open Search Autocomplete popover");_.propTypes={};var O=Object(l.b)("Close Search Autocomplete popover");O.propTypes={};var y=Object(b.b)("Set the first (0th) item in the autocomplete list as an echo of the given query",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).requestQuery,r=t(),a=void 0;a=""!==n&&!0===g(r)||""===n&&!1===g(r)?[]:v(r),e(m({suggestions:Object(h.b)(r,a,n)}))});y.propTypes={requestQuery:c.b.string.isRequired};var j=Object(l.b)("Set the index of the selected autocomplete suggestion");j.propTypes={selectedIndex:c.b.number};var k=Object(b.b)("Set the selected autocomplete item, keeping the display text in sync",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectedIndex,a=n.setText,i=t();if(e(j({selectedIndex:r})),a){var o=(i&&i.searchAutocomplete&&i.searchAutocomplete.suggestions||[])[r];o&&o.is_type_query_completion&&e(Object(p.g)({displayQuery:o.suggestion_replacement}))}});k.propTypes={selectedIndex:c.b.number,setText:c.b.bool};var E=Object(l.b)("Reset search autocomplete redux state");E.propTypes={};var C={suggestions:[],selectedIndex:null,isBlankState:!0,isSearchAutocompleteOpen:!1},I=Object(u.b)((r={},i()(r,E,function(){return C}),i()(r,m,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).suggestions;return s()({},e,{suggestions:t})}),i()(r,f,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isBlankState;return s()({},e,{isBlankState:t})}),i()(r,j,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).selectedIndex;return s()({},e,{selectedIndex:t})}),i()(r,_,function(e){return s()({},e,{isSearchAutocompleteOpen:!0})}),i()(r,O,function(e){return s()({},e,{isSearchAutocompleteOpen:!1})}),r),C,{persistenceEnabled:!0});I.propTypes={suggestions:c.b.arrayOf(c.b.shape({score:c.b.number,type:c.b.string,featureVector:c.b.string})).isRequired,selectedIndex:c.b.number,isSearchAutocompleteOpen:c.b.bool},t.b=I;var w=Object(d.b)(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.selectedIndex}),S=Object(d.b)(function(e){return!!(e&&e.searchAutocomplete&&e.searchAutocomplete.isSearchAutocompleteOpen)})},RoYr:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("BeL+"),a=n("t+Pu");function i(e){var t=[];return e&&e.contents?(e.contents.forEach(function(e){e.attributes&&e.attributes.slackmention&&Object(a.a)(e.attributes.slackmention.id)&&t.push(e.attributes.slackmention.id)}),Object(r.a)(t)):t}},Rrdp:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("MnCE"),s=n("TSYQ"),c=n.n(s),l=n("RAhH"),u=n("nNoG"),d=(n("jCkK"),new u.b("app_token")),b=(r.b.oneOf(["unknown","non-existent"]),r.b.bool,r.b.bool,function(e){var t=c()("c-missing_app",{"c-missing_app--unknown":"unknown"===e.type,"c-missing_app--non_existent":"non-existent"===e.type,"c-missing_app--subtler":e.subtler,"c-missing_app--unknown_inverted":"unknown"===e.type&&e.invert,"c-missing_app--non_existent_inverted":"non-existent"===e.type&&e.invert});return"unknown"===e.type?i.a.createElement(l.c,{tip:d.t("Loading\u2026")},i.a.createElement("span",{className:t})):"non-existent"===e.type?i.a.createElement(l.c,{tip:d.t("Private app info")},i.a.createElement("span",{className:t})):null});b.defaultProps={type:"unknown",subtler:!1,invert:!1};var p=Object(o.a)(b);t.a=p},Rszm:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("TSYQ"),_=n.n(g),O=(n("S612"),m.b.string,m.b.bool,m.b.bool,m.b.bool,{className:null,isRequired:!1,indeterminate:!1,checked:void 0}),y=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=v.a.createRef(),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.indeterminate,n=e.checked;if(t){if(null==n)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");this.updateIndeterminateState(t)}}},{key:"componentDidUpdate",value:function(){this.updateIndeterminateState(this.props.indeterminate)}},{key:"updateIndeterminateState",value:function(e){this.el.current.indeterminate!==e&&(this.el.current.indeterminate=e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isRequired,r=e.indeterminate,i=o()(e,["className","isRequired","indeterminate"]),s=_()("c-input_checkbox",t),c=r?{"aria-checked":"mixed"}:null;return v.a.createElement("input",a()({},i,c,{type:"checkbox",tabIndex:"0",required:n,className:s,ref:this.el}))}}]),t}(f.PureComponent);y.displayName="Checkbox",y.defaultProps=O,t.a=y},S612:function(e,t,n){},S6VJ:function(e,t,n){"use strict";var r=n("aK/h"),a=n("1zbP"),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("fL8H"),_=n("4Twu"),O=n("hUMe").a,y=n("HO/Y"),j=n("DTT0"),k=n("ntJl"),E=n("DtX9"),C=n("uf9I"),I=n("D4L/"),w=n("Fdc0"),S=n("5mKg"),T=n("Qrgz"),R=n("nNoG"),N=new R.b("channels"),x=(r.b.string.isRequired,r.b.string.isRequired,r.b.bool.isRequired,r.b.string.isRequired,r.b.string.isRequired,r.b.string,r.b.func.isRequired,r.b.func.isRequired,r.b.bool.isRequired,function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={reason:null,isPending:!1},n.onRetry=n.onRetry.bind(n),n}return h()(t,e),u()(t,[{key:"componentWillUnmount",value:function(){this._retryPromise&&this._retryPromise.cancel()}},{key:"onRetry",value:function(){var e=this;this.setState(function(){return{isPending:!0}}),this._retryPromise=this.props.leaveConversationApi({channelId:this.props.channelId}).then(function(){return e.props.closeModal()}).catch(function(t){e.setState(function(){return{reason:t&&t.data&&t.data.error||"UNKNOWN",isPending:!1}})})}},{key:"renderDefaultTitleProps",value:function(){var e=this.props,t=e.featureSonicInputs,n=e.channelId,r=e.channelDisplayName;return t?{title:N.rt("Couldn\u2019t leave {channelName}",{channelName:f.a.createElement(_.a,{channelId:n,inline:!0})}),contentLabel:r?N.t("Couldn\u2019t leave {channelName}",{channelName:r}):N.t("Couldn\u2019t leave channel")}:null}},{key:"renderAlert",value:function(e){return f.a.createElement(g.a,o()({truncateTitle:!1},this.renderDefaultTitleProps(),e))}},{key:"renderLastMemberError",value:function(){var e=this.props,t=e.userIsAdmin,n=e.teamDisplayName;if(!e.featureSonicInputs)return null;var r=N.t("To leave this channel, it needs to be unshared"),a=t?f.a.createElement("p",null,N.rt("Since you\u2019re the last person from {teamName}, you\u2019ll need to stop sharing this channel before you can leave it.",{teamName:n})):f.a.createElement(m.Fragment,null,f.a.createElement("p",null,N.rt("Since you\u2019re the last person from {teamName}, you\u2019ll need an admin\u2019s help to leave. It\u2019s just a couple steps:",{teamName:n})),f.a.createElement("ul",null,f.a.createElement("li",null,N.t("Invite an admin to this channel.")),f.a.createElement("li",null,N.t("Ask them to unshare and archive the channel."))));return this.renderAlert({title:r,children:a})}},{key:"renderRequiredChannelTitleProps",value:function(){var e=this.props,t=e.featureSonicInputs,n=e.channelId,r=e.channelDisplayName;if(!t)return null;return{title:N.rt("Membership is required in {channelName}",{channelName:f.a.createElement(_.a,{channelId:n,inline:!0})}),contentLabel:r?N.t("Membership is required in {channelName}",{channelName:r}):N.t("Membership is required in this channel")}}},{key:"renderCantLeaveGeneral",value:function(){return this.props.featureSonicInputs?this.renderAlert(o()({},this.renderRequiredChannelTitleProps(),{children:N.t("Every workspace has one channel that contains all the members of this workspace \u2014 this is that channel for you.")})):null}},{key:"renderCantLeaveMandatorySharedChannel",value:function(){var e=this.props,t=e.orgId;return e.featureSonicInputs?this.renderAlert(o()({},this.renderRequiredChannelTitleProps(),{children:N.rt("Everyone in {orgName} is required to be a member of this channel.",{orgName:f.a.createElement(O,{id:t})})})):null}},{key:"renderUserIsRestrictedError",value:function(){return this.props.featureSonicInputs?this.renderAlert({children:N.t("As a guest you can leave private channels, but you\u2019ll need to ask an admin to remove you from any public channels.")}):null}},{key:"renderLastChannelError",value:function(){return this.props.featureSonicInputs?this.renderAlert({children:N.t("On a guest account, you need to be a member of at least one channel.")}):null}},{key:"renderDefaultError",value:function(){return this.renderAlert({goButtonText:N.t("Retry",{fallbackHash:"9f5cd8a2e8807d73efa02c844bfbca9fe552b283",fallbackHashNs:"downloads"}),onGo:this.onRetry,goButtonIsPending:this.state.isPending,shouldCloseOnGo:!1,showCancelButton:!0,children:N.t("Hmm, something went wrong. Try again?",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"app_management_modal"})})}},{key:"render",value:function(){switch(this.state.reason||this.props.reason){case T.b.LAST_MEMBER:return this.renderLastMemberError();case T.b.CANT_LEAVE_GENERAL:return this.renderCantLeaveGeneral();case T.b.CANT_LEAVE_MANDATORY_SHARED_CHANNEL:return this.renderCantLeaveMandatorySharedChannel();case T.b.USER_IS_RESTRICTED:return this.renderUserIsRestrictedError();case T.b.USER_IS_RESTRICTED_LAST_CHANNEL:case T.b.USER_IS_ULTRA_RESTRICTED:return this.renderLastChannelError();default:return this.renderDefaultError()}}}]),t}(m.PureComponent));x.displayName="LeaveChannelError",x.defaultProps={channelDisplayName:null};var M=Object(v.b)(function(e){var t=Object(E.b)(e),n=Object(I.d)(e);return{userIsAdmin:Object(w.X)(t),teamDisplayName:Object(S.e)(n),orgId:Object(C.c)(e),featureSonicInputs:Object(y.j)(e,"feature_sonic_inputs")}},function(e){return{leaveConversationApi:function(){return e(k.leaveConversationApi.apply(void 0,arguments))},closeModal:function(){return e(j.a.apply(void 0,arguments))}}})(x),P=function(e){return f.a.createElement(M,e)},A=n("ifKl"),D=n("tn36"),L=n("6kok"),q=n("clTI"),F=new R.b("groups"),B=(r.b.string.isRequired,r.b.string,r.b.bool,r.b.func,r.b.func,r.b.func,{channelName:void 0,isExternallyShared:!1,openModal:A.a,leaveConversationApi:A.a,closeModal:A.a}),U=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(D.a)(n,["onGo"]),n.state={isPending:!1},n}return h()(t,e),u()(t,[{key:"onGo",value:function(){var e=this,t=this.props,n=t.channelId,r=t.isExternallyShared;this.setState(function(){return{isPending:!0}}),this.props.leaveConversationApi({channelId:n,closeOptimistically:!r}).then(function(){e.props.closeModal()}).catch(function(t){if(!(t&&t.data&&t.data.error))throw t;e.props.openModal({element:P({channelId:n,reason:t.data.error})})})}},{key:"render",value:function(){var e=this.props,t=e.channelId,n=e.channelName,r=this.state.isPending;return f.a.createElement(g.a,{goButtonText:F.t("Yes, leave the private channel"),onGo:this.onGo,goButtonIsPending:r,shouldCloseOnGo:!1,showCancelButton:!0,title:F.rt("Leave {group}",{group:f.a.createElement(_.a,{channelId:t,inline:!0})}),contentLabel:F.t("Leave {group}",{group:n})},F.rt("<p>If you leave the private channel, you will no longer be able to see any of its messages. To rejoin the private channel, you will have to be re-invited.</p><p>Are you sure you wish to leave?</p>"))}}]),t}(m.PureComponent);U.displayName="LeavePrivateChannel",U.defaultProps=B;var H={openModal:function(){return j.e.apply(void 0,arguments)},closeModal:function(){return j.a.apply(void 0,arguments)},leaveConversationApi:function(){return k.leaveConversationApi.apply(void 0,arguments)}},K=Object(v.b)(function(e,t){var n=t.channelId,r=Object(q.d)(e,n);return{isExternallyShared:Object(L.Cb)(r),channelName:Object(L.x)(e,r)}},H)(U),G=n("XfeM"),V=n("uA1+"),z=n("yHhI"),Y=Object(G.b)("Kick off the intent to leave a channel",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),i=Object(q.d)(r,n,!1),o=Object(z.a)({state:r,label:"LEAVE-CHANNEL"}),s=function(e){return o.error(e),Promise.reject(new Error(e))};if(!Object(a.b)(i))return s("Non-existent channel ID "+n);return Object(L.F)(e,t,i).then(function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.action,i=r.reason;switch(a){case L.c.CONFIRM_LEAVE_AND_ARCHIVE:return Promise.resolve(e(Object(V.a)({channelId:n,andLeave:!0})));case L.c.CLOSE:return e(Object(k.closeChannelApi)({channelId:n}));case L.c.CONFIRM_AND_LEAVE:return Promise.resolve(e(Object(j.e)({element:(t={channelId:n},f.a.createElement(K,t))})));case L.c.LEAVE:return e(Object(k.leaveConversationApi)({channelId:n})).catch(function(t){if(t&&t.data&&t.data.error)return e(Object(j.e)({element:P({channelId:n,reason:t.data.error})}));throw t});case L.c.NONE:return Promise.resolve(e(Object(j.e)({element:P({channelId:n,reason:i})})));default:return s("Failed to leave channel "+n+'. No case for a leave action "'+a+'" is defined.')}})});Y.propTypes={channelId:r.b.string.isRequired};t.a=Y},SOCr:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("ifKl"),o=n("kxpR"),s=n.n(o),c=n("aK/h"),l=n("DTT0"),u=n("XfeM"),d=n("negh"),b=n("kOzZ"),p=n("DtX9"),h=n("Fdc0"),m=n("dCAd"),f=n("1Oc4"),v="APP_CHANNEL_REMOVE_DIALOG",g=Object(u.b)("Removes app from channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,o=n.channelId,c=n.onError,u=void 0===c?i.a:c,g=n.referringEventId,_=n.referringUiContext,O=n.sendEphemeralErrorMessage,y=void 0!==O&&O,j=g,k=_,E=t(),C=Object(p.c)(E,r),I=Object(b.a)({state:E}),w=function(e){var t,n,r=a()({},d.x.action,e);I.track(v,a()({contexts:(n={},a()(n,d.c.ui_context,r),a()(n,d.c.referring_ui_context,k),a()(n,d.c.core,(t={},a()(t,d.d.app_id,Object(h.m)(C)),a()(t,d.d.channel_id,o),t)),n)},d.c.referring_event_id,j)),j=v,k=r},S={appName:Object(h.E)(C),channelId:o,onConfirm:function(){w(d.v.OK),e(Object(m.h)({appUserId:r,channelId:o,sendEphemeralErrorMessage:y})).catch(u)},onCancel:function(){w(d.v.CLOSE)}},T=s.a.createElement(f.a,S);e(Object(l.e)({element:T})),w(d.v.IMPRESSION)});g.propTypes={appUserId:c.b.string,channelId:c.b.string.isRequired,onError:c.b.func,referringEventId:c.b.oneOfType([c.b.string,c.b.number]),referringUiContext:c.b.object,sendEphemeralErrorMessage:c.b.bool},t.a=g},SOS8:function(e,t,n){"use strict";function r(e){return!!(e&&e.attributes&&e.attributes.blockquote)}n.d(t,"a",function(){return r})},SQvH:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.shared_channels_open_beta_modal.showModal",function(){return null})},STSq:function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=n("BeG2"),i=n("St+r"),o=Object(r.b)("/slackdebugdegrade",function(e){e(Object(a.a)()),e(Object(a.b)(1)),e(Object(a.d)()),e(Object(i.z)())});o.propTypes=null,t.default=o},Sdat:function(e,t,n){},ShIb:function(e,t,n){},Sha9:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("aLpA"),l=n("hXpn"),u=n("kd6D"),d=n("9krN"),b=(s.b.string,s.b.oneOf([].concat(a()(c.B))).isRequired,s.b.bool,s.b.bool,s.b.bool,s.b.node,{className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0});function p(e){var t=e.className,n=e.id,r=e.isActive,a=e.isDeactivated,i=e.isDisabled,s=e.secondaryContent,c=void 0;return r?c=i||a?u.c.highlightDim:u.c.highlightDark:(i||a)&&(c=u.c.dim),o.a.createElement(l.a,{className:t,primaryContent:o.a.createElement(d.a,{id:n,isDeactivated:a}),secondaryContent:s,size:"small",style:c})}p.displayName="SmallBroadcastListEntity",p.defaultProps=b,t.a=p},SnYN:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("TSYQ"),d=n.n(u),b=n("hXpn"),p=n("kd6D"),h=n("Iq5H"),m=(n("JfyJ"),l.b.string,l.b.bool,l.b.bool,l.b.bool,l.b.node,{className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0});function f(e){var t=e.className,n=e.isActive,r=e.isDeactivated,i=e.isDisabled,s=e.secondaryContent,l=o()(e,["className","isActive","isDeactivated","isDisabled","secondaryContent"]),u=void 0;return n?u=i||r?p.c.highlightDim:p.c.highlightDark:(i||r)&&(u=p.c.dim),c.a.createElement(b.a,{className:d()("c-small_user_group_list_entity",t),style:u,primaryContent:c.a.createElement(h.a,a()({isDeactivated:r,invert:u===p.c.highlightDark},l)),secondaryContent:s,size:"small"})}f.displayName="SmallUserGroupListEntity",f.defaultProps=m,t.a=f},Sq1r:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XHGt"),s=n("TSYQ"),c=n.n(s),l=n("clTI"),u=n("od5y"),d=n("qYhC"),b=(n("Lid2"),i.b.string.isRequired,i.b.object,i.b.string,i.b.string,i.b.bool,i.b.bool,{channel:void 0,channelId:void 0,className:void 0,bold:!1,disableArchived:!1}),p=function(e){var t=e.type,n=e.className,r=c()(n,{"c-inline_channel_icon":!0,"c-inline_channel_icon--archive":"archive"===t});return a.a.createElement(u.b,{className:r,type:t,size:"inherit"})};p.displayName="InlineChannelIcon",p.defaultProps=b;t.a=Object(o.b)(function(e,t){var n=t.channel,r=t.channelId,a=t.bold,i=t.disableArchived,o=n||Object(l.d)(e,r);return{type:Object(d.a)(o,{filled:!0,bold:a,disableArchived:i})}})(p)},"St+r":function(e,t,n){"use strict";n.d(t,"r",function(){return f}),n.d(t,"q",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"t",function(){return O}),n.d(t,"u",function(){return y}),n.d(t,"w",function(){return j}),n.d(t,"x",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"y",function(){return C}),n.d(t,"z",function(){return I}),n.d(t,"A",function(){return w}),n.d(t,"B",function(){return S}),n.d(t,"v",function(){return T}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return M}),n.d(t,"i",function(){return P}),n.d(t,"j",function(){return A}),n.d(t,"m",function(){return D}),n.d(t,"D",function(){return L}),n.d(t,"n",function(){return q}),n.d(t,"l",function(){return F}),n.d(t,"o",function(){return B}),n.d(t,"p",function(){return U}),n.d(t,"C",function(){return H}),n.d(t,"k",function(){return K}),n.d(t,"f",function(){return G}),n.d(t,"e",function(){return V}),n.d(t,"s",function(){return z});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=n("bbP7"),h=n("XF9D"),m=n("6LT7"),f=function(e){return Object(h.b)(e)},v=function(e){return Object(m.b)(e)},g=Object(l.b)("Connected to socket");g.propTypes=c.b.bool;var _=Object(l.b)("Disconnected from socket");_.propTypes=null;var O=Object(l.b)("Provisionally connected");O.propTypes=c.b.object;var y=Object(l.b)("Provisionally connected timeout");y.propTypes=null;var j=Object(l.b)("Error message received from socket");j.propTypes=c.b.oneOfType([c.b.string,c.b.object]);var k=Object(l.b)("Message received from socket");k.propTypes=c.b.object;var E=Object(l.b)("Synthetic message received from degraded mode handler");E.propTypes=c.b.object;var C=Object(l.b)("Socket Manager state changed");C.propTypes=c.b.string;var I=Object(l.b)("Trouble connecting to socket");I.propTypes=null;var w=Object(l.b)("Socket closed when we did not expect it to");w.propTypes=null;var S=Object(l.b)("Waiting for rate limit");S.propTypes=c.b.number;var T=Object(l.b)("Set the last connected primary region");T.propTypes=c.b.string;var R={troubleConnecting:!1,lastConnectWasFast:!1,currentState:p.a.NEVER_CONNECTED,slowConnectionCount:0,lastConnectedPrimaryRegion:""},N=Object(u.b)((r={},i()(r,g,function(e,t){return s()({},e,{troubleConnecting:!1,lastConnectWasFast:t,slowConnectionCount:t?e.slowConnectionCount:e.slowConnectionCount+1})}),i()(r,_,function(e){return s()({},e,{connected:!1,troubleConnecting:!1})}),i()(r,I,function(e){return s()({},e,{troubleConnecting:!0})}),i()(r,C,function(e,t){return s()({},e,{currentState:t})}),i()(r,T,function(e,t){return s()({},e,{lastConnectedPrimaryRegion:t})}),r),R,{persistenceEnabled:!1});N.propTypes={troubleConnecting:c.b.bool,lastConnectWasFast:c.b.bool,currentState:c.b.string,slowConnectionCount:c.b.number,lastConnectedPrimaryRegion:c.b.string},t.b=N,Object(h.a)(),Object(m.a)();Object(d.b)(function(e){return e&&e.socket&&e.socket.currentState===p.a.NEVER_CONNECTED});var x=Object(d.b)(function(e){return P(e)||D(e)}),M=Object(d.b)(function(e){return!(!e||!e.socket)&&[p.a.SLEEP,p.a.SLEEPING,p.a.ASLEEP].indexOf(e.socket.currentState)>=0}),P=Object(d.b)(function(e){return!(!e||!e.socket||e.socket.currentState!==p.a.CONNECTED)}),A=Object(d.b)(function(e){return!(!e||!e.socket)&&[p.a.CONNECT,p.a.FAST_CONNECTING,p.a.PROV_CONNECT,p.a.PROV_CONNECTING,p.a.PROV_CONNECTED,p.a.PROV_FINALIZE,p.a.PROV_FINALIZING,p.a.CHECKING_FAST_RECONNECT].indexOf(e.socket.currentState)>=0}),D=Object(d.b)(function(e){return!(!e||!e.socket||e.socket.currentState!==p.a.PROV_CONNECTED)}),L=Object(d.b)(function(e){return e&&e.socket&&e.socket.slowConnectionCount>0}),q=Object(d.b)(function(e){return L(e)&&A(e)}),F=Object(d.b)(function(e){return e&&e.socket&&e.socket.troubleConnecting}),B=Object(d.b)(function(e){return!(!e||!e.socket||e.socket.currentState!==p.a.WAIT_FOR_CONNECTIVITY)}),U=Object(d.b)(function(e){return!(!e||!e.socket||e.socket.currentState!==p.a.WAIT_FOR_RATE_LIMIT)}),H=Object(d.b)(function(e){return e&&e.socket&&e.socket.lastConnectWasFast}),K=Object(d.b)(function(e){return e&&e.socket&&1===e.socket.slowConnectionCount&&!e.socket.lastConnectWasFast}),G=Object(d.b)(function(e){return e&&e.socket&&e.socket.slowConnectionCount}),V=Object(d.b)(function(e){return e&&e.socket&&e.socket.lastConnectedPrimaryRegion}),z=Object(b.b)("get a Promise that is resolved when we have an open WebSocket",function(e,t){return f(t())})},Szmb:function(e,t,n){"use strict";n.d(t,"g",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return b}),n.d(t,"f",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return y}),n.d(t,"c",function(){return j});var r=n("TGBA"),a=n("aK/h"),i=n("XfeM"),o=n("U/ze"),s=n("VjHM"),c=n("AfrZ"),l=n("5BKc"),u=Object(i.b)("Channel search: set hide my channels",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).value;e(Object(c.f)({pref:l.k,value:n}))});u.propTypes={value:a.b.bool};var d=Object(o.b)(function(e){return Object(s.g)(e,l.k)}),b=Object(i.b)("Search: set hide other workspaces",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).value;e(Object(c.f)({pref:l.l,value:n}))});b.propTypes={value:a.b.bool};var p=Object(o.b)(function(e){return Object(s.g)(e,l.l)}),h=Object(i.b)("Channel Search: set sort method",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sort;e(Object(c.f)({pref:l.h,value:n}))});h.propTypes={sort:a.b.oneOf(Object(r.a)(l.b)).isRequired};var m=Object(o.b)(function(e){return Object(s.g)(e,l.h)}),f=Object(i.b)("People Search: set sort method",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sort;e(Object(c.f)({pref:l.n,value:n}))});f.propTypes={sort:a.b.oneOf(Object(r.a)(l.g)).isRequired};var v=Object(o.b)(function(e){return Object(s.g)(e,l.n)}),g=Object(i.b)("People search: set hiding deactivated users",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).value;e(Object(c.f)({pref:l.j,value:n}))});g.propTypes={value:a.b.bool};var _=Object(o.b)(function(e){return Object(s.g)(e,l.j)}),O=Object(i.b)("Message/File search: set exclude bots",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).value;e(Object(c.f)({pref:l.i,value:n}))});O.propTypes={value:a.b.bool};var y=Object(i.b)("Message/File search: search only my channels",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).value;e(Object(c.f)({pref:l.m,value:n}))});y.propTypes={value:a.b.bool};var j=Object(o.b)(function(e){var t=Object(s.g)(e,"search_sort");switch(t){case"not_set_new_user":case"not_set":return l.d.relevantMessages;case"timestamp":return l.d.recentMessages;case"score":return l.d.relevantMessages;default:return t||l.d.relevantMessages}})},"T/b3":function(e,t,n){},T59g:function(e,t,n){},"T5R/":function(e,t,n){"use strict";var r=n("Z3Pq"),a=n("TSHB"),i=n("PR8O"),o=n("rWF5"),s=n("cErB"),c=n("g5qt"),l=void 0;t.a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bustCache;if(l&&!(void 0!==e&&e))return l;l={substitutions:{},useSmartDashes:!1,useSmartQuotes:!1};var t=Object(o.p)(),n=Object(i.a)(),u=Object(s.q)(window.location.href);if(n&&!t||!n&&"1"!==u.smart_quotes)return l;if(l.useSmartDashes=!0,l.useSmartQuotes=!0,n){var d=Object(c.nb)();d&&(l.substitutions=Object(a.a)(Object(r.a)(d.substitutions,"replace"),"with"),l.useSmartDashes=d.useSmartDashes,l.useSmartQuotes=d.useSmartQuotes)}return!l.substitutions["--"]&&l.useSmartDashes&&(l.substitutions["--"]="\u2014"),l}},T8HY:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Update the visibility of the Enable Popups Banner");d.propTypes=s.b.bool;var b=Object(l.b)(a()({},d,function(e,t){return o()({},e,{showBanner:t})}),{showBanner:!1},{persistenceEnabled:!0});b.propTypes={showBanner:s.b.bool},t.a=b;var p=Object(u.b)(function(e){return e&&e.enablePopupsBanner&&e.enablePopupsBanner.showBanner})},TAYR:function(e,t,n){},TBaU:function(e,t,n){},TBq9:function(e,t,n){"use strict";for(var r=n("YEIV"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("yIs4"),h=n("mkut"),m=n("pHS2"),f=n("ifKl"),v=n("zmn3"),g=n("kxpR"),_=n.n(g),O=n("XHGt"),y=n("aK/h"),j=n("tn36"),k=n("TSYQ"),E=n.n(k),C=n("e4Fz"),I=n("RMmo"),w=n("HO/Y"),S=n("cD5Y"),T=n("8yfr"),R=n("XMFZ"),N=n("od5y"),x=n("nNoG"),M=(n("F+X0"),new x.b("form_inputs")),P=(y.b.object,y.b.number,y.b.string,y.b.shape({activeRowIndex:y.b.number,filterQuery:y.b.string,isDisabled:y.b.bool,isExpanded:y.b.bool,isInvalid:y.b.bool,isRequired:y.b.bool,selectedOptions:y.b.array}).isRequired,y.b.func.isRequired,y.b.func,y.b.func,y.b.func,y.b.oneOf([T.f.MEDIUM,T.f.LARGE]),y.b.oneOfType([y.b.string,y.b.number]),y.b.bool,y.b.string,y.b.string,y.b.bool,y.b.string,y.b.func,y.b.func,y.b.string,y.b.string,y.b.bool,y.b.string,{inputRef:_.a.createRef(),maxHeight:92,placeholderText:null,onClick:f.a,onBlur:f.a,onKeyDown:f.a,size:T.f.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:f.a,onFilterQueryChange:f.a,ariaLabelledBy:void 0,ariaDescribedBy:void 0,featureAccessibleSelects:!1,ariaLabel:void 0}),A=[],D=32;D<127;D++)A.push(String.fromCharCode(D));var L=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(j.a)(n,["handleBackspaceKey","handleLeftKey","handleRightKey","handleEscapeKey","handleTabKey","handleAsciiCharacterKeys","onClickOrFocus","onBlur","onChange","onWrapperClick","removeToken","setContainerRef","onKeyDown","setInputFocusedState","onTokenContainerFocus","onTokenContainerBlur","makeAvailableTokensMessage","updateAvailableTokensMessage"]);var r=n.makeAvailableTokensMessage(e.selectState.selectedOptions.length);return n.state={focused:!1,inputMode:!1,items:[],activeItemIndex:null,numberOfRows:1,availableTokensMessage:r},e.measurePopoverEventName&&(n.measurePopoverEvent=new Event(e.measurePopoverEventName)),n.tokenContainerRef=_.a.createRef(),n.announcerRef=_.a.createRef(),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.onClickOrFocus()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.selectState.selectedOptions;if(this.updateAvailableTokensMessage(n.length),t.items.length!==n.length){var r=Object(v.a)(this.itemRefs,function(e,t){var n=e.current;return n?{left:n.offsetLeft,right:n.offsetLeft+n.offsetWidth,top:n.offsetTop,index:t}:{}}),a=t.items.length<n.length;this.updateItemsInState(r,a)}}},{key:"componentWillUnmount",value:function(){this.unbindKeyCommands()}},{key:"onClickOrFocus",value:function(){this.setInputFocusedState(),this.bindKeyCommands()}},{key:"onTokenContainerFocus",value:function(){this.setTokenFocusedState(),this.bindKeyCommands()}},{key:"onBlur",value:function(){this.setState(function(){return{focused:!1,inputMode:!1,activeItemIndex:null}}),this.unbindKeyCommands(),this.props.onBlur()}},{key:"onTokenContainerBlur",value:function(){this.setState(function(){return{activeItemIndex:null,focused:!1}}),this.unbindKeyCommands()}},{key:"onChange",value:function(){var e=this.props,t=e.selectState,n=e.setSelectState,r=e.inputRef;this.setState(function(){return{activeItemIndex:null,inputMode:!0}}),t.isExpanded||this.props.onClick();var a=r.current.value,i=void 0;a?(i=!0,this.measurePopoverEvent&&!t.isExpanded&&window.dispatchEvent(this.measurePopoverEvent)):(this.bindKeyCommands(),this.props.onClick(),i=!1),n(function(){return{filterQuery:a,isExpanded:i}}),this.props.onFilterQueryChange(a)}},{key:"onWrapperClick",value:function(){this.state.focused||this.onClickOrFocus()}},{key:"onTokenClick",value:function(e,t){e.preventDefault(),t!==this.state.activeItemIndex&&this.setState(function(){return{activeItemIndex:t}})}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.selectState,r=t.onKeyDown;r(e,{hasActiveRowIndex:Object(p.a)(n.activeRowIndex)})}},{key:"setInputFocusedState",value:function(){this.setState(function(){return{focused:!0,inputMode:!0,activeItemIndex:null}},this.scrollInputIntoViewAndFocus)}},{key:"setContainerRef",value:function(e){this.containerRef=e}},{key:"setTokenFocusedState",value:function(){this.setState(function(){return{focused:!0}})}},{key:"scrollInputIntoViewAndFocus",value:function(){var e=this.props.inputRef.current;e&&(e.focus(),e.scrollIntoView&&e.scrollIntoView({block:"nearest"}))}},{key:"removeToken",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState,a=n.selectedOptions;a=a.filter(function(t,n){return n!==e}),r(function(){return{selectedOptions:a}})}},{key:"handleBackspaceKey",value:function(e){var t=this.props,n=t.selectState,r=t.inputRef,a=this.state.inputMode,i=n.selectedOptions,o=r.current.value,s=i.length;if(!o&&!!s){e.preventDefault();var c=this.state.activeItemIndex;if("number"!=typeof c?this.removeToken(s-1):this.removeToken(c),1===s){var l={activeItemIndex:null};a||(l.inputMode=!0),this.setState(function(){return l})}else c&&c===s-1&&this.setState(function(){return{activeItemIndex:c-1}})}}},{key:"handleLeftKey",value:function(e){var t=this.props,n=t.inputRef,r=t.selectState,a=this.state,i=a.inputMode,o=a.activeItemIndex,s=r.selectedOptions;if(i){if(n.current.value||!s.length)return;e.preventDefault();var c=s.length-1;return this.tokenContainerRef.current.focus(),this.focusOnItem(c),void this.setState(function(){return{inputMode:!1,activeItemIndex:s.length-1}})}e.preventDefault();var l=s.length;if(0!==o&&l){var u=!o&&l?l-1:o-1;this.focusOnItem(u),this.setState(function(){return{activeItemIndex:u}})}}},{key:"handleRightKey",value:function(e){var t=this.state,n=t.inputMode,r=t.activeItemIndex,a=this.props.selectState.selectedOptions;if(!n)if(e.preventDefault(),r!==a.length-1){var i=r+1;this.focusOnItem(i),this.setState(function(){return{activeItemIndex:i}})}else this.setInputFocusedState()}},{key:"handleEscapeKey",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState;n.isExpanded&&(e.stopPropagation(),r(function(){return{isExpanded:!1}}))}},{key:"handleTabKey",value:function(){this.props.setSelectState(function(){return{isExpanded:!1}})}},{key:"handleAsciiCharacterKeys",value:function(){this.setInputFocusedState()}},{key:"focusOnItem",value:function(e){var t=this.itemRefs[e]&&this.itemRefs[e].current;if(t){var n=t.querySelector(".c-multi_select_token__spacer");window.getSelection().collapse(n,0);var r=t.querySelector(".c-token_content__label")||t.querySelector(".c-basic_unified_entity__label"),a=document.createElement("span");a.textContent=r&&r.textContent;var i=this.announcerRef.current;i.innerHTML="",i.appendChild(a);var o=window.getSelection(),s=document.createRange();o.removeAllRanges(),s.selectNodeContents(r),o.addRange(s),t.scrollIntoView(!1)}}},{key:"makeAvailableTokensMessage",value:function(e){return this.props.featureAccessibleSelects&&e?M.t("Press left to review the current selection."):""}},{key:"updateAvailableTokensMessage",value:function(e){var t=this.makeAvailableTokensMessage(e);t!==this.state.availableTokensMessage&&this.setState(function(){return{availableTokensMessage:t}})}},{key:"updateItemsInState",value:function(e,t){var n=this,r={items:e},a=this.props,i=a.inputRef,o=a.selectState,s=a.onSelectedItemsChange,c=a.measurePopoverEventName,l=this.state.focused;if(this.measurePopoverEvent){var u=e.concat({top:i.current.offsetTop}),d=Object(h.a)(Object(m.a)(u,"top")).length;d!==this.state.numberOfRows&&window.dispatchEvent(this.measurePopoverEvent),r.numberOfRows=d}this.setState(function(){return r},function(){s(o.selectedOptions);var e=!!c;!t||!(l&&e)&&e||n.scrollInputIntoViewAndFocus()})}},{key:"bindKeyCommands",value:function(){var e=[{keys:["delete","backspace","del"],handler:this.handleBackspaceKey},{keys:["escape"],handler:this.handleEscapeKey},{keys:["left"],handler:this.handleLeftKey,action:"keyup"},{keys:["right"],handler:this.handleRightKey,action:"keyup"},{keys:["tab","shift+tab"],handler:this.handleTabKey},{keys:A,handler:this.handleAsciiCharacterKeys}];this.keyCommands||(this.keyCommands=new I.a(this.containerRef)),this.keyCommands.bindAll(e)}},{key:"unbindKeyCommands",value:function(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}},{key:"renderSelectedOptions",value:function(){var e=this,t=this.props.selectState.selectedOptions,n=[],r=[];return t.forEach(function(t,a){var i=_.a.createRef();n.push(_.a.createElement("span",{key:t.value,ref:i,onClick:function(t){return e.onTokenClick(t,a)},className:"c-multi_select_token__wrapper","data-qa":"multi_select_token_wrapper",contentEditable:!1},"\xa0",_.a.createElement("span",{className:"c-multi_select_token__spacer"}),e.renderToken(t,a))),r.push(i)}),this.itemRefs=r,n}},{key:"renderToken",value:function(e,t){var n=this,r=t===this.state.activeItemIndex,a=this.props.selectState.isDisabled;return _.a.createElement(R.b,{key:e.value,isDisabled:a,entityId:e.value,label:e.label,size:this.props.size,isSelected:r,renderIcon:function(){return n.renderRemoveIcon(t,r)}})}},{key:"renderRemoveIcon",value:function(e){var t=this;return this.props.selectState.isDisabled?null:_.a.createElement(N.b,{type:"times-medium",className:"c-multi_select_token__remove","data-qa":"token_remove_icon","aria-hidden":"true",onClick:function(){t.removeToken(e)}})}},{key:"renderInput",value:function(){var e=this.props,t=e.placeholderText,n=e.selectState,r=e.selectDataQa,a=e.inputRef,i=e.ariaLabelledBy,o=e.ariaDescribedBy,s=e.ariaLabel,c=n.selectId,l=n.selectedOptions,u=n.isDisabled,d=n.isExpanded,b=n.activeRowIndex,p=0===l.length?t:null,h=E()("c-multi_select_input__input",{"c-multi_select_input__input--initial":0===l.length},{"c-multi_select_input__input--large":this.props.size===T.f.LARGE},{"c-multi_select_input__input--disabled":u}),m=Object(C.e)([o,this.state.availableTokensMessage?Object(C.a)(c,"available-options"):null]);return _.a.createElement("input",{id:c,type:"text",value:n.filterQuery||"",size:n.filterQuery?n.filterQuery.length:1,className:h,placeholder:p,onFocus:this.onClickOrFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,ref:a,role:"combobox",disabled:u,"aria-autocomplete":"list","aria-expanded":d,"aria-owns":Object(C.a)(c,"listbox"),"aria-activedescendant":null!=b?Object(C.a)(c,"option_"+b):null,"aria-labelledby":i,"aria-describedby":m,"data-qa":r?r+"-input":null,"aria-label":s||t})}},{key:"renderLoading",value:function(){var e=this.props,t=e.isLoading,n=e.size;return t?_.a.createElement(S.a,{className:"c-multi_select_input__spinner",color:"blue",size:n===T.f.LARGE?"large":"medium"}):null}},{key:"render",value:function(){var e=this.props,t=e.maxHeight,n=e.width,r=e.selectState,i=e.classPrefix,o=e.isLoading,s=r.isDisabled,c=r.isInvalid,l=r.selectId,u=r.selectedOptions,d=E()("c-multi_select_input",a()({"c-multi_select_input--disabled":s,"c-multi_select_input--focused":this.state.focused&&!s,"c-multi_select_input--large":this.props.size===T.f.LARGE,"c-multi_select_input--invalid":c,"c-multi_select_input--is_loading":o},i+"__multi_select_input",i));return _.a.createElement("div",{className:d,style:{width:n,maxHeight:t},onClick:this.onWrapperClick,ref:this.setContainerRef},_.a.createElement("span",{className:"c-multi_select_input__tokens",role:"combobox",contentEditable:!!u.length||null,suppressContentEditableWarning:!0,"aria-owns":Object(C.a)(l,"listbox"),tabIndex:"-1",ref:this.tokenContainerRef,onFocus:this.onTokenContainerFocus,onBlur:this.onTokenContainerBlur},this.renderSelectedOptions()),this.renderInput(),!s&&this.renderLoading(),_.a.createElement("div",{className:"c-multi_select_input__announcer","aria-live":"assertive",ref:this.announcerRef}),this.state.availableTokensMessage&&_.a.createElement("div",{id:Object(C.a)(l,"available-options"),className:"c-multi-select__hidden-message"},this.state.availableTokensMessage))}}]),t}(g.PureComponent);L.displayName="MultiSelectInput",L.defaultProps=P,t.a=Object(O.b)(function(e){return{featureAccessibleSelects:Object(w.j)(e,"feature_accessible_selects")}})(L)},TMVx:function(e,t,n){},TOh8:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("NZ+B"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("aK/h"),v=n("TSYQ"),g=n.n(v),_=n("ypl0"),O=n("NuWb"),y=n("hOQf"),j=n("L8el"),k=n("y7mK"),E=(n("8j2S"),f.b.object.isRequired,f.b.string,f.b.bool,f.b.oneOf(["light","dense"]),f.b.func,{className:void 0,isInteractive:void 0,theme:"light",clogUserClick:d.a}),C=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogUserClick=n.clogUserClick.bind(n),n}return u()(t,e),o()(t,[{key:"clogUserClick",value:function(e){var t=this.props.msg;this.props.clogUserClick({msg:t,payload:e})}},{key:"render",value:function(){var e=this.props,t=e.isInteractive,n=e.msg,r=e.theme,a=Object(y.Y)(n),i=g()("c-message_kit__sender",this.props.className,{"c-message_kit__sender--dense":"dense"===r}),o=a?Object(j.a)(n):void 0;return h.a.createElement(k.a,{name:n.name,overrideNameText:o,username:n.username,userId:n.user,botId:n.bot_id,botProfile:n.bot_profile,className:i,clogLinkClick:this.clogUserClick,isInteractive:Object(b.a)(t)?t:!a})}}]),t}(p.PureComponent);C.displayName="MessageSender",C.defaultProps=E;t.a=Object(m.b)(function(e){return{theme:Object(_.a)(e)}},function(e){return{clogUserClick:function(t){return e(Object(O.a)(t))}}})(C)},TcTh:function(e,t,n){"use strict";var r,a=n("m1cH"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("ZP0B"),d=n("fujP"),b=n("bPB8"),p=n("zmn3"),h=n("kiPk"),m=n("X6iR"),f=n("jeQL"),v=n("m8R6"),g=n("7EGn"),_=n("qAkX"),O=n("F294"),y=n("TSHB"),j=n("NZ+B"),k=n("aK/h"),E=n("EzZj"),C=n("MNvw"),I=n("U/ze"),w=n("VyaM"),S=n("aLpA"),T=n("Z0Cl"),R=n("gSGL"),N=n("WQtW");function x(e,t,n){var r=Object(p.a)(e,function(e){return Object(R.a)(e)?e:(Object(N.b)("Converting non-string timestamp "+e),""+e)});r.sort();var a=t;t&&!Object(R.a)(t)&&(Object(N.b)("Converting non-string start timestamp "+t),a=""+t);var i=n;return n&&!Object(R.a)(n)&&(Object(N.b)("Converting non-string end timestamp "+n),i=""+n),{timestamps:r,start:a||Object(O.a)(r)||i,end:i||Object(_.a)(r)||a}}function M(e,t){if(!e||!t)return!1;var n=e.start,r=e.end,a=t.start,i=t.end;return n>=a&&n<=i||r>=a&&r<=i||n<=a&&r>=i||n>=a&&r<=i}function P(e,t){if(!e)return t;if(!t)return e;for(var n=[],r=e.timestamps,a=t.timestamps,i=0,o=0;i+o<r.length+a.length;)i===r.length||a[o]<r[i]?(a[o]!==Object(_.a)(n)&&n.push(a[o]),o+=1):(r[i]!==Object(_.a)(n)&&n.push(r[i]),i+=1);return{timestamps:n,start:function(e,t){return t<e?t:e}(e.start,t.start)||e.start||t.start,end:function(e,t){return e<t?t:e}(e.end,t.end)||e.end||t.end}}var A={start:void 0,end:void 0,timestamps:[],reachedStart:!1,reachedEnd:!1},D=Object(E.b)("Add timestamps to channel history");D.propTypes={channelId:k.b.string.isRequired,timestamps:k.b.arrayOf(k.b.string).isRequired,oldest:k.b.string,latest:k.b.string,hasMore:k.b.oneOfType([k.b.bool,k.b.shape({hasMoreStart:k.b.bool,hasMoreEnd:k.b.bool})]),isLimited:k.b.bool};var L=Object(E.b)("Remove timestamps from channel history");L.propTypes={channelId:k.b.string.isRequired,timestamp:k.b.string.isRequired};var q=Object(E.b)("Remove all history for a channel");q.propTypes={channelId:k.b.string.isRequired};var F=Object(E.b)("Was disconnected; reset reachedEnd to false");F.propTypes={channelId:k.b.string};var B=Object(E.b)("Drop messages from before a given timestamp");B.propTypes={channelId:k.b.string.isRequired,timestamp:k.b.string.isRequired};var U=Object(E.b)("Drop old messages if there are too many");U.propTypes={channelId:k.b.string.isRequired,limit:k.b.number,allowance:k.b.number};var H=Object(E.b)("Remove all history for every channel");H.propTypes=null;var K={},G=Object(C.b)((r={},s()(r,D,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.timestamps,a=t.oldest,i=t.latest,o=t.hasMore,c=t.isLimited;if(!n||!r)return e;var u=e[n]||{},d=u.slices||[],b=Object(g.a)(o,"hasMoreStart",i?o:"0000000000.000000"!==a),p=Object(g.a)(o,"hasMoreEnd",!a||o),h={};Object(j.a)(u.reachedStart)||(h.reachedStart=!1),Object(j.a)(u.reachedEnd)||(h.reachedEnd=!1),!1===b&&(h.reachedStart=!0),!1===p&&(h.reachedEnd=!0),u.prevReachedEnd&&!i&&(h.prevReachedEnd=!1);var m={};(u.isLimited||c)&&(m.isLimited=!0);var f=u.reachedEnd,v=x(r,a,i);if(f){var O=Object(_.a)(d);O&&(Z(v.start)&&(v.start=O.end),Z(v.end)&&(v.end=O.end))}var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.append,a=n.mergeStart,i=n.mergeEnd,o=[],s=!1;if(!e||!e.length)return o.push(t),s=!0,o;for(var c=void 0,l=0;l<e.length;l++){var u=e[l];!s&&u.start>t.start&&(M(c,t)||a?c=P(c,t):(c&&o.push(c),c=t),s=!0),M(c,u)||a&&!s||i&&s?c=P(c,u):(c&&o.push(c),c=u)}return s||(c&&(M(c,t)||r||a)?c=P(c,t):(c&&o.push(c),c=t)),c&&o.push(c),o}(d,v,{append:f,mergeStart:h.reachedStart,mergeEnd:h.reachedEnd});return l()({},e,s()({},n,l()({},u,h,m,{slices:y})))}),s()(r,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.timestamp;if(!n||!r)return e;var a=e[n];if(!a)return e;var i=a.slices;if(!i)return e;var o=function(e,t,n){var r=x([t]);return Object(T.a)(Object(p.a)(e,function(e){return M(e,r)||n&&e.timestamps.includes(t)?x(e.timestamps.filter(function(e){return e!==t}),e.start,e.end):e}),function(e){return e.timestamps.length})}(i,r,Z(r)),c=o.length!==i.length&&Object(_.a)(o)!==Object(_.a)(i),u=a.reachedEnd&&!c;return l()({},e,s()({},n,l()({},e[n],{slices:o,reachedEnd:u})))}),s()(r,q,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.includeThreads;return void 0!==r&&r?Object(f.a)(e,function(e,t){return t===n||Object(m.a)(t,n+"-")}):e[n]?Object(v.a)(e,n):e}),s()(r,F,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId;return Object(y.a)(e,function(e,n){return t&&n!==t||!e.reachedEnd?e:l()({},e,{prevReachedEnd:e.reachedEnd,reachedEnd:null})})}),s()(r,B,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.timestamp,a=parseFloat(r);if(isNaN(a))throw new Error("Invalid oldestAllowableTimestampFloat");var o=l()({},e),s=!1,c=n+"-",u=Object.keys(e).filter(function(e){return 0===e.indexOf(c)});return[n].concat(i()(u)).forEach(function(t){if(e[t]&&e[t].slices&&e[t].slices.length){s=!0;var n=e[t].slices.filter(function(e){return parseFloat(e.end)>=a}).map(function(e){return e.start>=a?e:x(e.timestamps.filter(function(e){return parseFloat(e)>=a}),r,e.end)});o[t]=l()({},e[t],{slices:n,reachedStart:!1,isLimited:!1})}}),s?o:e}),s()(r,U,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.limit,a=void 0===r?1e3:r,i=t.allowance,o=void 0===i?50:i;if(!n)return e;var c=e[n];if(!c)return e;var u=c.slices;if(!u)return e;var m=Object(h.a)(u,function(e){return Object(g.a)(e,"timestamps.length",0)});if(m<=a+o)return e;var f=m-a,v=Object(p.a)(u,function(e){var t=e.timestamps;if(Object(d.a)(t))return null;if(f<=0)return e;if(f>=t.length)return f-=t.length,null;var n=t.slice(f);return f=0,x(n,Object(O.a)(n),e.end)});return l()({},e,s()({},n,l()({},c,{slices:Object(b.a)(v),reachedStart:!1,isLimited:!1})))}),s()(r,H,function(){return K}),r),K,{persistenceEnabled:!0});G.propTypes=k.b.objectOf(k.b.shape({reachedStart:k.b.bool,reachedEnd:k.b.bool,slices:k.b.arrayOf(k.b.shape({timestamps:k.b.arrayOf(k.b.string),start:k.b.string,end:k.b.string}))}));var V=G,z=Object(I.b)(function(e,t,n){if(!e||!t)return null;if(!e.channelHistory)return null;if(!e.channelHistory[t])return A;var r=e.channelHistory[t];if(!r)return A;var a=r.slices;if(!a||!a.length)return A;if(!n)return r.reachedEnd?l()({},Object(_.a)(a),{reachedStart:1===a.length&&r.reachedStart,reachedEnd:!0}):A;if("0000000000.000000"===n)return r.reachedStart?l()({},Object(O.a)(a),{reachedStart:!0,reachedEnd:1===a.length&&r.reachedEnd}):A;for(var i=x([n]),o=0;o<a.length;o++){var s=a[o];if(M(s,i)){var c=0===o&&r.reachedStart,u=o===a.length-1&&r.reachedEnd;return l()({},s,{reachedStart:c,reachedEnd:u})}}return r.reachedEnd&&Object(_.a)(a).end<n?l()({},Object(_.a)(a),{reachedStart:1===a.length&&r.reachedStart,reachedEnd:!0}):r.reachedStart&&Object(O.a)(a).start>n?l()({},Object(O.a)(a),{reachedStart:!0,reachedEnd:1===a.length&&r.reachedEnd}):A}),Y=Object(I.b)(function(e,t,n){if(!e||!t)return null;if(!e.channelHistory)return null;if(!e.channelHistory[t])return A;var r=e.channelHistory[t];if(!r)return A;var a=r.slices;if(!a||!a.length)return A;var i=z(e,t,n);return r.prevReachedEnd?n||i!==A?l()({},i,{prevReachedEnd:i.end===Object(_.a)(a).end}):l()({},Object(_.a)(a),{reachedStart:1===a.length&&r.reachedStart,reachedEnd:r.reachedEnd,prevReachedEnd:!0}):i}),W=Object(I.b)(function(e,t){var n=Date.now()/1e3,r=z(e,t),a=n;if(r&&r.reachedEnd&&!Object(d.a)(r.timestamps)){var i=parseInt(Object(u.a)(r.timestamps),10);n<i&&(a=i+1)}return Object(w.a)(a)}),Q=Object(I.b)(function(e,t){return e&&e.channelHistory&&e.channelHistory[t]&&e.channelHistory[t].isLimited}),X=Object(I.b)(function(e,t){return!!(e&&e.channelHistory&&e.channelHistory[t]&&e.channelHistory[t].slices&&e.channelHistory[t].slices.length>0)});function Z(e){return!e||e.indexOf(S.l)>=0}n.d(t,"a",function(){return A}),n.d(t,"b",function(){return D}),n.d(t,"j",function(){return L}),n.d(t,"i",function(){return q}),n.d(t,"k",function(){return F}),n.d(t,"l",function(){return U}),n.d(t,"h",function(){return z}),n.d(t,"f",function(){return Y}),n.d(t,"g",function(){return W}),n.d(t,"e",function(){return Q}),n.d(t,"c",function(){return X});t.d=V},TegG:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("aK/h"),g=n("hXpn"),_=n("kd6D"),O=n("r6oD"),y=(v.b.string,v.b.string.isRequired,v.b.bool,v.b.bool,v.b.bool,v.b.node,{className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0}),j=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.id,r=e.isActive,i=e.isDeactivated,o=e.isDisabled,s=e.secondaryContent,c=void 0;return r?c=o||i?_.c.highlightDim:_.c.highlightDark:(o||i)&&(c=_.c.dim),h.a.createElement(g.a,{className:f()(t,"c-small_member_list_entity"),primaryContent:h.a.createElement(O.a,a()({id:n,invert:c===_.c.highlightDark,isDeactivated:i},this.props)),secondaryContent:s,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,size:"small",style:c})}}]),t}(p.Component);j.displayName="SmallMemberListEntity",j.defaultProps=y,t.a=j},Tg3t:function(e,t,n){"use strict";n.d(t,"h",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return y});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("yHhI"),p=Object(b.b)(),h=Object(l.b)("Started refreshing a file");h.propTypes={fileId:c.b.string.isRequired};var m=Object(l.b)("Refreshing a file errored");m.propTypes={fileId:c.b.string.isRequired,timeout:c.b.number.isRequired};var f=Object(l.b)("Finished refreshing a file");f.propTypes={fileId:c.b.string.isRequired,timeout:c.b.number.isRequired};var v=Object(l.b)("File is ready to be refreshed again");v.propTypes={fileId:c.b.string.isRequired};var g={READY:0,REFRESHING:1,ERROR:2,DONE:3},_=Object(u.b)((r={},i()(r,h,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileId;return p.info("File refresh store","refreshStart")||s()({},e,i()({},t,{state:g.REFRESHING}))}),i()(r,m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.timeout;return p.info("File refresh store","refreshError")||s()({},e,i()({},n,{state:g.ERROR,timeout:r}))}),i()(r,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.timeout;return p.info("File refresh store","refreshDone")||s()({},e,i()({},n,{state:g.DONE,timeout:r}))}),i()(r,v,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fileId;return p.info("File refresh store","refreshReset")||s()({},e,i()({},t,{state:g.READY}))}),r),{},{persistenceEnabled:!0});_.propTypes=c.b.objectOf(c.b.shape({state:c.b.number.isRequired})),t.b=_;var O=Object(d.b)(function(e,t){return e&&e.fileRefresh&&e.fileRefresh[t]&&e.fileRefresh[t].state}),y=Object(d.b)(function(e,t){return e&&e.fileRefresh&&e.fileRefresh[t]&&e.fileRefresh[t].timeout})},TmhL:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("NFsq"),a=n("sg/O"),i=["BKeveryone","BKhere","BKchannel","BKgroup"];function o(e,t,n){if(!e)return!1;if(Object(r.a)(i,e))return!0;var o=Object(a.c)(e);if(Object(r.a)(n,o))return!0;var s=Object(a.d)(e);return!!Object(r.a)(n,s)}},TnU2:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("aK/h"),g=(n("BsCX"),v.b.any.isRequired,v.b.string,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=f()("c-badge",a()({},n,n));return h.a.createElement("div",{className:r},t)}}]),t}(p.PureComponent));g.displayName="Badge",g.defaultProps={className:null},g.displayName="Badge";var _=g;t.a=_},TwEf:function(e,t,n){"use strict";var r=n("EJiy"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("om+M"),l=n("4zXV"),u=Object(c.a)("Sends a message",function(e,t,n){var r=o()({},n);return n.blocks&&"object"===a()(n.blocks)&&(r.blocks=JSON.stringify(n.blocks)),e(Object(l.a)({method:"chat.postMessage",args:r,reason:"webapp_message_send",EXPEDITED:!0}))});u.propTypes={channel:s.b.string.isRequired,client_msg_id:s.b.string},t.a=u},"U/6N":function(e,t,n){},U3Q0:function(e,t,n){"use strict";var r=n("2lnT");t.a=r.a},U88O:function(e,t,n){},UEb0:function(e,t,n){"use strict";var r;function a(e,t,n){var a=t||"missing model";switch(e){case r.NOT_A_MEMBER:return"The message is from a channel the user is not a member of";case r.BAD_ARGUMENTS:return"Missing message or model object";case r.NO_DISPLAY_OVERRIDE:return"'no_display' was set on the notification";case r.NO_NOTIFICATIONS_OVERRIDE:return"'no_notifications' was set on the notification";case r.JOIN_LEAVE_MESSAGE:return"The message was a join or leave message";case r.BOT_MESSAGE:return"The message was a bot message without a mention";case r.APP_MESSAGE:return"The message was an app message without a mention";case r.FROM_CURRENT_USER:return"The message is from the current user";case r.MUTED_CHANNEL:return"Channel ("+a+") is muted";case r.USER_IN_DND:return"The user is in Do Not Disturb";case r.SILENT_PREFERENCE:return"The user has their notification preference set to 'nothing'";case r.PERMISSION_DENIED:return"The user did not grant permission to show notifications";case r.ACTIVE_VIEW_VISIBLE:return"The window is focused and the notifying channel ("+a+") is visible";case r.LESS_RELEVANT_ORG_TEAM:return"Shared channel ("+a+") is in a less recently selected org team";case r.OVERSIZED_MENTION:return"Over-sized channel mention in channel ("+a+")";case r.REDUNDANT_SOCKET_EVENT:return"Message ("+n+") is greater than latest in store, treating as duplicate";case r.ALREADY_SEEN_REPLY:return"Message ("+n+") is less than or equal to the 'last_read' in the thread";case r.ALREADY_SHOWN:return"Message ("+n+") has already shown a notification";default:return null}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),function(e){e[e.NONE=0]="NONE",e[e.NO_MENTIONS=1]="NO_MENTIONS",e[e.NOT_A_MEMBER=2]="NOT_A_MEMBER",e[e.BAD_ARGUMENTS=3]="BAD_ARGUMENTS",e[e.NO_DISPLAY_OVERRIDE=4]="NO_DISPLAY_OVERRIDE",e[e.NO_NOTIFICATIONS_OVERRIDE=5]="NO_NOTIFICATIONS_OVERRIDE",e[e.REPLY_MESSAGE=6]="REPLY_MESSAGE",e[e.NOT_REPLY_MESSAGE=7]="NOT_REPLY_MESSAGE",e[e.JOIN_LEAVE_MESSAGE=8]="JOIN_LEAVE_MESSAGE",e[e.BOT_MESSAGE=9]="BOT_MESSAGE",e[e.APP_MESSAGE=10]="APP_MESSAGE",e[e.FROM_CURRENT_USER=11]="FROM_CURRENT_USER",e[e.MUTED_CHANNEL=12]="MUTED_CHANNEL",e[e.USER_IN_DND=13]="USER_IN_DND",e[e.SILENT_PREFERENCE=14]="SILENT_PREFERENCE",e[e.PERMISSION_DENIED=15]="PERMISSION_DENIED",e[e.ACTIVE_VIEW_VISIBLE=16]="ACTIVE_VIEW_VISIBLE",e[e.LESS_RELEVANT_ORG_TEAM=17]="LESS_RELEVANT_ORG_TEAM",e[e.OVERSIZED_MENTION=18]="OVERSIZED_MENTION",e[e.REDUNDANT_SOCKET_EVENT=19]="REDUNDANT_SOCKET_EVENT",e[e.ALREADY_SEEN_REPLY=20]="ALREADY_SEEN_REPLY",e[e.ALREADY_SHOWN=21]="ALREADY_SHOWN",e[e.EMAIL_SHARED=22]="EMAIL_SHARED",e[e.APP_DM_SUPPRESSED=23]="APP_DM_SUPPRESSED"}(r||(r={}))},UEyp:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return g});var r=n("Fdc0"),a=n("5mKg"),i=n("DtX9"),o=n("D4L/"),s=n("FN36"),c=n("HO/Y"),l=n("ewFY"),u=n("XzsM");function d(e,t,n){var c=t,l=n;return!(!t&&!(c=Object(i.b)(e)))&&(!(!n&&!(l=Object(o.d)(e)))&&(!!Object(r.X)(c)||!Object(r.ob)(c)&&(!Object(s.a)(e,"invites_only_admins")||!(!Object(a.q)(l)||!Object(s.a)(e,"who_can_manage_guests"))&&Object(a.a)(l,c))))}function b(e,t,n){if(!Object(c.j)(e,"feature_request_to_invite"))return!1;var a=t,l=n;return!(!t&&!(a=Object(i.b)(e)))&&(!(!n&&!(l=Object(o.d)(e)))&&(!d(e,a,l)&&(!Object(r.ob)(a)&&(!!Object(s.a)(e,"invite_requests_enabled")&&!("treatment"!==Object(u.c)(e,"request_to_invite"))))))}function p(e,t,n){var r=t,a=n;return!(!t&&!(r=Object(i.b)(e)))&&(!(!n&&!(a=Object(o.d)(e)))&&!(!d(e,r,a)&&!b(e,r,a)))}function h(e,t,n){var l=t,u=n;return!(!t&&!(l=Object(i.b)(e)))&&(!(!n&&!(u=Object(o.d)(e)))&&(!!Object(a.B)(u)&&(Object(c.j)(e,"feature_request_to_invite")&&Object(s.a)(e,"invite_requests_enabled")?Object(r.X)(l)||b(e,l,u):Object(a.q)(u)?Object(a.a)(u,l):Object(r.X)(l))))}function m(e,t){return(!Object(a.q)(t)||!Object(r.X)(e)&&!Object(r.ib)(e))&&(Object(a.q)(t)||Object(a.s)(t))}function f(e){var t=e.state,n=e.user,r=e.team,c=e.inviteType,u=r;if(!n&&!Object(i.b)(t))return!1;if(!r&&!(u=Object(o.d)(t)))return!1;var d=Object(s.a)(t,"auth_mode"),b="google"===d||"saml"===d;return Object(a.q)(u)&&c===l.d.REGULAR||b&&0===Object(s.a)(t,"sso_auth_restrictions")}function v(e){var t=e.state,n=e.inviteType,r=Object(s.a)(t,"auth_mode"),a=Object(s.a)(t,"sso_auth_restrictions");return!("google"!==r)&&(n===l.d.REGULAR&&(0===a||1===a)||(n===l.d.RESTRICTED||n===l.d.ULTRA_RESTRICTED)&&0===a)}function g(e){return!d(e)&&b(e)}},UF3u:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("EJiy"),a=n.n(r);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e===t||(void 0===e?"undefined":a()(e))===(void 0===t?"undefined":a()(t))&&(Array.isArray(e)&&Array.isArray(t)?function(e,t,n){if(e.length!==t.length)return!1;for(var r=e.length,a=0;a<r;a+=1)if(n>1){if(!i(e[a],t[a],n-1))return!1}else if(e[a]!==t[a])return!1;return!0}(e,t,n):"object"===(void 0===e?"undefined":a()(e))&&"object"===(void 0===t?"undefined":a()(t))&&null!==e&&null!==t?function(e,t,n){var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=r.length,s=0;s<o;s+=1){var c=r[s],l=e[c],u=t[c];if(n>1){if(!i(l,u,n-1))return!1}else if(l!==u)return!1}return!0}(e,t,n):e===t)}},UJuF:function(e,t,n){},UMgY:function(e,t,n){"use strict";var r=n("nNoG"),a=n("j4mf"),i=Object(r.p)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.displayTrailingZeroes,o=void 0!==r&&r,s=n.currencyDisplay;if(!t)return null;var c={coerce:!0,style:"currency",currency:t,currencyDisplay:void 0===s?"symbol":s};return e%100!=0||o||(c.minimumFractionDigits=0),Object(a.b)(e,i,c)}},UO3Y:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=!1;function a(){return r}function i(e){r=e}},UOab:function(e,t,n){"use strict";var r=n("HO/Y"),a=n("pGee"),i=n("DtX9"),o=n("clTI"),s=n("uf9I"),c=n("1zbP"),l=n("6kok"),u=n("Fdc0"),d=n("dS/7"),b=n("ifKl"),p=n("GQZf");var h=n("AC1r"),m=n("Owxj"),f=n("mzG2"),v=n("D3DU"),g=n("XoJV"),_=n("nNoG"),O=n("82mD"),y=n("a+Oh");n.d(t,"a",function(){return k});var j={};function k(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{convertEmoji:"text"}).convertEmoji;if(!t||!t.length)return"";var a=Object(r.j)(e,"feature_sonic_emoji");return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.a;return e?e.reduce(function(e,r){if(r.type===p.a.LIST){var a=(r.elements||[]).map(function(e){return e.elements.reduce(function(e,t){return n(e,t)},t)});return e.concat(a)}var i=(r.elements||[]).reduce(function(e,t){return n(e,t)},t);return e.concat([i])},[]):[]}(t[0].elements,"",function(t,r){var i=j[r.type];return t+(i?i(e,r,{featureSonicEmoji:a,convertEmoji:n}):"")}).join("\n")}j[p.a.TEXT]=function(e,t){return t.text||""},j[p.a.USER]=function(e,t){var n=Object(i.c)(e,t.user_id);return"@"+(Object(u.w)(n)||t.user_id)},j[p.a.USERGROUP]=function(e,t){var n=Object(a.e)(e,t.usergroup_id);return Object(f.a)({userGroupHandle:n&&n.handle,isUnknown:Object(c.d)(n),isNonExistent:Object(c.c)(n)})},j[p.a.CHANNEL]=function(e,t){var n=Object(o.d)(e,t.channel_id),r=Object(l.x)(e,n,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),a=Object(l.xb)(n),i=Object(c.d)(n),s=Object(c.c)(n);return Object(v.a)({channelName:r,isPrivate:a,isUnknown:i,isNonExistent:s,featureRichTextRendering:Object(y.b)(e)})},j[p.a.BROADCAST]=function(e,t){return"@"+t.range},j[p.a.DATE]=function(e,t){return Object(O.d)(t.timestamp,t.format,{fallbackString:t.fallback})},j[p.a.COLOR]=function(e,t){return t.value||""},j[p.a.LINK]=function(e,t){return t.text||t.url||""},j[p.a.EMOJI]=function(e,t,n){var r=n.featureSonicEmoji,a=n.convertEmoji,i=Object(d.a)(t,{localize:!1}),o=Object(g.g)({locale:Object(_.p)(),name:i});return"phrase"===a?Object(h.a)(o,{featureSonicEmoji:r}):"unicode"===a?Object(m.a)(e,{messageText:i,teamId:Object(s.b)(e)}):o}},UQ5h:function(e,t,n){"use strict";function r(e){return e&&e.invite_prefs&&e.invite_prefs.real_name}function a(e){return e&&e.email}function i(e){return e&&e.invite_prefs&&"restricted"===e.invite_prefs.type}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i})},UQEz:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("owWc"),a=n("aXcD"),i=n("t+Pu"),o=n("tvJC"),s=n("CeJR");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.highlightWords,c=t.shouldRenderEmojiAsText,l=t.emojiNames,u=t.useSonicEmoji,d=t.locale,b=Object(a.b)(e,{highlightWords:n,shouldRenderEmojiAsText:c,emojiNames:l,useSonicEmoji:u,locale:d});return Object(r.a)(b.contents,function(e,t){if(t.attributes&&t.attributes.slackmention){var n=t.attributes.slackmention.id;return Object(i.a)(n)?e+"@"+Object(s.a)(n):Object(o.a)(n)?""+e+t.attributes.slackmention.label:"S"===n.charAt(0)?e+"<!subteam^"+n+"|"+t.attributes.slackmention.label+">":e+"<@"+n+">"}return t.insert&&t.insert.slackemoji?e+t.insert.slackemoji.text:e+t.insert},"")}},"UR+L":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return b});var r,a=n("YEIV"),i=n.n(a),o=n("EzZj"),s=n("MNvw"),c=n("U/ze"),l=Object(o.b)("Increments the major CFM version number.");l.propTypes=null;var u=Object(o.b)("Increments the minor CFM version number.");u.propTypes=null;var d=Object(s.b)((r={},i()(r,l,function(e){var t=e.major;return{minor:e.minor,major:t+1}}),i()(r,u,function(e){return{major:e.major,minor:e.minor+1}}),r),{major:1,minor:1},{persistenceEnabled:!1});d.propTypes={},t.a=d;var b=Object(c.b)(function(e){return e&&e.cfm&&e.cfm.major});Object(c.b)(function(e){return e&&e.cfm&&e.cfm.minor})},UYUI:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("DTT0"),s=n("XfeM"),c=n("HO/Y"),l=n("Qrgz"),u=n("yHhI"),d=n("QbLZ"),b=n.n(d),p=n("iCc5"),h=n.n(p),m=n("V7oC"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("mRg0"),O=n.n(_),y=n("ifKl"),j=n("hbEN"),k=n("XHGt"),E=n("tn36"),C=n("nNoG"),I=n("k0G2"),w=n("Smdl"),S=n("7nxQ"),T=n("kOzZ"),R=n("negh"),N=n("aolG"),x=n("eglI"),M=n("oxKW"),P=n("WD4z"),A=n("MnCE"),D=(n("NoFl"),i.b.string,i.b.func,i.b.bool,i.b.bool,i.b.string,i.b.string,i.b.string,i.b.string,{id:null,onChange:y.a,defaultToggled:!1,isDisabled:!1,ariaLabel:null,ariaLabelledBy:null,ariaDescribedBy:null,dataQa:null}),L=function(e){var t=e.id,n=e.defaultToggled,r=e.isDisabled,i=e.ariaLabel,o=e.ariaLabelledBy,s=e.ariaDescribedBy,c=e.dataQa,l=e.onChange;return a.a.createElement("div",{"data-qa":"toggle_button",className:"c-toggle"},a.a.createElement("input",{id:t,type:"checkbox",className:"c-toggle__input","aria-label":i,"aria-labelledby":o,"aria-describedby":s,defaultChecked:n,disabled:r,onChange:l,"data-qa":c}),a.a.createElement("div",{"aria-hidden":"true",className:"c-toggle__visual",tabIndex:"-1"}))};L.displayName="Toggle",L.defaultProps=D;var q=Object(A.a)(L),F=n("od5y"),B=n("llxT"),U=n("0f2Y"),H=n("LA/b"),K=n("HSvc"),G=n("ntJl"),V=n("wfE8"),z=n("cTgs"),Y=n("DtX9"),W=n("13mM"),Q=n("iqSe"),X=n("08ch"),Z=n("XUHR"),J=n("RCIA"),$=n("Fdc0"),ee=n("5mKg"),te=n("D4L/"),ne=250;function re(e){return e.length<=ne}var ae=1e3;n("AXtY");var ie=new C.b("channel_modal"),oe="CHANNEL-CREATE-MODAL",se=(i.b.string,i.b.bool.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.object.isRequired,i.b.object.isRequired,i.b.bool,i.b.func,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool,i.b.bool,i.b.object,i.b.func,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool,i.b.string,i.b.func.isRequired,i.b.func.isRequired,i.b.bool,i.b.bool,i.b.array,i.b.bool.isRequired,{initialChannelName:"",showOpenTransition:void 0,onBack:void 0,privateOnly:!1,publicOnly:!1,currentMember:{},onChannelCreated:y.a,featureCreateChannelNameGuidelines:!1,helpCenterTrackingToken:void 0,showFreeTeamSharedChannelsInfo:!1,defaultToPrivate:!1,selectedOptions:[]}),ce={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1},le=function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={channelName:"",channelPurpose:"",invitedUsers:[],isPrivate:e.defaultToPrivate,channelNameErrors:{},channelPurposeError:!1,invitedUsersError:!1,unknownError:!1,isLoading:!1},Object(E.a)(n,["onChannelNameChange","onChannelPurposeChange","onChannelValidationChange","onChannelInvitedUsersChange","onPrivateToggleChanged","renderPurposeTextyInput","onGo","onChannelNameKeyDown","filterMembers","onOpenSharedChannelModal"]),n.validateChannelPurpose=Object(j.a)(n.validateChannelPurpose,500),n.channelPurposeInput=a.a.createRef(),n.nameInput=a.a.createRef(),n}return O()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialChannelName,n=e.showFreeTeamSharedChannelsInfo;t&&this.setState(function(){return{channelName:t}}),n&&this.clogEvent({action:R.v.IMPRESSION,elementType:R.j.MODAL})}},{key:"onChannelNameChange",value:function(e){this.setState(function(){return{channelName:e}})}},{key:"onChannelNameKeyDown",value:function(e){e.keyCode===I.e&&this.onGo()}},{key:"onChannelValidationChange",value:function(e){this.setState(function(){return{channelNameErrors:e}})}},{key:"onChannelPurposeChange",value:function(){var e=this.channelPurposeInput.current&&this.channelPurposeInput.current.getWrappedInstance().value();this.setState(function(){return{channelPurpose:e}}),this.validateChannelPurpose(e)}},{key:"onChannelInvitedUsersChange",value:function(e){var t=!function(e){return e.length<=ae}(e);this.setState(function(){return{invitedUsers:e,invitedUsersError:t}})}},{key:"onPrivateToggleChanged",value:function(e){var t=e.target.checked;this.setState(function(){return{isPrivate:t}})}},{key:"onOpenSharedChannelModal",value:function(){var e=this.state,t=e.channelName,n=e.isPrivate;Object(w.a)()?this.props.openSharedChannelCreationOrRequestModal({showOpenTransition:!1}):(Object(J.c)({channel_name:t,is_private:n,element:"shared_channels_new_channel_modal_share_btn"}),this.props.closeModal())}},{key:"onGo",value:function(){var e=this,t=this.state,n=t.channelName,r=t.channelPurpose,a=t.invitedUsers,i=t.isPrivate,o=this.props,s=o.logger,c=o.privateOnly,l=o.publicOnly;n&&!this.hasErrors()&&(this.setState(function(){return{isLoading:!0}}),s.info(oe,"Starting channel creating process..."),this.props.createChannel({name:n,isPrivate:!l&&(i||c)}).then(function(t){s.info(oe,"Channel was successfully created."),r&&(s.info(oe,"Setting the channel purpose."),e.props.submitChannelPurpose({channelId:t.id,purpose:r})),a.length&&(s.info(oe,"Inviting "+a.length+" user(s) to the channel."),e.props.submitInviteToChannel({channelId:t.id,users:a.map(function(e){return e.value}).join(",")})),s.info(oe,"Switching to the newly created channel."),e.props.setPrimaryView({id:t.id}),s.info(oe,"Closing the modal."),e.props.closeModal(),e.props.onChannelCreated()}).catch(function(t){s.info(oe,"Hit an error in the chain of Channel Create API calls. See below:"),s.error(oe,t);var n={isLoading:!1};switch(t.name){case"name_taken":n.channelNameErrors=b()({},ce,{hasNameTakenWarning:!0});break;case"invalid_name_required":n.channelNameErrors=b()({},ce,{hasNameRequiredWarning:!0});break;case"invalid_name_specials":case"invalid_name_punctuation":n.channelNameErrors=b()({},ce,{hasSpecialsWarning:!0});break;case"invalid_name_maxlength":n.channelNameErrors=b()({},ce,{hasMaxLengthWarning:!0});break;default:n.unknownError=!0}e.setState(function(){return n})}))}},{key:"getGoButtonDisabledState",value:function(){return!this.state.channelName||this.hasErrors()||this.props.featureOfflineMode&&this.props.isOffline}},{key:"filterMembers",value:function(e){var t=this.props.currentMember;return!Object($.Db)(e)&&(!(!(Object($.X)(t)||Object($.vb)(t)||Object($.wb)(t))&&Object($.xb)(e))&&(Object($.xb)(t)?!Object($.xb)(e):!Object($.lb)(e)))}},{key:"hasErrors",value:function(){var e=this.state,t=e.channelNameErrors,n=e.channelPurposeError,r=e.invitedUsersError;return t.hasNameRequiredWarning||t.hasMaxLengthWarning||t.hasSpecialsWarning||t.hasPunctuationWarning||t.hasNameTakenWarning||n||r}},{key:"validateChannelPurpose",value:function(e){this.setState(function(){return{channelPurposeError:!re(e)}})}},{key:"clogEvent",value:function(e){var t=e.action,n=e.elementType,r=e.elementName;this.props.clogger.track(R.k.GROWTH_INTRO_SHARED_CHANNEL,{contexts:{ui_context:{step:R.z.CHANNEL_CREATE_MODAL,action:t,ui_properties:{element_type:n,element_name:r}}}})}},{key:"renderPurposeTextyInput",value:function(e){var t=e.modules,n=e.isOpen;return this.props.featureModernizeChannelCreateModal?a.a.createElement(x.default,{id:"channel_create_modal_purpose",size:"large",modules:t,onTextChange:this.onChannelPurposeChange,onEnter:this.onGo,maxLength:ne,isAutocompleteOpen:n,focusOnMount:!1,isJumbomojiEnabled:!1,enableBroadcastKeywords:!1,ref:this.channelPurposeInput,ariaLabel:ie.t("Channel purpose"),ariaLabelledBy:"channel_create_modal_purpose_label",ariaDescribedBy:"channel_create_modal_purpose_description",isSingleLine:!0}):null}},{key:"renderFreeTeamSharedChannelsInfo",value:function(){var e=this;return a.a.createElement(P.a,{icon:"rocket",level:"info","data-qa":"channel_create_shared_channels_info_alert"},a.a.createElement("span",null,ie.t("Share a channel with another organization.")),"\xa0",a.a.createElement(U.a,{onClick:function(){e.clogEvent({action:R.v.CLICK,elementType:R.j.LINK,elementName:"learn_more"}),e.props.openSharedChannelIntroductionModal({entryPoint:"channel_create_modal"})},"data-qa":"channel_create_shared_channels_info_link"},ie.t("Learn more")))}},{key:"render",value:function(){var e=this.props,t=e.showOpenTransition,n=e.onBack,r=e.featureModernizeChannelCreateModal,i=e.privateOnly,o=e.publicOnly,s=e.currentMember,c=e.canRequestSharedChannel,l=e.userCanManageExternalSharedChannels,u=e.featureCreateChannelNameGuidelines,d=e.featureOfflineMode,b=e.isOffline,p=e.helpCenterTrackingToken,h=e.showFreeTeamSharedChannelsInfo,m=e.selectedOptions,f=this.state,v=f.channelName,g=f.channelNameErrors,_=f.channelPurposeError,O=f.invitedUsersError,y=f.isPrivate,j=f.isLoading,k=f.unknownError;if(!r)return null;var E=!o&&(y||i),C=u?ie.rt("Channels are where your members communicate. They\u2019re best when organized around a topic \u2014 #marketing, for example. <a>Learn more</a> about how to create and name channels for your team.",{fallbackHash:"91d9c5a197fe00f153f95c5aa649eb6807d57f53"},function(e){var t=e.text,n=e.key,r="https://get.slack.help/hc/"+Object(S.a)()+"/articles/217626408-Create-guidelines-for-channel-names?utm_source=ccm&utm_medium=ip&"+p;return a.a.createElement(U.a,{href:r,key:n},t)}):ie.t("Channels are where your members communicate. They\u2019re best when organized around a topic \u2014 #leads, for example."),I=this.props.isEnterpriseTeam?l&&!Object($.Db)(s):c&&!Object($.Db)(s);return a.a.createElement(N.a,{modalBodyClasses:"p-channel_create_modal__body",title:E?ie.t("Create a private channel"):ie.t("Create a channel"),goButtonText:ie.t("Create",{fallbackHash:"6e157c5da4410b7e9de85f5c93026b9176e69064",fallbackHashNs:"files"}),goButtonIsDisabled:this.getGoButtonDisabledState(),goButtonIsPending:j,onGo:this.onGo,showOpenTransition:t,showBackButton:!!n,onBack:n},a.a.createElement("div",{className:"p-channel_create_modal"},d&&b&&a.a.createElement(P.a,{icon:"cloud-offline",level:"info",className:"margin_bottom_100"},ie.rt("<strong>No connection.</strong> You'll be able to create channels as soon as you're back online.")),a.a.createElement("p",null,C),a.a.createElement(H.a,{id:"channel_create_modal_name",name:"channel_create_modal_name",initialChannelName:v,channelNameErrors:g,onChannelNameChange:this.onChannelNameChange,onChannelNameKeyDown:this.onChannelNameKeyDown,onChannelValidationChange:this.onChannelValidationChange,customErrorMessage:k?ie.t("For some weird reason, that didn\u2019t work. Please try again to continue."):null,isPrivate:y||i}),!i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"channel_create_modal_purpose"},a.a.createElement("span",{id:"channel_create_modal_purpose_label",className:"p-channel_create_modal__label_title"},ie.rt("<strong>Purpose</strong> (optional)")),a.a.createElement("span",{className:"p-channel_create_modal__label_error","data-qa":"channel_create_purpose_error"},_&&ie.t("This field can\u2019t be more than 250 characters."))),a.a.createElement("div",{className:"p-channel_create_modal__input","data-qa":"channel_create_modal_purpose"},a.a.createElement(M.a,{renderInput:this.renderPurposeTextyInput,completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,shouldCompleteOnTab:!1}),a.a.createElement("div",{id:"channel_create_modal_purpose_description",className:"p-channel_create_modal__input_subtext"},ie.t("What\u2019s this channel about?")))),a.a.createElement(K.a,{onChange:this.onChannelInvitedUsersChange,exceededLimitError:O,filterMembers:this.filterMembers,selectedOptions:m}),!i&&!o&&a.a.createElement("label",{id:"channel_create_modal_toggle_label",htmlFor:"channel_create_modal_toggle",className:"p-channel_create_modal__private_toggle_section"},a.a.createElement("div",{className:"p-channel_create_modal__private_toggle_copy"},a.a.createElement("h4",{className:"p-channel_create_modal__private_toggle_copy_title"},ie.rt("<strong>Make private</strong>")),E?a.a.createElement("p",{className:"p-channel_create_modal__private_toggle_copy_body"},ie.rt("<strong>This can\u2019t be undone.</strong> Once you\u2019ve made a channel private, it can\u2019t be changed back.")):a.a.createElement("p",{className:"p-channel_create_modal__private_toggle_copy_body"},ie.t("When a channel is set to private, it can only be viewed or joined by invitation.",{fallbackHash:"75b0dae1ebadf1ed14e7e64ca8fc608744d5db66",fallbackHashNs:"channel_modal"}))),a.a.createElement(q,{id:"channel_create_modal_toggle",ariaLabel:y?ie.t("This channel can only be joined or viewed by invite."):ie.t("Anyone in your workspace can view and join this channel."),ariaLabelledBy:"channel_create_modal_toggle_label",onChange:this.onPrivateToggleChanged,dataQa:"channel_create_modal_toggle",defaultToggled:y&&!o}))),h&&this.renderFreeTeamSharedChannelsInfo(),I&&a.a.createElement(B.a,{onClick:this.onOpenSharedChannelModal,className:"p-channel_create_modal__share","data-qa":"channel_new_modal_create_button"},a.a.createElement(F.b,{type:"plus-circle"})," ",ie.t("Share a channel with another organization")))}}]),t}(a.a.PureComponent);le.displayName="ChannelCreateModal",le.defaultProps=se;var ue=Object(k.b)(function(e){return{featureModernizeChannelCreateModal:Object(c.j)(e,"feature_modernize_channel_create_modal"),logger:Object(u.a)({state:e}),clogger:Object(T.a)({state:e}),privateOnly:!Object(l.C)(e)&&Object(l.B)(e),publicOnly:Object(l.C)(e)&&!Object(l.B)(e),currentMember:Object(Y.b)(e),featureOfflineMode:Object(c.j)(e,"feature_offline_mode"),isOffline:!Object(W.c)(e),canRequestSharedChannel:Object(l.M)(e),userCanManageExternalSharedChannels:Object($.e)(e),helpCenterTrackingToken:Object(Q.b)(e),featureCreateChannelNameGuidelines:Object(c.j)(e,"feature_create_channel_name_guidelines"),isEnterpriseTeam:Object(ee.q)(Object(te.d)(e)),showFreeTeamSharedChannelsInfo:Object(ee.v)(Object(te.d)(e))&&Object(l.l)(e,"intro_shared_channels_create_channel_modal")}},function(e){return{createChannel:function(){return e(G.createChannel.apply(void 0,arguments))},closeModal:function(){return e(o.a.apply(void 0,arguments))},setPrimaryView:function(){return e(z.a.apply(void 0,arguments))},submitChannelPurpose:function(){return e(V.C.apply(void 0,arguments))},submitInviteToChannel:function(){return e(V.J.apply(void 0,arguments))},openSharedChannelCreationOrRequestModal:function(){return e(X.a.apply(void 0,arguments))},openSharedChannelIntroductionModal:function(){return e(Z.a.apply(void 0,arguments))}}})(le),de=Object(s.b)("Opens the Channel Create modal in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelName,i=n.showOpenTransition,s=n.onBack,d=n.defaultToPrivate,b=void 0!==d&&d,p=n.selectedOptions,h=void 0===p?[]:p;Object(c.j)(t(),"feature_modernize_channel_create_modal")&&(!b||Object(l.B)(t())?e(Object(o.e)({element:a.a.createElement(ue,{initialChannelName:r,showOpenTransition:i,onBack:s,defaultToPrivate:b,selectedOptions:h})})):Object(u.a)({getState:t}).error("CHANNEL-CREATE-MODAL","defaultToPrivate was passed as true but user does not have permissions to create private channels. So, this is a noop."))});de.propTypes={channelName:i.b.string,showOpenTransition:i.b.bool,onBack:i.b.func,defaultToPrivate:i.b.bool,selectedOptions:i.b.array};t.a=de},Uj4I:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=new(n("nNoG").b)("prefs"),a=[{id:"notifications",name:function(){return r.t("Notifications")}},{id:"language_region",name:function(){return r.t("Language & Region")}},{id:"messages_media",name:function(){return r.t("Messages & Media")}},{id:"sidebar",name:function(){return r.t("Sidebar")}},{id:"mark_as_read",name:function(){return r.t("Mark as Read")}},{id:"accessibility",name:function(){return r.t("Accessibility")}},{id:"advanced",name:function(){return r.t("Advanced")}},{id:"labs",name:function(){return r.t("Labs (TS Only)")},tsOnly:!0},{id:"channel"}]},UjNr:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("fp5s"),o=n("ifKl"),s=n("4zXV"),c=n("aK/h"),l=n("XfeM"),u=n("uf7e"),d=n("zNK5"),b=["stars.add","stars.remove","reactions.add","reactions.remove","chat.deleteAttachment","conversations.mark","conversations.leave","users.prefs.set","users.prefs.setNotifications","subscriptions.thread.add","subscriptions.thread.remove","unread.markRead","users.profile.set"];n.d(t,"a",function(){return p});var p=Object(l.b)("Dispatch an API call that can be persisted",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.persistKey,c=a()(n,["persistKey"]),l=c.method;if(!function(e){return b.includes(e)}(l))throw new Error("This method is not in the `offline-persist-methods` manifest and cannot be persisted. Make sure the calling code is not relying on a response before adding it to the manifest.");var p=r||Object(i.a)(Date.now()+"-"+l+"-");return e(Object(u.c)({persistKey:p,payload:c})),e(Object(d.a)()).then(function(){return e(Object(s.a)(c))}).catch(o.a).finally(function(){return e(Object(u.a)(p))}),Promise.resolve()});p.propTypes={method:c.b.string,args:c.b.object,defaultArgs:c.b.object,reason:c.b.string,EXPEDITED:c.b.bool,SET_ACTIVE:c.b.bool,persistKey:c.b.string}},UkR9:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("kxpR"),a=n.n(r),i=n("aLpA"),o=n("eK75"),s=n("LAi+"),c=n("qkTT");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.children,r=t.getDefaultOutput;if(e instanceof Text){var l=String.fromCharCode(Math.floor(6399*Math.random()+57344)),u=Object(s.a)(),d=Object(o.a)();return e.data.replace(u,function(t,n,r){return e.previousSibling&&""===n?t:n+":"+i.k[r]+":"}).replace(d,function(e){return""+l+e+l}).split(l).map(function(e,t){if(d.test(e)){var n=""+e+t;return a.a.createElement(c.b,{key:n,text:e,emojiSize:c.a.MEDIUM})}return e})}return r(e,{children:n})}},UnlJ:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("hbEN"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("tn36"),_=n("Py5X"),O=n("cMxN"),y=n("8yfr"),j=50,k=50,E=(v.b.object,v.b.object.isRequired,v.b.object,v.b.object.isRequired,v.b.func.isRequired,v.b.string,v.b.number,v.b.func,v.b.number,{popoverProps:{},inputContainerRef:null,measurePopoverEventName:null,minOptionsListWidth:null,onOpen:p.a,optionsRowHeight:y.a}),C=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.popover=f.a.createRef(),n.optionsListRef=f.a.createRef(),n.state={optionsListBounds:null},Object(g.a)(n,["measureOptionsListAndSetState","onClose"]),n.onResize=Object(h.a)(n.measureOptionsListAndSetState,j,{maxWait:j}),n.onScroll=Object(h.a)(n.measureOptionsListAndSetState,k,{maxWait:k}),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}},{key:"componentDidUpdate",value:function(){this.maybeInstallListener()}},{key:"componentWillUnmount",value:function(){this.maybeUninstallListener()}},{key:"onClose",value:function(){this.props.selectState.isExpanded&&this.props.setSelectState(function(){return{isExpanded:!1,activeRowIndex:null,filterQuery:""}})}},{key:"getOptionsListBounds",value:function(){var e=this.props,t=e.inputRef,n=e.inputContainerRef||t;return n&&n.current?n.current.getBoundingClientRect():null}},{key:"getPopoverPosition",value:function(e){var t=this,n=e.top,r=e.bottom,a=n,i=window.innerHeight-r,o=this.props.selectState.options,s=0;return o&&(s=o.map(function(e){return t.getRowHeight(e)}).reduce(function(e,t){return e+t},0)),i<Math.min(s,y.e)&&i<a?"top-left":"bottom-left"}},{key:"getRowHeight",value:function(e){var t=this.props.optionsRowHeight;return e.type&&"divider"===e.type?y.b:t}},{key:"maybeInstallListener",value:function(){var e=this;if(!this.listenerInstalled){window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.onScroll);var t=this.props.measurePopoverEventName;window.addEventListener(t,function(){e.measureOptionsListAndSetState()}),this.listenerInstalled=!0}}},{key:"maybeUninstallListener",value:function(){var e=this.props.measurePopoverEventName;this.listenerInstalled&&(this.onResize.cancel(),this.onScroll.cancel(),window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll),window.removeEventListener(e,this.measureOptionsListAndSetState),this.listenerInstalled=!1)}},{key:"measureOptionsListAndSetState",value:function(){var e=this;this.listenerInstalled&&this.setState(function(){return{optionsListBounds:e.getOptionsListBounds()}})}},{key:"render",value:function(){var e=this.props,t=e.popoverProps,n=e.selectState,r=e.minOptionsListWidth,i=e.onOpen,o=n.selectId,s=this.state.optionsListBounds||{width:0,bottom:0},c=s.width,l=this.getPopoverPosition({top:s.top,bottom:s.bottom}),u="top-left"===l;r&&s.width<r&&(c=r);var d=(u?s.top:window.innerHeight-s.bottom)-s.height,b=Math.min(d,y.e),p=a()({},this.props,{width:c+24,maxListHeight:b}),h=window.pageYOffset,m={top:s.top+h+4,bottom:s.bottom+h-4,left:s.left-12,width:c};return f.a.createElement(O.a,a()({position:l,allowanceX:-12,ref:this.popover},t,{onClose:this.onClose,isOpen:n.isExpanded,key:o+"-popover",shouldFocusAfterRender:!1,targetBounds:m,ariaHideApp:!1,onOpen:i}),f.a.createElement(_.a,a()({},p,{ref:this.optionsListRef})))}}]),t}(m.Component);C.displayName="SelectPopoverOptionsList",C.defaultProps=E,t.a=C},"Uny/":function(e,t,n){"use strict";function r(e){return{type:e.type,channel:e.channel,ts:e.ts,text:"",no_display:!0,_hidden_stub:!0,is_ephemeral:e.is_ephemeral}}function a(e){return!(!e||!e._hidden_stub)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a})},UxT1:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Add unsent invites to the store, overwriting anything previously stored");d.propTypes=s.b.array;var b=Object(l.b)(a()({},d,function(e,t){return t?o()({},e,{unsentInvites:t}):e}),{unsentInvites:[]},{persistenceEnabled:!0});b.propTypes={unsentInvites:s.b.array},t.a=b;var p=Object(u.b)(function(e){return e&&e.invites&&e.invites.unsentInvites?e.invites.unsentInvites:[]})},"V/As":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("zmn3"),a=n("bPB8"),i=n("1Lli"),o=n("7EGn"),s=n("6GV3"),c=cdn_url+"/4f28/img/apps/default_new_app_icon.png";function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,l=Object(s.a)(t,function(e){return e&&e.icons?Object(i.a)(Object(a.a)(Object(r.a)(e.icons,function(e,t){var n=t.replace("image_","");return parseInt(n,10)})),[],"desc"):[]}(e));return Object(o.a)(e,"icons.image_"+l,n)}},"V/Wy":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("U/ze"),a=Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.notifications&&e.prefs.notifications.global&&e.prefs.notifications.global[t]}),i=Object(r.b)(function(e,t,n){return e&&e.prefs&&e.prefs.notifications&&e.prefs.notifications.channels&&e.prefs.notifications.channels[t]&&e.prefs.notifications.channels[t][n]}),o=Object(r.b)(function(e){return e&&e.prefs&&e.prefs.notifications&&e.prefs.notifications.channels}),s=Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.notifications&&e.prefs.notifications.channels&&e.prefs.notifications.channels[t]})},"V/nu":function(e,t,n){"use strict";n.r(t);var r=n("g5qt"),a=n("XfeM"),i=n("PR8O"),o=Object(a.b)("/slackcookies slash command",function(){Object(i.a)()&&Object(r.u)({showItemInFolder:!0})});t.default=o},V18M:function(e,t,n){"use strict";var r=n("HO/Y"),a=n("XzsM"),i=n("tVnY");t.a=function(e){return!!Object(i.b)(e)&&Object(r.j)(e,"feature_primary_search")&&"primary_search_dev"===Object(a.c)(e,"primary_search_dev")}},V5VI:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("gSGL"),a=n("vJtL"),i=n("/1FC"),o=n("Z7Ay"),s={},c={};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=e.actions,o=void 0===n?[]:n,c=e.sideEffect,l=e.reasons,u=void 0===l?[]:l;if(!c||!Object(a.a)(c))throw new Error("Side effect callback function must be passed in to addSideEffect");if(!Object(i.a)(u))throw new Error("Side effect reasons must be undefined or an array");o.forEach(function(n){if(!n||!Object(r.a)(n)&&!n.getType)throw new Error("Invalid action passed in to addSideEffect. Has no getType function!\nYou are probably passing a thunk action instead of a synchronous redux action. You may only pass an\naction type or an action created with redux-act's createAction helper.\n");if(n.isThunkCreator)throw new Error("Side effects cannot be attached to thunks. They can only be attached to actions created using createAction");var a=n.getType?n.getType():n;t[a]=t[a]||[],t[a].push(e)})}function u(e){e.forEach(function(e){return l(e)})}var d=function(e){return l(e,c)};Object(o.a)("sideEffectsMap",s),Object(o.a)("clientSideEffectsMap",c)},VBRD:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("sk9p"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("CMvH");l.b.func.isRequired;function d(e){var t=e.children,n=Object(s.useState)({width:0,height:0}),r=o()(n,2),i=r[0],l=r[1],d=Object(s.useCallback)(function(e){l(e.bounds)},[l]);return c.a.createElement(u.a,{bounds:!0,onResize:d},function(e){var n=e.measureRef;return t(a()({},i,{measureRef:n}))})}d.displayName="Measure",t.a=d},VGIp:function(e,t,n){"use strict";var r=n("wxGk");t.a=function(e,t){return Object(r.a)(e,t,{units:"seconds"})}},VQ8d:function(e,t,n){},"VSg/":function(e,t,n){},Ves6:function(e,t,n){},VfGJ:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("yPgC"),_=n("uf9I"),O=n("/lKr"),y=n("P9LH"),j=n("nNoG"),k=n("oW4N"),E=n("RfGh"),C=n("wP1B"),I=n("rjL9"),w=n("aLpA"),S=n("5yEy"),T=(n("fhyy"),g.a.File().isRequired,h.b.string,h.b.func,h.b.string,h.b.bool,h.b.bool,{channelId:void 0,clogLinkClick:d.a,className:void 0,showActions:!0,largeImage:!1}),R=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.channelId,r=e.showActions,a=e.largeImage,i=e.clogLinkClick,o=v()(this.props.className,"p-message_image_file"),s=r&&p.a.createElement(S.a,{file:t,channelId:n,clogLinkClick:i,className:v()("c-file__actions--image",{"c-file__actions--overflow":t.thumb_360_w<128,"c-file__actions--short":t.thumb_360_h<50})}),c=a?480:w.D,l=a&&t.thumb_480_w||t.thumb_360_w,u=a&&t.thumb_480_h||t.thumb_360_h;return p.a.createElement(C.a,{className:o,width:l,height:u},p.a.createElement(I.a,{file:t,maxSize:c,clogLinkClick:i}),s)}}]),t}(b.PureComponent);R.displayName="MessageImageFile";var N=R;R.defaultProps=T;var x=n("9gIX"),M=n("HDtv"),P=n("0f2Y"),A=(g.a.File().isRequired,h.b.func,{onClick:d.a}),D=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.onClick;if(!t.has_rich_preview&&!t.thumb_pdf)return null;if(Object(y.M)(t))return null;var r=t.thumb_800||t.thumb_480||t.thumb_pdf;if(!r)return null;var a=p.a.createElement("div",{className:"c-pillow_file__preview",style:{backgroundImage:"url('"+r+"')"}});if(n){var i="",o=t.permalink,s=Object(y.s)(t);return"download"===s&&(o=t.url_private_download),"external"!==s&&"remote"!==s&&"window"!==s||(o=t.url_private),"view"===s&&(i=v()("c-file--fsfv")),p.a.createElement(P.a,{href:o,target:o,onClick:n,className:i},a)}return a}}]),t}(b.PureComponent);D.displayName="FilePreview",D.defaultProps=A;var L=D,q=(g.a.File().isRequired,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.file;if(Object(y.M)(e))return null;if(!Object(y.d)(e))return null;if(!Object(y.i)(e))return null;var t=e.url_private;return t?p.a.createElement("audio",{className:"c-pillow_file__audio",controls:!0,preload:"metadata",src:t}):null}}]),t}(b.PureComponent));q.displayName="FileAudio";var F=q,B=n("HO/Y"),U=n("DtX9"),H=n("GTwG"),K=n("g5qt"),G=n("Smdl"),V=n("3pFD"),z=n("llxT"),Y=n("c8iJ"),W=new V.b("files"),Q=(g.a.File().isRequired,h.b.bool,h.b.bool,h.b.func,{featureVideoFileCodecSupport:!1,featureSonicVideoPlaceholder:!1,clogFileClick:d.a}),X=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLoadedData=n.onLoadedData.bind(n),n.onPlay=n.onPlay.bind(n),n.onPlaceholderClick=n.onPlaceholderClick.bind(n),n.videoRef=Object(b.createRef)(),n.state={codecSupported:!0,height:null,playing:!1},n}return u()(t,e),o()(t,[{key:"onLoadedData",value:function(){if(this.props.featureVideoFileCodecSupport&&this.videoRef.current){var e=this.videoRef.current;if(e.videoWidth||e.videoHeight){var t=e.clientWidth,n=e.videoWidth/e.videoHeight,r=Math.min(320,t/n);this.setState(function(){return{height:r}})}else this.setState(function(){return{codecSupported:!1}})}}},{key:"onPlay",value:function(){var e=this.props.file;this.props.clogFileClick({file:e,payload:{subtype:"video_play"}})}},{key:"onPlaceholderClick",value:function(){this.setState(function(){return{playing:!0}})}},{key:"renderVideo",value:function(){var e=this.props,t=e.file,n=e.featureVideoFileCodecSupport,r=e.featureSonicVideoPlaceholder,a=t.url_private;if(!a)return null;var i=n?"metadata":"none",o=n?void 0:t.thumb_video;if(K.X&&Object(G.a)()&&r){if(!this.state.playing){var s=o&&{backgroundImage:"url("+o+")"},c=v()("c-pillow_file__video","c-pillow_file__video--placeholder",{"c-pillow_file__video--placeholder-poster":o});return p.a.createElement("div",{className:c,style:s},p.a.createElement(z.a,{onClick:this.onPlaceholderClick,className:"c-pillow_file__video__placeholder_button","aria-label":W.t("Play video")},p.a.createElement(Y.a,{type:"play-filled",size:"inherit",className:"c-pillow_file__video__placeholder_icon"})))}return p.a.createElement("video",{className:"c-pillow_file__video",controls:!0,autoPlay:!0,poster:o,src:a,onPlay:this.onPlay,ref:this.videoRef})}return p.a.createElement("video",{className:"c-pillow_file__video",controls:!0,poster:o,preload:i,src:a,style:{height:this.state.height},onLoadedData:this.onLoadedData,onPlay:this.onPlay,ref:this.videoRef})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.featureVideoFileCodecSupport;return Object(y.M)(t)?null:Object(y.d)(t)&&Object(y.j)(t)?n&&!this.state.codecSupported?null:p.a.createElement("div",{className:"c-pillow_file__video_container",tabIndex:"-1","data-media-focus-container":!0},this.renderVideo()):null}}]),t}(b.PureComponent);X.displayName="FileVideo",X.defaultProps=Q;var Z={clogFileClick:function(){return H.a.apply(void 0,arguments)}},J=Object(m.b)(function(e,t){var n=t.file;return{fileAuthor:Object(U.c)(e,n.user),featureVideoFileCodecSupport:Object(B.j)(e,"feature_video_file_codec_support"),featureSonicVideoPlaceholder:Object(B.j)(e,"feature_sonic_video_placeholder")}},Z)(X),$=n("a+Im"),ee=n("od5y"),te=new j.b("files"),ne=(h.b.number,h.b.bool,h.b.bool,h.b.bool,h.b.func,h.b.func,h.b.func,{lineCount:void 0,isExpanded:!1,isExpandable:!1,isExpanding:!1,expand:d.a,collapse:d.a,clogLinkClick:d.a}),re=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expand=n.expand.bind(n),n.collapse=n.collapse.bind(n),n}return u()(t,e),o()(t,[{key:"expand",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.expand(),this.props.clogLinkClick({subtype:"file_expand"})}},{key:"collapse",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.collapse(),this.props.clogLinkClick({subtype:"file_collapse"})}},{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.isExpandable,r=e.isExpanding,a=e.lineCount;if(!n)return null;var i=v()("c-pillow_file__expandable_pill",{"c-pillow_file__expandable_pill--expand":!t,"c-pillow_file__expandable_pill--collapse":t,"c-pillow_file__expandable_pill--expanding":r});if(t)return p.a.createElement("div",{className:i},p.a.createElement(z.a,{className:"c-pillow_file__expandable_pill__button","aria-expanded":t,onClick:this.collapse},te.t("Collapse"),p.a.createElement(ee.b,{type:"arrow-up",inline:!0})));if(r)return p.a.createElement("div",{className:i},p.a.createElement("div",{className:"c-pillow_file__expandable_pill__button"},p.a.createElement(ee.b,{type:"spinner",animation:"spin",inline:!0})));var o=a?te.t("Click to expand inline ({lineCount, plural, =1 {# line} other {# lines}})",{lineCount:a}):te.t("Click to expand inline");return p.a.createElement("div",{className:i},p.a.createElement(z.a,{className:"c-pillow_file__expandable_pill__button","aria-expanded":t,onClick:this.expand},p.a.createElement(ee.b,{type:"plus-small",inline:!0}),o))}}]),t}(b.PureComponent);re.displayName="ExpandablePill",re.defaultProps=ne;var ae=Object($.b)(re),ie=n("N2p5"),oe=n("UkR9"),se=n("JgMF");function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.children,r=t.getDefaultOutput;if("A"===e.tagName&&e.href){var a=e.href;return p.a.createElement(P.a,{key:a,href:a},n)}return r(e,{children:n})}n("Ves6"),g.a.File().isRequired,h.b.func.isRequired,h.b.bool,h.b.bool,h.b.func;var le={isExpanded:!1,isExpandable:!1,expand:d.a},ue=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expand=n.expand.bind(n),n}return u()(t,e),o()(t,[{key:"expand",value:function(){this.props.isExpanded||this.props.isExpandable&&(this.props.expand(),this.props.clogLinkClick({subtype:"file_expand"}))}},{key:"renderContent",value:function(){var e=this.props,t=e.file,n=e.isExpanded&&t.content_html||t.preview||"",r=Object(ie.b)(n),a=Object(ie.a)(r,[oe.a,se.a,ce]);return p.a.createElement("div",{className:"c-pillow_file__post__content"},a)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.isExpanded,r=e.isExpandable,a=e.clogLinkClick;if(Object(y.M)(t))return null;if(!Object(y.g)(t))return null;var i=r&&!n,o=v()("c-pillow_file__post","c-pillow_file__content",{"c-pillow_file__content--collapsed":i,"c-pillow_file__post--collapsed":i,"c-pillow_file__post--expanded":n});return i?p.a.createElement("div",{role:"presentation",className:o,onClick:this.expand},this.renderContent(),p.a.createElement(ae,{clogLinkClick:a,isExpanded:n})):p.a.createElement("div",{className:o},this.renderContent(),p.a.createElement(ae,{clogLinkClick:a,isExpanded:n}))}}]),t}(b.PureComponent);ue.displayName="FilePost",ue.defaultProps=le;var de=Object($.b)(ue),be=(n("Q4QL"),n("p77/"),n("AYon"),new j.b("files")),pe=(g.a.File().isRequired,h.b.func.isRequired,h.b.bool,h.b.bool,h.b.func,{isExpanded:!1,isExpandable:!1,expand:d.a}),he=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expand=n.expand.bind(n),n}return u()(t,e),o()(t,[{key:"expand",value:function(){this.props.isExpanded||this.props.isExpandable&&(this.props.expand(),this.props.clogLinkClick({subtype:"file_expand"}))}},{key:"renderTruncated",value:function(){var e=this.props,t=e.file,n=e.isExpanded;if(!t.is_truncated)return null;if(!n)return null;var r=be.rt("This snippet was truncated for display; <a>see it in full</a>",null,function(e){var n=e.key,r=e.text;return p.a.createElement(P.a,{key:n,href:t.permalink,onClick:d.a},r)});return p.a.createElement("div",{className:"c-pillow_file__snippet__truncated"},p.a.createElement(ee.b,{type:"info_circle",size:"inherit"}),"\xa0",r)}},{key:"renderContent",value:function(){var e=this.props,t=e.file,n=e.isExpanded&&t.content_highlight_html||t.preview_highlight||"";return p.a.createElement("div",{className:"c-pillow_file__snippet__content",dangerouslySetInnerHTML:{__html:n}})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.isExpanded,r=e.isExpandable,a=e.clogLinkClick;if(Object(y.M)(t))return null;if("snippet"!==t.mode)return null;var i=r&&!n,o=v()("c-pillow_file__snippet","c-pillow_file__content",{"c-pillow_file__content--collapsed":i,"c-pillow_file__snippet--collapsed":i,"c-pillow_file__snippet--expanded":n});return i?p.a.createElement("div",{className:o,role:"presentation",onClick:this.expand},this.renderContent(),p.a.createElement(ae,{lineCount:t.lines,clogLinkClick:a})):p.a.createElement(b.Fragment,null,p.a.createElement("div",{className:o},this.renderContent(),p.a.createElement(ae,{clogLinkClick:a})),this.renderTruncated())}}]),t}(b.PureComponent);he.displayName="FileSnippet",he.defaultProps=pe;var me=Object($.b)(he),fe=n("fujP"),ve=n("F294"),ge=n("OO1R"),_e=n("Lnf+"),Oe=n("NgwH"),ye=n("cErB");var je=n("K5QD");function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.children,r=t.getDefaultOutput;if("A"===e.tagName&&!e.target&&e.href){var a=e.href;/^mailto/.test(a)||/^skype/.test(a)||"#"===a||e.setAttribute("target",a)}return r(e,{children:n})}n("vjQr");var Ee=new j.b("files"),Ce=(g.a.File().isRequired,h.b.func.isRequired,h.b.string,h.b.string,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.func,{channelId:void 0,ts:void 0,humanTs:void 0,currentTeamId:void 0,isExpanded:!1,isExpandable:!1,expand:d.a}),Ie=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expand=n.expand.bind(n),n.openImageViewer=n.openImageViewer.bind(n),n}return u()(t,e),o()(t,[{key:"expand",value:function(){this.props.isExpanded||this.props.isExpandable&&(this.props.expand(),this.props.clogLinkClick({subtype:"file_expand"}))}},{key:"openImageViewer",value:function(e){var t=e&&e.currentTarget&&e.currentTarget.href;if(t){e.preventDefault(),e.stopPropagation();var n=this.props,r=n.channelId,a=n.ts;Object(Oe.a)({modal_class:"fs_modal_file_viewer",show_control_btns:!1,current_external_link:{src:t,ts:a,channel:r}})}}},{key:"renderCollapsedHeader",value:function(){var e=this.props.file,t=Object(ve.a)(e.from).name||Object(ve.a)(e.from).address,n=!Object(fe.a)(e.attachments)&&p.a.createElement(p.a.Fragment,null,"\xa0",p.a.createElement(ee.b,{type:"paperclip",size:"inherit",inline:!0}));return p.a.createElement("div",{className:"c-pillow_file__email__header"},p.a.createElement("div",{className:"c-pillow_file__email__sender"},t),p.a.createElement("div",{className:"c-pillow_file__email__title"},p.a.createElement(je.a,{file:e}),n))}},{key:"renderExpandedHeader",value:function(){var e=this.props,t=e.file,n=e.humanTs,r=we(Object(ve.a)(t.from)),a=function(e,t,n){return we(e,t<n.length-1)},i=t.to.map(a),o=!Object(fe.a)(t.cc)&&t.cc.map(a),s=Ee.t("Cc",{note:"List of CCs (Carbon Copy) recipients of this email"});return p.a.createElement("div",{className:"c-pillow_file__email__header"},p.a.createElement("table",{className:"c-pillow_file__email__meta"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{className:"c-pillow_file__email__meta__field"},Ee.t("From")),p.a.createElement("td",null,r)),p.a.createElement("tr",null,p.a.createElement("td",{className:"c-pillow_file__email__meta__field"},Ee.t("To")),p.a.createElement("td",null,i)),o&&p.a.createElement("tr",null,p.a.createElement("td",{className:"c-pillow_file__email__meta__field"},s),p.a.createElement("td",null,o)),p.a.createElement("tr",null,p.a.createElement("td",{className:"c-pillow_file__email__meta__field"},Ee.t("Subject")),p.a.createElement("td",null,p.a.createElement("span",{className:"c-pillow_file__email__meta__subject"},t.subject||Ee.t("(No Subject)")))),n&&p.a.createElement("tr",null,p.a.createElement("td",{className:"c-pillow_file__email__meta__field"},Ee.t("Date")),p.a.createElement("td",null,n)))))}},{key:"renderCollapsedContent",value:function(){var e=this.props.file.preview_plain_text||Ee.t("(No content)");return p.a.createElement("div",{className:"c-pillow_file__email__content"},e)}},{key:"renderExpandedContent",value:function(){var e,t=this.props,n=t.file,r=t.currentTeamId,a=n.simplified_html||n.preview||Ee.t("(No content)"),i=Object(ie.c)(Object(ie.b)(a),[ke,(e=r,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.children,a=n.getDefaultOutput;return"IMG"===t.tagName&&t.src&&Object(ye.j)(t.src).hostname.startsWith("files-origin")&&t.setAttribute("src",t.src+"?teamId="+e),a(t,{children:r})})]),o=i&&i.body&&i.body.innerHTML;return p.a.createElement("div",{className:"c-pillow_file__email__content",dangerouslySetInnerHTML:{__html:o}})}},{key:"renderContent",value:function(){return this.props.isExpanded?this.renderExpandedContent():this.renderCollapsedContent()}},{key:"renderAttachments",value:function(){var e=this,t=this.props,n=t.file,r=t.currentTeamId;if(Object(fe.a)(n.attachments))return null;var a=n.attachments.map(function(t,n){var a=t.mimetype,i=t.url,o=t.filename,s=t.size,c=i+"?teamId="+r,l=t.url||n,u=a&&a.match(/^image\//),d=v()("c-pillow_file__email__attachment",{"c-pillow_file__email__attachment--file":!u,"c-pillow_file__email__attachment--image":u});if(u)return p.a.createElement(P.a,{key:l,href:c,className:d,onClick:e.openImageViewer},p.a.createElement("img",{src:c,alt:o,className:"c-pillow_file__email__attachment__image"}));var b=Object(_e.a)(s);return p.a.createElement(P.a,{key:l,href:c,className:d},p.a.createElement(ee.b,{type:"paperclip",size:"inherit",className:"c-pillow_file__email__attachment__icon"}),p.a.createElement("span",{href:c,className:"c-pillow_file__email__attachment__name"},o),p.a.createElement("span",{className:"c-pillow_file__email__attachment__meta"},b," ",a))});return p.a.createElement("div",{className:"c-pillow_file__email__attachments"},p.a.createElement("div",{className:"c-pillow_file__email__attachments__count"},Ee.t("{count, plural, =1 {# attachment} other {# attachments}}",{fallbackHash:"3822d6cce6094bac543d427da23bb7e4f3d296c7",count:a.length})),a)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.isExpanded,r=e.isExpandable,a=e.clogLinkClick;if(Object(y.M)(t))return null;if("email"!==t.mode)return null;var i=r&&!n,o=v()("c-pillow_file__email","c-pillow_file__content",{"c-pillow_file__content--collapsed":i,"c-pillow_file__email--collapsed":i,"c-pillow_file__email--expanded":n});return i?p.a.createElement("div",{tabIndex:"-1",role:"button",className:o,onClick:this.expand},this.renderCollapsedHeader(),this.renderContent(),p.a.createElement(ae,{lineCount:t.lines,clogLinkClick:a})):p.a.createElement(b.Fragment,null,p.a.createElement("div",{className:o},this.renderExpandedHeader(),this.renderContent(),this.renderAttachments(),p.a.createElement(ae,{clogLinkClick:a})))}}]),t}(b.PureComponent);function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.name&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"c-pillow_file__email__sender__name"},e.name)," "),r=e.address&&p.a.createElement("span",{className:"c-pillow_file__email__sender__address"},"<",e.address,">");return p.a.createElement("span",{key:""+e.name+e.address,className:"c-pillow_file__email__sender"},n,r,t&&", ")}Ie.displayName="FileEmail",Ie.defaultProps=Ce,we.displayName="formatSender";var Se=Object($.b)(Object(m.b)(function(e,t){var n=t.file;return{currentTeamId:Object(_.b)(e),humanTs:n&&n.timestamp&&Object(ge.a)(e,n.timestamp,{uncapitalized:!1})}})(Ie)),Te=(n("G9En"),new j.b("files")),Re=(g.a.File().isRequired,h.b.string.isRequired,h.b.string.isRequired,h.b.string,h.b.string.isRequired,h.b.func,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.string,h.b.func,{threadTs:void 0,clogLinkClick:d.a,className:null,showActions:!0,forceExpanded:!1,largeImage:!1,showPreview:!0,viewContext:void 0,handleFileContainerClick:d.a}),Ne=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.file,r=t.clogLinkClick,a=t.ts,i=t.channelId,o=t.threadTs,s=t.viewContext;this.props.handleFileContainerClick({e:e,file:n,clogLinkClick:r,ts:a,channelId:i,threadTs:o,viewContext:s})}},{key:"getAction",value:function(){var e=this.props.file;return Object(y.g)(e)?null:Object(y.s)(e)}},{key:"renderHeaderContent",value:function(){var e=this.props,t=e.file,n=e.teamId;return Object(y.g)(t)?p.a.createElement("div",{className:"c-pillow_file__meta__entry"},Te.t("Last edited {timeAgo}",{timeAgo:Object(j.n)(Object(k.a)(t.updated))})):p.a.createElement(M.a,{file:t,action:this.getAction(t),teamId:n})}},{key:"renderHeader",value:function(){var e=this.props,t=e.file,n=e.showPreview;return"snippet"===Object(y.p)(t)&&n?null:"email"===Object(y.p)(t)&&n?null:p.a.createElement(x.a,{file:t,action:this.getAction(t),showThumbnail:!n,onClick:this.onClick},this.renderHeaderContent())}},{key:"renderPreview",value:function(){var e=this.props,t=e.showPreview,n=e.file,r=e.ts,a=e.channelId,i=e.clogLinkClick;return t?p.a.createElement(p.a.Fragment,null,p.a.createElement(L,{onClick:this.onClick,file:n}),p.a.createElement(F,{file:n}),p.a.createElement(J,{file:n}),p.a.createElement(de,{file:n,clogLinkClick:i}),p.a.createElement(me,{file:n,clogLinkClick:i}),p.a.createElement(Se,{file:n,channelId:a,ts:r,clogLinkClick:i})):null}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.ts,r=e.channelId,a=e.showActions,i=e.forceExpanded,o=e.largeImage,s=e.clogLinkClick,c=e.showPreview,l=Object(y.p)(t),u=v()(this.props.className,{"p-message_file":!Object(y.H)(t),"p-message_file--media":Object(y.d)(t),"p-message_file--post":"post"===l,"p-message_file--email":"email"===l,"p-message_file--snippet":"snippet"===l,"p-message_file--image":"image"===l,"p-message_file--show_preview":c});return!Object(y.K)(t)&&"image"===Object(y.p)(t)&&c?p.a.createElement(N,{file:t,className:u,clogLinkClick:s,showActions:a,largeImage:o}):p.a.createElement($.a,{file:t,channelId:r,ts:n,forceExpanded:i},p.a.createElement(E.a,{file:t,className:u,showActions:a,clogLinkClick:s},this.renderHeader(),this.renderPreview()))}}]),t}(b.PureComponent);Ne.displayName="MessageFile",Ne.defaultProps=Re;t.a=Object(m.b)(function(e){return{teamId:Object(_.b)(e)}},function(e){return{handleFileContainerClick:function(){return e(O.a.apply(void 0,arguments))}}})(Ne)},Vfth:function(e,t,n){},VlZM:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("XHGt"),o=n("aK/h"),s=n("Fdc0"),c=n("xoiQ"),l=n("DtX9"),u=n("TSYQ"),d=n.n(u),b=n("ukeO"),p=24,h=(o.b.string,o.b.string,o.b.string,o.b.bool,{primaryImage:void 0,secondaryImage:void 0,className:null,ariaHidden:!1});function m(e){var t=e.primaryImage,n=e.secondaryImage,r=e.className,i=e.ariaHidden,o=void 0;return o=n?a.a.createElement("image",{clipPath:"url(#c-icon-image-stacked__clip)",width:p,height:p,xlinkHref:n,"data-qa":"image-secondary"}):a.a.createElement("rect",{className:"c-icon-image-stacked__image--missing",clipPath:"url(#c-icon-image-stacked__clip)",width:p,height:p,"data-qa":"image-secondary"}),a.a.createElement("div",{"aria-hidden":i,className:d()("c-icon-image-stacked",r)},a.a.createElement("svg",{className:"c-icon-image-stacked__svg",height:p,width:p,"aria-hidden":"true"},a.a.createElement("clipPath",{id:"c-icon-image-stacked__clip"},a.a.createElement("path",{d:"M0,0 L28,0 L28,10 L16,10 C13,10 10,13 10,16 L10,28 L0,28 L0,0 Z"})),o,a.a.createElement("path",{className:"c-icon-image-stacked__svg_stroke",d:"M10,23.5 L5,23.5 C2,23.5 0.5,22 0.5,20 L0.5,3.5 C0.5,2 2,0.5 3.5,0.5 L20.5,0.5 C22,0.5 23.5,2 23.5,3.5 L23.5,10"})),a.a.createElement(b.a,{image:t,classes:"c-icon-image-stacked__image c-icon-image-stacked__image--top",size:p,ariaHidden:!0,"data-qa":"image-primary"}))}m.displayName="ImageStackedBaseIcon",m.defaultProps=h;var f=m;function v(e){return e?Object(c.a)({avatarHash:Object(s.q)(e),memberId:e.id,size:p,teamId:Object(s.J)(e)}).imageUrl:null}o.b.string,o.b.object,o.b.object;var g={className:void 0,primaryMember:void 0,secondaryMember:void 0};function _(e){var t=e.className,n=e.primaryMember,r=e.secondaryMember,i=v(n),o=v(r);return a.a.createElement(f,{className:t,primaryImage:i,secondaryImage:o})}_.displayName="FaceStack",_.defaultProps=g;var O=Object(i.b)(function(e,t){var n=t.primaryMemberId,r=t.secondaryMemberId;return{primaryMember:Object(l.c)(e,n),secondaryMember:Object(l.c)(e,r)}})(_);O.propTypes={primaryMemberId:o.b.string,secondaryMemberId:o.b.string},O.defaultProps={primaryMemberId:void 0,secondaryMemberId:void 0};t.a=O},VnZi:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("fujP"),f=n("ifKl"),v=n("Muja"),g=n("qMRW"),_=n("GxtX"),O=n("tn36"),y=n("aK/h"),j=n("kxpR"),k=n.n(j),E=n("XHGt"),C=n("yPgC"),I=n("HO/Y"),w=n("negh"),S=n("RO/v"),T=n("Ma6+"),R=n("nNoG"),N=(n("0b/R"),new R.b("block_kit")),x=(y.b.string,{errorMessage:void 0}),M=function(e){var t=e.errorMessage;return k.a.createElement("div",{"data-qa":"block_kit_top_level_error",className:"p-block_kit_renderer_error"},t||N.t("We can't fully display this message."))};M.displayName="TopLevelErrorElement",M.defaultProps=x;var P=M,A=n("p+j0"),D=n("aLpA"),L=n("t3QL"),q=n("kOzZ"),F=n("8t14"),B=n("jo6Y"),U=n.n(B),H=n("TGBA"),K=n("+Xah"),G=n("TSYQ"),V=n.n(G),z=n("bBR5"),Y=n("CaXY"),W=n("tbBR"),Q=n("XLFM"),X=n("O8YM"),Z=400,J=600,$=360;function ee(e,t){var n=e.errorBlockIds,r=e.loadingBlockIds,a=e.blocksContainerContext,i=e.isDisabled;return{isError:-1!==n.indexOf(t.blockId),isLoading:-1!==r.indexOf(t.blockId),isDisabled:i||Object(X.f)(a),elementWidth:Object(X.a)(a),shouldUseSmallStatusIndicators:Object(X.k)(a)}}function te(e){return{removeTopMargin:0===e}}function ne(e,t,n){var r,a,i,s,c,l,u=e;switch(t.type){case D.d.image:u=o()({},e,function(e){var t={maxHeight:Z,maxWidth:J,isImageFullWidth:Object(X.d)(e.blocksContainerContext)};return(e.isMobile||Object(X.j)(e))&&(t=o()({},t,{maxWidth:$})),t}(e),te(n));break;case D.d.section:u=o()({},e,ee(e,t),(a=t,i=(r=e).isInAttachment,s=r.blocksContainerContext,c=r.isMobile,l=a.accessory,{shouldStackTextFields:Object(X.g)(s)||c,shouldTruncateText:i||Object(X.i)(s),shouldStackAccessory:l&&"image"!==l.type&&c}),te(n));break;case D.d.actions:u=o()({},e,ee(e,t),te(n));break;case D.d.input:u=o()({},e,ee(e,t),function(e,t){return{isRequired:!t.optional,serverError:e.serverErrors[t.blockId],showError:e.showErrors,preserveState:e.preserveState}}(e,t))}return u}n("O/s2");var re=new R.b("attachments"),ae=(C.a.BlockKitBlocks.isRequired,y.b.object,y.b.bool,y.b.oneOf([Y.a.message,Y.a.message_attachment,Y.a.view]),y.b.oneOf(Object(H.a)(Y.a)).isRequired,y.b.string,y.b.func,y.b.number,y.b.bool,y.b.bool,y.b.func,{serverErrors:{},showErrors:!1,className:"",renderBlockWrapper:K.a,container:void 0,blockLimit:void 0,isExpanded:!1,onExpandBlocksClick:f.a,isInGroupBlock:!1}),ie=function(e){var t,n,r=e.blocks,a=e.renderBlockWrapper,i=e.blockLimit,s=e.isExpanded,c=e.onExpandBlocksClick,l=e.isInGroupBlock,u=U()(e,["blocks","renderBlockWrapper","blockLimit","isExpanded","onExpandBlocksClick","isInGroupBlock"]),d=re.t("See more",{fallbackHash:"1e499ecc2930ea232e078d52f5ed2bc3820cd795"}),b=re.t("See less",{fallbackHash:"4c852b26d1b71054cb8fbccc79ae72e91dc94144"}),p=void 0!==i&&r.length>i,h=r.map(function(e,t){if(p&&!s&&t>=i)return null;var n=z.a[e.type];if(!n)return null;var r=e.blockId||e.type+"-"+t,c=k.a.createElement("div",{key:r,className:"p-block_kit_renderer__block_wrapper"},k.a.createElement(n,o()({},e,ne(u,e,t),{isInGroupBlock:l})));return a(c,e,t)}),m=V()("p-block_kit_renderer",{"p-block_kit_renderer--absorb_margin":!l&&Object(X.b)(u.blocksContainerContext)});return k.a.createElement("div",{className:m,"data-qa":"block-kit-renderer"},h,p?(t=s,n=c,k.a.createElement(Q.c,{className:"p-block_kit_renderer__expand_blocks",onClick:n},t?b:d)):null)};ie.displayName="BlockKitRenderer",ie.defaultProps=ae;var oe=Object(W.b)(ie),se=(C.a.BlockKitBlocks,y.b.object,y.b.bool,y.b.bool,y.b.func.isRequired,y.b.object.isRequired,y.b.object.isRequired,y.b.func.isRequired,y.b.func.isRequired,y.b.func,y.b.string,y.b.object,y.b.func,y.b.func,y.b.func,y.b.bool,y.b.string,y.b.string,y.b.number,y.b.func,y.b.func,y.b.bool,y.b.bool,y.b.func,y.b.bool,{service:void 0,blocks:[],serverErrors:{},preserveState:!1,showErrors:!1,containerActionsPayload:void 0,renderBlockWrapper:void 0,onActionsError:f.a,onActionsSuccess:f.a,onActions:void 0,containerId:void 0,isMobile:!1,blockLimit:void 0,blocksContainerContext:void 0,clogLinkClick:f.a,customFormatHandler:void 0,isInAttachment:!1,isInGroupBlock:!1,onStateUpdate:f.a,featureAppViewsV1:!1}),ce=function(e){function t(e){c()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(O.a)(n,["handleExpandBlocksClick","handleAction","handleActionsResponseSuccess","handleActionsResponseError","fetchExternalSuggestions","processBlocks","setFormState","unsetFormState"]),n.sendActionsPromise=null,n.formErrors={},n.formState={},n.state={loadingBlockIds:[],errorBlockIds:[],replaceWithError:!1,containerIsDisabled:!1,isExpanded:!1},n}return h()(t,e),b()(t,null,[{key:"getDerivedStateFromError",value:function(){return{replaceWithError:!0}}}]),b()(t,[{key:"componentDidUpdate",value:function(e){!Object(v.a)(this.props.blocks,e.blocks)&&this.setState(function(){return{replaceWithError:!1,containerIsDisabled:!1}})}},{key:"componentWillUnmount",value:function(){this.sendActionsPromise&&this.sendActionsPromise.cancel&&this.sendActionsPromise.cancel()}},{key:"setFormState",value:function(e){var t=this,n=e.elementState,r=e.elementError;Object.keys(n).forEach(function(e){t.formState[e]=o()({},t.formState[e],n[e])}),Object.keys(r).forEach(function(e){t.formErrors[e]=r[e]}),this.props.onStateUpdate(this.formState,this.formErrors)}},{key:"unsetFormState",value:function(e){var t=e.blockId,n=e.actionId;this.formState[t]&&this.formState[t][n]&&(delete this.formState[t][n],Object(m.a)(this.formState[t])&&delete this.formState[t]),this.props.onStateUpdate(this.formState,this.formErrors)}},{key:"fetchExternalSuggestions",value:function(e){return this.props.fetchExternalSuggestions(o()({serviceId:this.props.service,container:this.props.containerActionsPayload&&this.props.containerActionsPayload.container,state:this.formState},e))}},{key:"handleExpandBlocksClick",value:function(){this.props.blockLimit&&this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"handleAction",value:function(e){var t=this;this.state.containerIsDisabled||(this.props.featureAppViewsV1?this.props.service&&!Object(F.l)(this.props.blocks,e.blockId)&&this.setState(function(t){return{containerIsDisabled:!0,loadingBlockIds:Object(_.a)(t.loadingBlockIds,[e.blockId]),errorBlockIds:Object(g.a)(t.errorBlockIds,[e.blockId])}},function(){t.sendActionsPromise=t.props.dispatchSendActions(o()({},t.props.containerActionsPayload,{actions:[e],state:t.formState})).then(function(n){t.handleActionsResponseSuccess([e.blockId],n)}).catch(function(n){t.handleActionsResponseError([e.blockId],n)})}):this.props.service&&this.setState(function(t){return{containerIsDisabled:!0,loadingBlockIds:Object(_.a)(t.loadingBlockIds,[e.blockId]),errorBlockIds:Object(g.a)(t.errorBlockIds,[e.blockId])}},function(){t.sendActionsPromise=t.props.dispatchSendActions(o()({},t.props.containerActionsPayload,{actions:[e],state:t.formState})).then(function(n){t.handleActionsResponseSuccess([e.blockId],n)}).catch(function(n){t.handleActionsResponseError([e.blockId],n)})}))}},{key:"handleActionsResponseSuccess",value:function(e,t){this.props.onActionsSuccess(t),this.setState(function(t){return{containerIsDisabled:!1,loadingBlockIds:Object(S.a)(t.loadingBlockIds,e),errorBlockIds:Object(S.a)(t.errorBlockIds,e)}})}},{key:"handleActionsResponseError",value:function(e,t){this.props.onActionsError(t),this.setState(function(t){return{containerIsDisabled:!1,loadingBlockIds:Object(S.a)(t.loadingBlockIds,e),errorBlockIds:Object(_.a)(t.errorBlockIds,e)}})}},{key:"processBlocks",value:function(e){var t=this.props.enabledBlocks;return e.reduce(function(e,n){var r=Object(L.a)(n);return!1===t["featureFlag__"+n.type]?e:D.d[r.type]?[].concat(a()(e),[r]):[].concat(a()(e),[{type:D.d.error}])},[])}},{key:"render",value:function(){var e=this.props,t=e.enabledBlocks,n=e.renderBlockWrapper,r=e.blocks,a=e.containerId,i=e.isMobile,o=e.blockLimit,s=e.blocksContainerContext,c=e.enabledContainers,l=e.blockKitClogger,u=e.containerActionsPayload,d=e.clogLinkClick,b=e.customFormatHandler,p=e.serverErrors,h=e.showErrors,m=e.preserveState,f=e.isInAttachment,v=e.isInGroupBlock,g=e.service,_=u&&u.container&&u.container.type,O=this.processBlocks(r);return O&&0!==O.length&&!this.state.replaceWithError&&s&&!1!==c["featureFlag__"+s]?k.a.createElement(F.a.Provider,{value:{setFormState:this.setFormState,unsetFormState:this.unsetFormState}},k.a.createElement(oe,{blocks:O,onAction:this.handleAction,loadingBlockIds:this.state.loadingBlockIds,errorBlockIds:this.state.errorBlockIds,fetchExternalSuggestions:this.fetchExternalSuggestions,enabledBlocks:t,renderBlockWrapper:n,isDisabled:this.state.containerIsDisabled,containerId:a,isMobile:i,blockLimit:o,isExpanded:this.state.isExpanded,onExpandBlocksClick:this.handleExpandBlocksClick,blocksContainerContext:s,container:_,blockKitClogger:l,clogLinkClick:function(){return d({type:"block_kit_link"})},customFormatHandler:b,serverErrors:p,showErrors:h,preserveState:m,isInAttachment:f,isInGroupBlock:v,containerActionsPayload:u,service:g})):k.a.createElement(P,null)}}]),t}(j.Component);ce.displayName="ConnectedBlockKitRenderer",ce.defaultProps=se;t.a=Object(E.b)(function(e,t){var n=t.service,r=t.blocksContainerContext,a=t.containerId,i=Object(q.a)({state:e});return{enabledBlocks:Object(A.b)(e),enabledContainers:Object(A.c)(e),featureAppViewsV1:Object(I.j)(e,"feature_app_views_v1"),blockKitClogger:function(e,t){i.track(w.k.MSG_ACTION,o()({},t)),i.track(e,o()({app_id:n,blocks_container_context:r,container_id:a},t))}}},function(e,t){return{dispatchSendActions:t.onActions||function(){return e(T.b.apply(void 0,arguments))},fetchExternalSuggestions:function(){return e(T.a.apply(void 0,arguments))}}})(ce)},Vp6b:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return y});var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("zmn3"),u=n("fujP"),d=n("xWuZ"),b=n("bPB8"),p=n("ZBlo"),h=n("aK/h"),m=n("4zXV"),f=n("om+M"),v=n("yHhI"),g={type:"is",value:"team"},_={query:JSON.stringify(g),count:20};var O=Object(f.a)("Fetch all teams user is allowed to see",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ids,a=n.reason;if(Object(u.a)(r))return Promise.resolve([]);var i=Object(p.a)(r,250);return Promise.map(i,function(t){return e(Object(m.b)({method:"team.info",args:{teams:t},reason:a}))}).then(function(e){var t=Object(d.a)(Object(l.a)(e,"teams"));return Object(b.a)(t)})});O.propTypes={ids:h.b.arrayOf(h.b.string).isRequired,reason:h.b.string.isRequired};var y=Object(f.a)("Fetches teams by query from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,i=void 0===r?"":r,s=n.ids,l=n.marker,u=n.count,d=void 0===u?_.count:u,b=c()(n,["query","ids","marker","count"]),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.ids,r=e.marker,i=c()(e,["query","ids","marker"]);if(!i)return _;var s=o()({},i);if(r&&(s.cursor_mark=r),t||n){var l=[g];t&&l.push({type:"fuzzy",value:t}),n&&n.length&&l.push({type:"or",clauses:[].concat(a()(n.map(function(e){return{type:"id",value:e}})))}),s.query=JSON.stringify({type:"and",clauses:l})}return s.cursor_mark||delete s.cursor_mark,o()({},_,s)}(o()({query:i,ids:s,marker:l,count:d},b));return e(Object(m.a)({method:"search.enterprise",args:p})).catch(function(e){throw Object(v.a)({getState:t}).error("TEAMS","failed to fetch teams with query "+i),e})});y.propTypes={query:h.b.string,count:h.b.number},Object(f.a)("Get teams paid level and addons",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(m.a)({reason:n,method:"team.paidfeatures.get"})).catch(function(e){throw Object(v.a)({getState:t}).error("paidfeatures","failed to get paid features"),e})}).propTypes={reason:h.b.string.isRequired}},VrmM:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("aK/h"),s=n("kxpR"),c=n.n(s),l=n("XHGt"),u=n("Lr9k"),d=n("CaXY"),b=n("HO/Y"),p=n("N52Z"),h=n("DtX9"),m=n("0sSB"),f=n("uf9I"),v=n("hOQf"),g=n("jLdI"),_=(n("ucyx"),o.b.object.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.string,o.b.oneOf(Object(i.a)(d.a)),o.b.func.isRequired,o.b.func,o.b.number,o.b.bool,{serviceTeamId:void 0,blocksContainerContext:void 0,customFormatHandler:void 0,blockLimit:void 0,shouldRenderBlocks:!1}),O=function(e){var t=e.msg,n=e.featureAttachmentsV2,r=e.serviceTeamId,a=e.ephemeral,i=e.blocksContainerContext,o=e.clogLinkClick,s=e.customFormatHandler,l=e.blockLimit,b=e.shouldRenderBlocks;if(!t.blocks||!n)return null;if(!b)return null;var p={serviceId:t.bot_id,serviceTeamId:r,container:{type:d.a.message,messageTs:t.ts,channelId:t.channel,isEphemeral:a}};return c.a.createElement("div",{className:"c-message_kit__blocks"},c.a.createElement(u.a,{containerActionsPayload:p,blocks:t.blocks,service:t.bot_id,containerId:t.ts,blocksContainerContext:i,clogLinkClick:o,customFormatHandler:s,blockLimit:l}))};O.displayName="Blocks",O.defaultProps=_;t.a=Object(l.b)(function(e,t){var n=t.msg,r=void 0,a=Object(p.d)(e,n),i=Object(f.b)(e);if(a){var o=Object(h.c)(e,n.user),s=Object(m.c)({bot:a,botProfile:n.bot_profile,member:o,currentTeamId:i});r=Object(m.b)(o,s)}var c=Object(v.yb)(e,n);return{featureAttachmentsV2:Object(b.j)(e,"feature_attachments_v2"),serviceTeamId:r,ephemeral:Object(v.Z)(n),shouldRenderBlocks:c}},function(e,t){var n=t.msg;return{clogLinkClick:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(Object(g.a)(a()({msg:n},r)))}}})(O)},VwYs:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("XHGt"),c=n("9HJ0"),l=n("Jnln"),u=n("aK/h"),d=n("kxpR"),b=n.n(d),p=n("MnCE"),h=(u.b.node,u.b.bool,u.b.string,u.b.string,{children:null,isExpanded:!0,expandableKey:"",className:void 0}),m=function(e){var t=e.children,n=e.isExpanded,r=e.expandableKey,a=e.className;return b.a.createElement("div",{className:a,"data-expanded":n,"data-qa-expandable-container-is-expanded":n,"data-qa-expandable-container-key":r},n?t:null)};m.displayName="ExpandableContainer",m.defaultProps=h;var f=Object(p.a)(m);t.a=Object(s.b)(function(e,t){var n=t.expandableKey,r=t.imageBytes,i=t.shouldBeExpandedByDefault,s=void 0===i||i,u=t.useAttachmentRules,d=void 0===u||u,b=o()(t,["expandableKey","imageBytes","shouldBeExpandedByDefault","useAttachmentRules"]),p=d?Object(l.e)(e,n,r):Object(c.d)(e,n);return a()({expandableKey:n,isExpanded:void 0===p?s:p},b)})(f)},VyaM:function(e,t,n){"use strict";var r=n("RjUC"),a=n("QLyv");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parseFormat,i=void 0===n?"unix":n,o=t.returnMoment,s=void 0!==o&&o;if(a.a.isMoment(e))return s?e:e.toDate();if(Object(r.a)(e))return s?Object(a.a)(e.getTime()):e;var c="unix"!==i,l=c?e:parseFloat(e),u=c?Object(a.a)(l,i):a.a.unix(l);return s?u:u.toDate()}},VymY:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=function(e){if(!e)return!1;var t=e.getBoundingClientRect();if(!t.width||!t.height)return!1;var n=window.getComputedStyle(e,null);return"visible"===n.getPropertyValue("visibility")&&"0"!==n.getPropertyValue("opacity")},o=/^(input|select|textarea|button)$/,s=function(e){if(!e)return!1;var t=e.nodeName.toLowerCase(),n=e.getAttribute("tabindex"),r=null!==n&&n>=0,a=null==n||e.tabIndex>=0||r,i=o.test(t),s="a"===t;return!(!i||e.disabled||"hidden"===e.type||!a)||(!(!s||!(e.href&&a||!e.href&&r))||!(i||s||!r))};n.d(t,"b",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return p});var c=['input:not([tabindex="-1"])','select:not([tabindex="-1"])','textarea:not([tabindex="-1"])','button:not([tabindex="-1"])','a:not([tabindex="-1"])','div[tabindex="0"]','span[tabindex="0"]'],l=function(){return!0},u=function(e){var t=function(e,t,n){return t||(s(n)&&i(n)&&e(n)?n:null)},n=function(e,t){return e.tabIndex-t.tabIndex},r=function(e){return 0===e.tabIndex};return function(i,o){if(!i)return null;var s=t.bind(t,o||l),u=[].concat(a()(i.querySelectorAll('[tabindex]:not([tabindex="0"]):not([tabindex="-1"])'))).sort(n),d=[].concat(a()(i.querySelectorAll(c))).filter(r);return u.concat(d)[e](s,null)}},d=u("reduce"),b=u("reduceRight"),p=function(e,t){var n=[].concat(a()(e.querySelectorAll(c))),r=t||l;return n.filter(function(e){return s(e)&&r(e)})}},"W+QA":function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return g});var r=n("QbLZ"),a=n.n(r),i=n("jeQL"),o=n("HA5h"),s=n("gSGL"),c=n("c8Bs"),l=n("VMwU"),u=n("tVnY"),d=/^#?([0-9a-f]{6})$/i,b={default_theme:l.a,aubergine_classic_theme:{column_bg:"#4D394B",menu_bg:"#3E313C",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#3E313C",text_color:"#FFFFFF",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#F8F8FA",menu_bg:"#F8F8FA",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#FFFFFF",text_color:"#383F45",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#0D7E83",menu_bg:"#076570",active_item:"#F79F66",active_item_text:"#FFFFFF",hover_item:"#D37C71",text_color:"#FFFFFF",active_presence:"#F79F66",badge:"#F15340"},chocolate_theme:{column_bg:"#544538",menu_bg:"#42362B",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#4A3C30",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#303E4D",menu_bg:"#2C3849",active_item:"#6698C8",active_item_text:"#FFFFFF",hover_item:"#4A5664",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#4D5250",menu_bg:"#444A47",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#434745",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},nocturne_theme:{column_bg:"#1A1D21",menu_bg:"#000000",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#000000",text_color:"#FFFFFF",active_presence:"#39E500",badge:"#CC4400"},solanum_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#D0FF00",badge:"#889100"},brinjal_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#00FFB7",badge:"#DE4C0D"},cotton_theme:{column_bg:"#BB6A76",menu_bg:"#AD5B67",active_item:"#62B791",active_item_text:"#FFFFFF",hover_item:"#A5516A",text_color:"#FFFFFF",active_presence:"#68F798",badge:"#694464"},eco_theme:{column_bg:"#86A34E",menu_bg:"#94AF63",active_item:"#FFFFFF",active_item_text:"#6D8B42",hover_item:"#94AF63",text_color:"#FFFFFF",active_presence:"#FFB10A",badge:"#DFA044"}},p=a()({},b,{neue_theme:{column_bg:"#4A3A57",menu_bg:"#372B40",nav_bar_bg:"#372B40",nav_bar_text:"#FFFFFF",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#372B40",text_color:"#FFFFFF",active_presence:"#4CCF24",badge:"#EB4D5C"},cloud_theme:{column_bg:"#FFFFFF",menu_bg:"#F5F5F7",nav_bar_bg:"#F5F5F7",nav_bar_text:"#2C2D30",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#F5F5F7",text_color:"#2C2D30",active_presence:"#4CCF24",badge:"#536C7A"},kaiyo_theme:{column_bg:"#283853",menu_bg:"#1F2C45",nav_bar_bg:"#1F2C45",nav_bar_text:"#FFFFFF",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#1F2C45",text_color:"#FFFFFF",active_presence:"#4CCF24",badge:"#0576B9"},midnight_theme:{column_bg:"#262A30",menu_bg:"#1C2025",nav_bar_bg:"#1C2025",nav_bar_text:"#FFFFFF",active_item:"#2C394C",active_item_text:"#FFFFFF",hover_item:"#1C2025",text_color:"#FFFFFF",active_presence:"#4CCF24",badge:"#4046AD"},stark_theme:{column_bg:"#FFFFFF",menu_bg:"#FFFFFF",nav_bar_bg:"#FFFFFF",nav_bar_text:"#323648",active_item:"#4046AD",active_item_text:"#FFFFFF",hover_item:"#F6F5F5",text_color:"#323648",active_presence:"#4CCF24",badge:"#4046AD"}}),h=["menu_bg","desktop_chrome_bg","desktop_chrome_sidebar","desktop_chrome_titlebar"],m=["nav_bar_bg","nav_bar_text"],f=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useGlobalNav;if("custom_theme"===e)return t;var r=n?p.default_theme:b.default_theme;return"default"===e||"default_theme"===e?r:!e&&t?t:(n?p[e]:b[e])||t||r},v=function(e,t){t&&Object(o.a)(e,Object(u.a)(e));var n=Object(i.a)(e,function(e,n){return t?h.includes(n):m.includes(n)});return(t?[n.column_bg,n.nav_bar_bg,n.nav_bar_text,n.active_item,n.active_item_text,n.hover_item,n.text_color,n.active_presence,n.badge]:[n.column_bg,n.menu_bg,n.active_item,n.active_item_text,n.hover_item,n.text_color,n.active_presence,n.badge]).join(",")},g=function(e,t){return function(e,t){var n=e?9:8;return!(!t||t.length!==n)&&Object(c.a)(t,function(e){return!!e&&!!Object(s.a)(e)&&e.match(d)})}(e,t)?e?{column_bg:t[0],nav_bar_bg:t[1],nav_bar_text:t[2],active_item:t[3],active_item_text:t[4],hover_item:t[5],text_color:t[6],active_presence:t[7],badge:t[8]}:{column_bg:t[0],menu_bg:t[1],active_item:t[2],active_item_text:t[3],hover_item:t[4],text_color:t[5],active_presence:t[6],badge:t[7]}:null}},W00J:function(e,t,n){},W5IG:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Add shared channel data for given team");i.propTypes={teamId:r.b.string,channelsData:r.b.object};var o=Object(a.b)("Remove channel from a given team");o.propTypes={teamId:r.b.string,channel:r.b.object}},W6f1:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("fujP"),c=n("aK/h"),l=n("MNvw"),u=n("FyaT"),d=n("4B0G"),b=n("c/L4"),p=n("9oTK"),h=n("u3oV"),m=n("vFlG"),f=n("EzZj"),v=n("OHCw"),g=n("8tPE"),_=n("dfJH"),O=n("kMSZ"),y=n("pfQy"),j=c.b.shape({companyName:c.b.string,street:c.b.string,suite:c.b.string,city:c.b.string,postalCode:c.b.string,region:c.b.string,country:c.b.string,isBusinessPurchase:c.b.bool,isVatIdAvailable:c.b.bool,vatId:c.b.string,abnId:c.b.string,validationErrors:c.b.object,isValidationActive:c.b.bool}),k=Object(f.b)("Checkout Address Form Data Loaded");k.propTypes=c.b.object;var E=Object(f.b)("Checkout Credit Card Form Loaded");E.propTypes=c.b.bool;var C=Object(f.b)("Checkout States and Countries Data Loaded");C.propTypes=c.b.object;var I=Object(f.b)("Checkout Company Address Data Loaded");I.propTypes=c.b.object;var w=Object(f.b)("Update Company Address Field");w.propTypes=c.b.object;var S=Object(f.b)("Company Address Validated");S.propTypes=c.b.object;var T=Object(f.b)("Company Address Form Field Validated");T.propTypes=c.b.object;var R=Object(f.b)("Clear Company Address Form Field Validation Errors");R.propTypes=c.b.object;var N=Object(f.b)("Credit Card Data Changed");N.propTypes=c.b.object;var x=Object(f.b)("Credit Card Token Created");x.propTypes=c.b.object;var M=Object(f.b)("Toggles if Credit Card Token is being created or not");M.propTypes=c.b.bool;var P=Object(f.b)("Upgrade Response Received");P.propTypes=c.b.object;var A=Object(f.b)("Stripe Customer Data Loaded");A.propTypes=c.b.object;var D=Object(f.b)("Update Stripe API Key");D.propTypes=c.b.object;var L=Object(f.b)("Update Invoice Data Field");L.propTypes=c.b.object;var q=Object(f.b)("Invoice Data Validated");q.propTypes=c.b.object;var F=Object(f.b)("Invoice Form Field Validated");F.propTypes=c.b.object;var B=Object(f.b)("Update Credit Card Selected");B.propTypes=c.b.object;var U=Object(f.b)("Update Credit Card Form Error");U.propTypes=c.b.object;var H=Object(f.b)("Clear Any Existing Credit Card Form Error");H.propTypes=null;var K=Object(f.b)("Clear Any Existing Payment Status or Errors");K.propTypes=null;var G=Object(f.b)("Self User Data Loaded");G.propTypes=c.b.object;var V=Object(f.b)("Update Is Processing Payment");V.propTypes=c.b.object;var z=Object(f.b)("Update Payment Method Selected");z.propTypes=c.b.string;var Y=Object(f.b)("Update Show App Disconnect Dialog");Y.propTypes=c.b.object;var W=Object(f.b)("Update Active Checkout Step");W.propTypes=c.b.object;var Q=Object(f.b)("Update Active Country");Q.propTypes=c.b.string;var X=Object(f.b)("Update Checkout Flow API Error Indicator");function Z(){var e,t=this;return e=Object(p.coroutine)(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.resolve)(n(Object(v.e)()));case 3:return r=e.sent,n(C({statesAndCountries:r})),e.next=7,Object(p.resolve)(n(Object(v.c)()));case 7:a=e.sent,n(I({companyAddress:a})),n(k()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(X({isCheckoutFlowAPIError:!0}));case 15:case"end":return e.stop()}},e,t,[[0,12]])})),function(t){return e.apply(this,arguments)}}function J(e){return function(t,n){return new Promise(function(r){var a=Object(y.d)(n()),i=Object(g.r)(e.companyAddress,a.vatCountries,e.featureVatProjectSaSkCollection);if(!Object(s.a)(i))return t(S(i)),void r({isCheckoutFormValid:!1});t(S(i)),t(Object(v.i)(e.companyAddress)).then(function(){r({isCheckoutFormValid:!0})}).catch(function(e){var n=e.data||{},a=n.response_code,i=n.error,o=n.format_valid,c=Object(g.c)(a,i,o);Object(s.a)(c)||(t(S(c)),r({isCheckoutFormValid:!1}))})})}}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{companyAddress:{},field:null,featureVatProjectSaSkCollection:!1},t=e.companyAddress,n=e.field,r=e.featureVatProjectSaSkCollection;return function(e,a){var i=Object(y.d)(a()),o=Object(g.s)(t,n,i.vatCountries,r);e(T({error:o,field:n}))}}function ee(e){return function(t,n){t(w(e));var r=Object(y.b)(n());r&&r.isValidationActive&&Object(m.a)(e,"country")&&t(J({companyAddress:Object(y.b)(n())}))}}function te(e){return function(t){t(V({isProcessingPayment:!0})),t(Object(v.h)(e)).then(function(e){return t(P(e))}).catch(function(e){t(P(e.data))})}}function ne(e){return function(t){return t(Object(v.f)(e)).then(function(e){var n=e.stripe_customer,r={};n&&!Object(s.a)(n.sources_payable)&&(r=Object(h.a)(n.sources_payable,function(e,t){return!n.sources_payable[t].is_bank_account})),t(A({stripeApiKey:e.stripe_api_publishable_key,sourcesPayable:r}))}).catch(function(){return t(X({isCheckoutFlowAPIError:!0}))})}}function re(e){return function(t,n){var r=n(),a=Object(y.j)(r),i=Object(O.D)(r),o=Object(O.C)(r),s=Object(_.e)(a,e,i,o);t(F({error:s,field:e}))}}function ae(e){return function(t,n){return new Promise(function(r){var a=n(),i=Object(O.D)(a),o=Object(O.C)(a),c=Object(_.d)(e,i,o);t(q(c)),r({isInvoiceFormValid:Object(s.a)(c)})})}}function ie(e){return function(t){t(V({isProcessingPayment:!0}));var n=e.billingContacts,r=a()({},e,{billingContacts:Object(_.c)(n)});t(Object(v.b)(r)).then(function(e){return t(P(e))}).catch(function(){return t(X({isCheckoutFlowAPIError:!0}))})}}function oe(){return function(e){e(Object(v.d)()).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).user;return e(G(t))})}}X.propTypes=c.b.object,J.propTypes={companyAddress:j},$.propTypes={companyAddress:j,field:c.b.string},ee.propTypes=c.b.object,te.propTypes=c.b.object,ne.propTypes={country:c.b.string},_.e.propTypes={field:c.b.string},ae.propTypes={invoiceData:c.b.object},ie.propTypes=c.b.object;var se,ce,le=n("GA3r"),ue={companyName:d.c.COMPANY_NAME,street:d.c.STREET,suite:d.c.SUITE,city:d.c.CITY,postalCode:d.c.POSTAL_CODE,region:d.c.REGION,country:d.c.COUNTRY,isBusinessPurchase:d.c.IS_BUSINESS_PURCHASE,isVatIdAvailable:d.c.IS_VAT_AVAILABLE,vatId:d.c.VAT_ID,abnId:d.c.ABN_ID,qstId:d.c.QST_ID,validationErrors:{},isValidationActive:!1},de={code:"",message:"",type:""},be={elementType:"",complete:!1,empty:!0,error:de},pe=(se={cardName:be},o()(se,u.c.CARD_NUMBER,be),o()(se,u.c.CARD_EXPIRY,be),o()(se,u.c.CARD_CVC,be),o()(se,u.c.POSTAL_CODE,be),o()(se,"token",{}),o()(se,"tokenError",de),o()(se,"formError",de),o()(se,"useExistingCreditCard",!1),se),he={ok:!1,error:"",msg:"",isProcessingPayment:!1},me={config:{countries:[],usStates:{},canadaStates:{},vatCountries:{},abnCountries:{},stripeApiKey:null,sourcesPayable:{},user:null},companyAddress:ue,isCheckoutAddressFormDataLoaded:!1,isCheckoutCreditCardFormLoaded:!1,creditCardData:pe,isCreatingCreditCardToken:!1,paymentStatus:he,invoiceData:{numberOfUsers:"",additionalBillingContacts:"",purchaseOrderNumber:"",validationErrors:{}},paymentMethodSelected:b.d.CREDIT_CARD,isAppDisconnectedDialogShown:!1,activeCheckoutStep:le.b.form,isCheckoutFlowAPIError:!1},fe=Object(l.b)((ce={},o()(ce,k,function(e){return a()({},e,{isCheckoutAddressFormDataLoaded:!0})}),o()(ce,E,function(e,t){return a()({},e,{isCheckoutCreditCardFormLoaded:t})}),o()(ce,C,function(e,t){return a()({},e,{config:a()({},e.config,{countries:t.statesAndCountries.countries,usStates:t.statesAndCountries.usStates,canadaStates:t.statesAndCountries.canadaStates,vatCountries:t.statesAndCountries.vatCountries,abnCountries:t.statesAndCountries.abnCountries})})}),o()(ce,I,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,{companyName:t.companyAddress.companyName,street:t.companyAddress.street,suite:t.companyAddress.suite,city:t.companyAddress.city,postalCode:t.companyAddress.postalCode,region:t.companyAddress.region,country:t.companyAddress.country,isBusinessPurchase:t.companyAddress.isBusinessPurchase,isVatIdAvailable:t.companyAddress.isVatIdAvailable,vatId:t.companyAddress.vatId,abnId:t.companyAddress.abnId,qstId:t.companyAddress.qstId})})}),o()(ce,w,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,t)})}),o()(ce,S,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,{validationErrors:t,isValidationActive:!0})})}),o()(ce,T,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,{validationErrors:a()({},e.companyAddress.validationErrors,o()({},t.field,t.error))})})}),o()(ce,R,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,{validationErrors:a()({},e.companyAddress.validationErrors,o()({},t.field,null))})})}),o()(ce,N,function(e,t){var n=a()({},e,{creditCardData:a()({},e.creditCardData,o()({},t.elementType,t))});return"cardName"!==t.elementType&&(n.creditCardData.token=null,n.creditCardData.tokenError=null),n}),o()(ce,H,function(e){return a()({},e,{creditCardData:a()({},e.creditCardData,{formError:de})})}),o()(ce,U,function(e,t){return a()({},e,{creditCardData:a()({},e.creditCardData,{formError:t})})}),o()(ce,x,function(e,t){return a()({},e,{creditCardData:a()({},e.creditCardData,{token:t.token,tokenError:t.error})})}),o()(ce,M,function(e,t){return a()({},e,{isCreatingCreditCardToken:t})}),o()(ce,P,function(e,t){return a()({},e,{paymentStatus:a()({},e.paymentStatus,{ok:t.ok,error:t.error,msg:t.msg,isProcessingPayment:!1})})}),o()(ce,K,function(e){return a()({},e,{paymentStatus:he})}),o()(ce,V,function(e,t){return a()({},e,{paymentStatus:a()({},e.paymentStatus,{isProcessingPayment:t.isProcessingPayment})})}),o()(ce,A,function(e,t){return a()({},e,{config:a()({},e.config,{stripeApiKey:t.stripeApiKey,sourcesPayable:Object(s.a)(t.sourcesPayable)?{}:t.sourcesPayable}),creditCardData:a()({},e.creditCardData,{useExistingCreditCard:!Object(s.a)(t.sourcesPayable)})})}),o()(ce,D,function(e,t){return a()({},e,{config:a()({},e.config,{stripeApiKey:t.stripeApiKey}),creditCardData:a()({},e.creditCardData,{token:null,tokenError:null})})}),o()(ce,B,function(e,t){var n=t.creditCardId!==u.a;return a()({},e,{creditCardData:a()({},e.creditCardData,{useExistingCreditCard:n,token:{id:t.creditCardId,card:{last4:t.creditCardLast4,brand:t.creditCardBrand}}})})}),o()(ce,L,function(e,t){return a()({},e,{invoiceData:a()({},e.invoiceData,t.data,{validationErrors:a()({},e.invoiceData.validationErrors,o()({},t.field,null))})})}),o()(ce,q,function(e,t){return a()({},e,{invoiceData:a()({},e.invoiceData,{validationErrors:t})})}),o()(ce,F,function(e,t){return a()({},e,{invoiceData:a()({},e.invoiceData,{validationErrors:a()({},e.invoiceData.validationErrors,o()({},t.field,t.error))})})}),o()(ce,G,function(e,t){return a()({},e,{config:a()({},e.config,{user:t})})}),o()(ce,z,function(e,t){return a()({},e,{paymentMethodSelected:t})}),o()(ce,Y,function(e,t){return a()({},e,{isAppDisconnectedDialogShown:t.isAppDisconnectedDialogShown})}),o()(ce,W,function(e,t){return a()({},e,{activeCheckoutStep:t.activeCheckoutStep})}),o()(ce,Q,function(e,t){return a()({},e,{companyAddress:a()({},e.companyAddress,{country:t})})}),o()(ce,X,function(e,t){return a()({},e,{isCheckoutFlowAPIError:t.isCheckoutFlowAPIError})}),ce),me,{persistenceEnabled:!0});fe.propTypes={config:c.b.object,companyAddress:c.b.object,isCheckoutAddressFormDataLoaded:c.b.bool,isCheckoutCreditCardFormLoaded:c.b.bool,creditCardData:c.b.object,isCreatingCreditCardToken:c.b.bool,paymentStatus:c.b.object,invoiceData:c.b.object,paymentMethodSelected:c.b.string,isAppDisconnectedDialogShown:c.b.bool,activeCheckoutStep:c.b.string};var ve=fe;n.d(t,"s",function(){return y.m}),n.d(t,"g",function(){return y.b}),n.d(t,"h",function(){return y.c}),n.d(t,"i",function(){return y.d}),n.d(t,"t",function(){return y.n}),n.d(t,"p",function(){return y.k}),n.d(t,"k",function(){return y.f}),n.d(t,"n",function(){return y.i}),n.d(t,"j",function(){return y.e}),n.d(t,"m",function(){return y.h}),n.d(t,"l",function(){return y.g}),n.d(t,"u",function(){return y.o}),n.d(t,"f",function(){return y.a}),n.d(t,"q",function(){return y.l}),n.d(t,"B",function(){return y.s}),n.d(t,"F",function(){return y.w}),n.d(t,"E",function(){return y.v}),n.d(t,"C",function(){return y.t}),n.d(t,"o",function(){return y.j}),n.d(t,"D",function(){return y.u}),n.d(t,"z",function(){return y.q}),n.d(t,"y",function(){return y.p}),n.d(t,"A",function(){return y.r}),n.d(t,"I",function(){return E}),n.d(t,"a",function(){return R}),n.d(t,"r",function(){return N}),n.d(t,"M",function(){return x}),n.d(t,"P",function(){return M}),n.d(t,"R",function(){return D}),n.d(t,"N",function(){return L}),n.d(t,"L",function(){return B}),n.d(t,"K",function(){return U}),n.d(t,"b",function(){return H}),n.d(t,"c",function(){return K}),n.d(t,"Q",function(){return z}),n.d(t,"O",function(){return Y}),n.d(t,"H",function(){return W}),n.d(t,"v",function(){return Z}),n.d(t,"S",function(){return J}),n.d(t,"T",function(){return $}),n.d(t,"J",function(){return ee}),n.d(t,"G",function(){return te}),n.d(t,"x",function(){return ne}),n.d(t,"V",function(){return re}),n.d(t,"U",function(){return ae}),n.d(t,"d",function(){return ie}),n.d(t,"w",function(){return oe});t.e=ve},W7ut:function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=n("C6rm"),h=n("HO/Y"),m=n("XzsM");n.d(t,"e",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return j});var f=Object(l.b)("Reset search in-product education store (internal)");f.propTypes={};var v=Object(l.b)("Increment the number of times something happens to trigger search in-product education (internal)");v.propTypes={};var g=Object(l.b)("Dismiss the search in-product education for a period (internal)");g.propTypes={};var _=Object(d.b)(function(e){return function(e){return Object(h.j)(e,"feature_strollers_to_perch")&&"strollers_to_perch"===Object(m.c)(e,"strollers_to_perch")}(e)&&e&&e.searchInProductEducation&&e.searchInProductEducation.counter>=2&&e.searchInProductEducation.dismissed<=Date.now()-864e5}),O=Object(b.b)("Reset search in-product education store",function(e,t){e(f()),Object(p.b)(_(t()))});O.propTypes={};var y=Object(b.b)("Increment the number of times something happens to trigger search in-product education",function(e,t){e(v()),Object(p.b)(_(t()))});y.propTypes={};var j=Object(b.b)("User has dismissed search in-product education",function(e,t){e(g()),Object(p.b)(_(t()))});y.propTypes={},Object(b.b)("TEST_ONLY: force search in product education to be something",function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).show)for(var n=0;n<2;++n)e(y());else e(O());Object(p.b)(_(t()))}).propTypes={show:c.b.bool.isRequired};var k={counter:0,dismissed:0},E=Object(u.b)((r={},i()(r,f,function(){return k}),i()(r,v,function(e){return s()({},e,{counter:e.counter+1})}),i()(r,g,function(e){return s()({},e,{dismissed:Date.now()})}),r),k,{persistenceEnabled:!1});E.propTypes={counter:c.b.number.isRequired,dismissed:c.b.number.isRequired};t.a=E},W80F:function(e,t,n){},WD4z:function(e,t,n){"use strict";var r=n("sJy+");t.a=r.d},WExW:function(e,t,n){"use strict";function r(e){return!!(e&&e.insert&&e.attributes&&e.attributes.link)}n.d(t,"a",function(){return r})},WFc3:function(e,t,n){"use strict";var r=/^[\/\uff0f][^\/\uff0f\s]/;t.a=function(e){return r.test(e)}},WKJn:function(e,t,n){"use strict";function r(e){return!!(e&&e.insert&&e.insert.slackemoji)}n.d(t,"a",function(){return r})},WLCO:function(e,t,n){},WTjW:function(e,t,n){"use strict";var r=n("m8R6"),a=n("aK/h"),i=n("kxpR"),o=n.n(i),s=n("XHGt"),c=n("Fdc0"),l=(a.b.string.isRequired,function(e){var t=Object(r.a)(e,["id","name","dispatch","firstName"]);return o.a.createElement("span",t,e.name)});l.displayName="MemberName";t.a=Object(s.b)(function(e,t){var n=t.id;return{name:Object(c.Q)(e,n)}})(l)},WVBe:function(e,t,n){"use strict";n.d(t,"b",function(){return _});var r=n("iCc5"),a=n.n(r),i=n("FYw3"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("tfYw"),b=n.n(d),p=n("fujP"),h=n("Cjy0"),m=n.n(h).a.import("blots/embed"),f="c-texty_workflow_token__label",v="c-texty_workflow_token__property",g="c-texty_workflow_token__customize_dropdown";function _(){return/{{([^.]+?)(?:\.([a-z]+))?}}/gi}var O=function(e){function t(e){a()(this,t);var n=o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=t.value(e),i=r.label,s=r.propertyLabel,c=document.createElement("button");c.setAttribute("contenteditable",!1);var l=document.createElement("strong");if(l.textContent=i,l.classList.add(f),c.appendChild(l),s){var u=document.createElement("span");u.textContent=s,u.classList.add(v),c.appendChild(u)}var d=document.createElement("i");return d.classList.add(g,"c-icon","c-icon--chevron-down"),c.appendChild(d),e.appendChild(c),n}return u()(t,e),c()(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.label,a=e.sourceLabel,i=e.property,o=e.propertyLabel,s=e.properties,c=void 0===s?[]:s,l=e.isAvailable,u=o;if(i&&!o&&!Object(p.a)(c)){var d=c.find(function(e){return e.name===i});d&&(u=d.label)}var h=b()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return h.setAttribute("data-id",n||""),h.setAttribute("data-label",r||""),h.setAttribute("data-property",i||""),h.setAttribute("data-property-label",u||""),h.setAttribute("data-is-available",!!l),h.setAttribute("title",a||""),e.isAvailable||h.classList.add("is-missing"),h}},{key:"value",value:function(e){return{id:e.getAttribute("data-id"),label:e.getAttribute("data-label"),sourceLabel:e.getAttribute("title"),property:e.getAttribute("data-property"),propertyLabel:e.getAttribute("data-property-label"),isAvailable:"true"===e.getAttribute("data-is-available")}}},{key:"formats",value:function(e){return{id:e.getAttribute("data-id"),label:e.getAttribute("data-label"),sourceLabel:e.getAttribute("title"),property:e.getAttribute("data-property"),propertyLabel:e.getAttribute("data-property-label"),isAvailable:"true"===e.getAttribute("data-is-available")}}}]),t}(m);O.blotName="workflowtoken",O.tagName="span",O.className="c-texty_workflow_token",t.a=O},WZ56:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("OZtQ"),a=n("6kok");function i(e,t){return(Object(r.f)(e)||{})[t]}function o(e,t){var n=Object(r.f)(e)||{};return Object.values(n).filter(function(n){return Object(a.x)(e,n,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1})===t.replace(/#/g,"")})[0]}},WaNi:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=n("Smdl"),s=Object(a.a)("Calls users.counts endpoint",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason,r=void 0===n?"users-counts-api/fetchUsersCounts":n;return e(Object(i.a)({method:"users.counts",args:{mpim_aware:!0,only_relevant_ims:!0,simple_unreads:!0,include_threads:!0,mpdm_dm_users:Object(o.a)()},reason:r})).then(function(e){return e&&e.ok?{channels:e.channels,groups:e.groups,ims:e.ims,mpims:e.mpims,threads:e.threads}:{}})});s.propTypes={reason:r.b.string}},WcGV:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("CXsT"),o=n("Iq6W"),s=Object(a.b)("Process message data from the api/socket and add it to the messages-store (but not the channel-history-store)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.message,a=n.channelId,s=e(Object(i.a)({imsgs:[r],channelId:a}));return e(Object(o.a)(s)),s[0]});s.propTypes={message:r.b.shape({ts:r.b.string.isRequired}).isRequired,channelId:r.b.string.isRequired},t.a=s},WeBd:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("TGBA"),a=n("aK/h"),i=n("kxpR"),o=n.n(i),s=n("MnCE"),c=n("TSYQ"),l=n.n(c),u=(n("eKxv"),{black:"black",red:"red",white:"white"}),d=(a.b.string,a.b.number.isRequired,a.b.number,a.b.oneOf(Object(r.a)(u)),{className:void 0,maxCount:9,style:u.black}),b=function(e){var t=e.className,n=e.count,r=e.maxCount,a=e.style;if(!n||n<0)return null;var i=l()(t,"c-mention_badge",{"c-mention_badge--red":a===u.red,"c-mention_badge--white":a===u.white});return o.a.createElement("span",{"data-qa":"mention_badge",className:i},function(e,t){return e>t?t+"+":String(e)}(n,r))};b.displayName="MentionBadge",b.defaultProps=d,t.b=Object(s.a)(b)},"Wg6/":function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("wYji"),o=n("g5qt"),s=n("YsUP"),c=n("8QLk"),l=n("HO/Y"),u=n("uf9I"),d=n("rWF5"),b=function(){var e=location.hostname;return d.r&&(e="upload.slack.com"),location.protocol+"//"+e+"/api/"},p=void 0,h=0,m=Object(a.b)("Run trace for perf / stats in SSB",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.period,a=void 0===r?2e4:r,i=n.reason,d=void 0===i?"":i;if(!Object(o.i)())return Promise.resolve();if(p&&p.isPending())return p;var m=t(),f=function(e){return h+=1,[Object(u.b)(e),Object(l.b)(e),Date.now(),h].join("_")}(m),v=function(e){var t=parseInt(e,10);return Object(s.a)(t)?2e4:Object(c.a)(1e3*t,1e3,6e4)}(a);return p=Promise.resolve(Object(o.Ib)({identifier:f,endpoint:b()+"profiling.addTrace",token:Object(l.g)(m),metadata:{reason:d,identifier:f,duration:v}})).delay(v).finally(function(){return Promise.resolve(Object(o.Jb)())})});m.propTypes={period:r.b.oneOfType([r.b.number,r.b.string]),reason:r.b.string};var f=m,v=new(n("nNoG").b)("cmd_handlers"),g=Object(a.b)("/slacktrace slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.words;if(Object(o.i)()){var s=a[1];"ui"!==s?(e(f({period:parseInt(s,10),reason:"slashcommand"})),e(Object(i.b)({temporary:!1,message:{text:v.t("Thank you for submitting a performance profile to Slack!"),channel:r}}))):Object(o.lb)()}});g.propTypes={channelId:r.b.string.isRequired,words:r.b.arrayOf(r.b.string).isRequired};t.default=g},Wofk:function(e,t,n){"use strict";var r=n("NFsq"),a=n("ifKl"),i=n("aK/h"),o=n("kxpR"),s=n.n(o),c=n("MnCE"),l=n("TSYQ"),u=n.n(l),d=n("nNoG"),b=n("NqlN"),p=n("rzSx"),h=n("XLFM"),m=n("qkTT"),f=n("RAhH"),v=n("zmn3"),g=n("bPB8"),_=n("XHGt"),O=n("HO/Y"),y=n("DtX9"),j=n("Fdc0"),k=n("UF3u"),E=n("w6pt"),C=new d.b("reactions");i.b.arrayOf(i.b.node),i.b.string.isRequired,i.b.number.isRequired,i.b.bool;var I=function(e){var t=function(e){var t=e.users,n=e.emoji,r=e.count,a=e.reacted,i=":"+n+":";if(Object(d.e)()||(i=Object(p.g)(i)),1===r)return a?C.rt('You (click to remove) <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{emoji:i}):C.rt('{user} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{user:t[0],emoji:i});r!==t.length&&t.push(C.t("others"));var o=Object(d.h)(t,{noEscape:!0,react:!0});return a?C.rt('{users_and_you} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{users_and_you:o,emoji:i}):C.rt('{users} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{users:o,emoji:i})}({users:e.users,emoji:e.emoji,count:e.count,reacted:e.reacted});return s.a.createElement("span",{className:"c-reaction__tip"},t)};I.displayName="ReactionTip",I.defaultProps={users:[],reacted:!1};var w=Object(_.b)(function(e,t){var n=Object(O.b)(e),r=Object(g.a)(t.users).slice(0,50);return{users:Object(v.a)(r,function(t,r){if(t===n)return 0===r?C.t("You"):C.t("you");var a=Object(y.c)(e,t);return Object(j.Fb)(a)?s.a.createElement(E.a,{type:"unknown",subtler:!0}):Object(j.sb)(a)?s.a.createElement(E.a,{type:"non-existent",subtler:!0}):Object(j.Q)(e,t)})}},null,null,{areStatePropsEqual:function(e,t){return Object(k.a)(e,t,2)}})(I);n("LvkU");n.d(t,"b",function(){return T});var S=new d.b("reactions"),T={count:i.b.number.isRequired,name:i.b.string.isRequired,users:i.b.arrayOf(i.b.string).isRequired,url:i.b.string,currentUser:i.b.string,onClick:i.b.func,emojiMode:i.b.string},R={url:null,currentUser:null,onClick:a.a,emojiMode:null};var N=function(e){var t=e.count,n=e.name,a=e.users,i=e.url,o=e.currentUser,c=e.onClick,l=e.emojiMode,v=Object(r.a)(a,o),g=s.a.createElement(w,{users:a,count:t,emoji:n,reacted:v}),_=function(e){var t=":"+e+":",n=Object(d.e)()?t:Object(p.g)(t);return S.t("React with {emojiName}",{emojiName:Object(b.a)(n),note:"Screenreader: Label for blind users"})}(n);return s.a.createElement(f.c,{tip:g,delay:f.a},s.a.createElement(h.c,{className:u()("c-reaction",{"c-reaction--reacted":v}),onClick:function(e){e.preventDefault(),c(n,v)},"aria-label":_},s.a.createElement(m.b,{text:":"+n+":",url:i,showTooltip:!1,emojiSize:m.a.SMALL,emojiMode:l}),s.a.createElement("span",{className:"c-reaction__count"},t)))};N.displayName="Reaction",N.defaultProps=R;t.a=Object(c.a)(N)},WpA8:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=Object(a.b)("/slackjspath slash command",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).originalRest[0]||"1",r=new URL(window.location.href);r.searchParams.append("js_path",n),window.location=r});i.propTypes={originalRest:r.b.string},t.default=i},WvH5:function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("TSHB"),l=n("aK/h"),u=n("MNvw"),d=n("5BKc"),b=n("AcCB"),p={interfaceMode:"EDIT",tab:"messages",visible:!1,requestQuery:null,modules:{},scrollPosition:{all:0,messages:0,files:0,channels:0},sessionTimeoutId:null,lastOpenMethod:null,focusedViaTabKey:!1,isDebugInfoVisible:!1,searchOptions:{searchOnlyCurrentTeam:!1,searchOnlyMyChannels:!1,searchExcludeBots:!1},sharedTeams:{state:"ready",refreshed:0,teamIds:[]},channelSearchFilterType:{type:"all"},channelSearchOrgFilters:[],channelSearchOrgFilterSuggestions:[],channelSearchSort:d.b.relevant,channelJoins:{},channelLeaves:{},peopleSearchFilterType:{type:d.f.all},peopleSearchCustomFilters:{},peopleSearchOrgFilters:[],peopleSearchOrgFilterSuggestions:[],peopleSearchTimezoneFilterSuggestions:[]},h=Object(u.b)((r={},i()(r,b.b,function(){return p}),i()(r,b.p,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).interfaceMode;return s()({},e,{interfaceMode:t})}),i()(r,b.D,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).tab;return s()({},e,{tab:t})}),i()(r,b.o,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).visible;return s()({},e,{visible:t})}),i()(r,b.r,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.moduleType,r=t.loading;return s()({},e,{modules:s()({},e.modules,i()({},n,s()({},e.modules[n],{loading:r})))})}),i()(r,b.s,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.moduleType,r=t.page;return s()({},e,{modules:s()({},e.modules,i()({},n,s()({},e.modules[n],{page:r})))})}),i()(r,b.l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.error,r=t.loading;return s()({},e,{modules:Object(c.a)(e.modules,function(e){return s()({},e,{error:n,loading:r})})})}),i()(r,b.m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.moduleType,r=t.error,a=t.loading;return s()({},e,{modules:s()({},e.modules,i()({},n,s()({},e.modules[n],{error:r,loading:a})))})}),i()(r,b.C,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.moduleType,r=t.moduleState;return s()({},e,{modules:s()({},e.modules,i()({},n,s()({},e.modules[n],r)))})}),i()(r,b.k,function(e){return s()({},e,{tab:p.tab})}),i()(r,b.E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.view,r=t.position;return s()({},e,{scrollPosition:s()({},e.scrollPosition,i()({},n,r))})}),i()(r,b.e,function(e){return s()({},e,{scrollPosition:p.scrollPosition})}),i()(r,b.B,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sessionTimeoutId;return s()({},e,{sessionTimeoutId:t})}),i()(r,b.q,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lastOpenMethod;return s()({},e,{lastOpenMethod:t})}),i()(r,b.n,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).wasFocusedViaTabKey;return s()({},e,{focusedViaTabKey:t})}),i()(r,b.F,function(e){return s()({},e,{isDebugInfoVisible:!e.isDebugInfoVisible})}),i()(r,b.h,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type;return s()({},e,{channelSearchFilterType:{type:t}})}),i()(r,b.j,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).orgFilters;return s()({},e,{channelSearchOrgFilters:t})}),i()(r,b.w,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).orgFilters;return s()({},e,{peopleSearchOrgFilters:t})}),i()(r,b.z,function(e){return s()({},e,{sharedTeams:s()({},e.sharedTeams,{state:"loading"})})}),i()(r,b.y,function(e){return s()({},e,{sharedTeams:s()({},e.sharedTeams,{state:"error"})})}),i()(r,b.A,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamIds;return s()({},e,{sharedTeams:{state:"ready",refreshed:Date.now(),teamIds:t}})}),i()(r,b.i,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamIds;return s()({},e,{channelSearchOrgFilterSuggestions:t})}),i()(r,b.v,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamIds;return s()({},e,{peopleSearchOrgFilterSuggestions:t})}),i()(r,b.f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.value;return s()({},e,{channelJoins:s()({},e.channelJoins,i()({},n,r))})}),i()(r,b.g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.value;return s()({},e,{channelLeaves:s()({},e.channelLeaves,i()({},n,r))})}),i()(r,b.a,function(e){return s()({},e,{channelJoins:{},channelLeaves:{}})}),i()(r,b.u,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type;return s()({},e,{peopleSearchFilterType:{type:t}})}),i()(r,b.t,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.value,a=t.checked,i=s()({},e.peopleSearchCustomFilters);i[n]||(i[n]=[]);var o=!1;return i[n]=i[n].map(function(e){return e.value===r?(o=!0,{value:r,checked:a}):e}),o||i[n].push({value:r,checked:a}),s()({},e,{peopleSearchCustomFilters:i})}),i()(r,b.x,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.label,r=t.value,a=t.checked,i=!1,o=e.peopleSearchTimezoneFilterSuggestions.map(function(e){return e.value===r?(i=!0,{label:n,value:r,checked:a}):e});return i||o.push({label:n,value:r,checked:a}),s()({},e,{peopleSearchTimezoneFilterSuggestions:o})}),i()(r,b.d,function(e){return s()({},e,{peopleSearchFilterType:p.peopleSearchFilterType,peopleSearchCustomFilters:p.peopleSearchCustomFilters,peopleSearchOrgFilters:p.peopleSearchOrgFilters,peopleSearchTimezoneFilterSuggestions:p.peopleSearchTimezoneFilterSuggestions})}),i()(r,b.c,function(e){return s()({},e,{channelSearchFilterType:p.channelSearchFilterType,channelSearchOrgFilters:p.channelSearchOrgFilters,channelSearchSort:p.channelSearchSort,channelJoins:p.channelJoins,channelLeaves:p.channelLeaves})}),r),p,{persistenceEnabled:!0});h.propTypes={interfaceMode:l.b.string,tab:l.b.string,visible:l.b.bool,requestQuery:l.b.any,modules:l.b.objectOf(l.b.shape({loading:l.b.bool,page:l.b.number,error:l.b.string})),scrollPosition:l.b.shape({all:l.b.number,messages:l.b.number,files:l.b.number}),sessionTimeoutId:l.b.number,lastOpenMethod:l.b.string,focusedViaTabKey:l.b.bool,isDebugInfoVisible:l.b.bool,channelJoins:l.b.object,peopleSearchCustomFilters:l.b.objectOf(l.b.arrayOf(l.b.shape({value:l.b.string,checked:l.b.bool}))),sharedTeams:l.b.shape({state:l.b.oneOf(["ready","loading","error"]).isRequired,refreshed:l.b.number.isRequired,teamIds:l.b.arrayOf(l.b.string.isRequired).isRequired}),channelSearchOrgFilters:l.b.arrayOf(l.b.string.isRequired).isRequired,peopleSearchOrgFilters:l.b.arrayOf(l.b.string.isRequired).isRequired,channelSearchOrgFilterSuggestions:l.b.arrayOf(l.b.string.isRequired).isRequired,peopleSearchOrgFilterSuggestions:l.b.arrayOf(l.b.string.isRequired).isRequired,peopleSearchTimezoneFilterSuggestions:l.b.arrayOf(l.b.object.isRequired).isRequired};var m=h,f=n("3MJR");n.d(t,"b",function(){return f.f}),n.d(t,"d",function(){return f.r}),n.d(t,"c",function(){return f.h});t.a=m},Wzrj:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("QbLZ"),b=n.n(d),p=n("wBxZ"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("XHGt"),g=n("Fdc0"),_=n("yPgC"),O=n("RAhH"),y=n("UF3u"),j=n("nNoG"),k=n("mOAw"),E=n("O/xh"),C=n("ynxK"),I=n("clTI"),w=n("DtX9"),S=n("xJ6S"),T=n("4TVd"),R=n("HO/Y"),N=n("lwWk"),x=new j.b("message"),M=(_.a.Rollup(),f.b.shape({name:f.b.string.isRequired}).isRequired,f.b.string.isRequired,f.b.bool.isRequired,f.b.bool,function(e,t,n,r){var a=r.tag,i=r.text,o=r.key,s={className:"c-message__rollup_member",target:"_blank",rel:"noopener noreferrer"};switch(a){case"user":return m.a.createElement(N.a,b()({href:"/team/"+e.id,key:o,onClick:L(e.id)},s),i);case"inviter":return m.a.createElement(N.a,b()({href:"/team/"+t.id,key:o,onClick:L(t.id)},s),i);case"other":return m.a.createElement(N.a,b()({href:"/team/"+n[0].id,key:o,onClick:L(n[0].id)},s),i);case"others":var c=q(n);return m.a.createElement(O.c,{tip:c,key:o},m.a.createElement("span",{className:"no_wrap"},i));default:return i}}),P=function(e){return e.preventDefault()},A=function(e,t,n,r){var a=r.tag,i=r.text,o=r.key,s={className:"c-message__rollup_member",target:"_blank",rel:"noopener noreferrer"};switch(a){case"user":return m.a.createElement(E.a,{userId:e.id,onClick:P},m.a.createElement(C.a,b()({key:o},s),i));case"inviter":return m.a.createElement(E.a,{userId:t.id,onClick:P},m.a.createElement(C.a,b()({key:o},s),i));case"other":return m.a.createElement(E.a,{userId:n[0].id,onClick:P},m.a.createElement(C.a,b()({key:o},s),i));case"others":var c=q(n);return m.a.createElement(O.c,{tip:c,key:o},m.a.createElement("span",{className:"no_wrap"},i));default:return i}},D=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(y.a)(e,this.props,3)}},{key:"render",value:function(){var e=this.props,t=e.rollup,n=e.channel,r=e.user,a=e.isAppUser,i=e.featureReactMemberProfileCard;if(!t||0===t.length)return null;var o=i?A:M,s=Object(S.a)({plainText:!1,rollup:t,channel:n,user:r,isAppUser:a,i18nReplaceCallback:o});return m.a.createElement("span",{className:"c-message__body c-message__body--automated"},s)}}]),t}(h.Component);function L(e){return function(t){t.preventDefault(),Object(k.a)(t,e)}}function q(e){var t=Object(p.a)(e,100).map(function(e){return e.name});return e.length>100&&t.push(x.t("{count, plural, =1 {# other} other {# others}}",{count:e.length-100})),Object(j.h)(t,{noEscape:!0}).join("")}D.displayName="Rollup",D.defaultProps={rollup:null,featureReactMemberProfileCard:!1};t.a=Object(v.b)(function(e,t){var n=t.rollup,r=t.user,a=t.channelId;return{channel:Object(I.d)(e,a),rollup:Object(T.a)(e,n),isAppUser:Object(g.bb)(Object(w.c)(e,r)),featureReactMemberProfileCard:Object(R.j)(e,"feature_react_member_profile_card")}})(D)},"X/Nq":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mM05"),a=n.n(r),i=n("rqfA"),o=n("dG3r");function s(e,t){for(var n=[e||new a.a,t||new a.a],r=0;r<n.length;r++){var s=n[r].ops[n[r].ops.length-1];n[r].ops.length&&Object(i.a)(s)&&!Object(o.a)(s)&&"\n"===s.insert.substr(-1)||n[r].insert("\n")}return 0===n[0].diff(n[1]).length()}},X5Eo:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("ifKl"),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("TSYQ"),d=n.n(u),b=n("lQgN"),p=n("kd6D"),h=(n("a2Ww"),l.b.oneOf(Object(i.a)(p.b)).isRequired,l.b.string,l.b.node,l.b.node,l.b.node,l.b.func,l.b.oneOf(Object(i.a)(p.c)),{avatar:o.a,className:void 0,metadata:void 0,style:p.c.normal,subtext:void 0,text:void 0}),m=function(e,t,n,r){return!(e!==p.b.medium||!n)&&(!r&&!t)},f={className:"c-base_entity__avatar"},v=function(e){var t=e.size,n=e.style,r=e.text,i=e.className,o=e.subtext,s=e.avatar,l=e.metadata,u=s(f),h=!!u;return c.a.createElement("div",a()({className:d()(i,"c-base_entity","c-base_entity--"+t,{"c-base_entity--has-avatar":h,"c-base_entity--dim":n===p.c.dim,"c-base_entity--vertically-center":m(t,o,h,l)})},Object(b.a)(e)),u,c.a.createElement("div",{className:"c-base_entity__text-contents"},r,o,l))};v.displayName="BaseEntity",v.defaultProps=h,t.a=v},X7d8:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return h});var r=n("9oTK"),a=n("fujP"),i=n("aK/h"),o=n("4zXV"),s=n("XfeM"),c=n("Vp6b"),l=n("Q9r6"),u=Object(s.b)("Fetch all teams connected via external shared channels",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ids,a=n.reason,i=void 0===a?"fetchAndUpsertExternalTeams":a;return e(Object(o.a)({method:"team.listExternal",args:r?{teams:r}:{},reason:i})).then(function(n){return p(t,e,n.teams,{allTeamsAreExternal:!0})}).catch(function(e){throw e})});u.propTypes={ids:i.b.arrayOf(i.b.string),reason:i.b.string};var d,b=Object(s.b)("Fetches and upserts user groups that match a query",(d=Object(r.method)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.count,i=n.ids,o=n.marker,s=n.reason,l=void 0===s?"fetchAndUpsertTeamsWithQuery":s;return e(Object(c.b)({query:r,count:a,ids:i,marker:o,reason:l})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.items,a=n.next_cursor_mark;return{teams:p(t,e,r),next_cursor_mark:a}})}),function(e,t,n){return d.apply(this,arguments)}));function p(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allTeamsAreExternal,a=void 0!==r&&r;return n.map(function(e){return t(Object(l.c)({team:e,isExternal:a}))})}b.propTypes={query:i.b.string,reason:i.b.string};var h=Object(s.b)("Fetches and upserts missing teams from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ids,i=n.reason;return Object(a.a)(r)?Promise.resolve([]):e(Object(c.a)({ids:r,reason:i})).then(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return e(Object(l.c)({team:t}))})})});h.propTypes={ids:i.b.arrayOf(i.b.string).isRequired,reason:i.b.string.isRequired}},X7v7:function(e,t,n){},XC2b:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("XHGt"),m=n("aK/h"),f=n("nNoG"),v=n("HO/Y"),g=n("N52Z"),_=n("QgY0"),O=n("OO1R"),y=n("acVv"),j=n("AgpX"),k=n("lek6"),E=n("RRzp"),C=n("5mwC"),I=new f.b("attachments"),w=(m.b.oneOfType([m.b.bool,m.b.object]),m.b.string,m.b.string,m.b.bool,m.b.node,m.b.string,m.b.string,m.b.string,m.b.func,m.b.bool.isRequired,m.b.bool,m.b.string,{bot:null,botId:null,icon:null,isAppUnfurl:!1,text:null,humanTs:null,tsLink:null,permalinkText:null,clogLinkClick:d.a,isUrlFromUnjoinable:!1,proxiedIconUrl:null}),S=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderIconMaybe",value:function(){var e=this.props,t=e.icon,n=e.text,r=e.proxiedIconUrl;return t?p.a.createElement("img",{className:"c-message_attachment__footer_icon",alt:n,src:r,width:C.a,height:C.a,"data-qa":"message_attachment_footer_icon"}):null}},{key:"renderTextMaybe",value:function(){var e=this.props,t=e.text,n=e.clogLinkClick;return t?p.a.createElement("span",{className:"c-message_attachment__footer_text c-message_attachment__part","data-qa":"message_attachment_footer_text"},"string"==typeof t?p.a.createElement(k.a,{text:t,clogLinkClick:n}):t):null}},{key:"renderTsMaybe",value:function(){var e=this.props,t=e.humanTs,n=e.tsLink,r=e.clogLinkClick,a=e.isUrlFromUnjoinable;if(!t)return null;var i=!n||a?t:p.a.createElement(j.a,{href:n,target:"_blank",rel:"noopener noreferrer",clogLinkClick:r},t);return p.a.createElement("span",{className:"c-message_attachment__footer_ts c-message_attachment__part","data-qa":"attachment-footer-timestamp"},i)}},{key:"renderAttributionMaybe",value:function(){var e=this.props,t=e.bot,n=e.botId;if(!e.isAppUnfurl&&!t)return null;var r=void 0,a=I.t("a bot"),i=t?t.name:a,o="/services/"+n;return r=t.isNonExistent||t.isUnknown?a:p.a.createElement(j.a,{href:o,target:"_blank",title:i,"data-attribution-bot-id":n},i),p.a.createElement("span",{className:"c-message_attachment__footer_attribution c-message_attachment__part","data-qa-attachment-attribution":!0},I.t("Added by "),r)}},{key:"renderPermalinkMaybe",value:function(){var e=this.props,t=e.permalinkText,n=e.tsLink,r=e.featureSlackUnfurlLinks,a=e.isUrlFromUnjoinable;return r&&t&&n?a?null:p.a.createElement("span",{className:"c-message_attachment__part sk_link_blue","data-qa":"attachment-footer-permalink"},p.a.createElement(j.a,{href:n},t)):null}},{key:"render",value:function(){return p.a.createElement("span",{className:"c-message_attachment__footer"},this.renderIconMaybe(),p.a.createElement(E.a,{separator:" | "},this.renderTextMaybe(),this.renderTsMaybe(),this.renderAttributionMaybe(),this.renderPermalinkMaybe()))}}]),t}(b.PureComponent);S.displayName="AttachmentFooter",S.defaultProps=w;t.a=Object(h.b)(function(e,t){var n=t.botId,r=t.icon,a=t.ts,i=t.tsLink,o=t.sourceTeamId;return{bot:Object(g.c)(e,n),humanTs:a&&Object(O.a)(e,a,{uncapitalized:!1}),featureSlackUnfurlLinks:Object(v.j)(e,"feature_slack_unfurl_links"),isUrlFromUnjoinable:Object(_.c)(e,i,o),proxiedIconUrl:Object(y.a)(e,{url:r,width:C.d,height:C.d})}})(S)},XEIi:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("CpTu"),c=n("zmn3"),l=n("ifKl"),u=n("lCmp"),d=n("uXhx"),b=n("aK/h"),p=n("EzZj"),h=n("MNvw"),m=n("XfeM"),f=n("U/ze"),v=n("P9LH");var g,_=n("oLrU");n.d(t,"i",function(){return y}),n.d(t,"f",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"g",function(){return T}),n.d(t,"j",function(){return R}),n.d(t,"a",function(){return N}),n.d(t,"h",function(){return x}),n.d(t,"b",function(){return M}),n.d(t,"e",function(){return P});var O=Object(p.b)("bulk add pending files");O.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,files:b.b.arrayOf(b.b.object)};var y=Object(p.b)("remove pending file");y.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,fileId:b.b.string};var j=Object(p.b)("update pending file");j.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,updatedFile:b.b.object.isRequired};var k=Object(p.b)("update upload progress of pending file");k.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,fileId:b.b.string,progress:b.b.number};var E=Object(p.b)("clear all pending files for a given input");E.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelId,n=e.threadTs;return n?t+"-"+n:t},I=Object(h.b)((g={},a()(g,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,i=t.files;if(!n||!i)return e;var s=C({channelId:n,threadTs:r}),c=(e[s]||[]).concat(i);return o()({},e,a()({},s,c))}),a()(g,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,i=t.fileId;if(!n||!i)return e;var s=C({channelId:n,threadTs:r}),c=e[s];if(!Object(u.a)(c,{id:i}))return e;var l=Object(d.a)(c,{id:i});return o()({},e,a()({},s,l))}),a()(g,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,i=t.updatedFile;if(!n||!i)return e;var s=C({channelId:n,threadTs:r}),l=e[s];if(!Object(u.a)(l,{id:i.id}))return e;var d=Object(c.a)(l,function(e){return e.id===i.id?i:e});return o()({},e,a()({},s,d))}),a()(g,k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,a=t.fileId;Object(l.a)(n,r,a)}),a()(g,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs;if(!n)return e;var a=C({channelId:n,threadTs:r});if(!e[a])return e;var i=o()({},e);return delete i[a],i}),g),{},{persistenceEnabled:!1});I.propTypes=b.b.objectOf(b.b.arrayOf(b.b.shape({id:b.b.string.isRequired,name:b.b.string.isRequired,size:b.b.number.isRequired,type:b.b.string,progress:b.b.number})));t.c=I;var w=Object(f.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,a=C({channelId:n,threadTs:r});return e&&e.pendingFiles&&e.pendingFiles[a]}),S=Object(f.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileId,r=t.channelId,a=t.threadTs;if(!n||!r)return null;var i=w(e,{channelId:r,threadTs:a});return Object(s.a)(i,{id:n})}),T=Object(m.b)("processes and adds pending files to store",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,i=n.files;if(r&&i&&i.length){var o=i.filter(function(e){return Object(v.I)(e)}).map(function(e){return e.id=Object(_.a)(),e});e(O({channelId:r,threadTs:a,files:o}))}});T.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,files:b.b.arrayOf(b.b.object)};var R=Object(m.b)("renames a given pending file",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,i=n.fileId,o=n.title;if(r&&i&&o){var c=w(t(),{channelId:r,threadTs:a}),l=Object(s.a)(c,{id:i});if(l){var u=function(e){var t=e.file,n=e.title;if(!Object(v.I)(t))return null;var r=new FormData;r.append("file",t,t.name);var a=r.get("file");return a.id=t.id,a.title=n,a}({file:l,title:o});e(j({channelId:r,threadTs:a,updatedFile:u}))}}});R.propTypes={channelId:b.b.string.isRequired,threadTs:b.b.string,fileId:b.b.object.isRequired,name:b.b.string.isRequired};var N="file-upload-dialog",x=Object(m.b)("processes and adds pending files to store for upload dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).files;e(T({channelId:N,files:n}))});x.propTypes={files:b.b.arrayOf(b.b.object)};var M=Object(m.b)("clears pending files for upload dialog",function(e){e(E({channelId:N}))});M.propTypes=null;var P=Object(f.b)(function(e){return w(e,{channelId:N})})},XF9D:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("HO/Y"),a=n("uf9I"),i=n("St+r"),o=n("V5VI"),s={},c={};function l(e){if(!Object(r.r)(e))return Promise.reject(new Error("Socket intentionally disabled in this app"));if(Object(i.g)(e))return Promise.resolve();var t=Object(a.b)(e);return s[t]||(s[t]=new Promise(function(e){c[t]=e})),s[t]}function u(e,t,n){var r=Object(a.b)(n());c[r]&&(c[r](),c[r]=void 0,s[r]=void 0)}function d(){Object(o.d)({actions:[i.a,i.t],sideEffect:u})}},XHGt:function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n("6LIB"),a=n("3Hq1"),i=n("yHhI"),o=n("/MKj");function s(){if(arguments.length>=2&&Object(r.a)(arguments.length<=1?void 0:arguments[1])){var e=arguments.length<=1?void 0:arguments[1];Object.keys(e).forEach(function(t){Object(a.a)(e[t])&&Object(i.b)().error('Error connecting a component. mapDispatchToProps has a key "'+t+'" whose value is undefined.\nThis is probably due to a circular dependency. View the stack trace to figure out which component has the issue, and replace `{ '+t+" }` in mapDispatchToProps\nwith `{ "+t+": (...args) => ("+t+"(...args)) } ` ")})}return o.b.apply(void 0,arguments)}n.d(t,"c",function(){return o.c}),n.d(t,"a",function(){return o.a})},XLFM:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ZGcR"),h=n("ifKl"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("TSYQ"),_=n.n(g),O=n("yHhI"),y=n("od5y"),j=(n("7Lvz"),n("C3Ul"),m.b.node,m.b.string,m.b.string,m.b.string,m.b.func,m.b.oneOf(["rounded","outline","custom","danger","link"]),m.b.oneOf(["button","submit","reset"]),m.b.oneOf(["small","medium","large"]),m.b.bool,m.b.string,m.b.bool,m.b.func,m.b.func,m.b.string,m.b.string,m.b.objectOf(m.b.string),m.b.string,m.b.bool,m.b.string,{children:null,className:null,href:null,onClick:h.a,target:null,type:"rounded",htmlType:"button",size:"medium",icon:null,isDisabled:!1,isPending:!1,onMouseEnter:h.a,onMouseLeave:h.a,"data-action":null,"data-qa":null,data:{},ariaLabel:null,ariaHasPopup:null,tabIndex:null}),k=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.type,n=e.size,r=e.href,a=e.isPending,i=Object(O.b)();"text"===t&&r&&i.warn("Standard link markup should be used instead of the Button component for links"),"text"===t&&"medium"!==n&&i.warn("Text buttons do not currently support custom sizing"),"text"===t&&a&&i.warn("Text buttons do not currently support a pending state")}},{key:"getButtonClasses",value:function(){var e=this.props,t=e.className,n=e.type,r=e.size,i=e.icon,o=e.isDisabled,s=e.isPending,c={};return"rounded"!==n&&"outline"!==n&&"transparent"!==n&&"danger"!==n&&"large"!==r&&"small"!==r||(c["c-deprecated_rounded_button"]=!0,c["c-deprecated_rounded_button--disabled"]=o,c["c-deprecated_rounded_button--pending"]=s,c["c-deprecated_rounded_button--"+n]="rounded"===n||"outline"===n||"danger"===n||"transparent"===n,c["c-deprecated_rounded_button--"+r]="text"!==n&&"link"!==n),i&&(c["c-deprecated_button--icon"]=!0,c["c-deprecated-icon"]=!0,c["c-icon--"+i]=!0),_()("c-deprecated_button","c-deprecated_button--"+n,t,a()({"c-deprecated_button--disabled":o},c))}},{key:"getDataProps",value:function(){var e=this.props.data;return Object(p.a)(e,function(e,t){return"data-"+t})}},{key:"maybeRenderSpinner",value:function(){var e=this.props,t=e.isPending,n=e.type;return t&&"text"!==n?v.a.createElement(y.a,{className:"c-deprecated_rounded_button__pending_icon",type:"spinner",animation:"spin"}):null}},{key:"renderButtonWrapper",value:function(){var e=this.props,t=e.children,n=e.onClick,r=e.isDisabled,i=e.isPending,o=e.onMouseEnter,s=e.onMouseLeave;return v.a.createElement("button",a()({className:this.getButtonClasses(),onClick:n,disabled:r||i,onMouseEnter:o,onMouseLeave:s,"data-action":this.props["data-action"],"data-qa":this.props["data-qa"]},this.getDataProps(),{"aria-label":this.props.ariaLabel,"aria-haspopup":this.props.ariaHasPopup,type:this.props.htmlType,tabIndex:this.props.tabIndex}),t,this.maybeRenderSpinner())}},{key:"renderLinkWrapper",value:function(){var e=this.props,t=e.children,n=e.onClick,r=e.href,i=e.target,o=e.isDisabled,s=e.isPending,c=e.onMouseEnter,l=e.onMouseLeave;return v.a.createElement("a",a()({href:r,className:this.getButtonClasses(),onClick:n,target:i,disabled:o||s,onMouseEnter:c,onMouseLeave:l,"data-qa":this.props["data-qa"]},this.getDataProps(),{"aria-label":this.props.ariaLabel,"aria-haspopup":this.props.ariaHasPopup,tabIndex:this.props.tabIndex}),t,this.maybeRenderSpinner())}},{key:"render",value:function(){return this.props.href?this.renderLinkWrapper():this.renderButtonWrapper()}}]),t}(f.PureComponent);k.displayName="DeprecatedButton",k.defaultProps=j;var E=k,C=n("+6YQ"),I=n("llxT"),w=n("c695");n.d(t,"c",function(){return I.a}),n.d(t,"b",function(){return w.a}),n.d(t,"a",function(){return E});t.d=C.a},XMFZ:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("3Hq1"),b=n("TGBA"),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("3dqR"),y=n("4aLn"),j=n("od5y"),k=n("gJjA"),E=n("RAhH"),C=n("FHcd"),I=n("k2C/"),w=n("clTI"),S=n("D4L/"),T=n("Fdc0"),R=n("5mKg"),N=n("699E"),x=(n("7kw6"),h.b.string,h.b.string,h.b.string,h.b.string,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.string,h.b.oneOf(Object(b.a)(N.b)),h.b.func,h.b.object,h.b.string,h.b.string,h.b.string,h.b.string,{channel:void 0,className:void 0,"data-id":void 0,"data-qa":"select_token",entityId:void 0,hoverText:void 0,icon:void 0,isDisabled:!1,isInvalid:!1,isSelected:!1,label:void 0,memberId:void 0,memberName:void 0,teamId:void 0,teamName:void 0,size:N.b.medium,renderIcon:p.a}),M=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderContent",value:function(){var e=this.props,t=e.channel,n=e.memberId,r=e.teamName,a="c-token_content__inner nudge_bottom_1";return n?(a+=" c-token_content__inner--member",this.renderMemberToken(a)):t?this.renderChannelToken(a):r?(a+=" c-token_content__inner--team",this.renderTeamToken(a)):this.renderPlainToken(a)}},{key:"renderPlainToken",value:function(e){var t=this.props,n=t.icon,r=t.label,a=t.hoverText,i=f.a.createElement("span",{className:e},n&&f.a.createElement(j.b,{"data-qa":"token_plain_icon",size:"inherit",type:n,inline:!0}),f.a.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},r));return a?f.a.createElement(E.c,{tip:a},i):i}},{key:"renderChannelToken",value:function(e){var t=this.props.channel;return f.a.createElement("span",{className:e,"data-qa":"token_channel"},f.a.createElement(y.b,{channel:t,className:"c-token_channel",hideFormerNames:!0}))}},{key:"renderMemberToken",value:function(e){var t=this.props,n=t.isDisabled,r=t.memberId,a=t.memberName,i=t.size;return f.a.createElement(f.a.Fragment,null,f.a.createElement(O.b,{className:"c-token__avatar","data-qa":"token_avatar",isInteractive:!n,size:N.a[i],userId:r,tokenSize:i,tabIndex:"-1",ariaHidden:"true",isInToken:!0}),f.a.createElement("span",{className:_()(e,"c-token_content__label"),"data-qa":"token_member"},a))}},{key:"renderTeamToken",value:function(e){var t=this.props,n=t.teamId,r=t.teamName;return f.a.createElement(f.a.Fragment,null,f.a.createElement(k.b,{id:n,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),f.a.createElement("span",{className:_()(e,"c-token_content__label"),"data-qa":"token_team_name"},r))}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.isInvalid,r=e.isSelected,a=e.size,i=_()("c-token",this.props.className,"c-token--"+a,{"c-token--selected":r,"c-token--disabled":t,"c-token--invalid":n});return f.a.createElement("span",{className:i,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"]},f.a.createElement("span",{className:"c-token__content","data-qa":"token_content"},this.renderContent()),this.props.renderIcon(this.props))}}]),t}(m.Component);M.displayName="Token",M.defaultProps=x;t.b=Object(v.b)(function(e,t){var n=t.entityId;if(Object(d.a)(n))return{};var r=void 0,a=void 0;Object(C.a)(n)&&(r=n,a=Object(T.Q)(e,n,!1,!1));var i=void 0,o=void 0;if(Object(I.a)(n)){var s=Object(S.i)(e,n);s&&(i=n,o=Object(R.e)(s))}return{channel:Object(w.d)(e,n),memberId:r,memberName:a,teamName:o,teamId:i}},null,null)(M)},XMIj:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("QbLZ"),c=n.n(s),l=n("Z0Cl"),u=n("aK/h"),d=n("AFNo"),b=n("HO/Y"),p=n("4zXV"),h=n("om+M"),m=Object(h.a)("Fetches the list of channel prefixes for a workspace",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason,r=void 0===n?"fetch-channel-prefixes":n;return e(Object(p.a)({method:"conversations.channelPrefixes.list",reason:r})).then(function(e){return e.channel_prefixes}).catch(function(e){throw e})});m.propTypes={};var f=Object(h.a)("Creates a new channel prefix",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prefix,a=n.description,i=n.reason,o=void 0===i?"create-channel-prefix":i;return e(Object(p.a)({method:"conversations.channelPrefixes.create",reason:o,args:{prefix:r,description:a}})).then(function(e){return e}).catch(function(e){throw e})});f.propTypes={prefix:u.b.string,description:u.b.string};var v,g=Object(h.a)("Deletes a channel prefix",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prefix,a=n.reason,i=void 0===a?"delete-channel-prefix":a;return e(Object(p.a)({method:"conversations.channelPrefixes.delete",reason:i,args:{prefix:r}})).then(function(e){return e}).catch(function(e){throw e})});g.propTypes={prefix:u.b.string},n.d(t,"c",function(){return E}),n.d(t,"b",function(){return C});var _=Object(d.a)("Update the store with the list of channel prefixes");_.propTypes={channelPrefixes:u.b.array};var O=Object(d.a)("Adds a new channel prefix to the store");O.propTypes={channelPrefix:u.b.object};var y=Object(d.a)("Removes a channel prefix from the store");y.propTypes={prefix:u.b.string};var j={channelPrefixes:void 0},k=Object(d.d)((v={},a()(v,_,function(e,t){return c()({},e,{channelPrefixes:t})}),a()(v,O,function(e,t){return c()({},e,{channelPrefixes:e.channelPrefixes?[].concat(o()(e.channelPrefixes),[t]):[t]})}),a()(v,y,function(e,t){return c()({},e,{channelPrefixes:Object(l.a)(e.channelPrefixes,function(e){return e.prefix!==t})})}),v),j,{persistenceEnabled:!0});k.propTypes={channelPrefixes:u.b.arrayOf(u.b.object)};t.a=k;var E=Object(d.e)(function(e){if(e&&e.channelPrefixes)return e.channelPrefixes.channelPrefixes}),C=Object(d.f)("Fetches and upserts channel prefixes using conversations.channelPrefixes.list",function(e){return e(m()).then(function(t){return e(_(t))})});C.propTypes={},Object(d.f)("Creates a channel prefix and updates the store",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prefix,a=n.description;return e(f({prefix:r,description:a})).then(function(){return e(O({prefix:r,description:a,creator_id:Object(b.b)(t())}))})}).propTypes={prefix:u.b.string,description:u.b.string},Object(d.f)("Deletes a channel prefix and updates the store",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).prefix;return e(g({prefix:n})).then(function(){return e(y(n))})}).propTypes={prefix:u.b.string}},XRnC:function(e,t,n){"use strict";var r=n("qlK9");n.d(t,"d",function(){return r.a}),n.d(t,"c",function(){return r.b});var a=n("4ZYW");n.d(t,"b",function(){return a.a});var i=n("eCgt");n.d(t,"a",function(){return i.a})},XUHR:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("XfeM"),o=n("/Q0P"),s=n("HO/Y"),c=a.a.lazy(function(){return Promise.resolve().then(n.bind(null,"+s8F"))}),l=Object(i.b)("Opens the Shared Channel Accept Invitation modal",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).entryPoint;Object(s.j)(t(),"feature_sonic_esc_creation")&&e(Object(o.a)({element:a.a.createElement(c,{entryPoint:n})}))});l.propTypes={},t.a=l},XYkb:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u});var r=n("YEIV"),a=n.n(r),i=n("aK/h"),o=n("EzZj"),s=n("MNvw"),c=n("U/ze"),l=Object(o.b)("Set the last used command");l.propTypes={canonicalName:i.b.string.isRequired,delta:i.b.object.isRequired};var u=Object(c.b)(function(e){return e&&e.lastUsedSlashCommand}),d=Object(s.b)(a()({},l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.canonicalName,r=t.delta;return n&&r?{canonicalName:n,delta:r}:e}),{},{persistenceEnabled:!0});d.propTypes={canonicalName:i.b.string,delta:i.b.object},t.a=d},XZOc:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"k",function(){return O}),n.d(t,"h",function(){return y}),n.d(t,"i",function(){return E}),n.d(t,"j",function(){return I}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"c",function(){return M}),n.d(t,"f",function(){return D}),n.d(t,"g",function(){return L});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=n("4zXV"),h=n("lfDB"),m=n("apxm"),f=n("AcCB"),v=n("Hh47"),g=n("Rmtr"),_=3e5,O=Object(l.b)("Set the timestamp for the query session the current time");O.propTypes={};var y=Object(l.b)("Sets a new ID for the query session");y.propTypes={querySessionId:c.b.string.isRequired};var j=Object(l.b)("Destroy a query session ID by emptying it");j.propTypes={};var k=Object(b.b)("Sets a new ID for the query session",function(e){e(j())});k.propTypes={};var E=Object(l.b)("Sets a new ID for the search session");E.propTypes={searchSessionId:c.b.string.isRequired};var C=Object(l.b)("Destroy a search session ID by emptying it");C.propTypes={};var I=Object(l.b)("Set the search session original query if unset");I.propTypes={query:c.b.string.isRequired};var w=Object(l.b)("Destroy the search session original query by emptying it");w.propTypes={};var S=Object(d.b)(function(e){return e&&e.searchSession&&e.searchSession.lastEventTimeMs}),T=Object(d.b)(function(e){return e&&e.searchSession&&e.searchSession.querySessionId}),R=Object(d.b)(function(e){return e&&e.searchSession&&e.searchSession.searchSessionId}),N=Object(d.b)(function(e){return e&&e.searchSession&&e.searchSession.searchSessionLastQuery}),x=Object(b.b)("May trigger a search satisfaction survey",function(e,t){var n=t(),r=R(n),a=N(n);r&&a&&e(Object(p.a)({method:"inprodsurveys.get",args:{id:2,payload:JSON.stringify({query:a,session_id:r})}}))});x.propTypes={};var M=Object(b.b)("Sets a new ID for the search and query sessions",function(e,t){e(k()),e(x()),e(C()),e(w());var n=t();Object(h.a)(n)&&(e(Object(f.c)()),e(Object(g.g)())),Object(m.a)(n)&&e(Object(f.d)())});k.propTypes={};var P={lastEventTimeMs:void 0,querySessionId:void 0,searchSessionId:void 0,searchSessionLastQuery:void 0},A=Object(u.b)((r={},i()(r,O,function(e){return s()({},e,{lastEventTimeMs:(new Date).getTime()})}),i()(r,y,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).querySessionId;return s()({},e,{querySessionId:t})}),i()(r,j,function(e){return s()({},e,{querySessionId:void 0})}),i()(r,E,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).searchSessionId;return s()({},e,{searchSessionId:t})}),i()(r,C,function(e){return s()({},e,{searchSessionId:void 0})}),i()(r,I,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).query;return s()({},e,{searchSessionLastQuery:t})}),i()(r,w,function(e){return s()({},e,{searchSessionLastQuery:void 0})}),r),P,{persistenceEnabled:!0});A.propTypes={lastEventTimeMs:c.b.number,querySessionId:c.b.string,searchSessionId:c.b.string,searchSessionLastQuery:c.b.string},t.b=A;var D=Object(b.b)("Get a Query Session ID",function(e,t){var n=t(),r=S(n),a=T(n);return!a||!r||(new Date).getTime()-r>_?e(Object(v.a)()):(e(O()),a)});D.propTypes={};var L=Object(b.b)("Get a Search Session ID",function(e,t){var n=t(),r=S(n),a=R(n);return!a||!r||(new Date).getTime()-r>_?e(Object(v.b)()):(e(O()),a)});L.propTypes={}},XlRd:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var r=n("kxpR"),a=n.n(r),i=n("XHGt"),o=(n("aK/h"),n("Smdl")),s=n("HO/Y"),c=new(n("nNoG").b)("sonic_pilot");function l(){return Object(o.a)()?"c-menu_item--sonic-placeholder":void 0}t.a=Object(i.b)(function(e){return{featureSonicPlaceholderLabels:Object(s.j)(e,"feature_sonic_placeholder_labels")}})(function(e){var t=e.featureSonicPlaceholderLabels;return Object(o.a)()&&t?a.a.createElement("div",{className:"c-menu_item__placeholder"},c.t("Coming soon")):null})},Xo4w:function(e,t,n){},XqGD:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("nNoG"),a=/[\s-_]/g,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!n)return t;var r=n.label,a=n.options;if(a){var i=[];a.forEach(function(t){s(t.label,e)&&i.push(t)}),i.length&&t.push({label:n.label,options:i})}else s(r,e)&&t.push(n);return t};function o(e,t){return t?e.reduce(i.bind(this,t),[]):e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return c(e,n).includes(c(t,n))}function c(e,t){if(!e)return"";var n=e.toLocaleLowerCase(),i=t?n.replace(a,""):null;return Object(r.a)(i)}},XqP4:function(e,t,n){"use strict";var r=n("VyaM"),a=n("j/30");t.a=function(e){var t=Object(r.a)(e,{parseFormat:"YYYY-MM-DD",returnMoment:!0});return 0===t.get("year")?Object(a.a)(t,{excludeYear:!0}):Object(a.a)(t)}},Xthn:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HO/Y"),a=n("DtX9"),i=n("N52Z"),o=n("Fdc0");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,s=t.botId,c=t.username,l=t.botProfile;if(Object(r.j)(e,"feature_react_member_profile_card")){var u=Object(i.g)(e,{userId:n,botId:s,botProfile:l}),d=u.member,b=u.bot;return d?Object(o.P)(e,d):s&&c?c:b?b.name:""}if(n){var p=Object(a.c)(e,n);if(p)return Object(o.P)(e,p)}else{if(c&&!s)return c;if(s){var h=s&&Object(i.c)(e,s);return c||h&&h.name||l&&l.name}if(l&&l.name)return l.name}return""}},Xx2o:function(e,t,n){"use strict";var r=n("EJiy"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("QbLZ"),u=n.n(l),d=n("hjf3"),b=n("CpTu"),p=n("7EGn"),h=n("3Hq1"),m=n("jeQL"),f=n("ifKl"),v=n("yIs4"),g=n("8QLk"),_=n("HA5h"),O=n("Cjy0"),y=n.n(O),j=n("mM05"),k=n.n(j),E=n("yU6Y"),C=n.n(E),I=n("9kTo"),w=n("raPK"),S=n("qxkA"),T=n("yqck"),R=n("w4TM"),N=n("FYw3"),x=n.n(N),M=n("mRg0"),P=n.n(M),A=n("fCVm"),D=n("Qv4Q"),L=n("dG3r"),q=n("WKJn"),F=n("WExW"),B=n("hWsQ"),U=n("rqfA"),H=n("qm5R"),K=n("+u8r"),G=n("cErB"),V=n("Jqqi"),z=n("9PC1"),Y=y.a.import("core/module"),W=["'",'"',"\u201c","\u201d","\u2018","\u2019"];function Q(e){return e.replace(/([^A-Za-z0-9]|^)"(\S)/g,"$1\u201c$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1\u201d$2").replace(/([^0-9])"/g,"$1\u201d").replace(/([^A-Za-z0-9]|^)'(\S)/g,"$1\u2018$2").replace(/([a-z])'([a-z])/gi,"$1\u2019$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1\u2019$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"\u2019$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1\u2019").replace(/'/g,"\u2032")}var X=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastSubstitutionMade=null,r.options.getTextPreferences=n.getTextPreferences||f.a,r.onSpace=r.onSpace.bind(r),r.onEllipsis=r.onEllipsis.bind(r),r.startComposition=r.startComposition.bind(r),r.endComposition=r.endComposition.bind(r),r.shouldDoSubstitutions=r.shouldDoSubstitutions.bind(r),r.isInsideComposition=!1,e.root.addEventListener("compositionstart",r.startComposition),e.root.addEventListener("compositionend",r.endComposition),r.listen(),r}return P()(t,e),c()(t,[{key:"shouldDoSubstitutions",value:function(e){if(!e)return!1;var t=this.quill.getText(0,e.index+e.length);return!Object(z.j)(t)}},{key:"unload",value:function(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}},{key:"listen",value:function(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{code:!1,"code-block":!1}},this.onSpace),this.quill.keyboard.addBinding({key:190,collapsed:!0,format:{code:!1,"code-block":!1},prefix:/\.\.$/},this.onEllipsis)}},{key:"onSpace",value:function(e,t){if(this.isInComposition())return!0;if(!this.options.useWysiwyg&&!this.shouldDoSubstitutions(e))return!0;if(!this.options.getTextPreferences())return!0;var n=this.options.getTextPreferences(),r=t.prefix.substring(t.prefix.lastIndexOf(" ")+1);if(this.shouldStartSubstitution(r,n)){var a=e.index-r.length,i=this.quill.history.options.delay;return this.quill.history.options.delay=0,this.quill.updateContents((new k.a).retain(a).delete(r.length).insert(n.substitutions[r]+" ",t.format)),this.quill.history.options.delay=i,this.lastSubstitutionMade=r,!1}return this.lastSubstitutionMade=null,!0}},{key:"onEllipsis",value:function(e,t){if(this.isInComposition())return!0;if(!this.options.useWysiwyg&&!this.shouldDoSubstitutions(e))return!0;if(!this.options.getTextPreferences())return!0;if(!this.options.getTextPreferences().useSmartDashes)return!0;var n=e.index-2;return this.quill.updateContents((new k.a).retain(n).delete(2).insert("\u2026",t.format)),!1}},{key:"startComposition",value:function(){this.isInsideComposition=!0}},{key:"endComposition",value:function(){this.isInsideComposition=!1}},{key:"isInComposition",value:function(){return!!this.isInsideComposition}},{key:"shouldBuildSmartQuotes",value:function(){return!!this.options.getTextPreferences()&&!!this.options.getTextPreferences().useSmartQuotes}},{key:"shouldStartSubstitution",value:function(e,t){return this.lastSubstitutionMade!==e&&(!!Object.prototype.hasOwnProperty.call(t.substitutions,e)&&!!t.substitutions[e])}},{key:"buildWysiwygSafeTextChangeDelta",value:function(e){var t=new k.a;if(!this.shouldBuildSmartQuotes())return t;var n=e.reduce(function(e,t){if(Object(q.a)(t)||Object(V.a)(t))return e+"a";if(Object(L.a)(t)||Object(F.a)(t))return e+t.insert.replace(/./g,"a");if(Object(U.a)(t)){var n=t.insert.replace(G.a,function(e){return e.replace(/./g,"a")});return e+(n=n.replace(/:'\(/g,"aaa"))}return e+t.insert},""),r=Q(n.replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"'));if(r===n)return t;for(var a=[],i=0;i<n.length;i++)n[i]!==r[i]&&-1!==W.indexOf(n[i])&&-1!==W.indexOf(r[i])&&a.push(i);if(!a.length)return t;var o=0,s=0;return Object(K.a)(e,function(e,i){var c=Object(H.a)(i),l=Object(z.g)(e);s+l<a[0]||!Object(U.a)(e)?s+=l:(a.filter(function(e){return e>=s&&e<s+l}).forEach(function(a){var i=r[a];(c||Object(B.a)(e)||Object(F.a)(e))&&("\u201c"===i||"\u201d"===i?i='"':"\u2018"!==i&&"\u2019"!==i||(i="'")),n[a]!==i&&(t.retain(a-o).delete(1).insert(i,e.attributes),o=a+1)}),s+=l)}),t}},{key:"buildTextChangeDelta",value:function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{useWysiwyg:!1}).useWysiwyg)return this.buildWysiwygSafeTextChangeDelta(e);var n=new k.a,r=0;if(!this.shouldBuildSmartQuotes())return n;var a=e.reduce(function(e,t){return Object(q.a)(t)||Object(V.a)(t)?e+"a":Object(L.a)(t)?e+t.insert.replace(/./g,"a"):e+t.insert},""),i=this.replaceSmartQuotes(a);if(a===i)return n;for(var o=0;o<a.length;o++)a[o]!==i[o]&&-1!==W.indexOf(a[o])&&-1!==W.indexOf(i[o])&&(n.retain(o-r).delete(1).insert(i[o]),r=o+1);return n}},{key:"replaceSmartQuotes",value:function(e){var t=e;t=(t=t.replace(/[\u2018|\u2019]/g,"'")).replace(/[\u201c|\u201d]/g,'"');var n=[];t=Object(A.d)(n,t,{replace_pre:!0,replace_code:!0,replace_url:!0});var r=[];return t=Q(t=t.replace(Object(D.d)(),function(e){var t="<emoticon-placeholder-"+Date.now()+">";return r.push({emoticon:e,placeholder:t}),t})),r.forEach(function(e){t=t.replace(e.placeholder,e.emoticon)}),t=Object(A.e)(n,t)}}]),t}(Y),Z=n("k0G2"),J=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return n.onLeftWhenEmpty&&e.keyboard.addBinding({key:Z.h,handler:function(){return 1===e.getLength()&&n.onLeftWhenEmpty(),!0}}),n.onUpArrow&&e.keyboard.addBinding({key:Z.l,handler:function(){return n.onUpArrow(),!0}}),n.onUpArrowCmd&&e.keyboard.addBinding({key:Z.l,shortKey:!0,handler:function(){return n.onUpArrowCmd(),!0}}),n.onDownArrow&&e.keyboard.addBinding({key:Z.c,handler:function(){return n.onDownArrow(),!0}}),n.onCmdLeftWhenEmpty&&e.keyboard.addBinding({key:Z.h,shortKey:!0,handler:function(){return 1===e.getLength()&&n.onCmdLeftWhenEmpty(),!0}}),n.onCmdRightWhenEmpty&&e.keyboard.addBinding({key:Z.i,shortKey:!0,handler:function(){return 1===e.getLength()&&n.onCmdRightWhenEmpty(),!0}}),r}return P()(t,e),t}(y.a.import("core/module")),$=n("Ahgz"),ee=n("tfYw"),te=n.n(ee),ne=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,null,[{key:"create",value:function(e){var n=te()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("data-name",e.name),n}},{key:"formats",value:function(e){return{name:e.getAttribute("data-name")}}}]),t}(y.a.import("blots/inline")),re=ne;ne.blotName="slacksearchtokenmodifier",ne.tagName="ts-searchtoken-modifier";var ae=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,null,[{key:"create",value:function(e){var n=te()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("data-text",e.text),n.setAttribute("data-ghost",e.ghost),n}},{key:"formats",value:function(e){return{text:e.getAttribute("data-text"),ghost:e.getAttribute("data-ghost")}}}]),t}(y.a.import("blots/inline")),ie=ae;function oe(e){return Object(L.a)(e)&&e.attributes.slackmention.label!==e.insert}ae.blotName="slacksearchtokenvalue",ae.tagName="ts-searchtoken-value";var se=n("C20x"),ce=y.a.import("core/module"),le=function(e){return e.attributes&&e.attributes.background},ue=function(e,t){var n=t.ops[0];return oe(n)?(new k.a).insert(n.insert):t},de=function(e,t){return 0===t.length()&&e.textContent.length>0&&/^ +$/.test(e.textContent)?(new k.a).insert(e.textContent):t};function be(e){var t=new k.a,n=0,r=0;return e.forEach(function(a){var i=0,o=n,s="",c=Object(z.g)(a);if(n+=c,Object(L.a)(a)&&oe(a)){if(Object(q.a)(a))t.retain(o-r).delete(c).insert({slackemoji:a.insert.slackemoji},u()({},a.attributes,{slackmention:null}));else if(Object(V.a)(a))t.retain(o-r).delete(c).insert({workflowtoken:a.insert.workflowtoken},u()({},a.attributes,{slackmention:null}));else if(function(e){if(!Object(L.a)(e))return!1;if(!e.attributes.slackmention.id)return!1;if(!e.attributes.slackmention.label)return!1;var t=e.insert.substr(0,e.attributes.slackmention.label.length),n=e.attributes.slackmention.label;return e.insert.length>n.length&&t===n}(a)){if(o+=a.attributes.slackmention.label.length,t.retain(o-r),i=c-a.attributes.slackmention.label.length,(s=Object(z.f)(e,o,i)).length>=a.attributes.slackmention.label.length)for(;s.length>=a.attributes.slackmention.label.length&&s.length;){var l=s.substr(0,a.attributes.slackmention.label.length);if(l!==a.attributes.slackmention.label)break;t.delete(l.length).insert(l,a.attributes),s=s.substr(l.length)}s.length&&t.delete(s.length).insert(s,u()({},a.attributes,{slackmention:null}))}else if(function(e){if(!Object(L.a)(e))return!1;if(!e.attributes.slackmention.id)return!1;if(!e.attributes.slackmention.label)return!1;var t=e.insert.substr(-1*e.attributes.slackmention.label.length),n=e.attributes.slackmention.label;return e.insert.length>n.length&&t===n}(a)){for(var d=(s=Object(z.f)(e,o,c).replace(/\n$/,"")).length,b=a.attributes.slackmention.label,p=0;s.length>b.length&&s.substr(-1*b.length)===b;)p+=1,s=s.substr(0,s.length-b.length);t.retain(o-r),t.delete(d),t.insert(s);for(var h=0;h<p;h++)t.insert(b,a.attributes)}else s=Object(z.f)(e,o,c),t.retain(o-r).delete(c).insert(s,u()({},a.attributes,{slackmention:null}));r=n}}),t}var pe=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onTextChange=r.onTextChange.bind(r),r.listen(),r}return P()(t,e),c()(t,[{key:"listen",value:function(){this.quill.on("text-change",this.onTextChange),this.quill.clipboard.addMatcher(".c-member_slug",ue),this.quill.clipboard.addMatcher("ts-mention",ue),this.quill.clipboard.addMatcher(Node.TEXT_NODE,de)}},{key:"onTextChange",value:function(e){Object(se.a)(e)||this.fixLeakingMentions()}},{key:"buildTextChangeDelta",value:function(e){return be(e)}},{key:"fixLeakingMentions",value:function(){var e=this;this.quill.getContents().filter(function(e){return le(e)}).length>0&&setTimeout(function(){var t=e.quill.getContents().map(function(e){return le(e)?{insert:e.insert}:e}),n=e.quill.getSelection();e.quill.setContents({ops:t},"silent"),n&&e.quill.setSelection(n)},0)}}]),t}(ce),he=n("TSYQ"),me=n.n(he),fe=n("nNoG"),ve=y.a.import("blots/inline"),ge=new fe.b("texty"),_e=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,null,[{key:"create",value:function(e){var n=te()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);n.setAttribute("data-id",e.id),n.setAttribute("data-label",e.label),n.setAttribute("spellcheck","false"),e.unverified&&n.setAttribute("data-title",ge.t("Several matches for {name}",{name:e.label}));var r=me()("c-member_slug","c-member_slug--link","ts_tip_texty",{"c-member_slug--mention":e.mention,"c-member_slug--unverified":e.unverified});return n.setAttribute("class",r),n.setAttribute("dir","ltr"),n}},{key:"formats",value:function(e){return{id:e.getAttribute("data-id"),label:e.getAttribute("data-label"),mention:e.classList.contains("c-member_slug--mention"),unverified:e.classList.contains("c-member_slug--unverified")}}}]),t}(ve),Oe=_e;_e.blotName="slackmention",_e.tagName="ts-mention";var ye=n("3jSj"),je=n("gSGL"),ke=n("rzSx"),Ee=n("K7CU"),Ce=n("acVv"),Ie=n("lhZz"),we=n("yHhI"),Se=n("bHK9"),Te=n("VjHM"),Re=n("HO/Y"),Ne=n("qkTT"),xe=y.a.import("blots/embed"),Me=/<span.*(?: style="([^"]+)").*>/,Pe=/<img.*(?: src="([^"]+)").*>/,Ae=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,null,[{key:"create",value:function(e){var n=void 0;Object(je.a)(e)?(Object(we.b)().error("slackemoji_bad_input"),n=e):n=e.text;var r=te()(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);r.setAttribute("data-id",n),r.setAttribute("data-stringify-text",n),r.setAttribute("class","emoji"),r.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),r.setAttribute("alt",n);var a=Object(D.g)(n);return a&&Object(Ee.d)(a.name)&&r.setAttribute("data-has-skin-tone",""),r.addEventListener("load",function(t){var r=null;if(t.target.closest)r=t.target.closest(".ql-editor");else if(document.documentElement.contains(t.target)){var i=t.target;do{if(i.classList.contains("ql-editor")){r=i;break}i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType)}if(r){var o=r.getAttribute("data-team-id"),s=!0,c="background-image: url("+cdn_url+"/ecf3e/img/emoji_missing.png);";if(o){var l=Object(Ie.getStateByTeamId)(o);if(Object(Re.j)(l,"feature_sonic_emoji")){s=!1;var d=Object(Se.g)(l,u()({},e,{teamId:o,emojiMode:Object(Ee.h)(l,{forceDisplay:!0}),emojiSize:Ne.a.LARGE}));if(d){var b=d;Object(Te.g)(l,"a11y_animations")||(b=Object(Ce.a)(l,{url:d,stopAnimations:!0,isEmoji:!0})),c="background-image: url("+b+");"}a&&Object(Se.k)(l,{text:a.name,teamId:o})&&t.target.setAttribute("data-has-skin-tone","")}}if(s){var p=Object(ke.c)(n,{include_text:!1,include_title:!1}),h=Me.exec(p);if(h)c=h[1];else{var m=Pe.exec(p);m&&(c="background-image: url("+m[1]+");")}}t.target.setAttribute("style",c)}}),r}},{key:"value",value:function(e){return{text:e.getAttribute("data-id")}}}]),t}(xe);Ae.blotName="slackemoji",Ae.tagName="img";var De=Ae,Le=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),t}(y.a.import("blots/block"));Le.blotName="slackhorizontalrule",Le.tagName="hr";var qe=Le,Fe=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.muteKeyEventsOnHrEmbed=r.muteKeyEventsOnHrEmbed.bind(r),r.listen=r.listen.bind(r),r.listen(),r}return P()(t,e),c()(t,[{key:"listen",value:function(){document.addEventListener("keydown",this.muteKeyEventsOnHrEmbed)}},{key:"unload",value:function(){document.removeEventListener("keydown",this.muteKeyEventsOnHrEmbed)}},{key:"muteKeyEventsOnHrEmbed",value:function(e){var t=this.quill.getSelection();if(t){var n=this.quill.getFormat(t);if(n&&n.slackhorizontalrule){if(e.keyCode===Z.e||e.keyCode===Z.c||e.keyCode===Z.l||e.keyCode===Z.h||e.keyCode===Z.i)return!0;e.preventDefault()}}return!0}}]),t}(y.a.import("core/module")),Be=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onTextChange=r.onTextChange.bind(r),r.startComposition=r.startComposition.bind(r),r.endComposition=r.endComposition.bind(r),r.isInsideComposition=!1,e.root.addEventListener("compositionstart",r.startComposition),e.root.addEventListener("compositionend",r.endComposition),r.listen(),r}return P()(t,e),c()(t,[{key:"unload",value:function(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}},{key:"listen",value:function(){this.quill.on("text-change",this.onTextChange)}},{key:"onTextChange",value:function(e){this.processChanges(e)}},{key:"startComposition",value:function(){this.isInsideComposition=!0}},{key:"endComposition",value:function(){this.isInsideComposition=!1,this.processChanges()}},{key:"isInComposition",value:function(){return!!this.isInsideComposition}},{key:"shouldProcessChange",value:function(){return!this.isInComposition()&&!(this.quill.getLength()<=1)}},{key:"processChanges",value:function(e){var t=this,n=this.options.getTextChangeModules(),r=this.quill.getContents(),a=r;if(this.shouldProcessChange()){var i=r;n.forEach(function(n){if(n&&n.buildTextChangeDelta){var r=Object(se.a)(e),a=n.buildTextChangeDelta(i,t.quill.getSelection(),{useWysiwyg:t.options.useWysiwyg,formattingOnly:r});a.length()>0&&(i=i.compose(a))}});var o=r.diff(i);o.length()>0&&setTimeout(function(){t.quill.getContents().diff(r).length()>0||(t.quill.updateContents(o,"silent"),a=t.quill.getContents(),n.forEach(function(e){e&&e.afterTextChangeQueue&&e.afterTextChangeQueue(a)}))},0)}n.forEach(function(e){e&&e.afterTextChangeQueue&&e.afterTextChangeQueue(a)})}}]),t}(y.a.import("core/module")),Ue=n("NFsq"),He=y.a.import("core/module"),Ke=/(\u2028|\u2029)/g,Ge=/^[\u200b\uFEFF]+|[\u200b\uFEFF]+$/gm,Ve=function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,[{key:"buildTextChangeDelta",value:function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).formattingOnly)return new k.a;var n=e;return n=(n=n.compose(function(e){var t=e.map(function(e){return Object(je.a)(e.insert)&&e.insert.match(Ke)?u()({},e,{insert:e.insert.replace(Ke,"\n")}):e});return e.diff(new k.a(t))}(n))).compose(function(e){var t=e.map(function(e){return Object(je.a)(e.insert)&&e.insert.match(Ge)?u()({},e,{insert:e.insert.replace(Ge,"")}):e});return e.diff(new k.a(t))}(n)),this.options.stripNewlines&&(n=n.compose(function(e){var t=e.map(function(t,n){if(Object(Ue.a)(t.insert,"\n")){var r=n===e.ops.length-1;return u()({},t,{insert:t.insert.replace(/( ?)\n+/g,function(e,t,n,a){var i=n+e.length===a.length;return r&&i?t+"\n":" "})})}return t});return e.diff(new k.a(t))}(n))),e.diff(n)}}]),t}(He),ze=n("4kdM"),Ye=n("kxpR"),We=n.n(Ye),Qe=n("Qaea"),Xe=n.n(Qe),Ze=n("XHGt"),Je=n("t1Oe"),$e=n("PM8X"),et=n("aK/h"),tt=n("XLFM"),nt=n("od5y"),rt=n("wMtF"),at=n("vSXf"),it=new fe.b("emoji_button"),ot=(et.b.bool,et.b.func,et.b.func,et.b.func,et.b.bool,{featureSonicEmoji:!1,onClick:f.a,onEmojiMenuTriggerClick:f.a,onEmojiSelected:f.a,useTabindexNav:!1}),st=function(e){var t=e.featureSonicEmoji,n=e.onClick,r=e.onEmojiMenuTriggerClick,a=e.onEmojiSelected,i=e.useTabindexNav,o=We.a.createElement(tt.c,{className:"c-texty_input__button",onClick:n,key:"emoji","aria-label":it.t("Emoji menu",{fallbackHash:"0bd3a4cc3903ced61a52af4d95580811685e1a21",fallbackHashNs:"inline_message_input"}),"data-qa":"texty_emoji_button",tabIndex:i?4:null},We.a.createElement(nt.b,{className:"c-texty_input__button_icon c-texty_input__button_icon--emoji_background",type:"circle-fill"}),We.a.createElement(nt.b,{className:"c-texty_input__button_icon c-texty_input__button_icon--emoji_passive",type:"smile-o"}),We.a.createElement(nt.b,{className:"c-texty_input__button_icon c-texty_input__button_icon--emoji_active",type:"happy-smile"}));return t?We.a.createElement(rt.a,{onClick:r,onEmojiSelected:a,position:"top"},o):o};st.defaultProps=ot;var ct=Object(at.a)("feature_sonic_emoji")(st),lt=new fe.b("includes_client"),ut=(et.b.func,et.b.bool,{onClick:f.a,useTabindexNav:!1}),dt=function(e){var t=e.onClick,n=e.useTabindexNav;return We.a.createElement(tt.c,{key:"mention",className:"c-texty_input__button",onClick:t,"data-qa":"texty_mention_button",tabIndex:n?3:null,"aria-label":lt.t("Insert mention")},We.a.createElement(nt.b,{className:"c-texty_input__button_icon c-texty_input__button_icon--mention",type:"mentions"}))};dt.displayName="MentionButton",dt.defaultProps=ut;var bt=dt,pt=y.a.import("core/module"),ht={enableEmojiButton:!1,enableMentionButton:!1,useTabindexNav:!1,inlineEmojiIsEnabled:function(){return!0}},mt=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object(ze.a)(n,ht)));r.handleMentionClick=r.handleMentionClick.bind(r),r.handleEmojiClick=r.handleEmojiClick.bind(r),r.onEmojiMenuTriggerClick=r.onEmojiMenuTriggerClick.bind(r),r.handleEmojiSelection=r.handleEmojiSelection.bind(r);var a=r.getButtons();if(!a.length)return x()(r);e.container.setAttribute("data-buttons",a.length),r.container=e.addContainer("ql-buttons");var i=Object(Ie.getStoreInstanceByTeamId)(r.options.teamId);return Xe.a.render(We.a.createElement(Ze.a,{store:i},We.a.createElement(Je.a,null,a)),r.container),r}return P()(t,e),c()(t,[{key:"unload",value:function(){Xe.a.unmountComponentAtNode(this.container)}},{key:"getButtons",value:function(){var e=this.options,t=e.enableEmojiButton,n=e.enableMentionButton,r=e.useTabindexNav,a=[];return t&&a.push(We.a.createElement(ct,{key:"EmojiButton",onClick:this.handleEmojiClick,onEmojiMenuTriggerClick:this.onEmojiMenuTriggerClick,onEmojiSelected:this.handleEmojiSelection,useTabindexNav:r})),n&&a.push(We.a.createElement(bt,{key:"MentionButton",onClick:this.handleMentionClick,useTabindexNav:r})),a}},{key:"handleMentionClick",value:function(){var e=this.quill.getSelection(),t=this.quill.getFormat(e.index-1,1),n=this.quill.getFormat(e.index,1),r=this.quill.getLength()-1;if(!(e&&e.index<r&&t.slackmention&&n.slackmention)){var a=function(e,t){var n="@",r=e.index;return"@"===t?r-=1:t&&" "!==t&&(n=" "+n),(new k.a).retain(r).delete(e.index-r).delete(e.length).insert(n)}(e,this.quill.getText(e.index-1,1));this.quill.updateContents(a,"user");var i=this.quill.getLength()-1-r;this.quill.setSelection(e.index+i)}}},{key:"onEmojiMenuTriggerClick",value:function(){var e=this.options,t=e.enableMentionButton,n=e.texty.getSelection();if(t&&n&&!n.length){var r=n.index>0?this.quill.getText(n.index-1,1):"";!!this.quill.getFormat(n.index).slackmention||"@"!==r||this.quill.deleteText(n.index-1,1)}}},{key:"handleEmojiClick",value:function(e){Object($e.a)({e:e,input_to_fill:this.quill.container})}},{key:"handleEmojiSelection",value:function(e,t){var n=function(e,t){var n=t.shouldUseInlineEmoji;return(new k.a).insert(n?{slackemoji:{text:e}}:e)}(":"+t+":",{shouldUseInlineEmoji:this.options.inlineEmojiIsEnabled()});this.options.texty.insertContentsAtCursor({contents:n.ops})}}]),t}(pt),ft=n("pWPO"),vt=n("mLe0"),gt=n("RAhH"),_t=(n("YPoa"),new fe.b("share-dialog")),Ot=(et.b.number,function(e){function t(){return o()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.numCharsOverLimit;if(e>0){var t=_t.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:e});return We.a.createElement(gt.c,{tip:t,zIndex:"menu",position:"top-right"},We.a.createElement("div",{className:"p-texty_length_warning__warning"},"-",e))}return null}}]),t}(Ye.PureComponent));Ot.displayName="TextyLengthWarning",Ot.defaultProps={numCharsOverLimit:0};var yt=Ot,jt=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onTextChange=r.onTextChange.bind(r),r.options.maxLength?(r.container=e.addContainer("ql-warning"),r.isShowing=!1,e.on("text-change",r.onTextChange),r):x()(r)}return P()(t,e),c()(t,[{key:"unload",value:function(){this.container&&Xe.a.unmountComponentAtNode(this.container)}},{key:"onTextChange",value:function(e){if(!Object(se.a)(e))if(this.quill.getLength()<this.options.maxLength/2)this.isShowing&&this.container&&(this.isShowing=!1,Xe.a.unmountComponentAtNode(this.container));else{var t=void 0;t=this.options.useWysiwyg?Object(vt.a)(this.quill.getContents()):Object(ft.a)({contents:this.quill.getContents().ops}).length;var n=Math.max(0,t-this.options.maxLength),r=n>0;(this.isShowing||r)&&(this.isShowing=r,Xe.a.render(We.a.createElement(yt,{numCharsOverLimit:n}),this.container))}}}]),t}(y.a.import("core/module")),kt=n("tn36"),Et=n("kOzZ"),Ct=n("negh"),It=y.a.import("core/module"),wt=/(^|\s)\*[^*]*\S\*$/,St=/(^|\s)_[^_]*\S_$/,Tt=/(^|\s)(?:`|\uff40)[^`\uff40]*\S(?:`|\uff40)$/,Rt=/(^|\s)~[^~]*\S~$/,Nt={bold:Ct.s.BOLD,italic:Ct.s.ITALIC,strike:Ct.s.STRIKE,code:Ct.s.CODE},xt=function(e){function t(e,n){o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object(kt.a)(r,["formatText","formatCodeBlock","formatBlockquote","formatHorizontalRule","formatHeader"]),r.listen(),r.clogger=Object(Et.a)(Object(Ie.getStoreInstanceByTeamId)(r.options.teamId)),r}return P()(t,e),c()(t,[{key:"onEnter",value:function(e,t){var n=t.range,r=t.context;return!!(0,t.shouldInsertNewline)(e)&&(r.collapsed&&!r.format["code-block"]&&!r.format.code&&r.prefix.match(/(^|\s)```$/)?(this.formatCodeBlock(n,r),!0):!(!(r&&r.collapsed&&r.format)||r.format["code-block"]||r.format.code||!r.prefix.length||!r.prefix.endsWith("`")&&!r.prefix.endsWith("\uff40"))&&(this.formatText("code",n,r),!0))}},{key:"listen",value:function(){var e=this;this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/(^|\s)```$/},this.formatCodeBlock),this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{bold:!1,"code-block":!1,code:!1},prefix:wt},function(t,n){return e.formatText("bold",t,n)}),this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{italic:!1,"code-block":!1,code:!1},prefix:St},function(t,n){return e.formatText("italic",t,n)}),this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:Tt},function(t,n){return e.formatText("code",t,n)}),this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{strike:!1,"code-block":!1,code:!1},prefix:Rt},function(t,n){return e.formatText("strike",t,n)}),this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{blockquote:!1,"code-block":!1,code:!1},prefix:/^>$/,offset:1},this.formatBlockquote),this.options.convertHorizontalRule&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/^---$/,offset:3},this.formatHorizontalRule),this.options.convertHeaders&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{header:!1,"code-block":!1,code:!1},prefix:/^#{1,2}$/},this.formatHeader)}},{key:"formatText",value:function(e,t,n){var r={bold:"*",italic:"_",strike:"~",code:"`"},a={code:"\uff40"};if(!r[e]&&!a[e])return!0;var i=n.prefix.length,o=n.prefix.slice(0,i-1),s=o.lastIndexOf(r[e]);-1===s&&(s=o.lastIndexOf(a[e]));var c=t.index-i+s,l=t.index-c;return this.quill.formatText(c,l,e,!0),this.quill.deleteText(c,1),this.quill.deleteText(c+l-2,1),this.quill.format(e,!1),Nt[e]&&this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:Ct.t.MARKDOWN,input_format:Nt[e]}),!0}},{key:"formatCodeBlock",value:function(e,t){var n=e.index-3;this.quill.deleteText(n,3),t.offset>3?(this.quill.insertText(n,"\n"),this.quill.formatLine(n+1,0,{"code-block":!0}),this.quill.setSelection(n+1,0)):(this.quill.formatLine(n,0,{"code-block":!0}),this.quill.setSelection(n,0)),this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:Ct.t.MARKDOWN,input_format:Ct.s.CODE_BLOCK})}},{key:"formatBlockquote",value:function(e){var t=e.index-1;this.quill.deleteText(t,1),this.quill.formatLine(t,0,{blockquote:!0}),this.quill.setSelection(t,0),this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:Ct.t.MARKDOWN,input_format:Ct.s.BLOCKQUOTE})}},{key:"formatHorizontalRule",value:function(e){var t=e.index-3;this.quill.deleteText(t,3),this.quill.insertEmbed(t,"slackhorizontalrule",!0),this.quill.setSelection(t+1,"silent"),this.quill.removeFormat(t+1),this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:Ct.t.MARKDOWN,input_format:Ct.s.HR})}},{key:"formatHeader",value:function(e,t){return t.offset>2||(this.quill.formatLine(e.index,0,"header",t.offset),this.quill.deleteText(e.index-t.offset,t.offset),this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:Ct.t.MARKDOWN,input_format:1===t.offset?Ct.s.H1:Ct.s.H2}),!1)}}]),t}(It),Mt=n("YEIV"),Pt=n.n(Mt),At=n("fujP"),Dt=n("GNdI"),Lt=n("MCLT"),qt=n("KxGR"),Ft=n("VymY"),Bt=n("rWF5"),Ut=n("LxWA"),Ht=n("a+Oh"),Kt=n("2jER"),Gt=n("XzsM"),Vt=n("nJKt"),zt=n("6tF6"),Yt=new fe.b("composer"),Wt=(et.b.string,et.b.func,et.b.func,et.b.bool,et.b.bool,et.b.bool,et.b.bool,{activeLinkHref:void 0,onSubmit:f.a,onClose:f.a,featureDocs:!1,featureDocsTranslations:!1,clientToolBar:!1,featureRichTextLinks:!1}),Qt=function(e){function t(e){o()(this,t);var n=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.autolinker=Vt.c,Object(kt.a)(n,["onChange","onSubmit","onKeyDown","onRemoveLinkClick"]),n.inputRef=We.a.createRef(),n.state={value:e.activeLinkHref||"",hasValidUrl:!1,ariaLiveText:""},n}return P()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.inputRef&&this.inputRef.current&&!this.props.activeLinkHref&&this.inputRef.current.focus()}},{key:"onKeyDown",value:function(e){e.keyCode===Z.f?this.props.onClose():this.state.hasValidUrl&&e.keyCode===Z.e&&(this.onSubmit(),e.preventDefault(),e.stopPropagation())}},{key:"onChange",value:function(e){var t=this.props,n=t.featureRichTextLinks,r=t.featureDocsTranslations,a=e.target.value,i=void 0;i=n?Object(zt.a)({input:a}).pop():this.autolinker.parse(a).pop();var o=r?Yt.t('"{value}" is a invalid URL. "Add Link" button is disabled.',{value:a}):'"'+a+'" is a invalid URL. "Add Link" button is disabled.',s=r?Yt.t('"{value}" is a valid URL. Click "Add Link" button to enter link URL.',{value:a}):'"'+a+'" is a valid URL. Click "Add Link" button to enter link URL.',c="";a&&(c=i?s:o),this.setState(function(){return{value:a,hasValidUrl:i,ariaLiveText:c}})}},{key:"onRemoveLinkClick",value:function(){this.props.onSubmit("")}},{key:"onSubmit",value:function(){var e=this.props.featureRichTextLinks,t=this.state.value,n=void 0;n=e?Object(zt.a)({input:t}).pop():this.autolinker.parse(t).pop(),this.props.onSubmit(n||"")}},{key:"render",value:function(){var e=this.props,t=e.featureDocs,n=e.clientToolBar,r=e.activeLinkHref,a=this.state,i=a.value,o=a.hasValidUrl,s=a.ariaLiveText,c=me()("p-composer__link_form_button",{"c-button--disabled":!o}),l=(!r||r!==i)&&We.a.createElement(tt.d,{className:c,size:"small","aria-label":t||n?Yt.t("Add link"):"Add link",onClick:this.onSubmit,onKeyDown:this.onKeyDown,disabled:!o},t||n?Yt.t("OK"):"OK"),u=r&&i===r&&We.a.createElement(tt.d,{className:"p-composer__link_form_button p-composer__link_remove_button",size:"small","aria-label":t||n?Yt.t("Remove link"):"Remove link",onClick:this.onRemoveLinkClick},We.a.createElement(nt.b,{type:"close-filled"}));return We.a.createElement("div",{className:"p-composer__link_form"},We.a.createElement("input",{className:"c-input_text p-composer__link_form_text",type:"text",placeholder:t||n?Yt.t("Enter link URL"):"Enter link URL","aria-label":t||n?Yt.t("Enter link URL"):"Enter link URL",onKeyDown:this.onKeyDown,onChange:this.onChange,value:i,ref:this.inputRef}),We.a.createElement("span",{className:"offscreen","aria-live":"polite","aria-label":s}),l,u)}}]),t}(Ye.PureComponent);Qt.displayName="ComposerLinkForm",Qt.defaultProps=Wt;var Xt=Object(Ze.b)(function(e){var t=Object(Re.j)(e,"feature_docs"),n=Object(Re.j)(e,"feature_rich_text_links");return{featureDocs:t,featureDocsTranslations:Object(Re.j)(e,"feature_docs_translations"),featureRichTextLinks:n,clientToolBar:"composer_toolbar"===Object(Gt.c)(e,"composer_toolbar")}})(Qt),Zt=(n("FGnx"),new fe.b("composer")),Jt=50,$t=(et.b.arrayOf(et.b.string),et.b.string,et.b.array,et.b.func,et.b.func,et.b.func,et.b.func,et.b.func,et.b.func,et.b.bool,et.b.func,et.b.func,et.b.bool,{activeFormats:void 0,activeLinkHref:void 0,buttons:void 0,insertLink:f.a,removeLink:f.a,positionMenu:f.a,toggleFormat:f.a,onLinkFormDismissed:f.a,onLinkFormshow:f.a,linkFormActive:!1,toggleComposer:f.a,setComposerVisibilityAction:f.a,featureWysiwygComposer:!1}),en=function(e){function t(e){o()(this,t);var n=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},Object(kt.a)(n,["buildComposer","buildTooltipText","renderButton","renderLinkInput","onButtonClick","onLinkFormSubmit","onLinkFormClose","onKeyDown","focus","trapFocusToComposer","tabComposer"]),n.onResize=Object(Ut.a)(n.onResize.bind(n),Jt),n.animationTimer=null,n.firstButtonFormatRef=We.a.createRef(),n.composerRef=We.a.createRef(),n}return P()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.onResize),this.props.setComposerVisibilityAction({isOpen:!0}),this.animationTimer=setTimeout(function(){e.setState(function(){return{visible:!0}}),e.animationTimer=null},225)}},{key:"componentWillUnmount",value:function(){this.props.setComposerVisibilityAction({isOpen:!1}),window.removeEventListener("resize",this.onResize),this.composerRef.current.removeEventListener("keydown",this.tabComposer),this.animationTimer&&clearTimeout(this.animationTimer)}},{key:"onLinkFormClose",value:function(){this.props.onLinkFormDismissed()}},{key:"onLinkFormSubmit",value:function(e){e?this.props.insertLink(e,{source:Ct.t.TOOLBAR}):this.props.removeLink({source:Ct.t.TOOLBAR})}},{key:"onResize",value:function(){this.props.positionMenu()}},{key:"onKeyDown",value:function(e){return e.keyCode!==Z.j&&e.keyCode!==Z.e||(this.onButtonClick(e),e.preventDefault(),e.currentTarget.focus()),e.keyCode===Z.f&&this.props.toggleComposer(null),this.state.visible&&document.activeElement.parentElement===this.composerRef.current&&(66===e.keyCode&&e.metaKey&&(this.props.toggleFormat("bold",{source:Ct.t.KEYBOARD}),this.composerRef.current.querySelector('[data-format="bold"]').focus(),e.preventDefault()),73===e.keyCode&&e.metaKey&&(this.props.toggleFormat("italic",{source:Ct.t.KEYBOARD}),this.composerRef.current.querySelector('[data-format="italic"]').focus(),e.preventDefault()),85===e.keyCode&&e.metaKey&&(this.props.toggleFormat("underline",{source:Ct.t.KEYBOARD}),this.composerRef.current.querySelector('[data-format="underline"]').focus(),e.preventDefault()),88===e.keyCode&&e.metaKey&&e.shiftKey&&(this.props.toggleFormat("strike",{source:Ct.t.KEYBOARD}),this.composerRef.current.querySelector('[data-format="strike"]').focus(),e.preventDefault()),67===e.keyCode&&e.metaKey&&e.shiftKey&&(this.props.toggleFormat("code",{source:Ct.t.KEYBOARD}),this.composerRef.current.querySelector('[data-format="code"]').focus(),e.preventDefault()),55===e.keyCode&&e.metaKey&&e.shiftKey&&(this.props.toggleFormat("ordered-list",{source:Ct.t.TOOLBAR}),this.composerRef.current.querySelector('[data-format="ordered-list"]').focus(),e.preventDefault()),56===e.keyCode&&e.metaKey&&e.shiftKey&&(this.props.toggleFormat("bullet-list",{source:Ct.t.TOOLBAR}),this.composerRef.current.querySelector('[data-format="bullet-list"]').focus(),e.preventDefault())),!1}},{key:"onButtonClick",value:function(e){var t=e.currentTarget.getAttribute("data-format");"link"===t?this.props.onLinkFormshow():this.props.toggleFormat(t,{source:Ct.t.TOOLBAR})}},{key:"getDerivedFormatIcon",value:function(e){return"blockquote"===e?"quote-post":"ordered-list"===e?"numbered-list":"strike"===e?"strikethrough":e}},{key:"buildComposer",value:function(e){if(!e)return null;for(var t=[],n=0,r=e.length;n<r;n++)for(var a=e[n],i=null,o=0,s=a.length;o<s;o++)t.push(this.renderButton(a[o],{prevFormat:i,nextFormat:a[o+1],firstFormat:e[0][0]})),i=a[o],o===s-1&&n!==r-1&&t.push(We.a.createElement("span",{className:"p-composer__separator",key:"separator_"+n+"_"+o}));return t}},{key:"buildButtonLabel",value:function(e){switch(e){case"bold":return Zt.t("Bold");case"italic":return Zt.t("Italic");case"underline":return Zt.t("Underline");case"strike":return Zt.t("Strikethrough");case"link":return Zt.t("Link");case"blockquote":return Zt.t("Blockquote");case"code":return Zt.t("Code");case"code-block":return Zt.t("Code block");case"h1":return Zt.t("Large title");case"h2":return Zt.t("Small title");case"bullet-list":return Zt.t("Bulleted list");case"ordered-list":return Zt.t("Ordered list");case"check-list":return Zt.t("Check list");default:return e}}},{key:"buildTooltipText",value:function(e){var t=this.props.featureWysiwygComposer,n=Object(Bt.p)()?"\u2318":"Ctrl ",r=this.buildButtonLabel(e);switch(e){case"bold":return Zt.rt('{format}<span class="p-composer__tip_subtitle">{metaKey}B</span>',{format:r,metaKey:n});case"italic":return Zt.rt('{format}<span class="p-composer__tip_subtitle">{metaKey}I</span>',{format:r,metaKey:n});case"underline":return Zt.rt('{format}<span class="p-composer__tip_subtitle">{metaKey}U</span>',{format:r,metaKey:n});case"strike":return Zt.rt('{format}<span class="p-composer__tip_subtitle">{metaKey} Shift X</span>',{format:r,metaKey:n});case"code":return t?Zt.rt('{format}<span class="p-composer__tip_subtitle">{metaKey} Shift C</span>',{format:r,metaKey:n}):r;default:return r}}},{key:"shouldDisableButton",value:function(e){return"bold"===e&&(Object(Ue.a)(this.props.activeFormats,"h1")||Object(Ue.a)(this.props.activeFormats,"h2"))}},{key:"shouldAdjoinToFormat",value:function(e){return e&&Object(Ue.a)(this.props.activeFormats,e)&&!this.shouldDisableButton(e)}},{key:"tabComposer",value:function(e){var t=Object(Ft.b)(this.composerRef.current),n=Object(Ft.c)(this.composerRef.current);e.keyCode===Z.k&&(e.shiftKey?document.activeElement===t&&(n.focus(),e.preventDefault()):document.activeElement===n&&(t.focus(),e.preventDefault()))}},{key:"trapFocusToComposer",value:function(){this.composerRef.current.addEventListener("keydown",this.tabComposer)}},{key:"focus",value:function(){this.state.visible&&!this.props.linkFormActive&&(this.firstButtonFormatRef.current.focus(),this.trapFocusToComposer()),this.state.visible&&this.props.linkFormActive&&(this.composerRef.current.querySelector("input").focus(),this.trapFocusToComposer())}},{key:"renderButton",value:function(e,t){var n=t.prevFormat,r=t.nextFormat,a=t.firstFormat,i=this.shouldDisableButton(e),o=Object(Ue.a)(this.props.activeFormats,e),s=me()("p-composer__button",{"p-composer__button--adjoin-left":this.shouldAdjoinToFormat(n),"p-composer__button--adjoin-right":this.shouldAdjoinToFormat(r),"p-composer__button--selected":!i&&o}),c=this.buildTooltipText(e);return We.a.createElement(gt.c,{tip:c,position:"top",key:"format_"+e+"_tip",delay:0,offsetY:-7,zIndex:"above_fs"},We.a.createElement(tt.d,{className:s,"aria-label":this.buildButtonLabel(e),"data-format":e,icon:this.getDerivedFormatIcon(e),onKeyDown:this.onKeyDown,onClick:this.onButtonClick,disabled:i,"aria-pressed":o,ref:a===e?this.firstButtonFormatRef:null}))}},{key:"renderLinkInput",value:function(){return We.a.createElement(Xt,{onClose:this.onLinkFormClose,onSubmit:this.onLinkFormSubmit,activeLinkHref:this.props.activeLinkHref})}},{key:"render",value:function(){var e=this.props,t=e.buttons,n=e.linkFormActive,r=me()("p-composer__body",{"p-composer__body--visible":this.state.visible}),a=n?this.renderLinkInput():null;return t?We.a.createElement("div",{className:r,role:"toolbar","aria-label":Zt.t("formatting"),ref:this.composerRef},!n&&this.buildComposer(t),a):null}}]),t}(Ye.PureComponent);en.displayName="Composer",en.defaultProps=$t;var tn=Object(Kt.a)(en,"Composer",{index:0}),nn=Object(Ze.b)(function(e){return{featureWysiwygComposer:Object(Ht.a)(e)}},function(e){return{setComposerVisibilityAction:function(){return e(qt.c.apply(void 0,arguments))}}})(tn),rn=n("7R01"),an=n("APEC"),on=n("Smdl"),sn=n("tRvn"),cn=n("/Rx2"),ln=n("s19S"),un={bold:Ct.s.BOLD,italic:Ct.s.ITALIC,strike:Ct.s.STRIKE,code:Ct.s.CODE,underline:Ct.s.UNDERLINE,link:Ct.s.LINK,"bullet-list":Ct.s.BULLET_LIST,"ordered-list":Ct.s.ORDERED_LIST,"check-list":Ct.s.CHECK_LIST,"code-block":Ct.s.CODE_BLOCK,blockquote:Ct.s.BLOCK_QUOTE,h1:Ct.s.H1,h2:Ct.s.H2,hr:Ct.s.HR},dn=y.a.import("core/module"),bn={},pn=function(e){function t(e,n){o()(this,t);var r=Object(_.a)({},bn,n),a=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.teamId=n.teamId||Object(Dt.a)(),a.isShowing=!1,a.activeLinkRange=null,a.activeLinkHref=null,a.activeFormats=null,a.disableLinkForm=n.disableLinkForm,a.isLinkFormActive=!1,a.suppressComposer=!1,a.localKeyBoardTimeout=null,a.buttons=n.buttons,a.useFormattingCharacters=n.useFormattingCharacters,a.isComposerEnabled=n.isComposerEnabled,a.isInComposition=!1,n.buttons?(a.store=Object(Ie.getStoreInstanceByTeamId)(a.teamId),a.clogger=Object(Et.a)(a.store),a.composer=e.addContainer("ql-composer"),n.zIndexOverride&&(a.composer.style.zIndex=n.zIndexOverride),Object(kt.a)(a,["onSelectionChange","onTextChange","toggleFormat","insertLink","removeLink","formatHandler","positionMenu","toggleComposer","triggerKeyboardComposerFn","addAdditionalKeyBindings","documentClick","buildAllowedFormats","dismissLinkForm","showLinkForm","onCompositionStart","onCompositionEnd","showComposerBasedOnSelection"]),a.addAdditionalKeyBindings(),a.listen(),a.allowedFormats=a.useFormattingCharacters?[]:a.buildAllowedFormats(),a):x()(a)}return P()(t,e),c()(t,[{key:"mountOrRemountComposer",value:function(){this.isShowing=!0,Xe.a.render(We.a.createElement(Ze.a,{store:this.store},We.a.createElement(rn.a,null,We.a.createElement(nn,{buttons:this.buttons,activeFormats:this.activeFormats,toggleFormat:this.toggleFormat,onScroll:this.onScroll,insertLink:this.insertLink,removeLink:this.removeLink,onLinkFormDismissed:this.dismissLinkForm,onLinkFormshow:this.showLinkForm,positionMenu:this.positionMenu,activeLinkHref:this.activeLinkRange?this.activeLinkHref:null,linkFormActive:this.isLinkFormActive,toggleComposer:this.toggleComposer}))),this.composer),this.positionMenu()}},{key:"unmountComposer",value:function(){if(this.isShowing&&(this.isShowing=!1,this.activeLinkRange=null,this.activeLinkHref=null,this.activeFormats=null,this.isLinkFormActive=!1,this.composer&&Xe.a.unmountComponentAtNode(this.composer),Object(I.a)()||Object(on.a)()&&Object(cn.e)(this.store.getState())&&!Object(sn.a)(document.activeElement)||!Object(on.a)()&&Object(ln.f)(this.store.getState())&&!Object(sn.a)(document.activeElement))){if(!this.quill.hasFocus()){var e=this.quill.getSelection();e&&this.quill.setSelection(e.index+e.length,0)}this.quill.focus()}}},{key:"buildAllowedFormats",value:function(){return Object(d.a)(this.quill.options.modules.composer.formats).map(function(e){if(Object(Lt.isObject)(e)&&"header"===Object.keys(e)[0]||1===e[Object.keys(e)[0]]||2===e[Object.keys(e)[0]])return"h"+e[Object.keys(e)[0]];if(Object(Lt.isObject)(e)&&"list"===Object.keys(e)[0]){if("bullet"===e[Object.keys(e)[0]])return"bullet-list";if("ordered"===e[Object.keys(e)[0]])return"ordered-list";if("unchecked"===e[Object.keys(e)[0]])return"check-list"}return e})}},{key:"addAdditionalKeyBindings",value:function(){var e=this;this.quill.keyboard.addBinding({key:Z.f},function(){if(!e.isShowing)return!0;e.toggleComposer(null);var t=e.quill.getSelection();return t&&e.quill.setSelection(t.index+t.length,0),!1}),this.quill.keyboard.addBinding({key:Z.h,shiftKey:!0,altKey:null,ctrlKey:null},function(){return e.suppressComposer=!0,e.triggerKeyboardComposerFn(),!0}),this.quill.keyboard.addBinding({key:Z.l,shiftKey:!0,altKey:null,ctrlKey:null},function(){return e.suppressComposer=!0,e.triggerKeyboardComposerFn(),!0}),this.quill.keyboard.addBinding({key:Z.i,shiftKey:!0,altKey:null,ctrlKey:null},function(){return e.suppressComposer=!0,e.triggerKeyboardComposerFn(),!0}),this.quill.keyboard.addBinding({key:Z.c,shiftKey:!0,altKey:null,ctrlKey:null},function(){return e.suppressComposer=!0,e.triggerKeyboardComposerFn(),!0}),this.useFormattingCharacters||(this.quill.keyboard.addBinding({key:56,shiftKey:!0,shortKey:!0,handler:function(t){e.formatHandler({format:"bullet-list",index:t.index,length:t.length,source:Ct.t.KEYBOARD})}}),this.quill.keyboard.addBinding({key:55,shiftKey:!0,shortKey:!0,handler:function(t){e.formatHandler({format:"ordered-list",index:t.index,length:t.length,source:Ct.t.KEYBOARD})}}),this.quill.keyboard.addBinding({key:190,shiftKey:!0,shortKey:!0,handler:function(t){e.formatHandler({format:"blockquote",index:t.index,length:t.length,source:Ct.t.KEYBOARD})}}),this.quill.keyboard.addBinding({key:"x",shiftKey:!0,shortKey:!0,collapsed:!1},function(t){e.formatHandler({format:"strike",index:t.index,length:t.length,source:Ct.t.KEYBOARD})}),this.quill.keyboard.addBinding({key:"c",shiftKey:!0,shortKey:!0,collapsed:!1},function(t){e.formatHandler({format:"code",index:t.index,length:t.length,source:Ct.t.KEYBOARD})}))}},{key:"unload",value:function(){document.removeEventListener("click",this.documentClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}},{key:"listen",value:function(){this.quill.on("selection-change",this.onSelectionChange),this.quill.on("text-change",this.onTextChange),document.addEventListener("click",this.documentClick),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}},{key:"documentClick",value:function(e){return this.quill.hasFocus()||this.composer.contains(e.target)||e.target.classList.contains("p-composer__button")||this.toggleComposer(null),!1}},{key:"positionMenu",value:function(){var e=void 0;this.activeLinkRange?e=this.activeLinkRange:e=this.quill.getSelection();var t=e?this.quill.getBounds(e.index,e.length):null,n=this.composer.offsetHeight,r=this.composer.offsetWidth,a=0,i=0;if(t){if(i=t.top-n-5,t.width>=r){var o=getComputedStyle(this.quill.root);a=t.width===this.quill.root.clientWidth-parseInt(o.paddingLeft,10)-parseInt(o.paddingRight,10)?t.left:t.left+Math.abs((t.width-r)/2)}else a=t.width<r&&t.left>r?t.left-(r-t.width):t.left;this.composer.style.left=a+"px",this.composer.style.top=i+"px"}}},{key:"toggleComposer",value:function(e){var t=this;if(e&&e.length&&!this.suppressComposer&&!this.isInComposition){if(this.useFormattingCharacters)this.activeFormats=[];else{var n=this.quill.getFormat(e.index,e.length);if(n&&n["code-block"]||n.imageSrc)return void this.unmountComposer();this.activeFormats=Object.keys(n).map(function(e){if("header"===e)return"h"+n[e];if("list"===e){if("bullet"===n[e])return"bullet-list";if("ordered"===n[e])return"ordered-list";if("unchecked"===n[e])return"check-list"}return e}).filter(function(e){return t.allowedFormats.includes(e)})}this.mountOrRemountComposer()}else this.unmountComposer()}},{key:"removeLink",value:function(e){var t=e.source;if(this.activeLinkRange){var n=this.activeLinkRange,r=this.quill.scrollingContainer.scrollTop;this.quill.setSelection(n.index+n.length);var a=this.quill.getFormat(n.index,n.length);Object(Lt.isObject)(a)&&a.link&&this.quill.formatText(n.index,n.length,{link:!1}),this.quill.scrollingContainer.scrollTop=r,this.activeLinkHref=null,this.activeLinkRange=null,this.clogger.track(Ct.k.MSG_FORMATTING_REMOVED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:t,input_format:Ct.s.LINK})}}},{key:"insertLink",value:function(e,t){var n=t.source,r=this.activeLinkRange||this.lastKnownRange,a=this.quill.scrollingContainer.scrollTop;if(r&&r.length){var i=this.quill.getText(r.index,r.length),o=e.getAnchorHref?e.getAnchorHref():e.url;this.quill.updateContents((new k.a).retain(r.index).delete(r.length).insert(i,{link:o}),y.a.sources.SILENT),this.quill.setSelection(r.index+r.length),this.quill.scrollingContainer.scrollTop=a,this.clogger.track(Ct.k.MSG_FORMATTING_ADDED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:n,input_format:Ct.s.LINK})}}},{key:"showLinkForm",value:function(){this.isLinkFormActive=!0,this.mountOrRemountComposer()}},{key:"dismissLinkForm",value:function(){this.isLinkFormActive=!1,this.activeLinkRange?this.toggleComposer():this.mountOrRemountComposer()}},{key:"showComposerBasedOnSelection",value:function(e){return 0===this.quill.getContents(e.index,e.length).filter(function(e){return Object(an.a)(e)&&!Object(q.a)(e)||Object(L.a)(e)||Object(U.a)(e)&&""!==e.insert.trim()}).length}},{key:"triggerKeyboardComposerFn",value:function(){var e=this;this.isComposerEnabled()&&(this.localKeyBoardTimeout&&clearTimeout(this.localKeyBoardTimeout),this.localKeyBoardTimeout=setTimeout(function(){var t=e.quill.getSelection();if(t&&!(!t.length>0)||e.activeLinkRange){var n=e.quill.getFormat(t);n&&n.link&&(e.activeLinkRange=t,e.activeLinkHref=n.link),e.suppressComposer=e.showComposerBasedOnSelection(t),e.toggleComposer(t),e.localKeyBoardTimeout=null}},600))}},{key:"formatHandler",value:function(e){var t=e.format,n=e.index,r=e.length,a=e.source;if(this.useFormattingCharacters)"bold"===t?Object(R.c)("*",{index:n,length:r},this.quill,this.teamId,Ct.t.TOOLBAR):"italic"===t?Object(R.c)("_",{index:n,length:r},this.quill,this.teamId,Ct.t.TOOLBAR):"strike"===t?Object(R.c)("~",{index:n,length:r},this.quill,this.teamId,Ct.t.TOOLBAR):"code"===t?Object(R.c)("`",{index:n,length:r},this.quill,this.teamId,Ct.t.TOOLBAR):"bullet-list"===t?Object(R.a)({range:{index:n,length:r},type:"unordered",quill:this.quill,texty:this.options.texty,singleLineInput:!1,useLists:!0,teamId:this.teamId,source:Ct.t.TOOLBAR}):"ordered-list"===t?Object(R.a)({range:{index:n,length:r},type:"ordered",quill:this.quill,texty:this.options.texty,singleLineInput:!1,useLists:!0,teamId:this.teamId,source:Ct.t.TOOLBAR}):"blockquote"===t&&Object(R.a)({range:{index:n,length:r},type:"quote",quill:this.quill,texty:this.options.texty,singleLineInput:!1,useLists:!0,teamId:this.teamId,source:Ct.t.TOOLBAR});else{var i=this.quill.getFormat(n,r),o=!Object(At.a)(i)&&i[t],s=0,c=!1;if("h1"===t?c={header:1}:"h2"===t?c={header:2}:"bullet-list"===t?c={list:"bullet"}:"ordered-list"===t?c={list:"ordered"}:"check-list"===t?c={list:"unchecked"}:"code-block"===t?c={"code-block":!0}:"blockquote"===t&&(c={blockquote:!0}),!o&&("code-block"===t||"code"===t)){var l=!1,u=this.quill.getContents(n,r).map(function(e){return Object(q.a)(e)?(l=!0,s=s+e.insert.slackemoji.text.length-1,{insert:e.insert.slackemoji.text}):e});if(l){var d=new k.a;n>0&&d.retain(n),u.forEach(function(e){d.insert(e.insert,e.attributes)}),d.delete(r),this.quill.updateContents(d)}}var b=void 0;if(c&&Object(Lt.isObject)(c)){var p=Object.keys(c)[0],h=c[p],m=Object.keys(i)[0],f=i[m];c["code-block"]||c.blockquote?(b=p!==m&&h,this.quill.formatLine(n,r+s,Pt()({},p,b))):(b=h!==f&&h,this.quill.formatLine(n,r+s,Pt()({},p,b)))}else b=!o,this.quill.formatText(n,r+s,Pt()({},t,b));un[t]&&this.clogger.track(b?Ct.k.MSG_FORMATTING_ADDED:Ct.k.MSG_FORMATTING_REMOVED,{input_context:Object(I.a)()?Ct.r.POST:Ct.r.MESSAGE,input_source:a,input_format:un[t]})}}},{key:"toggleFormat",value:function(e,t){var n=t.source,r=this.quill.getSelection();r&&r.length&&this.formatHandler({format:e,index:r.index,length:r.length,source:n})}},{key:"onSelectionChange",value:function(e){if(e&&(this.lastKnownRange=e),(!this.isLinkFormActive||!this.composer.contains(document.activeElement))&&this.isComposerEnabled()){if(e&&e.index>=0){this.suppressComposer=this.showComposerBasedOnSelection(e);var t=this.quill.getFormat(e);t&&t.link&&(this.activeLinkRange=e,this.activeLinkHref=t.link)}this.suppressComposer?this.toggleComposer(null):this.toggleComposer(e)}}},{key:"onTextChange",value:function(){this.toggleComposer(this.quill.getSelection())}},{key:"onCompositionStart",value:function(){this.isInComposition=!0}},{key:"onCompositionEnd",value:function(){this.isInComposition=!1}}]),t}(dn),hn=n("WVBe"),mn=y.a.import("core/module"),fn=y.a.import("parchment"),vn=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t);var r=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClickOption=n.onClick,r.onTokenClick=r.onTokenClick.bind(r),r.listen(),r}return P()(t,e),c()(t,[{key:"unload",value:function(){this.onClickOption&&this.quill.root.removeEventListener("click",this.onTokenClick)}},{key:"listen",value:function(){this.onClickOption&&this.quill.root.addEventListener("click",this.onTokenClick,!1)}},{key:"onTokenClick",value:function(e){if(!this.onClickOption)return!0;var t=e.target.closest("."+hn.a.className);if(null===t)return!0;var n=fn.find(t).offset(this.quill.scroll),r=this.quill.getContents(n,1);if(r.ops[0]&&Object(V.a)(r.ops[0])){e.preventDefault(),e.stopPropagation();var a=r.ops[0].insert.workflowtoken;if(!a.isAvailable)return!0;this.onClickOption({token:a,element:t,index:n})}return!0}}]),t}(mn),gn={attributes:{},logger:{error:f.a,info:f.a,warn:f.a},modules:{},onEnter:f.a},_n=!1;var On=function(e,t,n){e.element.addEventListener("click",e.onInputClick),t.root.addEventListener("focus",e.onRootFocus),t.root.addEventListener("blur",e.onRootBlur),C.a.msie&&t.root.addEventListener("focusout",e.onRootFocusOut),t.on("selection-change",function(t){t&&e.setLastSelection(t),e.hasFocus()?e.onFocus():e.onBlur(),n.onSelectionChange&&n.onSelectionChange(t)}),t.on("text-change",function(r,a,i){if(e.setLastSelection(),t.getLength()>1&&a.length()<=1&&e.enforceEmptyStateConsistency(),n.onTextChange){var o=e.nextTextChangeCallbackSource||i;e.nextTextChangeCallbackSource=null,n.onTextChange(o)}})},yn=function(e,t){var n={id:t.id,dir:"auto",role:"textbox",tabindex:t.tabIndex,"data-team-id":t.getTeamId?t.getTeamId():"","aria-label":t.ariaLabel};t.ariaLabelledBy&&(n["aria-labelledby"]=t.ariaLabelledBy),t.ariaDescribedBy&&(n["aria-describedby"]=t.ariaDescribedBy),t.singleLineInput||(n["aria-multiline"]="true"),t.unsafeAriaProps&&(n["aria-autocomplete"]=t.unsafeAriaProps.autocomplete,n["aria-owns"]=t.unsafeAriaProps.owns,n["aria-expanded"]=t.unsafeAriaProps.expanded,t.unsafeAriaProps.activedescendant&&(n["aria-activedescendant"]=t.unsafeAriaProps.activedescendant)),t&&t.modules&&t.modules.tabcomplete&&t.modules.tabcomplete.completers.length&&(n["aria-autocomplete"]="list",n["aria-expanded"]="false",n["aria-owns"]="chat_input_tab_ui"),Object(z.c)(e.root,n)},jn=function(e,t){return t&&t.modules&&t.modules.clipboard?Object(_.a)({onPasted:e.setLastSelection.bind(e),logger:t.logger,featureSonicClipboard:t.featureSonicClipboard,getUserHighlightWords:t.getUserHighlightWords,useWysiwyg:!(!t.modules.composer||t.modules.composer.useFormattingCharacters),texty:e},t.modules.clipboard):{}},kn=function(e,t){if(!t||!t.modules||!t.modules.slackButtons)return null;var n=t.modules.slackButtons,r=n.enableEmojiButton,a=n.enableMentionButton;return r||a?u()({},t.modules.slackButtons,{inlineEmojiIsEnabled:t.inlineEmojiIsEnabled,texty:e}):null},En=function(e,t){return!!(t&&t.modules&&t.modules.tabcomplete&&t.modules.tabcomplete.completers.length)&&Object(_.a)({logger:t.logger,no_model_ob:t.no_model_ob,useMentions:!!t.modules.slackmention,enableBroadcastKeywords:t.enableBroadcastKeywords,tooltipIsShowing:t.modules.tabcomplete.tooltipIsShowing||f.a,tooltipShow:t.modules.tabcomplete.tooltipShow||f.a,tooltipHide:t.modules.tabcomplete.tooltipHide||f.a,ariaExpand:function(t){var n=e.element.querySelector(".ql-editor");n.setAttribute("aria-expanded","true"),n.setAttribute("aria-activedescendant","tab_complete_ui_item_"+t)},ariaCollapse:function(){var t=e.element.querySelector(".ql-editor");t.setAttribute("aria-expanded","false"),t.removeAttribute("aria-activedescendant")},useWysiwyg:!(!t.modules.composer||t.modules.composer.useFormattingCharacters),teamId:t.getTeamId?t.getTeamId():""},t.modules.tabcomplete)},Cn=function(e){return!!(e&&e.modules&&e.modules.slackmention)&&e.modules.slackmention},In=function(e){return!e.singleLineInput&&(!!(e&&e.modules&&e.modules.tabcomplete&&e.modules.tabcomplete.completers.length&&Object(b.a)(e.modules.tabcomplete.completers,{type:"members"}))&&{searchOptions:{no_model_ob:Object(p.a)(e,"modules.tabcomplete.no_model_ob"),model_ob:Object(p.a)(e,"modules.tabcomplete.searchOptions.model_ob")},enableBroadcastKeywords:e.enableBroadcastKeywords,isAutocompleteOpen:e.isAutocompleteOpen,getBroadcastKeywords:e.getBroadcastKeywords,getUserHighlightWords:e.getUserHighlightWords,promiseToSearchMembers:e.promiseToSearchMembers,onMentionReplace:e.onMentionReplace||f.a,useWysiwyg:!(!e.modules.composer||e.modules.composer.useFormattingCharacters)})},wn=function(e,t){return!!t&&{isJumbomojiEnabled:t.isJumbomojiEnabled,inlineEmojiIsEnabled:t.inlineEmojiIsEnabled,convertEmoticonsIsEnabled:t.convertEmoticonsIsEnabled,getEmojiNames:t.getEmojiNames,useSonicEmoji:t.useSonicEmoji,getLocale:t.getLocale,replaceNativeEmoji:t.replaceNativeEmoji,updateJumbomojiClass:function(t){var n=e.element.classList.contains("texty_emoji_only");t&&!n&&e.element.classList.add("texty_emoji_only"),!t&&n&&e.element.classList.remove("texty_emoji_only")},safeToReplaceEmoji:function(){var t=e.quill.getModule("tabcomplete");return!t||!t.isShowing()},teamId:t.getTeamId?t.getTeamId():""}},Sn=function(e,t){return!!t&&{useWysiwyg:t.modules.composer&&!t.modules.composer.useFormattingCharacters,getTextChangeModules:function(){var n=[];return e.quill?(e.quill.options.modules.textsanitization&&n.push(e.quill.getModule("textsanitization")),e.quill.options.modules.slacklink&&n.push(e.quill.getModule("slacklink")),e.quill.options.modules.slackmention&&n.push(e.quill.getModule("slackmention")),In(t)&&n.push(e.quill.getModule("autoslug")),e.quill.options.modules.slackemoji&&n.push(e.quill.getModule("slackemoji")),e.quill.options.modules.textsubstitutions&&n.push(e.quill.getModule("textsubstitutions")),n):n}}},Tn=function(){function e(t,n){if(o()(this,e),!t||"DIV"!==t.tagName)throw new Error('Texty: param "element" must be <div> element');_n||(y.a.register({"modules/tabcomplete":S.a,"modules/textsubstitutions":X,"modules/msginput":J,"modules/clipboard":T.a,"modules/keyboard":R.b,"modules/slackmention":pe,"modules/slackemoji":ye.b,"modules/textchangequeue":Be,"modules/textsanitization":Ve,"modules/autoslug":w.c,"modules/slackbuttons":mt,"modules/slackcharlimit":jt,"modules/slacklink":$.a,"modules/slackmarkdown":xt,"modules/composer":pn,"modules/slackhorizontalrule":Fe,"modules/workflowtoken":vn,"formats/slacksearchtokenmodifier":re,"formats/slacksearchtokenvalue":ie,"formats/slackmention":Oe,"formats/slackemoji":De,"formats/slackhorizontalrule":qe,"formats/workflowtoken":hn.a},!0),_n=!0),this.options=Object(_.a)({},gn,Object(m.a)(n,h.a)),this.onInputClick=this.onInputClick.bind(this),this.onRootFocus=this.onRootFocus.bind(this),this.onRootBlur=this.onRootBlur.bind(this),this.onRootFocusOut=this.onRootFocusOut.bind(this),this.element=t,this.placeholder=null,this.setLastSelection({index:0,length:0}),this.nextTextChangeCallbackSource=null,this.options.singleLineInput&&t.classList.add("texty_single_line_input"),this.options.showMentionTooltips||t.classList.add("texty_hide_tooltips"),this.options.className&&this.options.className.split(" ").forEach(function(e){t.classList.add(e)});var r=["slackemoji"];if(this.options.modules.slacksearch&&(r.push("slacksearchtokenmodifier"),r.push("slacksearchtokenvalue")),this.options.modules.slackmention&&r.push("slackmention"),Object(I.a)()&&r.push("slackhorizontalrule"),this.options.modules.slackdocimage&&r.push("slackdocimage"),this.options.modules.workflowtoken&&r.push("workflowtoken"),this.options.modules.composer){var i=this.options.modules.composer.formats;Object(d.a)(i).forEach(function(e){if("string"==typeof e&&r.push(e),"object"===(void 0===e?"undefined":a()(e))){var t=Object.keys(e)[0];-1===r.indexOf(t)&&r.push(t)}}),Object(I.a)()&&!this.options.modules.composer.useFormattingCharacters&&r.push("indent")}var s=this.options.useQuillClass||y.a;this.quill=new s(t,{formats:r,modules:{clipboard:jn(this,this.options),keyboard:u()({},this.options.modules.keyboard,{onEnterExternal:this.options.onEnter,onEscapeExternal:this.options.onEscape,onTabExternal:this.options.onTab,texty:this,singleLineInput:this.options.singleLineInput,useLists:this.options.useLists,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled,teamId:n.getTeamId?n.getTeamId():""}),composer:u()({},this.options.modules.composer,{texty:this}),tabcomplete:En(this,this.options),textsubstitutions:this.options.modules.textsubstitutions?u()({useWysiwyg:!(!this.options.modules.composer||this.options.modules.composer.useFormattingCharacters)},this.options.modules.textsubstitutions):null,msginput:this.options.modules.msginput,slackmention:Cn(this.options),slackemoji:wn(this,this.options),slackbuttons:kn(this,this.options),slackcharlimit:this.options.modules.slackcharlimit?u()({},this.options.modules.slackcharlimit,{useWysiwyg:!(!this.options.modules.composer||this.options.modules.composer.useFormattingCharacters)}):null,slacklink:this.options.modules.slacklink?u()({},this.options.modules.slacklink,{teamId:n.getTeamId?n.getTeamId():""}):null,slackdocimage:this.options.modules.slackdocimage,slackmarkdown:this.options.modules.slackmarkdown?u()({},this.options.modules.slackmarkdown,{teamId:n.getTeamId?n.getTeamId():""}):null,slackhorizontalrule:this.options.modules.slackhorizontalrule,textchangequeue:Sn(this,this.options),textsanitization:{stripNewlines:this.options.singleLineInput},autoslug:In(this.options),workflowtoken:this.options.modules.workflowtoken}}),On(this,this.quill,this.options),yn(this.quill,this.options),this.setPlaceholder(this.options.placeholder),Object(z.h)(this.quill.clipboard.container)}return c()(e,[{key:"unload",value:function(){this.getModules().forEach(function(e){e.unload&&e.unload()}),this.element.removeEventListener("click",this.onInputClick),this.quill.root.removeEventListener("focus",this.onRootFocus),this.quill.root.removeEventListener("blur",this.onRootBlur),C.a.msie&&this.quill.root.removeEventListener("focusout",this.onRootFocusOut)}},{key:"onInputClick",value:function(){this.quill.hasFocus()||Object(I.a)()||this.quill.focus()}},{key:"onRootFocus",value:function(){this.onFocus()}},{key:"onRootBlur",value:function(e){if(!this.quill.hasFocus()&&!(Object(I.a)()&&(C.a.safari||C.a.firefox)||this.options.modules.composer&&e&&e.relatedTarget&&e.relatedTarget.classList&&e.relatedTarget.classList.contains("p-composer__button")))if(this.options.modules.composer){var t=this.quill.getModule("tabcomplete");t&&t.hideAndReset(),this.onBlur()}else this.quill.setSelection(null)}},{key:"onRootFocusOut",value:function(e){var t=e.relatedTarget;t&&t!==document.body&&t!==document&&setTimeout(function(){document.activeElement!==t&&t.focus()},0)}},{key:"onFocus",value:function(){this.element.classList.contains("focus")||(this.element.classList.add("focus"),this.options.onFocus&&this.options.onFocus())}},{key:"onBlur",value:function(){this.element.classList.contains("focus")&&(this.element.classList.remove("focus"),this.options.onBlur&&this.options.onBlur())}},{key:"enable",value:function(){this.quill.enable()}},{key:"disable",value:function(){this.quill.disable()}},{key:"isEnabled",value:function(){return this.quill.isEnabled()}},{key:"focus",value:function(){this.quill.focus()}},{key:"selectAll",value:function(){this.setSelection(0,this.getLength())}},{key:"blur",value:function(){this.quill.blur()}},{key:"hasFocus",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"getContents",value:function(){return this.quill?{contents:this.quill.getContents().ops}:{contents:[]}}},{key:"setContents",value:function(e){this.nextTextChangeCallbackSource="api",this.quill.setContents(e.contents),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0);var t=this.quill.getModule("autoslug");t&&t.clearSearchCache()}},{key:"prependContents",value:function(e){var t=new k.a(e.contents).concat(new k.a(this.quill.getContents()));return this.setContents({contents:t.ops})}},{key:"getTextForRange",value:function(e,t){return this.quill.getText(e,t)}},{key:"getContentsForRange",value:function(e,t){return this.quill.getContents(e,t)}},{key:"getText",value:function(){return this.quill.getText().replace(/\n$/,"")}},{key:"setText",value:function(e){e?(this.nextTextChangeCallbackSource="api",this.quill.setText(e),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0)):this.clear()}},{key:"insertText",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e;if(Object(v.a)(r)){var a=this.quill.getLength()-1;r=Object(g.a)(r,0,a),t&&this.quill.insertText(r,t,"user"),this.setLastSelection({index:r+t.length,length:0}),this.hasFocus()?this.quill.setSelection(this.lastSelection):n&&this.quill.setSelection(this.lastSelection,"silent")}else this.options.logger.warn("TEXTY","no specified index")}},{key:"insertTextAtCursor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.lastSelection.length&&this.quill.deleteText(this.lastSelection),this.insertText(this.lastSelection.index,e,t)}},{key:"insertContentsAtCursor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",r=new k.a(e.contents),a=(new k.a).retain(this.lastSelection.index).delete(this.lastSelection.length).concat(r),i=this.lastSelection.index+r.length();this.setLastSelection({index:i,length:0}),this.quill.updateContents(a,n),this.hasFocus()?this.quill.setSelection(i):t&&this.quill.setSelection(i,"silent")}},{key:"updateContents",value:function(e){var t=new k.a(e.contents);this.quill.updateContents(t,"api")}},{key:"getFormats",value:function(e){var t=e;return Object(v.a)(t)||(t=this.lastSelection.index),this.quill.getFormat(t,0)}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setLastSelection({index:0,length:0}),!this.isEmpty()){this.nextTextChangeCallbackSource=e.is_silent?"silent":"api",this.quill.deleteText(0,this.quill.getLength());var t=this.quill.getModule("autoslug");t&&t.clearSearchCache()}}},{key:"refreshJumbomoji",value:function(){this.quill.getModule("slackemoji").toggleJumbomoji(this.quill.getContents())}},{key:"refreshContents",value:function(e){this.quill.setContents(e.contents,"silent")}},{key:"getPlaceholder",value:function(){return this.placeholder?this.placeholder.innerHTML:""}},{key:"setPlaceholder",value:function(e){this.placeholder||(this.placeholder=this.quill.addContainer("ql-placeholder"),Object(z.h)(this.placeholder)),this.placeholder.innerHTML=e||""}},{key:"setAriaLabel",value:function(e){this.quill.root.setAttribute("aria-label",e)}},{key:"setActiveDescendant",value:function(e){this.quill.root.setAttribute("aria-activedescendant",e)}},{key:"getSelection",value:function(){return!this.hasFocus()&&this.lastSelection?this.lastSelection:this.quill.getSelection()}},{key:"setSelection",value:function(e,t){var n=e,r=t;if(Object(v.a)(n)||Object(v.a)(r)){var a=this.quill.getLength()-1;n=Object(g.a)(n,0,a),r=Object(g.a)(r,0,a-n);try{this.quill.setSelection(n,r)}catch(e){this.options.logger.error("TEXTY","Failed to set selection ("+e+")"),e.stack&&this.options.logger.error("TEXTY",e.stack)}}}},{key:"isEmpty",value:function(){return this.quill.getLength()<=1}},{key:"getLength",value:function(){return this.quill.getLength()-1}},{key:"isCursorInPreBlock",value:function(){var e=this.quill.getSelection();if(!e)return!1;var t=this.quill.getText(0,e.index+e.length);return Object(z.k)(t)}},{key:"isIndexInCode",value:function(e){var t=this.quill.getText(0,e);return Object(z.j)(t)}},{key:"deleteSelection",value:function(){var e=this.quill.getSelection();e&&e.length&&(this.quill.deleteText(e.index,e.length),this.quill.setSelection(e.index))}},{key:"deleteText",value:function(e,t){this.quill.deleteText(e,t)}},{key:"clearHistory",value:function(){this.quill.history.clear()}},{key:"setLastSelection",value:function(e){e?this.lastSelection=e:this.isEmpty()?this.lastSelection={index:0,length:0}:this.lastSelection=this.quill.getSelection()||this.lastSelection}},{key:"getModules",value:function(){var e=this,t=[];return Object.keys(this.quill.options.modules).forEach(function(n){var r=e.quill.getModule(n);r&&t.push(r)}),t}},{key:"enforceEmptyStateConsistency",value:function(){this.placeholder&&(this.placeholder.offsetHeight,this.placeholder.style.transform="translateZ(0)",this.placeholder.style.transform="")}}]),e}();t.a=Tn},XxO7:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("EzZj"),a=n("yPgC"),i=Object(r.b)("Set the enterprise id for the current user (only for enterprise)");i.propTypes={id:a.a.EnterpriseId};var o=Object(r.b)("Set the team (workspace) id for the current user");o.propTypes={id:a.a.TeamId}},XzsM:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return y});var r,a=n("YEIV"),i=n.n(a),o=n("sk9p"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("Muja"),d=n("aK/h"),b=n("yPgC"),p=n("EzZj"),h=n("MNvw"),m=n("U/ze"),f=n("kOzZ"),v=d.b.objectOf(b.a.Experiment.isRequired).isRequired,g=Object(p.b)("Bulk add experiment assignments to redux");g.propTypes=v;var _=Object(p.b)("Override existing experiment assignments");_.propTypes=d.b.objectOf(d.b.string);var O=Object(h.b)((r={},i()(r,g,function(e,t){return t||e}),i()(r,_,function(e,t){var n=l()({},e);return Object.entries(t).forEach(function(t){var r=s()(t,2),a=r[0],i=r[1];n[a]={type:e[a]?e[a].type:"user",experiment_id:e[a]?e[a].experiment_id:"from-override",exposure_id:e[a]?e[a].exposure_id:0,group:i,trigger:"force_request",log_exposures:!1}}),n}),r),{},{persistenceEnabled:!0});O.propTypes=v,t.b=O;var y=Object(m.b)(function(e,t){var n=e&&e.experiments&&e.experiments[t];return n?(n.log_exposures&&function(e,t,n){Object(u.a)(j[e],t)||(Object(f.a)({state:n}).track("EXPERIMENT_EXPOSURE",{experiment_name:e,experiment_type:t.type,experiment_id:t.experiment_id,experiment_group:t.group,experiment_trigger:t.trigger,exposure_id:t.exposure_id}),j[e]=t)}(t,n,e),n.group):null}),j=(Object(m.b)(function(e){return e&&e.experiments}),{})},"Y+74":function(e,t,n){"use strict";var r=n("zmn3"),a=n("U/ze"),i=n("sg/O"),o=n("BYHq"),s=n("HO/Y"),c=n("VjHM"),l=Object(a.b)(function(e){var t=[],n=Object(s.b)(e),a=Object(i.c)(n);a&&t.push(a);var l=Object(c.g)(e,"highlight_words");l&&"string"==typeof l&&(t=t.concat(l.split(",")));var u=Object(o.d)(e),d=Object(r.a)(u,function(e){return Object(i.d)(e)});return t=t.concat(d)});t.a=l},"Y/4G":function(e,t,n){"use strict";var r=n("YsUP"),a=/^web-/,i=[],o={generateAndEnqueue:function(){var e="web-"+Date.now();return i.unshift(e),i=i.slice(0,10),e},check:function(e){return-1!==i.indexOf(e)},getTimeDelta:function(e){var t=Date.now(),n=parseInt(e.replace(a,""),10);if(Object(r.a)(n))throw new Error("Invalid token");return{delta:t-n,nowTs:t,tokenTs:n}},list:function(){return i.slice()}};t.a=o},Y2FI:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=(n("22dv"),b.b.node,b.b.string,b.b.func,{label:void 0,className:void 0,onMouseEnter:d.a}),g=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.className,r=e.onMouseEnter;return h.a.createElement("div",{className:f()("c-menu_item__header",n),onMouseEnter:r},t)}}]),t}(p.PureComponent);g.displayName="MenuItemHeader",g.defaultProps=v,t.a=g},Y3ub:function(e,t,n){},Y6FH:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("clTI"),v=n("REvl"),g=n("0Whs"),_=new(n("nNoG").b)("share-dialog"),O=(h.b.object,h.b.func,h.b.bool,h.b.number,h.b.string,{initialChannel:null,onChange:d.a,isDisabled:!1,optionsListOffsetBottom:void 0,ariaLabel:null}),y=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.setConversationSelectRef=n.setConversationSelectRef.bind(n),n.conversationSelect=null,n.state={value:e.initialChannel?e.initialChannel.id:null,selectedOption:e.initialChannel?Object(g.a)(e.initialChannel):null},n}return u()(t,e),o()(t,[{key:"onChange",value:function(e,t){this.setState(function(){return{value:e,selectedOption:{value:e,label:t}}}),this.props.onChange(e)}},{key:"setConversationSelectRef",value:function(e){var t=e;t&&t.getWrappedInstance&&(t=t.getWrappedInstance()),this.conversationSelect=t}},{key:"focusSelectInput",value:function(){this.conversationSelect&&this.conversationSelect.focusSelectInput()}},{key:"render",value:function(){return p.a.createElement(v.a,{wrapperClassName:"p-share_dialog_channel_picker",onChange:this.onChange,value:this.state.value,selectedOption:this.state.selectedOption,isDisabled:this.props.isDisabled,canPost:!0,placeholder:_.t("Search for channel or person"),ref:this.setConversationSelectRef,optionsListOffsetBottom:this.props.optionsListOffsetBottom,"aria-label":this.props.ariaLabel})}}]),t}(b.PureComponent);y.displayName="ShareDialogChannelPicker",y.defaultProps=O,t.a=Object(m.b)(function(e,t){var n=t.initialChannelId;return{initialChannel:Object(f.d)(e,n)}},null,null,{withRef:!0})(y)},YCXn:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.channel_pane.openChannelBrowser",r.a),o=Object(a.b)("TS.client.channel_pane.openChannelBrowserToSharedChannels",r.a),s=(Object(a.b)("TS.client.channel_pane.openCreateChannelDialog",r.a),Object(a.b)("TS.client.channel_pane.openDMBrowser",r.a)),c=Object(a.b)("TS.client.channel_pane.openAppsBrowser",r.a),l=Object(a.b)("TS.ui.share_channel_dialog.start",r.a)},YCZa:function(e,t,n){},YH8F:function(e,t,n){"use strict";function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=e.parentElement,r=e.scrollTop;n&&n!==t;)r+=n.scrollTop,n=n.parentElement;return r}n.d(t,"a",function(){return r})},YLnb:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("tfYw"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.keys,r=e.heightCache,i=e.containerHeight,o=void 0===i?0:i,s=e.stickToBottom,l=void 0!==s&&s,u=e.bottomMargin,d=void 0===u?0:u,b=e.ANCHOR_OFFSET,p=void 0===b?0:b,h=e.STICKY_EPSILON,m=void 0===h?2:h,f=e.STICKY_EPSILON_SETHEIGHT,v=void 0===f?2:f;a()(this,t);var g=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{keys:n,heightCache:r}));return g.containerHeight=o,g.stickToBottom=l,g.bottomMargin=d,g.STICKY_EPSILON=m,g.STICKY_EPSILON_SETHEIGHT=v,g.ANCHOR_OFFSET=p,g.anchorOffset=p,g.anchor=!1,g}return b()(t,e),o()(t,[{key:"getOffsetForKey",value:function(e){if(!e)return this.totalHeight;var t=this.getTop(e);return void 0===t?0:t-this.anchorOffset}},{key:"setHeight",value:function(e,n,r){if(!1!==this.anchor)return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,e,n),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(r,this.STICKY_EPSILON_SETHEIGHT))return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,e,n),this.bracketScrollTop(1/0);var a=r;this.getBottom(e)<=r+this.anchorOffset&&(a+=n-this.getHeight(e));return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,e,n),this.bracketScrollTop(a)}},{key:"setKeys",value:function(e,n){if(!1!==this.anchor)return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,e),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(n))return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,e),this.bracketScrollTop(1/0);var r=n+this.anchorOffset,a=this.findAnchor(this.keys,e,r);if(!a)return u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,e),this.bracketScrollTop(n);var i=this.getTop(a)-r;u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,e);var o=i-(this.getTop(a)-r);return this.bracketScrollTop(n-o)}},{key:"setContainerHeight",value:function(e,t){return!1!==this.anchor?(this.containerHeight=e,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(t)?(this.containerHeight=e,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=e,this.layout(),t)}},{key:"setBottomMargin",value:function(e){this.bottomMargin=e}},{key:"setStickToBottom",value:function(e){this.stickToBottom=e}},{key:"setAnchor",value:function(e,t){this.anchor=e,this.anchorOffset="number"!=typeof t?this.ANCHOR_OFFSET:t}},{key:"findAnchor",value:function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(this.getBottom(a)>n)for(var i=0;i<t.length;i++)if(t[i]===a)return a}return null}},{key:"bracketScrollTop",value:function(e){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,e))}},{key:"shouldStickToBottom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.STICKY_EPSILON;return!!this.stickToBottom&&e>=this.totalHeight-this.containerHeight-t+this.bottomMargin}}]),t}(n("z0G2").a);t.a=p},YPoa:function(e,t,n){},YVZO:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("x91h"),b=n("ifKl"),p=n("kxpR"),h=n.n(p),m=n("aK/h"),f=n("JvzI"),v=n("nNoG"),g=n("aLpA"),_=n("XoJV"),O=n("U3Q0"),y=n("plEq"),j=(n("pXKq"),new v.b("file-details")),k=(m.b.string,m.b.func,m.b.bool,m.b.func,{initialFileTitle:"",handleRename:b.a,featureSonicEmoji:!1,closeModal:b.a}),E=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.initialFileTitle;return n.state={value:Object(d.a)(r)},e.featureSonicEmoji&&(n.state.value=Object(_.d)({locale:Object(f.a)(),text:n.state.value})),n.onGo=n.onGo.bind(n),n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return u()(t,e),o()(t,[{key:"onGo",value:function(){var e=this.state.value;""!==e&&(this.props.featureSonicEmoji&&(e=Object(_.c)({locale:Object(f.a)(),text:e})),this.props.handleRename(e))}},{key:"onChange",value:function(e){this.setState(function(){return{value:e}})}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(this.onGo(),this.props.closeModal())}},{key:"render",value:function(){var e=j.t("File name"),t=j.t("Rename file"),n=j.t("Save Changes");return h.a.createElement(O.a,{className:"p-rename_file_dialog",title:t,goButtonText:n,goButtonType:"primary",onGo:this.onGo,goButtonIsDisabled:""===this.state.value},h.a.createElement(y.a,{autoFocus:!0,id:"react-file-details-input",name:"rename-file",value:this.state.value,maxCharacterLimit:g.v,counterMinimumCharacters:g.E,isRequired:!0,placeholder:e,onChange:this.onChange,onKeyDown:this.onKeyDown}))}}]),t}(p.PureComponent);E.displayName="BaseRenameFileDialog",E.defaultProps=k,t.a=E},YaVv:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("/1FC"),o=n("xWuZ"),s=n("pxG+"),c=n("Fsnq"),l=n("mM05"),u=n.n(l),d=n("W3KZ"),b=n("aLpA"),p=n("GQZf"),h=n("clTI"),m=n("6kok"),f=n("+u8r"),v=n("WKJn"),g=n("dG3r");var _=n("qm5R"),O=n("SOS8"),y=n("WExW");n.d(t,"a",function(){return T});var j=/(^|\S)( +)(\n)/gm,k=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201c|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201d\u2019,.<>\/?\s]+)/g,E=/[0-9a-fA-F]{6}/g,C=p.a.SECTION,I=p.a.LIST,w=p.a.PREFORMATTED,S=p.a.QUOTE;function T(e,t){if(!t||t.length()<=1)return[];var n=[],r=new u.a,a=C;return Object(f.a)(t,function(t,i){var o=function(e){return Object(_.a)(e)?w:Object(O.a)(e)?S:(t=e,t&&t.attributes&&("bullet"===t.attributes.list||"ordered"===t.attributes.list)?I:C);var t}(i);o!==a&&(n=R(e,n,a,r),a=o,r=new u.a),r.insert(t.insert,t.attributes)}),{blocks:[{type:"rich_text",elements:n=R(e,n,a,r,{stripTrailingWhitespace:!0})}]}}function R(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stripTrailingWhitespace:!1};if(r.ops.length<=0)return t;var o=void 0;return o=n===I?function(e,t){var n=[],r=null,a=null,i=[];return t.eachLine(function(t,o){null===r&&(r=o.list),null===a&&(a=o.indent||0),r===o.list&&a===(o.indent||0)||(n.push({type:I,style:r,indent:a,elements:i.map(function(e){return{type:C,elements:e}})}),r=o.list,a=o.indent||0,i=[]),i.push(N(e,new u.a(t)))}),n.push({type:I,style:r,indent:a,elements:i.map(function(e){return{type:C,elements:e}})}),n}(e,r):n===w?{type:w,elements:N(e,r,a()({},i,{preformattedStyle:!0,stripTrailingWhitespace:!0}))}:n===S?{type:S,elements:N(e,r,a()({},i,{preformattedStyle:!1,stripTrailingWhitespace:!0}))}:[{type:n,elements:N(e,r,i)}],t.concat(o)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1},r=t.ops[t.ops.length-1],a=t;n.stripTrailingWhitespace&&"\n"===r.insert&&(a=new u.a(t.ops.slice(0,t.ops.length-1)));var s=[];return a.forEach(function(t){var a=void 0;if(a=Object(v.a)(t)?function(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{preformattedStyle:!1}).preformattedStyle)return M({},{insert:e.insert.slackemoji.text},{skipConversions:!0});var t=Object(d.a)(e.insert.slackemoji.text),n={type:"emoji",name:t.name};t.skinTone&&(n.skin_tone=t.skinTone);return x(n,e)}(t,{preformattedStyle:n.preformattedStyle}):Object(g.a)(t)&&!t.attributes.slackmention.unverified?function(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{preformattedStyle:!1}).preformattedStyle)return M({},e,{skipConversions:!0});var t=e.attributes.slackmention.id,n=void 0;n=b.B.includes(t)?x({type:"broadcast",range:t.substr(2)},e):"S"===t.charAt(0)?x({type:"usergroup",usergroup_id:t},e):x({type:"user",user_id:t},e);if(e.insert.length>e.attributes.slackmention.label.length){var r=e.insert.split(e.attributes.slackmention.label);return r.length>1?(r.shift(),r.fill(n)):[n]}return e.attributes.slackmention.label===e.insert?[n]:M({},e,{skipConversions:!0})}(t,{preformattedStyle:n.preformattedStyle}):Object(y.a)(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{preformattedStyle:!1},n={type:"link",url:e.attributes.link};e.insert!==e.attributes.link&&(n.text=e.insert);return t.preformattedStyle?n:x(n,e)}(t,{preformattedStyle:n.preformattedStyle}):M(e,t,{stripTrailingWhitespace:n.stripTrailingWhitespace&&t===r,preformattedStyle:n.preformattedStyle})){var o=s.length&&s[s.length-1],c=Object(i.a)(a),l=c?a.shift():a;"text"!==l.type||l.style||!o||"text"!==o.type||o.style?s.push(l):s[s.length-1].text=""+s[s.length-1].text+l.text,c&&a.length&&s.push(a)}}),Object(o.a)(s)}function x(e,t){var n={};return t.attributes&&(t.attributes.bold&&(n.bold=!0),t.attributes.italic&&(n.italic=!0),t.attributes.strike&&(n.strike=!0),t.attributes.code&&(n.code=!0)),a()({},e,Object(c.a)(n)&&{style:n})}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},r=t.insert||"";if(n.stripTrailingWhitespace&&(r=Object(s.a)(r)),n.preformattedStyle||(r=r.replace(j,"$1$3")),!r)return null;var a=!(n.skipConversions||n.preformattedStyle||t.attributes&&t.attributes.code),i={type:"text",text:r},o=n.preformattedStyle?i:x(i,t);if(a){var c=[];if(r.replace(k,function(t,n,r,a){var i=Object(s.a)(r,"._-\u2026"),o=Object(h.e)(e,i),l=a+n.length;o&&(Object(m.yb)(o)||Object(m.xb)(o))?c.push({start:l,end:l+i.length+1,channel_id:o.id}):i.match(E)&&c.push({start:l,end:l+i.length+1,color:"#"+i.toUpperCase()})}),!c.length)return o;var l=[],u=0;return c.forEach(function(e){u<e.start&&l.push({type:"text",text:r.slice(u,e.start)}),e.channel_id?l.push({type:"channel",channel_id:e.channel_id}):e.color&&l.push({type:"color",value:e.color}),u=e.end}),u<r.length&&l.push({type:"text",text:r.slice(u)}),l.map(function(e){return x(e,t)})}return o}},Ycgk:function(e,t,n){"use strict";n.d(t,"b",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Signals that custom emoji have been updated");d.propTypes=null;var b=Object(l.b)(a()({},d,function(e){return o()({},e,{customEmojiCount:e.customEmojiCount+1})}),{customEmojiCount:0},{persistenceEnabled:!0});b.propTypes={customEmojiCount:s.b.number.isRequired},t.a=b;var p=Object(u.b)(function(e){return e&&e.customEmoji&&e.customEmoji.customEmojiCount})},Yg2s:function(e,t,n){"use strict";n.d(t,"e",function(){return H}),n.d(t,"i",function(){return G}),n.d(t,"a",function(){return z}),n.d(t,"b",function(){return W}),n.d(t,"c",function(){return X}),n.d(t,"g",function(){return J}),n.d(t,"f",function(){return ee}),n.d(t,"d",function(){return ne}),n.d(t,"h",function(){return ae});var r,a=n("jo6Y"),i=n.n(a),o=n("sk9p"),s=n.n(o),c=n("YEIV"),l=n.n(c),u=n("9oTK"),d=n("QbLZ"),b=n.n(d),p=n("m1cH"),h=n.n(p),m=n("fujP"),f=n("gSGL"),v=n("S1sa"),g=n("ZBlo"),_=n("XfeM"),O=n("om+M"),y=n("yHhI"),j=n("3PKk"),k=n("aK/h"),E=n("n74X"),C=n("HO/Y"),I=n("St+r"),w=n("DtX9"),S=n("N52Z"),T=n("pGee"),R=n("clTI"),N=n("+epm"),x=n("13mM"),M=n("FHcd"),P=n("J9z2"),A=n("+1yX"),D=n("uFGw"),L=n("uOc9"),q=Object(_.b)("Fetches raw objects from Flannel by query",(r=Object(u.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,s,c,l,d,p,v,g=r.method,_=r.query;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=g,i=Object(f.a)(_)?{query:_}:_,o=[],s=[],c=[],l=[],d=[],p={};case 8:return e.next=10,Object(u.resolve)(t(Object(j.f)({method:a,args:i})));case 10:if((v=e.sent)&&v.results&&v.results.length&&o.push.apply(o,h()(v.results)),v&&v.failed_ids&&v.failed_ids.length&&s.push.apply(s,h()(v.failed_ids)),v&&v.pending_ids&&v.pending_ids.length&&c.push.apply(c,h()(v.pending_ids)),v&&v.invalid_ids&&v.invalid_ids.length&&l.push.apply(l,h()(v.invalid_ids)),v&&v.member_channels&&v.member_channels.length&&d.push.apply(d,h()(v.member_channels)),v&&v.can_interact&&!Object(m.a)(v.can_interact)&&(p=b()({},p,v.can_interact)),v&&v.next_marker&&!(o.length>=i.count)){e.next=19;break}return e.abrupt("return",{objects:o.slice(0,i.count),failedIds:s,pendingIds:c,invalidIds:l,membershipIds:d,canInteract:p,next_marker:o.length>i.count?o[i.count].id:v.next_marker});case 19:i.marker=v.next_marker;case 20:e.next=8;break;case 22:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return r.apply(this,arguments)}));q.propTypes={method:k.b.string.isRequired,query:k.b.oneOfType([k.b.string,k.b.object]).isRequired};var F,B=Object(_.b)("Fetches raw objects from Flannel by ID",(F=Object(u.method)(function(e,t,n){var r=n.method,a=n.ids,o=n.checkMembership,c=void 0!==o&&o,u=n.fetchConditionally,d=void 0===u||u,p=n.checkInteraction,m=void 0!==p&&p,f=t();if(!Object(C.r)(f)&&!Object(L.a)(t()))return{objects:[],failedIds:[].concat(h()(a)),invalidIds:[].concat(h()(a)),pendingIds:[],membershipIds:[],canInteract:{}};var _=Object(g.a)(a,100);return Promise.map(_,function(n){var a=[],o={};if(m&&(o.check_interaction=!0),c&&(o.check_membership=!0),d){var u=n.reduce(function(e,t){var n=void 0;if(Object(M.a)(t))n=Object(w.i)(f,t)&&Object(w.h)(f,t);else if(Object(P.a)(t))n=Object(S.f)(f,t)&&Object(S.c)(f,t);else if(Object(A.a)(t))n=Object(R.t)(f,t)&&Object(R.r)(f,t);else{if(!Object(D.a)(t))return a.push(t),e;n=Object(T.g)(f,t)&&Object(T.d)(f,t)}var r=n&&n.updated?n.updated:0;return r&&m&&Object(M.a)(t)&&(r=Object(N.a)(Object(N.b)(f,t),r)),b()({},e,l()({},t,r))},{});o.updated_ids=u}else{var p=Object(v.a)(n,function(e){return Object(A.a)(e)||Object(M.a)(e)||Object(P.a)(e)||Object(D.a)(e)}),g=s()(p,2),O=g[0],j=g[1];o.ids=O,a=j}return e(q({method:r,query:o})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.failedIds,n=void 0===t?[]:t,r=e.invalidIds,o=void 0===r?[]:r,s=i()(e,["failedIds","invalidIds"]);return n.push.apply(n,h()(a)),o.push.apply(o,h()(a)),b()({failedIds:n,invalidIds:o},s)}).catch(function(e){return d?Object(y.a)({getState:t}).warn("Flannel chunk fetch failed: "+o+", "+n+", "+_):Object(y.a)({getState:t}).warn("Flannel chunk fetch failed: "+n+", "+_),Object(E.d)(e),{failedIds:n,invalidIds:n,pendingIds:[],objects:[],membershipIds:[],canInteract:{}}})},{concurrency:2}).timeout(Object(x.b)(f)).then(function(e){var t=[],n=[],r=[],a=[],i=[],o={};return e.forEach(function(e){t.push.apply(t,h()(e.objects)),n.push.apply(n,h()(e.failedIds)),r.push.apply(r,h()(e.invalidIds)),a.push.apply(a,h()(e.pendingIds)),i.push.apply(i,h()(e.membershipIds)),o=b()({},o,e.canInteract)}),{objects:t,failedIds:n,invalidIds:r,pendingIds:a,canInteract:o,membershipIds:i}}).catch(function(){return Object(y.a)({getState:t}).warn("Flannel fetch failed: "+a),{objects:[],failedIds:[].concat(h()(a)),invalidIds:[].concat(h()(a)),membershipIds:[]}})}),function(e,t,n){return F.apply(this,arguments)}));B.propTypes={method:k.b.string.isRequired,ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool};var U,H=Object(O.a)("Fetches raw members from Flannel by ID",(U=Object(u.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,s,c,l,d,p,m,f,v,g,_,O,y,k=r.ids,E=r.fetchConditionally,I=void 0===E||E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(L.a)(n())?j.c.MEMBER_INFO:j.a.MEMBER_QUERY,!Object(C.j)(n(),"feature_stranger_danger")){e.next=29;break}i=[],o=[],s={},c=0,l=k;case 7:return e.next=9,Object(u.resolve)(t(B({method:a,ids:l,fetchConditionally:I,checkInteraction:!0})));case 9:if(d=e.sent,p=d.objects,m=void 0===p?[]:p,f=d.invalidIds,v=void 0===f?[]:f,g=d.canInteract,_=void 0===g?{}:g,O=d.pendingIds,y=void 0===O?[]:O,i.push.apply(i,h()(m)),o.push.apply(o,h()(v)),s=b()({},s,_),c+=1,(l=y).length&&!(c>j.b)){e.next=25;break}return e.abrupt("return",{objects:i,failedIds:o,canInteract:s});case 25:return e.next=27,Object(u.resolve)(Promise.delay(250*c));case 27:e.next=7;break;case 29:return e.abrupt("return",t(B({method:a,ids:k,fetchConditionally:I})).then(function(e){return{objects:e.objects,failedIds:e.failedIds,canInteract:e.canInteract}}));case 30:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return U.apply(this,arguments)}));H.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool,andSubscribe:k.b.bool};var K,G=Object(O.a)("Unsubscribe 100 members from RTM stream by ID",(K=Object(u.method)(function(e,t,n){var r=n.ids,a=void 0===r?[]:r;if(a.length>100)return Promise.reject(new Error("Too many IDs for unsubscribe"));var i=j.a.MEMBER_UNSUBSCRIBE,o={ids:a};return e(Object(j.f)({method:i,args:o}))}),function(e,t,n){return K.apply(this,arguments)}));G.propTypes={ids:k.b.arrayOf(k.b.string).isRequired};var V,z=Object(O.a)("Fetches 100 raw members from Flannel by ID, and subscribe to the RTM stream",(V=Object(u.method)(function(e,t,n){var r=n.ids,a=void 0===r?[]:r;if(a.length>100)return Promise.reject(new Error("Too many IDs for unsubscribe"));if(Object(C.j)(t(),"feature_stranger_danger")){if(!Object(I.g)(t()))return e(H({ids:a}));var i=j.a.MEMBER_SUBSCRIBE;return Promise.join(e(B({method:i,ids:a})),e(H({ids:a})),function(e,t){return t})}var o=Object(L.a)(t())&&!Object(I.g)(t())?j.c.MEMBER_INFO:j.a.MEMBER_SUBSCRIBE;return e(B({method:o,ids:a})).then(function(e){return{objects:e.objects,failedIds:e.failedIds,canInteract:e.canInteract}})}),function(e,t,n){return V.apply(this,arguments)}));z.propTypes={ids:k.b.arrayOf(k.b.string).isRequired};var Y,W=Object(O.a)("Fetches raw bots from Flannel by ID",(Y=Object(u.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0===a||a,o=Object(L.a)(t())?j.c.MEMBER_INFO:j.a.MEMBER_QUERY;return e(B({method:o,ids:r,fetchConditionally:i})).then(function(e){return{objects:e.objects,failedIds:e.failedIds}})}),function(e,t,n){return Y.apply(this,arguments)}));W.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool};var Q,X=Object(O.a)("Fetches raw channels from Flannel by ID",(Q=Object(u.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0!==a&&a,o=Object(L.a)(t())?j.c.CHANNEL_INFO:j.a.CHANNEL_QUERY;return e(B({method:o,ids:r,checkMembership:!0,fetchConditionally:i})).then(function(e){return{objects:e.objects,failedIds:e.failedIds,membershipIds:e.membershipIds}})}),function(e,t,n){return Q.apply(this,arguments)}));X.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool};var Z,J=Object(O.a)("Fetches raw channels from Flannel by ID",(Z=Object(u.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0!==a&&a,o=Object(L.a)(t())?j.c.USERGROUP_INFO:j.a.USERGROUP_QUERY;return e(B({method:o,ids:r,fetchConditionally:i})).then(function(e){return{objects:e.objects,failedIds:e.failedIds}})}),function(e,t,n){return Z.apply(this,arguments)}));J.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool};var $,ee=Object(O.a)("Fetches raw members and bots from Flannel by query",($=Object(u.method)(function(e,t,n){var r=n.query,a=Object(f.a)(r)?{query:r}:b()({},r);if(a.ids)return e(H({ids:r.ids}));var i=j.a.MEMBER_QUERY;return Object(L.a)(t())&&(i=Object(f.a)(a.query)?j.c.MEMBER_SEARCH:j.c.MEMBER_LIST),e(q({method:i,query:a}))}),function(e,t,n){return $.apply(this,arguments)}));ee.propTypes={query:k.b.oneOfType([k.b.string,k.b.object]).isRequired};var te,ne=Object(O.a)("Fetches raw channels from Flannel by query",(te=Object(u.method)(function(e,t,n){var r=n.query,a=Object(f.a)(r)?{query:r,check_membership:!0}:b()({},r,{check_membership:!0});if(a.ids)return e(X({ids:r.ids}));var i=j.a.CHANNEL_QUERY;return Object(L.a)(t())&&(i=Object(f.a)(a.query)?j.c.CHANNEL_SEARCH:j.c.CHANNEL_LIST),e(q({method:i,query:a}))}),function(e,t,n){return te.apply(this,arguments)}));ne.propTypes={query:k.b.oneOfType([k.b.string,k.b.object]).isRequired};var re,ae=Object(O.a)("Fetches raw channels from Flannel by ID",(re=Object(u.method)(function(e,t,n){var r=n.query,a=Object(f.a)(r)?{query:r}:b()({},r);if(a.ids)return e(J({ids:r.ids}));var i=Object(L.a)(t())?j.c.USERGROUP_SEARCH:j.a.USERGROUP_QUERY;return e(q({method:i,query:a}))}),function(e,t,n){return re.apply(this,arguments)}));ae.propTypes={query:k.b.oneOfType([k.b.string,k.b.object]).isRequired}},YhFg:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("aK/h"),a=n("XfeM"),i=n("uOc9"),o=n("3PKk"),s={},c=Object(a.b)("Queries Flannel for member counts for a given channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.lastFetchedTs,l=void 0===a?0:a,u=n.retries,d=void 0===u?0:u;if(s[r])return s[r];var b=1e4-(Date.now()-l);return s[r]=Promise.delay(Math.max(0,b)).then(function(){return delete s[r],e(Object(o.f)({method:Object(i.a)(t())?o.c.MEMBER_COUNTS:o.a.COUNTS,args:{channel:r}})).then(function(e){return e.counts}).catch(function(t){if(d<=3)return e(c({channelId:r,lastFetchedTs:Date.now(),retries:d+1}));throw t})}),s[r]});c.propTypes={channelId:r.b.string.isRequired,lastFetchedTs:r.b.number,retries:r.b.number};var l=Object(a.b)("Queries Flannel for member counts for the team (and org if applicable) broken down by role",function(e,t){return e(Object(o.f)({method:Object(i.a)(t())?o.c.MEMBER_COUNTS:o.a.COUNTS})).then(function(e){return e.counts})})},Ykz6:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("aK/h"),a=n("4zXV"),i=n("om+M"),o=n("yHhI");Object(i.a)("Get all status information for IP ranges for Mission Control",function(e,t,n){var r=n.teamId,i=n.includeDeleted,s=void 0!==i&&i,c=n.reason;return e(Object(a.a)({method:"mc.authorized.ip.range.getStatus",args:{team_id:r,include_deleted:s},reason:c})).catch(function(e){throw Object(o.a)({getState:t}).error("Authorized IP ranges","Failed to get all authorized IP range status"),e})}).propTypes={teamId:r.b.string,includeDeleted:r.b.bool,reason:r.b.string},Object(i.a)("Set Authorized IP ranges for Mission Control",function(e,t,n){var r=n.teamId,i=n.ipRanges,s=n.requesterId,c=n.reason;return e(Object(a.a)({method:"mc.authorized.ip.range.add",args:{team_id:r,ips:i,user_id:s},reason:c})).catch(function(e){throw Object(o.a)({getState:t}).error("Authorized IP ranges","Failed to add authorized IP ranges"),e})}).propTypes={teamId:r.b.string,ipRanges:r.b.array,requesterId:r.b.string,reason:r.b.string},Object(i.a)("Delete a single Authorized IP range for Mission Control",function(e,t,n){var r=n.teamId,i=n.ipId,s=n.reason;return e(Object(a.a)({method:"mc.authorized.ip.range.delete",args:{team_id:r,id:i},reason:s})).catch(function(e){throw Object(o.a)({getState:t}).error("Authorized IP ranges","Failed to delete authorized IP range"),e})}).propTypes={teamId:r.b.string,ipId:r.b.string,reason:r.b.string};var s=Object(i.a)("Check to see if the client\u2019s is authorzied based on the IP address of the client",function(e,t,n){var r=n.reason;return e(Object(a.a)({method:"teams.authorized.ip.range.checkIp",reason:r})).catch(function(e){throw Object(o.a)({getState:t}).error("Authorized IP ranges","Failed to check IP"),e})});s.propTypes={reason:r.b.string}},Ypgw:function(e,t,n){"use strict";n.d(t,"g",function(){return N}),n.d(t,"d",function(){return A}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return q}),n.d(t,"i",function(){return B}),n.d(t,"h",function(){return H}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return V});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("jo6Y"),l=n.n(c),u=n("oTSI"),d=n("Z3Pq"),b=n("NFsq"),p=n("EzZj"),h=n("MNvw"),m=n("U/ze"),f=n("aK/h"),v=n("XfeM"),g=n("1zbP"),_=n("btvA"),O=n("lhZz"),y=n("uf9I"),j=n("smxp"),k=n("hOQf"),E=n("2HDu"),C=n("HO/Y"),I=n("ESFG"),w=n("izWf");function S(e,t){return Promise.all(t.map(function(t){var n=Object(E.a)(t),r=n.channelId,a=n.threadTs;return r&&a?Object(O.dispatchForTeamId)(e,Object(w.a)({channelId:r,threadTs:a})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscriptions,n=Object(b.a)(e,a);return{id:t,subscribed:n}}):null}))}var T=Object(u.a)(function(){return new g.a({fetch:function(e,t){return S(e,t)},upsertKnown:K,upsertNonExistent:K})}),R=Object(u.a)(function(){return new _.b({fetch:function(e,t){return S(e,t)}})}),N=Object(p.b)("Update thread subscription status");N.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,subscribed:f.b.bool,lastRead:f.b.string};var x=Object(p.b)("Update many thread subscriptions");x.propTypes={subscriptions:f.b.array};var M=Object(h.b)((r={},i()(r,N,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=l()(t,["channelId","ts"]),o=Object(E.c)(n,r);return s()({},e,i()({},o,s()({},e[o],{id:o},a)))}),i()(r,x,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).subscriptions,n=(void 0===t?[]:t).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelId,r=t.ts,a=l()(t,["channelId","ts"]),i=Object(E.c)(n,r),o=e[i];return s()({},o,{id:i},a)});return s()({},e,Object(d.a)(n,"id"))}),r),{},{persistenceEnabled:!0});M.propTypes=f.b.objectOf(f.b.shape({id:f.b.string.isRequired,lastRead:f.b.string,subscribed:f.b.bool})),t.a=M;var P=Object(m.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;if(!e)return null;if(!e.threadSub)return null;if(!n||!r)return null;var a=Object(E.c)(n,r);return e.threadSub[a]}),A=Object(m.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.fetchIfMissing,i=void 0===a||a;if(!e)return null;if(!e.threadSub)return null;if(!n||!r)return null;var o=Object(E.c)(n,r),s=P(e,{channelId:n,ts:r}),c=Object(y.b)(e);return s&&"boolean"==typeof s.subscribed?(R().maybeRefetch(c,s.id),s):s&&Object(g.e)(s)?s:i?T().fetchObjectWithId(c,o):null}),D=Object(m.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=A(e,{channelId:n,ts:r});return!!a&&!!a.subscribed}),L=Object(m.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=A(e,{channelId:n,ts:r});return!!a&&"boolean"==typeof a.subscribed}),q=Object(m.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=A(e,{channelId:n,ts:r});return!!a&&!!a.isUnknown}),F=Object(v.b)("Upsert some subscriptions",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).subscriptions,r=Object(y.b)(t()),a=n.map(function(e){return e.id||Object(E.c)(e.channelId,e.ts)});R().markObjectsAsFresh(r,a),e(x({subscriptions:n}))});F.propTypes={subscriptions:f.b.array};var B=Object(v.b)("Upsert a single subscription and mark it as fresh",function(e,t,n){e(F({subscriptions:[n]}))});B.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,subscribed:f.b.bool.isRequired,lastRead:f.b.string};var U=Object(v.b)("Subscribe / unsubscribe to a message thread",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.subscribed,o=n.messageContainerType,s=t(),c=Object(j.a)(s,r,a),l=Object(k.B)(c);if(e(F({subscriptions:[{channelId:r,ts:a,subscribed:i,lastRead:l}]})),!Object(C.j)(s,"feature_react_threads"))return Object(I.d)(r,a,i,l);var u={channelId:r,threadTs:a,lastRead:l,reason:(i?"add-thread-sub-via-":"remove-thread-sub-via-")+o};return e(i?Object(w.e)(u):Object(w.f)(u))});U.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,subscribed:f.b.bool.isRequired};var H=Object(v.b)("Toggle the existing subscription status, fetch if necessary",function(e,t,n){var r=t();if(L(r,n)){var a=D(r,n);return e(U(s()({subscribed:!a},n)))}return Promise.resolve({})});function K(e,t){Object(O.dispatchForTeamId)(e,F({subscriptions:t}))}H.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired};var G=Object(v.b)("Updates the last_read for a thread",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.lastRead,o=n.reason,s=A(t(),{channelId:r,ts:a});s.lastRead&&s.lastRead===i||(e(N({channelId:r,ts:a,lastRead:i})),e(Object(w.d)({channelId:r,threadTs:a,lastRead:i,reason:o})))});G.propTypes={channelId:f.b.string.isRequired,ts:f.b.string.isRequired,lastRead:f.b.string.isRequired};var V=Object(v.b)("Return a promise that resolves when we know the subscribed state for a thread",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,i=Object(y.b)(t()),o=P(t(),{channelId:r,ts:a});return o&&"boolean"==typeof o.subscribed&&R().isObjectFresh(i,o.id)?Promise.resolve(o.subscribed):e(Object(w.a)({channelId:r,threadTs:a})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscriptions,n=Object(b.a)(t,a);return e(B({channelId:r,ts:a,subscribed:n})),n})});V.propTypes={channelId:f.b.string.isRequired,threadTs:f.b.string.isRequired}},Yujr:function(e,t,n){"use strict";var r=n("TGBA"),a=n("kxpR"),i=n.n(a),o=n("XHGt"),s=n("TSYQ"),c=n.n(s),l=n("aK/h"),u=n("clTI"),d=n("6kok"),b=n("A+cF"),p=n("XLFM"),h=n("kd6D"),m=n("lek6"),f=n("xE6W"),v=n("EetU"),g=n("Sq1r"),_=n("rkyv"),O=(n("fMsH"),function(e){return e.onClick?i.a.createElement(p.c,{className:e.className,onClick:e.onClick},e.children):i.a.createElement("span",{className:e.className},e.children)});O.defaultProps={onClick:void 0,children:void 0,className:void 0};l.b.string,l.b.string,l.b.func,l.b.bool,l.b.bool,l.b.node,l.b.node,l.b.node,l.b.string,l.b.oneOf(Object(r.a)(h.d)),l.b.number,l.b.object;var y={channelId:void 0,channel:void 0,className:void 0,onClick:void 0,showPurpose:!0,showUnreadBadge:!1,metadata:void 0,inlineNameSuffix:void 0,nameSuffix:void 0,bestFormerName:void 0,displayFormerNames:h.d.false,badgeCount:void 0};function j(e){var t=e.bestFormerName,n=e.className,r=e.channel,o=e.displayFormerNames,s=e.showPurpose,l=e.metadata,u=e.inlineNameSuffix,p=e.nameSuffix,y=e.showUnreadBadge,j=e.badgeCount,k=e.onClick,E=Object(d.P)(r),C=Object(d.Ib)(r),I=s&&E&&!C,w=l&&!C,S=y&&j>0&&!C,T=!C,R=c()(n,"c-medium_channel_entity"),N=Object(d.V)(r)?h.c.dim:null;return i.a.createElement(b.d,{className:R,size:"medium",style:N,text:i.a.createElement("div",{className:"c-medium_channel_entity__info"},i.a.createElement(O,{onClick:k,className:"c-medium_channel_entity__name"},C?i.a.createElement(f.a,{type:"unknown",size:"medium"}):i.a.createElement(a.Fragment,null,i.a.createElement(g.a,{channel:r}),i.a.createElement(_.a,{channel:r,bestFormerName:t,displayFormerNames:o,inlineNameSuffix:u,onClick:k}),i.a.createElement("span",{className:"c-medium_channel_entity__channel_suffix"},u&&i.a.createElement("span",{className:"c-medium_channel_entity__inline_name_suffix","data-qa":"medium_channel_entity_inline_name_suffix"},u)))),i.a.createElement("div",{className:"c-medium_channel_entity__name_suffix","data-qa":"medium_channel_entity_name_suffix"},T&&p),S&&i.a.createElement(v.b,{count:j,className:"c-channel_entity__mentions c-channel_entity__mentions--medium c-channel_entity__mention--not-inverted",style:v.a.red})),subtext:I&&i.a.createElement(b.b,null,i.a.createElement(m.a,{"data-qa":"medium_channel_entity_purpose",text:E,noJumbomoji:!0})),metadata:w&&i.a.createElement(b.a,{"data-qa":"medium_channel_entity_metadata"},l)})}j.displayName="MediumChannelEntityBase",j.defaultProps=y;t.a=Object(o.b)(function(e,t){var n=t.channel||Object(u.d)(e,t.channelId);return{channel:n,badgeCount:t.showUnreadBadge&&(t.badgeCount||Object(u.c)(e,n))}})(j)},Yzeu:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return m});var r=n("wYji"),a=n("89j2"),i=n("rWF5"),o=n("XzsM"),s=n("HO/Y"),c=n("Smdl"),l=new(n("nNoG").b)("calls_wrong_build");function u(){if(!Object(i.u)())return!1;var e=desktop.app.version();return e.major<"4"?e.minor<"4"?p(e,{major:"3",minor:"3",patch:"7"}):p(e,{major:"3",minor:"4",patch:"0",prerelease:"alpha3"}):(!e.prerelease||!e.prerelease.startsWith("sonic")&&!e.prerelease.startsWith("alpha2"))&&p(e,{major:"4",minor:"0",patch:"0",prerelease:"alpha1190201"})}function d(){return!Object(i.u)()&&!Object(i.j)()}function b(e){return Object(c.a)()||function(e){return!(("enabled"!==Object(o.c)(e,"calls_modern_from_legacy_team")&&"enabled"!==Object(o.c)(e,"calls_modern_from_legacy_paid_team")||"disabled"===Object(o.c)(e,"calls_modern_from_legacy"))&&"enabled"!==Object(o.c)(e,"calls_modern_from_legacy")||(Object(i.u)()?u():d())||Object(s.j)(e,"feature_sonic_redirect_opt_out"))}(e)}function p(e,t){var n=Object(a.a)(e,t);return!!(n<0)||!(n>0)&&(!!e.prerelease&&(!t.prerelease||e.prerelease<t.prerelease))}function h(e){return f(e,l.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to calls &mdash; as well as bug fixes and an all-around smoother experience.",{fallbackHash:"15f4227e116c3dce202df6486303491344a6350d",fallbackHashNs:"utility"}))}function m(e){return f(e,l.t("Unfortunately, Slack calls aren't available in this browser. We recommend downloading the Slack desktop app, or you can switch to Chrome.",{fallbackHash:"c3316caea826cdc00385e8aca03517944038abcc",fallbackHashNs:"utility"}))}function f(e,t){return Object(r.b)({temporary:!0,message:{text:t,channel:e}})}},ZAxE:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m});var r=n("aK/h"),a=n("om+M"),i=n("CXsT"),o=n("smxp"),s=n("HO/Y"),c=n("St+r"),l=n("yHhI"),u=n("4zXV"),d={};function b(e){delete d[e]}var p=Object(a.a)("Fetches the most recent EKM change timestamp via conversations.historyChanges",function(e){return e(Object(u.a)({method:"conversations.historyChanges",reason:"checking-for-ekm-changes",args:{}})).then(function(){return{ekmChangeTimestamp:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ekm_change_ts}})}),h=Object(a.a)("Fetches history through conversations.history",function(e,t,n){var r=n.channelId,a=n.oldest,o=void 0===a?null:a,b=n.latest,p=void 0===b?null:b,h=n.limit,m=void 0===h?42:h,f=n.includePinCount,v=void 0===f||f,g=n.reason,_=void 0===g?"history-api/fetchHistory":g,O=n.cursor,y=void 0===O?null:O;d[r]||(d[r]=0),d[r]+=1;var j=!1;d[r]>=100&&d[r]%100==0&&(j=!0,Object(l.a)({getState:t}).error({channelId:r,historyFetches:d[r],oldest:o,latest:p},"react_messages_loop_fetch"));var k={channel:r,limit:m,ignore_replies:!0,include_pin_count:v,inclusive:!0,no_user_profile:!0};return Object(s.j)(t(),"feature_degraded_send")&&!Object(c.i)(t())&&(k.include_tombstones=!0),o&&(k.oldest="0000000000.000000"===o?"0000000000.000001":o),p&&(k.latest="0000000000.000000"===p?"0000000000.000001":p),y&&(k.cursor=y),e(Object(u.a)({method:"conversations.history",args:k,reason:_})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.messages,o=n.has_more,s=n.is_limited,c=n.pin_count,u=n.channel_actions_count,d=n.deleted,b=void 0===d?[]:d,p=n.response_metadata,h=void 0===p?{}:p;if(!a)return j&&Object(l.a)({getState:t}).error({imsgs:a,channelId:r,error:"No imsgs in response!",hasMore:o,isLimited:s},"react_messages_loop_response"),{msgs:[],deleted:b};var m=e(Object(i.a)({imsgs:a,channelId:r}));return j&&Object(l.a)({getState:t}).error({imsgs:a.map(function(e){return{ts:e.ts,channel:e.channel,userType:e.user&&e.user[0],threadTs:e.thread_ts,subtype:e.subtype,hidden:e.hidden}}),channelId:r,hasMore:o,isLimited:s},"react_messages_loop_response"),{msgs:m,hasMore:o,pinCount:c,channelActionsCount:u,isLimited:s,deleted:b,responseMetadata:h}})});h.propTypes={channelId:r.b.string.isRequired,oldest:r.b.string,latest:r.b.string,limit:r.b.number,includePinCount:r.b.bool,reason:r.b.string},t.b=h;var m=Object(a.a)("Fetches history through conversations.replies",function(e,t,n){var r=n.channelId,a=n.threadTs,l=n.oldest,d=void 0===l?null:l,b=n.latest,p=void 0===b?null:b,h=n.limit,m=void 0===h?42:h,f=n.reason,v=void 0===f?"history-api/fetchReplies":f,g=n.cursor,_=void 0===g?null:g,O=Object(o.a)(t(),r,a);if(p===a&&O&&!Object(s.j)(t(),"feature_message_history_cfm"))return Promise.resolve({msgs:[O],hasMore:!1,deleted:[]});var y={channel:r,ts:a,inclusive:!0,limit:m};return d&&(y.oldest=d),p&&(y.latest=p),_&&(y.cursor=_),Object(s.j)(t(),"feature_degraded_send")&&!Object(c.i)(t())&&(y.include_tombstones=!0),e(Object(u.a)({method:"conversations.replies",args:y,reason:v})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.has_more,a=t.messages,o=t.response_metadata,s=void 0===o?{}:o,c=t.deleted,l=void 0===c?[]:c;return a?{msgs:e(Object(i.a)({imsgs:a,channelId:r})),hasMore:n,responseMetadata:s,deleted:l}:{msgs:[],deleted:l}})});m.propTypes={channelId:r.b.string.isRequired,threadTs:r.b.string.isRequired,oldest:r.b.string,latest:r.b.string,reason:r.b.string}},ZHPz:function(e,t,n){},ZHrX:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("aK/h"),b=n("kxpR"),p=n.n(b),h=n("TSYQ"),m=n.n(h),f=n("nNoG"),v=n("od5y"),g=n("RMmo"),_=n("cD5Y"),O=(n("qhon"),new f.b("enhanced_text_input")),y=(d.b.string,d.b.string,d.b.string,d.b.bool,d.b.bool,d.b.bool,d.b.func,d.b.func,d.b.func,d.b.func,d.b.bool,d.b.string,d.b.string,d.b.string,d.b.oneOf(["small","large",""]),{placeholder:void 0,value:"",icon:"",autoFocus:!1,hasResetButton:!0,isLoading:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onSubmit:void 0,blurOnSubmit:!1,className:"","data-qa":void 0,inputAriaLabel:void 0,size:""}),j=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focused:e.autoFocus,isLoading:e.isLoading,value:e.value,autoFocusComplete:!1},n.handleClick=n.handleClick.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleResetButtonClick=n.handleResetButtonClick.bind(n),n.setRef=n.setRef.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.autoFocus(),this.bindKeyCommands()}},{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{isLoading:e.isLoading,value:e.value}})}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"setRef",value:function(e){this.input=e}},{key:"bindKeyCommands",value:function(){var e=[{keys:["return","shift+return"],handler:this.handleReturnKey.bind(this)},{keys:["escape"],handler:this.handleEscapeKey.bind(this)}];this.keyCommands||(this.keyCommands=new g.a(this.input)),this.keyCommands.bindAll(e)}},{key:"autoFocus",value:function(){if(!this.state.autoFocusComplete){var e=this.props.onFocus;this.setState(function(){return{autoFocusComplete:!0}},function(){e&&e()})}}},{key:"focus",value:function(){var e=this;this.state.focused||this.setState(function(){return{focused:!0}},function(){e.input.focus()})}},{key:"handleClick",value:function(){this.state.focused||(this.setState(function(){return{focused:!0}}),this.input.focus())}},{key:"handleInputBlur",value:function(e){this.setState(function(){return{focused:!1}}),this.props.onBlur&&(e.persist(),this.props.onBlur(e))}},{key:"handleInputFocus",value:function(){this.state.focused||(this.setState(function(){return{focused:!0}}),this.props.onFocus&&this.props.onFocus())}},{key:"handleInputChange",value:function(e){e.persist();var t=e.target.value;this.setState(function(){return{value:t}}),this.props.onChange&&this.props.onChange(e)}},{key:"handleResetButtonClick",value:function(e){this.setState(function(){return{value:""}}),this.input.value="",this.props.onChange&&this.props.onChange(e)}},{key:"handleReturnKey",value:function(e){var t=this.props,n=t.onSubmit,r=t.blurOnSubmit;(n||r)&&this.state.focused&&this.state.value&&(e.preventDefault(),this.input&&r&&this.input.blur(),n&&n(this.state.value))}},{key:"handleEscapeKey",value:function(e){0!==this.state.value.length&&e.preventDefault(),this.setState(function(e){return{value:e.focused?"":e.value}}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=m()("c-filter_input",this.props.className,{"c-filter_input--active":this.state.focused},{"c-filter_input--large":"large"===this.props.size},{"c-filter_input--small":"small"===this.props.size}),t=m()("c-filter_input__reset_button padding_right_25",{"c-filter_input__reset_button--visible":this.props.hasResetButton&&!!this.state.value&&!this.state.isLoading}),n=m()("c-filter_input__loading_indicator",{"c-filter_input__loading_indicator--visible":this.state.isLoading}),r="small"===this.props.size?"search_small":"search_medium",a="search"===this.props.icon?"nudge_top_1":"",i=this.props.placeholder||O.t("Search");return p.a.createElement("div",{className:e,"data-qa":this.props["data-qa"],onClick:this.handleClick,role:"presentation"},p.a.createElement(v.b,{type:"search"===this.props.icon?r:this.props.icon,className:a}),p.a.createElement("input",{className:"c-filter_input__input mousetrap","data-qa":this.props["data-qa"]?this.props["data-qa"]+"_input":void 0,ref:this.setRef,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onChange:this.handleInputChange,type:"text",placeholder:i,value:this.state.value,autoFocus:this.props.autoFocus,"aria-label":this.props.inputAriaLabel}),p.a.createElement("div",{className:"c-filter_input__right_icons"},p.a.createElement(v.b,{type:"close-filled",className:t,onClick:this.handleResetButtonClick,size:"inherit"}),p.a.createElement("div",{className:n},p.a.createElement(_.a,{size:"small"===this.props.size?"small":"medium",speed:"fast"}))))}}]),t}(b.Component);j.displayName="FilterInput",j.defaultProps=y,t.a=j},ZKnj:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DtX9"),c=n("HO/Y"),l=n("CPJ1"),u=n("FsHF"),d=Object(o.b)("updates member presence",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).presence,r=t(),i=Object(c.b)(r),o=Object(s.h)(r,i);if(o){var d=a()({},o,{manual_presence:n,presence:n});Object(l.h)(e,[d]),Object(u.a)(d)}});d.propTypes=i.b.shape({presence:i.b.string}),t.a=d},ZQFR:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Sets the primary view in workspace store");i.propTypes={id:r.b.string.isRequired};i.getType();var o=Object(a.b)("Sets the secondary view in workspace store");o.propTypes={flexName:r.b.string,flexParams:r.b.arrayOf(r.b.string),flexOrigin:r.b.string,flexOriginId:r.b.string};var s=Object(a.b)("Sets the flexpane origin store");s.propTypes={flexOrigin:r.b.string,flexOriginId:r.b.string};var c=Object(a.b)("Sets the flexpane restore store");c.propTypes={flexRestore:r.b.object};var l=Object(a.b)("Sets the focused workspaces from the client-store");l.propTypes=r.b.arrayOf(r.b.string).isRequired;var u=Object(a.b)("Sets the props we need to re-open the last flexpane");u.propTypes={prevRouteName:r.b.string,prevFlexName:r.b.string,prevFlexParams:r.b.object};var d=Object(a.b)("Sets channelDetailsOpen");d.propTypes={channelDetailsOpen:r.b.bool,channelDetailsSection:r.b.string}},ZRqz:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Initialize enterprise preferences");i.propTypes={unlocked_prefs:r.b.object,locked_prefs:r.b.object,org_prefs:r.b.object};var o=Object(a.b)("Update on enterprise org pref");o.propTypes={pref:r.b.string.isRequired,value:r.b.any}},ZTVY:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("6Jf9"),o=n("UxT1"),s=/\s*,\s*|\s+/,c=Object(a.b)("/invite_people slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.originalRest,c=(void 0===a?"":a).trim().split(s).filter(function(e){return e.trim()});return c.length&&e(Object(o.c)(c.map(function(e){return{email:e}}))),Promise.resolve(e(Object(i.a)({initialChannelId:r})))});c.propTypes={channelId:r.b.string,originalRest:r.b.string},t.default=c},ZUQO:function(e,t,n){},ZYn4:function(e,t,n){"use strict";var r=n("RDbB");n("yY9y");t.a=r.a},Zg1Q:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d});var r=n("ROZo"),a=Object(r.b)("TS.refreshTeams"),i=(Object(r.b)("TS.teams.ensureTeamsArePresent"),Object(r.b)("TS.teams.changed_is_unknown_sig.dispatch")),o=Object(r.b)("TS.teams.rename_sig.dispatch"),s=Object(r.b)("TS.teams.changed_icon_sig.dispatch"),c=Object(r.b)("TS.team.team_profile_changed_sig.dispatch"),l=Object(r.b)("TS.team.team_name_changed_sig.dispatch"),u=Object(r.b)("TS.team.team_domain_changed_sig.dispatch"),d=Object(r.b)("TS.team.team_email_domain_changed_sig.dispatch")},Zhly:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("XHGt"),u=n("aK/h"),d=n("hXpn"),b=n("clTI"),p=n("kd6D"),h=n("EetU"),m=n("p3uO"),f=(n("fMsH"),u.b.string,u.b.object,u.b.bool,u.b.string,u.b.node,u.b.bool,u.b.bool,u.b.bool,u.b.number,{channelId:void 0,channel:void 0,className:void 0,showUnreadBadge:!1,secondaryContent:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,badgeCount:void 0});function v(e){var t=e.className,n=e.secondaryContent,r=e.isActive,i=e.isDeactivated,s=e.isDisabled,l=e.showUnreadBadge,u=e.badgeCount,b=o()(e,["className","secondaryContent","isActive","isDeactivated","isDisabled","showUnreadBadge","badgeCount"]),f=n;l&&(f=c.a.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},n,c.a.createElement(h.b,{count:u,className:"c-channel_entity__mentions",style:r?"white":"red"})));var v=void 0;return r?v=s||i?p.c.highlightDim:p.c.highlightDark:(s||i)&&(v=p.c.dim),c.a.createElement(d.a,{className:t,primaryContent:c.a.createElement(m.a,a()({invert:v===p.c.highlightDark},b)),secondaryContent:f,size:"small",style:v})}v.displayName="SmallChannelListEntity",v.defaultProps=f,t.a=Object(l.b)(function(e,t){var n=t.channel||Object(b.d)(e,t.channelId);return{channel:n,badgeCount:t.showUnreadBadge&&(t.badgeCount||Object(b.c)(e,n))}})(v)},Zhz1:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("aXcD"),a=n("pWPO");function i(e,t){var n=Object(r.b)(e,{highlightWords:t,shouldRenderEmojiAsText:!0,emojiNames:[]});return Object(a.a)(n)}},ZsyN:function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=n("PR8O"),i=Object(r.b)("/slackgpuinfo slash command",function(){Object(a.a)()&&window.open("chrome://gpu/")});t.default=i},Zwlx:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("nNoG"),s=n("26ZP"),c=n("6kok"),l=n("zZZw"),u=n("Fdc0"),d=new o.b("share-dialog");i.b.object,i.b.bool,i.b.string,i.b.string,i.b.string,i.b.number,i.b.bool,i.b.arrayOf(i.b.node),i.b.bool,i.b.bool;function b(e,t){var n="p-share_dialog__warning_message";return t?a.a.createElement("span",{className:n,key:t},e):a.a.createElement("span",{className:n},e)}function p(e){var t=e.selectedChannel,n=e.selectedChannelIsGeneral,r=e.selectedChannelName,i=e.disallowedKeywordInMsgText,o=e.atChannelWarningKeyword,p=e.channelMemberCount,h=e.willJoinChannel,m=e.sharedTeamNames,f=e.canShareOutOfOriginChannel,v=void 0===f||f,g=e.isMessageShare;if(i){var _=Object(s.a)({type:i.replace("@","")});return b("@everyone"!==i||n?n?d.rt("A Workspace Owner has restricted the use of {keyword} messages in {channelName}.",{channelName:r,keyword:_}):d.rt("A Workspace Owner has restricted the use of {keyword} messages.",{keyword:_}):d.rt("<strong>{keyword}</strong> can\u2019t be used in {channelName}.",{keyword:_,channelName:r}))}var O=[];if(m&&m.length&&v){var y=Object(l.a)(m,{noEscape:!0,react:!0});Object(c.eb)(t)||Object(c.lb)(t)||Object(u.qb)(t)?O.push(b(d.rt("<strong>This conversation includes people from another organization.</strong> Messages and files sent here will also be seen by members of {shared_teams_list}.",{shared_teams_list:y,fallbackHash:"fe299a330cf86e16f15f7629e697034035d98b11",fallbackHashNs:"shared_channels"}),"sharedChannelWarning")):Object(c.ub)(t)?O.push(b(d.rt("<strong>This channel will soon be shared with {shared_teams_list}.</strong> Messages and files sent here will be seen by members of both organizations.",{shared_teams_list:y,fallbackHash:"58ebe9669aaea2d6294154c3801f38ec962fcd35",fallbackHashNs:"shared_channels"}),"sharedChannelWarning")):O.push(b(d.rt("<strong>This is a shared channel.</strong> Messages and files sent here will also be seen by members of {shared_teams_list}.",{shared_teams_list:y}),"sharedChannelWarning"))}if(o){var j=Object(s.a)({type:o.replace("@","")});O.push(b(d.rt("By using {keyword}, you are about to notify {memberCount, plural, =1 {# person} other {# people}}",{keyword:j,memberCount:p-1}),"atChannelWarningKeyword"))}return h&&(g?O.push(b(d.rt("You will join this channel when you share the message into it."),"willJoinChannel")):O.push(b(d.rt("You will join this channel when you share the file into it."),"willJoinChannel"))),O.length?a.a.createElement(a.a.Fragment,null,O):null}b.displayName="wrapWarningText",p.displayName="ShareDialogWarningMessage",p.defaultProps={selectedChannel:null,selectedChannelIsGeneral:!1,selectedChannelName:null,disallowedKeywordInMsgText:null,atChannelWarningKeyword:null,channelMemberCount:null,willJoinChannel:!1,sharedTeamNames:null,canShareOutOfOriginChannel:!0,isMessageShare:!1}},"a+Im":function(e,t,n){"use strict";n.d(t,"b",function(){return C});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=n("XHGt"),v=n("aK/h"),g=n("yPgC"),_=n("tbBR"),O=n("4wYP"),y=n("P9LH"),j=Object(h.createContext)({isExpanded:!1,isExpandable:!1,expand:p.a,collapse:p.a}),k=(g.a.File().isRequired,v.b.string.isRequired,v.b.string.isRequired,v.b.bool,v.b.node,v.b.bool,v.b.bool,v.b.bool,v.b.func,v.b.func,v.b.func,v.b.string,{children:void 0,isExpanded:!1,isExpanding:!1,isExpandable:!1,forceExpanded:!1,fetchAndExpand:p.a,collapseAndEnsureInView:p.a,collapseFile:p.a,viewContext:void 0}),E=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.expand=n.expand.bind(n),n.collapse=n.collapse.bind(n),n}return b()(t,e),c()(t,[{key:"expand",value:function(){this.props.fetchAndExpand({fileId:this.props.file.id,channelId:this.props.channelId,ts:this.props.ts,viewContext:this.props.viewContext})}},{key:"collapse",value:function(){/\d{10}\.?\d{6}/.test(this.props.ts)?this.props.collapseAndEnsureInView({fileId:this.props.file.id,ts:this.props.ts,channelId:this.props.channelId,viewContext:this.props.viewContext}):this.props.collapseFile({fileId:this.props.file.id,ts:this.props.ts,channelId:this.props.channelId,viewContext:this.props.viewContext})}},{key:"render",value:function(){return m.a.createElement(j.Provider,{value:{isExpanded:this.props.forceExpanded||this.props.isExpanded,isExpanding:this.props.isExpanding,isExpandable:!this.props.forceExpanded&&this.props.isExpandable,expand:this.expand,collapse:this.collapse}},this.props.children)}}]),t}(h.PureComponent);E.displayName="ExpandableContainer",t.a=Object(_.b)(Object(f.b)(function(e,t){return{isExpanded:Object(O.f)(e,{fileId:t.file.id,channelId:t.channelId,ts:t.ts,viewContext:t.viewContext}),isExpanding:Object(O.g)(e,{fileId:t.file.id,channelId:t.channelId,ts:t.ts,viewContext:t.viewContext}),isExpandable:Object(y.A)(t.file)}},{fetchAndExpand:O.d,collapseAndEnsureInView:O.a,collapseFile:O.b})(E)),E.defaultProps=k;var C=function(e){return function(t){return m.a.createElement(j.Consumer,null,function(n){var r=n.isExpanded,i=n.isExpanding,o=n.isExpandable,s=n.expand,c=n.collapse;return m.a.createElement(e,a()({},t,{isExpanded:r,isExpanding:i,isExpandable:o,expand:s,collapse:c}))})}}},"a+Oh":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("XzsM");function a(e){return"wysiwyg_composer_webapp"===Object(r.c)(e,"wysiwyg_composer_webapp")}function i(e){return"wysiwyg_messages_webapp"===Object(r.c)(e,"wysiwyg_messages_webapp")}},a2Ww:function(e,t,n){},a3KO:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"e",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"c",function(){return q});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("owWc"),l=n("Bw5p"),u=n("jeQL"),d=n("m8R6"),b=n("qAkX"),p=n("fujP"),h=n("OZf9"),m=n("aK/h"),f=n("EzZj"),v=n("MNvw"),g=n("U/ze"),_=n("XfeM"),O=n("zrSA"),y=n("CwN9"),j=n("0wDQ"),k=n("smxp"),E=n("tt0d"),C=n("OqoL"),I=n("yHhI"),w={disconnectedFeedback:"disconnected_feedback",createdGoogleDriveDocument:"created_google_drive_document",enablePopups:"enable_popups",generalPostingRestricted:"general_posting_restricted",genericPostingRestricted:"generic_posting_restricted",fileTypeHasNoHandler:"file_type_has_no_handler",boxFilePickerError:"box_file_picker_error",gdriveShareFileError:"gdrive_share_file_error",onedriveSdkError:"onedrive_sdk_error",tempSlashCmdFeedback:"temp_slash_cmd_feedback",threadsTempSlashCmdFeedback:"threads_temp_slash_cmd_feedback",uncaughtThirdPartyCallError:"uncaught_third_party_call_error",findAnAdminPrompt:"find_an_admin_prompt",unhandledGdriveCreate:"unhandled_gdrive_create"},S=Object(f.b)("Add ephemeral message reference to store");S.propTypes={ts:m.b.string.isRequired,ephemeralType:m.b.string.isRequired,channelId:m.b.string.isRequired};var T=Object(f.b)("Remove ephemeral message reference");T.propTypes={ts:m.b.string.isRequired,ephemeralType:m.b.string.isRequired,channelId:m.b.string.isRequired};var R=m.b.objectOf(m.b.objectOf(m.b.objectOf(m.b.bool.isRequired).isRequired).isRequired).isRequired,N=Object(v.b)((r={},i()(r,S,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ts,r=t.ephemeralType,a=t.channelId,o=e[r]||{},c=o[a]||{};return c[n]?e:s()({},e,i()({},r,s()({},o,i()({},a,s()({},c,i()({},n,!0))))))}),i()(r,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ts,r=t.ephemeralType,a=t.channelId,o=e[r];if(!o)return e;var c=o[a];return c&&c[n]?Object(u.a)(s()({},e,i()({},r,Object(u.a)(s()({},o,i()({},a,Object(d.a)(c,[n]))),p.a))),p.a):e}),r),{},{persistenceEnabled:!1});N.propTypes=R,t.d=N;var x=Object(g.b)(function(e){return e.ephemeralMessages});x.propTypes=null;var M=Object(g.b)(function(e,t){var n=t.ephemeralType,r=t.channelId,a=t.threadTs,i=Object(I.a)({state:e});if(a&&!r)return i.error("EPHEMERAL MESSAGES","Can't remove ephemeral messages by thread without channel ID"),[];t.channel&&!r&&i.warn("EPHEMERAL MESSAGES","`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");var o=x(e)[n];return Object(c.a)(r?Object(l.a)(o,[r]):o,function(t,n,r){return Object(h.a)(n,function(n,i){if(n){var o=Object(k.a)(e,r,i);o&&(a&&o.thread_ts!==a||t.push(o))}}),t},[])});M.propTypes={ephemeralType:m.b.string.isRequired,channelId:m.b.string,threadTs:m.b.string};var P=function(e,t){var n=s()({},t,{type:"message",is_ephemeral:!0,text:Object(C.b)(e,t.text,{isInternalMessage:!0})});return n.username?n.subtype="bot_message":n.user="USLACKBOT",n},A=Object(_.b)("Add an ephemeral message to messages-store and ephemeral message map",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ephemeralType,a=n.message,i=t(),o=P(i,a);o.ts||(o.ts=Object(E.a)()),o._ephemeral_type=r,e(Object(O.a)(o)),r&&e(S({ephemeralType:r,channelId:o.channel,ts:o.ts}))});A.propTypes={ephemeralType:m.b.string,message:m.b.shape({text:m.b.string.isRequired,channel:m.b.string.isRequired,ts:m.b.string}).isRequired};var D=Object(_.b)("Remove ephemeral messages by type, channel, and/or thread",function(e,t,n){var r=t();M(r,n).forEach(function(t){e(Object(j.a)({channelId:t.channel,ts:t.ts})),e(T({ephemeralType:n.ephemeralType,channelId:t.channel,ts:t.ts}))})});D.propTypes={ephemeralType:m.b.string.isRequired,channelId:m.b.string,threadTs:m.b.string};var L=Object(_.b)("Add an ephemeral message from a bot (defaults to Slackbot)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ephemeralType,a=n.message,i=void 0;i=a.username?s()({},a,{subtype:"bot_message"}):s()({},a,{user:"USLACKBOT"}),e(A({ephemeralType:r,message:i}))});L.propTypes={ephemeralType:m.b.string,message:m.b.shape({username:m.b.string}).isRequired};var q=Object(_.b)("Add or update the last ephemeral message of a certain type",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.ephemeralType,a=n.message,i=t(),o=a.channel,c=a.thread_ts;if(r){var l=r&&Object(b.a)(M(i,{ephemeralType:r,channelId:o,threadTs:c}));if(l)return void e(Object(y.a)({message:s()({},P(i,a),{ts:l.ts,channel:o,thread_ts:c}),channelId:o}))}e(L({ephemeralType:r,message:a}))});q.propTypes={ephemeralType:m.b.string.isRequired,message:m.b.shape({username:m.b.string}).isRequired}},a69O:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("TSYQ"),s=n.n(o),c=(n("1u1e"),i.b.string,i.b.node,i.b.bool,i.b.node.isRequired,i.b.node.isRequired,i.b.node,{className:void 0,description:void 0,invert:!1,suffix:void 0}),l=function(e){var t=e.className,n=e.description,r=e.invert,i=e.label,o=e.prefix,c=e.suffix;return a.a.createElement("span",{className:s()(t,"c-basic_unified_entity",{"c-basic_unified_entity--inverted":r})},a.a.createElement("span",{className:"c-basic_unified_entity__prefix"},o),a.a.createElement("span",{className:"c-basic_unified_entity__label"},i),n&&a.a.createElement("span",{className:s()("c-basic_unified_entity__description",{"c-basic_unified_entity__description--inverted":r})},n),c&&a.a.createElement("span",{className:"c-basic_unified_entity__suffix"},c))};l.displayName="BasicUnifiedEntity",l.defaultProps=c;var u=l;n.d(t,"a",function(){return u})},aF86:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("XHGt"),o=(n("aK/h"),n("Smdl")),s=n("HO/Y"),c=new(n("nNoG").b)("sonic_pilot");t.a=Object(i.b)(function(e){return{featureSonicPlaceholderLabels:Object(s.j)(e,"feature_sonic_placeholder_labels")}})(function(e){var t=e.children;return e.featureSonicPlaceholderLabels&&Object(o.a)()?a.a.createElement(a.a.Fragment,null,t,a.a.createElement("div",{className:"c-tooltip__sonic_placeholder","data-qa":"sonic-placeholder-text"},c.t("Coming soon"))):t})},aJY5:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.ui.new_channel_modal.start",r.a)},"aM/h":function(e,t,n){"use strict";var r=n("Fsnq"),a=n("u3oV"),i=n("3Hq1"),o=n("fujP"),s=n("OZf9"),c=n("aK/h"),l=n("4zXV"),u=n("om+M"),d=Object(u.a)("Fetch custom emoji from the API",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(l.a)({method:"emoji.list",args:{include_complex_values:1},reason:n})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{emoji:e.emoji,cacheTs:e.cache_ts}})});d.propTypes={reason:c.b.string.isRequired};var b=n("XfeM"),p=n("uf9I"),h=n("K7CU"),m=n("Qv4Q"),f=n("TVjB"),v=n("yHhI"),g=n("Fw/c"),_=n("bHK9");n.d(t,"a",function(){return y}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return E});var O=100,y=Object(b.b)("Process and add custom emoji data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.teamId,o=n.cacheTs,c=n.emojis,l=void 0===c?{}:c,u=n.aliases,d=void 0===u?{}:u;if(i&&o){var b=Object(a.a)(l,function(e,t){return Object(h.i)(t)}),p=Object(r.a)(l)-Object(r.a)(b),m=Object(a.a)(d,function(e,t){return Object(h.i)(t)}),f=Object(r.a)(d)-Object(r.a)(m);(p||f)&&Object(v.a)({teamId:i}).info("EMOJI_STORE","Excluded "+p+" unsafe emoji and "+f+" unsafe alias name(s) while ingesting customs");var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.teamId,r=e.aliases,a=e.emojis,i={};return Object(s.a)(r,function(e,o){var s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state,r=t.teamId,a=t.aliasValue,i=t.aliases,o=void 0===i?{}:i,s=t.emojis,c=void 0===s?{}:s,l=t.depth,u=void 0===l?0:l;if(u>O)return Object(v.a)({teamId:r}).warn("Exceeded the max alias chain depth for an emoji. There is potentially an alias loop in this user's emoji data."),null;var d=Object(_.b)(n,{text:a,teamId:r});return d||(c[a]?a:o[a]?e({state:n,teamId:r,aliasValue:o[a],aliases:o,emojis:c,depth:u+1}):(Object(v.a)({teamId:r}).warn("Could not resolve emoji alias to an existing emoji."),null))}({state:t,teamId:n,aliasValue:e,aliases:r,emojis:a});s&&(i[o]=s)}),i}({state:t(),teamId:i,aliases:m,emojis:b});e(Object(g.b)({teamId:i,cacheTs:o,emojis:b,aliases:y}))}}),j={},k=Object(b.b)("Load custom emoji",function(e,t){var n=t(),r=Object(p.b)(n);return Object(f.a)(),j[r]=e(d({reason:"loadEmoji"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.emoji,a=t.cacheTs;if(!Object(o.a)(n)){var i=Object(m.i)(n),s=i.emojis,c=i.aliases;e(y({teamId:r,cacheTs:a,emojis:s,aliases:c}))}}),j[r]});k.propTypes=null;var E=Object(b.b)("Reload custom emoji if we are out of sync with the server",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).serverCacheTs,r=t(),a=Object(p.b)(r),s=r.emoji&&r.emoji[a]||{},c=s.cacheTs,l=s.customEmoji,u=Object(o.a)(l),d=Object(i.a)(c)||parseFloat(c,10)<parseFloat(n,10),b=u||d,h=function(e){return!!(j[e]&&j[e].isPending&&j[e].isPending())}(a);return b&&!h?e(k()):Promise.resolve()});E.propTypes={serverCacheTs:c.b.string},y.propTypes={teamId:c.b.string.isRequired,cacheTs:c.b.string.isRequired,emojis:c.b.object,aliases:c.b.object}},aTxa:function(e,t,n){},"aW/o":function(e,t,n){"use strict";var r=n("HO/Y"),a=n("Smdl"),i=n("+Sjy"),o=n("5tH5"),s=n("iTOt");t.a=function(e){if(Object(a.a)()){var t=Object(s.c)(e),n=t&&t.entityId;if(Object(r.j)(e,"feature_pages")){var c=Object(i.c)(n);if(Object(i.d)(e,c))return c.id}return Object(o.e)(n)?Object.keys(o.b).find(function(e){return o.b[e]===n}):n}return e&&e.workspace&&e.workspace.primaryViewId}},aWB3:function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return E});var r=n("bPB8"),a=n("1myf"),i=n("RQuH"),o=n("NFsq"),s=n("BlE4"),c=n("1Lli"),l=n("Dpjh"),u=n("nNoG"),d=n("GQZf"),b=n("icQl"),p=(n("rVFV"),/[0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d58-\u0d5e\u0d66-\u0d78\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2fA-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdca-z0-9]/),h=/@[^\s]*$/,m=/<[^>]*$/,f=/^[^<]*>/,v=/^\s*$/;function g(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.charAt(0),o=t.charAt(t.length-1),c=Object(u.d)(i)&&Object(u.d)(o);if(r[n])return!1;if(function(e,t){var n=e.slice(0,t);return h.test(n)}(e,n))return!1;if(!a&&function(e,t,n){var r=e.slice(0,t);if(!m.test(r))return!1;var a=e.slice(t+n.length);return!!f.test(a)}(e,n,t))return!1;var l,d=e.charAt(n-1),b=e.charAt(n+t.length);return!function(e,t,n){return"&"===t&&(";"===n||Object(s.a)(e,";"))}(t,d,b)&&(l=d,!(p.test(l)&&!Object(u.d)(l)&&!c)&&!(!function(e){return!(p.test(e)&&!Object(u.d)(e))}(b)&&!c))}function _(e){return Object(c.a)(e,"length","desc")}function O(e){for(var t=Object(a.a)(e,"index"),n=0;n<t.length-1;){var r=t[n],o=t[n+1],s=r.index+r.length;Object(i.a)(o.index,r.index,s)?(r.length+=o.length-(s-o.index),t.splice(n+1,1)):n+=1}return t}function y(e){var t=e;return e.forEach(function(n){var r=Object(u.j)(n),a=Object(u.k)(n);Object(o.a)(e,r)||t.push(r),Object(o.a)(e,a)||t.push(a)}),t}var j=Object(b.a)(function(e){return _(y(Object(r.a)(e.map(function(e){return v.test(e)?null:e})).map(function(e){return e.toLowerCase()})))});function k(e,t){if(!e||!t||!t.length)return[];var n=j(t),r=[],a="";function i(e){switch(e.type){case d.a.TEXT:a+=e.text;break;case d.a.COLOR:-1!==n.indexOf(e.value.toLowerCase())&&r.push({index:a.length,length:1}),a+=" ";break;case d.a.LINK:a+=e.text||e.url;break;case d.a.EMOJI:-1!==n.indexOf(e.skin_tone?":"+e.name+"::skin-tone-"+e.skin_tone+":":":"+e.name+":")&&r.push({index:a.length,length:1}),a+=" ";break;default:a+=" "}}e.elements.forEach(function(e){e.type===d.a.LIST?e.elements.forEach(function(e){e.elements.forEach(function(e){i(e)}),a+="\n"}):e.elements.forEach(function(e){i(e)}),a+="\n"}),a=a.toLowerCase();var o={};return n.forEach(function(e){for(var t=a.indexOf(e);-1!==t;){if(g(a,e,t,o,!0)){for(var n=e.length,i=0;i<n;i++)o[t+i]=!0;r.push({index:t,length:n})}t=a.indexOf(e,t+1)}}),O(r)}function E(e,t){if(!e||!t||!t.length)return[];var n=e.toLowerCase(),r=function(e){return y(e.map(function(e){return Object(l.a)(e.toLowerCase())}))}(t),a={};return O(_(r).reduce(function(e,t){if(v.test(t))return e;for(var r=t,i=n.indexOf(r);-1!==i;){if(g(n,r,i,a)){for(var o=r.length,s=0;s<o;s++)a[i+s]=!0;e.push({index:i,length:o})}i=n.indexOf(r,i+1)}return e},[]))}},aWll:function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("owWc"),l=n("aK/h"),u=n("peh1"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=n("FN36"),f=n("kMOi"),v=n("sk9p"),g=n.n(v),_=n("4zXV"),O=n("om+M"),y=Object(O.a)("Fetch display statuses of app suggestions in channel sidebar",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(_.a)({method:"apps.getSidebarPrompts",reason:n})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.entries(e).forEach(function(e){var n=g()(e,2),r=n[0],a=n[1];void 0!==a.display_install&&(t[r]={displayInstall:a.display_install,displayConnect:a.display_connect,appId:a.app_id,appName:a.app_name})}),t})});y.propTypes={reason:l.b.string.isRequired},n.d(t,"q",function(){return j}),n.d(t,"m",function(){return E}),n.d(t,"l",function(){return C}),n.d(t,"p",function(){return I}),n.d(t,"o",function(){return w}),n.d(t,"n",function(){return S}),n.d(t,"k",function(){return T}),n.d(t,"r",function(){return R}),n.d(t,"s",function(){return N}),n.d(t,"h",function(){return A}),n.d(t,"g",function(){return L}),n.d(t,"f",function(){return q}),n.d(t,"e",function(){return F}),n.d(t,"c",function(){return B}),n.d(t,"d",function(){return U}),n.d(t,"b",function(){return H}),n.d(t,"i",function(){return K}),n.d(t,"j",function(){return G});var j=Object(d.b)("Set the jumper button coachmark state");j.propTypes=l.b.oneOf(["SHOW_BUTTON","HIDE_BUTTON","HIDE_BUTTON_PENDING"]);var k=Object(d.b)("Set app suggestion links state (from API)");k.propTypes=l.b.objectOf(l.b.shape({displayInstall:l.b.bool.isRequired,displayConnect:l.b.bool.isRequired,appId:l.b.string.isRequired,appName:l.b.string.isRequired}));var E=Object(h.b)("Get app suggestion prompt state from API",function(e){e(y({reason:"initializeAppSuggestionLinksData"})).then(function(t){e(k(t))})});E.propTypes=null;var C=Object(d.b)("Hide an app suggestion prompt via key");C.propTypes=l.b.string;var I=Object(d.b)("Remember that an app suggestion impression was clogged, so we don't clog more than once");I.propTypes=l.b.string;var w=Object(d.b)("Remember that 'Add Apps' link impression was clogged, so we don't clog more than once");w.propTypes=null;var S=Object(d.b)("Controls the visibility of the about channels coachmark");S.propTypes=l.b.bool;var T=Object(d.b)("Hide prompt to 'Add Apps' in sidebar");T.propTypes=null;var R=Object(d.b)("Controls the visibility of the shared channels coachmark");R.propTypes=l.b.bool;var N=Object(d.b)("Remembers origin of shared channels coachmark");N.propTypes=l.b.string;var x={displayInstall:!1,displayConnect:!1},M={selectedItemId:void 0,appSuggestions:{},appSuggestionImpressionsClogged:{},appLinkImpressionClogged:!1,hideInstallAppsPrompt:!1,aboutChannelsCoachmarkIsVisible:!1,sharedChannelsCoachmarkIsVisible:!1,sharedChannelsCoachmarkOrigin:""},P=Object(b.b)((r={},i()(r,j,function(e,t){return s()({},e,{jumperCoachmark:t})}),i()(r,k,function(e,t){return s()({},e,{appSuggestions:s()({},t)})}),i()(r,C,function(e,t){return s()({},e,{appSuggestions:s()({},e.appSuggestions,i()({},t,s()({},e.appSuggestions[t],x)))})}),i()(r,I,function(e,t){return s()({},e,{appSuggestionImpressionsClogged:s()({},e.appSuggestionImpressionsClogged,i()({},t,!0))})}),i()(r,w,function(e){return s()({},e,{appLinkImpressionClogged:!0})}),i()(r,S,function(e,t){return s()({},e,{aboutChannelsCoachmarkIsVisible:t})}),i()(r,T,function(e){return s()({},e,{appLinkPromptIsHidden:!0})}),i()(r,R,function(e,t){return s()({},e,{sharedChannelsCoachmarkIsVisible:t})}),i()(r,N,function(e,t){return s()({},e,{sharedChannelsCoachmarkOrigin:t})}),r),M,{persistenceEnabled:!0});P.propTypes={selectedItemId:l.b.string,jumperCoachmark:j.propTypes,aboutChannelsCoachmarkIsVisible:l.b.bool,sharedChannelsCoachmarkIsVisible:l.b.bool,sharedChannelsCoachmarkOrigin:l.b.string};t.a=P;var A=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.jumperCoachmark}),D=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.appSuggestions}),L=Object(u.createSelector)(D,function(e){return Object(m.a)(e,"app_whitelist_enabled")},function(e,t){return Object(c.a)(e,function(e,n,r){return(Object(f.c)(n)&&!t||Object(f.a)(n))&&(e=e.concat({appKey:r,appName:Object(f.d)(n)})),e},[])}),q=Object(p.b)(function(e,t){return e&&e.channelSidebar&&e.channelSidebar.appSuggestions&&e.channelSidebar.appSuggestions[t]}),F=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.appSuggestionImpressionsClogged}),B=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.appLinkImpressionClogged}),U=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.appLinkPromptIsHidden}),H=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.aboutChannelsCoachmarkIsVisible}),K=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.sharedChannelsCoachmarkIsVisible}),G=Object(p.b)(function(e){return e&&e.channelSidebar&&e.channelSidebar.sharedChannelsCoachmarkOrigin})},aXcD:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r=n("QbLZ"),a=n.n(r),i=n("1myf"),o=n("qAkX"),s=n("x91h"),c=n("Qv4Q"),l=n("9PC1"),u=n("aLpA"),d=n("3jSj"),b=n("WVBe"),p=n("K7CU"),h=n("TmhL"),m=new RegExp("(?:<)@((?:(?:U|W|S)[A-Z0-9]{8})|"+u.B.join("|")+"|UNVERIFIED)\\|(@.*?)(?:>)","g"),f=/:skin-tone-[2-6]:/;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.highlightWords,r=t.shouldRenderEmojiAsText,u=t.emojiNames,v=t.useSonicEmoji,g=t.locale,_=t.workflowTokens,O=void 0===_?[]:_;if(!e)return{contents:[{insert:""}]};var y=[];if(e.replace(m,function(e,t,r,a){var i=Object(s.a)(r);y.push({index:a,length:e.length,replacement:{insert:i,attributes:{slackmention:{label:i,id:t,mention:Object(h.a)(t,r,n),unverified:"UNVERIFIED"===t}}}})}),!r){var j=Object(l.d)(e);e.replace(Object(c.c)(),function(t,n,r){if(!Object(l.i)(r,j)&&!Object(l.j)(e.substr(0,r))){for(var a=0;a<j.length;a++)if(r>=j[a].start&&r<=j[a].end)return;var i=Object(d.c)(t,{emojiNames:u,useSonicEmoji:v,locale:g});if(i){var s=Object(o.a)(y);s&&f.test(i)&&s.replacement.insert.slackemoji&&s.index+s.length===r&&Object(p.d)(s.replacement.insert.slackemoji.text)?y[y.length-1]={index:s.index,length:s.length+t.length,replacement:{insert:{slackemoji:{text:s.replacement.insert.slackemoji.text+i}}}}:y.push({index:r,length:t.length,replacement:{insert:{slackemoji:{text:i}}}})}}})}(O||[]).length>0&&e.replace(Object(b.b)(),function(e,t,n,r){var i=O.find(function(e){return e.id===t});i&&y.push({index:r,length:e.length,replacement:{insert:{workflowtoken:a()({},i,{property:n})}}})}),y=Object(i.a)(y,"index");var k={contents:[]},E=0;y.forEach(function(t){var n=e.substring(E,t.index);n.length&&k.contents.push({insert:n}),k.contents.push(t.replacement),E=t.index+t.length});var C=e.substr(E);return C.length&&k.contents.push({insert:C}),k}},aZzC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("X6iR"),a=n("aLpA");function i(e){return Object(r.a)(e,a.F)}},"aa+J":function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"b",function(){return m});var r=n("YEIV"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("Muja"),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Store the paid features in redux.");b.propTypes=c.b.arrayOf(c.b.string);var p=Object(u.b)(a()({},b,function(e,t){return!Array.isArray(t)||Object(s.a)([].concat(o()(t)).sort(),[].concat(o()(e)).sort())?e:[].concat(o()(t))}),[],{persistenceEnabled:!0});p.propTypes=c.b.arrayOf(c.b.string),t.a=p;Object(d.b)(function(e){return e&&e.paidFeatures});var h=Object(d.b)(function(e,t){return e&&e.paidFeatures&&-1!==e.paidFeatures.indexOf(t)}),m=Object(d.b)(function(e){return h(e,"ekm")})},aaWX:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("NzoX"),c=n("gSGL"),l=n("/1FC"),u=n("b/1L"),d=n("HO/Y"),b=n("90XA"),p=n("8blT"),h=n("QbLZ"),m=n.n(h),f=n("OtLZ"),v=n("aK/h"),g=n("om+M"),_=n("4zXV"),O=n("x4bP"),y=["apps_uninstalled","channel_deleted","channel_rename","channel_history_changed","commands_changed","email_shared","emoji_changed","external_org_migration_started","external_org_migration_finished","file_deleted","group_history_changed","im_deleted","im_history_changed","message","mpim_history_changed","pin_added","pin_removed","star_added","star_removed","subteam_deleted","teams_left_shared_channel"],j=[].concat(y,["channel_converted_to_shared","team_rename","team_domain_change"]),k=Object(g.a)("Immediately calls eventlog.history",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.start,a=n.count,i=void 0===a?2e3:a,o=n.noPayloadIfHasMore,s=void 0===o||o,c=n.batchDeletedFiles,l=void 0===c||c,u=n.include,b=void 0===u?Object(O.a)()?y.join(","):j.join(","):u;if(!r)return Promise.reject(new Error("A start timestamp is required"));var p={start:r,count:i,no_payload_if_has_more:s,batch_deleted_files:l};return Object(d.j)(t(),"feature_message_history_cfm")&&(p.include_events=b),e(Object(_.a)({method:"ublockworkaround.history",reason:"fetchEventLogHistoryImmediately",args:p,EXPEDITED:!0}))});k.propTypes=v.b.object;var E=Object(g.a)("Immediately calls eventlog.history for message type events",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m()({},n,{include:"message"});return e(k(r))});E.propTypes=v.b.object;var C=Object(g.a)("Immediately calls eventlog.history for non-message type events",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(f.a)(Object(O.a)()?y:j,"message").join(","),a=m()({},n,{include:r});return e(k(a))});C.propTypes=v.b.object;var I=n("yHhI"),w=n("q/xz"),S=n("uf9I"),T=n("lhZz"),R=n("eK5+"),N=n("Zr7G"),x=n("V6fv"),M=n("hOQf");function P(e){if(!e||!e.length)return[];for(var t=[],n={},r=e.length-1;r>=0;r--){var a=e[r],i=void 0;switch(a&&"message"===a.type&&a.subtype){case"message_changed":case"message_deleted":case"message_replied":if(!(i=a.deleted_ts||Object(M.P)(a.message))){t.push(a);break}if(n[a.subtype+":"+a.channel+":"+i])break;n[a.subtype+":"+a.channel+":"+i]=!0,t.push(a);break;case"channel_purpose":case"group_purpose":case"channel_topic":case"group_topic":if(n[a.subtype+":"+a.channel])break;n[a.subtype+":"+a.channel]=!0,t.push(a);break;case"channel_history_changed":case"group_history_changed":case"im_history_changed":case"mpim_history_changed":default:t.push(a)}}return t.reverse()}var A=n("Z7Ay");n.d(t,"a",function(){return q}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return H}),n.d(t,"e",function(){return K}),n.d(t,"d",function(){return G});var D={},L=Object(R.a)(100);function q(e){D[e]||(D[e]=new B(e),Object(A.c)(e,"eventlog",{instance:D[e],triggerGapDetection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(T.dispatchForTeamId)(e,Object(b.e)(t))}}))}function F(e){var t,n,r={};return t=e,n=function(e){var t=function(e){switch(e.type){case"file_change":if(e.file&&e.file.id)return e.type+"_"+e.file.id;break;case"user_change":if(e.user&&e.user.id)return e.type+"_"+e.user.id;break;case"emoji_changed":if("add"===e.subtype&&Object(c.a)(e.name)&&Object(c.a)(e.value)){var t={name:e.name,value:e.value};return"emoji_changed_add_"+JSON.stringify(t)}return"remove"===e.subtype&&Object(l.a)(e.names)?"emoji_changed_remove_"+JSON.stringify(e.names):e.type;case"message.channel_history_changed":case"message.group_history_changed":case"message.mpim_history_changed":case"message.im_history_changed":if(Object(c.a)(e.channel))return e.type+"_"+e.channel}}(e);return!t||!r[t]&&(r[t]=!0,!0)},Object(s.a)(t,function(e,t){return n(t)&&e.unshift(t),e},[])}var B=function(){function e(t){if(a()(this,e),!t)throw new Error("Eventlog requires a teamId");this._teamId=t,this._logger=Object(I.a)({teamId:this._teamId}),this._telemeter=Object(N.c)({state:this._getState()}),this._lastAttemptWasCancelled=!1,this._eventlogHistoryP=void 0,this._shouldPersistLastEventTimestamp=!0,Object(w.a)(this)}return o()(e,[{key:"_dispatchReduxAction",value:function(e){return Object(T.dispatchForTeamId)(this._teamId,e)}},{key:"_getState",value:function(){return Object(T.getStateByTeamId)(this._teamId)}},{key:"_info",value:function(e){this._logger.info("EVENTLOG",e)}},{key:"_warn",value:function(e){this._logger.warn("EVENTLOG",e)}},{key:"_eventlogErrorHandler",value:function(e){if("timestamp_too_old"===(e&&e.data?e.data.error:null))return L&&this._telemeter.count("el_reload_too_old"),void this._dispatchReduxAction(Object(b.e)(b.c));this._warn("eventlog: encountered error"),this._logger.error(e,"eventlog"),L&&this._telemeter.count("el_error"),this._dispatchReduxAction(Object(b.e)(b.a))}},{key:"_eventlogOKHandler",value:function(e){if(e.has_more){var t=this._getState();return Object(d.j)(t,"feature_message_history_cfm")&&Object(d.j)(t,"feature_tinyspeck")&&this._telemeter.count("overflow_ts"),L&&this._telemeter.count("el_reload_has_more"),void this._dispatchReduxAction(Object(b.e)(b.b))}if(L&&this._telemeter.count("el_ok"),e.events)if(e.events.length){L&&this._telemeter.store("el_event_count",e.events.length),e.events.forEach(function(e){e._from_evt_log=!0});var n=F(e.events);if(this._info("processing "+n.length+" events out of a total set of "+e.events.length),L&&this._telemeter.store("el_event_count_filtered",n.length),n.length>0){this._dispatchReduxAction(Object(u.d)(n));var r=n[n.length-1].event_ts;if(r)r>(Object(b.f)(this._getState())||0)&&this.setLastEventTimestamp(r)}}else this._info("nothing to process");else this._warn("eventlog: history call did not include events")}},{key:"onSocketConnected",value:function(e){var t=this,n=Object(b.f)(this._getState());if(!n)return this._dispatchReduxAction(Object(b.j)(Object(x.b)())),void(this._shouldPersistLastEventTimestamp=!0);if(this._info("fr="+e+", lc="+this._lastAttemptWasCancelled+", lt="+n),!e||this._lastAttemptWasCancelled){var r=Math.round(Math.ceil(Date.now()/1e3)-n);this._info("fetching events since "+n+" ("+r+" seconds ago)");var a=Object(x.b)(),i=void 0;if(Object(d.j)(this._getState(),"feature_message_history_cfm")){var o=this._dispatchReduxAction(E({start:n})),s=this._dispatchReduxAction(C({start:n}));i=o.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.has_more,r=e.events;return n?t._eventlogOKHandler({has_more:n}):Promise.join(t._eventlogOKHandler({events:P(r)}),s,function(e,n){return t._eventlogOKHandler(n)})}).catch(function(e){return t._eventlogErrorHandler(e)})}else i=this._dispatchReduxAction(k({start:n})).then(function(e){return t._eventlogOKHandler(e)}).catch(function(e){return t._eventlogErrorHandler(e)});i.finally(function(){if(t._eventlogHistoryP=void 0,t._info("fetched finish (cancelled? "+i.isCancelled()+")"),t._lastAttemptWasCancelled=!!i.isCancelled(),!i.isCancelled()){t._info("dispatching signal and clearing timestamp");var e=Object(b.f)(t._getState())||0;n===e&&t._dispatchReduxAction(Object(b.j)(a)),t._shouldPersistLastEventTimestamp=!0}}),this._eventlogHistoryP=i}else this._shouldPersistLastEventTimestamp=!0}},{key:"onSocketDisconnected",value:function(){this._shouldPersistLastEventTimestamp=!1,this._eventlogHistoryP&&(this._info("socket was closed while we were fetching history; cancelling our request"),this._eventlogHistoryP.cancel(),this._eventlogHistoryP=void 0)}},{key:"replayEventlog",value:function(e){var t=this,n=e.start,r=e.include;this._dispatchReduxAction(k({start:n,include:r})).then(function(e){return t._eventlogOKHandler(e)}).catch(function(e){return t._eventlogErrorHandler(e)})}},{key:"setLastEventTimestamp",value:function(e){var t=this._getState();if(e&&this._shouldPersistLastEventTimestamp){if(Object(d.j)(t,"feature_desync_resync")&&Object(p.a)(t))return;this._dispatchReduxAction(Object(b.j)(e))}}}]),e}();function U(e,t){var n=e(),r=Object(S.b)(n),a=D[r];a&&a.onSocketConnected(t)}function H(e){var t=e(),n=Object(S.b)(t),r=D[n];r&&r.onSocketDisconnected()}function K(e,t){var n=t.start,r=t.include,a=e(),i=Object(S.b)(a),o=D[i];o&&o.replayEventlog({start:n,include:r})}function G(e,t){if(!t._from_evt_log){var n=t.event_ts;if(n){var r=e(),a=Object(S.b)(r),i=D[a];i&&i.setLastEventTimestamp(n)}}}},acVv:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("NFsq"),a=n("HO/Y"),i=n("VjHM"),o=n("cErB"),s=n("aLpA"),c=n("rWF5"),l=n("n74X"),u=n("LaJC"),d=function(){return c.k||c.s?s.p:s.q};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,c=t.width,b=t.height,p=t.rotate,h=t.renderSvg,m=t.stopAnimations,f=t.sizeForRetina,v=t.convertIco,g=t.isEmoji;if(!n)return null;if(!Object(a.j)(e,"feature_sonic_img_proxy")){var _=f?2*c:c,O=f?2*b:b;return Object(l.b)(n,{width:_,height:O,rotate:p,render_svg:h,stop_animations:m,emoji:g})}var y=d();if(!y)return n;if(0===n.indexOf(y))return n;if(0===n.indexOf("/img/"))return n;if(0===n.indexOf("https://")&&!g){var j=Object(o.d)(n,!0),k=Object(u.a)();if(Object(r.a)(k,j)){if(m&&"slack-imgs.com"===j){var E=Object(o.q)(n),C=E.o1?E.o1+".gu":"gu";return Object(o.o)(n,"o1",C)}return n}}var I=Object(o.o)(y,"c",s.o),w=f?2*c:c,S=f?2*b:b,T=[];return w&&S&&(T.push("wi"+w),T.push("he"+S),T.push("si")),p&&T.push("ro"),h&&T.push("sv2"),!m&&Object(i.g)(e,"a11y_animations")||T.push("gu"),v&&T.push("ip"),T.length&&(I=Object(o.o)(I,"o1",T.join("."))),Object(o.o)(I,"url",n)}},aolG:function(e,t,n){"use strict";var r=n("hI7H");t.a=r.a},apcF:function(e,t,n){},apxm:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HO/Y"),a=n("XzsM");function i(e){if(!Object(r.j)(e,"feature_steeple_church"))return!1;var t=Object(a.c)(e,"steeple_church_u");return"override_in"===t||"override_out"!==t&&"steeple_church"===Object(a.c)(e,"steeple_church")}},aqlM:function(e,t,n){},auxT:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=(n("aK/h"),n("nNoG")),h=n("od5y"),m=n("vSXf"),f=new p.b("offline_mode"),v=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.featureOfflineMode,n=e.tooltipLabel;return t?b.a.createElement(d.Fragment,null,n,b.a.createElement("br",null),b.a.createElement("span",{className:"sk_light_gray"},b.a.createElement(h.b,{type:"cloud-offline-small",className:"margin_right_25",size:"inherit"}),f.t("No connection"))):""}}]),t}(d.Component);v.displayName="OfflineTooltipLabel",t.a=Object(m.a)("feature_offline_mode")(v)},"b+9+":function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"o",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"n",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return b}),n.d(t,"m",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return v}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return _});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Sets the active channel");i.propTypes={channelId:r.b.string,startTs:r.b.string,startTsOffset:r.b.number,highlightTs:r.b.string,ghostLastRead:r.b.string};var o=Object(a.b)("Jump to a timestamp in the active channel");o.propTypes={ts:r.b.string,offset:r.b.number,highlight:r.b.bool,highlightLazy:r.b.bool};var s=Object(a.b)("User set the unread point manually");s.propTypes=null;var c=Object(a.b)("Clear the userSetUnreadPoint flag");c.propTypes=r.b.string.isRequired;var l=Object(a.b)("Sets the ghost last read marker");l.propTypes=r.b.string;var u=Object(a.b)("Updates the status of the unread line's visibility");u.propTypes=r.b.bool.isRequired;var d=Object(a.b)("Clear the highlight from the initial message");d.propTypes=null;var b=Object(a.b)("Save scroll position for a channel");b.propTypes={channelId:r.b.string.isRequired,scrollmark:r.b.object};var p=Object(a.b)("Showing or hiding a message pane overlay");p.propTypes=r.b.bool.isRequired;var h=Object(a.b)("Showing or hiding the highlights back button");h.propTypes=r.b.bool.isRequired;var m=Object(a.b)("Sets the active channel session id");m.propTypes=r.b.string;var f=Object(a.b)("Set the current TS.newxp onboarding step");f.propTypes=r.b.string.isRequired;var v=Object(a.b)("Set that the message pane has unmounted at least once");v.propTypes=r.b.bool.isRequired;var g=Object(a.b)("Signal to message pane that app space is open");g.propTypes=r.b.bool.isRequired;var _=Object(a.b)("Set the message timestamp that should be focused");_.propTypes=r.b.string},"b/1L":function(e,t,n){"use strict";var r,a=n("m1cH"),i=n.n(a),o=n("9oTK"),s=n("NFsq"),c=n("aK/h"),l=n("yHhI"),u=n("XfeM"),d=n("uf9I"),b=n("St+r"),p=n("ROZo"),h=Object(p.b)("TS.ms.msg_handlers",function(){return{}}),m=n("HO/Y"),f=n("vxHm"),v=n("x4bP"),g=n("iJtp"),_=n("jzln"),O=n("Z7Ay"),y=n("ifKl"),j=n("Z3Pq"),k=n("gSGL"),E=n("DtX9"),C=n("clTI"),I=n("lhZz"),w=n("N4dO"),S=n("wfE8"),T=n("N0/W"),R=n("6kok"),N=n("+1yX"),x=n("yJbr"),M=n("hOQf"),P=(r=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.resolve)(Object(I.dispatchForTeamId)(n,D({fileIds:t,reason:r})));case 2:return a=e.sent,e.abrupt("return",Object(j.a)(a,"id"));case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)}),A=be,D=T.g,L=C.a,q=C.d,F=x.e,B=E.i,U=f.a,H=f.b,K=x.m,G=w.g,V=["star_added","pin_added"],z=["channel_joined","group_joined","mpim_joined","dnd_updated","dnd_updated_user","manual_presence_change","member_left_channel","presence_change","status_change","subteam_created","subteam_updated","user_removed_from_team","user_change","channel_created","channel_deleted"];function Y(e){return"message"===e}var W=function(e,t){return!t||(!H()||!U(t))&&(!!X(e)&&!F(t))};function Q(e,t){var n=L(t());return!n||!Object(R.eb)(n)&&!Object(R.lb)(n)&&e!==n.id}function X(e){var t=e.type;return!(V.indexOf(t)>=0)}var Z,J=(Z=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.resolve)(P(t,n,r));case 2:a=e.sent,A(function(e){if(!X(e)){var t,n,r,i=(ee(e)||{}).fileId;i&&a[i]&&!W(e,i)&&(t=a[i],(r=(ee(n=e)||{}).objectWithFile)&&(r.file=t,n._file_attached=!0))}},n);case 4:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return Z.apply(this,arguments)}),$=function(e,t){var n=ee(e)||{},r=n.objectWithFile,a=n.fileId;if(r&&r.file&&K(r.file),!a)return Promise.resolve();var i=t();if(X(e))return Promise.resolve();if(e._file_attached)return Promise.resolve();if(W(e,a))return e._should_dispatch=!1,Promise.resolve();var o=Object(d.b)(i),s=function(e){var t=[];return A(function(e){if(!X(e)){var n=(ee(e)||{}).fileId;n&&t.indexOf(n)<0&&!W(e,n)&&t.push(n)}},e),t}(o).slice(0,100);if(!s.length)return Promise.resolve();var c=e.subtype?"preprocess-rtm-message/ensureFilesInMessageArePresent for type: "+e.type+" and subtype: "+e.subtype:"preprocess-rtm-message/ensureFilesInMessageArePresent for type: "+e.type;return J(s,o,c).catch(function(){e._should_dispatch=!1})};function ee(e){if(e.file&&e.file.id)return{objectWithFile:e,fileId:e.file.id};if(e.file_id)return{objectWithFile:e,fileId:e.file_id};if(e.item){if(e.item.file&&e.item.file.id)return{objectWithFile:e.item,fileId:e.item.file.id};if(e.item.file_id)return{objectWithFile:e.item,fileId:e.item.file_id}}return null}function te(e,t,n){if(!Y(e.type)||!e.text)return Promise.resolve();if(!(M.d.test(e.text)||M.a.test(e.text)||M.b.test(e.text)||M.c.test(e.text)))return Promise.resolve();var r=q(n(),e.channel,!1);if(!r)return Promise.resolve();var a=t(G({channelId:r.id}));return a.promise?a.promise.catch(y.a):Promise.resolve()}var ne,re,ae=(ne=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._should_dispatch){e.next=2;break}return e.abrupt("return");case 2:return r=n(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return I.dispatchForTeamId.apply(void 0,[Object(d.b)(r)].concat(t))},i=t.subtype?"preprocess-rtm-message/ensureModelObsInMessageArePresent for type: "+t.type+" and subtype: "+t.subtype:"preprocess-rtm-message/ensureModelObsInMessageArePresent for type: "+t.type,s=Y(t.type)&&Object(k.a)(t.channel)&&Object(N.a)(t.channel)&&!Object(C.t)(r,t.channel),c=s?a(Object(S.d)({ids:[t.channel],reason:i})):Promise.resolve(),e.next=9,Object(o.resolve)(Promise.all([c,te(t,a,n)]).catch(y.a));case 9:case"end":return e.stop()}},e,void 0)})),function(e,t){return ne.apply(this,arguments)}),ie=(re=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0,a=t.type,!(z.indexOf(a)>=0)){e.next=2;break}return e.abrupt("return");case 2:if(r=n(),"user_typing"!==t.type||B(r,t.user)||!Q(t.channel,n)){e.next=6;break}return t._should_dispatch=!1,e.abrupt("return");case 6:return e.prev=6,e.next=9,Object(o.resolve)(Promise.all([$(t,n),ae(t,n)]));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:case"end":return e.stop()}var a},e,void 0,[[6,11]])})),function(e,t){return re.apply(this,arguments)}),oe=function(){var e=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.resolve)(ie(t,n));case 2:return r=!1!==t._should_dispatch,delete t._should_dispatch,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();n.d(t,"a",function(){return de}),n.d(t,"b",function(){return be}),n.d(t,"c",function(){return ye}),n.d(t,"d",function(){return je}),n.d(t,"f",function(){return ke}),n.d(t,"e",function(){return Ee});var se={},ce={},le={},ue={};function de(e,t){if(se[e]){var n=Object(g.a)()||Object(_.a)();throw new Error(n?"addRtmHandler: duplicate call to add a handler for "+e+"; this is probably caused by using inject-loader/import mocking. If so, `import { test as rtmTest } from '@slack/infra/rtm'; mockProperty(rtmTest, 'handlers', {});` to work around it.":"addRtmHandler: a handler is already registered for "+e)}se[e]=t}function be(e,t){le[t]&&le[t].forEach(function(t){return e(t)})}var pe=function(e,t,n){if(!function(e){var t=e();return Object(m.l)(t)&&!Object(m.n)(t)&&!Object(f.b)()}(n)){var r=e.type;if(se[r])try{se[r](e,t,n)}catch(e){if(Object(v.a)()){var a=n(),i=Object(d.b)(a);window.slackDebug.setLastError&&window.slackDebug.setLastError(i,new Error("Error processing "+r+": "+e.message))}throw e}var o=h();o[e.type]&&o[e.type](e)}},he=["T024BE7LD","T5J7PJ5PT","T5JRYUBHS","T5MTH4ARY","T5KK65FCP","T34263EUF","T5J4Q04QG","T5J7PM517","T5JN7LJ7M","T5PMP2708","T1ZPW1JUE","T57U8DUG7","T20M0MB9P"],me=50;function fe(e){return e>me&&"visible"===document.visibilityState}var ve,ge=Object(u.b)("Handles the next message in the queue",(ve=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n){var r,a,i,c,u,b,p,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=h.queue,f=h.elapsed,v=void 0===f?0:f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.length){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return r=m[0],a=v,i=void 0,e.prev=5,c=performance.now(),e.next=9,Object(o.resolve)(t(Oe(r)));case 9:u=e.sent,(i=performance.now())-c>me&&(a=0),u&&pe(r,t,n),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(5),Object(l.a)({getState:n}).error("Error while processing "+r.type+" event",e.t0),b=n(),p=Object(d.b)(b),Object(s.a)(he,p)&&(console.error(e.t0),Object(l.a)({getState:n}).error(e.t0,"TINYSPECK: Error while processing "+r.type+" event"));case 21:return e.prev=21,m.shift(),e.finish(21);case 24:if(!m.length){e.next=27;break}return a+=performance.now()-i,e.abrupt("return",fe(a)?Promise.delay(0).then(function(){return t(ge({queue:m}))}):t(ge({queue:m,elapsed:a})));case 27:return e.abrupt("return",Promise.resolve());case 28:case"end":return e.stop()}},e,void 0,[[5,15,21,24]])})),function(e,t,n){return ve.apply(this,arguments)}));ge.propTypes={queue:c.b.arrayOf(c.b.object).isRequired};Object(u.b)("Pauses handling of queued messages",function(e,t){var n=t(),r=Object(d.b)(n);ue[r]=!0}),Object(u.b)("Resumes handling of queued messages",function(e,t){var n=t(),r=Object(d.b)(n);ue[r]&&(ue[r]=!1,e(ge({queue:le[r]})))});var _e,Oe=Object(u.b)("This is a wrapper for preprocessRtmMessage that adds a timeout",(_e=Object(o.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},3e4,i=Object(b.r)(n()),s=i.then(function(){return Promise.delay(3e4,a)}),c=i.then(function(){return oe(r,n)}),e.next=7,Object(o.resolve)(Promise.race([c,s]));case 7:if((u=e.sent)!==a){e.next=11;break}return Object(l.a)({getState:n}).warn("Preprocessing message of type "+r.type+" took too long; continue to process queue"),e.abrupt("return",!0);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return _e.apply(this,arguments)}));Oe.propTypes=c.b.object.isRequired;var ye=Object(u.b)("Calls the relevant rtm handlers with the given rtm message.",function(e,t,n){var r=t(),a=Object(d.b)(r);le[a]=le[a]||[],le[a].push(n),1!==le[a].length||ue[a]||e(ge({queue:le[a]}))});ye.propTypes=c.b.object.isRequired;var je=Object(u.b)("Calls the relevant rtm handlers with the given rtm messages.",function(e,t,n){var r,a=t(),o=Object(d.b)(a);le[o]=le[o]||[];var s=le[o].length;(r=le[o]).push.apply(r,i()(n)),!s&&le[o].length>0&&!ue[o]&&e(ge({queue:le[o]}))});je.propTypes=c.b.arrayOf(c.b.object).isRequired;var ke=Object(u.b)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",function(e,t,n){pe(n,e,t)});ke.propTypes=c.b.object.isRequired;var Ee=Object(u.b)("Calls the relevant handler for the given message",function(e,t,n){ce[n]?ce[n](n,e,t):Object(l.a)({getState:t}).error(new Error("Unexpected start error: "+n),JSON.stringify({error:n}),{subtype:"flannel_start_error"})});Ee.propTypes=c.b.string.isRequired,Object(O.a)("rtm",{handlers:se,errorHandlers:ce,interceptHandler:function(e,t){var n=se[e];se[e]=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(void 0,[n].concat(r))}}})},b89k:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n("UF3u"),p=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(b.a)(e,this.props,3)||!Object(b.a)(t,this.state,3)}}]),t}(d.Component);t.a=p},b98e:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("XHGt"),m=n("TSYQ"),f=n.n(m),v=n("9/DQ"),g=n("aolG"),_=(n("yz0T"),p.b.node,p.b.string,p.b.bool,p.b.bool,{children:null,contentLabel:void 0,isCustomTitlebarShown:!1,isFrameless:!1}),O=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=f()("p-file_viewer",{"p-file_viewer__custom_titlebar":this.props.isCustomTitlebarShown,"p-file_viewer__frameless":this.props.isFrameless});return b.a.createElement(g.a,{showCancelButton:!1,showGoButton:!1,showCloseButton:!1,fullBleedModalBodyContent:!0,modalBodyClasses:"p-file_viewer__body",modalOverlayClassName:"p-file_viewer__modal_overlay",contentLabel:this.props.contentLabel},b.a.createElement("div",{className:e},this.props.children))}}]),t}(d.Component);O.displayName="FileViewerContainer",O.defaultProps=_;t.a=Object(h.b)(function(e){return{isCustomTitlebarShown:Object(v.i)(e),isFrameless:Object(v.j)(e)}})(O)},bBR5:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("aLpA"),o=n("kxpR"),s=n.n(o),c=n("nNoG"),l=(n("+1qB"),new c.b("block_kit")),u=function(){return s.a.createElement("div",{"data-qa":"bk_block_error",className:"p-block_kit_unknown_block_error"},s.a.createElement("small",{className:"p-block_kit_error_message"},l.t("This content could not be displayed.")))};u.displayName="UnknownBlockError";var d=u,b=n("QbLZ"),p=n.n(b),h=n("jo6Y"),m=n.n(h),f=n("aK/h"),v=n("TSYQ"),g=n.n(v),_=n("ifKl"),O=n("p+j0"),y=n("iCc5"),j=n.n(y),k=n("V7oC"),E=n.n(k),C=n("FYw3"),I=n.n(C),w=n("mRg0"),S=n.n(w),T=n("XHGt"),R=n("oDBd"),N=n("DTT0"),x=(f.b.node.isRequired,f.b.shape({title:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string}),text:f.b.shape({type:f.b.oneOf([i.e.plain_text,i.e.mrkdwn]),text:f.b.string}),confirm:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string}),deny:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string})}).isRequired,f.b.func.isRequired,f.b.func,f.b.func,{blockKitClogger:void 0,onActionWrapperWithConfirm:_.a}),M=function(e){function t(e){j()(this,t);var n=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showConfirmDialog=n.showConfirmDialog.bind(n),n}return S()(t,e),E()(t,[{key:"showConfirmDialog",value:function(e){var t=e.onGo,n=this.props,r=n.blockKitClogger,a=n.confirm,o=a.title,c=a.text,l=a.confirm,u=a.deny,d=a.type,b=function(e){return r&&r(e,{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:d}}})},p={dismissText:u&&u.text,isMrkdwnText:c&&c.type===i.e.mrkdwn,okText:l&&l.text,onGo:function(){b("BLOCK_KIT_CONFIRM_SUBMIT"),t()},onCancel:function(){b("BLOCK_KIT_CONFIRM_CANCEL")},text:c&&c.text,title:o&&o.text};b("BLOCK_KIT_CONFIRM_SHOW"),this.props.openModal({element:s.a.createElement(R.a,p)})}},{key:"render",value:function(){return Object(o.cloneElement)(o.Children.only(this.props.children),{showConfirmDialog:this.showConfirmDialog,onAction:this.props.onActionWrapperWithConfirm})}}]),t}(o.PureComponent);M.displayName="WithConfirmDialog",M.defaultProps=x;var P=Object(T.b)(null,function(e){return{openModal:function(t){return e(Object(N.e)(t))}}})(M),A=n("HHn2"),D=n("9HJ0"),L=n("HO/Y"),q=n("ynxK"),F=new c.b("attachments"),B=(f.b.string.isRequired,f.b.node.isRequired,f.b.func.isRequired,f.b.string.isRequired,f.b.string.isRequired,f.b.bool,f.b.bool,f.b.func,{isExpanded:!1,featureAttachmentsV2:!1,blockKitClogger:_.a}),U=function(e){function t(e){j()(this,t);var n=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onMrkdwnRender=n.onMrkdwnRender.bind(n),n.state={isExpandableStateKnown:!1},n}return S()(t,e),E()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.text!==e.text&&this.setState(function(){return{isExpandableStateKnown:!1}})}},{key:"onClick",value:function(e){var t=this.props,n=t.isExpanded,r=t.expandKey,a=t.blockKitClogger,i=t.type;e.preventDefault(),e.target.blur(),a(n?"BLOCK_KIT_TRUNCATION_CLOSE":"BLOCK_KIT_TRUNCATION_OPEN",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:i}}}),this.props.setExpanded({isExpanded:!n,key:r})}},{key:"onMrkdwnRender",value:function(e){var t=e.isTruncated;this.state.isExpandableStateKnown||this.setState(function(){return{isExpandableStateKnown:!0,isExpandable:t}})}},{key:"renderButtonMaybe",value:function(){var e=this.props,t=e.isExpanded,n=e.featureAttachmentsV2;if(!this.state.isExpandable)return null;var r=void 0,a=void 0,i=void 0;return t?(r=n?F.rt("See less"):null,a="div"):(r=n?F.rt("See more"):null,a="span",i=" "),s.a.createElement(a,null,i,s.a.createElement(q.a,{"data-qa":"block_kit_text_truncation",className:"c-message_attachment__text_expander","aria-expanded":t,onClick:this.onClick},r))}},{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.children,r=void 0,a=void 0;return this.state.isExpandableStateKnown&&t||(r=300,a=5),s.a.createElement("span",{className:"c-message_attachment__text"},Object(o.cloneElement)(o.Children.only(n),{onRender:this.onMrkdwnRender,maxNewlines:a,maxCharacters:r}),this.renderButtonMaybe())}}]),t}(o.PureComponent);U.displayName="WithTextTruncation",U.defaultProps=B;var H={setExpanded:D.e},K=Object(T.b)(function(e,t){var n=t.containerId,r=t.blockId,a=Object(A.a)("blockText",n,{blockId:r});return{isExpanded:Object(D.d)(e,a),expandKey:a,featureAttachmentsV2:Object(L.j)(e,"feature_attachments_v2")}},H)(U),G=n("bjO5"),V=(n("I6hh"),f.b.string.isRequired,f.b.shape({title:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string}),text:f.b.shape({type:f.b.oneOf([i.e.plain_text,i.e.mrkdwn]),text:f.b.string}),confirm:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string}),deny:f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string})}),f.b.string,f.b.bool,f.b.object,f.b.func,f.b.func,{confirm:void 0,containerId:void 0,enabledElements:{},shouldTruncateText:!1,blockKitClogger:void 0,onAction:_.a}),z=function(e){var t=e.confirm,n=e.enabledElements,r=e.shouldTruncateText,a=e.blockKitClogger,i=m()(e,["confirm","enabledElements","shouldTruncateText","blockKitClogger"]),o=G.b[i.type];if(!o)return null;if(!1===n["featureFlag__"+i.type])return null;var c=function(e){return i.onAction(e),a&&a("BLOCK_KIT_ACTION",{contexts:{ui_context:{action:"click",ui_element:"block_kit_element",ui_component:"block_kit_"+i.type}}})},l=s.a.createElement(o,p()({},i,{key:i.actionId,onAction:c,blockKitClogger:a}));if(r)return s.a.createElement(K,p()({type:i.type,blockKitClogger:a},i),l);if(!!t){return s.a.createElement(P,{confirm:t,blockKitClogger:a,type:i.type,onActionWrapperWithConfirm:function(e){return c(p()({confirm:t},e))}},l)}return l};z.defaultProps=V;var Y=Object(T.b)(function(e){return{enabledElements:Object(O.d)(e)}})(z),W=(n("YCZa"),f.b.array.isRequired,f.b.string.isRequired,f.b.bool,function(e){var t=e.elements,n=e.isInGroupBlock,r=m()(e,["elements","isInGroupBlock"]),a=g()("p-context_block",{"p-context_block--group":n}),o=t.map(function(e,t){return s.a.createElement("div",{className:"p-context_block_element","data-qa":"bk_context_element",key:r.blockId+"-"+t},s.a.createElement(Y,p()({parent:i.d.context},r,e)),s.a.createElement("div",{className:"p-context_block_spacing--"+e.type}))});return s.a.createElement("div",{"data-qa":"bk_context_block",className:a},o)});W.displayName="Context",W.defaultProps={isInGroupBlock:!1};var Q=W,X=n("cD5Y"),Z=n("od5y"),J=n("XLFM"),$=n("O8YM"),ee=(n("IJ5d"),new c.b("block_kit")),te=(f.b.array.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.string,f.b.func,f.b.bool.isRequired,f.b.bool,{blocksContainerContext:void 0,fetchExternalSuggestions:_.a,isInGroupBlock:!1}),ne=function(e){function t(){j()(this,t);var e=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e.state={isExpanded:!1},e}return S()(t,e),E()(t,[{key:"handleClick",value:function(){this.setState(function(){return{isExpanded:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,r=t.isLoading,a=t.isError,i=t.blocksContainerContext,c=t.featureAttachmentsV2,l=t.removeTopMargin,u=t.shouldUseSmallStatusIndicators,d=t.isInGroupBlock,b=g()("p-action_block__icons",{"p-action_block__icons--small":u}),h=g()("p-block-kit-element__error",{"p-block-kit-element__error--small":u}),m=g()("p-block-kit-element__loading",{"p-block-kit-element__loading--small":u}),f=g()("p-actions_block",{"p-actions_block--no_top_margin":l,"p-actions_block--group":d,"p-actions_block--full_width":Object($.c)(i)}),v=n.length>=7,_=v&&c?ee.rt("+ {number} more",{number:n.length-5}):null;return s.a.createElement("div",{"data-qa":"bk_actions_block",className:f},s.a.createElement("div",{className:"p-actions_block_elements"},n.map(function(t,n){return function(t,n){return s.a.createElement(o.Fragment,{key:"actions-"+(t.actionId||n)},v&&n<5||e.state.isExpanded||!v?s.a.createElement("div",{className:"p-actions_block__action","data-qa":"bk_actions_block_action"},s.a.createElement(Y,p()({},e.props,t))):null)}(t,n)}),v&&!e.state.isExpanded?s.a.createElement("div",{"data-qa":"bk_actions_block_truncation",className:"p-actions_block__action"},s.a.createElement(J.d,{type:"outline",size:"small",onClick:e.handleClick,"data-qa":"bk_actions_block_truncation_button"},_)):null),s.a.createElement("div",{className:b},r?s.a.createElement("div",{className:m,"data-qa":"block_kit_loading_icon"},s.a.createElement(X.a,{size:u?"small":"large"})):null,a?s.a.createElement("div",{className:h,"data-qa":"block_kit_error_icon"}," ",s.a.createElement(Z.b,{type:"warning",inline:!0})):null))}}]),t}(o.PureComponent);ne.displayName="Actions",ne.defaultProps=te;var re=Object(T.b)(function(e){return{featureAttachmentsV2:Object(L.j)(e,"feature_attachments_v2")}})(ne),ae=(n("ReSx"),f.b.arrayOf(f.b.shape({type:f.b.oneOf([i.e.plain_text,i.e.mrkdwn]).isRequired,text:f.b.string.isRequired})).isRequired,f.b.bool,function(e){return g()("p-field_section",{"p-field_section--stacked":e})}),ie=function(e){var t=e.fields,n=e.shouldStackTextFields,r=m()(e,["fields","shouldStackTextFields"]);return s.a.createElement("div",{"data-qa":"bk_fields",className:"p-section_block__fields"},t.map(function(e,t){return s.a.createElement("div",{key:"field-item-"+t,className:ae(n)},s.a.createElement(Y,p()({},r,e)))}))};ie.displayName="Fields",ie.defaultProps={shouldStackTextFields:!0};var oe=ie,se=(n("4TJ0"),f.b.shape({type:f.b.oneOf([i.e.plain_text,i.e.mrkdwn]).isRequired,text:f.b.string.isRequired}),f.b.arrayOf(f.b.shape({type:f.b.oneOf([i.e.plain_text,i.e.mrkdwn]).isRequired,text:f.b.string.isRequired})),f.b.shape({type:f.b.string.isRequired}),f.b.func.isRequired,f.b.string.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool.isRequired,f.b.bool,f.b.bool.isRequired,f.b.func,f.b.string,f.b.bool,{text:void 0,fields:void 0,accessory:void 0,fetchExternalSuggestions:_.a,containerId:void 0,isInGroupBlock:!1,shouldStackAccessory:!1}),ce=function(e){var t=e.text,n=e.fields,r=e.accessory,a=e.isLoading,c=e.isError,l=e.shouldStackTextFields,u=e.shouldTruncateText,d=e.removeTopMargin,b=e.shouldUseSmallStatusIndicators,h=e.isInGroupBlock,f=e.shouldStackAccessory,v=m()(e,["text","fields","accessory","isLoading","isError","shouldStackTextFields","shouldTruncateText","removeTopMargin","shouldUseSmallStatusIndicators","isInGroupBlock","shouldStackAccessory"]),_=g()("p-section_block__accessory",{"p-section_block__accessory--wrap":l,"p-section_block--stack-accessory":f}),O=g()("p-section_block__icons",{"p-section_block__icons--small":b}),y=g()("p-block-kit-element__error",{"p-block-kit-element__error--small":b}),j=g()("p-block-kit-element__loading",{"p-block-kit-element__loading--small":b}),k=g()("p-section_block",{"p-section_block--wrap":l,"p-section_block--no_top_margin":d,"p-section_block--group":h,"p-section_block--stack-accessory-wrapper":f}),E=r?s.a.createElement("div",{className:_},s.a.createElement(Y,p()({parent:i.d.section},v,r)),s.a.createElement("div",{className:O},a?s.a.createElement("div",{className:j,"data-qa":"block_kit_loading_icon"},s.a.createElement(X.a,{size:b?"small":"large"})):null,c?s.a.createElement("div",{className:y,"data-qa":"block_kit_error_icon"}," ",s.a.createElement(Z.b,{type:"warning",inline:!0})):null)):null;return s.a.createElement(o.Fragment,null,s.a.createElement("div",{"data-qa":"bk_section_block",className:k},E,s.a.createElement("div",{className:"p-section_block_text_content"},t?s.a.createElement("div",{className:"p-section_block__text"},s.a.createElement(Y,p()({"data-qa":"bk_section_block_mrkdwn",parent:i.d.section,shouldTruncateText:u},v,t))):null,n?s.a.createElement(oe,p()({},v,{"data-qa":"bk_text_fields_block_mrkdwn",fields:n,shouldStackTextFields:l,shouldTruncateText:u})):null)),l?s.a.createElement("div",{className:"p-section_block__clearfix"}):null)};ce.displayName="Section",ce.defaultProps=se;var le=ce,ue=n("VwYs"),de=n("C6Be"),be=n("4GF8"),pe=(n("tjle"),n("pW9/")),he=(f.b.string.isRequired,f.b.string.isRequired,f.b.bool.isRequired,f.b.number,f.b.number,f.b.number,f.b.string,f.b.shape({type:f.b.oneOf([i.e.plain_text]).isRequired,text:f.b.string.isRequired}),f.b.string,f.b.number.isRequired,f.b.number.isRequired,f.b.string.isRequired,f.b.bool.isRequired,f.b.func,f.b.bool,{imageWidth:void 0,imageHeight:void 0,imageBytes:void 0,title:void 0,channel:void 0,messageTs:void 0,blockKitClogger:_.a,isInGroupBlock:!1}),me=function(e){function t(){return j()(this,t),I()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S()(t,e),E()(t,[{key:"getAdjustedDimensions",value:function(e,t,n,r){var a=e>n||t>r?Math.min(n/e,r/t):1;return{width:Math.floor(e*a),height:Math.floor(t*a)}}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.imageWidth,r=e.imageHeight,a=e.imageBytes,o=e.altText,c=e.title,l=e.messageTs,u=e.channel,d=e.maxWidth,b=e.maxHeight,h=e.blockId,m=e.isImageFullWidth,f=e.removeTopMargin,v=e.blockKitClogger,_=e.isInGroupBlock,O="img_msg_"+h,y=g()("p-image_block_container",{"p-image_block_container--full_width":m}),j=g()("p-image_block",{"p-image_block--no_top_margin":f,"p-image_block_container--full_width":m,"p-image_block--group":_});return s.a.createElement("div",{className:j},s.a.createElement("div",{className:y},s.a.createElement("div",{className:"p-image_block_title"},c?s.a.createElement(pe.a,p()({},c,{parent:i.d.image})):null,s.a.createElement(be.b,{imageBytes:t&&a,imageUrl:t,expandableKey:O,tooLargeWarning:!1})),s.a.createElement(ue.a,{expandableKey:O,imageBytes:a},s.a.createElement(de.a,p()({url:t,title:o,originalWidth:n,originalHeight:r},this.getAdjustedDimensions(n,r,d,b),{messageTs:l,activeChannelId:u,blockKitClogger:v})))))}}]),t}(o.PureComponent);me.displayName="Image",me.defaultProps=he;var fe=me,ve=(n("PrHW"),f.b.bool,function(e){var t=e.isInGroupBlock,n=g()("p-divider_block",{"p-divider_block--group":t});return s.a.createElement("div",{"data-qa":"bk_divider_block",className:n})});ve.displayName="Divider",ve.defaultProps={isInGroupBlock:!1};var ge=ve,_e=n("yPgC"),Oe=n("VfGJ"),ye=n("P2f5"),je=(_e.a.File().isRequired,f.b.bool,function(e){if(!e.featureRemoteFilesApi)return null;if(!e.file||!e.file.id)throw new Error("File Block called without a file object or file id");return s.a.createElement(Oe.a,{file:e.file,channelId:"",ts:""})});je.displayName="File",je.defaultProps={featureRemoteFilesApi:!1};var ke=Object(T.b)(function(e,t){var n=t.fileId;return{file:Object(ye.h)(e,n),featureRemoteFilesApi:Object(L.j)(e,"feature_remote_files_api")}})(je),Ee=n("smxp"),Ce=n("CaXY"),Ie=n("RhZ7"),we=n("TOh8"),Se=n("0dpy"),Te=n("8CL7"),Re=n("Gq2+"),Ne=n("Aeia"),xe=n("VrmM"),Me=n("BRQ/"),Pe=n("0gqo"),Ae=n("lU/5"),De=n("rUi3"),Le=new c.b("attachments"),qe=(f.b.object.isRequired,f.b.bool.isRequired,function(e){var t=e.message,n=e.featureMessageBlocks,r=void 0;r=t.blocks?s.a.createElement(xe.a,{msg:t,blocksContainerContext:Ce.a.shared_message,blockLimit:5}):t.text?s.a.createElement(Te.a,{msg:t}):t.attachments?s.a.createElement(xe.a,{msg:t.attachments[0],blocksContainerContext:Ce.a.shared_message,blockLimit:5}):null;var a=t.attachments&&t.attachments.length,i=t.reply_count&&t.attachments&&t.attachments.length;return s.a.createElement(Ae.a,{msg:t},s.a.createElement("div",null,s.a.createElement(Ie.a,{msg:t,size:16,className:"c-message_attachment__author_icon"}),s.a.createElement(we.a,{msg:t}),"\xa0\xa0",s.a.createElement(Se.a,{msg:t,full:!0}),s.a.createElement("br",null),r,s.a.createElement(Re.a,{msg:t}),s.a.createElement(Ne.b,{msg:t}),s.a.createElement(De.a,{msg:t}),s.a.createElement("div",{className:"p-starred_item_message__reactions_and_replies"},s.a.createElement(Me.a,{msg:t}),s.a.createElement(Pe.a,{msg:t}),a?s.a.createElement("span",{className:"c-message_kit__replies_count"},i?s.a.createElement("span",null,"\xa0\xa0|\xa0\xa0"):null,n?Le.t("{attachmentCount, plural, =1 {# attachment} other {# attachments}}",{attachmentCount:t.attachments.length}):null):null)))});qe.displayName="MessageTemplate";var Fe=Object(T.b)(function(e,t){var n=t.channelId,r=t.timestamp;return{message:Object(Ee.a)(e,n,r),featureMessageBlocks:Object(L.j)(e,"feature_message_blocks")}})(qe),Be=n("Lr9k"),Ue=n("lek6"),He=(n("+FUT"),_e.a.BlockKitBlocks.isRequired,f.b.func.isRequired,f.b.bool.isRequired,new c.b("block_kit")),Ke=function(e){function t(e){j()(this,t);var n=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isExpanded:!1};var r=e.featureAttachmentsV2;return n.expandLabel=r?He.t("Show More"):"Show More",n.unexpandLabel=r?He.t("Show Less"):"Show Less",n.handleClick=n.handleClick.bind(n),n}return S()(t,e),E()(t,[{key:"handleClick",value:function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"render",value:function(){var e=this.props,t=e.blocks,n=e.onAction;return s.a.createElement("div",{className:"p-expandable_block"},s.a.createElement(J.d,{type:"outline",size:"small",onClick:this.handleClick,className:"p-expandable_block_button_adjustment"},s.a.createElement(Z.b,{type:"expand-vertical"}),s.a.createElement(Ue.a,{"data-qa":"bk_expandable_mrkdwn",text:this.state.isExpanded?this.unexpandLabel:this.expandLabel})),this.state.isExpanded?s.a.createElement(Be.a,{blocks:t,onAction:n}):null)}}]),t}(o.PureComponent);Ke.displayName="Expandable";var Ge=Object(T.b)(function(e){return{featureAttachmentsV2:Object(L.j)(e,"feature_attachments_v2")}})(Ke),Ve=n("Y+74"),ze=n("AITD"),Ye=n("K7CU"),We=n("a+Oh"),Qe=n("GQZf"),Xe=n("zmn3"),Ze=n("t3QL"),Je=(f.b.string.isRequired,f.b.arrayOf(f.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===Qe.a.SECTION&&n&&n.length?s.a.createElement("div",{className:"p-rich_text_section"},s.a.createElement(yn,{elements:n})):null});Je.displayName="RichTextSection";var $e=Je,et=(f.b.string.isRequired,f.b.arrayOf(f.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===Qe.a.QUOTE&&n&&n.length?s.a.createElement("blockquote",{className:"c-mrkdwn__quote","data-stringify-type":"quote"},s.a.createElement(yn,{elements:n})):null});et.displayName="RichTextQuote";var tt=et,nt=(f.b.string.isRequired,f.b.arrayOf(f.b.object).isRequired,function(e){var t=e.type,n=e.elements;return t===Qe.a.PREFORMATTED&&n&&n.length?s.a.createElement("pre",{className:"c-mrkdwn__pre","data-stringify-type":"pre"},s.a.createElement(yn,{elements:n})):null});nt.displayName="RichTextPreformatted";var rt=nt,at=Qe.b.BULLET,it=Qe.b.ORDERED,ot=(f.b.string.isRequired,f.b.arrayOf(f.b.object).isRequired,f.b.oneOf([at,it]),f.b.number,f.b.number,function(e){var t=e.type,n=e.elements,r=e.style,a=e.indent,i=e.index;if(t!==Qe.a.LIST||!n||!n.length)return null;var o=n.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement(yn,{elements:e.elements}))}),c=g()("p-rich_text_list","p-rich_text_list__"+r),l=i?i+1:void 0;return r===at?s.a.createElement("ul",{"data-stringify-type":"unordered-list",className:c,"data-indent":a,start:l},o):s.a.createElement("ol",{"data-stringify-type":"ordered-list",className:c,"data-indent":a,start:l},o)});ot.defaultProps={style:at,indent:0,index:void 0};var st=ot,ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children,n=e.style;if(!t)return null;var r=n||{},a=r.bold,i=r.italic,o=r.strike,c=r.code,l=r.userHighlight,u=t;return o&&(u=s.a.createElement("s",{"data-stringify-type":"strike"},u)),i&&(u=s.a.createElement("i",{"data-stringify-type":"italic"},u)),a&&(u=s.a.createElement("b",{"data-stringify-type":"bold"},u)),l&&(u=s.a.createElement("span",{className:"c-mrkdwn__highlight"},u)),c&&(u=s.a.createElement("code",{"data-stringify-type":"code",className:"c-mrkdwn__code"},u)),u};ct.defaultProps={style:void 0};var lt=ct,ut=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,{style:void 0}),dt=function(e){var t=e.type,n=e.text,r=e.style;return t===Qe.a.TEXT&&n?s.a.createElement(lt,{style:r},n):null};dt.displayName="Text",dt.defaultProps=ut;var bt=dt,pt=n("Atrf"),ht=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,{style:void 0}),mt=function(e){var t=e.type,n=e.userId,r=e.style;return t===Qe.a.USER&&n?s.a.createElement(lt,{style:r},s.a.createElement(pt.a,{id:n,showTooltip:!0})):null};mt.displayName="User",mt.defaultProps=ht;var ft=mt,vt=n("F+zK"),gt=n("HvGc"),_t=n("sK36"),Ot=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,f.b.func,f.b.bool,{style:void 0,onUserGroupClick:_.a,featureSonicUserGroups:!1}),yt=function(e){var t=e.type,n=e.usergroupId,r=e.style,a=e.featureSonicUserGroups,i=e.onUserGroupClick;return t===Qe.a.USERGROUP&&n?s.a.createElement(lt,{style:r},s.a.createElement(vt.a,{id:n,onClick:function(e){return function(e,t){var n=t.usergroupId,r=t.onUserGroupClick,a=t.featureSonicUserGroups;e.preventDefault(),a?r(n):Object(_t.d)(e,n)}(e,{usergroupId:n,featureSonicUserGroups:a,onUserGroupClick:i})}})):null};yt.displayName="UserGroup",yt.defaultProps=Ot;var jt=Object(T.b)(function(e){return{featureSonicUserGroups:Object(L.j)(e,"feature_sonic_user_groups")}},function(e){return{onUserGroupClick:function(t){return e(Object(gt.n)({groupId:t}))}}})(yt),kt=n("B/Zf"),Et=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,{style:void 0}),Ct=function(e){var t=e.type,n=e.channelId,r=e.style;return t===Qe.a.CHANNEL&&n?s.a.createElement(lt,{style:r},s.a.createElement(kt.a,{id:n})):null};Ct.displayName="Channel",Ct.defaultProps=Et;var It=Ct,wt=n("0Cnk"),St=(f.b.string.isRequired,f.b.oneOf(["here","channel","everyone"]).isRequired,f.b.object,{style:void 0}),Tt=function(e){var t=e.type,n=e.range,r=e.style;return t===Qe.a.BROADCAST&&n?s.a.createElement(lt,{style:r},s.a.createElement(wt.a,{type:n})):null};Tt.displayName="Broadcast",Tt.defaultProps=St;var Rt=Tt,Nt=n("qkTT"),xt=(f.b.string.isRequired,f.b.string.isRequired,f.b.number,f.b.bool,f.b.object,{skinTone:void 0,isJumbomoji:!1,style:void 0}),Mt=function(e){var t=e.type,n=e.name,r=e.skinTone,a=e.isJumbomoji,i=e.style;if(t!==Qe.a.EMOJI||!n)return null;var o=r?":"+n+"::skin-tone-"+r+":":":"+n+":",c=a?Nt.a.LARGE:Nt.a.MEDIUM;return s.a.createElement(lt,{style:i},s.a.createElement(Nt.b,{text:o,emojiSize:c,isEmojiInlineWithText:!a,showTooltip:!0}))};Mt.displayName="Emoji",Mt.defaultProps=xt;var Pt=Mt,At=n("4yrM"),Dt=(f.b.string.isRequired,f.b.string.isRequired,f.b.string,f.b.object,{text:void 0,style:void 0}),Lt=function(e){var t=e.type,n=e.url,r=e.text,a=e.style;if(t!==Qe.a.LINK||!n)return null;var i=r||n;return s.a.createElement(lt,{style:a},s.a.createElement(At.a,{url:n},i))};Lt.displayName="Link",Lt.defaultProps=Dt;var qt=Lt,Ft=n("ciUk"),Bt=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,{style:void 0}),Ut=function(e){var t=e.type,n=e.teamId,r=e.style;return t===Qe.a.TEAM&&n?s.a.createElement(lt,{style:r},s.a.createElement(Ft.a,{id:n})):null};Ut.displayName="Team",Ut.defaultProps=Bt;var Ht=Ut,Kt=n("VjHM"),Gt=n("HWeM"),Vt=(f.b.string.isRequired,f.b.number.isRequired,f.b.string.isRequired,f.b.string,f.b.string,f.b.bool,f.b.object,{url:void 0,fallback:void 0,do24hrTime:!1,style:void 0}),zt=function(e){function t(){return j()(this,t),I()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S()(t,e),E()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.timestamp,r=e.format,a=e.url,i=e.fallback,o=e.do24hrTime,c=e.style;if(t!==Qe.a.DATE||!n||!r)return null;var l=n.toString();return s.a.createElement(lt,{style:c},s.a.createElement(Gt.a,{ts:l,format:r,link:a,fallback:i,do24hrTime:o}))}}]),t}(o.PureComponent);zt.displayName="RichTextDate",zt.defaultProps=Vt;var Yt=Object(T.b)(function(e){return{do24hrTime:Object(Kt.g)(e,"time24")}})(zt),Wt=(f.b.string.isRequired,f.b.string.isRequired,f.b.object,{style:void 0}),Qt=function(e){var t=e.type,n=e.value,r=e.style;return t===Qe.a.COLOR&&n?s.a.createElement(lt,{style:r},n,s.a.createElement("div",{className:"c-mrkdwn__hex",style:{background:n}})):null};Qt.displayName="Color",Qt.defaultProps=Wt;var Xt=Qt,Zt=n("xUg9"),Jt=(f.b.string.isRequired,f.b.array.isRequired,function(e){var t=e.type,n=e.colors;return t===Qe.a._THEME_INSTALL_BUTTON&&n&&n.length?s.a.createElement("div",{className:"p-rich_text_block__theme_install_btn_wrapper"},s.a.createElement(Zt.a,{colors:n})):null});Jt.displayName="ThemeInstallButton";var $t=Jt,en=(f.b.string,{type:void 0}),tn=function(e){var t=e.type;return s.a.createElement("div",null,"UNKNOWN rich text element of type: ",t)};tn.displayName="Unknown",tn.defaultProps=en;var nn,rn=tn,an=(f.b.arrayOf(f.b.object).isRequired,Qe.a.SECTION),on=Qe.a.QUOTE,sn=Qe.a.PREFORMATTED,cn=Qe.a.LIST,ln=Qe.a.TEXT,un=Qe.a.USER,dn=Qe.a.USERGROUP,bn=Qe.a.CHANNEL,pn=Qe.a.BROADCAST,hn=Qe.a.EMOJI,mn=Qe.a.LINK,fn=Qe.a.TEAM,vn=Qe.a.DATE,gn=Qe.a.COLOR,_n=Qe.a._THEME_INSTALL_BUTTON,On=(nn={},a()(nn,an,$e),a()(nn,on,tt),a()(nn,sn,rt),a()(nn,cn,st),a()(nn,ln,bt),a()(nn,un,ft),a()(nn,dn,jt),a()(nn,bn,It),a()(nn,pn,Rt),a()(nn,hn,Pt),a()(nn,mn,qt),a()(nn,fn,Ht),a()(nn,vn,Yt),a()(nn,gn,Xt),a()(nn,_n,$t),nn),yn=function(e){var t=e.elements;return t&&t.length?Object(Xe.a)(t,function(e,t){var n=On[e.type];return n?s.a.createElement(n,p()({key:t},Object(Ze.b)(e))):s.a.createElement(rn,p()({key:t},Object(Ze.b)(e)))}):null},jn=n("NFsq"),kn=n("bPB8"),En=n("Olm7"),Cn=n("dYt1"),In=n("aWB3"),wn=n("dS/7"),Sn=n("3ooo"),Tn=n("m1cH"),Rn=n.n(Tn),Nn=n("HJ27"),xn=n("ao6n"),Mn=n("Vfgr"),Pn=n("uXCg"),An=Qe.a.TEXT,Dn=Qe.a.COLOR,Ln=Qe.a._THEME_INSTALL_BUTTON,qn=8;function Fn(e){if(!e||e.type!==An)return!1;var t=e.text;return","===Object(Mn.a)(t," ")}var Bn=function(e){return Object(Pn.a)(e,function(e){var t=e&&e.elements;if(!t.length)return e;var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var a=Object(xn.a)(e,r),i=Object(xn.a)(e,r+1);a&&a.type===Dn?n.length<qn-1&&Fn(i)?(n.push(a.value),r+=1):n.length===qn-1?n.push(a.value):n=[]:n=[],n.length===qn&&(t.push({index:r+1,colors:n}),n=[])}return t}(t),r=[].concat(Rn()(t));return Object(Nn.a)(n,function(e){if(e){var t,n=(t=e.colors)&&t.length===qn?{type:Ln,colors:t}:null;n&&r.splice(e.index,0,n)}}),p()({},e,{elements:r})})},Un=Qe.a.SECTION,Hn=Qe.a.EMOJI,Kn=Qe.a.TEXT,Gn=function(e){return(e.type===Hn||e.type===Kn)&&!(function(e){var t=e&&e.text&&e.text.trim();return t?t.length:0}(e)>0)};function Vn(e,t){var n=[],r=0;return e.forEach(function(e){var a=function(e){return e.type===Qe.a.TEXT?e.text:e.type===Qe.a.LINK?e.text||e.url:" "}(e),i=a.length,o=function(e,t,n){var r=e.map(function(e){var r=e.index+e.length;return e.index<t&&r-t>0?{index:0,length:r-t}:e.index>=t&&e.index<t+n?{index:e.index-t,length:e.length}:null});return Object(kn.a)(r)}(t,r,i);if(!o.length)return n.push(e),void(r+=i);var s=0;if(o.forEach(function(t){if(t.index>0){var r=p()({},Object(Cn.a)(e),{text:a.slice(s,t.index)});n.push(r)}var i=p()({},Object(Cn.a)(e),{style:p()({},e.style,{userHighlight:!0})});Object(jn.a)([Qe.a.TEXT,Qe.a.LINK],e.type)&&(i.text=a.slice(t.index,t.index+t.length)),n.push(i),s=t.index+t.length}),s<i){var c=p()({},Object(Cn.a)(e),{text:a.slice(s)});n.push(c)}r+=i}),{convertedElements:n,processedLength:r}}var zn=function(e){var t=e.elements,n=e.highlightWords,r=e.isJumbomojiEnabled,a=e.isEmojiDisplayedAsText,i=t;return!a&&r&&(i=function(e){var t=e.elements;if(!t||!t.length||t.length>1)return t;var n=t[0];if(!n||n.type!==Un)return t;var r=n.elements;if(!r||!r.length)return t;for(var a=[],i=0,o=0;o<r.length;o++){var s=Object(Cn.a)(r[o]);if(!Gn(s))return t;if(s.type===Hn&&(s.isJumbomoji=!0,i+=1),i>23)return t;a.push(s)}return[{type:Un,elements:a}]}({elements:i})),a&&(i=function(e){function t(e){if(e.type===Qe.a.EMOJI){var t={type:Qe.a.TEXT,text:Object(wn.a)(e,{localize:!0})};return e.style&&(t.style=e.style),t}return e}return Object(Sn.a)(e,function(e){return e.map(t)})}(i)),n.length&&(i=function(e,t){var n=Object(In.b)({type:"rich_text",elements:e},t);if(!n.length)return e;var r=0;return Object(Sn.a)(e,function(e){var t=Vn(e,n.map(function(e){return p()({},e,{index:e.index-r})})),a=t.convertedElements,i=t.processedLength;return r+=i,Object(En.a)(n,function(e){return e.index<r}),r+=1,a})}(i,n)),i=Bn(i)},Yn=(n("6NDi"),f.b.string.isRequired,f.b.arrayOf(f.b.object).isRequired,f.b.arrayOf(f.b.string),f.b.bool,f.b.bool,f.b.bool,function(e){function t(){return j()(this,t),I()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S()(t,e),E()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.elements,r=e.highlightWords,a=e.isJumbomojiEnabled,i=e.isEmojiDisplayedAsText;if(!e.featureRichTextRendering)return null;if(t!==Qe.a.RICH_TEXT||!n||!n.length)return null;var o=zn({elements:n,highlightWords:r,isJumbomojiEnabled:a,isEmojiDisplayedAsText:i});return s.a.createElement("div",{className:"p-rich_text_block"},s.a.createElement(yn,{elements:o}))}}]),t}(o.PureComponent));Yn.displayName="RichText",Yn.defaultProps={highlightWords:[],isJumbomojiEnabled:!0,isEmojiDisplayedAsText:!1,featureRichTextRendering:!1};var Wn=Object(T.b)(function(e){return{highlightWords:Object(Ve.a)(e),isJumbomojiEnabled:Object(ze.a)(e),isEmojiDisplayedAsText:Object(Ye.m)(e),featureRichTextRendering:Object(We.b)(e)}})(Yn),Qn=n("EOxd"),Xn=(n("soCq"),f.b.string.isRequired,f.b.string.isRequired,function(e){var t=e.callId,n=e.blockId;return s.a.createElement("div",{"data-qa":"callblock-"+t,className:"p-call_block"},s.a.createElement(Qn.a,{callId:t,blockId:n}))});Xn.displayName="Call";var Zn=Xn,Jn=n("O0RF"),$n=n("waL6"),er=n("MeX/"),tr=(n("PT3z"),f.b.string.isRequired,f.b.shape({type:f.b.oneOf([i.e.plain_text]),text:f.b.string,emoji:f.b.bool}).isRequired,f.b.bool,f.b.shape({type:f.b.oneOf([].concat(Rn()(Ce.b))).isRequired}).isRequired,f.b.string,f.b.string,f.b.bool,f.b.bool,{isRequired:!0,blocksContainerContext:void 0,serverError:void 0,showError:!1,preserveState:!1}),nr=function(e){var t=e.label,n=e.element,r=e.blocksContainerContext,a=e.serverError,i=e.showError,o=e.preserveState,c=m()(e,["label","element","blocksContainerContext","serverError","showError","preserveState"]),l=g()("p-block_kit_input_block",{"p-block_kit_input_block--full_width":Object($.e)(r)});return s.a.createElement("div",{className:l},s.a.createElement(Jn.a,{text:s.a.createElement(pe.a,t),htmlFor:c.blockId,optional:!c.isRequired},s.a.createElement(Y,p()({},Object($n.a)(c,n),{className:"p-block_kit_input_block__element",size:er.a.medium,serverError:a,showError:i,preserveState:o,parent:"input"}))))};nr.displayName="Input",nr.defaultProps=tr;var rr=nr,ar=n("OkQS"),ir=n("VnZi"),or=(n("F3fH"),_e.a.BlockKitBlocks.isRequired,f.b.string,f.b.string,f.b.object,f.b.string,{blocksContainerContext:void 0,protoColor:void 0,containerActionsPayload:{},service:void 0}),sr=function(e){var t=e.blocksContainerContext,n=e.blocks,r=e.protoColor,a=e.containerActionsPayload,i=e.service,o=r?s.a.createElement(ar.a,{color:r,className:"c-message_attachment_v2__border"}):null;return s.a.createElement("div",{className:"p-group_block"},o,s.a.createElement(ir.a,{blocks:n,blocksContainerContext:t,isInGroupBlock:!0,containerActionsPayload:a,service:i}))};sr.displayName="GroupBlock",sr.defaultProps=or;var cr=sr,lr=(n("CSaH"),n("tn36")),ur=n("blls"),dr=n("8t14"),br=(n("zUhB"),f.b.func,f.b.string.isRequired,f.b.string,f.b.arrayOf(f.b.shape({text:f.b.string.isRequired,value:f.b.string.isRequired})).isRequired,f.b.bool,{onAction:_.a,placeholder:void 0,isDisabled:!1}),pr=function(e){function t(e){j()(this,t);var n=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(lr.a)(n,["handleChange","handleAction","handleBlur","handleFocus"]),n.state={selected:null},n}return S()(t,e),E()(t,[{key:"handleAction",value:function(e){var t=e.selected;if(t){var n=this.props.options&&this.props.options.find(function(e){return e.value===t}),r=n.text,a=n.value;this.props.onAction({actionId:this.props.actionId,text:r,value:a})}}},{key:"handleChange",value:function(e){this.setState(function(){return{selected:e}}),this.handleAction({selected:e})}},{key:"handleBlur",value:function(){return Object(_.a)()}},{key:"handleFocus",value:function(){return Object(_.a)()}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.isDisabled;return s.a.createElement("div",{"data-qa":"bk_event_block_response",className:"p-event_block__information__response"},s.a.createElement("p",{className:"p-event_block__information__repsonse__going"},"Going?"),s.a.createElement(ur.a,{className:"p-event_block__information__response",options:t?Object(dr.f)(t):void 0,dataSource:"static",minQueryLength:3,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,value:this.state.selected,placeholder:this.props.placeholder,size:"small",isDisabled:n}))}}]),t}(o.PureComponent);pr.displayName="ResponseElement",pr.defaultProps=br;n("Fkps"),f.b.arrayOf(f.b.shape({name:f.b.string,start:f.b.string,end:f.b.string,location:f.b.string,all_day:f.b.bool,description:f.b.string})),f.b.string;var hr,mr=(hr={},a()(hr,i.d.context,Q),a()(hr,i.d.section,le),a()(hr,i.d.image,fe),a()(hr,i.d.divider,ge),a()(hr,i.d.actions,re),a()(hr,i.d.file,ke),a()(hr,i.d.message,Fe),a()(hr,i.d.expandable,Ge),a()(hr,i.d.error,d),a()(hr,i.d.rich_text,Wn),a()(hr,i.d.call,Zn),a()(hr,i.d.input,rr),a()(hr,i.d.group,cr),hr);t.a=mr},"bBu/":function(e,t,n){},bEcb:function(e,t,n){},bF8f:function(e,t,n){},bHK9:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("BeL+"),c=n("zmn3"),l=n("mkut"),u=n("NFsq"),d=n("OZf9"),b=n("bPB8"),p=n("peh1"),h=n("XI8A"),m=n("dUZu"),f=n("Z7Ay"),v=n("aK/h"),g=n("HO/Y"),_=n("VjHM"),O=n("U/ze"),y=n("uf9I"),j=n("K7CU"),k=n("Qv4Q"),E=n("XoJV"),C=n("yHhI"),I=n("nNoG"),w=n("rtjy"),S=n("rzSx"),T=void 0;n.d(t,"j",function(){return M}),n.d(t,"g",function(){return A}),n.d(t,"l",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"i",function(){return q}),n.d(t,"h",function(){return F}),n.d(t,"k",function(){return B}),n.d(t,"f",function(){return U}),n.d(t,"e",function(){return V}),n.d(t,"d",function(){return Z}),n.d(t,"c",function(){return $}),n.d(t,"a",function(){return ee});var R={},N=new I.b("emoji");function x(e){var t=(Object(k.g)(e)||{}).name;return!!h[t]}var M=function(e){if(!x(e))return null;var t=Object(k.g)(e)||{},n=t.name,r=t.skinTone,a=h[n];return r&&a.skinVariations&&a.skinVariations[r]&&(a=a.skinVariations[r]),a},P=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId;if(!e||!n||!r)return null;if(!e.emoji||!e.emoji[r]||!e.emoji[r].customEmoji)return null;var a=(Object(k.g)(n)||{}).name;return e.emoji[r].customEmoji[a]}),A=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId,a=t.emojiMode,i=t.emojiSize;if(!(e&&n&&a&&i))return null;if(!Object(g.j)(e,"feature_sonic_emoji")){var o=Object(S.c)(n,{force_img:!0}),s=/<img.*?src=['"](.*?)['"]/.exec(o);return s&&s.length>1?s[1]:null}try{return x(n)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.emojiMode,r=e.emojiSize;if(!t||!n||!r)return null;var a=M(t);if(!a)return null;var i=a.unicode;return Object(j.c)({unicode:i,emojiMode:n,emojiSize:r})}({text:n,emojiMode:a,emojiSize:i}):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId,a=t.emojiMode,i=t.emojiSize;if(!e||!n||!r)return null;var o=P(e,{text:n,teamId:r});if(!o)return null;if(o.url)return o.url;if(o.aliasOf){var s=o.aliasOf,c=(Object(k.g)(n)||{}).skinTone;return c&&(s=o.aliasOf+"::skin-tone-"+c),A(e,{text:s,teamId:r,emojiMode:a,emojiSize:i})}return null}(e,{text:n,teamId:r,emojiMode:a,emojiSize:i})}catch(e){return Object(C.a)({teamId:r}).warn("Error getting emoji URL. "+e),null}});A.PropTypes={text:v.b.string.isRequired,emojiMode:v.b.string,emojiSize:v.b.string,teamId:v.b.string};var D=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId;return!(!M(n)&&!P(e,{text:n,teamId:r}))}),L=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId;if(!e||!n||!r)return null;var a=Object(k.g)(n)||{},i=a.name,o=a.skinTone,s=M(i)||P(e,{text:n,teamId:r});if(!s)return null;var c=s.aliasOf||i;return o?c+"::skin-tone-"+o:c}),q=function(e){if(!e)return null;var t=Object(k.g)(e)||{},n=t.name,r=t.skinTone,a=M(n);if(!a)return null;var i=a.obsoletes;return i?r?i+"::skin-tone-"+r:i:null},F=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId;if(!n)return null;var a=L(e,{text:n,teamId:r});if(!a)return null;var i=M(a);if(!i)return null;var o=i.unicode;return Object(k.b)(o)}),B=Object(O.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.teamId,a=L(e,{text:n,teamId:r}),i=M(a);return!(!i||!i.skinVariations)}),U=(Object(O.b)(function(e){var t=Object(_.g)(e,"preferred_skin_tone");if(!t)return"";var n=parseInt(t,10);return Object(u.a)([2,3,4,5,6],n)?":skin-tone-"+n+":":""}),function(e){return e&&Object(j.l)(e)?(t=h,T||(T={},Object(d.a)(t,function(e,t){e.aliasOf&&T[e.unicode]||(T[e.unicode]=t,e.skinVariations&&Object(d.a)(e.skinVariations,function(e){T[e.unicode]=e.name}))}),T))[e]:null;var t}),H=36,K=5,G=["slightly_smiling_face","heart","+1","100","bug"],V=function(e){if(!e)return null;var t=(Object(k.g)(e)||{}).name;if(!t)return null;var n=M(t);return n?"E"+n.unicode:"E"+t},z={},Y={};var W=Object(O.b)(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamId;if(Object(g.j)(e,"feature_sonic_frequent_emoji_from_pref"))return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.teamId,r=t.maxNum,a=void 0===r?H:r,i=t.minNum,s=void 0===i?K:i,c=Object(_.g)(e,"emoji_use")||{};if(z[n]===c&&Y[n])return Y[n];var l=Object.keys(c).reduce(function(t,r){var a=r.split("::")[0],i=L(e,{text:a,teamId:n});if(!i)return t;if(!Object(I.e)()&&P(e,{text:i,teamId:n})&&Object(E.e)({locale:Object(I.p)(),name:i})!==i)return t;var o=t[i]||0,s=c[r];return t[i]=o+s,t},{}),u=Object.keys(l).sort(function(e,t){var n=l[e],r=l[t];if(n===r){if(e<t)return-1;if(e>t)return 1}return-(n-r)});if(u.length<s){var d=s-u.length;Y[n]=[].concat(o()(u),o()(G.slice(0,d)))}else Y[n]=u.slice(0,a);return z[n]=c,Y[n]}(e,{teamId:t});var n=Object(w.a)(e,50).map(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id.replace(/^E/,"");if(P(e,{text:n,teamId:t}))return n;var r=U(n);if(r)return r;if(n.match(/_alias_\d$/)){var a=U(n.replace(/_alias_\d$/,""));if(a)return a}return null});return Object(s.a)(Object(b.a)(n)).slice(0,H)}),Q=Object(O.b)(function(e){var t=Object(y.b)(e);return e&&e.emoji&&e.emoji[t]&&e.emoji[t].customEmoji}),X=Object(p.createSelector)([function(e){return Q(e)}],function(e){return Object(l.a)(e).sort(I.o)}),Z=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamId;if(!e)return null;var n={name:"Frequently Used",nameLocalized:N.t("Frequently Used",{fallbackHash:"37d705a1bb3f5c4de282c71afa432104e3cfd417",fallbackHashNs:"emoji"}),emoji_names:W(e,{teamId:t})},r=X(e),a=r.length?[{name:"Custom",nameLocalized:N.t("Custom",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),emoji_names:r}]:[],i=m?Object(c.a)(m.filter(function(e){return"Skin Tones"!==e.name}),function(e){return{name:e.name,nameLocalized:Object(E.f)(e),emoji_names:e.emoji_names}}):null;return[n].concat(o()(i),a)};Object(O.b)(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).teamId;return t?e&&e.emoji&&e.emoji[t]&&e.emoji[t].cacheTs:null}).PropTypes={teamId:v.b.string.isRequired};var J=Object(O.b)(function(){var e=Object(I.p)();return Object(E.h)(e)||R}),$=Object(p.createSelector)([Q,J],function(e,t){var n={},r=Object(I.p)();return Object(d.a)(a()({},h,e),function(e,i){var s=Object(E.g)({locale:r,name:i});if(e.aliasOf){var c=e.aliasOf,l=n[c]||{},u=l.aliases||[],d={name:i,displayName:s};n[c]=a()({},l,{aliases:[].concat(o()(u),[d])})}else{var b=n[i];n[i]=a()({},b,e,{id:V(i),keywords:t[i]||[]}),i!==s&&(n[i].displayName=s)}}),Object(c.a)(n,function(e,t){return a()({name:t},e)})}),ee=Object(p.createSelector)([function(e){return Q(e)}],function(e){var t=Object(c.a)(h,"name"),n=Object(l.a)(e);return Object(b.a)([].concat(o()(t),o()(n)))});Object(f.a)("emojiStore",{getConsolidatedEmoji:$})},bHo4:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var r=n("0Uag"),a=n("Fdc0"),i=n("FsHF"),o=n("0SSD");function s(e){if(e.is_broadcast_keyword||e.is_usergroup)return"";var t="";return Object(i.c)(e)&&(t=Object(a.E)(e)),t?"@"+t:""}var c=Object(r.a)(function(e,t){return e===Object(o.d)(l(t))||e===Object(o.d)(s(t))});function l(e){return e.is_broadcast_keyword?"@"+e.name:e.is_usergroup?"@"+e.handle:"@"+Object(a.w)(e)}},bPWw:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n("U/ze"),a=Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.inCreatorOnboarding}),i=Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.inJoinerOnboarding}),o=Object(r.b)(function(e){return a(e)||i(e)}),s=(Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.onboardingChannelId}),Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.welcomeModel||{}}),Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.tractorMessageCoachmarkVisible})),c=Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.tractorFilesCoachmarkVisible}),l=Object(r.b)(function(e){return e&&e.onboarding&&e.onboarding.joinerLandingPlaceCoachmarkVisible})},bXFF:function(e,t,n){},bYYE:function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"k",function(){return f}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return j}),n.d(t,"h",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"l",function(){return C});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=n("XfeM"),p=Object(l.b)("Internally update the window focus state");p.propTypes={isFocused:c.b.bool.isRequired,timeLastBlurEvent:c.b.number,timeLastFocusEvent:c.b.number};var h=Object(l.b)("Mark the window as unloading");h.propTypes=c.b.bool.isRequired;var m=Object(l.b)("What kind of boot is this");m.propTypes=c.b.string.isRequired;var f=Object(l.b)("Set the entire window state --  this should only be used when the data is coming from the client-store");f.propTypes={isFocused:c.b.bool,isUnloading:c.b.bool.isRequired,timeLastBlurEvent:c.b.number.isRequired,timeLastFocusEvent:c.b.number.isRequired};var v={isFocused:void 0,isUnloading:!1,timeLastBlurEvent:0,timeLastFocusEvent:0},g=Object(u.b)((r={},i()(r,p,function(e,t){return s()({},e,t)}),i()(r,h,function(e,t){return s()({},e,{isUnloading:t})}),i()(r,f,function(e,t){return s()({},e,t)}),i()(r,m,function(e,t){return s()({},e,{bootType:t})}),r),v,{persistenceEnabled:!1});g.propTypes={isFocused:c.b.bool,bootType:c.b.oneOf(["warm","cold"]),isUnloading:c.b.bool,timeLastBlurEvent:c.b.number,timeLastFocusEvent:c.b.number},t.a=g;var _=Object(d.b)(function(e){return e&&e.window}),O=Object(d.b)(function(e){return e&&e.window&&e.window.timeLastBlurEvent}),y=Object(d.b)(function(e){return e&&e.window&&e.window.timeLastFocusEvent}),j=Object(d.b)(function(e){return!!e&&(e&&e.window&&e.window.isFocused)}),k=Object(d.b)(function(e){return!!e&&(e&&e.window&&e.window.isUnloading)}),E=Object(d.b)(function(e){return e&&e.window&&e.window.bootType}),C=Object(b.b)("Updates the window focus state",function(e,t,n){var r=t();if(j(r)!==n){var a=Date.now(),i=n?{timeLastFocusEvent:a}:{timeLastBlurEvent:a};e(p(s()({isFocused:n},i)))}});C.propTypes=c.b.bool.isRequired},bbM8:function(e,t,n){},bbP7:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var r=n("0VPD"),a=n("Wy5O"),i=n("c8Bs"),o=n("vJtL"),s=n("TGBA"),c={NEVER_CONNECTED:"never_connected",CONNECT:"connect",CONNECTED:"connected",CHECKING_FAST_RECONNECT:"checking_fast_reconnect",FAST_RECONNECTING:"fast_reconnecting",DISCONNECT:"disconnect",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",PROV_CONNECT:"prov_connect",PROV_CONNECTING:"prov_connecting",PROV_CONNECTED:"prov_connected",PROV_FINALIZE:"prov_finalize",PROV_FINALIZING:"prov_finalizing",HALT:"halt",HALTING:"halting",HALTED:"halted",SLEEP:"sleep",SLEEPING:"sleeping",ASLEEP:"asleep",WAIT_FOR_CONNECTIVITY:"wait_for_connectivity",WAIT_FOR_RATE_LIMIT:"wait_for_rate_limit",ERROR:"error"};function l(e){return Object(s.a)(c).indexOf(e)>=0}function u(e,t,n){if(!l(e))throw new Error("Invalid current state");if(!Object(o.a)(n))throw new Error("Invalid callback");var u=t.state;if(!l(u))throw new Error("Invalid transition declaration: the destination state is not valid");var d=t.noopStates||[];if(!Object(i.a)(d,l))throw new Error("Invalid transition declaration: one of the no-op states is not valid");var b=t.allowableSourceStates||Object(a.a)(Object(s.a)(c),d);if(!Object(i.a)(b,l))throw new Error("Invalid transition declaration: one of the allowable source states is not valid");if(Object(r.a)(b,d).length>0)throw new Error("Invalid transition declaration: some states are marked as both allowable and no-op");if(!(d.indexOf(e)>=0)){if(b.indexOf(e)<0)throw new Error("Invalid request for current state: not allowed to move from "+e+" to "+u+". This is a programming error.");e!==u&&n(u)}}},bcDH:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("ntJl"),o=n("clTI"),s=n("cTgs"),c=n("6kok"),l=n("Smdl"),u=Object(a.b)("Switch to channel, join if necessary",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),a=Object(o.d)(r,n),u=function(){return e(Object(s.a)({id:n}))};return Object(c.kb)(a)?Promise.resolve(u()):e(Object(i.joinConversationApi)({channelId:n})).then(function(){return Object(l.a)()?u():null}).catch(function(e){if("is_archived"===e.data.error)return u();throw e})});u.propTypes={channelId:r.b.string.isRequired},t.a=u},bixr:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("g9w/");s.b.string,s.b.number;function l(e){return o.a.createElement(c.a,a()({textSelect:!0},e))}l.displayName="TextSelect",l.defaultProps={textSelectLabel:null,minOptionsListWidth:null},t.a=l},bjO5:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("aLpA"),o=n("QbLZ"),s=n.n(o),c=n("iCc5"),l=n.n(c),u=n("V7oC"),d=n.n(u),b=n("FYw3"),p=n.n(b),h=n("mRg0"),m=n.n(h),f=n("ifKl"),v=n("kxpR"),g=n.n(v),_=n("aK/h"),O=n("XLFM"),y=n("XHGt"),j=n("cErB"),k=n("pW9/"),E=n("rMey"),C=n("HO/Y"),I=n("6kok"),w=n("clTI"),S=n("aW/o"),T=n("CaXY"),R=n("tn36"),N=n("RAhH"),x=n("nNoG"),M=new x.b("block_kit"),P=5;var A=function(e){var t=function(t){function n(e){l()(this,n);var t=p()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Object(R.a)(t,["renderInTooltipMaybe"]),t}return m()(n,t),d()(n,[{key:"renderInTooltipMaybe",value:function(e){return this.props.isPreviewing?g.a.createElement(N.c,{tip:this.props.toolTipText,offset:P},g.a.createElement("span",{className:"inline_block"},e)):e}},{key:"render",value:function(){return this.renderInTooltipMaybe(g.a.createElement(e,this.props))}}]),n}(v.PureComponent);return t.displayName="DisabledTooltip",t.defaultProps={isPreviewing:!1,toolTipText:null,isDisabled:!1},Object(y.b)(function(e,t){var n=t.isDisabled,r=t.blocksContainerContext,a=Object(S.a)(e),i=Object(w.d)(e,a)||void 0,o=Object(I.yb)(i)&&!Object(I.kb)(i),s=M.t("Join the channel to interact with this message",{ns:"attachment_actions"});return s=o?M.t("Join the channel to interact with this message"):M.t("View this message in channel to interact with it"),{isDisabled:o||n,isPreviewing:o||r===T.a.search,toolTipText:s}})(t)},D=(n("yz26"),_.b.shape({type:_.b.oneOf([i.e.plain_text]).isRequired,text:_.b.string.isRequired}).isRequired,_.b.string.isRequired,_.b.string,_.b.string,_.b.string.isRequired,_.b.func,_.b.bool.isRequired,_.b.string,_.b.func,_.b.string,_.b.bool,_.b.func.isRequired,{onAction:f.a,url:void 0,value:void 0,parent:void 0,showConfirmDialog:void 0,style:void 0,featureBlockKitDeepLinks:!0}),L={primary:"outline-primary",danger:"outline-danger"},q=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleClickOrConfirmDialogGo=n.handleClickOrConfirmDialogGo.bind(n),n}return m()(t,e),d()(t,[{key:"onActionWrapper",value:function(){var e=this.props,t=e.actionId,n=e.blockId;(0,e.onAction)({actionId:t,blockId:n,text:e.text,value:e.value,style:e.style,type:"button"})}},{key:"handleClickOrConfirmDialogGo",value:function(){var e=this.props,t=e.url,n=e.dispatchHandleDeepLink;this.onActionWrapper(),t&&Object(j.p)(t)&&(this.props.featureBlockKitDeepLinks&&t.startsWith("slack://")?n(t):window.open(t,"_blank"))}},{key:"handleClick",value:function(){var e=this.props.showConfirmDialog;e?e({onGo:this.handleClickOrConfirmDialogGo}):this.handleClickOrConfirmDialogGo()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isDisabled,r=e.parent,a=e.style;return g.a.createElement(O.d,{className:"p-block_kit_button_element",type:L[a]||"outline",size:"small",onClick:this.handleClick,disabled:n},g.a.createElement(k.a,s()({"data-qa":"bk_button_mrkdwn"},t,{parent:r,maxCharacters:30,noJumbomoji:!0})))}}]),t}(v.PureComponent);q.displayName="ButtonElement";q.defaultProps=D;var F=Object(y.b)(function(e){return{featureBlockKitDeepLinks:Object(C.j)(e,"feature_block_kit_deep_links")}},function(e){return{dispatchHandleDeepLink:function(t){return e(Object(E.a)(t))}}})(A(q)),B=n("7EGn"),U=n("l+8s"),H=n("JS8a"),K=n("BWAg"),G=n("od5y"),V=(n("osDY"),_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.arrayOf(_.b.shape({text:_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string,emoji:_.b.bool}),description:_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),value:_.b.string,url:_.b.string})).isRequired,_.b.func,_.b.func,{onAction:f.a,showConfirmDialog:void 0}),z=4,Y=function(e){var t=e.onAction,n=e.options,r=e.blockId,a=e.isDisabled,i=e.actionId,o=e.showConfirmDialog,c=function(e){var n=e.optionText,a=e.optionValue,o=e.optionUrl;t({type:"overflow",actionId:i,blockId:r,selectedOption:{text:n,value:a}}),o&&Object(j.p)(o)&&window.open(o,"_blank")},l=function(e){return function(){o?o({onGo:function(){return c(e)}}):c(e)}},u=n.map(function(e){return s()({},e,{text:e.text&&e.text.text,description:e.description&&e.description.text,originalOptionShape:e})});return g.a.createElement(U.a,{position:"bottom-left",offsetY:z,renderMenu:function(e){return g.a.createElement(H.a,s()({width:250},e),u.map(function(e){return g.a.createElement(K.a,{key:"option-menu-item-"+e.value+"-"+e.url,label:g.a.createElement(k.a,{text:Object(B.a)(e,"originalOptionShape.text.text"),emoji:Object(B.a)(e,"originalOptionShape.text.emoji"),showTooltips:!1,noJumbomoji:!0}),disabled:a,onSelected:l({optionText:e.originalOptionShape.text,optionDescription:e.originalOptionShape.description,optionValue:e.value,optionUrl:e.url})})}))}},g.a.createElement(O.d,{className:"p-block_kit_overflow_element__button",type:"outline",size:"small",disabled:a},g.a.createElement(G.b,{type:"ellipsis"})))};Y.displayName="OverflowElement",Y.defaultProps=V;var W=A(Y),Q=n("+Xah"),X=n("TGBA"),Z=n("MeX/"),J=n("WD4z"),$=(_.b.string,{errorMessage:void 0}),ee=function(e){var t=e.errorMessage;return g.a.createElement(J.a,{type:"nested_box",level:"error",icon:"warning"},g.a.createElement("span",null,t))};ee.displayName="ElementValidationError",ee.defaultProps=$;var te=ee,ne=n("nlS/"),re=n("ZYn4"),ae=n("WTjW"),ie=n("Owxj"),oe=n("uf9I"),se=n("8t14"),ce=n("TSYQ"),le=n.n(ce),ue=n("blls"),de=(n("1wUN"),_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string})),be=_.b.arrayOf(_.b.shape({description:_.b.string,label:_.b.string,originalOption:_.b.shape({isPlaceholder:_.b.bool,description:de,text:de,value:_.b.string}),value:_.b.string,isPlaceholder:_.b.bool})),pe=(_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.func,_.b.arrayOf(_.b.shape({label:_.b.string,options:be})),_.b.string,_.b.number,_.b.array,_.b.func,_.b.func,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.string,{onAction:f.a,optionsFetcher:f.a,optionGroups:void 0,options:void 0,placeholder:void 0,minQueryLength:void 0,selectedOptions:void 0,showConfirmDialog:void 0,className:"",blockKitClogger:f.a,size:Z.a.small,errorText:void 0}),he=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["handleChange","handleBlur","handleFocus"]),n}return m()(t,e),d()(t,[{key:"dispatchActionAndUpdateValue",value:function(e){this.props.onAction({selected:e})}},{key:"handleChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).setTouched,r=void 0===n||n,a=this.props.showConfirmDialog;r&&(a?a({onGo:function(){t.dispatchActionAndUpdateValue(e)}}):this.dispatchActionAndUpdateValue(e))}},{key:"handleBlur",value:function(){return Object(f.a)()}},{key:"handleFocus",value:function(){return Object(f.a)()}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.optionGroups,r=e.isDisabled,a=e.dataSource,i=e.placeholder,o=e.minQueryLength,s=e.optionsFetcher,c=e.selectedOptions,l=e.elementWidth,u=e.type,d=e.blockKitClogger,b=e.className,p=e.size,h=e.errorText,m=le()("p-block_kit_select_element",b,{"p-block_kit_select_element--narrow":l===Z.b.narrow,"p-block_kit_select_element--wide":l===Z.b.wide,"p-block_kit_select_element--full":l===Z.b.full});return g.a.createElement(ue.a,{className:m,options:t,optionGroups:n,dataSource:a,minQueryLength:o,optionsFetcher:s,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:i,size:p,isDisabled:r,selectedOptions:c,optionsListOffsetBottom:200,logSelectElementMenuOpen:function(){return d("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:u}}})},usePlaceholderOption:!1,errorText:h})}}]),t}(v.PureComponent);he.displayName="BaseSelectElement",he.defaultProps=pe;var me=he,fe=(_.b.oneOf([i.e.users_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.func,_.b.func,_.b.bool,_.b.bool,_.b.func,{size:Z.a.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialUser:void 0,showConfirmDialog:void 0,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:Q.a}),ve={entities:{members:{includeSelf:!0}},allowEmptyQuery:!0},ge=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["onAction"]),n.state={selectedUser:e.initialUser||void 0,error:e.serverError||Object(se.k)(e.initialUser,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedUser,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.users_select,t,n,{selected_user:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialUser!==e.initialUser,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedUser:t.props.initialUser}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedUser,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,o=r.actionId,s=r.onAction,c=r.initialUser,l=r.isRequired,u=r.featureAppViewsV1,d=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(parent===i.d.input||d){var b={type:i.e.users_select,actionId:o,blockId:a,selectedUser:d},p=Object(se.h)(i.e.users_select,a,o,{selected_user:d}),h=Object(se.k)(d,this.props);c&&(b.initialUser=c),u&&(b.isRequired=l,b.state=p),s(b),this.context.setFormState({elementState:p,elementError:Object(se.g)(a,h)}),this.setState(function(){return{selectedUser:d,error:h}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.isDisabled,r=e.isRequired,a=e.parent,o=e.size,s=e.showConfirmDialog,c=e.elementWidth,l=e.blockKitClogger,u=e.type,d=e.showError,b=e.featureBlockKitShouldUseSlackKitSelect,p=e.actionId,h=e.connectedReplaceTextEmojiWithNative,m=t&&t.text&&t.emoji?h(t.text):t&&t.text;if(b){var f=function(e){return g.a.createElement("span",null,g.a.createElement(re.a,{memberId:e.value,inheritIconSize:!0}),g.a.createElement(ae.a,{id:e.value}))},v=a===i.d.input&&!r;return g.a.createElement("div",null,g.a.createElement(ne.c,{searcherOptions:ve,selectId:p,ariaLabel:t&&t.text||"Select an option",renderOption:f,renderSelectedOption:f,size:o,width:c,onOptionSelected:this.onAction,selectedOption:this.state.selectedUser&&{value:this.state.selectedUser},isDisabled:n,isRequired:!v,isInvalid:!(!d||!this.state.error),placeholderText:m,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:s,minOptionsListWidth:300}),this.maybeRenderError())}return g.a.createElement(me,{type:u,dataSource:"users",onAction:this.onAction,placeholder:t&&Object(se.i)(t),isDisabled:n,size:o,errorText:d?this.state.error:null,selectedOptions:[{value:this.state.selectedUser}],showConfirmDialog:s,elementWidth:c,blockKitClogger:l})}}]),t}(v.PureComponent);ge.displayName="UsersSelectElement",ge.defaultProps=fe,ge.contextType=se.a;var _e=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(C.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}})(A(ge)),Oe=n("DTT0"),ye=n("U3Q0"),je=(_.b.func.isRequired,_.b.element.isRequired,_.b.string,{placeholderText:void 0}),ke=function(e){var t=e.submitAction,n=e.placeholderText,r=e.element,a={onGo:t,title:n||"Pick options"};return g.a.createElement(ye.a,a,r)};ke.displayName="MultiSelectElementDialog",ke.defaultProps=je;var Ee=ke,Ce=(_.b.func.isRequired,_.b.string.isRequired,_.b.array,{selectedValues:void 0}),Ie=function(e){var t=e.openMultiSelectModal,n=e.formattedPlaceholder,r=e.selectedValues;return g.a.createElement(O.d,{type:"outline",size:"small",onClick:t},g.a.createElement(k.a,{text:r&&0!==r.length?r.length+" selected":n,maxCharacters:30,emoji:!0,noJumbomoji:!0}))};Ie.displayName="MultiSelectElementInput",Ie.defaultProps=Ce;var we=Ie,Se=n("20gP"),Te=(n("f8pD"),new x.b("block_kit")),Re=(_.b.oneOf([i.e.multi_users_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.func.isRequired,_.b.bool,_.b.string,_.b.bool,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.array,_.b.bool,_.b.func,_.b.func.isRequired,_.b.string,{isRequired:!1,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialUsers:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:Q.a,parent:void 0}),Ne={entities:{members:{includeSelf:!0}},allowEmptyQuery:!0},xe=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(R.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiUsersSelectElement"]);var r=e.placeholder,a=e.connectedReplaceTextEmojiWithNative,i=e.featureAppViewsV1;return n.formattedPlaceholder=Object(se.m)({placeholder:r,emojiProcessor:a,fallback:i?Te.t("Choose users"):"Choose users"}),n.state={selectedUsers:e.initialUsers||void 0,error:e.serverError||Object(se.k)(e.initialUsers,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedUsers,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.multi_users_select,t,n,{selected_users:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialUsers!==e.initialUsers,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedUsers:t.props.initialUsers}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedUsers,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=this.props,n=t.parent,r=t.isRequired;(n===i.d.input||e)&&this.setState(function(){return{selectedUsers:e,error:Object(se.k)(e,{isRequired:r})}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialUsers,o=e.isRequired,s=e.featureAppViewsV1,c={type:i.e.multi_users_select,actionId:n,blockId:t,selectedUsers:this.state.selectedUsers},l=Object(se.h)(i.e.multi_users_select,t,n,{selected_users:this.state.selectedUsers}),u=Object(se.k)(this.state.selectedUsers,this.props);a&&(c.initialUsers=a),s&&(c.isRequired=o,c.state=l),r(c),this.context.setFormState({elementState:l,elementError:Object(se.g)(t,u)})}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:g.a.createElement(Ee,{element:this.renderMultiUsersSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiUsersSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,o=e.actionId,s=e.blockKitClogger,c=e.type,l=t===i.d.input&&!r;return g.a.createElement("div",{className:"multi_select_element_container"},g.a.createElement(Se.a,{searcherOptions:Ne,selectId:o,ariaLabel:this.formattedPlaceholder,size:Z.a.medium,width:Z.b.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedChannels,isDisabled:n,isRequired:!l,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return s("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:c}}})},renderOption:function(e){return g.a.createElement("span",null,g.a.createElement(re.a,{memberId:e.value,inheritIconSize:!0}),g.a.createElement(ae.a,{id:e.value}))}}),a&&this.state.error?g.a.createElement(te,{errorMessage:this.state.error}):null)}},{key:"render",value:function(){return this.props.parent===i.d.input?this.renderMultiUsersSelectElement():g.a.createElement(we,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedUsers})}}]),t}(v.PureComponent);xe.displayName="MultiUsersSelect",xe.defaultProps=Re,xe.contextType=se.a;var Me=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(Oe.e)(t))}}})(A(xe)),Pe=n("4Twu"),Ae=n("+1yX"),De=(_.b.oneOf([i.e.conversations_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.oneOf(Object(X.a)(Z.a)),_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.func,_.b.func,_.b.bool,_.b.bool,_.b.func,{isRequired:!1,parent:void 0,size:Z.a.small,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialConversation:void 0,showConfirmDialog:void 0,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:Q.a}),Le={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!0},members:{includeSelf:!0}},allowEmptyQuery:!0},qe=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["onAction"]),n.state={selectedConversation:e.initialConversation||void 0,error:e.serverError||Object(se.k)(e.initialConversation,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedConversation,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.conversations_select,t,n,{selected_conversation:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialConversation!==e.initialConversation,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedConversation:t.props.initialConversation}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedConversation,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,o=r.actionId,s=r.onAction,c=r.initialConversation,l=r.isRequired,u=r.parent,d=r.featureAppViewsV1,b=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(u===i.d.input||b){var p={type:i.e.conversations_select,actionId:o,blockId:a,selectedConversation:b},h=Object(se.h)(i.e.conversations_select,a,o,{selected_conversation:b}),m=Object(se.k)(b,this.props);c&&(p.initialConversation=c),d&&(p.isRequired=l,p.state=h),s(p),this.context.setFormState({elementState:h,elementError:Object(se.g)(a,m)}),this.setState(function(){return{selectedConversation:b,error:m}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,a=e.isDisabled,o=e.placeholder,s=e.showConfirmDialog,c=e.elementWidth,l=e.blockKitClogger,u=e.type,d=e.showError,b=e.featureBlockKitShouldUseSlackKitSelect,p=e.actionId,h=e.connectedReplaceTextEmojiWithNative,m=o&&o.text&&o.emoji?h(o.text):o&&o.text;if(b){var f=function(e){return Object(Ae.a)(e.value)?g.a.createElement(Pe.a,{channelId:e.value}):g.a.createElement(ae.a,{id:e.value})},v=n===i.d.input&&!r;return g.a.createElement("div",null,g.a.createElement(ne.c,{searcherOptions:Le,selectId:p,ariaLabel:o&&o.text||"Select an option",renderOption:f,renderSelectedOption:f,size:t,width:c,onOptionSelected:this.onAction,selectedOption:this.state.selectedConversation&&{value:this.state.selectedConversation},isDisabled:a,isRequired:!v,isInvalid:!(!d||!this.state.error),placeholderText:m,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:s,minOptionsListWidth:300}),this.maybeRenderError())}return g.a.createElement(me,{type:u,dataSource:"conversations",onAction:this.onAction,placeholder:o&&Object(se.i)(o),isDisabled:a,errorText:d?this.state.error:null,selectedOptions:[{value:this.state.selectedConversation}],showConfirmDialog:s,elementWidth:c,blockKitClogger:l})}}]),t}(v.PureComponent);qe.displayName="ConversationsSelectElement",qe.defaultProps=De,qe.contextType=se.a;var Fe=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(C.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}})(A(qe)),Be=new x.b("block_kit"),Ue=(_.b.oneOf([i.e.multi_conversations_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.func.isRequired,_.b.bool,_.b.string,_.b.bool,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.bool,_.b.func,_.b.func.isRequired,_.b.string,{isRequired:!1,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialConversations:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:Q.a,parent:void 0}),He={entities:{channels:{includeArchived:!1,includePrivate:!0,includeMpims:!0},members:{includeSelf:!0}},allowEmptyQuery:!0},Ke=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(R.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiConversationsSelectElement"]);var r=e.placeholder,a=e.connectedReplaceTextEmojiWithNative,i=e.featureAppViewsV1;return n.formattedPlaceholder=Object(se.m)({placeholder:r,emojiProcessor:a,fallback:i?Be.t("Choose conversations"):"Choose conversations"}),n.state={selectedConversations:e.initialConversations||void 0,error:e.serverError||Object(se.k)(e.initialConversations,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedConversations,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.multi_conversations_select,t,n,{selected_conversations:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialConversations!==e.initialConversations,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedConversations:t.props.initialConversations}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedConversations,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=this.props,n=t.parent,r=t.isRequired;(n===i.d.input||e)&&this.setState(function(){return{selectedConversations:e,error:Object(se.k)(e,{isRequired:r})}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialConversations,o=e.isRequired,s=e.featureAppViewsV1,c={type:i.e.multi_conversations_select,actionId:n,blockId:t,selectedConversations:this.state.selectedConversations},l=Object(se.h)(i.e.multi_conversations_select,t,n,{selected_conversations:this.state.selectedConversations}),u=Object(se.k)(this.state.selectedConversations,this.props);a&&(c.initialConversations=a),s&&(c.isRequired=o,c.state=l),r(c),this.context.setFormState({elementState:l,elementError:Object(se.g)(t,u)})}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:g.a.createElement(Ee,{element:this.renderMultiConversationsSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiConversationsSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,o=e.actionId,s=e.blockKitClogger,c=e.type,l=t===i.d.input&&!r;return g.a.createElement("div",{className:"multi_select_element_container"},g.a.createElement(Se.a,{searcherOptions:He,selectId:o,ariaLabel:this.formattedPlaceholder,size:Z.a.medium,width:Z.b.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedChannels,isDisabled:n,isRequired:!l,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return s("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:c}}})},renderOption:function(e){return Object(Ae.a)(e.value)?g.a.createElement(Pe.a,{channelId:e.value}):g.a.createElement("span",null,g.a.createElement(re.a,{memberId:e.value,inheritIconSize:!0}),g.a.createElement(ae.a,{id:e.value}))}}),a&&this.state.error?g.a.createElement(te,{errorMessage:this.state.error}):null)}},{key:"render",value:function(){return this.props.parent===i.d.input?this.renderMultiConversationsSelectElement():g.a.createElement(we,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedConversations})}}]),t}(v.PureComponent);Ke.displayName="MultiConversationsSelect",Ke.defaultProps=Ue,Ke.contextType=se.a;var Ge=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(Oe.e)(t))}}})(A(Ke)),Ve=(_.b.oneOf([i.e.channels_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.oneOf(Object(X.a)(Z.a)),_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.func,_.b.func,_.b.bool,_.b.bool,_.b.func,{size:Z.a.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialChannel:void 0,showConfirmDialog:void 0,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:Q.a}),ze={entities:{channels:{includeArchived:!1,includePrivate:!1}},allowEmptyQuery:!0},Ye=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["onAction"]),n.state={selectedChannel:e.initialChannel||void 0,error:e.serverError||Object(se.k)(e.initialChannel,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedChannel,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.channels_select,t,n,{selected_channel:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialChannel!==e.initialChannel,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedChannel:t.props.initialChannel}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedChannel,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,o=r.actionId,s=r.onAction,c=r.initialChannel,l=r.isRequired,u=r.parent,d=r.featureAppViewsV1,b=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(u===i.d.input||b){var p={type:i.e.channels_select,actionId:o,blockId:a,selectedChannel:b},h=Object(se.h)(i.e.channels_select,a,o,{selected_channel:b}),m=Object(se.k)(b,this.props);c&&(p.initialChannel=c),d&&(p.isRequired=l,p.state=h),s(p),this.context.setFormState({elementState:h,elementError:Object(se.g)(a,m)}),this.setState(function(){return{selectedChannel:b,error:m}})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,a=e.isDisabled,o=e.placeholder,s=e.showConfirmDialog,c=e.elementWidth,l=e.blockKitClogger,u=e.type,d=e.showError,b=e.featureBlockKitShouldUseSlackKitSelect,p=e.actionId,h=e.connectedReplaceTextEmojiWithNative,m=o&&o.text&&o.emoji?h(o.text):o&&o.text;if(b){var f=function(e){return g.a.createElement(Pe.a,{channelId:e.value})},v=n===i.d.input&&!r;return g.a.createElement("div",null,g.a.createElement(ne.c,{searcherOptions:ze,selectId:p,ariaLabel:o&&o.text||"Select an option",renderOption:f,renderSelectedOption:f,size:t,width:c,onOptionSelected:this.onAction,selectedOption:this.state.selectedChannel&&{value:this.state.selectedChannel},isDisabled:a,isRequired:!v,isInvalid:!(!d||!this.state.error),placeholderText:m,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:s,minOptionsListWidth:300}),this.maybeRenderError())}return g.a.createElement(me,{type:u,dataSource:"channels",onAction:this.onAction,placeholder:o&&Object(se.i)(o),size:t,isDisabled:a,errorText:d?this.state.error:null,selectedOptions:[{value:this.state.selectedChannel}],showConfirmDialog:s,elementWidth:c,blockKitClogger:l})}}]),t}(v.PureComponent);Ye.displayName="ChannelsSelectElement",Ye.defaultProps=Ve,Ye.contextType=se.a;var We=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(C.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}})(A(Ye)),Qe=new x.b("block_kit"),Xe=(_.b.oneOf([i.e.multi_channels_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.func.isRequired,_.b.bool,_.b.string,_.b.bool,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.bool,_.b.func,_.b.func.isRequired,_.b.string,{isRequired:!1,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialChannels:void 0,featureAppViewsV1:!1,connectedReplaceTextEmojiWithNative:Q.a,parent:void 0}),Ze={entities:{channels:{includeArchived:!1,includePrivate:!1}},allowEmptyQuery:!0},Je=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(R.a)(n,["onAction","submitAction","openMultiSelectModal","renderMultiChannelsSelectElement"]);var r=e.placeholder,a=e.connectedReplaceTextEmojiWithNative,i=e.featureAppViewsV1;return n.formattedPlaceholder=Object(se.m)({placeholder:r,emojiProcessor:a,fallback:i?Qe.t("Choose channels"):"Choose channels"}),n.state={selectedChannels:e.initialChannels||void 0,error:e.serverError||Object(se.k)(e.initialChannels,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedChannels,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.multi_channels_select,t,n,{selected_channels:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialChannels!==e.initialChannels,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedChannels:t.props.initialChannels}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedChannels,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=this.props,n=t.parent,r=t.isRequired;(n===i.d.input||e)&&this.setState(function(){return{selectedChannels:e,error:Object(se.k)(e,{isRequired:r})}})}},{key:"submitAction",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.onAction,a=e.initialChannels,o=e.isRequired,s=e.featureAppViewsV1,c={type:i.e.multi_channels_select,actionId:n,blockId:t,selectedChannels:this.state.selectedChannels},l=Object(se.h)(i.e.multi_channels_select,t,n,{selected_channels:this.state.selectedChannels}),u=Object(se.k)(this.state.selectedChannels,this.props);a&&(c.initialChannels=a),s&&(c.isRequired=o,c.state=l),r(c),this.context.setFormState({elementState:l,elementError:Object(se.g)(t,u)})}},{key:"openMultiSelectModal",value:function(){(0,this.props.dispatchOpenModal)({element:g.a.createElement(Ee,{element:this.renderMultiChannelsSelectElement(),placeholderText:this.formattedPlaceholder,submitAction:this.submitAction})})}},{key:"renderMultiChannelsSelectElement",value:function(){var e=this.props,t=e.parent,n=e.isDisabled,r=e.isRequired,a=e.showError,o=e.actionId,s=e.blockKitClogger,c=e.type,l=t===i.d.input&&!r;return g.a.createElement("div",{className:"multi_select_element_container"},g.a.createElement(Se.a,{searcherOptions:Ze,selectId:o,ariaLabel:this.formattedPlaceholder,size:Z.a.medium,width:Z.b.full,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedChannels,isDisabled:n,isRequired:!l,isInvalid:a&&this.state.error,placeholderText:this.formattedPlaceholder,onOpen:function(){return s("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:c}}})},renderOption:function(e){return g.a.createElement(Pe.a,{channelId:e.value})}}),a&&this.state.error?g.a.createElement(te,{errorMessage:this.state.error}):null)}},{key:"render",value:function(){return this.props.parent===i.d.input?this.renderMultiChannelsSelectElement():g.a.createElement(we,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedChannels})}}]),t}(v.PureComponent);Je.displayName="MultiChannelsSelect",Je.defaultProps=Xe,Je.contextType=se.a;var $e=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(Oe.e)(t))}}})(A(Je)),et=n("hbEN"),tt=n("Muja"),nt=n("yHhI"),rt=n("96kD"),at=Object(nt.b)(),it=(_.b.oneOf([i.e.external_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.a)),_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.shape({text:_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),value:_.b.string}),_.b.func,_.b.number,_.b.func,_.b.bool,_.b.bool,_.b.number,_.b.func,{size:Z.a.small,isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,initialOption:void 0,showConfirmDialog:void 0,minQueryLength:3,fetchExternalSuggestions:void 0,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,debounceWaitPeriod:50,connectedReplaceTextEmojiWithNative:Q.a}),ot=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.optionGroups=void 0,n.options=void 0,n.inputRef=g.a.createRef(),Object(R.a)(n,["onAction","setSelectState","optionsFetcher","renderOption"]),n.state={selectedOption:e.initialOption&&Object(se.j)(e.initialOption),filterQuery:"",isLoading:!1,error:e.serverError||Object(se.k)(e.initialOption,e)},n.search=Object(et.a)(n.search,e.debounceWaitPeriod),n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.initialOption,a=e.featureBlockKitShouldUseSlackKitSelect,o=this.state.error;this.context.setFormState({elementState:Object(se.h)(i.e.external_select,t,n,{selected_option:r}),elementError:Object(se.g)(t,o)}),a&&this.search(this.state.filterQuery)}},{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(tt.a)(this.props.initialOption,e.initialOption),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOption:Object(se.j)(t.props.initialOption)}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedOption,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n}),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.blockId,o=r.actionId,s=r.onAction,c=r.initialOption,l=r.placeholder,u=r.isRequired,d=r.parent,b=r.featureAppViewsV1,p=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(d===i.d.input||p){var h=void 0;if(p&&(this.optionGroups?h=Object(se.b)(this.optionGroups,p):this.options&&(h=Object(se.c)(this.options,p))),!p||h){var m={type:i.e.external_select,actionId:o,blockId:a,selectedOption:h},f=Object(se.h)(i.e.external_select,a,o,{selected_option:h}),v=Object(se.k)(h,this.props);c&&(m.initialOption=c),l&&(m.placeholder=l),b&&(m.isRequired=u,m.state=f),s(m),this.context.setFormState({elementState:f,elementError:Object(se.g)(a,v)}),this.setState(function(){return{selectedOption:h&&Object(se.j)(h),error:v}})}}}},{key:"setSelectState",value:function(e,t){var n=e();void 0!==n.filterQuery&&n.filterQuery!==this.state.filterQuery&&this.search(n.filterQuery),this.setState(function(){return n},t)}},{key:"optionsFetcher",value:function(e){var t=this,n=this.props,r=n.actionId,a=n.blockId,i=n.fetchExternalSuggestions;return i&&i({actionId:r,blockId:a,value:e}).then(function(e){var n=e.options,r=e.optionGroups;return r?(t.optionGroups=r,{optionGroups:Object(se.e)(r)}):n?(t.options=n,{options:Object(se.f)(n)}):{}})}},{key:"search",value:function(e){var t=this,n=this.props,r=n.actionId,a=n.blockId,i=n.fetchExternalSuggestions,o=n.minQueryLength;i&&(e.length<o||(this.setState(function(){return{isLoading:!0}}),this.searchPromise=i({actionId:r,blockId:a,value:e}).then(function(e){var n=e.options,r=e.optionGroups;return r&&(t.optionGroups=r,t.setState(function(){return{options:Object(se.e)(r),isRequired:!0}})),n&&(t.options=n,t.setState(function(){return{options:Object(se.f)(n),isRequired:!0}})),{}}).catch(function(e){at.error("Error when searching for select id: "+t.props.actionId+", error: "+e)}).finally(function(){return t.setState(function(){return{isLoading:!1}})})))}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"renderOption",value:function(e){return e.originalOption?g.a.createElement("div",{className:"p-block-kit-select_options"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.text)),e.originalOption.description?g.a.createElement("span",{className:"p-block-kit-select_options__description"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.description))):null):"heading"===e.type?g.a.createElement(rt.a,{noLinking:!0,text:e.label,emoji:!0}):e.label}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.parent,r=e.isRequired,a=e.isDisabled,o=e.placeholder,c=e.showConfirmDialog,l=e.minQueryLength,u=e.elementWidth,d=e.blockKitClogger,b=e.type,p=e.showError,h=e.actionId,m=e.featureBlockKitShouldUseSlackKitSelect,f=e.connectedReplaceTextEmojiWithNative,v=o&&o.text&&o.emoji?f(o.text):o&&o.text;if(m){var _=n===i.d.input&&!r;return g.a.createElement("div",null,g.a.createElement(ne.a,{selectId:h,selectDataQa:h,placeholderText:v,selectState:s()({selectId:h},this.state),setSelectState:this.setSelectState,inputRef:this.inputRef,isLoading:this.state.isLoading,isDisabled:a,isRequired:!_,isInvalid:!(!p||!this.state.error),onOptionSelected:this.onAction,ariaLabel:o&&o.text||"Select an option",size:t,width:u,onOpen:this.logSelectElementMenuOpen,showConfirmDialog:c,minOptionsListWidth:300,renderOption:this.renderOption,renderSelectedOption:this.renderOption}),this.maybeRenderError())}return g.a.createElement(me,{type:b,dataSource:"external",onAction:this.onAction,placeholder:o&&Object(se.i)(o),isDisabled:a,errorText:p?this.state.error:null,optionsFetcher:this.optionsFetcher,selectedOptions:[this.state.selectedOption],showConfirmDialog:c,minQueryLength:l,elementWidth:u,size:t,blockKitClogger:d})}}]),t}(v.PureComponent);ot.displayName="ExternalSelectElement",ot.defaultProps=it,ot.contextType=se.a;var st=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(C.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}})(A(ot)),ct=_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),lt=_.b.arrayOf(_.b.shape({isPlaceholder:_.b.bool,description:ct,text:ct,value:_.b.string})),ut=(_.b.oneOf([i.e.static_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.arrayOf(_.b.shape({label:ct,options:lt})),_.b.shape({text:ct,value:_.b.string}),_.b.func,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.func,_.b.bool,_.b.bool,_.b.func,{isRequired:!1,parent:void 0,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,optionGroups:void 0,options:void 0,initialOption:void 0,showConfirmDialog:void 0,className:"",size:Z.a.small,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:Q.a}),dt=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(R.a)(n,["onAction","renderOption"]);var r=e.initialOption&&Object(se.j)(e.initialOption);return n.state={selectedOption:r,error:e.serverError||Object(se.k)(r,e)},n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.initialOption,a=this.state.error;this.context.setFormState({elementState:Object(se.h)(i.e.static_select,t,n,{selected_option:r}),elementError:Object(se.g)(t,a)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(tt.a)(this.props.initialOption,e.initialOption),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOption:Object(se.j)(t.props.initialOption)}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedOption,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=e.selected,n=e.value,r=this.props,a=r.initialOption,o=r.onAction,s=r.optionGroups,c=r.options,l=r.placeholder,u=r.actionId,d=r.blockId,b=r.isRequired,p=r.featureAppViewsV1,h=r.featureBlockKitShouldUseSlackKitSelect?n:t;if(parent===i.d.input||h){var m=void 0;if(h&&(s?m=Object(se.b)(s,h):c&&(m=Object(se.c)(c,h))),!h||m){var f={type:i.e.static_select,actionId:u,blockId:d,selectedOption:m},v=Object(se.h)(i.e.static_select,d,u,{selected_option:m}),g=m&&Object(se.j)(m),_=Object(se.k)(g,this.props);p&&(f.isRequired=b,f.state=v),a&&(f.initialOption=a),l&&(f.placeholder=l),o(f),this.context.setFormState({elementState:v,elementError:Object(se.g)(d,_)}),this.setState(function(){return{selectedOption:g,error:_}})}}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"renderOption",value:function(e){return e.originalOption?g.a.createElement("div",{className:"p-block-kit-select_options"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.text)),e.originalOption.description?g.a.createElement("span",{className:"p-block-kit-select_options__description"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.description))):null):"heading"===e.type?g.a.createElement(rt.a,{noLinking:!0,text:e.label,emoji:!0}):e.label}},{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.isDisabled,r=e.parent,a=e.options,o=e.optionGroups,s=e.placeholder,c=e.showConfirmDialog,l=e.elementWidth,u=e.blockKitClogger,d=e.type,b=e.className,p=e.size,h=e.featureBlockKitShouldUseSlackKitSelect,m=e.actionId,f=e.showError,v=e.connectedReplaceTextEmojiWithNative,_=[];a&&a.length?_=Object(se.f)(a):o&&o.length&&(_=Object(se.e)(o));var O=s&&s.text&&s.emoji?v(s.text):s&&s.text;if(h){var y=r===i.d.input&&!t;return g.a.createElement("div",null,g.a.createElement(ne.e,{selectId:m,selectDataQa:m,ariaLabel:s&&s.text||"Select an option",options:_,className:b,width:l,size:p,isDisabled:n,placeholderText:O,onOptionSelected:this.onAction,selectedOption:this.state.selectedOption,onOpen:this.logSelectElementMenuOpen,isRequired:!y,isInvalid:!(!f||!this.state.error),showConfirmDialog:c,minOptionsListWidth:300,renderOption:this.renderOption,renderSelectedOption:this.renderOption}),this.maybeRenderError())}return g.a.createElement(me,{type:d,options:a&&Object(se.f)(a),optionGroups:o&&Object(se.e)(o),dataSource:"static",placeholder:s&&Object(se.i)(s),isDisabled:n,selectedOptions:[this.state.selectedOption],onAction:this.onAction,showConfirmDialog:c,elementWidth:l,blockKitClogger:u,className:b,size:p,errorText:f?this.state.error:null})}}]),t}(v.PureComponent);dt.displayName="StaticSelectElement",dt.defaultProps=ut,dt.contextType=se.a;var bt=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),featureBlockKitShouldUseSlackKitSelect:Object(C.j)(e,"feature_block_kit_should_use_slack_kit_select"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}})(A(dt)),pt=n("fujP"),ht=new x.b("block_kit"),mt=_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string,placeholder:_.b.bool}),ft=_.b.arrayOf(_.b.shape({isPlaceholder:_.b.bool,description:mt,text:mt,value:_.b.string})),vt=(_.b.oneOf([i.e.multi_static_select]).isRequired,_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.bool,_.b.string,_.b.bool,_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.arrayOf(_.b.shape({label:mt,options:ft})),_.b.arrayOf(_.b.shape({text:mt,value:_.b.string})),_.b.func,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.func,_.b.bool,_.b.bool,_.b.func,_.b.string,_.b.func.isRequired,{isRequired:!1,serverError:void 0,showError:!1,onAction:f.a,placeholder:void 0,optionGroups:void 0,options:void 0,initialOptions:void 0,showConfirmDialog:void 0,className:"",size:Z.a.small,blockKitClogger:f.a,featureAppViewsV1:!1,featureBlockKitShouldUseSlackKitSelect:!1,connectedReplaceTextEmojiWithNative:Q.a,parent:void 0}),gt=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(R.a)(n,["onAction","submitAction","renderMultiSelect","openMultiSelectModal"]);var r=e.initialOptions&&Object(se.f)(e.initialOptions);n.state={selectedOptions:r,error:e.serverError||Object(se.k)(r,e)};var a=e.placeholder,i=e.connectedReplaceTextEmojiWithNative,o=e.featureAppViewsV1;return n.formattedPlaceholder=Object(se.m)({placeholder:a,emojiProcessor:i,fallback:o?ht.t("Choose options"):"Choose options"}),n.logSelectElementMenuOpen=function(){return e.blockKitClogger("BLOCK_KIT_SELECT_SCREEN_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:e.type}}})},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.initialOptions,a=this.state.error;this.context.setFormState({elementState:Object(se.h)(i.e.multi_static_select,t,n,{selected_options:r}),elementError:Object(se.g)(t,a)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=!Object(tt.a)(this.props.initialOptions,e.initialOptions),r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedOption:Object(se.j)(t.props.initialOptions)}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedOption,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"onAction",value:function(e){var t=this.props,n=t.parent,r=t.isRequired;(n===i.d.input||e)&&this.setState(function(){return{selectedOptions:e,error:Object(se.k)(e,{isRequired:r})}})}},{key:"submitAction",value:function(){var e=this.props,t=e.initialOptions,n=e.onAction,r=e.placeholder,a=e.actionId,o=e.blockId,s=e.isRequired,c=e.featureAppViewsV1,l=Object(se.d)(this.state.selectedOptions);if(l){var u={type:i.e.multi_static_select,actionId:a,blockId:o,selectedOptions:l},d=Object(se.h)(i.e.multi_static_select,o,a,{selected_options:l}),b=l&&Object(se.f)(l),p=Object(se.k)(b,this.props);c&&(u.isRequired=s,u.state=d),t&&(u.initialOptions=t),r&&(u.placeholder=r),n(u),this.context.setFormState({elementState:d,elementError:Object(se.g)(o,p)})}}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"openMultiSelectModal",value:function(){var e=this.props.dispatchOpenModal,t={onGo:this.submitAction,title:this.formattedPlaceholder||"Pick options"};e({element:g.a.createElement(ye.a,t,g.a.createElement("div",{className:"multi_select_element_container"},this.renderMultiSelect(),this.maybeRenderError()))})}},{key:"renderMultiSelect",value:function(){var e=this.props,t=e.parent,n=e.isRequired,r=e.isDisabled,a=e.options,o=e.optionGroups,c=e.placeholder,l=e.showConfirmDialog,u=e.className,d=e.actionId,b=e.showError,p=function(e){return e.originalOption&&!Object(pt.a)(e.originalOption)?g.a.createElement("div",{className:"p-block-kit-select_options"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.text)),e.originalOption.description?g.a.createElement("span",{className:"p-block-kit-select_options__description"},g.a.createElement(rt.a,s()({noLinking:!0},e.originalOption.description))):null):"heading"===e.type?g.a.createElement(rt.a,{noLinking:!0,text:e.label,emoji:!0}):e.label},h=[];a&&a.length?h=Object(se.f)(a):o&&o.length&&(h=Object(se.e)(o));var m=t===i.d.input&&!n;return g.a.createElement(Se.c,{selectId:d,selectDataQa:d,ariaLabel:c&&c.text||"Select an option",options:h,className:u,width:Z.b.full,size:Z.a.medium,isDisabled:r,placeholderText:this.formattedPlaceholder,onSelectedItemsChange:this.onAction,selectedOptions:this.state.selectedOptions,onOpen:this.logSelectElementMenuOpen,isRequired:!m,isInvalid:!(!b||!this.state.error),showConfirmDialog:l,renderOption:p,renderSelectedOption:p})}},{key:"render",value:function(){return this.props.parent===i.d.input?this.renderMultiSelect():g.a.createElement(we,{openMultiSelectModal:this.openMultiSelectModal,formattedPlaceholder:this.formattedPlaceholder,selectedValues:this.state.selectedOptions})}}]),t}(v.PureComponent);gt.displayName="MultiStaticSelectElement",gt.defaultProps=vt,gt.contextType=se.a;var _t=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1"),connectedReplaceTextEmojiWithNative:function(t){return Object(ie.a)(e,{messageText:t,teamId:Object(oe.b)(e)})}}},function(e){return{dispatchOpenModal:function(t){return e(Object(Oe.e)(t))}}})(A(gt)),Ot=n("wd/R"),yt=n.n(Ot),jt=n("hFPh"),kt=(n("xsZT"),new x.b("block_kit")),Et="bottom-left",Ct=0,It=4,wt=(_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.bool,_.b.func,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.string,_.b.bool,_.b.bool,{isRequired:!1,onAction:f.a,placeholder:{},initialDate:void 0,showConfirmDialog:void 0,className:void 0,size:Z.a.small,serverError:void 0,showError:!1,blockKitClogger:f.a,featureAppViewsV1:!1}),St=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["handleDateChange","dispatchAction","maybeRenderError"]),n.state={selectedDate:e.initialDate,error:e.serverError||Object(se.k)(e.initialDate,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedDate,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.datepicker,t,n,{selected_date:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialDate!==e.initialDate,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedDate:t.props.initialDate}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedDate,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"setSelectedDateAndDispatchAction",value:function(e){this.dispatchAction(e)}},{key:"dispatchAction",value:function(e){var t=this.props,n=t.blockId,r=t.actionId,a=t.onAction,o=t.initialDate,s=t.isRequired,c=t.featureAppViewsV1,l={type:i.e.datepicker,actionId:r,blockId:n,selectedDate:e},u=Object(se.h)(i.e.datepicker,n,r,{selected_date:e}),d=Object(se.k)(e,this.props);o&&(l.initialDate=o),c&&(l.isRequired=s,l.state=u),a(l),this.context.setFormState({elementState:u,elementError:Object(se.g)(n,d)}),this.setState(function(){return{selectedDate:e,error:d}})}},{key:"handleDateChange",value:function(e){var t=this,n=this.props.showConfirmDialog;n?n({onGo:function(){return t.setSelectedDateAndDispatchAction(e)}}):this.setSelectedDateAndDispatchAction(e)}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.initialDate,r=e.placeholder,a=e.className,o=e.size,s=e.elementWidth,c=e.showError,l=e.blockKitClogger,u=n||null,d=this.state.selectedDate&&yt()(this.state.selectedDate).format("L")||n&&yt()(n).format("L")||r.text||kt.t("Select a date"),b=le()("p-block_kit_date_picker_button",a,{"p-block_kit_date_picker_button--invalid":c&&this.state.error});return g.a.createElement(v.Fragment,null,g.a.createElement(jt.d,{position:Et,offsetX:Ct,offsetY:It,selectedDate:this.state.selectedDate||u,dateFormat:"YYYY-MM-DD",onDateChange:this.handleDateChange,onRenderPopover:function(){return l("BLOCK_KIT_DATEPICKER_SHOW",{contexts:{ui_context:{step:"block_kit_element",action:"click",ui_element:i.e.datepicker}}})}},g.a.createElement(O.d,{type:"outline",size:o,style:{minWidth:s},disabled:t,className:b},g.a.createElement(k.a,{"data-qa":"bk_button_mrkdwn",text:d,parent:i.e.datepicker,emoji:!0}),g.a.createElement(G.b,{type:"calendar"}))),this.maybeRenderError())}}]),t}(v.Component);St.displayName="DatepickerElement",St.defaultProps=wt,St.contextType=se.a;var Tt=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1")}})(A(St)),Rt=(n("Rhk5"),_.b.string.isRequired,_.b.string,_.b.string,{altText:"",parent:void 0}),Nt=function(e){var t=e.imageUrl,n=e.altText,r=e.parent,a=le()("p-section_block__image",{"p-context_block_group__image":r===i.d.context});return g.a.createElement("div",{"data-qa":"bk_section_block_image_element",className:a,style:{backgroundImage:"url('"+t+"')"},role:"img","aria-label":n,title:n,alt:n})};Nt.displayName="ImageElement",Nt.defaultProps=Rt;var xt=Nt,Mt=n("3dqR"),Pt=(_.b.shape({userId:_.b.string.isRequired}).isRequired,function(e){var t=e.attrs;return g.a.createElement("div",{className:"p-context_block_group__user"},g.a.createElement(Mt.b,{size:20,userId:t.userId,showCard:!0}))});Pt.displayName="UserElement";var At=Pt,Dt=n("plEq"),Lt=n("P3Po"),qt=(n("yqYW"),_.b.string.isRequired,_.b.string.isRequired,_.b.func,_.b.string,_.b.bool,_.b.bool,_.b.object,_.b.string,_.b.bool,_.b.number,_.b.number,_.b.bool,_.b.string,_.b.bool,{isRequired:!1,placeholder:void 0,multiline:!1,serverError:void 0,showError:!1,onAction:f.a,initialValue:"",className:"",maxCharacterLimit:void 0,minCharacterLimit:void 0,preserveState:!1,featureAppViewsV1:!1}),Ft=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.state={value:e.initialValue,error:e.serverError||Object(se.k)(e.initialValue,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.value,o=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.plain_text_input,t,n,{value:a}),elementError:Object(se.g)(t,o)})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.showError!==e.showError,a=!e.preserveState&&this.props.preserveState;r&&this.props.showError&&this.setState(function(){return{error:n.props.serverError||Object(se.k)(t.value,n.props)}}),a&&(this.setState(function(){return{value:t.value}}),this.handleChange(t.value))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"handleChange",value:function(e){var t=this.props,n=t.blockId,r=t.actionId,a=t.onAction,o=t.initialValue,s=t.isRequired,c=t.minCharacterLimit,l=t.maxCharacterLimit,u=t.featureAppViewsV1,d={type:i.e.plain_text_input,actionId:r,blockId:n,value:e},b=Object(se.h)(i.e.plain_text_input,n,r,{value:e}),p=Object(se.k)(e,this.props);o&&(d.initialValue=o),u&&(d.isRequired=s,d.minCharacterLimit=c,d.maxCharacterLimit=l,d.state=b),a(d),this.context.setFormState({elementState:b,elementError:Object(se.g)(n,p)}),this.setState(function(){return{value:e,error:p}})}},{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=e.isRequired,a=e.className,i=e.placeholder,o=e.multiline,s=e.maxCharacterLimit,c=e.minCharacterLimit,l=e.showError,u=e.featureAppViewsV1,d=le()("p-block_kit_plain_text_input_element",a);return g.a.createElement(o?Lt.a:Dt.a,{id:t,name:n,className:d,isRequired:r,onChange:this.handleChange,value:this.state.value,placeholder:i&&i.text,errorText:l?this.state.error:null,maxCharacterLimit:s,minCharacterLimit:c,featureAppViewsV1:u})}}]),t}(v.Component);Ft.displayName="PlainTextInputElement",Ft.defaultProps=qt,Ft.contextType=se.a;var Bt=Object(y.b)(function(e){return{featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1")}})(A(Ft)),Ut=n("lek6"),Ht=(n("45LW"),_.b.string.isRequired,_.b.string,_.b.number,_.b.number,_.b.func,_.b.func,_.b.func,{parent:void 0,maxNewlines:void 0,maxCharacters:void 0,onRender:f.a,clogLinkClick:f.a,customFormatHandler:void 0}),Kt=function(e){var t=e.text,n=e.parent,r=e.maxNewlines,a=e.maxCharacters,o=e.onRender,s=e.clogLinkClick,c=e.customFormatHandler,l=le()("p-mrkdwn_element",{"p-context_block__text":n===i.d.context});return g.a.createElement("div",{className:l},g.a.createElement(Ut.a,{text:t,onRender:o,maxCharacters:a,maxNewlines:r,clogLinkClick:s,customFormatHandler:c}))};Kt.displayName="MrkdwnElement",Kt.defaultProps=Ht;var Gt=Kt,Vt=n("NXqO"),zt=n("ohM/"),Yt=n("vakV"),Wt=(n("JyD1"),"bottom-left"),Qt=0,Xt=4,Zt=(_.b.string.isRequired,_.b.string.isRequired,_.b.bool.isRequired,_.b.string,_.b.bool,_.b.bool,_.b.string,_.b.oneOf(Object(X.a)(Z.a)),_.b.oneOf(Object(X.a)(Z.b)).isRequired,_.b.func,_.b.shape({type:_.b.oneOf([i.e.plain_text]),text:_.b.string}),_.b.string,_.b.string,_.b.func,_.b.func,_.b.string,_.b.string,_.b.bool,_.b.bool,{isRequired:!1,serverError:void 0,showError:!1,className:void 0,size:Z.a.small,onAction:f.a,placeholder:void 0,initialStartDate:void 0,initialEndDate:void 0,showConfirmDialog:void 0,blockKitClogger:f.a,startDatePlaceholder:void 0,endDatePlaceholder:void 0,featureBlockKitRangeDatepicker:!1,featureAppViewsV1:!1}),Jt=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(R.a)(n,["handleDateChange","dispatchAction","renderPopover","maybeRenderError"]),n.state={selectedStartDate:e.initialStartDate,selectedEndDate:e.initialEndDate,error:e.serverError||Object(se.k)(e.initialStartDate&&e.initialEndDate,e)},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockId,n=e.actionId,r=this.state,a=r.selectedStartDate,o=r.selectedEndDate,s=r.error;this.context.setFormState({elementState:Object(se.h)(i.e.range_datepicker,t,n,{selected_start_date:a,selected_end_date:o}),elementError:Object(se.g)(t,s)})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialStartDate!==e.initialStartDate||this.props.initialEndDate!==e.initialEndDate,r=this.props.showError!==e.showError;n&&this.setState(function(){return{selectedStartDate:t.props.initialStartDate,selectedEndDate:t.props.initialEndDate}}),r&&this.props.showError&&this.setState(function(e){return{error:t.props.serverError||Object(se.k)(e.selectedStartDate&&e.selectedEndDate,t.props)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.blockId,n=e.actionId;this.context.unsetFormState({blockId:t,actionId:n})}},{key:"dispatchAction",value:function(e){var t=this,n=this.props,r=n.blockId,a=n.actionId,o=n.onAction,s=n.initialStartDate,c=n.initialEndDate,l=n.isRequired,u=n.featureAppViewsV1,d=this.state,b=d.selectedStartDate,p=d.selectedEndDate;this.setState(function(){return e},function(){var e={type:i.e.range_datepicker,actionId:a,blockId:r,selectedStartDate:b,selectedEndDate:p},n=Object(se.h)(i.e.range_datepicker,r,a,{selected_start_date:b,selected_end_date:p}),d=Object(se.k)(b&&p,t.props);s&&(e.initialDate=s),c&&(e.initialDate=c),u&&(e.isRequired=l,e.state=n),o(e),t.context.setFormState({elementState:n,elementError:Object(se.g)(r,d)}),t.setState(function(){return{error:d}})})}},{key:"handleDateChange",value:function(e){var t=this,n=this.props.showConfirmDialog;n?n({onGo:function(){return t.dispatchAction(e)}}):this.dispatchAction(e)}},{key:"maybeRenderError",value:function(){var e=this.state.error;return this.props.showError&&e?g.a.createElement(te,{errorMessage:e}):null}},{key:"renderPopover",value:function(e){var t=this.state.selectedStartDate,n=this.state.selectedEndDate;return g.a.createElement(Yt.a,s()({position:Wt,offsetX:Qt,offsetY:Xt},e),g.a.createElement("div",{className:"c-date_picker__dropdown","data-qa":"date_picker_dropdown"},g.a.createElement(Vt.a,{selectedStartDate:t,selectedEndDate:n,dateFormat:"YYYY-MM-DD",onStartDateChange:this.handleDateChange,onEndDateChange:this.handleDateChange})))}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.placeholder,r=e.startDatePlaceholder,a=e.endDatePlaceholder,o=e.showError,c=e.className,l=e.size,u=e.elementWidth;if(!e.featureBlockKitRangeDatepicker)return null;var d=void 0;if(this.state.selectedEndDate||this.state.selectedStartDate||r||a||!n){var b=this.state.selectedStartDate&&yt()(this.state.selectedStartDate).format("L"),p=this.state.selectedEndDate&&yt()(this.state.selectedEndDate).format("L");d=(b||Object(B.a)(r,"text")||"Start Date")+" - "+(p||Object(B.a)(a,"text")||"End Date")}else d=n.text;var h=le()("p-block_kit_date_picker_button",c,{"p-block_kit_date_picker_button--invalid":o&&this.state.error});return g.a.createElement("div",null,g.a.createElement(zt.a,s()({},this.props,{ref:this.trigger,renderPopover:this.renderPopover,ariaHasPopup:!0}),g.a.createElement(O.d,{type:"outline",size:l,style:{minWidth:u},disabled:t,className:h},g.a.createElement(k.a,{"data-qa":"bk_button_mrkdwn",text:d,parent:i.e.datepicker,emoji:!0}),g.a.createElement(G.b,{type:"calendar"}))),this.maybeRenderError())}}]),t}(v.Component);Jt.displayName="RangeDatepickerElement",Jt.defaultProps=Zt,Jt.contextType=se.a;var $t,en,tn=Object(y.b)(function(e){return{featureBlockKitRangeDatepicker:Object(C.j)(e,"feature_block_kit_range_datepicker"),featureAppViewsV1:Object(C.j)(e,"feature_app_views_v1")}})(A(Jt));n("waL6");n.d(t,"a",function(){return rn});var nn=($t={},a()($t,i.e.button,F),a()($t,i.e.overflow,W),a()($t,i.e.users_select,_e),a()($t,i.e.multi_users_select,Me),a()($t,i.e.conversations_select,Fe),a()($t,i.e.multi_conversations_select,Ge),a()($t,i.e.image,Image),a()($t,i.e.channels_select,We),a()($t,i.e.multi_channels_select,$e),a()($t,i.e.external_select,st),a()($t,i.e.static_select,bt),a()($t,i.e.multi_static_select,_t),a()($t,i.e.datepicker,Tt),a()($t,i.e.range_datepicker,tn),a()($t,i.e.image,xt),a()($t,i.e.user,At),a()($t,i.e.plain_text_input,Bt),a()($t,i.e.mrkdwn,Gt),a()($t,i.e.plain_text,k.a),$t),rn=(en={},a()(en,i.e.button,F),a()(en,i.e.overflow,W),a()(en,i.e.users_select,_e),a()(en,i.e.multi_users_select,Me),a()(en,i.e.conversations_select,Fe),a()(en,i.e.multi_conversations_select,Ge),a()(en,i.e.channels_select,We),a()(en,i.e.multi_channels_select,$e),a()(en,i.e.external_select,st),a()(en,i.e.static_select,bt),a()(en,i.e.multi_static_select,_t),a()(en,i.e.datepicker,Tt),a()(en,i.e.plain_text_input,Bt),a()(en,i.e.range_datepicker,tn),en);t.b=nn},blls:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("m8R6"),m=n("tn36"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("clTI"),y=n("DtX9"),j=n("6kok"),k=n("0Whs"),E=n("zlNY"),C=n("kX2h"),I=n("+1yX"),w={channels:"channels",conversations:"conversations",external:"external",static:"static",users:"users"},S=(f.b.bool,f.b.func.isRequired,f.b.func.isRequired,f.b.func.isRequired,f.b.string,f.b.string,f.b.string,f.b.number,f.b.func,f.b.array,f.b.array,f.b.string,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.object,f.b.string,f.b.string,f.b.bool,f.b.number,f.b.func,f.b.bool,{id:null,labelId:null,errorText:null,hintText:null,name:null,placeholder:void 0,isSubmitting:!1,value:"",dialogId:"",dataSource:null,minQueryLength:0,optionsFetcher:null,optionGroups:void 0,options:void 0,isDisabled:!1,isRequired:!1,selectedOption:void 0,size:void 0,className:null,includeApps:!0,optionsListOffsetBottom:void 0,logSelectElementMenuOpen:p.a,usePlaceholderOption:!0}),T=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.onChange,a=e.selectedOption;return a&&r(a.value,{setTouched:!1}),Object(m.a)(n,["onChange","setInputRef"]),n}return b()(t,e),c()(t,[{key:"onChange",value:function(e,t){var n=this.props.onChange;n(e,{setTouched:!0,selectedOption:{label:t,value:e}})}},{key:"setInputRef",value:function(e){var t=e;t&&t.getWrappedInstance&&(t=t.getWrappedInstance()),this.input=t}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.labelId,r=e.isSubmitting,i=e.onBlur,o=e.onFocus,s=e.value,c=e.isDisabled,l=e.errorText,u=e.hintText,d=e.isRequired,b=e.placeholder,p=e.dataSource,m=e.minQueryLength,f=e.optionsFetcher,v=e.options,_=e.optionGroups,O=e.size,y=e.className,j=e.includeApps,k=e.selectedOption,I=e.optionsListOffsetBottom,S=e.logSelectElementMenuOpen,T=e.usePlaceholderOption,R={id:t,labelId:n,className:y,isDisabled:c||r,errorText:l,hintText:u,isRequired:d,name:name,onBlur:i,onFocus:o,onChange:this.onChange,placeholder:b,ref:this.setInputRef,selectedOption:k,value:s,size:O,optionsListOffsetBottom:I,logSelectElementMenuOpen:S,usePlaceholderOption:T};if(p===w.channels)return g.a.createElement(E.a,a()({},R,{prefetchOptions:!0}));if(p===w.conversations)return g.a.createElement(E.b,a()({},R,{includeApps:j,prefetchOptions:!0}));if(p===w.users)return g.a.createElement(E.c,a()({},R,{includeApps:j,prefetchOptions:!0}));if(p===w.external){var N=a()({},Object(h.a)(R,"ref"),{innerRef:this.setInputRef,minQueryLength:m,optionsFetcher:f,prefetchOptions:!0});return g.a.createElement(C.a,N)}var x=a()({},R,{options:v,optionGroups:_});return g.a.createElement(E.d,a()({},x,{onOpen:S}))}}]),t}(g.a.Component);T.displayName="EnhancedSelect",T.defaultProps=S,t.a=Object(_.b)(function(e,t){var n=t.dataSource,r=t.selectedOptions,a=r&&r[0];if(a){if([w.static,w.external].includes(n))return{selectedOption:a};var i=a.value,o=Object(I.a)(i)?Object(O.d)(e,i):Object(y.c)(e,i);if(o&&!Object(j.Jb)(o))return{selectedOption:Object(k.a)(o)}}return{}},null,null,{withRef:!0})(T)},bo4X:function(e,t,n){"use strict";var r=n("ifKl"),a=n("kxpR"),i=n.n(a),o=n("9rZX"),s=n.n(o),c=n("TSYQ"),l=n.n(c),u=n("aK/h"),d=n("18Pa"),b=n("DD2j"),p=n("nNoG"),h=n("D5XI"),m=(n("wh8h"),new p.b("generic_dialog")),f=function(e,t){return l()("c-sk-overlay",{"c-sk-overlay--align-start":!e},t)},v=function(e,t){return l()("c-sk-modal",{"c-sk-modal--fullscreen":e,"c-sk-modal--fixed":!e},t)},g=function(e,t){return{content:{maxWidth:"number"==typeof e?e+"px":e},overlay:{padding:"number"==typeof t?t+"px":t,paddingTop:"number"==typeof t?Object(b.a)(t)+"px":t}}},_=(u.b.bool,u.b.node.isRequired,u.b.string,u.b.func,u.b.string,u.b.string,u.b.bool,u.b.bool,u.b.bool,u.b.string,u.b.oneOfType([u.b.string,u.b.number]),u.b.string,u.b.oneOfType([u.b.string,u.b.number]),u.b.oneOf(["alertdialog","dialog"]),u.b.bool,u.b.bool,u.b.bool,{centered:!0,className:null,closeModal:r.a,contentLabel:null,describedby:null,fullscreen:!1,invertCloseButton:!1,isOpen:!0,labelledby:null,maxWidth:null,overlayClassName:null,padding:28,role:"dialog",shouldCloseOnOverlayClick:!0,shouldFadeOut:!1,showCloseButton:!0}),O=function(e){var t=e.centered,n=e.children,r=e.className,a=e.closeModal,o=e.contentLabel,c=e.describedby,u=e.fullscreen,b=e.invertCloseButton,p=e.isOpen,_=e.labelledby,O=e.maxWidth,y=e.overlayClassName,j=e.padding,k=e.role,E=e.shouldCloseOnOverlayClick,C=e.shouldFadeOut,I=e.showCloseButton;return i.a.createElement(s.a,{className:v(u,r),contentLabel:o,isOpen:p,overlayClassName:f(t,y),closeTimeoutMS:C?160:0,shouldCloseOnOverlayClick:E,onRequestClose:a,style:g(O,j),role:k,aria:{labelledby:_,describedby:c}},I&&i.a.createElement(d.a,{"aria-label":m.t("Close"),backgroundStyle:b?"dark":"light",icon:"times",onClick:a,className:l()("c-sk-modal__close_button",{"c-sk-modal__close_button--inverted":b})}),i.a.createElement(h.a.Provider,{value:{closeButtonIsVisible:I,closeModal:a,fullscreen:u}},n))};O.displayName="BaseModal",O.defaultProps=_,t.a=O},boyP:function(e,t,n){},bsix:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("nNoG"),a=n("P2f5"),i=new r.b("files");function o(e,t){if(!e.is_external)return null;switch(e.external_type){case"gdrive":switch(e.filetype){case"gsheet":return i.t("Spreadsheet from Google Drive");case"gdoc":return i.t("Document from Google Drive");case"gpres":return i.t("Presentation from Google Drive");case"gdraw":return i.t("Drawing from Google Drive");default:return i.t("{fileType} from Google Drive",{fileType:e.pretty_type})}case"dropbox":return i.t("{fileType} from Dropbox",{fileType:e.pretty_type});case"box":return i.t("{fileType} from Box",{fileType:e.pretty_type});case"onedrive":return i.t("{fileType} from OneDrive",{fileType:e.pretty_type});case"app":return i.t("{fileType} from {appName}",{fileType:e.pretty_type,appName:Object(a.g)(t,e)});default:return i.t("File")}}},btvA:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"c",function(){return T});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("cZF4"),c=n("uXhx"),l=n("ifKl"),u=n("zmn3"),d=n("9ndk"),b=n("vJtL"),p=n("OZf9"),h=n("Wy5O"),m=n("x4bP"),f=n("lhZz"),v=n("UR+L"),g=n("St+r"),_=n("q/xz"),O=n("yHhI"),y=n("iJtp"),j=n("jzln"),k=n("9kTo"),E=n("eK5+"),C=n("Zr7G"),I="COND-FETCH",w=6e4,S=Object(E.a)(1),T=function(){return Math.floor(Date.now()/1e3)},R=function(){function e(t){if(a()(this,e),!t.fetch)throw new Error("ConditionalFetchManager must be passed a `fetch` function");this._fetch=t.fetch,this._maxAge=t.maxAge,this._isEnabledCallback=t.isEnabled||function(){return Object(m.a)()},this._connectionCounts={},this._versions={},this._objectFreshnessTTLs={},this._lastRefetchTimesByTeam={},this._metricsName=t.metricsName,this._pendingIdsByTeam={},this._fetchPromiseByTeam={},Object(_.a)(this),e.startListening()}return o()(e,[{key:"isObjectFresh",value:function(e,t){if(!this._isEnabled(e))return!0;this._maybeResetState(e);var n=T();return(this._objectFreshnessTTLs[e]&&this._objectFreshnessTTLs[e][t])>n}},{key:"markObjectsAsFresh",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._isEnabled(e)){this._maybeResetState(e),this._objectFreshnessTTLs[e]=this._objectFreshnessTTLs[e]||{};var r=T();n.forEach(function(n){var a=r+t._getMaxAge(e,n);t._objectFreshnessTTLs[e][n]=a}),Object(O.a)({teamId:e}).debug(I,"Marking ids as fresh: "+n)}}},{key:"markObjectsAsStale",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._isEnabled(e)){this._maybeResetState(e),this._objectFreshnessTTLs[e]=this._objectFreshnessTTLs[e]||{};var r=n.filter(function(n){return!!t._objectFreshnessTTLs[e][n]&&(delete t._objectFreshnessTTLs[e][n],!0)});r.length&&(Object(O.a)({teamId:e}).debug(I,"Marking ids as stale: "+r),Object(f.dispatchForTeamId)(e,Object(v.d)()))}}},{key:"maybeRefetch",value:function(t,n){e.isRefetchPaused()||this._isEnabled(t)&&this._ensureObjectsAreFresh(t,[n])}},{key:"getFreshObjects",value:function(e){var t=T(),n=[];return Object(p.a)(this._objectFreshnessTTLs[e],function(e,r){e>t&&n.push(r)}),n}},{key:"_ensureObjectsAreFresh",value:function(e,t){var n=this;if(this._isEnabled(e)){this._maybeResetState(e);var r=Object(c.a)(t,function(t){return n.isObjectFresh(e,t)});if(r.length)Object(h.a)(r,this._getPendingIdsForTeam(e)).length&&(this._pendingIdsByTeam[e]=Object(s.a)(this._getPendingIdsForTeam(e),r),this._refetchPendingObjects(e))}}},{key:"_getPendingIdsForTeam",value:function(e){return this._pendingIdsByTeam[e]||(this._pendingIdsByTeam[e]=[]),this._pendingIdsByTeam[e]}},{key:"_isEnabled",value:function(e){return!Object(y.a)()&&!Object(j.a)()&&this._isEnabledCallback(e)}},{key:"_maybeLogBatchSizeStat",value:function(e,t){if(S&&this._metricsName&&t&&t.length){var n=Object(f.getStateByTeamId)(e);Object(C.c)({state:n}).count("cfm_"+this._metricsName+"_fetch",t.length)}}},{key:"_updateAfterRefetch",value:function(e,t){this.markObjectsAsFresh(e,t);var n=T();this._pendingIdsByTeam[e]=Object(h.a)(this._getPendingIdsForTeam(e),Object(u.a)(this._objectFreshnessTTLs[e],function(e,t){return e>n?t:null}))}},{key:"_refetchPendingObjects",value:function(e){var t=this;if(this._isEnabled(e)&&!this._fetchPromiseByTeam[e]&&this._getPendingIdsForTeam(e).length){var n=(this._lastRefetchTimesByTeam[e]||0)+200,r=Math.max(0,n-Date.now());Object(O.a)({teamId:e}).debug(I,"Will re-fetch objects after "+r+" ms delay");var a=void 0,i=void 0;this._lastRefetchTimesByTeam[e]=Date.now(),this._fetchPromiseByTeam[e]=Promise.delay(r).then(function(){var n=Object(f.getStateByTeamId)(e);return a=Object(g.f)(n),i=t._getPendingIdsForTeam(e),t._pendingIdsByTeam[e]=[],i.length?(Object(O.a)({teamId:e}).debug(I,"Re-fetching ("+i.length+"): "+i),t._maybeLogBatchSizeStat(e,i),t._fetch(e,i).timeout(w).catch(l.a)):(Object(O.a)({teamId:e}).debug(I,"Nothing to fetch after delay after all"),Promise.resolve())}).finally(function(){delete t._fetchPromiseByTeam[e];var n=Object(f.getStateByTeamId)(e),r=Object(g.f)(n);r>1&&r!==a?(Object(O.a)({teamId:e}).debug(I,"Connection changed while re-fetching; need to re-fetch ids "+i),t._pendingIdsByTeam[e]=Object(s.a)(t._getPendingIdsForTeam(e),i),t._maybeResetState(e)):t._updateAfterRefetch(e,i),Object(f.dispatchForTeamId)(e,Object(v.d)()),Object(O.a)({teamId:e}).debug(I,"Re-fetch complete. Now pending: "+t._getPendingIdsForTeam(e).length),t._getPendingIdsForTeam(e).length&&t._refetchPendingObjects(e)})}}},{key:"_maybeResetState",value:function(e){if(this._isEnabled(e)){var t=Object(f.getStateByTeamId)(e);this._connectionCounts[e]||(this._connectionCounts[e]=1);var n=Math.max(Object(g.f)(t),1),r=this._connectionCounts[e];this._connectionCounts[e]=n,this._versions[e]||(this._versions[e]=Object(v.b)(t));var a=Object(v.b)(t),i=this._versions[e];this._versions[e]=a,r!==n?(Object(O.a)({teamId:e}).debug(I,"Connection count "+r+" -> "+n),this._objectFreshnessTTLs[e]={}):i!==a&&(Object(O.a)({teamId:e}).debug(I,"Version "+i+" -> "+a),this._objectFreshnessTTLs[e]={})}}},{key:"_getMaxAge",value:function(e,t){var n=Object(b.a)(this._maxAge)&&parseInt(this._maxAge(e,t),10);return Object(d.a)(n)?n:1/0}}],[{key:"startListening",value:function(){Object(k.a)()||document&&document.addEventListener("keypress",e.pauseRefetch,{passive:!0})}},{key:"pauseRefetch",value:function(){clearTimeout(e.refetchPaused),e.refetchPaused=setTimeout(function(){e.refetchPaused=0},2e3)}},{key:"isRefetchPaused",value:function(){return!!e.refetchPaused}}]),e}();R.refetchPaused=0,t.b=R},"c/L4":function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return g}),n.d(t,"i",function(){return _});var r=n("YEIV"),a=n.n(r),i=n("fujP"),o={vat:"vat",sales_tax:"sales_tax",abn:"abn",jct:"jct",qst:"qst"},s={monthly:"monthly",yearly:"yearly"},c=1,l=12,u={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"},enterprise:{id:"enterprise",name:"enterprise"}},d={CREDIT_CARD:"creditCard",INVOICE:"invoice"},b="plans",p="help/requests/new?accounts_pricing=1",h="checkout",m={PAID:"paid",FREE:"free"},f=function(e){var t=function(e){var t={};if(!Object(i.a)(e.tax)){var n=o.sales_tax;e.tax.tax_name?n=o[e.tax.tax_name.toLowerCase()]||o.sales_tax:e.tax.is_vat&&(n=o.vat),t={value:e.tax.sales_tax_amt,type:n}}return t}(e),n=e.credits?{currentCredits:e.credits.total_credits,creditsRemaining:e.credits.credits_remaining,creditsApplied:e.credits.credits_applied}:{},r=e.billable_users?{billableActiveUsers:e.billable_users.billable_active_users,inactiveUsers:e.billable_users.inactive_users,zeroActiveUsers:e.billable_users.zero_active_users}:{};return{activePlanCost:{id:e.product_id,subtotal:e.subtotal,billableUsers:r,tax:t,credits:n,totalRecurring:e.total_recurring,totalRecurringTax:e.recurring_tax_amt,totalDueToday:e.total_due_today,quotedTermEnd:e.quoted_term_end,paidSeats:e.paid_seats}}},v=function(e){var t="12m"===e.term?s.yearly:s.monthly,n="12m"===e.term?l:c;return{id:e.product_id,term:t,currency:e.currency,level:e.level,lengthOfTermInMonths:n,costPerMonth:e.cost_per_m,costPerTerm:e.cost_per_term,isInvoice:e.is_inv||!1,maxInvoiceSeats:e.max_invoice_seats,minInvoiceSeats:e.min_invoice_seats}},g=function(e){var t={};return Object.keys(e).forEach(function(n){var r,i,o,c,l,b=e[n];t[n]=(l={},a()(l,u.standard.id,(i={},a()(i,d.CREDIT_CARD,(r={},a()(r,s.monthly,v(b.std_m)),a()(r,s.yearly,v(b.std_y)),r)),a()(i,d.INVOICE,a()({},s.yearly,v(b.inv_std_y))),i)),a()(l,u.plus.id,(c={},a()(c,d.CREDIT_CARD,(o={},a()(o,s.monthly,v(b.plus_m)),a()(o,s.yearly,v(b.plus_y)),o)),a()(c,d.INVOICE,a()({},s.yearly,v(b.inv_plus_y))),c)),l)}),{availablePlans:t}},_=function(e,t,n,r){return[e,t.country,t.region,t.street,t.postalCode,t.isBusinessPurchase,n,r].join("-")}},c48M:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=[],a={}},c4EP:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("XHGt"),m=n("yHhI"),f=n("7WZX"),v=n("uf9I"),g=(p.b.number,p.b.element,p.b.string.isRequired,p.b.func.isRequired,function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){f.f[this.props.teamId]&&this.props.error("TOAST","ToastContainer already mounted -- should only be one instance at a time"),f.f[this.props.teamId]=!0}},{key:"componentWillUnmount",value:function(){delete f.f[this.props.teamId]}},{key:"render",value:function(){var e=this.props,t=e.toastKey,n=e.toastElement;return n?b.a.cloneElement(n,{key:t}):null}}]),t}(d.PureComponent));g.displayName="BaseToastContainer",g.defaultProps={toastKey:null,toastElement:null};t.a=Object(h.b)(function(e){var t=Object(m.a)({state:e});return{teamId:Object(v.b)(e),toastKey:Object(f.e)(e),toastElement:Object(f.d)(e),error:t.error}},null)(g)},c695:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("YEIV"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("ifKl"),g=n("kxpR"),_=n.n(g),O=n("aK/h"),y=n("TSYQ"),j=n.n(y),k=n("cD5Y"),E=n("vSXf"),C=n("+6YQ"),I=(n("JvK6"),O.b.bool,O.b.bool,O.b.oneOf(["primary","danger","outline","outline-primary","outline-danger"]),O.b.oneOf(["small","medium","large"]),O.b.node,O.b.func,O.b.func,O.b.bool,{disabled:!1,loading:!1,type:"primary",size:"medium",children:null,onMouseEnter:v.a,onMouseLeave:v.a,featureSkLoadingButtonMotions:!1}),w=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"renderSpinner",value:function(){var e,t=this.props,n=t.loading,r=t.size,a=t.featureSkLoadingButtonMotions;if(!a&&!n)return null;var i=a?j()("c-button-loading__spinner",(e={},c()(e,"c-button-loading__spinner--"+r,n),c()(e,"c-button--loading_spinner--hidden",!n),e)):"c-button-loading__spinner c-button-loading__spinner--"+r;return _.a.createElement(k.a,{className:i,size:"small"===r?"small":"medium",color:"blue",noMargin:!0})}},{key:"render",value:function(){var e=this.props,t=(e.featureSkLoadingButtonMotions,e.disabled),n=e.loading,r=e.children,i=o()(e,["featureSkLoadingButtonMotions","disabled","loading","children"]);return _.a.createElement(C.a,a()({disabled:t||n},i),r,this.renderSpinner())}}]),t}(g.PureComponent);w.displayName="LoadingButton",w.defaultProps=I,t.a=Object(E.a)("feature_sk_loading_button_motions")(w)},c72F:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n("QbLZ"),a=n.n(r),i=n("mM05"),o=n.n(i),s=n("GQZf"),c=n("DtX9"),l=n("pGee"),u=n("clTI"),d=n("Y+74"),b=n("Fdc0"),p=n("DQNL"),h=n("6kok"),m=n("TmhL"),f=n("G+bj"),v=n("ITcr"),g=s.a.SECTION,_=s.a.LIST,O=s.a.PREFORMATTED,y=s.a.QUOTE,j=s.a.TEXT,k=s.a.USER,E=s.a.USERGROUP,C=s.a.CHANNEL,I=s.a.BROADCAST,w=s.a.EMOJI,S=s.a.LINK,T=s.a.TEAM,R=s.a.DATE,N=s.a.COLOR,x=s.b.BULLET;function M(e,t){var n=Object(d.a)(e),r=new o.a;return Object(f.a)(t)?(t[0].elements.forEach(function(t){switch(t.type){case g:r=r.concat(P(e,t.elements,n));break;case y:(r=r.concat(P(e,t.elements,n,{blockquote:!0}))).insert("\n",{blockquote:!0});break;case O:(r=r.concat(P(e,t.elements,n,{"code-block":!0}))).insert("\n",{"code-block":!0});break;case _:r=r.concat(function(e,t,n){var r=new o.a,a=t.style===x?{list:"bullet"}:{list:"ordered"};t.indent&&(a.indent=t.indent);return t.elements.forEach(function(t){(r=r.concat(P(e,t.elements,n))).insert("\n",a)}),r}(e,t,n))}}),r):r}function P(e,t,n,r){var i=new o.a;return t.forEach(function(t){var o=void 0,s=void 0,d=void 0,f=void 0,g=void 0,_=void 0;switch(t.type){case j:if(r){o=t.text.split("\n");for(var O=0;O<o.length;O++)t.text&&i.insert(o[O],A(t.style)),O<o.length-1&&i.insert("\n",r)}else i.insert(t.text,A(t.style));break;case k:s=Object(c.c)(e,t.user_id),i.insert("@"+Object(b.w)(s),a()({slackmention:{id:s.id,label:"@"+Object(b.w)(s),mention:Object(m.a)(s.id,"@"+Object(b.w)(s),n)}},A(t.style)));break;case E:d=Object(l.e)(e,t.usergroup_id),i.insert(Object(p.f)(d),a()({slackmention:{id:d.id,label:Object(p.f)(d),mention:Object(m.a)(d.id,Object(p.f)(d),n)}},A(t.style)));break;case C:f=Object(u.d)(e,t.channel_id),i.insert("#"+Object(h.x)(e,f,{publicChannelIncludeHashSign:!1}),A(t.style));break;case I:g=Object(v.a)("BK"+t.range),i.insert("@"+Object(v.b)(g),a()({slackmention:{id:"BK"+t.range,label:"@"+Object(v.b)(g),mention:!0}},A(t.style)));break;case w:_=":"+t.name+":",t.skin_tone&&(_+=":skin-tone-"+t.skin_tone+":"),i.insert({slackemoji:{text:_}},a()({},A(t.style)));break;case S:i.insert(t.text||t.url,a()({link:t.url},A(t.style)));break;case N:i.insert(t.value,a()({},A(t.style)));break;case R:t.fallback&&i.insert(t.fallback,a()({},A(t.style)));break;case T:i.insert(t.team_id,a()({},A(t.style)))}}),i}function A(e){var t={};return e?(e.bold&&(t.bold=!0),e.italic&&(t.italic=!0),e.strike&&(t.strike=!0),e.code&&(t.code=!0),t):t}},c8iJ:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("gSGL"),g=n("ifKl"),_=n("kxpR"),O=n.n(_),y=n("aK/h"),j=n("TSYQ"),k=n.n(j),E=n("P9LH"),C=n("i7LB"),I=(n("apcF"),y.b.oneOf(["spin"]),y.b.string,y.b.oneOf([!0,"small","tiny"]),y.b.bool,y.b.func,y.b.func,y.b.oneOf([20,"inherit"]),y.b.string,{animation:null,className:null,file:null,inline:!1,onMouseEnter:g.a,onMouseLeave:g.a,size:20,type:null}),w=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e,t=this.props,n=t.animation,r=t.className,i=t.inline,s=t.file,l=t.size,u=c()(t,["animation","className","inline","file","size"]),d=this.props.type;d=d?d.replace(/_/g,"-"):null,s&&(d=Object(E.r)(d)||"file-"+d),"small"===s&&(d+="-small"),"tiny"===s&&(d+="-tiny");var b=k()("c-icon",r,(e={},o()(e,"c-icon--"+d,!!d),o()(e,"c-icon--"+l,20!==l),o()(e,"c-icon--inline",!!i),o()(e,"c-icon--filetype",!!s),o()(e,"c-icon--filetype-"+s,Object(v.a)(s)),o()(e,"c-icon--"+n,!!n),e));return O.a.createElement("i",a()({className:b},Object(C.a)(u),{"aria-hidden":"true"}))}}]),t}(_.PureComponent);w.displayName="Icon",w.defaultProps=I,t.a=w},cD5Y:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("aK/h"),u=n("kxpR"),d=n.n(u),b=n("TSYQ"),p=n.n(b),h=n("MnCE");n("rg/R"),l.b.oneOf(["small","medium","large","jumbo"]),l.b.oneOf(["fast"]),l.b.oneOf(["white","blue","button-white"]),l.b.string,l.b.bool,l.b.bool;function m(e){var t,n=e.size,r=e.speed,i=e.color,s=e.className,l=e.noMargin,u=e.inline,b=c()(e,["size","speed","color","className","noMargin","inline"]),h=p()("c-infinite_spinner",s,(t={},o()(t,"c-infinite_spinner--"+n,!!n),o()(t,"c-infinite_spinner--"+r,!!r),o()(t,"c-infinite_spinner--"+i,!!i),o()(t,"c-infinite_spinner--inline",u),t));return d.a.createElement("div",a()({className:h},b),d.a.createElement("svg",{className:"c-infinite_spinner__spinner",viewBox:l?"0 0 78 78":"0 0 100 100"},d.a.createElement("circle",{className:"c-infinite_spinner__bg",cx:"50%",cy:"50%",r:"35"}),d.a.createElement("circle",{className:"c-infinite_spinner__path",cx:"50%",cy:"50%",r:"35"})),d.a.createElement("svg",{className:"c-infinite_spinner__spinner c-infinite_spinner__tail",viewBox:l?"0 0 78 78":"0 0 100 100"},d.a.createElement("circle",{className:"c-infinite_spinner__path",cx:"50%",cy:"50%",r:"35"})))}m.displayName="InfiniteSpinner",m.defaultProps={size:"jumbo",speed:null,color:"blue",className:null,noMargin:!1,inline:!1},t.a=Object(h.a)(m)},cHUH:function(e,t,n){},cLE1:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return E});var r,a=n("YEIV"),i=n.n(a),o=n("m1cH"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("BeL+"),d=n("m8R6"),b=n("OZf9"),p=n("8Cw3"),h=n("aK/h"),m=n("EzZj"),f=n("MNvw"),v=n("yPgC"),g=n("DecA"),_=Object(m.b)("Add app actions to store");_.propTypes=h.b.arrayOf(v.a.maybeUnknown(v.a.AppAction)).isRequired;var O=Object(m.b)("Remove app actions for apps");O.propTypes=h.b.arrayOf(h.b.string).isRequired;var y=Object(m.b)("Remove all app actions");y.propTypes=null;var j=Object(m.b)("Increment action run count");j.propTypes=null;var k={actions:h.b.objectOf(v.a.maybeUnknown(v.a.AppAction)).isRequired,actionIdsByAppId:h.b.objectOf(h.b.arrayOf(h.b.string)).isRequired,isLoaded:h.b.bool.isRequired,fetchFailed:h.b.bool.isRequired,runCount:h.b.number.isRequired},E={actions:{},actionIdsByAppId:{},isLoaded:!1,fetchFailed:!1,runCount:0},C=Object(f.b)((r={},i()(r,_,function(e,t){if(t){if(!t.length)return l()({},e,{isLoaded:!0,fetchFailed:!1});var n={},r={};return Object(b.a)(t,function(t){var a=t.id,i=t.appId;n[a]=t,r[i]=r[i]||e.actionIdsByAppId[i]||[],r[i].push(a)}),Object(b.a)(r,function(e,t){r[t]=Object(u.a)(r[t])}),l()({},e,{actions:l()({},e.actions,n),actionIdsByAppId:l()({},e.actionIdsByAppId,r),isLoaded:!0,fetchFailed:!1})}return e}),i()(r,O,function(e,t){if(t&&t.length){var n=[];return Object(b.a)(t,function(t){var r=e.actionIdsByAppId[t]||[];n.push.apply(n,s()(r))}),l()({},e,{actions:Object(d.a)(e.actions,n),actionIdsByAppId:Object(d.a)(e.actionIdsByAppId,t)})}return e}),i()(r,y,function(e){return l()({},e,{actions:{},actionIdsByAppId:{}})}),i()(r,j,function(e){return l()({},e,{runCount:e.runCount+1})}),r),E,{persistenceEnabled:!0});C.propTypes=k,t.b=Object(p.a)({deprecated:g.a,refactored:C})},cMxN:function(e,t,n){"use strict";var r=n("vakV");n.d(t,"a",function(){return r.a});var a=n("ohM/");n.d(t,"b",function(){return a.a});r.a},cRTT:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("Muja"),h=n("kxpR"),m=n.n(h),f=n("aK/h");function v(e){f.b.func,f.b.func.isRequired,f.b.array,f.b.object;var t={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0},n=function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.setSelectState=t.setSelectState.bind(t),t.selectedOptions=e.selectedOptions,t.selectedOption=e.selectedOption,t}return b()(n,t),c()(n,[{key:"setSelectState",value:function(e,t){var n=this,r=e();r.selectedOptions&&!Object(p.a)(r.selectedOptions,this.selectedOptions)||r.selectedOption&&r.selectedOption!==this.selectedOption?(this.props.setSelectState(function(){return{isExpanded:!1}}),this.props.showConfirmDialog({onGo:function(){return n.props.setSelectState(e,t)}})):this.props.setSelectState(e,t),this.selectedOptions=r.selectedOptions||this.selectedOptions,this.selectedOption=r.selectedOption||this.selectedOption}},{key:"render",value:function(){var t=this.props.showConfirmDialog?this.setSelectState:this.props.setSelectState;return m.a.createElement(e,a()({},this.props,{setSelectState:t}))}}]),n}(h.Component);return n.displayName="ConfirmSelectWrapper",n.defaultProps=t,n}},cTBa:function(e,t,n){"use strict";n.d(t,"a",function(){return G});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("YEIV"),c=n.n(s),l=n("m1cH"),u=n.n(l),d=n("iCc5"),b=n.n(d),p=n("V7oC"),h=n.n(p),m=n("FYw3"),f=n.n(m),v=n("mRg0"),g=n.n(v),_=n("TGBA"),O=n("ifKl"),y=n("3Hq1"),j=n("fujP"),k=n("7EGn"),E=n("HiDb"),C=n("CpTu"),I=n("Z0Cl"),w=n("aK/h"),S=n("kxpR"),T=n.n(S),R=n("TSYQ"),N=n.n(R),x=n("tn36"),M=n("YH8F"),P=n("RbWr"),A=n("rWF5"),D=n("nNoG"),L=n("sJy+"),q=n("RMmo"),F=n("od5y"),B=n("dI1W"),U=n("e4Fz"),H=n("HL/o"),K=n("sKU9"),G=(n("MbVY"),{default:"default",short:"short",large:"large"}),V=new D.b("form"),z={autoSelectFirstOption:w.b.bool,className:w.b.string,customGetOptionsListEmptyMessage:w.b.func,customRenderSelectedOption:w.b.func,"data-qa":w.b.string,errorId:w.b.string,errorLevel:w.b.oneOf(Object(_.a)(L.b)),errorText:w.b.string,errorType:w.b.oneOf(Object(_.a)(L.c)),hintText:w.b.string,hintId:w.b.string,icon:w.b.string,id:w.b.string,isAlwaysOpen:w.b.bool,isDisabled:w.b.bool,isLoading:w.b.bool,isRequired:w.b.bool,focusInputOnMount:w.b.bool,labelId:w.b.string,maxOptionsListHeight:w.b.number,name:w.b.string,onActiveOptionUpdated:w.b.func,onBlur:w.b.func,onChange:w.b.func,onClose:w.b.func,onFilterInputChange:w.b.func,onOutsideClick:w.b.func,onFocus:w.b.func,onOpen:w.b.func,onScroll:w.b.func,optionClassName:w.b.string,optionGroups:w.b.array,options:w.b.array,optionsListAriaLabel:w.b.string,optionsListClassName:w.b.string,optionsListOffsetBottom:w.b.number,optionsListOffsetTop:w.b.number,optionsListWidth:w.b.number,optionsRowHeight:w.b.number,pillarClassName:w.b.string,placeholder:w.b.node,placeholderText:w.b.string,selectedOption:w.b.object,selectedOptionClassName:w.b.string,selectedValueClassName:w.b.string,size:w.b.string,type:w.b.oneOf(Object(_.a)(G)),useFilteredInput:w.b.bool,useFullWidthOptions:w.b.bool,usePlaceholderOption:w.b.bool,wrapperClassName:w.b.string,value:w.b.string,"aria-label":w.b.string},Y={className:null,customGetOptionsListEmptyMessage:void 0,customRenderSelectedOption:O.a,"data-qa":"select",errorId:null,errorLevel:L.b.error,errorText:null,errorType:L.c.nestedBox,hintText:null,hintId:null,icon:null,id:"select-"+Object(U.d)(),isAlwaysOpen:!1,isDisabled:!1,isLoading:!1,isRequired:!1,focusInputOnMount:!1,labelId:null,maxOptionsListHeight:void 0,name:null,onActiveOptionUpdated:O.a,onBlur:O.a,onChange:O.a,onClose:O.a,onFilterInputChange:O.a,onFocus:O.a,onOutsideClick:O.a,onOpen:O.a,optionClassName:void 0,optionGroups:void 0,options:void 0,pillarClassName:void 0,optionsListOffsetBottom:0,optionsListOffsetTop:0,optionsListWidth:void 0,placeholder:void 0,placeholderText:"",selectedOption:void 0,selectedOptionClassName:void 0,selectedValueClassName:void 0,size:void 0,type:G.default,useFilteredInput:!0,usePlaceholderOption:!0,wrapperClassName:null,value:"","aria-label":"Filter for option list"},W=function(e){function t(e){if(b()(this,t),!e.optionGroups&&!e.options)throw new Error('Select requires an "optionGroups" or "options" prop.');var n=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.id,a=Object(k.a)(n.props,"errorId",Object(U.a)(r,"error")),i=Object(k.a)(n.props,"hintId",Object(U.a)(r,"hint"));return n.preventFocusAndBlur=!1,n.state={activeOption:null,errorId:a,filterQuery:"",hintId:i,isOpen:!1,isFocused:!1},Object(x.a)(n,["filterOption","onActiveOptionUpdated","onBlurred","onClicked","onFilterInputChanged","onFocused","onKeyPressedEnter","onKeyPressedBackspace","onKeyPressedEsc","onKeyPressedShiftTab","onKeyPressedTab","onKeyPressedUpOrDown","onOptionSelected","onOutsideClicked","onWrapperMouseDown","onWrapperMouseUp","setRef","setActiveOption","getPlaceholder"]),n}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.initKeyCommands(),this.props.isAlwaysOpen&&this.setState(function(){return{isOpen:!0}}),this.props.focusInputOnMount&&this.filterInput&&this.filterInput.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState(function(n){return{isOpen:n.isOpen&&!e.isDisabled||t.props.isAlwaysOpen}})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.isAlwaysOpen,a=n.onClose,i=n.onOpen;this.state.isOpen||r?(document.addEventListener("click",this.onOutsideClicked),t.isOpen||r||(this.filterInput&&this.filterInput.focus(),i(this.filterInput))):(document.removeEventListener("click",this.onOutsideClicked),t.isOpen&&a())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onOutsideClicked),this.resetKeyCommads()}},{key:"onBlurred",value:function(e){this.preventFocusAndBlur||this.props.onBlur(e),this.setState(function(){return{isFocused:!1}})}},{key:"onClicked",value:function(e){var t=this.props.isDisabled,n=e.target===this.filterInput&&!!this.getFilterQuery();t||n||this.toggleOpenState()}},{key:"onFilterInputChanged",value:function(e){var t=e.target?e.target.value:this.filterInput.value;this.state.isOpen||this.toggleOpenState(!0),this.isControlledByParent()?(this.props.onFilterInputChange(t),this.props.options&&0===this.props.options.length&&this.forceUpdate()):this.setState(function(){return{filterQuery:t}})}},{key:"onFocused",value:function(e){this.preventFocusAndBlur||(this.toggleOpenState(!0),this.props.onFocus(e)),this.setState(function(){return{isFocused:!0}})}},{key:"onKeyPressedEsc",value:function(e){this.state.isOpen&&!this.props.isAlwaysOpen&&(this.toggleOpenState(!1),this.focus(),e.stopPropagation())}},{key:"onKeyPressedUpOrDown",value:function(e){e.preventDefault(),this.state.isOpen||(this.toggleOpenState(!0),e.stopPropagation())}},{key:"onKeyPressedTab",value:function(){this.state.isOpen&&this.toggleOpenState(!1)}},{key:"onKeyPressedShiftTab",value:function(){this.state.isOpen&&this.toggleOpenState(!1)}},{key:"onKeyPressedEnter",value:function(e){this.state.isOpen?e.preventDefault():(this.toggleOpenState(!0),e.stopPropagation())}},{key:"onKeyPressedBackspace",value:function(e){this.state.isOpen||(this.isControlledByParent()&&this.filterInput&&(this.filterInput.value=""),this.setState(function(){return{filterQuery:""}}),this.toggleOpenState(!0),e.stopPropagation())}},{key:"onOptionSelected",value:function(e,t){var n=e.value,r=e.label,a=t&&"click"===t.type,i=t&&"keydown"===t.type;this.toggleOpenState(!1),(this.state.isFocused||a||i)&&this.props.onChange(n,r,t),this.focus()}},{key:"onActiveOptionUpdated",value:function(e){if(e&&"option"===e.type){var t=e?e.option.value:null;this.setActiveOption(t),t&&this.props.onActiveOptionUpdated(t)}}},{key:"onOutsideClicked",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&(this.toggleOpenState(!1),this.props.onOutsideClick())}},{key:"onWrapperMouseDown",value:function(){this.preventFocusAndBlur=!0}},{key:"onWrapperMouseUp",value:function(){this.preventFocusAndBlur=!1}},{key:"getPlaceholder",value:function(){return this.props.placeholder||V.t("Choose an option\u2026")}},{key:"setActiveOption",value:function(e){var t=this;setTimeout(function(){t.setState(function(){return{activeOption:e}})},0)}},{key:"getAriaLabelledBy",value:function(){var e=this.props,t=e.errorText,n=e.labelId;return t?n+" "+this.state.errorId:n}},{key:"getFilteredOptionGroups",value:function(){var e=this,t=this.props,n=t.optionGroups,r=t.usePlaceholderOption,a=this.getFilterQuery();return n?a&&!this.isControlledByParent()?n.reduce(function(t,n){var r=n.label,a=n.options,i=Object(I.a)(a,e.filterOption);return Object(j.a)(i)?t:[].concat(u()(t),[{label:r,options:i}])},[]):!a&&r?[this.getPlaceholderOptionGroup()].concat(u()(n)):n:null}},{key:"getFilteredOptions",value:function(){var e=this.props,t=e.options,n=e.usePlaceholderOption,r=this.getFilterQuery();return t?r&&!this.isControlledByParent()?Object(I.a)(t,this.filterOption):!r&&n?[this.getPlaceholderOption()].concat(u()(t)):t:null}},{key:"getFilterQuery",value:function(){return this.isControlledByParent()?Object(k.a)(this,"filterInput.value",""):this.state.filterQuery}},{key:"getOptionsListEmptyMessage",value:function(){var e=this.getFilterQuery(),t=this.props.customGetOptionsListEmptyMessage;return t?t(e):e?V.rt("No items matched <strong>{filterQuery}</strong>",{filterQuery:e},function(e){var t=e.text,n=e.key;return T.a.createElement("strong",{key:n},t)}):V.t("No items")}},{key:"getOptionsListTargetMeasurements",value:function(){var e=this.props,t=e.optionsListOffsetBottom,n=e.optionsListOffsetTop,r=e.optionsListWidth,a=this.select.getBoundingClientRect(),i=this.select.offsetTop-Object(M.a)(this.select,this.select.offsetParent),o=this.select.offsetLeft,s=this.select.offsetParent.clientHeight-i,c=i+a.height;return{bottom:a.bottom,offsetBottom:t,offsetTop:n,relativeBottom:c,relativeLeft:o,relativeTop:s,top:a.top,width:r||a.width}}},{key:"getPlaceholderOption",value:function(){return{isPlaceholder:!0,label:this.getPlaceholder(),value:""}}},{key:"getPlaceholderOptionGroup",value:function(){return{isPlaceholder:!0,options:[this.getPlaceholderOption()]}}},{key:"getSelectedOption",value:function(){var e=this.props,t=e.optionGroups,n=e.options,r=e.selectedOption,a=e.value;if(r)return r.value?r:null;var i=t?Object(E.a)(t,"options"):n;return Object(C.a)(i,{value:a})}},{key:"setRef",value:function(e){var t=this;return function(n){t[e]=n}}},{key:"focus",value:function(){this.preventFocusAndBlur=!0,this.select&&this.select.focus(),this.preventFocusAndBlur=!1}},{key:"focusSelectInput",value:function(){this.filterInput&&(this.preventFocusAndBlur=!0,this.filterInput.focus(),this.preventFocusAndBlur=!1)}},{key:"filterOption",value:function(e){var t=void 0;if("string"==typeof e.label)t=e.label;else{if("string"!=typeof e.labelText)return!0;t=e.labelText}var n=t.toLowerCase(),r=this.getFilterQuery().toLowerCase();return-1!==n.indexOf(r)}},{key:"initKeyCommands",value:function(){this.keyCommands=new q.a(this.select),this.keyCommands.bindAll([{keys:["esc"],handler:this.onKeyPressedEsc},{keys:["up","down"],handler:this.onKeyPressedUpOrDown},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab},{keys:["enter"],handler:this.onKeyPressedEnter},{keys:["backspace"],handler:this.onKeyPressedBackspace}])}},{key:"resetKeyCommads",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"toggleOpenState",value:function(e){var t=this;this.props.isAlwaysOpen||this.setState(function(n){var r={isOpen:Object(y.a)(e)?!n.isOpen:e};return r.isOpen||(t.isControlledByParent()&&t.filterInput&&(t.filterInput.value=""),r.filterQuery=""),r})}},{key:"isControlledByParent",value:function(){return this.props.onFilterInputChange!==O.a}},{key:"renderErrorMaybe",value:function(){var e=this.props,t=e.errorLevel,n=e.errorText,r=e.errorType;return n?T.a.createElement(L.d,{id:this.state.errorId,level:t,type:r,className:"c-alert--error margin_bottom_100"},n):null}},{key:"renderHintMaybe",value:function(){var e=this.props.hintText;return e?T.a.createElement(B.a,{id:this.state.hintId},e):null}},{key:"renderOptionsListMaybe",value:function(){if(!this.state.isOpen)return null;var e=this.props,t=e.autoSelectFirstOption,n=e["data-qa"],r=e.id,a=e.isAlwaysOpen,i=e.isLoading,o=e.maxOptionsListHeight,s=e.optionClassName,c=e.optionsRowHeight,l=e.pillarClassName,u=e.selectedOptionClassName,d=e.useFullWidthOptions,b=e.value,p=e.onScroll,h=e.optionsListAriaLabel;return T.a.createElement(K.a,{autoSelectFirstOption:t,"data-qa":n,"aria-label":h,emptyStateMessage:this.getOptionsListEmptyMessage(),isLoading:i,isAlwaysOpen:a,maxListHeight:o,pillarClassName:l,onOptionSelected:this.onOptionSelected,onActiveOptionUpdated:this.onActiveOptionUpdated,optionClassName:s,onScroll:p,optionGroups:this.getFilteredOptionGroups(),options:this.getFilteredOptions(),optionsRowHeight:c,selectId:r,selectedOptionClassName:u,targetMeasurements:this.getOptionsListTargetMeasurements(),useFullWidthOptions:d,value:b})}},{key:"renderFilterInput",value:function(){var e=this.props,t=e["data-qa"],n=e["aria-label"],r=e.errorText,a=e.icon,i=e.id,o=e.isDisabled,s=e.isRequired,c=e.useFilteredInput,l=this.getSelectedOption(),u=!this.state.isOpen&&l||!c,d=N()("c-input_select__filter_input",{offscreen:u}),b=!this.state.isOpen&&l||"string"!=typeof this.getPlaceholder()?this.props.placeholderText:this.getPlaceholder();return T.a.createElement(T.a.Fragment,null,a?T.a.createElement(F.a,{type:a,className:"c-input_select__icon"}):null,T.a.createElement("input",{role:c?"combobox":"button",type:c?"text":"button","aria-activedescendant":Object(U.a)(i,this.state.activeOption),"aria-autocomplete":"list","aria-describedby":this.state.hintId,"aria-expanded":this.state.isOpen,"aria-invalid":r?"true":"false","aria-label":n,"aria-labelledby":this.getAriaLabelledBy(),"aria-owns":Object(U.a)(i,"listbox"),"aria-required":s,disabled:o,className:d,"data-qa":t+"_input",onBlur:this.onBlurred,onChange:c?this.onFilterInputChanged:O.a,onClick:this.onClicked,onFocus:this.onFocused,placeholder:b,ref:this.setRef("filterInput")}))}},{key:"renderSelectedOption",value:function(){var e,t=this.props,n=t.selectedValueClassName,r=t["data-qa"],a=this.getSelectedOption(),i=Object(k.a)(a,"label",this.getPlaceholder()),o=Object(S.isValidElement)(i)?i:Object(H.a)(i,{className:"c-input_select__selected_value_mrkdwn"}),s=N()("c-input_select__selected_value",(e={"c-input_select__selected_value--placeholder":!a},c()(e,n,n&&!!a),c()(e,"c-input_select__selected_value--active",this.state.isFocused&&!this.state.activeOption),e));return T.a.createElement("div",{className:s,ref:this.setRef("selectedOption"),role:"presentation",onClick:this.onClicked,"data-qa":r+"_selected_option"},o)}},{key:"renderSelectedOptionOrFilterInput",value:function(){var e=this.props,t=e.customRenderSelectedOption,n=e.useFilteredInput,r=this.getSelectedOption();return!n||!this.state.isOpen&&r?t!==O.a?t(r):this.renderSelectedOption():null}},{key:"render",value:function(){var e,t,n=this.props,r=(n.autoSelectFirstOption,n.className),i=(n.customGetOptionsListEmptyMessage,n.customRenderSelectedOption,n.errorId,n.errorLevel),s=n.errorText,l=(n.errorType,n.hintId,n.hintText),u=n.icon,d=n.id,b=n.isAlwaysOpen,p=n.isDisabled,h=(n.isLoading,n.isRequired,n.focusInputOnMount,n.labelId,n.maxOptionsListHeight,n.name),m=(n.onActiveOptionUpdated,n.onChange,n.onClose,n.onFilterInputChange,n.onOutsideClick,n.onOpen,n.onScroll,n.optionClassName,n.options,n.optionsListAriaLabel,n.optionsListOffsetBottom,n.optionsListOffsetTop,n.optionsListWidth,n.optionsRowHeight,n.optionGroups,n.pillarClassName),f=(n.placeholder,n.placeholderText,n.selectedOption,n.selectedOptionClassName,n.selectedValueClassName,n.size),v=n.type,g=n.useFilteredInput,_=(n.useFullWidthOptions,n.usePlaceholderOption,n.wrapperClassName),O=(n.logSelectElementMenuOpen,o()(n,["autoSelectFirstOption","className","customGetOptionsListEmptyMessage","customRenderSelectedOption","errorId","errorLevel","errorText","errorType","hintId","hintText","icon","id","isAlwaysOpen","isDisabled","isLoading","isRequired","focusInputOnMount","labelId","maxOptionsListHeight","name","onActiveOptionUpdated","onChange","onClose","onFilterInputChange","onOutsideClick","onOpen","onScroll","optionClassName","options","optionsListAriaLabel","optionsListOffsetBottom","optionsListOffsetTop","optionsListWidth","optionsRowHeight","optionGroups","pillarClassName","placeholder","placeholderText","selectedOption","selectedOptionClassName","selectedValueClassName","size","type","useFilteredInput","useFullWidthOptions","usePlaceholderOption","wrapperClassName","logSelectElementMenuOpen"])),y=N()("c-input_select__wrapper",_,(e={"c-input_select--open_panel":b},c()(e,m+"_select__wrapper",!!m),c()(e,m+"_select--open_panel",!!m&&b),e)),j=N()("c-input_select",(t={"c-input_select--active":this.state.isOpen||this.state.isFocused,"c-input_select--always-open":b,"c-input_select--sans-filter":!g,"c-input_select--short":"short"===v,"c-input_select--large":"large"===v},c()(t,"c-input_select--with_"+i,s),c()(t,"c-input_select--with_hint",l),c()(t,"c-input_select--with_icon",u),c()(t,"c-input_select--small","small"===f),c()(t,m+"_select",!!m),c()(t,m+"_select--active",!!m&&this.state.isOpen),c()(t,m+"_select--always-open",!!m&&b),c()(t,m+"_select--sans-filter",!!m&&!g),c()(t,m+"_select--short",!!m&&"short"===v),c()(t,m+"_select--large",!!m&&"large"===v),c()(t,m+"_select--with_"+i,!!m&&s),c()(t,m+"_select--with_hint",!!m&&l),c()(t,m+"_select--with_icon",!!m&&u),c()(t,m+"_select--small",!!m&&"small"===f),t),r),k={onMouseDown:this.onWrapperMouseDown,onMouseUp:this.onWrapperMouseUp};return window.FastClick&&Object(A.z)()&&(k={onTouchStart:this.onWrapperMouseDown,onTouchEnd:this.onWrapperMouseUp}),T.a.createElement("div",a()({className:y},k,{ref:this.setRef("wrapper"),role:"group"}),T.a.createElement("div",a()({},O,{className:j,"data-name":h,disabled:p,id:d,ref:this.setRef("select"),role:"presentation"}),this.renderFilterInput(),this.renderSelectedOptionOrFilterInput(),!b&&T.a.createElement("div",{className:"c-input_select__chevron c-deprecated-icon c-icon--chevron-down",onClick:this.onClicked})),this.renderOptionsListMaybe(),this.renderErrorMaybe(),this.renderHintMaybe())}}]),t}(P.a);W.displayName="Select",W.propTypes=z,W.defaultProps=Y,t.b=W},cTgs:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jeQL"),o=n("NFsq"),s=n("aK/h"),c=n("XfeM"),l=n("OIOV"),u=n("hAjP"),d=n("v8Qo"),b=n("clTI"),p=n("HO/Y"),h=n("+1yX"),m=n("FHcd"),f=n("Smdl"),v=n("6kok"),g=n("sDWr"),_=n("+Sjy"),O=n("GdsW"),y=n("s19S"),j=n("5tH5"),k=n("kLJo"),E=n("uf9I"),C=n("GNdI"),I=n("lhZz"),w=n("KXvl"),S=n("hjTk"),T=n("pRVB"),R=n("ZQFR"),N=n("aW/o"),x=n("IY6O"),M=n("iTOt"),P=Object(c.b)("Sets the primary view of a workspace to a conversation or synthetic view",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,s=n.startTs,c=n.teamId,P=void 0===c?Object(C.a)():c,A=n.cancelUnsavedEdits,D=void 0!==A&&A,L=n.fromHistory,q=void 0!==L&&L,F=n.replaceHistoryState,B=void 0!==F&&F,U=n.fromLegacy,H=void 0!==U&&U;if(!(Object(h.a)(r)||Object(m.a)(r)||Object(o.a)(j.a,r)||Object(p.j)(t(),"feature_pages")&&Object(_.e)(t(),r)))return Promise.reject(new Error("invalid-params"));y.d&&Object(y.d)("setPrimaryView",{id:r,fromLegacy:H});var K=t(),G=Object(N.a)(K);if(r===G&&(!Object(f.a)()||P===Object(E.b)(K)))return Promise.resolve();if(Object(f.a)()){if(!Object(w.b)()&&P!==Object(E.b)(K)){var V=Object(k.i)(g.a,{entityId:j.b[r]||r,teamId:P}),z=Object(I.getClientStoreInstance)().getState(),Y=Object(x.getWorkspacesMeta)(z),W=Y&&Y[P]&&Y[P].subdomain,Q=Object(w.a)(W);return Object(S.a)(V,Q),Promise.resolve()}var X=Object(I.getStoreInstanceByTeamId)(P).getState(),Z=Object(M.b)(X)||g.a,J=X&&Object(p.j)(X,"feature_pages")&&Object(_.e)(X,r)&&Object(_.b)(r).path,$=Object(i.a)(a()({},Object(M.c)(X),{teamId:P,entityId:J||j.b[r]||r,timestamp:s}),function(e){return void 0===e});return Object(k.g)(Z,$).then(function(e){return e||Promise.reject(new Error("setPrimaryView: navigateToRoute did not navigate"))})}if(Object(h.a)(r)&&!Object(b.u)(K,r))return Promise.reject(new Error("unknown-channel"));var ee=Object(b.d)(K,r,!1);if(Object(v.ab)(ee))return Promise.reject(new Error("from-another-team"));var te=G?e(Object(u.a)({channelId:G,cancelUnsavedEdits:D||H,scroll:!0})):Promise.resolve(),ne=function(){if(Object(m.a)(r))return Object(O.e)(r,{from_history:q,replace_history_state:B});if(e(Object(l.a)({channelId:Object(h.a)(r)?r:null,startTs:s})),e(Object(d.d)({viewId:r})),["channel_page","group_page","im_page"].includes(Object(T.c)(K))&&e(Object(R.b)({flexOrigin:null})),e(Object(R.e)({id:r})),Object(h.a)(G)&&Object(O.h)(G),H)return Promise.resolve();if(Object(o.a)(j.a,r)){return Object(y.n)(r,!0)?Promise.resolve():Promise.reject(new Error("display-view"))}return Object(p.j)(K,"feature_pages")&&Object(_.e)(K,r)?(Object(y.o)(r,q,B),Promise.resolve()):Object(O.e)(r,{from_history:q,replace_history_state:B,last_active_primary_view:G})};return G&&!H?te.then(ne):Promise.resolve(ne())});P.propTypes={id:s.b.string.isRequired,startTs:s.b.string,cancelUnsavedEdits:s.b.bool,fromHistory:s.b.bool,replaceHistoryState:s.b.bool},t.a=P},cebH:function(e,t,n){},cgI0:function(e,t,n){},ciUk:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("MnCE"),s=n("XHGt"),c=n("TSYQ"),l=n.n(c),u=n("D4L/"),d=n("5mKg"),b=n("derf"),p=n("46+D");r.b.string,r.b.object.isRequired;function h(e){var t=e.team,n=e.fallback;if(Object(d.L)(t)||Object(d.t)(t)&&!n)return i.a.createElement(p.a,{type:Object(d.t)(t)?"non-existent":"unknown"});var r=!Object(d.t)(t),a=void 0;r&&(a=i.a.createElement(b.b,{className:"c-mrkdwn__team_command__icon",id:t.id,size:20}));var o=l()("c-mrkdwn__team_command",{"c-mrkdwn__team_command--named":r}),s=Object(d.e)(t,{fallback:n});return i.a.createElement("span",{className:o},a,i.a.createElement("span",{className:"c-mrkdwn__team_command__name"},s))}h.displayName="TeamCommand",h.defaultProps={fallback:null};Object(o.a)(h);t.a=Object(s.b)(function(e,t){var n=t.id;return{team:Object(u.i)(e,n)}})(h)},clNh:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return b});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Set whether the current user is in Creator onboarding.");i.propTypes=r.b.bool.isRequired;var o=Object(a.b)("Set whether the current user is in Joiner onboarding.");o.propTypes=r.b.bool.isRequired;var s=Object(a.b)("Set the onboarding channel ID");s.propTypes=r.b.string.isRequired;var c=Object(a.b)("Set the user is no longer in onboarding");c.propTypes=null;var l=Object(a.b)("Set the model to use in joiner onboarding welcome step.");l.propTypes=r.b.object.isRequired;var u=Object(a.b)("Set the visibility of Tractor coachmark for sending a message");u.propTypes=r.b.bool.isRequired;var d=Object(a.b)("Set the visibility of Tractor coachmark for sharing a file");d.propTypes=r.b.bool.isRequired;var b=Object(a.b)("Set the visibility of Joiner Landing Place coachmark");b.propTypes=r.b.bool.isRequired},clTI:function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return A}),n.d(t,"p",function(){return D}),n.d(t,"o",function(){return L}),n.d(t,"n",function(){return q}),n.d(t,"l",function(){return F}),n.d(t,"t",function(){return B}),n.d(t,"u",function(){return U}),n.d(t,"r",function(){return G}),n.d(t,"d",function(){return V}),n.d(t,"q",function(){return z}),n.d(t,"f",function(){return Y}),n.d(t,"s",function(){return W}),n.d(t,"g",function(){return Q}),n.d(t,"c",function(){return X}),n.d(t,"w",function(){return $}),n.d(t,"v",function(){return ee}),n.d(t,"h",function(){return te}),n.d(t,"e",function(){return ae}),n.d(t,"k",function(){return ie}),n.d(t,"j",function(){return oe}),n.d(t,"m",function(){return se}),n.d(t,"i",function(){return ce});var r=n("m1cH"),a=n.n(r),i=n("NFsq"),o=n("CpTu"),s=n("fujP"),c=n("HKE1"),l=n("1myf"),u=n("OZf9"),d=n("Z0Cl"),b=n("oTSI"),p=n("Wy5O"),h=n("vFlG"),m=n("6kok"),f=n("Fdc0"),v=n("DtX9"),g=n("1zbP"),_=n("MhQa"),O=n("1czH"),y=n("HO/Y"),j=n("U/ze"),k=n("uf9I"),E=n("wfE8"),C=n("lhZz"),I=n("+1yX"),w=n("aW/o"),S=n("tP3m"),T=n("0NgK"),R=n("5tH5"),N=n("0u40"),x=n("CJqQ"),M=n("59Je"),P=Object(j.b)(function(e){return Object(_.e)(e)}),A=Object(j.b)(function(e){return e&&e.channels}),D=Object(j.b)(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeFromAnotherTeam,n=void 0!==t&&t,r=Object.values(A(e)||{});return n?r.filter(m.yb):r.filter(function(e){return Object(m.yb)(e)&&!Object(m.ab)(e)})}),L=Object(j.b)(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeFromAnotherTeam,n=void 0!==t&&t,r=Object.values(A(e)||{});return n?r.filter(m.xb):r.filter(function(e){return Object(m.xb)(e)&&!Object(m.ab)(e)})}),q=Object(j.b)(function(e){return Object.values(A(e)||{}).filter(m.lb)}),F=Object(j.b)(function(e){return Object.values(A(e)||{}).filter(m.eb)}),B=Object(j.b)(function(e,t){return Object(h.a)(e,["channels",t])}),U=Object(j.b)(function(e,t){if(!e||!t)return!1;var n=A(e);return Object(m.X)(n&&n[t])});function H(e,t){var n=Object(C.dispatchForTeamId)(e,Object(x.b)({channels:t}));Object(O.b)(n)}var K=Object(b.a)(function(){return new g.a({fetch:function(e,t){return function(e,t,n){if(!n)throw new Error("fetchChannelsForTeamId requires a reason");var r=Object(C.getStateByTeamId)(e),a=A(r),i=t.filter(function(t){return a&&a[t]&&!Object(m.Jb)(a[t])&&Object(N.b)(e,t)}),o=Object(p.a)(t,i);return Object(C.dispatchForTeamId)(e,Object(E.j)({ids:o,reason:n})).catch(function(){return{channels:[]}}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channels;r=Object(C.getStateByTeamId)(e),a=A(r);var n=i.map(function(e){return a&&a[e]});return t.concat(n)})}(e,t,"UnknownFetchManager")},metricsName:"channels",upsertKnown:H,upsertNonExistent:H})}),G=Object(j.b)(function(e,t){var n=A(e);return n&&n[t]}),V=Object(j.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=A(e),a=r&&r[t];if(!Object(I.a)(t))return null;var i=Object(k.b)(e);return a?(Object(y.j)(e,"feature_sonic_quick_switcher")&&Object(m.ab)(a)&&Object(N.c)(i,[a.id]),Object(N.e)(i,a.id),a):n?K().fetchObjectWithId(i,t):null}),z=Object(j.b)(function(e){return Object.values(A(e)||{}).filter(function(e){return Object(m.yb)(e)&&Object(m.kb)(e)&&!Object(m.ab)(e)})}),Y=Object(j.b)(function(e){return Object.values(A(e)||{}).filter(m.Nb)}),W=(Object(j.b)(function(e){return Object.values(A(e)||{}).filter(function(e){return(Object(m.yb)(e)||Object(m.xb)(e))&&!Object(m.V)(e)&&!Object(m.ab)(e)})}),Object(j.b)(function(e){return Object.values(A(e)||{}).filter(function(e){return(Object(m.yb)(e)&&Object(m.kb)(e)||Object(m.xb)(e))&&!Object(m.V)(e)&&!Object(m.ab)(e)})})),Q=Object(j.b)(function(e){var t=A(e);return t&&Object(d.a)(t,function(e){return Object(m.eb)(e)&&Object(m.ob)(e)||Object(m.lb)(e)&&Object(m.ob)(e)||Object(m.xb)(e)&&!Object(m.V)(e)&&!Object(m.ab)(e)||Object(m.kb)(e)&&!Object(m.V)(e)&&!Object(m.ab)(e)}).length}),X=Object(j.b)(function(e,t){var n=Object(M.c)(e,t&&t.id),r=Object(y.q)(e),a=Object(m.hb)(e,t),i=Object(y.p)(e);return Object(m.p)(t,n,r,i,a)}),Z=Object(j.b)(function(e,t){return t&&X(e,t)>0}),J=Object(j.b)(function(e,t){return t?Object(d.a)(t,m.Kb).map(function(e){return e.id}):[]}),$=(Object(j.b)(function(e){var t=A(e);return J(e,t)}),Object(j.b)(function(e,t){return t?Object(d.a)(t,function(t){return Z(e,t)}).map(function(e){return e.id}):[]}),Object(j.b)(function(e,t){return Object(m.Kb)(V(e,t))})),ee=Object(j.b)(function(e,t){return Z(e,V(e,t))}),te=Object(j.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=A(e),r=Object(w.a)(e),i=[],o=[],s=[],c=[];n&&Object(u.a)(n,function(t){if(!Object(m.V)(t)&&Object(m.kb)(t)){if(Object(m.eb)(t)){var n=Object(v.c)(e,Object(m.G)(t));if(Object(f.eb)(n)||Object(f.Bb)(n))return}var a=Object(m.y)(e,t.id),c=Object(m.Kb)(t);a&&!c&&Object(m.Ab)(e,t)||(Z(e,t)?i.push(t):!c||Object(m.mb)(t)||Object(M.c)(e,t.id)?a&&r!==t.id&&s.push(t):o.push(t))}});var d=Object(y.j)(e,"feature_incremental_unread_counts");if(d?Object(T.j)(e):Object(S.c)(e)){var b=(d?Object(T.e)(e):Object(S.b)(e))||0,p={id:R.a.allThreads};b>0?i.push(p):o.push(p)}return Object(u.a)([i,o,s],function(e){if((c=[].concat(a()(c),a()(Object(l.a)(e,function(e){return function(e){var t=Object(m.v)(e);return["channel","private"].includes(t)&&Object(m.rb)(e)&&(t+="Shared"),{im:1,mpim:2,private:3,privateShared:4,channel:5,channelShared:6}[t]}(e)}))).slice(0,t)).length>t)return!1}),c});function ne(e,t){if(t&&e){var n=Object(c.a)(e);n&&"#"===n[0]&&(n=n.slice(1));var r=t[n];return r||t[e]}}var re=Object(j.b)(function(e,t){var n=ne(t,e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.channelsAndGroups);if(n)return n;var r=e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.mpims,a=e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.ims;return ne(t,r)||ne(t,a)}),ae=Object(j.b)(function(e,t){var n=re(e,t),r=Object(k.b)(e),a=A(e),i=a&&n&&a[n];return i&&Object(N.e)(r,i.id),i}),ie=Object(j.b)(function(e,t){var n=ne(t,e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.ims);if(n)return n;var r=e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.channelsAndGroups,a=e&&e.channelsMeta&&e.channelsMeta.channelNamesToIds&&e.channelsMeta.channelNamesToIds.mpims;return ne(t,r)||ne(t,a)}),oe=Object(j.b)(function(e,t){var n=ie(e,t);return n?V(e,n):null}),se=Object(j.b)(function(e,t){return Object(s.a)(t)?null:Object(o.a)(q(e),function(e){var n=Object(m.H)(e);return!Object(s.a)(n)&&(n.length===t.length&&n.every(function(e){return Object(i.a)(t,e)}))})}),ce=Object(j.b)(function(e){var t=A(e),n=t&&Object.values(t).filter(function(e){return Object(m.cb)(e)&&!Object(m.ab)(e)});if(n.length)return n[0]});Object.defineProperty({},"unknownFetchManager",{get:function(){return K()}})},clrF:function(e,t,n){},cnLP:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("aK/h"),b=n("kxpR"),p=n.n(b),h=n("TSYQ"),m=n.n(h),f=["top","bottom","left","right","top-right","bottom-right","top-left","bottom-left"],v=(d.b.node.isRequired,d.b.string,d.b.node.isRequired,d.b.oneOf(f).isRequired,d.b.object,{coachmarkAnchorClassNames:void 0,style:{}}),g=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.anchorRef=p.a.createRef(),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.coachmarkAnchorClassNames,r=e.coachmarkElement,a=e.orientation,i=e.style,o=m()("c-coachmark-anchor",n);return p.a.createElement("div",{id:"c-coachmark-anchor",ref:this.anchorRef,className:o,style:i},t,p.a.cloneElement(r,{anchorElement:this.anchorRef.current,orientation:a}))}}]),t}(b.PureComponent);g.displayName="CoachmarkAnchor",g.defaultProps=v,t.b=g},cqED:function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"j",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return f});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=n("yHhI"),s=Object(a.a)("Send a batch of invites",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.invites,a=n.channels,s=n.extraMessage,c=void 0===s?"":s,l=n.source,u=void 0===l?"invite_modal":l,d=n.campaign,b=void 0===d?null:d,p=n.mode,h=void 0===p?"manual":p,m=n.expirationTs,f=void 0===m?null:m,v=n.restricted,g=void 0!==v&&v,_=n.ultraRestricted,O=void 0!==_&&_;if(!r.length)return Promise.reject(new Error("missing_invites"));var y={invites:JSON.stringify(r),source:u,campaign:b,mode:h,restricted:g,ultra_restricted:O};return a&&a.length&&(y.channels=a),c&&(y.extra_message=c),f&&(y.expiration_ts=f),e(Object(i.a)({method:"users.admin.inviteBulk",reason:"invite_bulk",args:y})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to send invites."),e})});s.propTypes={invites:r.b.array.isRequired,channels:r.b.oneOfType([r.b.string,r.b.array]),extraMessage:r.b.string,source:r.b.string,mode:r.b.string,expirationTs:r.b.number};var c=Object(a.a)("Parse a string of concatenated emails",function(e,t){var n={emails:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).emails};return e(Object(i.a)({method:"users.admin.parseEmails",reason:"parse_emails",args:n})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to parse emails."),e})});c.propTypes={emails:r.b.string.isRequired};var l=Object(a.a)("Checks if user can get a shared invite link",function(e,t){return e(Object(i.a)({method:"users.admin.canGetSharedInvite",reason:"can_get_shared_invite"})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to check if team can get a shared invite link."),e})}),u=Object(a.a)("Gets an array of existing shared invite links",function(e,t){var n={mode:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).mode};return e(Object(i.a)({method:"users.admin.listSharedInvites",reason:"list_shared_invites",args:n})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to get a shared invite link."),e})});u.propTypes={mode:r.b.string};var d=Object(a.a)("Create a shared invite link",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={expiration:n.expiration,max_signups:n.maxSignups,disable_email:n.disableEmail};return e(Object(i.a)({method:"users.admin.createSharedInvite",reason:"create_shared_invite",args:r})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to create a shared invite link."),e})});d.propTypes={expiration:r.b.number,maxSignups:r.b.number,disableEmail:r.b.bool};var b=Object(a.a)("Delete a shared invite link",function(e,t){var n={code:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).code};return e(Object(i.a)({method:"users.admin.revokeSharedInvite",reason:"revoke_shared_invite",args:n})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to revoke a shared invite link."),e})});b.propTypes={code:r.b.string};var p=Object(a.a)("Update shared invite",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={code:n.code,notifications_enabled:n.joinNotificationsEnabled};return e(Object(i.a)({method:"users.admin.updateSharedInvite",reason:"update_shared_invite",args:r})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to update a shared invite link."),e})});p.propTypes={code:r.b.string,joinNotificationsEnabled:r.b.bool};var h=Object(a.a)("Parse comma separated email domains and return list of valid email domains",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).emailDomains,r={email_domains:void 0===n?"":n};return e(Object(i.a)({method:"team.checkEmailDomains",reason:"check_email_domains",args:r})).catch(function(e){throw Object(o.a)({getState:t}).error("Failed to check team email domains."),e})});h.propTypes={emailDomains:r.b.string};var m=Object(a.a)("Check whether this team is allowed to add new single-channel guests",function(e,t){return e(Object(i.a)({method:"users.admin.canAddUltraRestricted",reason:"can_add_ultra_restricted"})).catch(function(e){if(e.data&&"max_uras"===e.data.error)return{ok:!1};throw Object(o.a)({getState:t}).error("Failed to check single-channel guest limit."),e})}),f=Object(a.a)("Submit a batch of invite requests",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.requests,a=n.channels,s=n.expirationTs,c=void 0===s?null:s,l=n.extraMessage,u=void 0===l?"":l,d=n.restricted,b=void 0!==d&&d,p=n.ultraRestricted,h=void 0!==p&&p,m=n.source,f=void 0===m?"invite_modal":m,v=n.campaign,g=void 0===v?null:v,_=n.mode,O=void 0===_?"manual":_;if(!r.length)return Promise.reject(new Error("missing_requests"));var y={requests:JSON.stringify(r),source:f,campaign:g,mode:O,restricted:b,ultra_restricted:h};return a&&a.length&&(y.channels=a),u&&(y.extra_message=u),c&&(y.expiration_ts=c),e(Object(i.a)({method:"users.inviteRequests.create",reason:"submit_create_invite_requests",args:y})).catch(function(e){throw Object(o.a)({getState:t}).error("users.inviteRequests.create call failed."),e})});f.propTypes={requests:r.b.arrayOf(r.b.shape({email:r.b.string.isRequired,real_name:r.b.string})),channels:r.b.arrayOf(r.b.string),expirationTs:r.b.number,extraMessage:r.b.string,source:r.b.string,campaign:r.b.string,mode:r.b.string,restricted:r.b.bool,ultraRestricted:r.b.bool},Object(a.a)("Fetches the invite history for a workspace",function(e,t,n){var r=n.inviteType,a=n.cursorMark,o={type:r};return a&&(o.cursor=a),e(Object(i.a)({method:"users.admin.fetchInvitesHistory",args:o,reason:"fetch_invites_history_admin"})).then(function(e){return{invites:e.invites,nextCursorMark:e.next_cursor}}).catch(function(e){throw e})}).propTypes={inviteType:r.b.string.isRequired,cursorMark:r.b.string},Object(a.a)("Fetches the list of invite requests for a workspace",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).cursorMark,r={};return n&&(r.cursor=n),e(Object(i.a)({method:"users.admin.fetchInviteRequests",args:r,reason:"fetch_invite_requests_admin"})).then(function(e){return{requests:e.requests,nextCursorMark:e.next_cursor}}).catch(function(e){throw e})}).propTypes={cursorMark:r.b.string},Object(a.a)("Approves a request to invite a user",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).requestId;return e(Object(i.a)({method:"users.admin.inviteRequests.approve",args:{request_ids:JSON.stringify([n])},reason:"approve_invite_request_admin"})).catch(function(e){throw e})}).propTypes={requestId:r.b.number.isRequired},Object(a.a)("Denies a request to invite a user",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).requestId;return e(Object(i.a)({method:"users.admin.inviteRequests.deny",args:{request_ids:JSON.stringify([n])},reason:"deny_invite_request_admin"})).catch(function(e){throw e})}).propTypes={requestId:r.b.number.isRequired}},"d/c/":function(e,t,n){},d24p:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("DTT0"),d=n("XfeM"),b=n("YCXn"),p=n("HO/Y"),h=n("aW/o"),m=n("hAjP"),f=n("yHhI"),v=n("rMl1").a,g=Object(d.b)("Opens the DM Browser modal in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberIds,i=o()(n,["memberIds"]),s=t();if(Object(p.j)(s,"feature_sonic_dm_browser")){var l=Object(h.a)(s);(l?e(Object(m.a)({channelId:l,cancelUnsavedEdits:!1,scroll:!0})):Promise.resolve()).then(function(){e(Object(u.e)({element:c.a.createElement(v,a()({initialSelectedMemberIds:r},i))}))}).catch(function(){Object(f.a)({state:s}).error("DM-BROWSER","Not opening DM browser because user is editing a message")})}else Object(b.e)(a()({memberIds:r},i))});g.propTypes={isAdminMode:l.b.bool,memberIds:l.b.arrayOf(l.b.string.isRequired),onSubmit:l.b.func};t.a=g},d2Xu:function(e,t,n){},dAKC:function(e,t,n){},dCAd:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"m",function(){return b}),n.d(t,"l",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"i",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"j",function(){return O});var r=n("7EGn"),a=n("aK/h"),i=n("om+M"),o=n("4zXV"),s=a.b.oneOfType([a.b.shape({appId:a.b.string}),a.b.shape({serviceId:a.b.string})]),c=Object(i.a)("Fetch channel specific permission data for a particular app",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.appId,i=n.serviceId;return e(Object(o.a)({method:"apps.permissions.internal.info",args:{app:a,service:i}})).then(function(e){return Object(r.a)(e,"info",{})})});c.propTypes=s;var l=Object(i.a)("Fetch permission summary data for a particular app",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.appId,i=n.serviceId;return e(Object(o.a)({method:"apps.permissions.internal.summary",args:{app:a,service:i}})).then(function(e){return Object(r.a)(e,"summary",{})})});l.propTypes=s;var u=Object(i.a)("Fetch scopes a particular user has allowed an app",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.appId,i=n.userId,s=n.serviceId;return e(Object(o.a)({method:"apps.permissions.internal.user",args:{app:a,user:i,service:s}})).then(function(e){return Object(r.a)(e,"user_scope_info",[])})});u.propTypes={appId:a.b.string,serviceId:a.b.string,userId:a.b.string.isRequired};var d=Object(i.a)("Uninstalls app",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).appId;return e(Object(o.a)({method:"apps.permissions.internal.uninstallApp",args:{app:n}}))});d.propTypes={appId:a.b.string.isRequired};var b=Object(i.a)("Set wildcard to on for app",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).appUserId;return e(Object(o.a)({method:"apps.permissions.internal.addWildcard",args:{app_user:n,resource_type:"channel"}})).then(function(e){return Object(r.a)(e,"resources_added_count")})});b.propTypes={appUserId:a.b.string.isRequired};var p=Object(i.a)("Set wildcard to off for app",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).appUserId;return e(Object(o.a)({method:"apps.permissions.internal.removeWildcard",args:{app_user:n,resource_type:"channel"}})).then(function(e){return Object(r.a)(e,"resources_added_count")})});p.propTypes={appUserId:a.b.string.isRequired};var h=Object(i.a)("Removes app from a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.channelId,i=n.sendEphemeralErrorMessage;return e(Object(o.a)({method:"apps.permissions.internal.remove",args:{app_user:r,channel:a,send_ephemeral_error_message:i}}))});h.propTypes={appUserId:a.b.string.isRequired,channelId:a.b.string.isRequired,sendEphemeralErrorMessage:a.b.bool};var m=Object(i.a)("Adds app to a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.appUserId,i=n.channelId,s=n.didConfirm,c=n.inviteMessageTs,l=n.sendEphemeralErrorMessage;return e(Object(o.a)({method:"apps.permissions.internal.add",args:{app_user:a,channel:i,did_confirm:s,invite_message_ts:c,send_ephemeral_error_message:l}})).then(function(e){return Object(r.a)(e,"scope_info",[])})});m.propTypes={appUserId:a.b.string.isRequired,channelId:a.b.string.isRequired,didConfirm:a.b.bool.isRequired,inviteMessageTs:a.b.string,sendEphemeralErrorMessage:a.b.bool};var f=Object(i.a)("Denies adding app to a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.channelId,i=n.inviteMessageTs;return e(Object(o.a)({method:"apps.permissions.internal.denyAdd",args:{app_user:r,channel:a,invite_message_ts:i}}))});f.propTypes={appUserId:a.b.string.isRequired,channelId:a.b.string.isRequired,inviteMessageTs:a.b.string};var v=Object(i.a)("Revokes an app\u2018s access to a given user\u2018s data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.serviceId,i=n.userId;return e(Object(o.a)({method:"apps.permissions.internal.userRevoke",args:{app:r,user:i,service:a}}))});v.propTypes={appId:a.b.string,serviceId:a.b.string,userId:a.b.string.isRequired};var g=Object(i.a)("Grants an app access to additional scopes",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.didConfirm,a=n.scopes,i=n.triggerId;return e(Object(o.a)({method:"apps.permissions.internal.addScope",args:{did_confirm:r,scopes:a,trigger_id:i}}))});g.propTypes={didConfirm:a.b.bool.isRequired,scopes:a.b.string.isRequired,triggerId:a.b.string.isRequired};var _=Object(i.a)("Grants an app access to the current users data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.didConfirm,a=n.scopes,i=n.triggerId;return e(Object(o.a)({method:"apps.permissions.internal.addUser",args:{did_confirm:r,scopes:a,trigger_id:i}}))});_.propTypes={didConfirm:a.b.bool.isRequired,scopes:a.b.string.isRequired,triggerId:a.b.string.isRequired};var O=Object(i.a)("Searches for users who granted an app access to their data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.serviceId,i=n.query,s=n.cursor,c=n.limit;return e(Object(o.a)({method:"apps.permissions.internal.userSearch",args:{app:r,service:a,query:i,cursor:s,limit:c}}))});O.propTypes={appId:a.b.string,serviceId:a.b.string,query:a.b.string,cursor:a.b.string,limit:a.b.number}},dFG7:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("g5qt"),a=n("gc8V"),i=n("DlLn"),o=n("Gogr"),s=n("lhZz"),c=n("IY6O");function l(e){var t=function(e){var t=Object(s.getClientStoreInstance)().getState();return Object(c.getWorkspacesMeta)(t)[e]}(e),n=t&&t.url||"/";if(r.X){var l="s=1&v="+Object(r.Pb)();return t?n+"ssb/signin_redirect?"+l:0===Object(o.c)("orderedTeamIds").length?n+"ssb/first?redir=%2Fssb%2Fclient&"+l:n+"ssb/add?"+l}var u="/"+a.a+window.location.search,d=Object(i.f)(u);return""+n+(t?"":"signin")+"?redir="+encodeURIComponent("/gantry"+d)}},dG3r:function(e,t,n){"use strict";function r(e){return!!(e&&e.insert&&e.attributes&&e.attributes.slackmention)}n.d(t,"a",function(){return r})},dHuL:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=Object(a.a)("Get the What's New updates for this team/user",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(i.a)({method:"team.whatsNew",reason:n})).then(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).updates})});o.propTypes={reason:r.b.string.isRequired};var s=Object(a.a)("Get the profile for the current team from the API",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(i.a)({method:"team.profile.get",reason:n}))});s.propTypes={reason:r.b.string.isRequired}},dI1W:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=(n("k+11"),p.b.node.isRequired,p.b.string,p.b.string,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.id,i=v()("c-hint",n);return m.a.createElement("div",a()({},this.props,{className:i,id:r}),t)}}]),t}(h.PureComponent));g.displayName="Hint",g.defaultProps={className:null,id:null},t.a=g},"dS/7":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("GQZf"),a=n("XoJV"),i=n("nNoG");function o(e,t){var n=t.localize;if(!e||e.type!==r.a.EMOJI)return"";var o=e.skinTone||e.skin_tone,s=o?":"+e.name+"::skin-tone-"+o+":":":"+e.name+":";return n?Object(a.g)({locale:Object(i.p)(),name:s}):s}},dVmK:function(e,t,n){},dVou:function(e,t,n){},dYYP:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("AFNo"),a=n("k55U"),i=n("TM4O"),o=n("1YQg"),s=n("+rBa"),c=n("2Inn"),l=Object(r.f)("Subscribe to data messages from the call window",function(e,t,n){Object(a.f)(!Object(i.a)(),"Need the slack window context to listen for messages from the call window"),n.onData=function(t){var r=t.type,i=t.payload;switch(Object(a.g)({direction:"receive",type:r,payload:i}),r){case"reportRoomId":e(Object(c.c)({roomId:i,windowId:n.getId()}));break;case"onIncomingInviteAccept":e(Object(s.a)(i));break;case"onIncomingInviteReject":e(Object(s.b)({id:i,response:o.c.Reject}));break;default:Object(a.a)(r)}}}),u=Object(a.d)(function(e,t){Object(a.f)(!Object(i.a)(),"Expected to send message from the slack window"),Object(a.g)({direction:"send",type:e,payload:t})})},derf:function(e,t,n){"use strict";var r=n("gJjA");n.d(t,"a",function(){return r.a}),t.b=r.b},dfJH:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("IzLi"),o=n("Vfgr"),s=n("fujP"),c=n("nNoG"),l={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},u={EMAIL:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i},d=new c.b("email_utility");function b(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,r=e.length,a=void 0,i=void 0,o=void 0;if(!Array.isArray(e))return{isValid:!1,emailArray:e,errorKey:l.INVALID,errorMessage:h(l.INVALID)};if(t&&r>t)return i=l.TOO_MANY,o=t>1?function(e){return d.t("Please make your list shorter \u2014 we can check up to {max_addresses} addresses at a time.",{max_addresses:e})}(t):h(l.INVALID),{isValid:!1,emailArray:e,errorKey:i,errorMessage:o};for(;n<r;n+=1)if(a=e[n],n||""!==a?u.EMAIL.test(a)||(i=l.INVALID):i=l.EMPTY,i)return{isValid:!1,emailArray:e,errorKey:i,errorMessage:h(i)};return{isValid:!0,emailArray:e,errorKey:"",errorMessage:""}}(p(e),t)}function p(e){return e.replace(/\s|\n/g,"").replace(/,$/g,"").split(",")}function h(e){var t=void 0;switch(e){case l.EMPTY:t=d.t("Please fill in your email.");break;case l.INVALID:t=d.t("Sorry, but that email is invalid.");break;case l.INVALID_DOMAIN:t=d.t("Sorry, but that isn\u2019t a valid email domain.")}return t}var m=n("Bvc0");n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return k});var f=new c.b("checkout_v2"),v={MINIMUM_BAU_COUNT_ALLOWED:3};function g(e,t,n){var r=I(t,n);if(Object(s.a)(r))return{};var a={},i=e.numberOfUsers,o=e.additionalBillingContacts,c=O(e.purchaseOrderNumber,r);c&&(a.purchaseOrderNumber=c);var l=y(i,t,n,r);l&&(a.numberOfUsers=l);var u=E(o,r);return u&&(a.additionalBillingContacts=u),a}function _(e,t,n,r){var a=null,i=I(n,r);if(Object(s.a)(i))return a;var o=e.numberOfUsers,c=e.additionalBillingContacts,l=e.purchaseOrderNumber;switch(t){case m.a.PURCHASE_ORDER_NUMBER:a=O(l,i);break;case m.a.NUMBER_OF_USERS:a=y(o,n,r,i);break;case m.a.ADDITIONAL_BILLING_CONTACTS:a=E(c,i)}return a}function O(e,t){var n=null;return!e||!Object(i.a)(e)&&m.b.NUMERIC_WITH_MIN_MAX_LENGTH_REGEX.test(e)||(n=C(m.c.PURCHASE_ORDER_NUMBER_INVALID_CHARACTERS,t)),n}function y(e,t,n,r){var a=null;return e?m.b.NUMERIC_REGEX.test(e)?e<t?a=C(m.c.NUMBER_OF_USERS_INVALID_MIN_ALLOWED,r):e>n&&(a=C(m.c.NUMBER_OF_USERS_INVALID_MAX_ALLOWED,r)):a=C(m.c.NUMBER_OF_USERS_INVALID_CHARACTERS,r):a=C(m.c.NUMBER_OF_USERS_IS_REQUIRED,r),a}function j(e){var t=e.contacts,n=e.delimiter,r=void 0===n?",":n;return t?Object(o.a)(t).replace(/(?:,|\s|\n)+/g,r):""}function k(e){var t=p(e).map(function(e){return{email:e}});return JSON.stringify(t)}function E(e,t){var n=null;if(!e)return n;var r=b(j({contacts:e,delimiter:","})),a=r.errorKey;return a&&((n=C(a,t)).errorText||(n.errorText=r.errorMessage)),n}function C(e,t){return t[e]||{}}function I(e,t){var n;return n={},a()(n,m.c.PURCHASE_ORDER_NUMBER_INVALID_CHARACTERS,{errorText:f.t("Please enter a valid number between 1 and 20 digits long.")}),a()(n,m.c.NUMBER_OF_USERS_IS_REQUIRED,{errorText:f.t("You\u2019ll need to include the numbers of members.")}),a()(n,m.c.NUMBER_OF_USERS_INVALID_CHARACTERS,{errorText:f.t("Please enter a valid number.")}),a()(n,m.c.NUMBER_OF_USERS_INVALID_MIN_ALLOWED,{errorText:f.t("To pay by invoice, you\u2019ll need at least {minInvoiceSeats} members.",{minInvoiceSeats:e})}),a()(n,m.c.NUMBER_OF_USERS_INVALID_MAX_ALLOWED,{errorText:f.t("You can only pay by invoice for {maxInvoiceSeats} or fewer members.",{maxInvoiceSeats:t})}),n}},dyRQ:function(e,t,n){"use strict";n.d(t,"c",function(){return q}),n.d(t,"b",function(){return F}),n.d(t,"a",function(){return B}),n.d(t,"h",function(){return z}),n.d(t,"e",function(){return W}),n.d(t,"f",function(){return Q}),n.d(t,"g",function(){return X});var r,a=n("sk9p"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("S1sa"),d=n("4TP3"),b=n("syB0"),p=n("u3oV"),h=(n("uXhx"),n("m8R6")),m=n("NZ+B"),f=n("gSGL"),v=n("IzLi"),g=n("fujP"),_=n("/1FC"),O=n("aK/h"),y=n("EzZj"),j=n("MNvw"),k=n("U/ze"),E=n("XfeM"),C=n("PAPM"),I=n("6kok"),w=n("Fdc0"),S=n("lhZz"),T=n("HO/Y"),R=n("uf9I"),N=n("clTI"),x=n("DtX9"),M=b.a,P=C.c,A=Object(y.b)("Upsert membership info for users for a channel");A.propTypes={channelId:O.b.string.isRequired,membershipInfo:O.b.object.isRequired};var D=Object(y.b)("Upsert fetched membership info for users for a channel if we are expecting it");D.propTypes={channelId:O.b.string.isRequired,membershipInfo:O.b.object.isRequired};var L=Object(y.b)("Clear membership info for users for a channel");L.propTypes={channelId:O.b.string.isRequired,userIds:O.b.arrayOf(O.b.string).isRequired};var q=Object(y.b)("Clear membership info for the channel");q.propTypes=O.b.string.isRequired;var F=Object(y.b)("Clear membership for the user in all channels");F.propTypes=O.b.string.isRequired;var B=Object(y.b)("Clear all membership info");B.propTypes=null;var U={},H=Object(j.b)((r={},s()(r,A,function(e,t){if(!Object(v.a)(t)||!Object(f.a)(t.channelId)||!Object(v.a)(t.membershipInfo))return e;var n=l()({},e[t.channelId],t.membershipInfo);return l()({},e,s()({},t.channelId,n))}),s()(r,D,function(e,t){if(!Object(v.a)(t)||!Object(f.a)(t.channelId)||!Object(v.a)(t.membershipInfo))return e;var n={};if(Object.keys(t.membershipInfo).forEach(function(r){!!(e&&e[t.channelId]&&e[t.channelId][r])&&(n[r]=t.membershipInfo[r])}),Object(g.a)(n))return e;var r=l()({},e[t.channelId],n);return l()({},e,s()({},t.channelId,r))}),s()(r,L,function(e,t){if(!(Object(v.a)(t)&&Object(f.a)(t.channelId)&&Object(_.a)(t.userIds)&&e[t.channelId]))return e;var n=Object(h.a)(e[t.channelId],t.userIds);return l()({},e,s()({},t.channelId,n))}),s()(r,q,function(e,t){return t&&e[t]?Object(h.a)(e,t):e}),s()(r,F,function(e,t){if(!t)return e;var n={};return Object.keys(e).forEach(function(r){n[r]=Object(h.a)(e[r],t)}),n}),s()(r,B,function(){return U}),r),U,{persistenceEnabled:!0});H.propTypes=O.b.objectOf(O.b.objectOf(O.b.object)),t.d=H;var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){Object(m.a)(e[n])&&(t[n]={isKnown:!0,isMember:e[n]})}),t},G=function(){var e={isKnown:!1};return Object.defineProperty(e,"isMember",{get:function(){throw new Error("Value for isMember is not known; check isKnown before accessing this field")}}),e},V=Object(E.b)("Fetches membership info and updates the store with the result",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.userIds,i=a.reduce(function(e,t){return l()({},e,s()({},t,G()))},{});return e(A({channelId:r,membershipInfo:i})),P(e,t,r,a).then(function(t){return e(D({channelId:r,membershipInfo:K(t)}))}).catch(function(){return e(L({channelId:r,userIds:a}))})});V.propTypes={channelId:O.b.string.isRequired,userIds:O.b.arrayOf(O.b.string).isRequired};var z=Object(E.b)("Overwrites cached channel membership info for a set of users",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.membershipInfo;if(!Object(f.a)(r)||!Object(v.a)(a))return!1;var i=Object(p.a)(a,function(e,n){var a=W(t(),r,n);return!a.isKnown||a.isMember!==e});return!Object(g.a)(i)&&(e(A({channelId:r,membershipInfo:K(i)})),!0)});z.propTypes={channelId:O.b.string.isRequired,membershipInfo:O.b.object.isRequired};var Y=Object(k.b)(function(e,t,n){return!!(e&&e.membership&&e.membership[t]&&e.membership[t][n]&&e.membership[t][n].isKnown)}),W=Object(k.b)(function(e,t,n){if(!Object(v.a)(e)||!Object(f.a)(t)||!Object(f.a)(n))return{};var r=e&&e.membership&&e.membership[t]&&e.membership[t][n]||{};if(Object(g.a)(r)){var a=Object(N.d)(e,t);if(Object(I.eb)(a))if(n===Object(I.G)(a)||Object(w.yb)(Object(x.c)(e,n))){var i={isKnown:!0,isMember:!0},o=A({channelId:t,membershipInfo:s()({},n,i)});return M(S.dispatchForTeamId,Object(R.b)(e),o),i}}return r}),Q=Object(k.b)(function(e,t,n){if(!Object(v.a)(e)||!Object(f.a)(t)||!Object(f.a)(n))return{};var r=W(e,t,n);if(Object(g.a)(r)){var a=V({channelId:t,userIds:[n]});return M(S.dispatchForTeamId,Object(R.b)(e),a),G()}return r}),X=Object(E.b)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.userIds,o=t(),s=Object(u.a)(a,function(e){return Y(o,r,e)}),c=i()(s,2),b=c[0],p=c[1],h=Object(N.d)(o,r);if(Object(I.eb)(h)){var m=Object(I.G)(h);Object(d.a)(p,m,Object(T.b)(o))}var f={};return b.forEach(function(e){f[e]=W(o,r,e)}),p.length?Object(S.dispatchForTeamId)(Object(R.b)(o),V({channelId:r,userIds:p})).then(function(e){return e&&e.payload&&e.payload.membershipInfo?{membershipInfo:l()({},e.payload.membershipInfo,f)}:{membershipInfo:f}}):Promise.resolve({membershipInfo:f})});X.propTypes={channelId:O.b.string.isRequired,userIds:O.b.array.isRequired}},e2Aa:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=n("aK/h"),_=n("tn36"),O=n("XHGt"),y=n("TSYQ"),j=n.n(y),k=n("wd/R"),E=n.n(k),C=n("llxT"),I=n("RMmo"),w=n("N2fK"),S=n("xJL3"),T=(n("2LBZ"),g.b.string,g.b.string.isRequired,g.b.string,g.b.func,g.b.string,{className:null,yearFormat:"YYYY",renderMonth:function(e){var t=e.value,n=e.format;return E()(t,n).format("MMM")},monthFormat:"YYYY-MM"}),R=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderMonth=n.renderMonth.bind(n),n}return h()(t,e),u()(t,[{key:"renderMonth",value:function(e){var t=this.props.monthFormat,n=e.format(t),r=this.props.renderMonth({value:n,format:t});return v.a.createElement("li",{key:n,className:"c-calendar_year__month"},r)}},{key:"render",value:function(){for(var e=this.props,t=e.year,n=e.yearFormat,r=e.className,a=E()(t,n),i=a.clone().startOf("year"),o=a.clone().endOf("year"),s=i.clone(),c=[];s.isBefore(o);)c.push(this.renderMonth(s.clone())),s.add(1,"month");var l=j()("c-calendar_year",r);return v.a.createElement("div",{className:l},v.a.createElement("ul",{className:"c-calendar_year__list"},c))}}]),t}(f.Component);R.displayName="Year",R.defaultProps=T;var N=R,x=n("nNoG"),M=n("yHhI"),P=n("wfZy"),A=n("rWF5"),D=(n("L7JY"),new x.b("date_picker")),L=(g.b.string,g.b.string,g.b.arrayOf(g.b.string),g.b.string,g.b.string,g.b.string,g.b.func,g.b.bool,g.b.bool,g.b.func,g.b.string,g.b.string,g.b.object.isRequired,{className:null,selectedDate:null,disabledDates:[],monthTitleFormat:"MMMM YYYY",yearTitleFormat:"YYYY",dateFormat:"YYYY-MM-DD",onDateChange:m.a,kbNavActive:!0,focusOnMount:!0,isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0}),q={year:"year",month:"month"},F={year:"YYYY",month:"YYYY-MM"},B=Object(M.b)();var U=function(e){function t(e){c()(this,t);var n,r,a=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=a.props,o=i.selectedDate,s=i.dateFormat,l=i.disableDatesBefore,u=i.disableDatesAfter,d=i.focusOnMount,p=(r=s,(n=o)&&r?E()(n,r):(n&&A.k&&B.warn("View specified without format -- ignoring"),E()())),h=l&&E()(l,s);if(h&&p.isBefore(h))p=h;else{var m=u&&E()(u,s);m&&p.isAfter(m)&&(p=m)}var f=p.format(F.month);return a.state={ariaLive:null,ariaIntro:!0,activeDate:p.format(s),selectedMonth:f,activeMonth:f,viewType:q.month,viewFormat:F.month,view:f,focusOnActiveMonthOrDate:d},a.isDateDisabled(p)&&(a.state.activeDate=a.getActiveDateFromMonth(p)),Object(_.a)(a,["handleKeyboardCommand","handleDateClick","handleMonthClick","handleViewSwitch","handleViewIncrement","handleViewDecrement","renderDate","renderMonthButton","renderMonthView","renderYearView"]),a.introRef=v.a.createRef(),a.activeDayElement=v.a.createRef(),a.activeMonthElement=v.a.createRef(),a}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.keyCommands=new I.a,this.keyCommands.bindAll([{keys:["up","down","left","right","pageup","pagedown"],handler:this.handleKeyboardCommand}]),this.maybeFocusOnActiveMonthOrDate()}},{key:"componentDidUpdate",value:function(){this.maybeFocusOnActiveMonthOrDate()}},{key:"componentWillUnmount",value:function(){this.keyCommands.reset()}},{key:"getActiveDateFromMonth",value:function(e){if(this.props.selectedDate){var t=E()(this.props.selectedDate,this.props.dateFormat);if(e.isSame(t,"month")&&!this.isDateDisabled(t))return t.format(this.props.dateFormat)}if(this.state.activeDate){var n=E()(this.state.activeDate,this.props.dateFormat).month(e.month()).year(e.year());if(!this.isDateDisabled(n))return n.format(this.props.dateFormat)}for(var r=e.clone().startOf("month");e.isSame(r,"month");){if(!this.isDateDisabled(r))return r.format(this.props.dateFormat);r.add(1,"day")}return null}},{key:"getActiveMonthFromYear",value:function(e){if(this.state.selectedMonth){var t=E()(this.state.selectedMonth,F.month);if(e.isSame(t,"year")&&!this.isMonthDisabled(t))return t.format(F.month)}if(this.state.activeMonth){var n=E()(this.state.activeMonth,F.month).year(e.year());if(!this.isMonthDisabled(n))return n.format(F.month)}for(var r=e.clone().startOf("year");e.isSame(r,"year");){if(!this.isMonthDisabled(r))return r.format(F.month);r.add(1,"month")}return null}},{key:"setView",value:function(e,t,n){var r=this;A.k&&!t&&this.props.logger.warn("Missing view type");var a=this.state.viewType!==t,i=F[t],o=a&&n,s=null;o||(t===q.month?s=e.format(this.props.monthTitleFormat):t===q.year&&(s=e.format(this.props.yearTitleFormat))),this.setState(function(n){return{ariaLive:s,ariaIntro:o,viewType:t,viewFormat:i,view:e.format(i),selectedMonth:t===q.month?e.format(F.month):n.selectedMonth,activeDate:t===q.month?r.getActiveDateFromMonth(e):n.activeDate,activeMonth:t===q.year?r.getActiveMonthFromYear(e):n.activeMonth,focusOnActiveMonthOrDate:o}})}},{key:"maybeFocusOnActiveMonthOrDate",value:function(){this.props.kbNavActive&&this.state.focusOnActiveMonthOrDate&&(this.activeDayElement.current?this.activeDayElement.current.focus():this.activeMonthElement.current&&this.activeMonthElement.current.focus())}},{key:"handleViewSwitch",value:function(e){var t=this.state,n=t.selectedMonth,r=t.viewType===q.month?q.year:q.month,a=E()(n,F.month);this.setView(a,r,Object(P.a)(e))}},{key:"handleViewIncrement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state,r=n.view,a=n.viewType,i=E()(r,F[a]).add(t,a);this.setView(i,a,Object(P.a)(e))}},{key:"handleViewDecrement",value:function(e){this.handleViewIncrement(e,-1)}},{key:"handleKeyboardCommand",value:function(e,t){if(this.props.kbNavActive)if(e.stopPropagation(),e.preventDefault(),this.state.viewType===q.month)switch(t){case"up":this.moveDateBy(-1,"week");break;case"down":this.moveDateBy(1,"week");break;case"left":this.moveDateBy(-1,"day");break;case"right":this.moveDateBy(1,"day");break;case"pageup":this.moveDateBy(-1,"month");break;case"pagedown":this.moveDateBy(1,"month")}else if(this.state.viewType===q.year)switch(t){case"up":this.moveSelectedMonthBy(-3);break;case"down":this.moveSelectedMonthBy(3);break;case"left":this.moveSelectedMonthBy(-1);break;case"right":this.moveSelectedMonthBy(1);break;case"pageup":this.moveSelectedMonthBy(-12);break;case"pagedown":this.moveSelectedMonthBy(12)}}},{key:"handleDateClick",value:function(e){var t=e.target.dataset.value;this.isDateDisabled(E()(t,this.props.dateFormat))||(this.setState(function(){return{ariaLive:null,activeDate:t}}),this.props.onDateChange(t))}},{key:"handleMonthClick",value:function(e){var t=e.target.dataset.value,n=e.target.dataset.format,r=E()(t,n);this.setView(r,q.month,Object(P.a)(e))}},{key:"isDateSelected",value:function(e){var t=E()(this.props.selectedDate,this.props.dateFormat);return e.isSame(t)}},{key:"isDateActive",value:function(e){var t=E()(this.state.activeDate,this.props.dateFormat);return e.isSame(t)}},{key:"isDateDisabled",value:function(e){var t=!1;if(this.props.isDateDisabled&&(t=this.props.isDateDisabled(e)),!t)for(var n=0,r=this.props.disabledDates[n];n<this.props.disabledDates.length;n++)e.isSame(E()(r,this.props.dateFormat))&&(t=!0);return!t&&this.props.disableDatesBefore&&(t=t||e.isBefore(E()(this.props.disableDatesBefore,this.props.dateFormat))),!t&&this.props.disableDatesAfter&&(t=t||e.isAfter(E()(this.props.disableDatesAfter,this.props.dateFormat))),t}},{key:"isMonthDisabled",value:function(e){var t=!1;return this.props.disableDatesBefore&&(t=e.clone().endOf("month").isBefore(E()(this.props.disableDatesBefore,this.props.dateFormat))),this.props.disableDatesAfter&&!t&&(t=e.clone().startOf("month").isAfter(E()(this.props.disableDatesAfter,this.props.dateFormat))),t}},{key:"moveDateBy",value:function(e,t){var n=this,r=this.state,a=r.activeDate,i=r.activeMonth;if(a||!i)if(this.activeDayElement.current&&document.activeElement!==this.activeDayElement.current)this.state.focusOnActiveMonthOrDate?this.activeDayElement.current.focus():this.setState(function(){return{focusOnActiveMonthOrDate:!0}});else{var o=E()(a,this.props.dateFormat);o.add(e,t),this.isDateDisabled(o)||this.setState(function(){return{ariaIntro:!1,activeDate:o.format(n.props.dateFormat),view:o.format(F.month),focusOnActiveMonthOrDate:!0}})}else{var s=E()(i,F.month),c=this.getActiveDateFromMonth(s);this.setState(function(){return{activeDate:c,focusOnActiveMonthOrDate:!!c}})}}},{key:"moveSelectedMonthBy",value:function(e){var t=this.state.activeMonth;if(t)if(this.activeMonthElement.current&&document.activeElement!==this.activeMonthElement.current)this.state.focusOnActiveMonthOrDate?this.activeMonthElement.current.focus():this.setState(function(){return{focusOnActiveMonthOrDate:!0}});else{var n=E()(t,F.month);n.add(e,"month"),this.isMonthDisabled(n)||this.setState(function(){return{ariaIntro:!1,activeMonth:n.format(F.month),view:n.format(F.year),focusOnActiveMonthOrDate:!0}})}}},{key:"canMoveForward",value:function(){return!this.props.disableDatesAfter||E()(this.state.view,F[this.state.viewType]).endOf(this.state.viewType).isBefore(E()(this.props.disableDatesAfter,this.props.dateFormat))}},{key:"canMoveBack",value:function(){return!this.props.disableDatesBefore||E()(this.state.view,F[this.state.viewType]).startOf(this.state.viewType).isAfter(E()(this.props.disableDatesBefore,this.props.dateFormat))}},{key:"renderMonthButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.format,r=o()(e,["value","format"]),i=E()(t,n),s=t===this.state.activeMonth,c=t===this.state.selectedMonth,l=j()("c-button-unstyled","c-mini_calendar__month_button","c-mini_calendar__month_"+(i.month()+1),{"c-mini_calendar__month_button--is_active":s,"c-mini_calendar__month_button--is_selected":c}),u=this.state.ariaIntro&&s?D.t("Month picker: {selectedMonth} selected. Use arrow keys to change month.",{selectedMonth:i.format("MMMM YYYY")}):i.format("MMMM YYYY");return v.a.createElement(C.a,a()({style:{padding:25,width:"100%",textAlign:"center"},tabIndex:s?"0":"-1",ref:s?this.activeMonthElement:m.a,className:l,disabled:this.isMonthDisabled(i),onClick:this.handleMonthClick,"aria-current":!!c,"aria-label":u,"data-value":t,"data-format":n,"data-qa":s&&"active_month","data-qa-month":t},r),i.format("MMM"))}},{key:"renderDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.dateFormat,r=e.sameMonth,a=e.isToday,i=e.monthStart,o=e.monthEnd,s=e.firstWeekStart,c=e.firstWeekEnd,l=e.lastWeekStart,u=e.lastWeekEnd,d=E()(t,n),b=this.isDateActive(d),p=this.isDateDisabled(d),h=this.isDateSelected(d),f=j()("c-date_picker_calendar__date","c-button-unstyled",{"c-date_picker_calendar__date--is_today":a,"c-date_picker_calendar__date--is_selected":h,"c-date_picker_calendar__date--is_active":b,"c-date_picker_calendar__date--disabled":p,"c-date_picker_calendar__date--month_start":i,"c-date_picker_calendar__date--month_end":o,"c-date_picker_calendar__date--first_week_start":s,"c-date_picker_calendar__date--first_week_end":c,"c-date_picker_calendar__date--last_week_start":l,"c-date_picker_calendar__date--last_week_end":u}),g=this.state.ariaIntro&&b?D.t("Date picker: {selectedDate} selected. Use arrow keys to change date.",{selectedDate:d.format("LL")}):d.format("D, MMMM YYYY, dddd");return r?v.a.createElement(C.a,{ref:b?this.activeDayElement:m.a,className:f,disabled:p,onClick:this.handleDateClick,"data-value":t,"data-format":n,tabIndex:b?"0":"-1","aria-current":!!h&&"date","aria-label":g,"data-qa":b&&"active_date","data-qa-date":t},d.format("D")):null}},{key:"renderMonthView",value:function(){var e=this.state.view,t=this.props,n=t.dateFormat,r=t.monthTitleFormat,a=E()(e,n).format(r),i=D.t("Jump to another month");return v.a.createElement("div",{className:"c-mini_calendar__month_view"},v.a.createElement(w.a,{title:a,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:i,leftArrowLabel:D.t("Previous month"),rightArrowLabel:D.t("Next month"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),v.a.createElement(S.a,{month:e,monthFormat:n,renderDate:this.renderDate}))}},{key:"renderYearView",value:function(){var e=this.state.view,t=this.props,n=t.dateFormat,r=t.yearTitleFormat,a=E()(e,n).format(r),i=D.t("Back to date picker");return v.a.createElement("div",{className:"c-mini_calendar__year_view"},v.a.createElement(w.a,{title:a,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:i,leftArrowLabel:D.t("Previous year"),rightArrowLabel:D.t("Next year"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),v.a.createElement(N,{year:e,yearFormat:n,renderMonth:this.renderMonthButton}))}},{key:"renderAriaLive",value:function(){return this.state.ariaLive?v.a.createElement("span",{className:"offscreen","aria-live":"polite","aria-label":this.state.ariaLive}):null}},{key:"render",value:function(){var e=this.state.viewType,t=j()("c-date_picker_calendar",this.props.className);return v.a.createElement("div",{className:t,"data-qa":"date_picker_calendar"},this.renderAriaLive(),v.a.createElement("div",{className:"c-mini_calendar"},e===q.year?this.renderYearView():this.renderMonthView()))}}]),t}(f.PureComponent);U.displayName="DatePickerCalendar",U.defaultProps=L;t.a=Object(O.b)(function(e){return{logger:Object(M.a)({state:e})}})(U)},e31y:function(e,t,n){},e4Fz:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return c});var r=new(n("nNoG").b)("form_inputs");function a(e,t){return e+"_"+t}function i(){return Math.random().toString(36).substring(2,10)}var o=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?r.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:e}):r.t("You can\u2019t enter more than {maxCharacterLimit} characters.",{maxCharacterLimit:e})},s=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?r.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:e}):r.t("You must enter at least {minCharacterLimit} characters.",{minCharacterLimit:e})},c=function(e){var t=e.filter(function(e){return e});return 0===t.length?null:t.join(" ")}},e5MT:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Clears all slash commands");i.propTypes={};var o=Object(a.b)("Removes a slash command");o.propTypes={commandName:r.b.string.isRequired};var s=Object(a.b)("Adds an array of slash commands from the server");s.propTypes={commands:r.b.array.isRequired,cacheTs:r.b.string.isRequired}},e74f:function(e,t,n){},e9Nc:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return m});var r=n("DtX9"),a=n("Fdc0"),i=n("6kok"),o=n("uwE/"),s=n("Smdl"),c=n("aW/o"),l=n("+1yX"),u=n("MhQa"),d=n("GdsW"),b=n("clTI");function p(e,t){var n=Object(a.P)(e,t);return Object(o.f)().from+":<@"+t.id+"|@"+n+">"}function h(e,t){var n=void 0;if(Object(i.eb)(t)){var s=Object(r.c)(e,t.user),c=Object(a.P)(e,s);n="<@"+s.id+"|@"+c+">"}else n=Object(i.lb)(t)?""+Object(i.Rb)(e,t):Object(i.W)(t)||Object(i.xb)(t)?"#"+t.name:""+t.name;return Object(o.f)().in+":"+n}var m=function(e){var t=Object(c.a)(e);if(Object(s.a)()?Object(l.a)(t):!Object(d.b)())try{return Object(s.a)()?Object(b.d)(e,t):Object(u.e)(e)}catch(e){return null}return null}},e9ZU:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("aK/h"),c=n("kxpR"),l=n.n(c),u=n("MnCE"),d=n("TSYQ"),b=n.n(d),p=n("nNoG"),h=(n("A7Fl"),new p.b("members")),m=(s.b.string,s.b.bool,s.b.string,{className:void 0,inverse:!1,"data-qa":void 0});function f(e){var t=e.className,n=e.inverse,r=o()(e,["className","inverse"]),i=b()(t,"c-app_badge",{"c-app_badge--inverse":n});return l.a.createElement("span",a()({},r,{className:i,"data-stringify-suffix":" "}),h.t("APP"))}f.displayName="AppBadge",f.defaultProps=m,t.a=Object(u.a)(f)},eCgt:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("bPB8"),o=n("zmn3"),s=n("aK/h"),c=n("kxpR"),l=n.n(c),u=n("6kok"),d=n("Qrgz"),b=n("Fdc0"),p=n("P9LH"),h=n("HO/Y"),m=n("DtX9"),f=n("P2f5"),v=n("TcTh"),g=n("clTI"),_=n("13mM"),O=n("St+r"),y=n("uf9I"),j=n("XfeM"),k=n("a3KO"),E=n("N4dO"),C=n("yHhI"),I=n("kOzZ"),w=n("tt0d"),S=n("owWc"),T=n("aXcD"),R=n("Qv4Q"),N=n("cErB"),x=n("OqoL"),M=n("fCVm"),P=["<I:START>","<B:START>","<STRIKE:START>","<I:END>","<B:END>","<STRIKE:END>","<QUOTE:PREFIX>","<QUOTE:START>","<QUOTE:END>","<LONGQUOTE:PREFIX>"];var A=n("dG3r"),D=n("WKJn"),L=n("WExW"),q=n("hWsQ"),F=n("rqfA"),B=n("qm5R"),U=n("SOS8"),H=n("+u8r");var K=n("aLpA"),G=n("WFc3"),V=n("sxiy"),z=n("n8ZX"),Y=n("nNoG"),W=n("H0/5"),Q=n("UUlk"),X=n("FHcd");var Z=n("gSGL"),J=n("t+Pu"),$=n("tvJC"),ee=n("CeJR");var te=function(e){var t=function(e){var t=Object(T.b)(e,{shouldRenderEmojiAsText:!0,emojiNames:[]});return Object(S.a)(t.contents,function(e,t){if(t.attributes&&t.attributes.slackmention){var n=t.attributes.slackmention.id;return Object(J.a)(n)?e+"@"+Object(ee.a)(n):Object($.a)(n)?""+e+t.attributes.slackmention.label:e+"@"+n}return t.insert&&t.insert.slackemoji?e+t.insert.slackemoji.text:e+t.insert},"")}(e);if(!Object(Z.a)(t)||!t.trim())return{words:[],cmd:"",disp:null,rest:"",originalRest:"",originalText:null};var n=t.trim().split(/\s+/),r=n[0].toLowerCase().replace(/\u2019/g,"'"),a=n[0],i=t.substr(r.length).trim(),o=e.substr(r.length).trim();return{words:n,cmd:r,disp:a,rest:i,originalText:e,originalRest:o}},ne=n("sk9p"),re=n.n(ne),ae=n("NFsq"),ie=/^\/s\/([^\/]+)\/([^\/]*)(?:\/([a-z]+)?)?$/i,oe=n("rWF5"),se=n("RoYr"),ce=n("pWPO"),le=n("YaVv"),ue=n("BeL+");var de=n("a+Oh"),be=n("hAjP"),pe=n("qk+D"),he=n("pguY"),me=n("n3t6"),fe=Object(j.b)('Attempt to edit the previous message via the "/s" shortcut',function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.prev,i=n.next,o=n.ignoreCase,s=n.replaceAll,c=t(),l=Object(be.c)(c,{channelId:r});if(!l||!l.text)return Promise.reject(new Error("Message not found"));var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.ignoreCase,i=r.replaceAll;if(!e||!t)return null;var o="";a&&(o+="i"),i&&(o+="g");var s=Object(he.a)(t),c=new RegExp("(^|[\\s\\n\\r\\t.,'\"+!?\\-_|]+)(?:"+s+")(?=[\\s\\n\\r\\t.,'\"+!?\\-_|]+|$)",o);return e.replace(c,"$1"+n)}(Object(me.b)(l.text,null,{for_edit:!0}),a,i,{ignoreCase:o,replaceAll:s});return u?e(Object(pe.a)({channelId:r,ts:l.ts,text:u})):Promise.reject(new Error("No message text"))});fe.propTypes={channelId:s.b.string,prevWord:s.b.string,nextWord:s.b.string,ignoreCase:s.b.bool,replaceAll:s.b.bool};var ve=fe,ge=n("fujP"),_e=n("/u/P"),Oe=n("L8gx"),ye=n("Q+UV"),je=n("bHK9"),ke=n("XoJV"),Ee=n("rzSx"),Ce=n("zfae"),Ie=n("oRxB"),we=Object(j.b)("Check if messages matches the +:emoji: pattern and handle it if so",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.messageText,a=n.delta,i=n.channelId,o=n.threadTs,s=t(),c=Object(h.j)(s,"feature_sonic_emoji"),l=Object(Y.p)(),u=o?Object(_e.a)(s,i,o):Object(Oe.a)(s,i);if(!u)return{didHandle:!1,didAddOrRemove:!1};var d=r;if(a){var b=!0;if(d="",Object(H.a)(a,function(e,t){b&&(Object(ge.a)(t.attributes)?Object(q.a)(e)||Object(A.a)(e)?b=!1:Object(D.a)(e)?d+=e.insert.slackemoji.text:Object(F.a)(e)?d+=e.insert:b=!1:b=!1)}),!b)return{didHandle:!1,didAddOrRemove:!1}}var p=d.match(/:/g);if(!p||p.length<2)return{didHandle:!1,didAddOrRemove:!1};var m=(c?Object(ke.c)({text:d,locale:l}):Object(Ee.f)(d)).match(Object(R.f)());if(!m)return{didHandle:!1,didAddOrRemove:!1};var f=m[1],v=m[2],g="+"===f||"\uff0b"===f,_=Object(R.g)(v);if(!_)return{didHandle:!1,didAddOrRemove:!1};var O=Object(ye.b)(u);if(!O)return Object(z.c)("beep"),{didHandle:!0,didAddOrRemove:!1};var j=_.skinTone?_.name+"::skin-tone-"+_.skinTone:_.name,k=Object(ye.a)(s,O,j),E=Object(h.b)(s),C=Object(Ce.f)(s,O,k),I=C&&-1!==C.users.indexOf(E);if(!I&&!g)return{didHandle:!1,didAddOrRemove:!1};if(g&&I)return Object(z.c)("beep"),{didHandle:!0,didAddOrRemove:!1};if(c){var w=Object(y.b)(s);if(!Object(je.l)(s,{text:_.name,teamId:w}))return Object(z.c)("beep"),{didHandle:!0,didAddOrRemove:!1}}else if(!Object(Ee.e)(_.name))return Object(z.c)("beep"),{didHandle:!0,didAddOrRemove:!1};return e(Object(Ie.a)({key:O,name:j,adding:g})),{didHandle:!0,didAddOrRemove:!0}});we.propTypes={messageText:s.b.string,delta:s.b.object,channelId:s.b.string.isRequired,threadTs:s.b.string};var Se=we,Te=n("DTT0"),Re=n("iCc5"),Ne=n.n(Re),xe=n("V7oC"),Me=n.n(xe),Pe=n("FYw3"),Ae=n.n(Pe),De=n("mRg0"),Le=n.n(De),qe=n("ifKl"),Fe=n("tn36"),Be=n("XHGt"),Ue=n("XRnC"),He=n("AfrZ"),Ke=n("wfE8"),Ge=n("ITcr"),Ve=n("XLFM"),ze=n("cMxN"),Ye=n("RB1+"),We=n("lwWk"),Qe=(n("vbTZ"),new Y.b("message-input")),Xe=(s.b.object,s.b.string,s.b.string,s.b.object,s.b.string,s.b.bool,s.b.func,s.b.func,s.b.func,s.b.func,s.b.bool,s.b.number,s.b.bool,{channel:void 0,channelId:void 0,text:void 0,delta:void 0,blockedKeyword:void 0,isCurrentUserAdmin:!1,onClose:qe.a,prepareAndSendMessage:qe.a,fetchConversationInfo:qe.a,setUserPrefByApi:qe.a,featureSonicInputs:!1,initialMemberCount:void 0,featureWysiwygComposer:!1}),Ze=function(e){function t(e){Ne()(this,t);var n=Ae()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.state={timezoneCount:void 0,memberCount:e.initialMemberCount},Object(Fe.a)(n,["sendMessage","handleKeyDown","startListeningToKeydown","stopListeningToKeydown"]),n.inputProxy=Object(Ye.a)({viewContext:K.C.MESSAGE_PANE,channelId:e.channelId});var r=n.inputProxy.getContainer();return r&&(n.targetBounds=r.getBoundingClientRect()),n}return Le()(t,e),Me()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.channel,r=t.channelId;this.startListeningToKeydown(),this.props.fetchConversationInfo({channelId:r,noMembers:Object(u.W)(n),timezoneCount:!0,displayCounts:!0,reason:"message-input-broadcast-warning"}).then(function(t){t&&t.channel&&e.setState(function(){return{timezoneCount:t.channel.timezone_count,memberCount:t.channel.display_counts.display_counts}})}),this.props.setUserPrefByApi({pref:"last_seen_at_channel_warning",value:Date.now()})}},{key:"componentWillUnmount",value:function(){this.stopListeningToKeydown()}},{key:"sendMessage",value:function(){var e=this.props,t=e.channelId,n=e.text,r=e.delta,a=e.featureWysiwygComposer;this.inputProxy.clear(),this.props.prepareAndSendMessage({channelId:t,text:n,delta:a?r:null,includeBroadcastKeywordWarning:!1}),this.props.onClose()}},{key:"handleKeyDown",value:function(e){13===e.which&&(e.preventDefault(),this.sendMessage())}},{key:"startListeningToKeydown",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"stopListeningToKeydown",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.isCurrentUserAdmin,n=e.blockedKeyword,r=e.featureSonicInputs,a=e.onClose,i=this.state,o=i.timezoneCount,s=i.memberCount,c=Object(Ge.a)(n),u="";r&&(u=!o||o<2?Qe.rt("By using {keyword}, you are about to notify <strong>{member_count, plural, =1 {# person} other {# people}}</strong>. Are you sure?",{keyword:l.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",c.name),member_count:s}):Qe.rt("By using {keyword}, you are about to notify <strong>{member_count, plural, =1 {# person} other {# people}}</strong> in <strong>{timezone_count} timezones</strong>. Are you sure?",{keyword:l.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",c.name),member_count:s,timezone_count:o}));var d="";return r&&(d=t?Qe.rt("Pssst... admins! {workspace_settings_link} control this warning",{workspace_settings_link:l.a.createElement(We.a,{href:"/admin/settings#permissions",target:"_blank"},Qe.t("Workspace settings"))}):Qe.t("Psssssst! These warnings can be modified by an Admin!")),l.a.createElement(ze.a,{isOpen:!0,shouldCloseOnOverlayClick:!0,position:"top-left",key:"message-pane-input-broadcast-warning",overlayClassName:"c-popover p-message_pane_input_broadcast_warning__overlay",onClose:a,targetBounds:this.targetBounds,offsetX:5,offsetY:-10},l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning"},l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__body"},l.a.createElement("p",{className:"p-message_pane_input_broadcast_warning__description"},u),l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__buttons"},l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__button"},l.a.createElement(Ve.d,{type:"outline",onClick:a},r?Qe.t("Edit message"):""),l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__button_text"},r?Qe.rt("<strong>Esc</strong> to edit"):"")),l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__button"},l.a.createElement(Ve.d,{onClick:this.sendMessage},r?Qe.t("Send it now"):""),l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__button_text"},r?Qe.rt("<strong>Return {return_symbol}</strong> to send",{return_symbol:l.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__return"},"\u21b5")}):""))),l.a.createElement("div",{className:"p-message_pane_input_broadcast_warning__hint"},d))))}}]),t}(c.Component);Ze.displayName="MessagePaneInputBroadcastWarning",Ze.defaultProps=Xe;var Je={prepareAndSendMessage:function(){return Ue.a.apply(void 0,arguments)},fetchConversationInfo:function(){return Ke.h.apply(void 0,arguments)},setUserPrefByApi:function(){return He.f.apply(void 0,arguments)}},$e=Object(Be.b)(function(e,t){var n=t.channelId;return{channel:Object(g.d)(e,n),isCurrentUserAdmin:Object(b.X)(Object(m.b)(e)),featureSonicInputs:Object(h.j)(e,"feature_sonic_inputs"),featureWysiwygComposer:Object(de.a)(e)}},Je)(Ze),et=Object(j.b)("Display broadcast warning (shouty rooster)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.text,i=n.delta,o=n.keywordsInUse,s=n.memberCount,c=l.a.createElement($e,{channelId:r,text:a,delta:i,blockedKeyword:o.includes("BKeveryone")?"BKeveryone":"BKchannel",initialMemberCount:s,onClose:function(){e(Object(Te.a)())}});e(Object(Te.e)({element:c}))});et.propTypes={channelId:s.b.string.isRequired,text:s.b.string.isRequired};var tt=et,nt=n("D4L/"),rt=n("U3Q0"),at=n("5mKg"),it=new Y.b("message-input"),ot=(s.b.object,s.b.string,s.b.string,s.b.object,s.b.arrayOf(s.b.object),s.b.func,s.b.func,s.b.bool,s.b.bool,s.b.arrayOf(s.b.string),s.b.arrayOf(s.b.string),s.b.string,{channel:void 0,channelId:void 0,text:void 0,delta:void 0,files:[],onClose:qe.a,prepareAndSendMessage:qe.a,featureSonicInputs:!1,featureWysiwygComposer:!1,workspaceNames:void 0,fileOwners:void 0,channelDisplayName:void 0}),st=function(e){function t(e){Ne()(this,t);var n=Ae()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(Fe.a)(n,["sendMessage"]),n.inputProxy=Object(Ye.a)({viewContext:K.C.MESSAGE_PANE,channelId:e.channelId}),n}return Le()(t,e),Me()(t,[{key:"sendMessage",value:function(){var e=this.props,t=e.channelId,n=e.text,r=e.featureWysiwygComposer,a=e.delta;this.inputProxy.clear(),this.props.prepareAndSendMessage({channelId:t,text:n,delta:r?a:null,includePrivateFileReshareWarning:!1}),this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=e.featureSonicInputs,n=e.channel,r=e.files,a=e.onClose,i=e.workspaceNames,o=e.fileOwners,s=e.channelDisplayName,c="",d="";return t&&(Object(u.Y)(n)&&(Object(u.eb)(n)||Object(u.lb)(n)||Object(u.xb)(n))?(c=it.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:r.length}),d=it.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} could be shared with anyone from <strong>{workspace_name}</strong>.",{user_names:Object(Y.h)(o).join(""),workspace_name:Object(Y.h)(i).join(""),file_owners_count:o.length,file_count:r.length})):Object(u.Y)(n)&&Object(u.W)(n)?(c=it.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:r.length}),d=it.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} will be viewable by anyone from <strong>{workspace_names}</strong>.",{user_names:Object(Y.h)(o).join(""),workspace_names:i,file_owners_count:o.length,file_count:r.length})):Object(u.eb)(n)?(c=it.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:r.length}),d=it.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by <strong>{recipient_name}</strong>.",{user_names:Object(Y.h)(o).join(""),recipient_name:s,file_owners_count:o.length,file_count:r.length})):Object(u.lb)(n)?(c=it.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:r.length}),d=it.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by everyone in this conversation.",{user_names:Object(Y.h)(o).join(""),file_owners_count:o.length,file_count:r.length})):(c=it.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:r.length}),d=it.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by anyone in <strong>{channel_name}</strong>.",{user_names:Object(Y.h)(o).join(""),channel_name:s,file_owners_count:o.length,file_count:r.length}))),l.a.createElement(rt.a,{isOpen:!0,onClose:a,title:c,goButtonText:t?it.t("Share {file_count, plural, =1 {file} other {files}}",{file_count:r.length}):"",onGo:this.sendMessage},d)}}]),t}(c.Component);st.displayName="MessageInputPrivateReshareWarning",st.defaultProps=ot;var ct={prepareAndSendMessage:function(){return Ue.a.apply(void 0,arguments)}},lt=Object(Be.b)(function(e,t){var n=t.channelId,r=t.files,a=Object(g.d)(e,n),i=r.map(function(t){return Object(b.Q)(e,Object(p.l)(t).userId)}),o=void 0;if(Object(u.Y)(a))if(Object(u.eb)(a)){var s=Object(b.J)(Object(m.c)(e,Object(u.G)(a)));if(!s)return null;o=[Object(at.e)(Object(nt.i)(e,s))]}else o=Object(u.M)(e,a).map(function(t){return Object(at.e)(Object(nt.i)(e,t))});return{channel:a,channelDisplayName:Object(u.x)(e,a),featureSonicInputs:Object(h.j)(e,"feature_sonic_inputs"),featureWysiwygComposer:Object(de.a)(e),workspaceNames:Object(ue.a)(o),fileOwners:Object(ue.a)(i)}},ct)(st),ut=Object(j.b)("Display private file reshare warning",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.text,i=n.delta,o=n.files,s=l.a.createElement(lt,{channelId:r,text:a,delta:i,files:o,onClose:function(){e(Object(Te.a)())}});e(Object(Te.e)({element:s}))});ut.propTypes={channelId:s.b.string.isRequired,text:s.b.string,delta:s.b.object,files:s.b.arrayOf(s.b.object).isRequired};var dt=ut,bt=n("wYji"),pt=n("g5qt"),ht=n("qafc"),mt=n("7WZX"),ft=n("4ZYW"),vt=n("qlK9"),gt=new Y.b("client"),_t=K.P.RESTRICTED_COMMAND,Ot=K.P.UNKNOWN_API_ERROR,yt=K.P.UNKNOWN_COMMAND,jt=K.P.UNSUPPORTED_IN_THREAD,kt=K.P.CUSTOM_ERROR,Et=Object(j.b)("Prepare a message and dispatch the `sendMessage` thunk",function(e,t,n){var r=n.channelId,s=n.text,c=n.delta,j=n.replyToTs,Y=n.enableSlashCommands,Z=void 0===Y||Y,J=n.shouldBroadcast,$=void 0!==J&&J,ee=n.includeBroadcastKeywordWarning,ne=void 0!==ee&&ee,be=n.includePrivateFileReshareWarning,pe=void 0!==be&&be,he=t(),me=Object(w.a)(Object(v.g)(he,r)),fe=Object(C.a)({getState:t}),ge=Object(de.a)(he),_e=Object(ft.a)(he,{channelId:r,text:s,delta:c,inThread:!!j,featureWysiwygComposer:ge}),Oe=_e.rawText,ye=_e.formattedText,je=_e.processedDelta,ke=ge?"/wakewake"===Object(ce.a)({contents:je.ops}):"/wakewake"===ye,Ee=Object(h.j)(he,"feature_sonic_inputs"),Ce=Object(h.j)(he,"feature_offline_mode"),Ie=Object(h.j)(he,"feature_degraded_send");if(Ee&&!Ce&&!ke&&(!Object(O.i)(he)&&!Ie||!Object(_.c)(he)&&Ie)){var we=gt.t("Hmm, your computer seems to be *offline*, so sending messages won\u2019t work at the moment.");return e(Object(bt.b)({temporary:!0,ephemeralType:k.a.disconnectedFeedback,message:{text:we,channel:r,slackbot_feels:bt.a.sadSurprise,thread_ts:j}})),Promise.reject(new Error("Client is offline"))}var Te=Object(se.a)({contents:je.ops});if(ne&&Object(u.Tb)(he,r,Te)){var Re=Object(E.f)(he,r),Ne=Re&&Re.counts&&Re.counts.member_count;if(Ne&&Ne>K.b)return e(tt({channelId:r,text:s,delta:ge?je:null,keywordsInUse:Te,memberCount:Ne})),Promise.reject(new Error("Shouty rooster in effect"))}if(Ee&&pe){var xe=void 0;xe=ge?function(e){if(!e||!e.length())return[];var t=[];return e.forEach(function(e){Object(L.a)(e)&&t.push(e.attributes.link)}),Object(ue.a)(t)}(je):Object(N.c)(s);var Me=Object(i.a)(xe.map(function(e){return function(e,t){if(!t)return null;var n=Object(N.j)(t),r=Object(W.a)(n.pathname,"/");if(!Object(N.h)(n.hostname))return null;var a=r.split("/");if(0===r.indexOf("files/")){if(a.length<3)return null;var i=a[1];if(!i)return null;var o=Object(X.a)(i)?Object(m.c)(e,i):Object(m.d)(e,i);if(!o||Object(b.Gb)(o))return null;if(a[2]&&Object(Q.a)(a[2]))return a[2]}else if(0===r.indexOf("files-pri/")){if(a.length<3)return null;var s=a[1];if(s.indexOf("-")<0)return null;var c=s.split("-");if(2!==c.length)return null;if(c[1]&&Object(Q.a)(c[1]))return c[1]}return null}(he,e)})).map(function(e){return Object(f.h)(he,e)}),Pe=Object(m.b)(he),Ae=Me.filter(function(e){return e&&!Object(p.G)(e)&&Object(p.E)(e)&&e.user!==Pe.id});if(Ae.length>0)return e(dt({channelId:r,text:s,delta:ge?je:null,files:Ae})),Promise.reject(new Error("Showing private file re-share"))}if(Object(oe.v)("3.0.0")&&pt.fb&&pt.fb.appendBufferText)try{if(ge){var De=function(e){var t="";return e&&e.length()?(Object(H.a)(e,function(e,n){Object(B.a)(n)||Object(U.a)(n)||Object(L.a)(e)||Object(A.a)(e)||Object(D.a)(e)||Object(q.a)(e)||Object(F.a)(e)&&(t+=e.insert)}),(t=(t=(t=t.replace(Object(R.c)(),"")).replace(x.a,"")).replace(N.a,"")).trim()):t}(je);pt.fb.appendBufferText(De,{workspaceId:Object(y.b)(he)})}else{var Le=function(e){var t="";if(!e)return t;var n=Object(T.b)(e,{highlightWords:[],shouldRenderEmojiAsText:!0});t=(t=(t=(t=Object(S.a)(n.contents,function(e,t){return t.attributes&&t.attributes.slackmention?e:t.insert&&t.insert.slackemoji?e:e+t.insert},"")).replace(Object(R.c)(),"")).replace(x.a,"")).replace(N.a,"");var r=Object(M.b)(t,"NORMAL"),a=!1;return t=Object(S.a)(r,function(e,t){return P.includes(t)?e:"<HEX:BLOCK"===t.substr(0,10)?e:"<SPACE:HARD>"===t?e+" ":"<LINE:BREAK>"===t?e+"\n":"<PARA:BREAK>"===t?e+"\n\n":["<CODE:START>","<PRE:START>"].includes(t)||"<LINK:START"===t.substr(0,11)?(a=!0,e):["<CODE:END>","<PRE:END>"].includes(t)||"<LINK:END"===t.substr(0,9)?(a=!1,e):a?e:e+t},"")}(Oe);pt.fb.appendBufferText(Le,{workspaceId:Object(y.b)(he)})}}catch(e){}var qe=Object(h.j)(he,"feature_react_threads");if(Ee||j&&qe){var Fe=e(Se({delta:ge?je:null,messageText:ge?null:s,channelId:r,threadTs:j}));if(Fe.didHandle&&!Fe.didAddOrRemove)return Promise.reject(new Error("Could not add/remove reaction"));if(Fe.didHandle)return Promise.resolve()}if(ge&&Z){var Be=Object(ce.a)({contents:je.ops});if(Object(G.a)(Be)){var Ue=gt.t("Slash commands are not yet supported.");return e(Object(bt.b)({ephemeralType:k.a.tempSlashCmdFeedback,message:{text:Ue,channel:r,slackbot_feels:bt.a.sadSurprise,thread_ts:j}})),Promise.reject(new Error("Slash commands not supported under wysiwyg"))}}if(Ee&&Object(G.a)(Oe)&&Z){var He=function(e){if(!e)return null;var t=e.replace(/\uff0f/g,"/").match(ie)||[],n=re()(t,4),r=n[1],a=n[2],i=n[3];return r?{prev:r,next:a,replaceAll:Object(ae.a)(i,"g"),ignoreCase:Object(ae.a)(i,"i")}:null}(Oe);if(He)return fe.info("SLASH-COMMAND",'Command "search/replace" is PENDING'),e(ve(a()({channelId:r},He))).then(function(){fe.info("SLASH-COMMAND",'Command "search/replace" RESOLVED')}).catch(function(e){throw fe.info("SLASH-COMMAND",'Command "search/replace" FAILED (error "'+e.message+'")'),Object(z.c)("beep"),e});var Ke=te(Oe),Ve=j?k.a.threadsTempSlashCmdFeedback:k.a.tempSlashCmdFeedback;return e(Object(k.e)({ephemeralType:Ve})),e(Object(V.a)({args:Ke,channelId:r,threadTs:j,delta:je})).tap(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).response;t&&e(Object(bt.b)({message:{text:t,channel:r,thread_ts:j}}))}).catch(function(t){var n=void 0;throw n=t.message===_t?gt.t("*{command}* failed because you are not allowed to perform that action. Talk to your Workspace Owner.",{command:Ke.cmd}):t.message===yt?gt.t('*{command}* is not a valid command. In Slack, all messages that start with the "/" character are interpreted as commands.\n\nIf you are trying to send a message and not run a command, try preceding the "/" with an empty space.',{command:Ke.cmd}):t.message===jt?gt.t("*{command}* is not supported in threads. Sorry!",{command:Ke.cmd}):t.message===Ot&&t.feedback?gt.t('*{command}* failed with the error "{reason}"',{command:Ke.cmd,reason:t.feedback}):t.message===kt&&t.feedback?t.feedback:gt.t("*{command}* failed with an unknown error.",{command:Ke.cmd}),e(Object(bt.b)({ephemeralType:Ve,message:{text:n,channel:r,slackbot_feels:bt.a.sadSurprise,thread_ts:j}})),t})}if(Ee){if(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.replyToTs,i=e(),o=Object(g.d)(i,r);if(a)return!(Object(u.Jb)(o)||Object(u.jb)(i,o)||!Object(u.l)(i,r)||Object(u.V)(o)||!Object(u.kb)(o));if(!Object(d.q)(i,r)&&Object(u.cb)(o)){if(Object(h.j)(i,"feature_sonic_inputs")){var s=gt.t("A Workspace Owner has restricted posting to the *{channel_name}* channel.",{channel_name:Object(u.x)(i,o)});t(Object(bt.b)({temporary:!0,ephemeralType:k.a.generalPostingRestricted,message:{text:s,channel:r,thread_ts:a}}))}return!1}if(Object(h.j)(i,"feature_announce_only_websocket")&&Object(u.z)(i,o)){var c=gt.t("Posting to *{channel_name}* has been restricted to select members.",{channel_name:Object(u.x)(i,o)});return t(Object(bt.b)({temporary:!0,ephemeralType:k.a.generalPostingRestricted,message:{text:c,channel:r,thread_ts:a}})),!1}if(!Object(d.q)(i,r)||Object(u.V)(o)||!Object(u.kb)(o))return!1;return!0}(t,e,{channelId:r,replyToTs:j}))return Promise.reject(new Error("Posting restrictions in effect"));if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.replyToTs,i=n.delta,s=e(),c=Object(g.d)(s,r),l=a?[]:Object(o.a)(Object(Ge.c)(s,r),"id"),u=i.filter(function(e){return e.attributes&&e.attributes.slackmention&&"BK"===e.attributes.slackmention.id.substr(0,2)}).map(function(e){return e.attributes.slackmention.id});if(u.includes("BKhere")&&!l.includes("BKhere")||u.includes("BKchannel")&&!l.includes("BKchannel")){var p=void 0,f=u.includes("BKhere")?Object(Ge.b)(Object(Ge.a)("BKhere")):Object(Ge.b)(Object(Ge.a)("BKchannel"));return Object(d.n)(s,r)?Object(h.j)(s,"feature_sonic_inputs")&&(p=gt.t("Usage of *{key_word}* is restricted to Workspace Admins in this large channel.",{key_word:"@"+f})):Object(h.j)(s,"feature_sonic_inputs")&&(p=gt.t("A Workspace Owner has restricted the use of *{key_word}* messages.",{key_word:"@"+f})),t(Object(bt.b)({temporary:!0,ephemeralType:k.a.genericPostingRestricted,message:{text:p,channel:r,thread_ts:a}})),!0}if(u.includes("BKeveryone")&&!l.includes("BKeveryone")){var v=Object(Ge.b)(Object(Ge.a)("BKeveryone")),_="";return Object(h.j)(s,"feature_sonic_inputs")&&(_=gt.t("A Workspace Owner has restricted the use of *{everyone}* messages.",{everyone:"@"+v})),Object(b.xb)(Object(m.b)(s))?Object(h.j)(s,"feature_sonic_inputs")&&(_=gt.t("Your account is restricted, and you cannot send *{everyone}* messages.",{everyone:"@"+v})):Object(d.o)(s,c)&&Object(h.j)(s,"feature_sonic_inputs")&&(_=gt.t("Usage of *{everyone}* is restricted to Workspace Admins in the large general channel.",{everyone:"@"+v})),t(Object(bt.b)({temporary:!0,ephemeralType:k.a.genericPostingRestricted,message:{text:_,channel:r,thread_ts:a}})),!0}return!1}(t,e,{channelId:r,replyToTs:j,delta:je}))return Promise.reject(new Error("Broadcast keyword restrictions in effect"))}var ze=void 0;j&&(ze={reply_broadcast:$,thread_ts:j});var Ye=0,We=0;(je.forEach(function(e){e.attributes&&e.attributes.slackmention&&(e.attributes.slackmention.unverified?We+=1:Ye+=1)}),Ye||We)&&Object(I.a)({state:he}).track("MSG_SUBMITTED_MENTIONS",{num_mentions:Ye,num_unverified_mentions:We});var Qe=a()({channel:r,ts:me,type:"message"},ze);if(ge)try{Qe.blocks=Object(le.a)(he,je).blocks}catch(t){fe.info("RICH-TEXT",'Conversion of Delta to Block Kit failed with error: "'+t.message+'")');var Xe=l.a.createElement(ht.b,{icon:"warning"},gt.rt("Couldn\u2019t send message. You may need to remove formatting or retype your message."));return e(Object(mt.c)({element:Xe})),Promise.reject(t)}else Qe.text=ye.trim();return e(Object(vt.a)(Qe))});Et.propTypes={channelId:s.b.string,text:s.b.string,replyToTs:s.b.string,shouldBroadcast:s.b.bool,enableSlashCommands:s.b.bool};t.a=Et},eJId:function(e,t,n){"use strict";n.d(t,"a",function(){return Q}),n.d(t,"c",function(){return X}),n.d(t,"b",function(){return Z});var r=n("QbLZ"),a=n.n(r),i=n("vJtL"),o=n("Z3Pq"),s=n("nNoG"),c=n("+1yX"),l=n("aW/o"),u=n("clTI"),d=n("6kok"),b=n("KPXh"),p=n("HvGc"),h=n("uA1+"),m=n("HO/Y"),f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"igcB")).then(function(n){return e(n.default.apply(n,t))})}},v=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"jQjR")).then(function(n){return e(n.default.apply(n,t))})}},g=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"734V")).then(function(n){return e(n.default.apply(n,t))})}},_=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"Gl4g")).then(function(n){return e(n.default.apply(n,t))})}},O=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"94Dx")).then(function(n){return e(n.default.apply(n,t))})}},y=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"ZTVY")).then(function(n){return e(n.default.apply(n,t))})}},j=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"lDjh")).then(function(n){return e(n.default.apply(n,t))})}},k=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"jCrQ")).then(function(n){return e(n.default.apply(n,t))})}},E=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"hSQO")).then(function(n){return e(n.default.apply(n,t))})}},C=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"+99y")).then(function(n){return e(n.default.apply(n,t))})}},I=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"9EOT")).then(function(n){return e(n.default.apply(n,t))})}},w=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"qy+J")).then(function(n){return e(n.default.apply(n,t))})}},S=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"V/nu")).then(function(n){return e(n.default.apply(n,t))})}},T=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"ux1c")).then(function(n){return e(n.default.apply(n,t))})}},R=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"KyUF")).then(function(n){return e(n.default.apply(n,t))})}},N=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"STSq")).then(function(n){return e(n.default.apply(n,t))})}},x=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"RWyn")).then(function(n){return e(n.default.apply(n,t))})}},M=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"KyCo")).then(function(n){return e(n.default.apply(n,t))})}},P=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"PoBj")).then(function(n){return e(n.default.apply(n,t))})}},A=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"ZsyN")).then(function(n){return e(n.default.apply(n,t))})}},D=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"yChY")).then(function(n){return e(n.default.apply(n,t))})}},L=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"WpA8")).then(function(n){return e(n.default.apply(n,t))})}},q=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"IVup")).then(function(n){return e(n.default.apply(n,t))})}},F=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"0AMr")).then(function(n){return e(n.default.apply(n,t))})}},B=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"Wg6/")).then(function(n){return e(n.default.apply(n,t))})}},U=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"qpF8")).then(function(n){return e(n.default.apply(n,t))})}},H=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"+MKQ")).then(function(n){return e(n.default.apply(n,t))})}},K=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return Promise.resolve().then(n.bind(null,"ID5/")).then(function(n){return e(n.default.apply(n,t))})}},G=new s.b("cmd_handlers"),V=function(){return[{canonical_name:"/archive",name:function(){return"/"+G.t("archive")},autocomplete:!0,desc:function(){return G.t("Archive the current channel")},action:h.a},{canonical_name:"/call",name:function(){return"/"+G.t("call")},autocomplete:!0,desc:function(){return G.t("Start a call")},action:f},{canonical_name:"/collapse",name:function(){return"/"+G.t("collapse")},autocomplete:!0,desc:function(){return G.t("Collapse all files in the current channel (opposite of /expand)")},action:v},{canonical_name:"/color",name:function(){return"/"+G.t("color")},aliases:function(){return["/"+G.t("colour")]},autocomplete:!1,desc:function(){return G.t("Set a custom color for another member")},action:g},{canonical_name:"/expand",name:function(){return"/"+G.t("expand")},autocomplete:!0,desc:function(){return G.t("Expand all files in the current channel (opposite of /collapse)")},action:_},{canonical_name:"/invite",name:function(){return"/"+G.t("invite")},autocomplete:!0,desc:function(){return G.t("Invite another member to a channel")},usage:function(){return G.t("@user")+" ["+G.t("channel")+"]"},action:O},{canonical_name:"/invite_people",name:function(){return"/"+G.t("invite_people")},autocomplete:!0,desc:function(){return G.t("Invite people to your workspace")},usage:function(e){return Object(m.j)(e,"feature_sonic_inputs")?G.t("name@example.com, \u2026"):""},action:y},{canonical_name:"/leave",name:function(){return"/"+G.t("leave")},aliases:function(){return["/"+G.t("close"),"/"+G.t("part")]},autocomplete:!0,desc:function(){return G.t("Leave a channel")},usage:function(){return"["+G.t("channel")+"]"},action:j},{canonical_name:"/msg",name:function(){return"/"+G.t("msg")},aliases:function(){return["/"+G.t("dm")]},autocomplete:!0,desc:function(){return G.t("Send a DM message to another user")},usage:function(){return G.t("@user")+" "+G.t("your message")},action:k},{canonical_name:"/open",name:function(){return"/"+G.t("open")},aliases:function(){return["/"+G.t("join")]},autocomplete:!0,desc:function(){return G.t("Open a channel")},usage:function(){return G.t("channel")},action:E},{canonical_name:"/remove",name:function(){return"/"+G.t("remove")},aliases:function(){return["/"+G.t("kick")]},autocomplete:!0,desc:function(){return G.t("Remove a person from the current channel")},usage:function(){return G.t("@user")},action:C},{canonical_name:"/rename",name:function(){return"/"+G.t("rename")},autocomplete:!0,desc:function(e){var t=Object(l.a)(e),n=Object(c.a)(t)&&t,r=Object(u.d)(e,n);return Object(d.Y)(r)?G.t("Rename this channel for your workspace"):G.t("Rename a channel")},action:I},{canonical_name:"/search",name:function(){return"/"+G.t("search")},autocomplete:!0,aliases:function(){return["/"+G.t("s")]},desc:G.t("Perform a search"),usage:function(){return G.t("[your text]",{fallbackHash:"b4442c73d6f504d4afa78b816d0751d052898941"})},action:K},{name:function(){return"/"+G.t("shortcuts")},canonical_name:"/shortcuts",autocomplete:!0,aliases:function(){return["/"+G.t("keys")]},desc:function(){return G.t("Open the keyboard shortcuts dialog")},action:p.t},{name:"/slackaccessibility",autocomplete:!1,action:w},{name:"/slackcookies",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:S},{name:"/slackdebuglag",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:T,desc:function(e){return Object(m.j)(e,"feature_tinyspeck")?G.t("Artificially simulate a poor network connection"):"Artificially simulate a poor network connection"}},{name:"/slackdebugunreads",action:R},{name:"/slackdebugdegrade",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:N},{name:"/slackdebugdegraderecover",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:x},{name:"/slackdevtools",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:M},{name:"/slackdesktopsettings",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:P},{name:"/slackgpuinfo",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:A},{name:"/slackserviceworkerinfo",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:D},{name:"/slackjspath",action:L},{name:"/slackmediainfo",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:q},{name:"/slacknetlog",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},action:F},{name:"/slacktrace",autocomplete:function(e){return Object(m.j)(e,"feature_tinyspeck")},desc:function(){return G.t("Submit a performance profile to Slack")},action:B},{canonical_name:"/star",name:function(){return"/"+G.t("star")},autocomplete:!0,desc:function(){return G.t("Stars the current channel or conversation")},action:U},{canonical_name:"/topic",name:function(){return"/"+G.t("topic")},autocomplete:!0,desc:function(e){var t=Object(l.a)(e),n=Object(c.a)(t)&&t,r=Object(u.d)(e,n);return Object(d.Y)(r)?G.t("Set the channel topic for your workspace"):G.t("Set the channel topic")},usage:function(){return G.t("[new topic]",{fallbackHash:"26fa2e9a104f983913d22b7fb6651eb49027c83a"})},action:H}]};function z(){var e=V();return Object(o.a)(e,b.d)}function Y(e,t){return Object(i.a)(t)?t(e):t}function W(e,t){return a()({},t,{autocomplete:Y(e,t.autocomplete),name:Y(e,t.name),desc:Y(e,t.desc),usage:Y(e,t.usage),aliases:Y(e,t.aliases),type:"client"})}function Q(e){return!!z()[e]}function X(e){return V().map(function(t){return W(e,t)})}function Z(e,t){var n=function(e){return z()[e]}(t);if(n)return W(e,n)}},eK0w:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("tfYw"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("QbLZ"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=n("aK/h"),_=n("UF3u"),O=n("oUPN"),y=n("nUcG"),j=n("YLnb"),k=h()({},O.a.propTypes,{layout:g.b.instanceOf(j.a),loadPre:g.b.func,loadPost:g.b.func,loadAround:g.b.func,itemToScroll:g.b.string,animateOnScroll:g.b.bool}),E=h()({},O.a.defaultProps,{layout:void 0,loadPre:m.a,loadPost:m.a,loadAround:m.a,itemToScroll:void 0,animateOnScroll:!0}),C=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onScroll=n.onScroll.bind(n),n.setHeight=n.setHeight.bind(n),n.layout=e.layout||new j.a,n.node=null,n.scrollTop=n.layout.setContainerHeight(e.height,0),n.scrollTop=n.layout.setKeys(e.keys,n.scrollTop);var r=n.layout.getBounds(n.scrollTop,n.scrollTop+e.height),i=r.start,o=r.end,s=n.layout.getTops();return n.state=h()({},n.state,{start:i,end:o,tops:s}),n}return b()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.itemToScroll!==e.itemToScroll&&this.scrollToIfNotVisible(e),this.possiblyUpdateInitialActiveItem(e),e.width!==this.props.width&&this.layout.heightCache.invalidate(),e.height!==this.props.height&&(this.scrollTop=this.layout.setContainerHeight(e.height,this.getScrollTop())),Object(_.a)(e.keys,this.props.keys)||(this.scrollTop=this.layout.setKeys(e.keys,this.getScrollTop())),this.relayout()}},{key:"scrollToIfNotVisible",value:function(e){var t=e.itemToScroll,n=e.animateOnScroll;t&&this.scrollToKey(t,{lazy:!0,animate:n})}},{key:"componentDidUpdate",value:function(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this)).call.apply(e,[this].concat(r)),"number"==typeof this.pendingScrollTop&&this.setScrollTop(this.pendingScrollTop),this.loadMore()}},{key:"componentDidMount",value:function(){u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),"number"==typeof this.pendingScrollTop&&this.setScrollTop(this.pendingScrollTop),this.loadMore()}},{key:"onScroll",value:function(e){this.pendingScrollTop=!1,u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onScroll",this).call(this,e)}},{key:"getScrollTop",value:function(){return"number"==typeof this.scrollTop?this.scrollTop:"number"==typeof this.pendingScrollTop?this.pendingScrollTop:this.node?u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getScrollTop",this).call(this):0}},{key:"setHeight",value:function(e,t){if(e&&!(Math.abs(t-this.layout.getHeight(e))<.5)){var n=this.getScrollTop();this.scrollTop=this.layout.setHeight(e,t,n),this.relayout()}}},{key:"loadMore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.start,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.end,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props,r=n.keys,a=n.height,i=this.layout.getTotalHeight(),o=this.layout.getTop(r[e]),s=this.layout.getBottom(r[t-1]),c=!r.length||i<=a||o<400,l=!r.length||i<=a||i-s<400;return c&&l?n.loadAround():c?n.loadPre():l?n.loadPost():null}},{key:"renderItem",value:function(e,t){var n=this.getTop(e),r=this.layout.getHeight(e),a=this.layout.getHeightValidity(e),i=this.state.activeItem===e,o=null===this.state.activeItem&&this.state.hasKeyboardFocus&&this.state.initialActiveItem===e,s=this.state.mouseDownTargetItem===e,c=this.state.hoveredItem===e,l=this.props,u=l.getAriaLabelForRow,d=l.isItemAriaExpanded,b=u&&u(t,{hasFocus:i}),p=d&&d(e,t),h=!0===p?this.props.itemAriaControls:void 0;return v.a.createElement(y.a,{key:e,id:e,height:r,validity:a,style:{top:n},role:this.props.itemRole,ariaLabel:b,ariaExpanded:p,ariaControls:h,hasFocus:i,hasFocusWithin:o,isMouseDownOnItem:s,onHeightChange:this.setHeight,onFocusEnter:this.onItemFocusEnter,onTabWithin:this.onItemTabWithin,onMouseOver:this.onItemMouseOver,onMouseLeave:this.onItemMouseLeave,onMouseDown:this.onItemMouseDown,onMouseUp:this.onItemMouseup,onClick:this.props.onItemClick,tabIndex:this.getListItemTabIndex()},this.props.rowRenderer(t,{key:e,hasFocus:i,isHovered:c,isExpanded:p}))}},{key:"render",value:function(){return this.pendingScrollTop=this.scrollTop,this.scrollTop=!1,u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(O.a);C.displayName="DynamicList",t.a=C,C.propTypes=k,C.defaultProps=E},eKxv:function(e,t,n){},eLtP:function(e,t,n){},eVD5:function(e,t,n){},eVYY:function(e,t,n){"use strict";n.d(t,"n",function(){return b}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return f}),n.d(t,"m",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return j}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return I});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Started uploading a file");b.propTypes={fileName:c.b.string,fileCount:c.b.number,isRetry:c.b.bool.isRequired,cancelable:c.b.bool.isRequired};var p=Object(l.b)("Update to the file upload % complete");p.propTypes={percentComplete:c.b.number.isRequired};var h=Object(l.b)("File is being processed by the backend");h.propTypes=null;var m=Object(l.b)("Canceled the file upload");m.propTypes=null;var f=Object(l.b)("Finished the file upload");f.propTypes=null;var v=Object(l.b)("Done all uploads");v.propTypes=null;var g=0,_=1,O=2,y=3,j=4,k={status:g,fileName:null,fileCount:null,percentComplete:0,cancelable:!1,isRetry:!1},E=Object(u.b)((r={},i()(r,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileName,r=t.fileCount,a=t.isRetry,i=t.cancelable;return{status:_,fileName:n,fileCount:r,isRetry:a,percentComplete:0,cancelable:i}}),i()(r,p,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).percentComplete;return s()({},e,{percentComplete:t})}),i()(r,h,function(e){return s()({},e,{status:j,percentComplete:100})}),i()(r,m,function(e){return s()({},e,{status:y})}),i()(r,f,function(e){return s()({},e,{status:O})}),i()(r,v,function(e){return s()({},e,{status:g})}),r),k,{persistenceEnabled:!1});E.propTypes={status:c.b.number.isRequired,fileName:c.b.string,fileCount:c.b.number,percentComplete:c.b.number,cancelable:c.b.bool,isRetry:c.b.bool},t.f=E;var C=Object(d.b)(function(e){return e&&e.fileUpload}),I=Object(d.b)(function(e){return e&&e.fileUpload&&e.fileUpload.status})},eb6J:function(e,t,n){},ebHB:function(e,t,n){},eglI:function(e,t,n){"use strict";n.r(t);var r=n("Cjy0"),a=n.n(r);n.d(t,"Quill",function(){return a.a});var i=n("mM05"),o=n.n(i);n.d(t,"Delta",function(){return o.a});var s=n("hCI9");n.d(t,"BaseTextyInput",function(){return s.a});var c=n("qxkA");n.d(t,"TabCompleteModule",function(){return c.a});var l=n("yqck");n.d(t,"PlainClipboardModule",function(){return l.a});var u=n("w4TM");n.d(t,"SlackKeyboardModule",function(){return u.b});var d=n("Xx2o");n.d(t,"TextyClass",function(){return d.a}),t.default=s.b},eoGz:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("g5qt"),a=n("KXvl"),i=n("hjTk"),o=n("wR6u"),s=n("dFG7"),c=void 0;function l(e){var t=Object(s.a)(e);r.X||!Object(a.b)()?(r.X&&(Object(o.d)(!1),clearTimeout(c),c=setTimeout(function(){Object(o.d)(!0)},3e4)),Object(i.a)(t)):window.location.assign(t)}},eqKo:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DTT0"),c=n("iCc5"),l=n.n(c),u=n("V7oC"),d=n.n(u),b=n("FYw3"),p=n.n(b),h=n("mRg0"),m=n.n(h),f=n("gSGL"),v=n("yIs4"),g=n("ifKl"),_=n("CpTu"),O=n("TSYQ"),y=n.n(O),j=n("wd/R"),k=n.n(j),E=n("XHGt"),C=n("8bBs"),I=n("DtX9"),w=n("FN36"),S=n("w0D2"),T=n("VjHM"),R=n("Fdc0"),N=n("82mD"),x=n("1aDv"),M=n("XLFM"),P=n("5VWh"),A=n("hFPh"),D=n("od5y"),L=n("U3Q0"),q=n("RMmo"),F=n("0f2Y"),B=n("MREy"),U=n("qkTT"),H=n("wMtF"),K=(n("/w/x"),i.b.node.isRequired,i.b.string,function(e){function t(){return l()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),d()(t,[{key:"render",value:function(){var e=y()("p-pill",this.props.className);return a.a.createElement("div",{className:e},this.props.children)}}]),t}(r.PureComponent));K.displayName="Pill",K.defaultProps={className:""};var G=K,V=n("cTBa"),z=n("qEEt"),Y=n("eglI"),W=n("oxKW"),Q=n("kOzZ"),X=n("negh"),Z=n("RAhH"),J=n("llxT"),$=n("uf9I"),ee=n("D4L/"),te=n("5mKg"),ne=n("x4bP"),re=n("+z37"),ae=n("OF9j"),ie=n("nNoG"),oe=n("e4Fz"),se=n("NAkb"),ce=n("n3t6"),le=n("PM8X"),ue=n("rWF5"),de=n("q5MM"),be=(n("vCuu"),new ie.b("current_status")),pe={TEAM_MENU:"team_menu",TEAM_SITE:"team_site",VIEW_PROFILE:"view_profile"},he=[X.e.IN_A_MEETING,X.e.COMMUTING,X.e.OUT_SICK,X.e.VACATIONING,X.e.WORKING_REMOTELY],me=(i.b.oneOf(["top","bottom-left"]),i.b.oneOf(Object.values(pe)),i.b.string,i.b.string,i.b.string,i.b.number,i.b.oneOf(Object.keys(de.a)),i.b.func.isRequired,i.b.bool.isRequired,i.b.arrayOf(i.b.shape({text:i.b.string,emoji:i.b.string,duration:i.b.string})).isRequired,i.b.string.isRequired,i.b.bool,i.b.bool,i.b.func,i.b.func,i.b.func,i.b.bool,i.b.string.isRequired,i.b.bool,i.b.bool,i.b.func,i.b.bool,i.b.bool,i.b.object.isRequired,{emojiMenuPosition:"bottom-left",inputType:pe.TEAM_MENU,initialText:"",initialEmoji:"",initialCanonical:"",initialExpiration:0,initialDuration:void 0,teamUsesCustomizedPresets:!1,time24:!1,onCancel:g.a,onSubmit:g.a,onChange:g.a,useDialog:!1,focusOnMount:!1,isControlled:!1,closeModal:g.a,usedCustomStatusKBShortcut:!1,openedFromKeyboardShortcut:!1});function fe(e){return e?a.a.createElement("div",{className:"p-custom_status_input__emoji"},a.a.createElement(U.b,{text:e,stopAnimations:!0,obeyEmojiMode:!1,emojiSize:U.a.MEDIUM,forceDisplay:!0})):a.a.createElement("div",{className:"p-custom_status_input__empty_emoji"},a.a.createElement(D.a,{className:"p-custom_status_input__emoji_circle_icon",type:"circle-fill"}),a.a.createElement(D.a,{className:"p-custom_status_input__emoji_smile_icon",type:"smile-o"}),a.a.createElement(D.a,{className:"p-custom_status_input__emoji_happy_icon",type:"happy-smile"}))}fe.displayName="renderEmoji";var ve=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=k()().add(1,"hours"),i=e.initialDuration;e.useDialog&&(e.initialExpiration&&e.initialExpiration%1800==0&&(r=k()(1e3*e.initialExpiration),i=de.a.custom),n.dialog=a.a.createRef());n.datePicker=a.a.createRef(),n.timePicker=a.a.createRef();var o=r.format("YYYY-MM-DD"),s=r.format("HH:mm");return n.state={text:Object(ce.b)(e.initialText,null,{for_edit:!0}),emoji:e.initialEmoji,canonical:e.initialCanonical,customExpirationDate:o,customExpirationTime:Object.keys(x.a).find(function(e){return e>=s})||"00:00",duration:i,textyHasFocus:!1,userDidSelectEmoji:!!e.initialEmoji,userDidSelectCustomDate:!1,selectedPresetIndex:void 0},n.setTextyRef=n.setTextyRef.bind(n),n.onTextChange=n.onTextChange.bind(n),n.onCancel=n.onCancel.bind(n),n.onEmojiChange=n.onEmojiChange.bind(n),n.onEnter=n.onEnter.bind(n),n.onCustomExpirationDateChange=n.onCustomExpirationDateChange.bind(n),n.onCustomExpirationTimeChange=n.onCustomExpirationTimeChange.bind(n),n.onDurationChange=n.onDurationChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onClickEmojiMenu=n.onClickEmojiMenu.bind(n),n.onClearIconClick=n.onClearIconClick.bind(n),n.onClearStatusButtonClick=n.onClearStatusButtonClick.bind(n),n.onTextyBlur=n.onTextyBlur.bind(n),n.onTextyFocus=n.onTextyFocus.bind(n),n.setFocusOnTextInput=n.setFocusOnTextInput.bind(n),n.selectedPresetOptionRef=a.a.createRef(),n.textyModules={tabcomplete:{positionMenu:function(e){e.style.width=n.texty.container.offsetWidth+"px",e.style.minWidth=n.texty.container.offsetWidth+"px",Object(se.a)(e,n.texty.container)},completers:["channels","emoji","members"]},keyboard:{useFormattingCommands:!1}},n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.useDialog&&this.dialog&&(this.keyCommands=new q.a(this.dialog.node),this.keyCommands.bindAll([{keys:["command+shift+y"],handler:function(t){t.preventDefault(),t.stopPropagation(),e.hasUnsavedChanges()&&e.hasInput()?e.onCancel():e.props.closeModal()}},{keys:["down"],handler:function(){return e.handleDownArrow()}},{keys:["up"],handler:function(){return e.handleUpArrow()}}]))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.isControlled,r=t.initialEmoji,a=t.initialText,i=t.initialCanonical,o=t.initialDuration,s=e.initialEmoji,c=e.initialText,l=e.initialDuration,u=e.initialCanonical;if((r!==s||a!==c||o!==l||i!==u)&&(n||!this.hasUnsavedChanges())){var d=Object(ce.b)(c,null,{for_edit:!0});this.texty.value(d),this.setState(function(){return{emoji:s,text:d,duration:l,canonical:u}})}}},{key:"componentDidUpdate",value:function(){this.props.useDialog&&this.selectedPresetOptionRef.current&&this.selectedPresetOptionRef.current.focus()}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"onCancel",value:function(){var e=this.props,t=e.inputType,n=e.initialEmoji,r=e.initialText,a=e.initialExpiration,i=e.initialCanonical,o=e.onCancel;t!==pe.TEAM_SITE&&(this.texty.value(r),this.setState(function(){return{text:r,emoji:n,canonical:i,duration:void 0}},function(){return o({emoji:n,text:r,expiration:a})}))}},{key:"onEnter",value:function(){var e=this.props.useDialog,t=this.state.text;this.hasUnsavedChanges()&&t.length<=100&&(this.onSubmit(),e&&this.props.closeModal())}},{key:"onClearIconClick",value:function(){var e=this.props.useDialog;this.clearStatus({andSubmit:!e})}},{key:"onClearStatusButtonClick",value:function(){this.clearStatus({andSubmit:!0})}},{key:"onClickEmojiMenu",value:function(e){var t=this.props.emojiMenuPosition,n="top"===t?-5:5;Object(le.a)({e:e,offset_y:n,position:t,callback:this.onEmojiChange,target_bounds:this.texty.container.getBoundingClientRect()})}},{key:"onPresetSelected",value:function(e){var t=e.emoji,n=e.text,r=e.canonical,a=e.duration,i=void 0===a?de.a.all_day:a,o=this.props.onChange;this.texty.value(n),this.setState(function(){return{emoji:t,text:n,canonical:r,duration:i,userDidSelectEmoji:!0}},this.setFocusOnTextInput),o({emoji:t,text:n,canonical:r,duration:i})}},{key:"onTextChange",value:function(){if(this.texty){var e=this.props,t=e.defaultEmoji,n=e.onChange,r=e.teamPresets,a=this.state,i=a.text,o=a.emoji,s=a.duration,c=a.userDidSelectEmoji,l=this.texty.value();if(l!==i){var u=(Object(_.a)(r,function(e){return l&&l===e.text})||{}).canonical||"",d=o;c||(d=l?t:"");var b=void 0!==s||this.hasInput()?s:de.a.all_day;this.setState(function(){return{text:l,emoji:d,canonical:u,duration:b}}),n({text:l,emoji:d,canonical:u,duration:b})}}}},{key:"onEmojiChange",value:function(e){var t=this.props.onChange,n=this.state.duration,r=void 0!==n||this.hasInput()?n:de.a.all_day;this.setState(function(){return{emoji:e,duration:r,userDidSelectEmoji:!0}},this.setFocusOnTextInput),t({emoji:e,duration:r})}},{key:"onDurationChange",value:function(e,t,n){var r=this,a=this.props.onChange;n&&n.persist&&n.persist(),this.setState(function(){return{duration:e}},function(){e===de.a.custom&&r.datePicker.current&&r.datePicker.current.triggerPopover&&r.datePicker.current.triggerPopover(n)}),a({duration:e})}},{key:"onCustomExpirationDateChange",value:function(e){var t=this,n=this.state.userDidSelectCustomDate;this.setState(function(){return{customExpirationDate:e,userDidSelectCustomDate:!0}},function(){t.timePicker.current&&t.timePicker.current.toggleOpenState&&!n&&t.timePicker.current.toggleOpenState(!0)})}},{key:"onCustomExpirationTimeChange",value:function(e){this.setState(function(){return{customExpirationTime:e}})}},{key:"onSubmit",value:function(){var e=this.state,t=e.canonical,n=e.emoji,r=this.props,a=r.defaultEmoji,i=r.inputType,o=r.onSubmit,s=this.texty.value();if(i===pe.TEAM_SITE)return!1;if(!this.hasUnsavedChanges()||s.length>100)return!1;var c={status_text:s,status_text_canonical:t,status_emoji:n,status_expiration:this.getExpiration()};return this.props.updateCurrentMemberProfile({profile:c}),this.clogStatusChange(),o({text:s,emoji:n||s&&a||void 0,expiration:this.getExpiration()}),!0}},{key:"onTextyBlur",value:function(){this.setState(function(){return{textyHasFocus:!1}})}},{key:"onTextyFocus",value:function(){this.setState(function(){return{textyHasFocus:!0}})}},{key:"setTextyRef",value:function(e){this.texty=e&&e.getWrappedInstance?e.getWrappedInstance():e}},{key:"setFocusOnTextInput",value:function(){this.texty.setCursorAtEnd(),this.resetSelectedPresetIndex()}},{key:"getCustomExpiration",value:function(){var e=this.state,t=e.customExpirationDate,n=e.customExpirationTime;return Math.round(k()(t+" "+n).unix())}},{key:"getExpiration",value:function(){var e=this.props.initialExpiration,t=this.state.duration;if(!this.hasInput())return 0;if(void 0===de.a[t])return Math.round(e)||0;switch(de.a[t]){case de.a.no_expiration:return de.a.no_expiration;case de.a.all_day:return Math.round((new Date).setHours(23,59,59,0)/1e3);case de.a.week:return Math.floor(k()().day(5).endOf("day").valueOf()/1e3);case de.a.custom:return this.getCustomExpiration();default:return Math.round(Date.now()/1e3+de.a[t])}}},{key:"getDurationPickerOptions",value:function(){var e=this,t=this.props,n=t.inputType;return(t.useDialog&&n!==pe.TEAM_SITE?Object.keys(de.a):Object.keys(de.a).slice(0,-1)).map(function(t){return{value:t,label:e.renderDurationLabel(t)}})}},{key:"getCustomExpirationTimeOptions",value:function(){var e=this,t=this.state.customExpirationDate,n=k()(),r=t===n.format("YYYY-MM-DD"),a=n.format("HH:mm");return Object.keys(x.a).filter(function(e){return!(r&&e<a)}).map(function(t){return{value:t,label:e.renderExpirationTimeLabel(t)}})}},{key:"setSelectedPresetIndex",value:function(e){this.setState(function(){return{selectedPresetIndex:e}})}},{key:"getDurationText",value:function(e,t){var n=this.props,r=n.initialExpiration,a=n.time24;return!e&&r&&t?r===(new Date).setHours(23,59,59,0)/1e3?be.t("Today"):Object(N.d)(r,"{status_expiration}",{do24hrTime:a}):{"30_minutes":be.t("30 minutes"),"1_hour":be.t("1 hour"),"4_hours":be.t("4 hours"),all_day:be.t("Today"),week:be.t("This week"),custom:be.t("Choose date and time")}[e]||be.t("Don\u2019t clear")}},{key:"handleDownArrow",value:function(){var e=this.props.teamPresets,t=this.state,n=t.selectedPresetIndex,r=t.text,a=t.textyHasFocus;Object(v.a)(n)?n<e.length-1&&this.setSelectedPresetIndex(n+1):!r&&a&&this.setSelectedPresetIndex(0)}},{key:"handleUpArrow",value:function(){var e=this.state.selectedPresetIndex;Object(v.a)(e)&&(0===e?this.setFocusOnTextInput():this.setSelectedPresetIndex(e-1))}},{key:"resetSelectedPresetIndex",value:function(){this.setSelectedPresetIndex()}},{key:"clogStatusChange",value:function(){var e=this.props,t=e.useDialog,n=e.teamPresets,r=e.teamUsesCustomizedPresets,a=e.clogger,i=this.state,o=i.text,s=i.emoji,c=i.duration;if(t){var l={custom_status_set_origin:X.g.DIALOG};if(!this.hasInput())return l.custom_status=X.e.UNKNOWN,void a.track(X.k.CUSTOM_STATUS_CLEAR,l);var u=n.findIndex(function(e){return o===e.text&&s===e.emoji});l.custom_status=u>-1?r?X.e.ADMIN_PRESET:he[u]:X.e.USER_DEFINED,l.custom_status_text=o,l.custom_status_emoji=s,l.custom_status_duration=X.f["DURATION_"+(c||"no_expiration").toUpperCase()],a.track(X.k.CUSTOM_STATUS_SET,l)}}},{key:"clearStatus",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).andSubmit,n=this.props.onChange;this.texty.clear(),this.setState(function(){return{text:"",emoji:"",canonical:"",duration:void 0,userDidSelectEmoji:!1}},function(){t?e.onSubmit():e.setFocusOnTextInput()}),n({emoji:"",text:"",canonical:"",duration:void 0})}},{key:"hasInput",value:function(){var e=this.state,t=e.emoji;return!(!e.text&&!t)}},{key:"hasUnsavedChanges",value:function(){var e=this.props,t=e.initialText,n=e.initialEmoji,r=e.initialExpiration,a=this.state,i=a.emoji,o=a.text;return i!==n||o!==t||r!==this.getExpiration()&&this.hasInput()}},{key:"maybeRenderSaveButton",value:function(){var e=this.props.inputType,t=this.state.text;if(e===pe.TEAM_SITE)return null;if(!this.hasUnsavedChanges())return null;var n=be.t("Save");return a.a.createElement("div",{className:"align_right"},a.a.createElement(M.d,{type:"primary",size:"small",onClick:this.onSubmit,disabled:t.length>100,"data-qa":"custom_status_input_submit_button"},n))}},{key:"maybeRenderDurationPicker",value:function(){var e=this.props,t=e.inputType,n=e.useDialog,r=e.isControlled,i=this.state.duration;if(t!==pe.TEAM_SITE&&!this.hasInput())return null;var o=t===pe.TEAM_SITE?V.a.default:V.a.short;return i===de.a.custom?this.renderCustomExpirationPicker():a.a.createElement("div",{className:"display_flex align_items_center"},a.a.createElement("div",{className:"p-custom_status_input__duration_picker"},a.a.createElement(V.b,{onChange:this.onDurationChange,options:this.getDurationPickerOptions(),placeholder:this.renderDurationLabel(i,!r),usePlaceholderOption:!1,useFilteredInput:!1,type:o,optionsListWidth:n?200:void 0,optionsListAriaLabel:be.t("Set status expiration"),className:"p-custom_status_input__duration_picker_select","data-qa":"custom_status_input_duration_picker","aria-label":be.t("Set status expiration to: {duration}",{duration:this.getDurationText(i,!r)})})))}},{key:"maybeRenderKBShortCutTip",value:function(){var e=this.props,t=e.usedCustomStatusKBShortcut,n=e.openedFromKeyboardShortcut;if(t||n)return null;var r=void 0;r=Object(ue.p)()?be.t("\u2318"):be.t("Ctrl");var i=be.rt("<strong>Tip:</strong> Open this faster with <strong>{commandKey} + Shift + Y</strong>",{commandKey:r});return a.a.createElement(G,{className:"p-custom_status_input__shortcut_pill"},i)}},{key:"renderCustomExpirationPicker",value:function(){var e=this.state,t=e.customExpirationDate,n=e.customExpirationTime;return a.a.createElement("div",{className:"p-custom_status_input__custom_expiration_picker"},a.a.createElement(A.d,{position:"bottom",offsetY:-12,ref:this.datePicker,selectedDate:t,dateFormat:"YYYY-MM-DD",onDateChange:this.onCustomExpirationDateChange,disableDatesAfter:k()().add(1,"years").add(-1,"days").format("YYYY-MM-DD"),disableDatesBefore:k()().format("YYYY-MM-DD")},a.a.createElement(J.a,{className:"p-custom_status_input__custom_expiration_picker_date_picker_trigger","data-qa":"custom_status_input_custom_expiration_picker_date_select","data-qa-selected-date":t,"aria-label":be.t("Clear status on: {date}",{date:k()(t).format("MMMM Do")})},be.rt("Clear on: {date}",{date:a.a.createElement("strong",null,Object(N.k)(this.getCustomExpiration(),{excludeYear:!0,shortenDay:!0}))}),a.a.createElement(D.a,{type:"chevron-down",className:"p-custom_status_input__chevron_down"}))),a.a.createElement("div",{className:"margin_left_50"},a.a.createElement(V.b,{onChange:this.onCustomExpirationTimeChange,options:this.getCustomExpirationTimeOptions(),placeholder:a.a.createElement("span",null,be.rt("At: <strong>{time}</strong>",{time:this.renderExpirationTimeLabel(n)})),ref:this.timePicker,usePlaceholderOption:!1,useFilteredInput:!1,type:V.a.short,optionsListAriaLabel:be.t("Set status expiration time"),optionsListWidth:100,className:"p-custom_status_input__custom_expiration_picker_time_select","data-qa":"custom_status_input_custom_expiration_picker_time_select","data-qa-selected-time":n,"aria-label":be.t("Clear status at: {time}",{time:this.renderExpirationTimeLabel(n)})})))}},{key:"renderActionButtons",value:function(){var e=this.props.inputType===pe.TEAM_SITE||this.hasUnsavedChanges()||this.hasInput(),t=y()("p-custom_status_input__actions","p-custom_status_input__actions--with_expiry",{"p-custom_status_input__actions--invisible":!e});return a.a.createElement("div",{className:t},this.maybeRenderDurationPicker(),this.maybeRenderSaveButton())}},{key:"renderPresets",value:function(){var e=this.props,t=e.currentUserIsAdmin,n=e.inputType,i=e.teamPresets,o=e.teamUsesCustomizedPresets,s=e.useDialog,c=this.state,l=c.textyHasFocus,u=c.emoji,d=c.text;if(n===pe.TEAM_SITE||s&&(u||d))return null;var b=i.map(this.renderPresetOption,this);if(s)return a.a.createElement("div",{className:"p-custom_status_input__presets"},b);var p=o?be.t("Suggested by your team"):be.t("Suggested"),h=a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"p-custom_status_input__presets_section_header"},p,t&&a.a.createElement("span",null," ","(",a.a.createElement(F.a,{className:"p-custom_status_input__presets_edit_link",href:"/customize/statuses",target:"_blank"},be.t("edit")),")")),b);return n===pe.TEAM_MENU?a.a.createElement("div",{className:"p-custom_status_input__presets"},h):!this.hasUnsavedChanges()&&l?a.a.createElement(B.f,{menuClassNames:"p-custom_status_input__presets_menu",width:this.texty&&this.texty.container.offsetWidth,temporaryCustomStatusOverrideMakeMenuInaccessibleForKeyboard:!0},h):null}},{key:"renderClearIcon",value:function(){var e=this.props.inputType,t=this.state,n=t.text,r=t.emoji;if(e===pe.TEAM_SITE||!n&&!r)return null;var i=be.t("Clear all"),o=e===pe.VIEW_PROFILE?"top-right":"top",s=a.a.createElement(J.a,{className:"p-custom_status_input__clear_link","aria-label":i,"data-qa":"custom_status_clear_icon",onClick:this.onClearIconClick},a.a.createElement(D.a,{type:"close-filled",className:"p-custom_status_input__clear_icon"}));return a.a.createElement("div",{className:"p-custom_status_input__status_clear_icon_wrap"},a.a.createElement(Z.c,{tip:i,position:o,zIndex:"above_fs"},s))}},{key:"renderStatusTextInput",value:function(){var e=this,t=this.props,n=t.inputType,r=t.focusOnMount,i=this.state.text,o="custom_status_input_for_"+n,s=be.t("What\u2019s your status?"),c=Object(oe.a)(o,"character-count");return Object(ne.a)()?a.a.createElement(W.a,{completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,position:"bottom",shouldCompleteOnTab:!1,renderInput:function(t){var n=t.modules,l=t.isOpen;return a.a.createElement(P.a,{id:c,currentCount:i.length,maxCharacterLimit:100,counterMinimumCharacters:94,size:z.a.medium},a.a.createElement(Y.default,{id:o,name:o,ref:e.setTextyRef,className:"p-custom_status_input__text_input small",ariaLabel:s,initialText:i,"data-validation":"maxlength=100","data-validation-for":o,"data-qa":"custom_status_input_text_input",modules:n,isAutocompleteOpen:l,onBlur:e.onTextyBlur,onEnter:e.onEnter,onEscape:e.onCancel,onFocus:e.onTextyFocus,onTextChange:e.onTextChange,placeholder:s,focusOnMount:r,enableBroadcastKeywords:!1,enableFormattingCommands:!1,isSingleLine:!0}))}}):a.a.createElement(P.a,{id:c,currentCount:i.length,maxCharacterLimit:100,counterMinimumCharacters:94,size:z.a.medium},a.a.createElement(Y.default,{id:o,name:o,ref:this.setTextyRef,className:"p-custom_status_input__text_input small",ariaLabel:s,initialText:i,"data-validation":"maxlength=100","data-validation-for":o,"data-qa":"custom_status_input_text_input",modules:this.textyModules,onBlur:this.onTextyBlur,onEnter:this.onEnter,onEscape:this.onCancel,onFocus:this.onTextyFocus,onTextChange:this.onTextChange,placeholder:s,focusOnMount:r,isSingleLine:!0,useLegacyCreate:!0,enableBroadcastKeywords:!1,legacyShouldCompleteOnTab:!1}))}},{key:"renderEmojiPicker",value:function(){var e=this,t=this.props.emojiMenuPosition,n=this.state.emoji;if(Object(ne.a)()){var r="top"===t?-5:5;return a.a.createElement(H.a,{onEmojiSelected:function(t,n){return e.onEmojiChange(":"+n+":")},offsetY:r,position:t},a.a.createElement(J.a,{className:"p-custom_status_input__emoji_picker","aria-label":be.t("Emoji menu"),"data-qa":"custom_status_input_emoji_picker"},fe(n)))}return a.a.createElement(J.a,{onClick:this.onClickEmojiMenu,className:"p-custom_status_input__emoji_picker","aria-label":be.t("Emoji menu"),"data-qa":"custom_status_input_emoji_picker"},fe(n))}},{key:"renderDurationLabel",value:function(e,t){var n=this.getDurationText(e,t);return t?a.a.createElement("span",null,be.rt("Clear after: <strong>{label}</strong>",{label:n})):n}},{key:"renderExpirationTimeLabel",value:function(e){return this.props.time24?e:x.a[e]}},{key:"renderPresetOption",value:function(e,t){var n=this,r=this.state.selectedPresetIndex,i=e.emoji,o=e.text,s=e.canonical,c=e.duration,l=t===r?this.selectedPresetOptionRef:void 0;return a.a.createElement(J.a,{className:"p-custom_status_input__preset_option","data-qa":"custom_status_input_preset_option",onClick:function(){return n.onPresetSelected({emoji:i,text:o,canonical:s,duration:c})},key:t,onFocus:function(){return n.setSelectedPresetIndex(t)},onBlur:function(){return n.resetSelectedPresetIndex()},ref:l},a.a.createElement("div",{className:"p-custom_status_input__preset_option_emoji"},fe(i)),a.a.createElement("div",{className:"p-custom_status_input__preset_option_text"},o),a.a.createElement("div",{className:"p-custom_status_input__preset_option_duration"},"\xa0\u2014 ",this.renderDurationLabel(c)))}},{key:"render",value:function(){var e=this.props,t=e.inputType,n=e.useDialog,r=e.initialEmoji,i=e.currentUserIsAdmin,o=e.teamName,s=this.state.text;if(n){var c=be.t("Edit suggestions for {teamName}",{teamName:Object(ie.n)(o)}),l=this.maybeRenderDurationPicker()||i&&a.a.createElement(F.a,{className:"p-custom_status_input__presets_edit_link",href:"/customize/statuses",target:"_blank"},c)||null,u=!this.hasUnsavedChanges()||s.length>100,d=be.t("Save"),b="primary",p=this.onSubmit;return!(!r||this.hasUnsavedChanges())&&(u=!1,d=be.t("Clear Status"),b="outline",p=this.onClearStatusButtonClick),a.a.createElement(L.a,{className:y()("p-custom_status_input__dialog",{"p-custom_status_input--modern":Object(ne.a)()}),goButtonIsDisabled:u,goButtonText:d,goButtonType:b,footerText:l,onGo:p,title:be.t("Set a status"),ref:this.dialog,shouldCloseOnOverlayClick:!0,showCancelButton:!1,useSlackScrollbar:!1,showTooltipOnCloseButton:!0,"data-qa":"custom_status_input"},a.a.createElement("div",{className:"p-custom_status_input__input_wrap"},this.renderStatusTextInput(),this.renderEmojiPicker(),this.renderClearIcon()),this.renderPresets(),this.maybeRenderKBShortCutTip())}var h=y()("p-custom_status_input","p-custom_status_input--for_"+t,{"p-custom_status_input--modern":Object(ne.a)()});return a.a.createElement("div",{className:h},a.a.createElement("div",{className:"p-custom_status_input__input_wrap"},this.renderStatusTextInput(),this.renderEmojiPicker(),this.renderClearIcon()),this.renderActionButtons(),this.renderPresets())}}]),t}(r.PureComponent);ve.displayName="BaseCustomStatusInput",ve.defaultProps=me;var ge={closeModal:s.a,updateCurrentMemberProfile:C.a},_e=Object(E.b)(function(e,t){var n=t.initialText,r=t.initialEmoji,a=t.initialDuration,i=t.initialCanonical,o=Object(I.b)(e),s=Object(I.e)(e,o.id),c=Object(f.a)(n)?n:s.text;if(c&&Object(ne.a)()){var l=Object(re.a)(e,{text:c});c=Object(ae.a)(l)}return{initialText:c,initialEmoji:void 0!==r?r:s.emoji,initialCanonical:void 0!==i?i:s.canonical,initialExpiration:void 0!==a?0:s.expiration,currentUserIsAdmin:Object(R.X)(o),teamPresets:Object(S.a)(e),teamName:Object(te.e)(Object(ee.i)(e,Object($.b)(e))),teamUsesCustomizedPresets:Object(w.a)(e,"uses_customized_custom_status_presets"),time24:Object(T.g)(e,"time24"),defaultEmoji:Object(w.a)(e,"custom_status_default_emoji"),usedCustomStatusKBShortcut:Object(T.g)(e,"used_custom_status_kb_shortcut"),clogger:Object(Q.a)({state:e})}},ge)(ve),Oe=n("AfrZ"),ye=Object(o.b)("Opens the custom status input in a dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fromKeyboardShortcut,r=void 0!==n&&n;if(r){var i=t();Object(T.g)(i,"used_custom_status_kb_shortcut")||e(Object(Oe.f)({pref:"used_custom_status_kb_shortcut",value:!0}))}e(Object(s.e)({element:a.a.createElement(_e,{useDialog:!0,focusOnMount:!0,openedFromKeyboardShortcut:r})}))});ye.propTypes={fromKeyboardShortcut:i.b.bool};t.a=ye},ewFY:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c});var r={REGULAR:"regular",RESTRICTED:"restricted",ULTRA_RESTRICTED:"ultra_restricted"},a=560,i=/[`~!@#$%^&*+=\\:"<>?|]/,o={LOADING:"loading",CAN_ADD:"can_add",LIMIT_REACHED:"limit_reached"},s="INVITE-MODAL",c={MODERN_INVITE:"INVITE_MODAL",LEGACY_INVITE:"INVITEMODAL_ACTION",INVITE_REQUEST:"INVITEMODAL_REQUEST_ACTION"}},"f+8a":function(e,t,n){"use strict";var r=n("HI9p"),a=n("x91h"),i=n("pxG+"),o=n("qAkX"),s=n("2iJX"),c=n("Gz0X"),l=n("NFsq"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.type;return!(!t||t.trim())||("paragraph_break"===n||("line_break"===n||"space_hard"===n))},d=function(e){return e.every(function(e){return"link"===e.type||u(e)})};t.a=function(e){for(var t=e.content,n=void 0===t?[]:t,b=e.urls,p=void 0===b?[]:b,h=n.slice(),m=Object(r.a)(h,"type","link"),f=Math.max(0,m);f<h.length;f++){var v=h[f],g=n.slice(f+1);if("link"===v.type)if(Object(l.a)(p,Object(a.a)(v.url))){if(!d(g))break;var _=Object(c.a)(g,u);h.splice(f,_.length+1),f-=1}}h=Object(s.a)(h,u);var O=Object(o.a)(h);return O&&O.text&&(O.text=Object(i.a)(O.text)),h}},f8pD:function(e,t,n){},f8qf:function(e,t,n){},fFfO:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"accessibility",function(){return p.a}),n.d(r,"activity",function(){return p.b}),n.d(r,"allThreads",function(){return p.c}),n.d(r,"allUnreads",function(){return p.d}),n.d(r,"appsInChannels",function(){return p.e}),n.d(r,"bootData",function(){return p.f}),n.d(r,"canInteract",function(){return p.g}),n.d(r,"cfm",function(){return p.h}),n.d(r,"channelLoading",function(){return p.j}),n.d(r,"channelSidebar",function(){return p.l}),n.d(r,"channelSidebarFolders",function(){return p.m}),n.d(r,"channelPrefixes",function(){return p.k}),n.d(r,"checkoutFlow",function(){return p.n}),n.d(r,"connectivity",function(){return p.p}),n.d(r,"consistency",function(){return p.q}),n.d(r,"customEmoji",function(){return p.r}),n.d(r,"deletedMessages",function(){return p.s}),n.d(r,"desktop",function(){return p.t}),n.d(r,"dnd",function(){return p.u}),n.d(r,"drafts",function(){return p.v}),n.d(r,"ekmChanges",function(){return p.w}),n.d(r,"ephemeralMessages",function(){return p.z}),n.d(r,"expandables",function(){return p.A}),n.d(r,"experiments",function(){return p.B}),n.d(r,"fileRefresh",function(){return p.C}),n.d(r,"fileUpload",function(){return p.D}),n.d(r,"filesFlexpane",function(){return p.E}),n.d(r,"flannelUrl",function(){return p.F}),n.d(r,"globalNav",function(){return p.G}),n.d(r,"help",function(){return p.H}),n.d(r,"imports",function(){return p.I}),n.d(r,"incrementalBoot",function(){return p.J}),n.d(r,"inlineFilePreviews",function(){return p.K}),n.d(r,"emailRender",function(){return p.x}),n.d(r,"invites",function(){return p.L}),n.d(r,"lastUsedSlashCommand",function(){return p.M}),n.d(r,"memberDirectoryFlexpane",function(){return p.N}),n.d(r,"messageEdit",function(){return p.O}),n.d(r,"messagePane",function(){return p.P}),n.d(r,"messagePaneBanner",function(){return p.Q}),n.d(r,"modal",function(){return p.R}),n.d(r,"navigationHistory",function(){return p.S}),n.d(r,"noop",function(){return p.T}),n.d(r,"onboarding",function(){return p.U}),n.d(r,"openPopoversCount",function(){return p.V}),n.d(r,"pendingFiles",function(){return p.W}),n.d(r,"pendingOpenChannel",function(){return p.X}),n.d(r,"persistedApiCalls",function(){return p.Y}),n.d(r,"prefs",function(){return p.ab}),n.d(r,"presence",function(){return p.bb}),n.d(r,"pricingPlans",function(){return p.cb}),n.d(r,"reactionsToast",function(){return p.db}),n.d(r,"searchAutocomplete",function(){return p.eb}),n.d(r,"searchChannelsUsers",function(){return p.fb}),n.d(r,"searchInputBox",function(){return p.hb}),n.d(r,"searchInProductEducation",function(){return p.gb}),n.d(r,"searchResults",function(){return p.ib}),n.d(r,"searchSession",function(){return p.jb}),n.d(r,"searchUi",function(){return p.kb}),n.d(r,"socket",function(){return p.lb}),n.d(r,"stars",function(){return p.mb}),n.d(r,"pins",function(){return p.Z}),n.d(r,"teamCreation",function(){return p.nb}),n.d(r,"threadsFlexpane",function(){return p.pb}),n.d(r,"threadSub",function(){return p.ob}),n.d(r,"toast",function(){return p.qb}),n.d(r,"topics",function(){return p.rb}),n.d(r,"typing",function(){return p.sb}),n.d(r,"uiSerialization",function(){return p.tb}),n.d(r,"unfurls",function(){return p.ub}),n.d(r,"unreadCounts",function(){return p.vb}),n.d(r,"unreadsView",function(){return p.wb}),n.d(r,"userGroupsFlexpane",function(){return p.xb}),n.d(r,"usersCounts",function(){return p.yb}),n.d(r,"workspace",function(){return p.Bb}),n.d(r,"welcomePlace",function(){return p.zb}),n.d(r,"enablePopupsBanner",function(){return p.y}),n.d(r,"whatsNew",function(){return p.Ab}),n.d(r,"composerToolbarUI",function(){return p.o}),n.d(r,"channelBrowser",function(){return p.i}),n.d(r,"adminMembers",function(){return h.a}),n.d(r,"allCalls",function(){return h.b}),n.d(r,"appActions",function(){return h.c}),n.d(r,"channelActions",function(){return h.j}),n.d(r,"appPermissions",function(){return h.d}),n.d(r,"appProfiles",function(){return h.e}),n.d(r,"appViews",function(){return h.f}),n.d(r,"apps",function(){return h.g}),n.d(r,"blocks",function(){return h.h}),n.d(r,"bots",function(){return h.i}),n.d(r,"channelHistory",function(){return h.k}),n.d(r,"channels",function(){return h.l}),n.d(r,"channelsMeta",function(){return h.m}),n.d(r,"customizeEmoji",function(){return h.n}),n.d(r,"developerActions",function(){return h.o}),n.d(r,"emoji",function(){return h.p}),n.d(r,"environment",function(){return h.q}),n.d(r,"externalTeamIds",function(){return h.r}),n.d(r,"externalTeamsChannels",function(){return h.s}),n.d(r,"files",function(){return h.t}),n.d(r,"idpGroups",function(){return h.u}),n.d(r,"lastNetworkSend",function(){return h.v}),n.d(r,"memberCounts",function(){return h.w}),n.d(r,"members",function(){return h.x}),n.d(r,"membership",function(){return h.y}),n.d(r,"membershipOrdered",function(){return h.z}),n.d(r,"messages",function(){return h.A}),n.d(r,"messagesMeta",function(){return h.B}),n.d(r,"notifications",function(){return h.C}),n.d(r,"paidFeatures",function(){return h.D}),n.d(r,"reactions",function(){return h.E}),n.d(r,"slashCommand",function(){return h.G}),n.d(r,"selfTeamIds",function(){return h.F}),n.d(r,"teams",function(){return h.H}),n.d(r,"userGroups",function(){return h.J}),n.d(r,"userGroupMembership",function(){return h.I}),n.d(r,"window",function(){return h.K});var a=n("QbLZ"),i=n.n(a),o=n("xnu4"),s=n("fvjX"),c=n("8Cw3"),l=n("Z7Ay"),u=n("XxO7"),d=n("lhZz"),b=n("NZir"),p=(n("mk6Z"),n("JtAu")),h=n("HDoQ"),m=n("zPRk"),f=n("YEIV"),v=n.n(f),g=n("eFSJ"),_=n("jzln"),O=n("iJtp"),y=n("Zr7G"),j=function(e){return function(){var t=Object(_.a)()||Object(O.a)();if(t){var n=e.apply(void 0,arguments);return i()({},n,{subscribeImmediate:n.subscribe})}var r=void 0,a=void 0,o=!t&&Object(y.a)(),s=function(){if(a=null,r){var e=Math.random()<.001&&!t;e&&o.mark("react_redux_batched_update_mark");var n=r;r=null,n(),e&&o.measureAndClear("react_redux_batched_update_mark","react_redux_batched_update")}},c=Object(g.batchedSubscribe)(function(e){a||(r=e,a=requestAnimationFrame(s))})(e);return i()({},c.apply(void 0,arguments),v()({},"_testOnlyFlush",s))}},k=n("hqVG"),E=[j,k.b],C=n("YWYr"),I=n("XfeM"),w=n("EzZj"),S=n("U/ze"),T=n("MNvw"),R=n("YS90");function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.reducers,a=void 0===n?r:n,o=e.middlewares,p=void 0===o?m.a:o,h=e.customEnhancers,f=void 0===h?E:h,v=e.initialState,g=void 0===v?{}:v,_=e.disableDevTools,O=void 0!==_&&_;if(!t)throw new Error("configureStore must be called with a teamId parameter");var y=Object(b.a)({teamId:t,customEnhancers:f,middlewares:p,disableDevTools:O}),j=Object(c.a)(i()({},a,{persistenceHashes:C.a}));Object(k.d)(t);var I=Object(s.e)(j,g,y);Object(k.a)();var w=I._initStore;return I._initStore=function(e){w&&w(e),e.dispatch(Object(u.b)({id:t}))},I._initStore(I),Object(d.setStoreInstanceByTeamId)(t,I),Object(l.c)(t,"redux",I),I}n.d(t,"a",function(){return N});var x=void 0;Object(l.b)("redux",function(){if(x)return x;var e,t,n=function(e){var t={};return Object.values(e).forEach(function(e){var n,r,a;e.meta&&(t[(n=e.meta.file,r=e.meta.name,a=n.replace("@slack/redux/","").replace(/\.js$/,"").replace(/-middleware$/,"").replace(/\//,"_"),Object(o.a)(a+"_"+r))]=e)}),t};return x={actions:n(Object(w.a)()),middlewares:(e=Object(R.a)(),t={},Object.values(e).forEach(function(e){e&&e.meta&&e.meta.name&&(t[e.meta.name]=e)}),t),reducers:n(Object(T.a)()),selectors:n(Object(S.a)()),thunks:n(Object(I.a)())}})},fL8H:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("ifKl"),c=n("aK/h"),l=n("kxpR"),u=n.n(l),d=n("MnCE"),b=n("U3Q0"),p=new(n("nNoG").b)("generic_dialog"),h=(c.b.any.isRequired,c.b.string,c.b.bool,c.b.bool,c.b.string,c.b.string,c.b.string,c.b.func,c.b.func,c.b.func,c.b.bool,c.b.node,c.b.bool,{cancelButtonText:null,shouldCloseOnCancel:!0,shouldCloseOnGo:!0,"data-qa":"alert_dialog",goButtonText:null,goButtonType:"primary",onCancel:s.a,onClose:s.a,onGo:s.a,showCancelButton:!1,title:null,truncateTitle:!0});function m(e){var t=e.children,n=e.cancelButtonText,r=e.shouldCloseOnGo,i=e.shouldCloseOnCancel,s=e["data-qa"],c=e.goButtonText,l=o()(e,["children","cancelButtonText","shouldCloseOnGo","shouldCloseOnCancel","data-qa","goButtonText"]);return u.a.createElement(b.a,a()({cancelText:n||p.t("Cancel"),"data-qa":s,shouldCloseOnGo:r,shouldCloseOnCancel:i,goButtonText:c||p.t("OK"),role:"alertdialog"},l),t)}m.displayName="AlertDialog",m.defaultProps=h;var f=Object(d.a)(m);t.a=f},fMsH:function(e,t,n){},fNU1:function(e,t,n){"use strict";n.d(t,"d",function(){return b}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Update the last channel switch trigger");b.propTypes={source:c.b.string,objId:c.b.string};var p=Object(l.b)("Update the last channel focus time");p.propTypes={lastFocus:c.b.number,objId:c.b.string};var h=Object(u.b)((r={},i()(r,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.source,r=t.objId;if(r&&void 0===e[r])return s()({},e,i()({},r,{trigger:n}));if(r&&e[r].trigger!==n){var a=e[r];return a.trigger=n,s()({},e,i()({},r,s()({},a)))}return e}),i()(r,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lastFocus,r=t.objId;if(r&&void 0===e[r])return s()({},e,i()({},r,{lastFocus:n}));if(r&&e[r].lastFocus!==n){var a=e[r];return a.lastFocus=n,s()({},e,i()({},r,s()({},a)))}return e}),r),{},{persistenceEnabled:!0});h.propTypes=c.b.objectOf(c.b.shape({lastFocus:c.b.number,trigger:c.b.string})),t.a=h;var m=Object(d.b)(function(e){return e&&e.channelsMeta&&e.channelsMeta.prqMetrics})},fOu1:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("fujP"),c=n("kxpR"),l=n.n(c),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=n("IhRS"),f=n("VjHM"),v=n("AfrZ"),g=Object(h.b)("Update user prefs count and timestamp",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prefsKey,a=n.prefsData,i=n.alwaysHideBanner;if(!Object(s.a)(a)){var o=Object(f.g)(t(),r);o=o?JSON.parse(o):{},Object(s.a)(o)&&(o={});var c=o[a.countPref]||0;o[a.countPref]=c+1,o[a.tsPref]=Math.round(Date.now()/1e3),i&&a.hidePref&&(o[a.hidePref]=!0);var l=JSON.stringify(o);e(Object(v.f)({pref:r,value:l}))}});g.propTypes={prefsKey:u.b.string.isRequired,prefsData:u.b.object.isRequired};var _=g,O=n("om+M"),y=n("4zXV"),j=Object(O.a)("Fetch the active message pane banner for this team/user, if any",function(e,t,n){return e(Object(y.a)({method:"promo.banner",reason:"fetch-active-message-pane-banner",args:n})).then(function(e){return e||{}})});j.propTypes={qa_banner_type:u.b.string,qa_banner_data:u.b.string};var k=n("DTT0"),E=n("sk9p"),C=n.n(E),I=n("iCc5"),w=n.n(I),S=n("V7oC"),T=n.n(S),R=n("FYw3"),N=n.n(R),x=n("mRg0"),M=n.n(x),P=n("ifKl"),A=n("XHGt"),D=n("tn36"),L=n("vSXf"),q=n("5mKg"),F=n("D4L/"),B=n("nNoG"),U=n("U3Q0"),H=n("0f2Y"),K=n("BA81"),G=n("c/L4"),V=n("TSYQ"),z=n.n(V),Y=n("cD5Y"),W=n("od5y"),Q=(n("4xnH"),new B.b("pricing_plans")),X=(u.b.array.isRequired,u.b.bool,function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"render",value:function(){var e=this.props,t=e.planTopFeatures;return e.featureBringPlansPageToSsbTranslations?l.a.createElement("div",{className:"p-pricing_plan_top_features"},l.a.createElement("div",{className:"p-pricing_plan_top_features__title"},Q.t("Top features:")),l.a.createElement("ul",{className:"p-pricing_plan_top_features__list"},t.map(function(e){return l.a.createElement("li",{key:e.id,className:"p-pricing_plan_top_features__item"},l.a.createElement(W.b,{type:"check-small",className:"p-pricing_plan_top_features__item_icon",inline:!0}),l.a.createElement("span",null,e.description))}))):null}}]),t}(c.Component));X.displayName="PricingPlanTopFeatures",X.defaultProps={featureBringPlansPageToSsbTranslations:!1};var Z=Object(L.a)("feature_bring_plans_page_to_ssb_translations")(X),J=n("UMgY"),$=(n("y780"),new B.b("pricing_plans")),ee=(u.b.number.isRequired,u.b.number.isRequired,u.b.string.isRequired,u.b.bool,function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"render",value:function(){var e=this.props,t=e.planCostPerMemberBilledAnnually,n=e.planCostPerMemberBilledMonthly,r=e.planCurrency;return e.featureBringPlansPageToSsbTranslations?l.a.createElement("div",{className:"p-pricing_plan_cost_details"},l.a.createElement("div",{className:"p-pricing_plan_cost_details__title"},$.t("Pricing")),l.a.createElement("div",null,$.t("{formattedCost} per member per month if billed annually",{formattedCost:Object(J.a)(t,r)})),l.a.createElement("div",null,$.t("{formattedCost} per member per month if billed monthly",{formattedCost:Object(J.a)(n,r)}))):null}}]),t}(c.PureComponent));ee.displayName="PricingPlanCostDetails",ee.defaultProps={featureBringPlansPageToSsbTranslations:!1};var te=Object(L.a)("feature_bring_plans_page_to_ssb_translations")(ee),ne=(n("Era6"),u.b.object.isRequired,u.b.string,u.b.number,u.b.number,u.b.bool,u.b.bool,u.b.array.isRequired,u.b.bool,function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"renderPricingPlanCostDetails",value:function(){var e=this.props,t=e.planCurrency,n=e.planCostPerMemberBilledAnnually,r=e.planCostPerMemberBilledMonthly;return t&&n&&r?l.a.createElement(te,{planCurrency:t,planCostPerMemberBilledAnnually:n,planCostPerMemberBilledMonthly:r}):null}},{key:"render",value:function(){var e=this.props,t=e.planDescription,n=e.showPlanCostDetails,r=e.planTopFeatures,a=e.isPlansDataLoaded;if(!e.featureBringPlansPageToSsbTranslations)return null;var i=z()("p-pricing_plan_summary",{"p-pricing_plan_summary--loading":!a});return l.a.createElement("div",{className:i},!a&&l.a.createElement(Y.a,{size:"jumbo","data-qa":"pricing_plan_summary_loader"}),a&&l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"p-pricing_plan_summary__description"},t),n&&this.renderPricingPlanCostDetails(),l.a.createElement(Z,{planTopFeatures:r})))}}]),t}(c.Component));ne.displayName="PricingPlanSummary",ne.defaultProps={planCurrency:null,planCostPerMemberBilledAnnually:0,planCostPerMemberBilledMonthly:0,showPlanCostDetails:!0,isPlansDataLoaded:!1,featureBringPlansPageToSsbTranslations:!1};var re=Object(L.a)("feature_bring_plans_page_to_ssb_translations")(ne),ae=n("Clng"),ie=n("kMSZ"),oe=n("kOzZ"),se=n("negh"),ce=(n("9jxm"),new B.b("pricing_plans")),le=(u.b.func,u.b.string.isRequired,u.b.string.isRequired,u.b.number.isRequired,u.b.number.isRequired,u.b.number.isRequired,u.b.number.isRequired,u.b.string.isRequired,u.b.object.isRequired,u.b.func.isRequired,u.b.string,u.b.object.isRequired,u.b.bool,{onClose:P.a,source:null,featureBringPlansPageToSsbTranslations:!1}),ue=function(e){function t(e){w()(this,t);var n=N()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedPricingPlan:G.e.standard.id,isPlansDataLoaded:!1},Object(D.a)(n,["onPricingPlanChange","onGoButtonClick","onClickContactSales","onClickFooterLink","onClosePricingPlansModal"]),n}return M()(t,e),T()(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isPlansDataLoaded||this.props.loadPlansData().then(function(){return e.setIsPlansDataLoaded(!0)}),this.clogPricingPlanModalEvent({step:se.z.PRICING_PLANS_DIALOG_STANDARD_PLAN,action:se.v.IMPRESSION,source:this.props.source})}},{key:"onPricingPlanChange",value:function(e){this.state.selectedPricingPlan!==e&&(this.setState(function(t){return o()({},t,{selectedPricingPlan:e})}),this.clogPricingPlanModalEvent({step:this.getPricingPlanClogStep(this.state.selectedPricingPlan),action:se.v.CLICK,elementType:se.j.TAB,elementName:"pricing_plans_"+e+"_tab"}))}},{key:"onGoButtonClick",value:function(){switch(this.state.selectedPricingPlan){case G.e.plus.id:this.redirectToCheckoutPage(this.props.plusPlanProductId);break;case G.e.enterprise.id:this.redirectToContactSalesPage();break;case G.e.standard.id:default:this.redirectToCheckoutPage(this.props.standardPlanProductId)}this.clogPricingPlanModalEvent({step:this.getPricingPlanClogStep(this.state.selectedPricingPlan),action:se.v.CLICK,elementType:se.j.BUTTON,elementName:"pricing_plans_"+this.state.selectedPricingPlan+"_main_cta"})}},{key:"onClickContactSales",value:function(){Object(q.O)(this.props.team,G.c),this.clogPricingPlanModalEvent({step:this.getPricingPlanClogStep(this.state.selectedPricingPlan),action:se.v.CLICK,elementType:se.j.LINK,elementName:"pricing_plans_enterprise_contact_sales_link"})}},{key:"onClickFooterLink",value:function(e){e.preventDefault(),Object(q.O)(this.props.team,G.g),this.clogPricingPlanModalEvent({step:this.getPricingPlanClogStep(this.state.selectedPricingPlan),action:se.v.CLICK,elementType:se.j.LINK,elementName:"pricing_plans_info_footer_link"})}},{key:"onClosePricingPlansModal",value:function(){this.clogPricingPlanModalEvent({step:this.getPricingPlanClogStep(this.state.selectedPricingPlan),action:se.v.CLOSE}),this.props.onClose()}},{key:"getStandardPlanDescription",value:function(){return this.props.featureBringPlansPageToSsbTranslations?ce.rt("<strong>Standard</strong> is the plan for small- and medium-sized businesses that want to maximize their productivity with Slack."):null}},{key:"getStandardPlanTopFeatures",value:function(){return this.props.featureBringPlansPageToSsbTranslations?[{id:1,description:ce.t("Smarter, unlimited search")},{id:2,description:ce.t("Unlimited apps")},{id:3,description:ce.t("Group calls with screen sharing")},{id:4,description:ce.t("Guest accounts & shared channels")}]:[]}},{key:"getPlusPlanDescription",value:function(){return this.props.featureBringPlansPageToSsbTranslations?ce.rt("<strong>Plus</strong> is the plan for larger or regulated businesses with additional administrative and compliance needs."):[]}},{key:"getPlusPlanTopFeatures",value:function(){return this.props.featureBringPlansPageToSsbTranslations?[{id:1,description:ce.t("99% guaranteed uptime SLA")},{id:2,description:ce.t("User provisioning and deprovisioning")},{id:3,description:ce.t("SAML-based single sign-on (SSO)")},{id:4,description:ce.t("Corporate exports for all messages")}]:[]}},{key:"getEnterprisePlanDescription",value:function(){var e=this;return this.props.featureBringPlansPageToSsbTranslations?ce.rt("<strong>Enterprise Grid</strong> is the plan that lets businesses connect multiple Slack workspaces across their company. <Link>Contact Sales</Link> for pricing.",null,function(t){var n=t.tag,r=t.text;return"Link"===n?l.a.createElement(H.a,{onClick:e.onClickContactSales,"data-qa":"pricing_plans_modal_contact_sales_link"},r):null}):[]}},{key:"getEnterprisePlanTopFeatures",value:function(){return this.props.featureBringPlansPageToSsbTranslations?[{id:1,description:ce.t("Unlimited workspaces")},{id:2,description:ce.t("Support data loss prevention (DLP), e-Discovery and offline backup providers")},{id:3,description:ce.t("Designated customer success teams")},{id:4,description:ce.t("Shared channels between workspaces")}]:[]}},{key:"getPricingPlansTabConfig",value:function(){return this.props.featureBringPlansPageToSsbTranslations?[{id:G.e.standard.id,title:ce.t("Standard"),content:l.a.createElement(c.Fragment,null),"data-qa":"standard_pricing_plan_tab"},{id:G.e.plus.id,title:ce.t("Plus"),content:l.a.createElement(c.Fragment,null),"data-qa":"plus_pricing_plan_tab"},{id:G.e.enterprise.id,title:ce.t("Enterprise Grid"),content:l.a.createElement(c.Fragment,null),"data-qa":"enterprise_grid_pricing_plan_tab"}]:[]}},{key:"getGoButtonText",value:function(){return this.props.featureBringPlansPageToSsbTranslations?this.state.selectedPricingPlan===G.e.enterprise.id?ce.t("Contact Us"):ce.t("Upgrade Now"):null}},{key:"setIsPlansDataLoaded",value:function(e){this.setState(function(t){return o()({},t,{isPlansDataLoaded:e})})}},{key:"getPricingPlanClogStep",value:function(e){var t=se.z.PRICING_PLANS_DIALOG_STANDARD_PLAN;return e===G.e.plus.id?t=se.z.PRICING_PLANS_DIALOG_PLUS_PLAN:e===G.e.enterprise.id&&(t=se.z.PRICING_PLANS_DIALOG_ENTERPRISE_PLAN),t}},{key:"clogPricingPlanModalEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,n=e.action,r=e.elementType,a=e.elementName,i=e.source,o={step:t,action:n};r&&a&&(o.ui_properties={element_type:r,element_name:a}),i&&(o.entry_point=i),this.props.clogger.track(se.k.PRICING_PLANS_DIALOG,{contexts:{ui_context:o}})}},{key:"redirectToContactSalesPage",value:function(){Object(q.O)(this.props.team,G.c)}},{key:"redirectToCheckoutPage",value:function(e){Object(q.O)(this.props.team,G.a+"?s=1&p="+e+"&entry_point=pricing_plans_modal")}},{key:"renderPricingPlanContent",value:function(){var e=l.a.createElement(c.Fragment,null);switch(this.state.selectedPricingPlan){case G.e.standard.id:e=l.a.createElement(re,{planDescription:this.getStandardPlanDescription(),planCurrency:this.props.planCurrency,planCostPerMemberBilledAnnually:this.props.standardPlanCostPerMemberBilledAnnually,planCostPerMemberBilledMonthly:this.props.standardPlanCostPerMemberBilledMonthly,planTopFeatures:this.getStandardPlanTopFeatures(),isPlansDataLoaded:this.state.isPlansDataLoaded});break;case G.e.plus.id:e=l.a.createElement(re,{planDescription:this.getPlusPlanDescription(),planCurrency:this.props.planCurrency,planCostPerMemberBilledAnnually:this.props.plusPlanCostPerMemberBilledAnnually,planCostPerMemberBilledMonthly:this.props.plusPlanCostPerMemberBilledMonthly,planTopFeatures:this.getPlusPlanTopFeatures(),isPlansDataLoaded:this.state.isPlansDataLoaded});break;case G.e.enterprise.id:e=l.a.createElement(re,{planDescription:this.getEnterprisePlanDescription(),planTopFeatures:this.getEnterprisePlanTopFeatures(),showPlanCostDetails:!1,isPlansDataLoaded:this.state.isPlansDataLoaded})}return e}},{key:"render",value:function(){return this.props.featureBringPlansPageToSsbTranslations?l.a.createElement(U.a,{className:"p-pricing_plans_modal",title:ce.t("Level up with a premium plan"),cancelText:ce.t("Close"),goButtonText:this.getGoButtonText(),onGo:this.onGoButtonClick,onClose:this.onClosePricingPlansModal,footerIcon:"question-circle",footerLink:"/"+G.g,footerText:ce.t("Compare plans and prices"),onFooterLinkClick:this.onClickFooterLink,shouldCloseOnGo:!1,truncateTitle:!1,"data-qa":"pricing_plans_modal"},l.a.createElement("div",{className:"p-pricing_plans_modal__content"},l.a.createElement(K.a,{tabs:this.getPricingPlansTabConfig(),defaultTabId:this.state.selectedPricingPlan,onTabChange:this.onPricingPlanChange,fullWidthMenu:!0}),this.renderPricingPlanContent())):null}}]),t}(c.Component);ue.displayName="PricingPlansModal",ue.defaultProps=le;var de=Object(A.b)(function(e){var t=Object(ie.p)(e),n=C()(t,1)[0];return{team:Object(F.d)(e),standardPlanProductId:Object(ie.d)(e,n,G.f.monthly,G.e.standard.id,G.d.CREDIT_CARD)||"",plusPlanProductId:Object(ie.d)(e,n,G.f.monthly,G.e.plus.id,G.d.CREDIT_CARD)||"",standardPlanCostPerMemberBilledMonthly:Object(ie.c)(e,n,G.f.monthly,G.e.standard.id,G.d.CREDIT_CARD)||0,standardPlanCostPerMemberBilledAnnually:Object(ie.c)(e,n,G.f.yearly,G.e.standard.id,G.d.CREDIT_CARD)||0,plusPlanCostPerMemberBilledMonthly:Object(ie.c)(e,n,G.f.monthly,G.e.plus.id,G.d.CREDIT_CARD)||0,plusPlanCostPerMemberBilledAnnually:Object(ie.c)(e,n,G.f.yearly,G.e.plus.id,G.d.CREDIT_CARD)||0,planCurrency:n||"",clogger:Object(oe.a)({state:e})}},function(e){return{loadPlansData:function(){return e(Object(ae.e)())}}})(Object(L.a)("feature_bring_plans_page_to_ssb_translations")(ue)),be=n("XzsM"),pe=n("g5qt"),he=n("HO/Y"),me=n("Dpjh"),fe=n("P3Po"),ve=n("Bb7I"),ge=Object(O.a)("Fetch the active message pane banner for this team/user, if any",function(e,t,n){return e(Object(y.a)({method:"surveys.submit",reason:"submit-survey-feedback",args:n}))});ge.propTypes={type:u.b.string,response:u.b.string};var _e=ge,Oe=new B.b("survey_dialog"),ye=function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"render",value:function(){return l.a.createElement(U.a,{title:Oe.t("Thanks for the feedback!"),showCancelButton:!1,goButtonType:"outline",goButtonText:Oe.t("Close"),shouldCloseOnOverlayClick:!1},l.a.createElement("p",null,Oe.t("We\u2019ll pass your feedback along to the team. Thanks for taking the time to share it with us.")))}}]),t}(c.PureComponent);ye.displayName="SurveyConfirm",ye.defaultProps={};var je=ye,ke=Object(h.b)("Opens survey feedback confirmation dialog",function(e,t,n){e(_e(n)).then(function(){e(Object(k.a)()),e(Object(k.e)({element:l.a.createElement(je),name:"SURVEY_CONFIRM"}))})});ke.propTypes={type:u.b.string,response:u.b.string};var Ee=ke,Ce=new B.b("survey_dialog"),Ie=(u.b.func.isRequired,u.b.func.isRequired,u.b.string.isRequired,u.b.string.isRequired,u.b.string,u.b.shape({countPref:u.b.string.isRequired,tsPref:u.b.string.isRequired}),u.b.object.isRequired,u.b.shape({EventId:u.b.number.isRequired,UiStep:u.b.number.isRequired}).isRequired,function(e){function t(e){w()(this,t);var n=N()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(D.a)(n,["updateComment","onGo","onClose"]),n.state={comment:""},n}return M()(t,e),T()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clogger,n=e.clogData,r=n.EventId,a=n.UiStep;t.track(r,{contexts:{ui_context:{step:a,action:se.v.IMPRESSION,ui_properties:{element_type:se.j.MODAL}}}})}},{key:"onGo",value:function(){var e=this.props,t=e.surveyType,n=e.clogger,r=e.clogData,a=r.EventId,i=r.UiStep,o=Object(me.a)(this.state.comment.trim());o.length&&(this.props.submitSurvey({type:t,response:o}),n.track(a,{contexts:{ui_context:{step:i,action:se.v.CLICK,ui_properties:{element_type:se.j.BUTTON,element_name:"send_feedback"}}}}),this.updateNotificationSeen())}},{key:"onClose",value:function(){var e=this.props,t=e.clogger,n=e.clogData,r=n.EventId,a=n.UiStep;t.track(r,{contexts:{ui_context:{step:a,action:se.v.CLICK,ui_properties:{element_type:se.j.BUTTON,element_name:"close"}}}}),this.updateNotificationSeen()}},{key:"updateNotificationSeen",value:function(){this.props.updateNotificationSeen({prefsKey:"growth_all_banners_prefs",prefsData:this.props.surveyPrefs})}},{key:"updateComment",value:function(e){this.setState(function(){return{comment:e}})}},{key:"render",value:function(){var e=this.state.comment,t=this.props,n=t.title,r=t.headerDesc;return l.a.createElement(ve.a,{title:n,goButtonText:Ce.t("Send Feedback"),cancelText:Ce.t("Not Now"),onGo:this.onGo,onClose:this.onClose,isValid:""!==Object(me.a)(e.trim()),shouldCloseOnOverlayClick:!1,truncateTitle:!1},r.length>0&&l.a.createElement("p",{className:"sk_dark_gray"},r),l.a.createElement(fe.a,{name:"name",id:"name",value:e,onChange:this.updateComment,placeholder:Ce.t("Add a comment..."),maxLength:4e3}))}}]),t}(c.PureComponent));Ie.displayName="SurveyDialog",Ie.defaultProps={headerDesc:"",surveyPrefs:{}};var we=Object(A.b)(function(e){return{clogger:Object(oe.a)({state:e})}},function(e){return{submitSurvey:function(){return e(Ee.apply(void 0,arguments))},updateNotificationSeen:function(){return e(_.apply(void 0,arguments))}}})(Ie),Se=new B.b("survey_dialog"),Te={countPref:"trial_upgrade_survey_cta_count",tsPref:"trial_upgrade_survey_cta_last_ts"},Re={EventId:se.k.GROWTH_PLANS_PAGE_TRIALS,UiStep:se.z.TRIAL_START_SURVEY},Ne=function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"render",value:function(){return l.a.createElement(we,{title:Se.t("What made you start a free trial?"),surveyType:"trial_upgrade",headerDesc:Se.t("If you have a moment, we\u2019d love to learn more about why you chose to start a trial of the Standard plan for your workspace."),surveyPrefs:Te,clogData:Re})}}]),t}(c.PureComponent);Ne.displayName="SurveyTrialStart",Ne.defaultProps={};var xe=Ne,Me=new B.b("survey_dialog"),Pe={countPref:"trial_downgrade_survey_cta_count",tsPref:"trial_downgrade_survey_cta_last_ts"},Ae={EventId:se.k.GROWTH_PLANS_PAGE_TRIALS,UiStep:se.z.TRIAL_END_SURVEY},De=function(e){function t(){return w()(this,t),N()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M()(t,e),T()(t,[{key:"render",value:function(){return l.a.createElement(we,{title:Me.t("What made you stay on the free plan?"),surveyType:"trial_downgrade",headerDesc:Me.t("If you have a moment, we\u2019d love to learn more about why you chose not to upgrade after your trial of the Standard plan."),surveyPrefs:Pe,clogData:Ae})}}]),t}(c.PureComponent);De.displayName="SurveyTrialEnd",De.defaultProps={};var Le={trial_upgrade_survey:xe,trial_downgrade_survey:De},qe=Object(h.b)("Opens survey dialog for specific type of survey",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).type,r=Le[n];r&&e(Object(k.e)({element:l.a.createElement(r),name:n}))});qe.propTypes={type:u.b.string};var Fe,Be=qe;n.d(t,"e",function(){return Ke}),n.d(t,"d",function(){return ze}),n.d(t,"c",function(){return Ye}),n.d(t,"f",function(){return Qe}),n.d(t,"a",function(){return Xe});var Ue=Object(d.b)("Set message pane banner");Ue.propTypes={name:u.b.string,data:u.b.object};var He=Object(d.b)("Close message pane banner");He.propTypes=null;var Ke=Object(h.b)("Shows the pricing plans information",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pricingPlansPageUrl,a=n.source,i=t(),o=Object(F.d)(i);Object(q.v)(o)&&!Object(pe.V)()&&!Object(he.t)(i)&&("treatment"===Object(be.c)(i,"lc_bring_plans_page_to_ssb_existing_teams")||"treatment"===Object(be.c)(i,"lc_bring_plans_page_to_ssb_new_teams"))?e(Object(k.e)({element:l.a.createElement(de,{source:a})})):Object(q.O)(o,r)});Ke.propTypes={pricingPlansPageUrl:u.b.string.isRequired};var Ge={name:"",data:{}},Ve=Object(b.b)((Fe={},a()(Fe,Ue,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.data;return o()({},e,{name:n,data:r})}),a()(Fe,He,function(){return Ge}),Fe),Ge,{persistenceEnabled:!0});Ve.propTypes={name:u.b.string,data:u.b.object};t.b=Ve;var ze=Object(p.b)(function(e){return e&&e.messagePaneBanner&&e.messagePaneBanner.name}),Ye=Object(p.b)(function(e){return e&&e.messagePaneBanner&&e.messagePaneBanner.data}),We=Object(h.b)("Load message pane banner info",function(e,t,n){e(j(n)).then(function(t){Object(s.a)(t)||(t.message_pane&&e(Ue({name:t.message_pane.name,data:t.message_pane.data||{}})),t.survey&&e(Be({type:t.survey.type})))})}),Qe=Object(m.a)(We,108e5);We.propTypes={qa_banner_type:u.b.string,qa_banner_data:u.b.string};var Xe=Object(h.b)("Close the message pane banner",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bannerPrefs,a=n.alwaysHideBanner;e(_({prefsKey:"growth_all_banners_prefs",prefsData:r,alwaysHideBanner:a})),e(He())});Xe.propTypes={bannerPrefs:u.b.object,alwaysHideBanner:u.b.bool}},"fQ+F":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("QbLZ"),a=n.n(r),i=n("XqGD"),o=function(e,t){return a()({},t,{options:Object(i.a)(e,t.filterQuery)})}},fSZv:function(e,t,n){},fWmQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.ui.app_space.toggleView",r.a),o=Object(a.b)("TS.client.ui.app_space.toggleViewAfterAppSpaceIsPrepared",r.a)},fdJE:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("DtX9"),a=n("clTI"),i=n("Fdc0"),o=n("fCVm"),s=n("JZ/c");function c(e,t){if(!t)return"";var n=Object(o.b)(t,"EDIT",{jumbomoji:!1,allow_intra_word_formatting:!1});return Object(s.a)(n).reduce(function(t,n){if("member"===n.type){var o=Object(r.c)(e,n.id);return t+"@"+(Object(i.w)(o)||n.id)}if("channel"===n.type){var s=Object(a.d)(e,n.id);return t+"#"+(s?s.name:"")}if("command"===n.type){if("here"===n.data.type||"channel"===n.data.type||"everyone"===n.data.type||"group"===n.data.type)return t+"@"+n.data.type;if("date"===n.data.type)return t+n.data.label;if("team"===n.data.type||"subteam"===n.data.type)return t+n.data.label}return n.text?t+n.text:t},"")}},"fgg+":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("7EGn"),b=n("ifKl"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("aK/h"),v=n("FN36"),g=n("uf9I"),_=n("wfE8"),O=n("6kok"),y=n("WD4z"),j=n("0f2Y"),k=new(n("nNoG").b)("channel_details"),E=(f.b.object,f.b.number,f.b.number,f.b.func,{channel:void 0,workspaceRetentionType:0,workspaceRetentionDuration:void 0,getDataRetention:b.a}),C=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={channelRetentionType:0,retentionLoaded:!1},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.channel,n=function(){e.setState(function(){return{retentionLoaded:!0}})};t?this.props.getDataRetention({channel:t,reason:"esc-retention-warning"}).then(function(t){var n=Object(d.a)(t,"retentionType",0);e.setState(function(){return{channelRetentionType:n}})}).finally(function(){n()}):n()}},{key:"render",value:function(){var e=this.props,t=e.workspaceRetentionType,n=e.workspaceRetentionDuration,r=this.state,a=r.channelRetentionType;return r.retentionLoaded?a<1&&t<=1?null:a>0?h.a.createElement(y.a,{level:"warning",type:"inline",className:"margin_bottom_100"},k.rt("<strong>Note: </strong>this channel currently follows a custom retention policy. Once it\u2019s shared, that policy will be removed \u2014 and messages in this channel will no longer be deleted automatically.",{fallbackHash:"0553da5248a955c4af61a1bcae57c025e8af4c96",fallbackHashNs:"shared"})," "):h.a.createElement(y.a,{level:"warning",type:"inline",className:"margin_bottom_100"},h.a.createElement("strong",null,k.t("Your workspace\u2019s retention settings won\u2019t apply to shared channels",{fallbackHash:"8dcd5f0a7f08be8af239843b97189801130fbd60",fallbackHashNs:"shared"})),h.a.createElement("br",null),k.t("Messages in your workspace are deleted after {team_duration, plural, =1 {# day} other {# days}}. During the beta, this setting won\u2019t apply to shared channels.",{team_duration:n,fallbackHash:"3b27819eeed22a5f26efaed6b96b1dadfea53af5",fallbackHashNs:"shared"})," ",h.a.createElement(j.a,{href:"https://get.slack.help/hc/articles/115004152843"},k.t("Learn more",{fallbackHash:"824d76b124e6289f372e2ff6bcba91e8939343bd",fallbackHashNs:"shared"}))):null}}]),t}(p.PureComponent);C.displayName="EscRetentionWarning",C.defaultProps=E;var I={getDataRetention:function(){return _.m.apply(void 0,arguments)}};t.a=Object(m.b)(function(e,t){var n=t.channel;return{currentTeamId:Object(g.c)(e),workspaceRetentionType:n&&Object(O.xb)(n)?Object(v.a)(e,"group_retention_type"):Object(v.a)(e,"retention_type"),workspaceRetentionDuration:n&&Object(O.xb)(n)?Object(v.a)(e,"group_retention_duration"):Object(v.a)(e,"retention_duration")}},I)(C)},fggV:function(e,t,n){},fhyy:function(e,t,n){},frt6:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("LpuC");n("RMJC");function c(e){return o.a.createElement("span",{className:"c-color_slider"},o.a.createElement("span",{className:"c-color_slider__outer_hue_track"}),o.a.createElement("span",{className:"c-color_slider__inner_hue_track"}),o.a.createElement(s.a,a()({className:"c-color_slider__slider",min:0,max:359},e)))}c.displayName="HueSlider",t.a=c},fvUo:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("hbEN"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("XHGt"),g=n("tn36"),_=n("nNoG"),O=n("HO/Y"),y=n("DtX9"),j=n("D4L/"),k=n("5mKg"),E=n("Fdc0"),C=n("cErB"),I=n("P3Po"),w=n("A+cF"),S=n("3dqR"),T=n("Cudy"),R=n("kd6D"),N=(n("3fDw"),new _.b("shared_channels")),x=(f.b.func.isRequired,f.b.func.isRequired,f.b.object.isRequired,f.b.bool.isRequired,f.b.object.isRequired,f.b.string.isRequired,f.b.object.isRequired,function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={invitationMessage:""},Object(g.a)(n,["onInvitationMessageChange"]),n.validateInvitationMessage=Object(p.a)(n.validateInvitationMessage,500),n}return b()(t,e),c()(t,[{key:"onInvitationMessageChange",value:function(e){this.setState(function(){return{invitationMessage:e}}),this.validateInvitationMessage(e),this.props.onChange(e)}},{key:"getInvitationMessageErrorString",value:function(){var e=this.props,t=e.errors;return e.featureSonicEscCreation&&t.url?N.t("Unfortunately, custom messages can\u2019t contain URLs."):null}},{key:"validateInvitationMessage",value:function(e){var t={url:Object(C.c)(e).length};this.props.onValidationChange(t)}},{key:"render",value:function(){var e=this.props,t=e.featureSonicEscCreation,n=e.currentMember,r=e.currentTeam,i=e.currentMemberName,o=this.state.invitationMessage;return t?m.a.createElement("label",{htmlFor:"invitation_message",className:"p-shared_channel_invitation_message_editor","data-qa":"invitation_message_input_label"},m.a.createElement("div",{className:"p-shared_channel_invitation_message_editor__label_title"},m.a.createElement("strong",null,N.t("Add a message"))),m.a.createElement("div",{className:"p-shared_channel_invitation_message_editor__container"},m.a.createElement("div",{className:"p-shared_channel_invitation_message_editor__member"},m.a.createElement(w.d,{avatar:function(e){return m.a.createElement(S.b,a()({},e,{user:n,teamId:r.id,size:R.a.medium,isExternal:!0,isInteractive:!1}))},size:"medium",text:m.a.createElement(m.a.Fragment,null,m.a.createElement(T.a,{className:"c-medium-member__name","data-qa":"name",name:i,multiline:!0}),m.a.createElement("div",{className:"p-shared_channel_invitation_message_editor__team_name"},Object(k.e)(r)))})),m.a.createElement(I.a,{id:"invitation_message",name:"invitation_message",className:"p-shared_channel_invitation_message_editor__textarea",onChange:this.onInvitationMessageChange,value:o,placeholder:N.t("e.g. Hi there! I\u2019m working on a project with\u2026",{note:"Placeholder text demonstrating a request to another team to start an external shared channel."}),maxLength:"560",resize:"none",useInlineAlert:!0,errorText:this.getInvitationMessageErrorString()}))):null}}]),t}(h.Component));x.displayName="InvitationMessageEditor";t.a=Object(v.b)(function(e){var t=Object(y.b)(e);return{featureSonicEscCreation:Object(O.j)(e,"feature_sonic_esc_creation"),currentMember:t,currentMemberName:Object(E.P)(e,t),currentTeam:Object(j.d)(e)}})(x)},fyoz:function(e,t,n){"use strict";n("o4CG");var r=n("WTjW");n.d(t,"a",function(){return r.a});n("7YzY"),n("Mjmw");var a=n("0++q");t.b=a.a},fzrg:function(e,t,n){"use strict";var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("MNvw"),u=n("lDGG"),d={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now()},b=Object(l.b)((r={},i()(r,u.b,function(e,t){return s()({},e,{serviceOnline:!!t})}),i()(r,u.c,function(e){return s()({},e,{lastSocketActivity:Date.now()})}),i()(r,u.a,function(e,t){return s()({},e,{clientOnline:!!t,lastClientConnection:Date.now()})}),r),d,{persistenceEnabled:!1});b.propTypes={serviceOnline:c.b.bool.isRequired,lastSocketActivity:c.b.number.isRequired,clientOnline:c.b.bool.isRequired,lastClientConnection:c.b.number.isRequired},t.a=b},g0Ht:function(e,t,n){"use strict";var r=n("aK/h");t.a=r.b.shape({scopes:r.b.arrayOf(r.b.string).isRequired,is_dangerous:r.b.bool,short_description:r.b.string.isRequired,long_description:r.b.string})},"g9w/":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("TGBA"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("yPgC"),_=n("TSYQ"),O=n.n(_),y=n("tn36"),j=n("YEIV"),k=n.n(j),E=n("yIs4"),C=n("8yfr"),I=n("od5y"),w=n("llxT"),S=n("e4Fz"),T=n("k0G2"),R=n("nNoG"),N=(n("pKt5"),new R.b("select")),x=(v.b.func,v.b.string,v.b.func.isRequired,v.b.shape({activeRowIndex:v.b.number,isDisabled:v.b.bool,isExpanded:v.b.bool,isInvalid:v.b.bool,isRequired:v.b.bool,options:v.b.array,selectId:v.b.string,selectedOption:v.b.object}).isRequired,v.b.func.isRequired,v.b.oneOf(Object(h.a)(C.f)).isRequired,v.b.oneOfType([v.b.string,v.b.number]).isRequired,v.b.string,v.b.string,v.b.string,v.b.bool,v.b.string,v.b.bool,v.b.func,{onClick:p.a,placeholderText:void 0,selectDataQa:void 0,measurePopoverEventName:null,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,focusOnMount:!1,onBlur:p.a}),M=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","handleTriggerOnClick","onEscPressed","onTabPressed"]),e.measurePopoverEventName&&(n.measurePopoverEvent=new Event(e.measurePopoverEventName)),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.handleTriggerOnClick()}},{key:"onUpOrDownPressed",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState;n.isExpanded||(e.preventDefault(),e.stopPropagation(),this.updateOptionsListPosition(),e.currentTarget.click(),r(function(){return{isExpanded:!0}}))}},{key:"onKeyDown",value:function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey))switch(e.keyCode){case T.h:case T.i:e.preventDefault();break;case T.l:case T.c:this.onUpOrDownPressed(e);break;case T.f:this.onEscPressed(e);break;case T.k:this.onTabPressed()}}},{key:"onEscPressed",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState;n.isExpanded&&(e.stopPropagation(),r(function(){return{isExpanded:!1}}))}},{key:"onTabPressed",value:function(){(0,this.props.setSelectState)(function(){return{isExpanded:!1}})}},{key:"handleTriggerOnClick",value:function(){var e=this.props,t=e.onClick,n=e.setSelectState,r=e.selectState;this.updateOptionsListPosition(),t(),n(function(){return{isExpanded:!r.isExpanded}})}},{key:"updateOptionsListPosition",value:function(){!this.props.selectState.isExpanded&&this.measurePopoverEvent&&window.dispatchEvent(this.measurePopoverEvent)}},{key:"renderContent",value:function(){var e=this.props,t=e.renderSelectedOption,n=e.selectState,r=e.textSelect,a=e.textSelectLabel,i=e.selectDataQa,o=n.selectedOption,s=void 0,c=void 0,l=this.props.placeholderText||N.t("Please select an option");return s=o?t(o):f.a.createElement("span",{className:"c-select_button__placeholder"},l||N.t("Please select an option")),r&&a&&(c=f.a.createElement("span",{className:"c-select_button--text-select-label"},a)),f.a.createElement("div",{"data-qa":i?i+"-button-content":null,className:"c-select_button__content"},c,s)}},{key:"render",value:function(){var e=this.props,t=e.selectState,n=e.size,r=e.width,a=e.textSelect,i=e.selectDataQa,o=e.classPrefix,s=e.onBlur,c=t.isDisabled,l=t.isExpanded,u=t.isInvalid,d=t.selectId,b=t.activeRowIndex,p=O()("c-select_button","c-select_button--"+n,k()({"c-select_button--disabled":c,"c-select_button--expanded":l,"c-select_button--text-select":a,"c-select_button--invalid":u},o+"__select_button",o)),h=l&&Object(E.a)(b)?Object(S.a)(d,"option_"+b):null,m=a?null:{width:r};return f.a.createElement(w.a,{className:p,onClick:this.handleTriggerOnClick,onKeyDown:this.onKeyDown,style:m,"aria-activedescendant":h,"aria-haspopup":!0,disabled:!!c||null,"data-qa":i?i+"-button":null,id:Object(S.a)(d,"button"),onBlur:s},this.renderContent(),f.a.createElement(I.b,{className:"c-select_button__icon c-select_button__icon--"+n,inline:!0,type:"chevron-medium-down"}))}}]),t}(m.Component);M.displayName="SelectButton",M.defaultProps=x;var P=M,A=n("Py5X"),D=n("UnlJ"),L=(v.b.array.isRequired,v.b.bool,v.b.bool,v.b.bool,v.b.bool,v.b.func,v.b.string,v.b.object,g.a.SlackKit.SelectState.isRequired,v.b.func.isRequired,v.b.func,v.b.func,v.b.oneOf(Object(h.a)(C.f)),v.b.oneOfType([v.b.string,v.b.number]),v.b.number,v.b.string,v.b.string,v.b.string,v.b.bool,v.b.func,v.b.func,v.b.string,v.b.string,v.b.bool,v.b.string,v.b.number,v.b.bool,v.b.func,{isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,onOptionSelected:p.a,selectedOption:void 0,selectId:"basic-select-"+Object(S.d)()}),q={renderOption:function(e){return e.label},renderSelectedOption:function(e){return e.label},size:C.f.MEDIUM,width:225,optionsRowHeight:C.a,ariaLabel:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,onClick:p.a,onOptionSelected:p.a,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:p.a},F=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(y.a)(n,["renderOptionsList"]),n.inputContainerRef=f.a.createRef(),n.listRef=f.a.createRef(),n.popoverRef=f.a.createRef();var r=e.selectState.selectId;return n.measurePopoverEventName="measureSelectPopover--"+r,n}return b()(t,e),c()(t,[{key:"renderOptionsList",value:function(){var e=this.props,t=e.ariaLabel,n=e.onOptionSelected,r=e.renderOption,a=e.resultsInPopover,i=e.selectState,o=e.setSelectState,s=e.width,c=e.classPrefix,l=e.selectDataQa,u=e.minOptionsListWidth,d=e.optionsRowHeight;return i.isDisabled?null:a?f.a.createElement(D.a,{selectState:i,setSelectState:o,renderOption:r,ariaLabel:t,onOptionSelected:n,width:s,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:c,selectDataQa:l,minOptionsListWidth:u,optionsRowHeight:d}):f.a.createElement(A.a,{selectState:i,setSelectState:o,renderOption:r,ariaLabel:t,onOptionSelected:n,width:s,listRef:this.listRef,classPrefix:c,selectDataQa:l,optionsRowHeight:d})}},{key:"render",value:function(){var e=this.props,t=e.resultsInPopover,n=e.selectState,r=e.setSelectState,i=e.className,o=e.selectDataQa,s=e.textSelect,c=e.textSelectLabel,l=e.focusOnMount,u=e.onBlur;return f.a.createElement("div",{className:O()(i,"c-basic-select"),"data-qa":o,ref:this.inputContainerRef},f.a.createElement(P,a()({},this.props,{selectDataQa:o,selectState:n,setSelectState:r,measurePopoverEventName:t&&this.measurePopoverEventName,textSelect:s,textSelectLabel:c,focusOnMount:l,onBlur:u})),this.renderOptionsList())}}]),t}(m.Component);F.displayName="ControlledBasicSelect",F.defaultProps=q;var B=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeRowIndex:null,isDisabled:e.isDisabled,isExpanded:e.isExpanded,isInvalid:e.isInvalid,isRequired:e.isRequired,options:e.options,selectId:e.selectId,selectedOption:e.selectedOption},Object(y.a)(n,["setSelectState"]),n}return b()(t,e),c()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.selectedOption,r=t.selectedOption;return!r||n&&n!==r?{selectedOption:n}:null}}]),c()(t,[{key:"setSelectState",value:function(e,t){return this.setState(e,t)}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.isInvalid,r=e.isRequired;return f.a.createElement(F,a()({},this.props,{selectState:a()({},this.state,{isDisabled:t,isInvalid:n,isRequired:r}),setSelectState:this.setSelectState}))}}]),t}(m.Component);B.displayName="BasicSelect",B.defaultProps=L;t.a=B},gA5Z:function(e,t,n){},gBC1:function(e,t,n){"use strict";var r=n("VyaM"),a=n("QLyv"),i=n("/k8D");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.uncapitalized,o=void 0!==n&&n,s=t.today,c=void 0===s?Object(a.a)():s,l=Object(r.a)(e,{returnMoment:!0}),u=Object(a.a)(c).subtract(1,"days"),d=Object(a.a)(c).add(1,"days"),b="";return Object(i.a)(c,l)&&(b=Object(a.a)(l).calendar(c,{today:"[Today]"}).split(" ")[0]),Object(i.a)(u,l)&&(b=Object(a.a)(l).calendar(c,{yesterday:"[Yesterday]"}).split(" ")[0]),Object(i.a)(d,l)&&(b=Object(a.a)(l).calendar(null,{tomorrow:"[Tomorrow]"}).split(" ")[0]),""!==(b=o?b.toLocaleLowerCase():b.charAt(0).toLocaleUpperCase()+b.slice(1))?b:void 0}},gE4N:function(e,t,n){},gEbr:function(e,t,n){"use strict";n.d(t,"i",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return q}),n.d(t,"l",function(){return B}),n.d(t,"k",function(){return U}),n.d(t,"h",function(){return K}),n.d(t,"f",function(){return G}),n.d(t,"g",function(){return V}),n.d(t,"e",function(){return z}),n.d(t,"d",function(){return Y}),n.d(t,"j",function(){return W}),n.d(t,"o",function(){return Q}),n.d(t,"n",function(){return X}),n.d(t,"m",function(){return Z});var r,a=n("jo6Y"),i=n.n(a),o=n("sk9p"),s=n.n(o),c=n("YEIV"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("uXhx"),p=n("CpTu"),h=n("ZP0B"),m=n("uKXT"),f=n("fp5s"),v=n("lE2N"),g=n("BeL+"),_=n("GxtX"),O=n("aK/h"),y=n("EzZj"),j=n("MNvw"),k=n("U/ze"),E=n("XfeM"),C=n("JHHQ"),I=n("HvGc"),w=n("Cbpi"),S=n("clTI"),T=n("TcTh"),R=n("smxp"),N=n("HO/Y"),x=n("6kok"),M=n("2HDu"),P=n("hOQf"),A=n("ZAxE"),D=Object(y.b)("Jump to a reply timestamp");D.propTypes=O.b.string;var L=Object(y.b)("Clears the jump-to timestamp");L.propTypes=null;var q=Object(y.b)("Clears the active highlight");q.propTypes=null;var F=Object(y.b)("Show or hide the drag overlay");F.propTypes=O.b.bool;var B=Object(y.b)("Focus when the thread is loaded");B.propTypes=O.b.string;var U=Object(y.b)("Focus the input when the thread is loaded");U.propTypes=O.b.string;var H=Object(j.b)((r={},l()(r,D,function(e,t){return d()({},e,{startTs:t,highlightTs:t,highlightKey:Object(f.a)("threads-flexpane-highlight")})}),l()(r,L,function(e){return d()({},e,{startTs:null,highlightTs:null,highlightKey:null})}),l()(r,q,function(e){return d()({},e,{highlightTs:null,highlightKey:null})}),l()(r,F,function(e,t){return d()({},e,{showDragOverlay:t})}),l()(r,B,function(e,t){return d()({},e,{focusRequested:t})}),l()(r,U,function(e,t){return d()({},e,{focusInput:t})}),r),{startTs:null,highlightTs:null,highlightKey:null,showDragOverlay:!1,focusRequested:null,focusInput:null},{persistenceEnabled:!0});H.propTypes={startTs:O.b.string,highlightTs:O.b.string,highlightKey:O.b.string,showDragOverlay:O.b.bool,focusRequested:O.b.string,focusInput:O.b.string},t.c=H;var K=Object(k.b)(function(e){return e&&e.threadsFlexpane&&e.threadsFlexpane.startTs}),G=Object(k.b)(function(e){return e&&e.threadsFlexpane&&{highlightTs:e.threadsFlexpane.highlightTs,highlightKey:e.threadsFlexpane.highlightKey}}),V=Object(k.b)(function(e){return e&&e.threadsFlexpane&&e.threadsFlexpane.showDragOverlay}),z=Object(k.b)(function(e){return e&&e.threadsFlexpane&&e.threadsFlexpane.focusRequested}),Y=Object(k.b)(function(e){return e&&e.threadsFlexpane&&e.threadsFlexpane.focusInput}),W=Object(E.b)("gets thread replies from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,i=n.oldest,o=n.latest,c=n.limit,l=Object(M.c)(r,a);return i&&o?Promise.all([e(Object(A.d)({channelId:r,threadTs:a,latest:o,limit:c})),e(Object(A.d)({channelId:r,threadTs:a,oldest:i,limit:c}))]).then(function(t){var n=s()(t,2),r=n[0],c=n[1],u=Object(p.a)(r.msgs,{ts:a})||Object(p.a)(c.msgs,{ts:a}),d=Object(b.a)(r.msgs,{ts:a}),f=Object(b.a)(c.msgs,{ts:a}),O=r.deleted,y=c.deleted,j=Object(v.a)(d.concat(f),"ts"),k=Object(g.a)(Object(_.a)(O,y));!r.hasMore&&u&&j.unshift(u);var E=j.map(function(e){return e.ts});return e(Object(C.a)({msgs:j,channelId:l,hasMore:{hasMoreStart:r.hasMore,hasMoreEnd:c.hasMore},oldest:Object(m.a)([i,Object(m.a)(E)]),latest:Object(h.a)([o,Object(h.a)(E)]),deleted:k})),{msgs:j}}):e(Object(A.d)({channelId:r,threadTs:a,oldest:i,latest:o,limit:c})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.msgs,s=n.deleted,c=n.hasMore,u=r;o&&!c||i===a||o===a||!i&&!o&&!c||(u=Object(b.a)(r,{ts:a}));var d=c;return Object(N.j)(t(),"feature_degraded_send")&&(i||o||(d={hasMoreStart:c,hasMoreEnd:!1})),e(Object(C.a)({msgs:u,channelId:l,hasMore:d,oldest:i,latest:o,deleted:s})),{msgs:u}})});W.propTypes={channelId:O.b.string.isRequired,threadTs:O.b.string.isRequired,oldest:O.b.string,latest:O.b.string};var Q=Object(E.b)("See if we should drop history for a thread after closing it",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threadKey;if(n){var r=Object(M.a)(n),a=r.channelId,i=r.threadTs;if(a&&i){var o=Object(S.d)(t(),a);Object(x.V)(o)||Object(x.yb)(o)&&!Object(x.kb)(o)?e(Object(T.i)({channelId:n})):e(Object(T.l)({channelId:n}))}}});Q.propTypes={threadKey:O.b.string};var X=Object(E.b)("Open the thread in the flexpane or refresh it if already open",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,o=n.requestFocus,s=i()(n,["channelId","threadTs","requestFocus"]),c=Object(M.c)(r,a),l=Object(M.b)(t());Object(N.j)(t(),"feature_degraded_send")&&c===l?e(Object(w.a)({channelId:r,threadTs:a})):e(Object(I.l)(d()({channelId:r,threadTs:a},s)));var u=o?c:null;Object(N.j)(t(),"feature_react_threads")&&(e(B(u)),e(U(o?null:c)))});X.propTypes={channelId:O.b.string,threadTs:O.b.string,requestFocus:O.b.bool};var Z=Object(E.b)("Opens the thread flexpane if the message is threadable",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,o=i()(n,["channelId","threadTs"]),s=Object(S.d)(t(),r);if(!s)return!1;var c=Object(R.a)(t(),r,a);return!!c&&(Object(P.qb)(c)&&c.thread_ts?(e(X(d()({channelId:r,threadTs:c.thread_ts},o))),!0):!(!Object(P.R)(c)&&!Object(P.r)(t(),{message:c,channel:s,ignoreMembership:!0,ignoreImWithDeletedMmbr:!0}))&&(e(X(d()({channelId:r,threadTs:a},o))),!0))});Z.propTypes={channelId:O.b.string,threadTs:O.b.string}},gJjA:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("XHGt"),s=n("TSYQ"),c=n.n(s),l=n("D4L/"),u=n("5mKg"),d=n("w/U0"),b=n("6GV3"),p=n("RAhH");n("dAKC"),r.b.string,r.b.number,r.b.bool,r.b.shape({image_default:r.b.bool,image_34:r.b.string,image_44:r.b.string,image_68:r.b.string,image_88:r.b.string,image_102:r.b.string,image_132:r.b.string,image_230:r.b.string}),r.b.bool,r.b.string,r.b.bool;function h(e){var t=e.icon,n=e.teamName,r=e.showTooltip,a=e.size,o=e.isPendingShared,s=e.className,l=e.includeAriaLabel,h=!t||t.image_default,m=!o&&!h&&function(e,t){return e?e["image_"+Object(b.a)(t,[230,132,102,88,68,44,34])]:null}(t,2*a),f=(h||o)&&Object(u.j)(n,{limit:2}),v={height:a+"px",width:a+"px",minWidth:a+"px",fontSize:Object(d.a)(f)?Math.round(a/2.2)+"px":Math.round(a/1.8)+"px",lineHeight:a+"px",whiteSpace:"nowrap"};m&&(v.backgroundImage="url("+m+")");var g=c()("c-team_icon",s,{"c-team_icon--default":h,"c-team_icon--pending":o}),_=i.a.createElement("i",{className:g,style:v,"aria-hidden":!l||null,"aria-label":l?n:null},f);return n&&r?i.a.createElement(p.c,{tip:n,position:"top"},_):_}h.defaultProps={teamName:null,size:20,showTooltip:!1,icon:null,isPendingShared:!1,className:null,includeAriaLabel:!1};var m=Object(o.b)(function(e,t){var n=t.id,r=t.team||Object(l.i)(e,n);return!r||Object(u.M)(r)?{}:{teamName:Object(u.e)(r),icon:r.icon}})(h);m.propTypes={id:r.b.string},m.defaultProps={id:null},t.b=m},gOMB:function(e,t,n){},glJ1:function(e,t,n){},"gn/G":function(e,t,n){"use strict";t.a=function(e){var t=Math.floor(e/1e3),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r;return r=r<10?"0"+r:r.toString(),a=a<10?"0"+a:a.toString(),0!==n?n+":"+r+":"+a:r+":"+a}},grv5:function(e,t,n){},guKx:function(e,t,n){},gvFU:function(e,t,n){"use strict";n.d(t,"b",function(){return g});var r=n("sk9p"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("Cjy0"),h=n.n(p),m=n("k0G2"),f=n("Jam5"),v=h.a.import("parchment");function g(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Array.from(document.querySelectorAll('docsblockembed[data-is-selected="true"]')),n=0,r=t.length;n<r;n++){var a=h.a.find(t[n]);f.a.updateComponent(a.domNode,{isSelected:!1})}e&&e.domNode&&e.domNode.tagName&&"DOCSBLOCKEMBED"===e.domNode.tagName&&f.a.updateComponent(e.domNode,{isSelected:!0})}var _=function(e){function t(e,n){o()(this,t);var r=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onImageClick=r.onImageClick.bind(r),r.muteKeyEventsOnImageEmbed=r.muteKeyEventsOnImageEmbed.bind(r),r.listen=r.listen.bind(r),r.listen(),r}return b()(t,e),c()(t,[{key:"listen",value:function(){this.quill.keyboard.addBinding({key:m.c},this.handleImageSelectOnDown),this.quill.keyboard.addBinding({key:m.l},this.handleImageSelectOnUp),this.quill.keyboard.addBinding({key:m.h},this.handleImageSelectOnLeft),this.quill.keyboard.addBinding({key:m.i},this.handleImageSelectOnRight),(document.querySelector(".p-client_container")||this.quill.root).addEventListener("click",this.onImageClick),document.addEventListener("keydown",this.muteKeyEventsOnImageEmbed)}},{key:"muteKeyEventsOnImageEmbed",value:function(e){var t=this.quill.getSelection();if(t){var n=this.quill.getFormat(t),r=!!document.querySelector('docsblockembed[data-is-selected="true"]');if(n&&n.imageSrc||r){if(e.keyCode===m.c||e.keyCode===m.l||e.keyCode===m.h||e.keyCode===m.i||e.keyCode===m.f)return e.keyCode===m.f&&(g(),this.quill.setSelection(0,0)),!0;e.preventDefault()}}return!0}},{key:"handleImageSelectOnDown",value:function(){var e=this;return setTimeout(function(){var t=e.quill.getSelection(),n=e.quill.getLine(t.index),r=a()(n,1)[0];r&&r.domNode&&r.domNode.tagName&&"DOCSBLOCKEMBED"===r.domNode.tagName?g(r):g()},0),!0}},{key:"handleImageSelectOnUp",value:function(){var e=this;return setTimeout(function(){var t=e.quill.getSelection(),n=t?e.quill.getLine(t.index):[],r=a()(n,1)[0];r&&r.domNode&&r.domNode.tagName&&"DOCSBLOCKEMBED"===r.domNode.tagName?g(r):g()},0),!0}},{key:"handleImageSelectOnLeft",value:function(e){var t=this;return setTimeout(function(){var n=t.quill.getSelection(),r=t.quill.getLeaf(n.index),i=a()(r,1)[0];if(e.index===n.index){var o=t.quill.getLeaf(n.index-1);i=a()(o,1)[0]}if(i&&i.prev&&i.prev.domNode&&i.prev.domNode.tagName&&"DOCSBLOCKEMBED"===i.prev.domNode.tagName){var s=t.quill.getLeaf(n.index-1);i=a()(s,1)[0]}i&&i.prev&&i.prev.domNode&&i.prev.domNode.tagName&&"DOCSBLOCKEMBED"!==i.prev.domNode.tagName&&t.quill.setSelection(n.index-1,0),i&&i.domNode&&i.domNode.tagName&&"DOCSBLOCKEMBED"===i.domNode.tagName?g(i):g()},0),!0}},{key:"handleImageSelectOnRight",value:function(e){var t=this;return setTimeout(function(){var n=t.quill.getSelection(),r=t.quill.getLeaf(n.index),i=a()(r,1)[0];if(i&&i.next&&i.next.domNode&&i.next.domNode.tagName&&"DOCSBLOCKEMBED"===i.next.domNode.tagName){var o=t.quill.getLeaf(n.index);i=a()(o,1)[0]}if(i&&i.parent&&i.parent.next&&i.parent.next.domNode&&i.parent.next.domNode.tagName&&"DOCSBLOCKEMBED"!==i.parent.next.domNode.tagName){var s=t.quill.getLeaf(n.index);i=a()(s,1)[0],t.quill.setSelection(n.index)}if(n.index===e.index){var c=t.quill.getLeaf(n.index+1);i=a()(c,1)[0],t.quill.setSelection(n.index+1)}i&&i.domNode&&i.domNode.tagName&&"DOCSBLOCKEMBED"===i.domNode.tagName?g(i):g()},0),!0}},{key:"onImageClick",value:function(e){if(e.target.classList.contains("p-docs_image--selected")||"true"===e.target.dataset.isSelected)return!0;if(Array.from(document.querySelectorAll(".p-docs_image")).forEach(function(e){var t=v.find(e.parentNode);t&&t.domNode&&t.domNode.tagName&&"DOCSBLOCKEMBED"===t.domNode.tagName&&f.a.updateComponent(t.domNode,{isSelected:!1})}),e.target.classList.contains("p-docs_image_container")||e.target.classList.contains("p-docs_image")){var t=e.target.classList.contains("p-docs_image_container")?e.target:e.target.parentNode,n=v.find(t);return n&&n.domNode&&n.domNode.tagName&&"DOCSBLOCKEMBED"===n.domNode.tagName&&f.a.updateComponent(n.domNode,{isSelected:!0}),!0}return!0}}]),t}(h.a.import("core/module"));t.a=_},h9dl:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("clTI"),o=n("CJqQ"),s=n("FHcd"),c=n("wfE8"),l=n("6kok"),u=Object(a.b)("Joins the channel or creates an IM so a file or message can be shared into it",function(e,t,n){var r=t(),a=n.channelOrMemberId;if(!a)return Promise.reject(new Error("Missing channelOrMemberId"));if(Object(s.a)(a)){var u=Object(i.j)(r,a);return u?Promise.resolve(u.id):e(Object(c.s)({memberIds:[a],reason:"prepare-channel-for-sharing"})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;return t?(e(Object(o.a)({channel:t})),t.id):null})}var d=Object(i.d)(r,a,!1);return d?Object(l.yb)(d)&&!Object(l.kb)(d)?e(Object(c.K)({channelId:d.id,inBackground:!0})).then(function(){return d.id}):Promise.resolve(d.id):Promise.reject(new Error("Unknown channel ID "+a))});u.propTypes={channelOrMemberId:r.b.string},t.a=u},hAjP:function(e,t,n){"use strict";n.d(t,"g",function(){return q}),n.d(t,"f",function(){return B}),n.d(t,"j",function(){return U}),n.d(t,"h",function(){return H}),n.d(t,"d",function(){return z}),n.d(t,"c",function(){return Q}),n.d(t,"a",function(){return X}),n.d(t,"e",function(){return Z}),n.d(t,"i",function(){return J});var r,a=n("jo6Y"),i=n.n(a),o=n("m1cH"),s=n.n(o),c=n("YEIV"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("NFsq"),p=n("HA5h"),h=n("TGBA"),m=n("OZf9"),f=n("fujP"),v=n("m8R6"),g=n("aK/h"),_=n("mM05"),O=n.n(_),y=n("EzZj"),j=n("MNvw"),k=n("U/ze"),E=n("XfeM"),C=n("Iq6W"),I=n("smxp"),w=n("TcTh"),S=n("clTI"),T=n("HO/Y"),R=n("FN36"),N=n("gEbr"),x=n("b+9+"),M=n("hOQf"),P=n("6kok"),A=n("2HDu"),D=n("aLpA"),L=Object(y.b)("Start editing a message");L.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string};var q=Object(y.b)("Stop editing a message");q.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string};var F=Object(y.b)("Update the current editing state of a message");F.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string,editOps:g.b.arrayOf(g.b.object).isRequired,hasUnsavedChanges:g.b.bool.isRequired};var B=Object(y.b)("Update the `didRequestToStopEditing` property");B.propTypes=g.b.bool.isRequired;var U=Object(y.b)("Update the `hasUnsavedChanges` property");U.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string,hasUnsavedChanges:g.b.bool.isRequired};var H=Object(y.b)("Clear message editing data for a channel");H.propTypes={channelId:g.b.string.isRequired,viewContext:g.b.string};var K=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channelId},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.viewContext,i=K({channelId:n,viewContext:a});if(!e[i]||!e[i][r])return e;var o=Object(v.a)(e[i],r);return Object(f.a)(o)?Object(v.a)(e,i):d()({},e,l()({},i,o))},V=Object(j.b)((r={},l()(r,F,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.viewContext,i=t.editOps,o=t.hasUnsavedChanges,s=K({channelId:n,viewContext:a});return e[s]&&e[s][r]&&e[s][r].isEditing&&(new O.a(e[s][r].editOps).diff(new O.a(i)).length()||e[s][r].hasUnsavedChanges!==o)?d()({},e,l()({},s,d()({},e[s],l()({},r,d()({},e[s][r],{channelId:n,editOps:i,hasUnsavedChanges:o,viewContext:a}))))):e}),l()(r,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.viewContext;if(!n||!r)return e;var i=K({channelId:n,viewContext:a}),o=e[i]&&e[i][r]||{};return o.isEditing?e:d()({},e,l()({},i,d()({},e[i],l()({},r,d()({},o,{channelId:n,isEditing:!0,viewContext:a})))))}),l()(r,q,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G(e,t)}),l()(r,C.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G(e,t)}),l()(r,C.h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channel,r=t.ts,a=t.viewContext;return G(e,{channelId:n,ts:r,viewContext:a})}),l()(r,H,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.viewContext,a=K({channelId:n,viewContext:r});return e[a]?Object(v.a)(e,a):e}),l()(r,U,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.viewContext,i=t.hasUnsavedChanges,o=K({channelId:n,viewContext:a});return e[o]&&e[o][r]&&e[o][r].isEditing&&e[o][r].hasUnsavedChanges!==i?d()({},e,l()({},o,d()({},e[o],l()({},r,d()({},e[o][r],{hasUnsavedChanges:i}))))):e}),l()(r,B,function(e,t){var n=d()({},e),r=!1;return Object(m.a)(e,function(a,i){var o=e[i]?d()({},e[i]):{};Object(m.a)(a,function(e,a){o[a]&&o[a].isEditing&&(o[a]&&o[a].didRequestToStopEditing!==t&&(r=!0),n[i]=d()({},n[i],l()({},a,d()({},o[a],{didRequestToStopEditing:t}))))})}),r?n:e}),r),{},{persistenceEnabled:!0});V.propTypes=g.b.objectOf(g.b.objectOf(g.b.shape({editOps:g.b.arrayOf(g.b.object),hasUnsavedChanges:g.b.bool,isEditing:g.b.bool,didRequestToStopEditing:g.b.bool}))),t.b=V;var z=Object(k.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,a=t.viewContext,i=e&&e.messageEdit&&e.messageEdit[n]&&e.messageEdit[n][r];return i&&i.viewContext===a?i:{}}),Y=Object(k.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.viewContext,a=K({channelId:n,viewContext:r});return e&&e.messageEdit&&e.messageEdit[a]?Object.keys(e.messageEdit[a]).filter(function(t){return e.messageEdit[a][t].isEditing}):[]}),W=Object(k.b)(function(e){var t=Object(h.a)(e.messageEdit),n=p.a.apply(void 0,[{}].concat(s()(t)));return Object.keys(n).filter(function(t){var r=n[t];if(!r.hasUnsavedChanges)return!1;var a=Object(I.a)(e,r.channelId,t);if(!a)return!1;if(Object(M.sb)(a))return!1;var i=Object(M.ib)(a)&&a.thread_ts,o=i?Object(A.c)(r.channelId,i):r.channelId,s=Object(w.h)(e,o,t);return!!s&&(!!s.timestamps&&!!s.timestamps.includes(t))})}),Q=Object(k.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs;if(!e||!n)return null;var a=Object(T.b)(e),i=Object(S.d)(e,n);if(!i||Object(P.Jb)(i))return null;var o=r?Object(A.c)(n,r):n,s=Object(w.h)(e,o,null).timestamps.map(function(t){return Object(I.a)(e,n,t)}),c=Object(M.A)(s,a);if(!c)return null;var l=Object(R.a)(e,"msg_edit_window_mins");return Object(M.l)(e,a,c,i,l)?c:null}),X=Object(E.b)("Close open edits with no changes and warn on edits with unsaved changes",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.viewContext,i=n.scroll,o=void 0!==i&&i,s=n.cancelUnsavedEdits;if(!(void 0!==s&&s)){var c=t(),l=W(c);if(l.length)return e(B(!0)),!a&&o&&e(Object(x.c)({ts:l[0],highlightLazy:!0})),Promise.reject(new Error("unsaved-edits"))}return e(H({channelId:r,viewContext:a})),Promise.resolve()});X.propTypes={channelId:g.b.string.isRequired,viewContext:g.b.string,scroll:g.b.bool,cancelUnsavedEdits:g.b.bool};var Z=Object(E.b)("Start editing a message unless a different message is being edited and has unsaved changes",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.viewContext,o=n.scroll,s=t(),c=Y(s,{channelId:r,viewContext:i});return Object(b.a)(c,a)?(!i&&o&&e(Object(x.c)({ts:a,highlightLazy:!0})),Promise.resolve()):e(X({channelId:r,viewContext:i,scroll:o})).then(function(){!i&&o?e(Object(x.c)({ts:a,highlightLazy:!0})):i===D.C.THREADS_FLEXPANE&&o&&(e(Object(N.i)(a)),e(Object(N.a)())),e(L({channelId:r,ts:a,viewContext:i}))})});Z.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string,scroll:g.b.bool};var J=Object(E.b)("Update the current editing state of a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editOps,a=i()(n,["editOps"]);return e(F(d()({editOps:r},a)))});J.propTypes={channelId:g.b.string.isRequired,ts:g.b.string.isRequired,viewContext:g.b.string,editOps:g.b.arrayOf(g.b.object).isRequired,hasUnsavedChanges:g.b.bool.isRequired}},hCI9:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("zmn3"),h=n("ifKl"),m=n("NZ+B"),f=n("yIs4"),v=n("gSGL"),g=n("fujP"),_=n("vJtL"),O=n("tn36"),y=n("aK/h"),j=n("kxpR"),k=n.n(j),E=n("TSYQ"),C=n.n(E),I=n("XHGt"),w=n("mM05"),S=n.n(w),T=n("x4bP"),R=n("yHhI"),N=n("aLpA"),x=n("RbWr"),M=n("Xx2o"),P=n("HO/Y"),A=n("uf9I"),D=n("VjHM"),L=n("Y+74"),q=n("bHK9"),F=n("XzsM"),B=n("2Y1Y"),U=n("rzSx"),H=n("aXcD"),K=n("pWPO"),G=n("OF9j"),V=n("K7CU"),z=n("/Rx2"),Y=n("lQgN"),W=n("T5R/");var Q=n("ITcr"),X=n("DTT0"),Z=n("U3Q0"),J=n("nNoG"),$=n("m8R6"),ee=n("lCmp"),te=n("Dv5J"),ne=n("zFoL"),re=n("rWF5"),ae=n("FHcd"),ie=n("WKJn"),oe=n("a+Oh"),se=n("G2ZK"),ce=n("QqPV");n("pPF3"),n("gOMB");n.d(t,"a",function(){return me});var le=new J.b("msg_input"),ue="large",de="medium",be={tooltipShowing:!1,tooltipId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0},pe={ariaLabel:y.b.string.isRequired,ariaLabelledBy:y.b.string,ariaDescribedBy:y.b.string,className:y.b.string,legacyTextyClassName:y.b.string,id:y.b.string,channelId:y.b.string,initialText:y.b.oneOfType([y.b.string,y.b.object]),onBlur:y.b.func,onEnter:y.b.func,onUpArrow:y.b.func,onLeftWhenEmpty:y.b.func,onCmdLeftWhenEmpty:y.b.func,onCmdRightWhenEmpty:y.b.func,onEscape:y.b.func,onFocus:y.b.func,onPasteLimit:y.b.func,onTab:y.b.func,onTextChange:y.b.func,openSnippetDialog:y.b.func,modules:y.b.object,placeholder:y.b.string,userHighlightWords:y.b.arrayOf(y.b.string),emojiNames:y.b.arrayOf(y.b.string),isSingleLine:y.b.bool,isAttentionOnChat:y.b.bool,enableJumbomoji:y.b.oneOfType([y.b.bool,y.b.func]),enableSpellCheck:y.b.bool,enableEmoticons:y.b.bool,enableEmojiButton:y.b.bool,enableMentionButton:y.b.bool,isDisabled:y.b.bool,isEmojiDisplayedAsText:y.b.bool,focusOnMount:y.b.bool,focusOnPaste:y.b.bool,useLegacyCreate:y.b.bool,minLines:y.b.oneOf([1,2,3]),maxLines:y.b.oneOf([1,2,3,4,5,6,7,8]),maxLength:y.b.number,tabIndex:y.b.number,openModal:y.b.func,getIsValidMentionId:y.b.func,autocompleteMembers:y.b.func,teamId:y.b.string,isAutocompleteOpen:y.b.bool,legacyShouldCompleteOnTab:y.b.bool,broadcastKeywords:y.b.array,enableBroadcastKeywords:y.b.bool,enableFormattingCommands:y.b.bool,featureReactMessages:y.b.bool,featureSonicClipboard:y.b.bool,clientToolBar:y.b.bool,featureWysiwygComposer:y.b.bool,useSonicEmoji:y.b.bool,locale:y.b.string,useSendButton:y.b.bool,usePreNewlines:y.b.bool,useFocusRing:y.b.bool,showMentionTooltips:y.b.bool,unsafeAriaProps:y.b.shape({autocomplete:y.b.string.isRequired,owns:y.b.string.isRequired,expanded:y.b.bool.isRequired,activedescendant:y.b.string}),workflowTokens:y.b.array,size:y.b.oneOf([de,ue]),isInvalid:y.b.bool},he={className:void 0,legacyTextyClassName:void 0,id:void 0,channelId:void 0,initialText:void 0,onBlur:void 0,onEnter:void 0,onEscape:void 0,onPasteLimit:void 0,onUpArrow:h.a,onLeftWhenEmpty:h.a,onCmdLeftWhenEmpty:h.a,onCmdRightWhenEmpty:h.a,onFocus:void 0,onTab:void 0,onTextChange:void 0,openSnippetDialog:h.a,modules:void 0,placeholder:void 0,userHighlightWords:void 0,emojiNames:void 0,isSingleLine:!1,isAttentionOnChat:!1,enableJumbomoji:!1,enableSpellCheck:!1,enableEmoticons:!1,enableEmojiButton:!1,enableMentionButton:!1,isDisabled:!1,isEmojiDisplayedAsText:!1,focusOnMount:!1,focusOnPaste:!1,useLegacyCreate:!1,minLines:1,maxLines:void 0,maxLength:void 0,tabIndex:0,openModal:h.a,getIsValidMentionId:h.a,autocompleteMembers:h.a,teamId:void 0,featureReactMessages:!1,featureSonicClipboard:!1,clientToolBar:!1,featureWysiwygComposer:!1,unsafeAriaProps:void 0,showMentionTooltips:!0,isAutocompleteOpen:!1,legacyShouldCompleteOnTab:void 0,broadcastKeywords:void 0,enableBroadcastKeywords:!0,enableFormattingCommands:!0,useSonicEmoji:!1,locale:void 0,useSendButton:!1,usePreNewlines:!1,useFocusRing:!0,workflowTokens:[],size:de,isInvalid:!1,ariaLabelledBy:void 0,ariaDescribedBy:void 0},me=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=null,n.instance=null,n.setContainerRef=n.setContainerRef.bind(n),n.mentionReplaceTimer=null,Object(O.a)(n,["promiseToSearchMembers","onMouseOver","onMouseOut","onTextChange","onMentionReplace","displayValue"]),n.state=be,n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.initialText,r=t.focusOnMount,a=t.useLegacyCreate,i=t.teamId;this.instance=a?Object(B.a)(this.container,this.getOptions()):new M.a(this.container,this.getOptions()),this.instance?(n&&(this.value(n),this.clearHistory()),r&&setTimeout(function(){return e.setCursorAtEnd()},0),this.handlePropChanges()):Object(R.a)({teamId:i}).error("TextyInput: could not create instance")}},{key:"componentDidUpdate",value:function(e){this.handlePropChanges(e)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.unload()}},{key:"onMouseOut",value:function(e){var t=this.props,n=t.useLegacyCreate,r=t.showMentionTooltips;n||r&&!this.mentionReplaceTimer&&e.target.classList.contains("c-member_slug")&&this.hideTooltip()}},{key:"onMouseOver",value:function(e){var t=this.props,n=t.useLegacyCreate,r=t.showMentionTooltips;n||r&&e.target.classList.contains("c-member_slug")&&this.showTooltip(e.target)}},{key:"onTextChange",value:function(e){var t=this.props.onTextChange,n=this.state.tooltipShowing;!this.mentionReplaceTimer&&n&&this.hideTooltip(),t&&t(e)}},{key:"onMentionReplace",value:function(e){var t=this,n=e.replacements,r=e.isLastReplacement;if(!this.props.useLegacyCreate&&r&&1===n.length&&"UNVERIFIED"!==n[0].id){var a=this.container.querySelectorAll("ts-mention[data-id="+n[0].id+"]");1===a.length&&a[0].offsetTop>=this.container.offsetTop&&(this.setState(function(){return{tooltipShowing:!0,tooltipId:n[0].id,tooltipTitle:void 0,tooltipTargetBounds:a[0].getBoundingClientRect()}}),this.mentionReplaceTimer=setTimeout(function(){t.mentionReplaceTimer=null,t.hideTooltip()},1500))}}},{key:"getOptions",value:function(){var e=this,t=this.props,n=t.id,r=t.legacyTextyClassName,i=t.modules,o=t.ariaLabel,s=t.ariaLabelledBy,c=t.ariaDescribedBy,l=t.unsafeAriaProps,u=t.tabIndex,d=t.onBlur,b=t.onEnter,p=t.onUpArrow,h=t.onLeftWhenEmpty,f=t.onCmdLeftWhenEmpty,v=t.onCmdRightWhenEmpty,g=t.onEscape,O=t.onFocus,y=t.onTab,j=t.onTextChange,k=t.placeholder,E=t.isSingleLine,C=t.enableBroadcastKeywords,I=t.useLegacyCreate,w=t.showMentionTooltips,S=t.enableEmojiButton,T=t.enableMentionButton,N=t.legacyShouldCompleteOnTab,x=t.useSonicEmoji,M=t.teamId,P=t.maxLength,A=t.featureWysiwygComposer;if(I){var D=i?i.tabcomplete:{};return Object(m.a)(N)&&(D.shouldCompleteOnTab=function(){return N}),{id:n,modules:a()({keyboard:this.getKeyboardModule()},i,{tabcomplete:D,slackButtons:{enableEmojiButton:S,enableMentionButton:T,teamId:M},slackcharlimit:{maxLength:P},msginput:{onUpArrow:p,onUpArrowCmd:function(){return p(!0)}}}),onBlur:d,onEnter:b,onEscape:g,onFocus:O,onTab:y,onTextChange:j,placeholder:k,singleLineInput:E,enableBroadcastKeywords:C,isJumbomojiEnabled:function(){return Object(_.a)(e.props.enableJumbomoji)?e.props.enableJumbomoji():e.props.enableJumbomoji},convertEmoticonsIsEnabled:function(){return e.props.enableEmoticons},useLists:!A,getUserHighlightWords:function(){return e.props.userHighlightWords},ariaLabel:o,ariaLabelledBy:s,ariaDescribedBy:c,unsafeAriaProps:l,tabIndex:u||"0",showMentionTooltips:w,className:r,getEmojiNames:function(){return e.props.emojiNames}}}return{id:n,modules:a()({},i,{keyboard:this.getKeyboardModule(),slackmention:!0,textsubstitutions:this.getTextSubstitutionsModule(),clipboard:this.getClipboardModule(),slackButtons:{useTabindexNav:u>0,enableEmojiButton:S,enableMentionButton:T,teamId:M},slackcharlimit:{maxLength:P},tabcomplete:this.getTabCompleteModule(),msginput:{onUpArrow:p,onUpArrowCmd:function(){return p(!0)},onLeftWhenEmpty:h,onCmdLeftWhenEmpty:f,onCmdRightWhenEmpty:v}}),onBlur:d,onEnter:b,onEscape:g,onFocus:O,onTab:y,onTextChange:this.onTextChange,placeholder:k,singleLineInput:E,enableBroadcastKeywords:C,isJumbomojiEnabled:function(){return Object(_.a)(e.props.enableJumbomoji)?e.props.enableJumbomoji():e.props.enableJumbomoji},convertEmoticonsIsEnabled:function(){return e.props.enableEmoticons},useLists:!A,useSonicEmoji:x,inlineEmojiIsEnabled:function(){return!e.props.isEmojiDisplayedAsText},getLocale:function(){return e.props.locale},getTeamId:function(){return e.props.teamId},getUserHighlightWords:function(){return e.props.userHighlightWords},isAutocompleteOpen:function(){return e.props.isAutocompleteOpen},getBroadcastKeywords:function(){return e.props.broadcastKeywords},promiseToSearchMembers:this.promiseToSearchMembers,onMentionReplace:this.onMentionReplace,className:"c-texty_input",ariaLabel:o,ariaLabelledBy:s,ariaDescribedBy:c,unsafeAriaProps:l,tabIndex:u||"0",showMentionTooltips:w,getEmojiNames:function(){return e.props.emojiNames},logger:Object(R.a)({teamId:M})}}},{key:"getKeyboardModule",value:function(){var e=this,t=this.props,n=t.enableFormattingCommands,r=t.featureReactMessages,i=t.featureWysiwygComposer;return{featureReactMessages:r,useFormattingCommands:n&&!i,useWysiwyg:i,shouldInsertNewline:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.altKey,n=e.ctrlKey,r=e.isCursorInPreBlock,a=e.metaKey,i=e.shiftKey,o=e.usePreNewlines,s=e.useSendButton;return!(a||(n?!Object(re.p)()&&(i||s):!s&&(o&&r?i:!i&&!t)))}(a()({},t,{useSendButton:e.props.useSendButton,isCursorInPreBlock:e.instance.isCursorInPreBlock(),usePreNewlines:e.props.usePreNewlines}))}}}},{key:"getTabCompleteModule",value:function(){var e=this,t=this.props.modules;return!(!t||!t.tabcomplete)&&a()({tooltipIsShowing:function(){return e.state.tooltipShowing},tooltipShow:function(t){e.showTooltip(t)},tooltipHide:function(){e.hideTooltip()}},t.tabcomplete)}},{key:"getTextSubstitutionsModule",value:function(){var e=this;return{getTextPreferences:function(){return e.props.isAutocompleteOpen?null:Object(W.a)()}}}},{key:"getContents",value:function(){return this.instance.getContents()}},{key:"getText",value:function(){return this.instance.getText()}},{key:"getContentsForRange",value:function(e,t){return this.instance.getContentsForRange(e,t)}},{key:"getSelection",value:function(){return this.instance.getSelection()}},{key:"getLength",value:function(){return this.instance.getLength()}},{key:"getClipboardModule",value:function(){var e=this,t=this.props,n=t.useLegacyCreate,r=t.featureWysiwygComposer,i=t.featureSonicClipboard,o=t.featureRichTextLinks,s=t.focusOnPaste,c=t.onPasteLimit;return{featureSonicClipboard:i,shouldFocusOnPaste:function(){return s&&e.props.isAttentionOnChat},isModern:!n,onPaste:function(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.highlightWords,r=t.shouldRenderEmojiAsText,i=t.emojiNames,o=t.useSonicEmoji,s=t.locale,c=t.workflowTokens;if(!e||!e.clipboardData)return null;var l=e.clipboardData.getData("slack/texty");if(l)try{return{type:"slack/texty",contents:JSON.parse(l).ops}}catch(e){Object(R.b)().error("PASTE","found "+l.length+' chars in "slack/texty", but couldn\'t parse it')}var u=e.clipboardData.getData("slack/plain");if(u)return a()({type:"slack/plain"},Object(H.b)(u,{highlightWords:n,shouldRenderEmojiAsText:r,emojiNames:i,useSonicEmoji:o,locale:s,workflowTokens:c}));var d=e.clipboardData.getData("text/plain")?"text/plain":"Text",b=e.clipboardData.getData(d);return b?{type:d,contents:[{insert:b}]}:null}(t,{highlightWords:e.props.userHighlightWords,shouldRenderEmojiAsText:e.props.isEmojiDisplayedAsText,emojiNames:e.props.emojiNames,useSonicEmoji:e.props.useSonicEmoji,locale:e.props.locale,workflowTokens:e.props.workflowTokens});if(!n)return!1;var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;if(Object(g.a)(e))return null;if(!Object(ee.a)(e.contents,"attributes.slackmention.id"))return e;var n=!1,r=e.contents.map(function(e){var r=e.attributes&&e.attributes.slackmention&&e.attributes.slackmention.id;return!r||t({id:r})?e:(n=!0,Object($.a)(e,"attributes.slackmention"))});return n?a()({},e,{contents:r}):e}(n,e.props.getIsValidMentionId);if(r){var l=e.getSelection(),u=l?e.instance.getFormats(l.index):{},d=!(!u.code&&!u["code-block"]),b=new S.a(s.contents).map(function(e){return d&&Object(ie.a)(e)?{insert:e.insert.slackemoji.text,attributes:a()({},u)}:{insert:e.insert,attributes:a()({},e.attributes,u)}});s={contents:Object(ce.a)(new S.a(b),{featureRichTextLinks:o}).ops}}if(Object(K.a)(s).length>N.z)t.stopPropagation(),t.preventDefault(),c?c():e.props.openModal({element:e.renderPasteLimitDialog(),isStackable:!0});else if(!i||"slack/texty"===n.type)return t.preventDefault(),e.instance.insertContentsAtCursor(s,!0,"user"),!0;return!1}}}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setContents",value:function(e){return this.instance.setContents(e)}},{key:"setCursorAtEnd",value:function(){if(this.container){var e=this.instance.getLength();this.instance.setSelection(e,0),this.container.querySelector(".ql-editor").scrollLeft=1e4}}},{key:"setCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.container&&this.instance.setSelection(e,t)}},{key:"insertContentsAtCursor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";this.container&&this.instance.insertContentsAtCursor(e,t,n)}},{key:"clearHistory",value:function(){return this.instance.clearHistory()}},{key:"isEnabled",value:function(){return this.instance.isEnabled()}},{key:"prependContents",value:function(e){return this.instance.prependContents(e)}},{key:"value",value:function(e){var t=this.props,n=t.userHighlightWords,r=t.isEmojiDisplayedAsText,a=t.emojiNames,i=t.useSonicEmoji,o=t.locale,s=t.modules,c=t.workflowTokens;if(void 0===e)return Object(G.a)(this.instance.getContents());if(Object(g.a)(e))this.clear();else{var l=e;Object(v.a)(e)&&(l=Object(H.b)(e,{highlightWords:n,shouldRenderEmojiAsText:r,emojiNames:a,useSonicEmoji:i,locale:o,workflowTokens:s&&s.workflowtoken?c:null})),this.instance.setContents(l)}}},{key:"displayValue",value:function(){return Object(K.a)(this.instance.getContents(),this.props.userHighlightWords)}},{key:"clear",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isSilent,t=void 0!==e&&e;this.instance.clear({is_silent:t})}},{key:"handlePropChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.enableSpellCheck,r=t.isDisabled,a=t.placeholder;e.enableSpellCheck!==n&&this.container.querySelector("[contenteditable=true]").setAttribute("spellcheck",n);e.isDisabled!==r&&(r?this.instance.disable():this.instance.enable()),e.placeholder!==a&&this.instance.setPlaceholder(a),e.unsafeAriaProps&&this.props.unsafeAriaProps&&e.unsafeAriaProps.activedescendant!==this.props.unsafeAriaProps.activedescendant&&this.instance.setActiveDescendant(this.props.unsafeAriaProps.activedescendant)}},{key:"focus",value:function(){this.instance.focus()}},{key:"blur",value:function(){this.instance.blur()}},{key:"selectAll",value:function(){this.instance.selectAll()}},{key:"isEmpty",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).doIgnoreWhitespace,t=void 0!==e&&e,n=this.value();return n&&t&&(n=n.trim()),!n}},{key:"hasFocus",value:function(){return this.instance.hasFocus()}},{key:"showTooltip",value:function(e){var t=this.props,n=t.featureWysiwygComposer,r=t.clientToolBar;if(!((n||r)&&this.getSelection().length>0)){var a=e.getBoundingClientRect(),i=e.getAttribute("data-id"),o=e.getAttribute("data-title");(o||Object(ae.a)(i))&&(this.mentionReplaceTimer&&(clearTimeout(this.mentionReplaceTimer),this.mentionReplaceTimer=null),this.setState(function(){return{tooltipShowing:!0,tooltipId:i,tooltipTitle:o,tooltipTargetBounds:a}}))}}},{key:"hideTooltip",value:function(){this.setState(function(){return{tooltipShowing:!1,tooltipId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0}})}},{key:"promiseToSearchMembers",value:function(e){return this.props.autocompleteMembers({query:e,channelId:this.props.channelId})}},{key:"renderPasteLimitDialog",value:function(){var e=this.props.featureSonicClipboard;return k.a.createElement(Z.a,{title:le.t("That\u2019s a bit too long to paste"),goButtonText:le.t("OK")},e?le.t("To keep things running smoothly, there\u2019s a limit on the number of characters you can paste into Slack."):"")}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isSingleLine,r=e.maxLines,i=e.minLines,o=e.useFocusRing,s=e.size,c=e.isInvalid,l=this.state,u=l.tooltipShowing,d=l.tooltipId,b=l.tooltipTitle,p=l.tooltipTargetBounds,m=C()(t,{"c-texty_input--multi_line":!n,"c-texty_input--single_line":n,"c-texty_input--large":s===ue,"c-texty_input--use_focus_ring":o,"c-texty_input--invalid":c}),v=Object(f.a)(i)&&i>0?i:1,g=Object(f.a)(r)&&r>0?r:void 0;return k.a.createElement(j.Fragment,null,k.a.createElement("div",a()({className:m},Object(Y.a)(this.props),{"data-min-lines":v,"data-max-lines":g,ref:this.setContainerRef,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onFocus:h.a,onBlur:h.a})),u&&k.a.createElement(se.a,{memberId:"UNVERIFIED"!==d?d:null,title:b,targetBounds:p}))}}]),t}(x.b);me.displayName="TextyInput",me.propTypes=pe,me.defaultProps=he;var fe={openModal:X.e,getIsValidMentionId:te.a,autocompleteMembers:ne.a};t.b=Object(I.b)(function(e,t){var n=t.channelId;return{teamId:Object(A.b)(e),enableSpellCheck:Object(D.g)(e,"webapp_spellcheck"),userHighlightWords:Object(L.a)(e),isEmojiDisplayedAsText:Object(V.m)(e),enableEmoticons:Object(D.g)(e,"convert_emoticons"),featureReactMessages:Object(P.j)(e,"feature_react_messages"),featureSonicClipboard:Object(P.j)(e,"feature_sonic_clipboard"),featureRichTextLinks:Object(P.j)(e,"feature_rich_text_links"),useSonicEmoji:Object(P.j)(e,"feature_sonic_emoji")||Object(T.a)(),featureWysiwygComposer:Object(oe.a)(e),clientToolBar:"composer_toolbar"===Object(F.c)(e,"composer_toolbar"),locale:Object(J.p)(),broadcastKeywords:Object(Q.c)(e,n),emojiNames:Object(P.j)(e,"feature_sonic_emoji")?Object(q.a)(e):Object(p.a)(Object(U.a)(),"name"),useSendButton:Object(D.g)(e,"msg_input_send_btn"),usePreNewlines:Object(D.g)(e,"enter_is_special_in_tbt"),isAttentionOnChat:Object(z.e)(e)}},fe,null,{withRef:!0})(me)},hCvz:function(e,t,n){"use strict";var r=n("N5a2");n.d(t,"a",function(){return r.a}),t.b=r.b},hE2u:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("Fuyg"),c=/[ '-\)\-\._\u200B\u2019]/,l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a()(this,e);var r=Object(s.a)(t);this.queryNode=e.queryToLinkedList(r),this.options=n,this.options.fuzzyLimit=this.options.fuzzyLimit||1/0}return o()(e,[{key:"normalizeAndScore",value:function(e){return this.score(Object(s.a)(e))}},{key:"score",value:function(t){if(!e.containsAllLetters(t,this.queryNode))return 1/0;if(!this.queryNode)return 1/0;var n=e.lettersToGraph(t,this.options);if(!n)return 1/0;var r=e.searchWordBoundariesOnly(n,this.queryNode,this.options);if(!r)return 1/0;var a=e.countResult(r);return a>this.fuzzyLimit?1/0:a}}],[{key:"scoreOnce",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(s.a)(n),i=Object(s.a)(t);return new e(a,r).score(i)}},{key:"lettersToGraph",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.split(""),a=r.shift();return e.lettersToGraphWorker(a,null,r,[],0,n)}},{key:"lettersToGraphWorker",value:function(t,n,r,a,i,o){if(!t)return null;var s=e.makeLetterNode(t,n,a,i);(!n||n.ignored&&!s.ignored)&&(a.length<5||o.fuzzball)&&a.push(s);var c=e.lettersToGraphWorker(r.shift(),s,r,a,i+1,o);return c&&(s.next=c),s}},{key:"makeLetterNode",value:function(e,t,n,r){return{letter:e,ignored:e.match(c),next:null,prev:t,jumps:n,visited:!1,index:r}}},{key:"queryToLinkedList",value:function(t){if(!t)return null;var n=t.split("");return e.queryToLinkedListWorker(n,0)}},{key:"queryToLinkedListWorker",value:function(t,n){if(n>=t.length)return null;var r=t[n],a=r.match(c)&&(0!==n||t.length>1);return{letter:r,isSeparator:a,isSpace:" "===r,next:e.queryToLinkedListWorker(t,n+1),index:n}}},{key:"searchWordBoundariesOnly",value:function(t,n,r){var a=e.searchWordBoundariesOnlyWorker(t,n,0,r);return a||(a=t.jumps.reduce(function(a,i){return a||i===t?a:e.searchWordBoundariesOnlyWorker(i,n,1,r)},null)),a}},{key:"searchWordBoundariesOnlyWorker",value:function(t,n,r,a){if(a.fuzzball)return e.fuzzballSearchWordBoundariesOnlyWorker(t,n,r,a);if(!t)return null;var i=void 0;if(!t.visited&&(t.letter===n.letter||t.ignored&&n.isSeparator)&&(i={node:t,count:r}),!i)return null;if(!n.next)return i;t.visited=!0;var o=e.searchWordBoundariesOnlyWorker(t.next,n.next,0,a),s=n.next;return s.isSpace&&s.next&&(s=s.next),o||(o=t.jumps.reduce(function(n,r){return n||(r.visited||r===t?n:(a.searchForwardOnly||a.substringsOnly)&&r.index<t.index?n:a.substringsOnly&&r.index>t.index+2?n:e.searchWordBoundariesOnlyWorker(r,s,1,a))},null)),t.visited=!1,o?(i.next=o,i):null}},{key:"fuzzballSearchWordBoundariesOnlyWorker",value:function(t,n,r,a){if(!t)return null;var i=void 0;if(t.visited||t.letter!==n.letter||(i={node:t,count:r}),!i)return null;var o=n.next;if(!o)return i;t.visited=!0;for(var s=t.next;s&&s.ignored;)s=s.next;var c=void 0;if(o.isSeparator){for(;o&&o.isSeparator;)o=o.next;o&&(c=t.jumps.reduce(function(n,r){return n||(r.visited||r===t?n:(a.searchForwardOnly||a.substringsOnly)&&r.index<t.index?n:a.substringsOnly&&r.index>t.index+2?n:e.searchWordBoundariesOnlyWorker(r,o,r===s?0:1,a))},null))}else c=e.searchWordBoundariesOnlyWorker(s,o,0,a);return t.visited=!1,o?c?(i.next=c,i):null:i}},{key:"countResult",value:function(t){return t?t.count+e.countResult(t.next):0}},{key:"containsAllLetters",value:function(t,n){return!n||!(!n.isSeparator&&-1===t.indexOf(n.letter))&&e.containsAllLetters(t,n.next)}}]),e}();t.b=l},hFPh:function(e,t,n){"use strict";n("BOlt");var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("3Hq1"),f=n("ifKl"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("aK/h"),y=n("tn36"),j=n("TSYQ"),k=n.n(j),E=n("wd/R"),C=n.n(E),I=n("sJy+"),w=n("od5y"),S=n("RMmo"),T=n("nNoG"),R=(n("hrfv"),new T.b("date_picker")),N=(O.b.string,O.b.string.isRequired,O.b.string,O.b.arrayOf(O.b.string),O.b.arrayOf(O.b.string),O.b.func,O.b.string,O.b.string,O.b.string,O.b.func,O.b.func,O.b.bool,O.b.oneOf(["medium","large"]),O.b.string,O.b.bool,{value:null,displayFormat:"MMMM D, YYYY",parseFormats:["YYYY-M-D"],disabledDates:[],isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,disabledDateErrorText:"",onChange:f.a,onClick:f.a,required:!1,size:"medium",className:null,datePickerDisabled:!1}),x=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.value,a=e.valueFormat;return n.state={displayValue:n.getDisplayValue(C()(r,a))||r,focused:!1,isValid:!0,touched:!1},n.input=g.a.createRef(),Object(y.a)(n,["isDateDisabled","handleBlur","handleFocus","handleClick","handleChange","handleReturnKey","handleEscapeKey"]),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.bindKeyCommands()}},{key:"componentWillReceiveProps",value:function(e){this.updateValue(e.value,e.valueFormat)}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"getDisplayFormat",value:function(){return this.props.displayFormat||this.props.valueFormat}},{key:"getDisplayValue",value:function(e){if(!e||!e.isValid())return"";var t=this.getDisplayFormat();return e.format(t)}},{key:"isDateDisabled",value:function(e){var t=!1;if(this.props.isDateDisabled&&(t=this.props.isDateDisabled(e.format(this.props.valueFormat))),!t)for(var n=0,r=this.props.disabledDates[n];n<this.props.disabledDates.length;n++)e.isSame(C()(r,this.props.valueFormat))&&(t=!0);return!t&&this.props.disableDatesBefore&&(t=t||e.isBefore(C()(this.props.disableDatesBefore,this.props.valueFormat))),!t&&this.props.disableDatesAfter&&(t=t||e.isAfter(C()(this.props.disableDatesAfter,this.props.valueFormat))),t}},{key:"bindKeyCommands",value:function(){var e=[{keys:["return","shift+return"],handler:this.handleReturnKey},{keys:["escape"],handler:this.handleEscapeKey}];this.keyCommands||(this.keyCommands=new S.a),this.keyCommands.bindAll(e)}},{key:"handleBlur",value:function(e){this.state.focused&&this.updateValue(e.target.value),this.setState(function(){return{focused:!1,touched:!0}})}},{key:"handleFocus",value:function(){this.setState(function(){return{focused:!0}})}},{key:"handleClick",value:function(e){this.input.current&&this.input.current.focus(),this.props.onClick(e)}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState(function(){return{displayValue:t}})}},{key:"handleReturnKey",value:function(e){this.input.current&&this.state.focused&&(e.preventDefault(),this.input.current.blur())}},{key:"handleEscapeKey",value:function(e){var t=this;this.input.current&&this.state.focused&&(e.preventDefault(),this.setState(function(){return{displayValue:t.props.value}},function(){t.input.current&&t.input.current.blur()}))}},{key:"parseToMoment",value:function(e){if(!e||!e.trim())return null;var t=this.getDisplayFormat(),n=C()(e,t,!0);if(n.isValid())return n;for(var r=0;r<this.props.parseFormats.length;r++){var a=this.props.parseFormats[r],i=C()(e,a,!0);if(i.isValid())return i}var o=new Date(e);return Number.isNaN(o.valueOf())?null:C()(o)}},{key:"updateValue",value:function(e,t){var n=this,r=this.props,a=r.value,i=r.valueFormat,o=r.required,s=t?C()(e,t):this.parseToMoment(e),c=s&&s.isValid();if(c||(o?(s=C()(a,i),c=s&&s.isValid()):(s=null,c=!0)),this.setState(function(){return{displayValue:n.getDisplayValue(s)||e,isValid:c}}),c){var l=s&&s.format(i);this.props.onChange(l)}}},{key:"maybeRenderError",value:function(){return this.state.isValid||!this.state.touched?null:g.a.createElement(I.d,{type:I.c.nestedBox,level:I.b.error,className:"margin_bottom_100"},this.props.disabledDateErrorText)}},{key:"render",value:function(){var e=this.props,t=e.required,n=e.className,r=(e.value,e.valueFormat,e.displayFormat,e.parseFormats,e.disabledDates,e.isDateDisabled,e.disableDatesBefore,e.disableDatesAfter,e.disabledDateErrorText,e.onChange,e.onClick,e.size),i=e.datePickerDisabled,s=o()(e,["required","className","value","valueFormat","displayFormat","parseFormats","disabledDates","isDateDisabled","disableDatesBefore","disableDatesAfter","disabledDateErrorText","onChange","onClick","size","datePickerDisabled"]),c=!this.state.isValid&&this.state.touched,l=k()("c-date_picker__input",n,{"c-date_picker__input--active":this.state.focused,"c-date_picker__input--with_error":c,"c-date_picker__input--large":"large"===r,"c-date_picker__input--disabled":i});return g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:l,onClick:this.handleClick,role:"presentation"},g.a.createElement(w.b,{type:"calendar"}),g.a.createElement("input",a()({},s,{type:"text",className:k()("c-date_picker__input__input","mousetrap",{"c-date_picker__input__input--large":"large"===r}),ref:this.input,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,value:this.state.displayValue||"","aria-invalid":c,"aria-required":t,disabled:i}))),this.maybeRenderError())}}]),t}(v.PureComponent);x.displayName="DatePickerInput",x.defaultProps=N;var M=Object(_.b)(function(e,t){var n=t.disabledDateErrorText,r=t.placeholder;Object(m.a)(r)&&(r=R.t("Select date"));var a=n;return Object(m.a)(a)&&(a=R.t("Please provide a valid date.")),{placeholder:r,disabledDateErrorText:a}},{})(x),P=n("e2Aa"),A=n("hbEN"),D=n("XLFM"),L=n("yt6e"),q=n("cMxN"),F=n("wfZy"),B=n("/xNi"),U=(n("aqlM"),n("HbQL"),150),H=(O.b.string,O.b.string,O.b.string,O.b.arrayOf(O.b.string),O.b.string,O.b.bool,O.b.oneOf(["medium","large"]),O.b.string,O.b.string,O.b.string,O.b.string,O.b.string,O.b.string.isRequired,O.b.func,O.b.func,O.b.arrayOf(O.b.string),O.b.string,O.b.string,O.b.string,O.b.bool,{onDateChange:f.a,dropdownClassName:void 0,datePickerDisabled:!1,id:void 0,required:void 0,size:void 0,inputClassName:void 0,displayFormat:void 0,parseFormats:void 0,datePlaceholder:void 0,calendarClassName:void 0,monthTitleFormat:void 0,yearTitleFormat:void 0,selectedDate:void 0,isDateDisabled:void 0,disabledDates:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,"aria-labelledby":void 0}),K=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedDate:C()(e.selectedDate,e.dateFormat).isValid()?e.selectedDate:null,dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1,targetBounds:void 0},n.lastClickInsideSelect=!1,n.lastClickInsideDropdown=!1,n.selectContainer=g.a.createRef(),n.dropdownContainer=g.a.createRef(),n.handleResize=Object(A.a)(n.setTargetBounds,U,{maxWait:U,trailing:!0}),n.resizeListenerInstalled=!1,n.clickListenerInstalled=!1,Object(y.a)(n,["setTargetBounds","handleInputClick","handleTriggerClick","handleInputChange","handleCalendarChange","handleInputBlur","handleDropdownFocusEnter","handleContainerClick","handleDropdownClick","handleMaybeOutsideClick","closeDropdown","renderPopover"]),n}return h()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){this.updateListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"setTargetBounds",value:function(){if(this.selectContainer.current){var e=this.selectContainer.current.getBoundingClientRect();this.setState(function(){return{targetBounds:e}})}}},{key:"handleInputClick",value:function(){this.props.datePickerDisabled||(this.setTargetBounds(),this.setState(function(){return{dropdownVisible:!0,dropdownActive:!1,dropdownFocusOnMount:!1}}))}},{key:"handleTriggerClick",value:function(e){if(!this.props.datePickerDisabled){this.setTargetBounds();var t=Object(F.a)(e);this.setState(function(e){return e.dropdownVisible?{dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}:{dropdownVisible:!0,dropdownActive:!0,dropdownFocusOnMount:t}})}}},{key:"changeDate",value:function(e){e!==this.state.selectedDate&&(this.setState(function(){return{selectedDate:e}}),this.props.onDateChange(e))}},{key:"handleInputChange",value:function(e){this.changeDate(e)}},{key:"handleCalendarChange",value:function(e){this.changeDate(e),this.closeDropdown()}},{key:"handleInputBlur",value:function(){this.setState(function(e){return e.dropdownActive?e:{dropdownVisible:!1}})}},{key:"handleDropdownFocusEnter",value:function(){this.props.datePickerDisabled||this.setState(function(){return{dropdownVisible:!0,dropdownActive:!0}})}},{key:"handleContainerClick",value:function(){this.lastClickInsideSelect=!0}},{key:"handleDropdownClick",value:function(){this.lastClickInsideDrodpown=!0}},{key:"handleMaybeOutsideClick",value:function(){this.lastClickInsideSelect||this.lastClickInsideDropdown?(this.lastClickInsideSelect=!1,this.lastClickInsideDropdown=!1):this.setState(function(){return{dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}})}},{key:"updateListeners",value:function(){this.state.dropdownVisible?(this.resizeListenerInstalled||(window.addEventListener("resize",this.handleResize),this.resizeListenerInstalled=!0),this.clickListenerInstalled||(document.addEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!0)):this.removeListeners()}},{key:"removeListeners",value:function(){this.resizeListenerInstalled&&(this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize),this.resizeListenerInstalled=!1),this.clickListenerInstalled&&(document.removeEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!1)}},{key:"closeDropdown",value:function(){this.setState(function(){return{dropdownVisible:!1,dropdownActive:!1}})}},{key:"renderPopover",value:function(){var e=this.props,t=e.dateFormat,n=e.calendarClassName,r=e.dropdownClassName,a=e.monthTitleFormat,i=e.yearTitleFormat,o=e.isDateDisabled,s=e.disabledDates,c=e.disableDatesBefore,l=e.disableDatesAfter,u=this.state,d=u.dropdownVisible,b=u.dropdownActive,p=u.dropdownFocusOnMount,h=k()(r,"c-date_picker__dropdown"),m=k()(n,"c-date_picker__select_calendar");return g.a.createElement(q.a,{isOpen:d,onClose:this.closeDropdown,overlayClassName:"c-popover c-date_picker__popover_overlay",targetBounds:this.state.targetBounds,position:"bottom-right",offsetX:B.a.x,offsetY:B.a.y,ariaHideApp:!b,shouldFocusAfterRender:b},g.a.createElement(L.a,{onFocusEnter:this.handleDropdownFocusEnter},g.a.createElement("div",{ref:this.dropdownContainer,className:h,tabIndex:"-1","data-qa":"date_picker_dropdown"},g.a.createElement(P.a,{className:m,selectedDate:this.state.selectedDate,dateFormat:t,monthTitleFormat:a,yearTitleFormat:i,onDateChange:this.handleCalendarChange,kbNavActive:b,focusOnMount:p,isDateDisabled:o,disabledDates:s,disableDatesBefore:c,disableDatesAfter:l}))))}},{key:"renderPopoverTrigger",value:function(){var e=this.props.size;return g.a.createElement(D.c,{className:k()("c-date_picker__select_btn",{"c-date_picker__select_btn--large":"large"===e}),onClick:this.handleTriggerClick,"data-qa":"date_picker_dropdown_trigger","aria-labelledby":this.props["aria-labelledby"],"aria-haspopup":!0,disabled:this.props.datePickerDisabled},g.a.createElement(w.b,{type:"large"===e?"chevron-medium-down":"chevron-down"}))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.dateFormat,r=e.displayFormat,a=e.datePlaceholder,i=e.inputClassName,o=e.parseFormats,s=e.isDateDisabled,c=e.disabledDates,l=e.disableDatesBefore,u=e.disableDatesAfter,d=e.required,b=e.size,p=e.datePickerDisabled,h=e["aria-labelledby"],m=k()(i,"c-date_picker__select_input");return g.a.createElement("div",{ref:this.selectContainer,className:"c-date_picker__select_container",onClick:this.handleContainerClick,role:"presentation"},g.a.createElement(L.a,{onFocusLeave:this.handleInputBlur},g.a.createElement("div",null,g.a.createElement(M,{id:t,className:m,value:this.state.selectedDate,valueFormat:n,displayFormat:r,parseFormats:o,onChange:this.handleInputChange,onClick:this.handleInputClick,placeholder:a,isDateDisabled:s,disabledDates:c,disableDatesBefore:l,disableDatesAfter:u,required:d,"aria-labelledby":h,size:b,datePickerDisabled:p}))),this.renderPopoverTrigger(),this.renderPopover())}}]),t}(v.PureComponent);K.displayName="DatePickerSelect",K.defaultProps=H;var G=K,V=(n("OnR/"),new T.b("date_picker")),z=(O.b.string,O.b.string,O.b.string,O.b.string.isRequired,O.b.string,O.b.arrayOf(O.b.string),O.b.arrayOf(O.b.string),O.b.func,O.b.func,O.b.string,O.b.string,{className:null,startDate:null,endDate:null,displayFormat:"MMMM D, YYYY",parseFormats:["YYYY-M-D"],disabledDates:[],onStartDateChange:f.a,onEndDateChange:f.a,startDatePlaceholder:"",endDatePlaceholder:""}),Y=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.startDate,a=e.endDate,i=e.dateFormat,o=C()(r,i),s=C()(a,i);return n.state={startDate:o.isValid()?o.format(e.displayFormat):"",endDate:s.isValid()?s.format(e.displayFormat):""},Object(y.a)(n,["handleStartDateChange","handleEndDateChange","isDateDisabled","updateStartDate","updateEndDate"]),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){this.updateStartDate(e.startDate),this.updateEndDate(e.endDate)}},{key:"getDisplayFormat",value:function(){return this.props.displayFormat||this.props.dateFormat}},{key:"isDateDisabled",value:function(e){for(var t=0,n=this.props.disabledDates[t];t<this.props.disabledDates.length;t++)if(e.isSame(C()(n,this.props.dateFormat)))return!0;return!1}},{key:"handleStartDateChange",value:function(e){this.props.onStartDateChange(e)}},{key:"handleEndDateChange",value:function(e){this.props.onEndDateChange(e)}},{key:"updateStartDate",value:function(e){var t=this.parseToMoment(e),n=this.getDisplayFormat();this.isDateDisabled(t)||(this.setState(function(){return{startDate:t&&t.format(n)}}),this.props.onStartDateChange(t&&t.format(this.props.dateFormat)))}},{key:"updateEndDate",value:function(e){var t=this.parseToMoment(e),n=this.getDisplayFormat();this.isDateDisabled(t)||(this.setState(function(){return{endDate:t&&t.format(n)}}),this.props.onEndDateChange(t&&t.format(this.props.dateFormat)))}},{key:"parseToMoment",value:function(e){if(!e)return"";var t=this.getDisplayFormat(),n=C()(e,t,!0);if(n.isValid())return n;for(var r=0;r<this.props.parseFormats.length;r++){var a=this.props.parseFormats[r],i=C()(e,a,!0);if(i.isValid())return i}var o=new Date(e);return Number.isNaN(o.valueOf())?null:C()(o)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.dateFormat,r=e.displayFormat,a=e.parseFormats,i=e.startDatePlaceholder,o=e.endDatePlaceholder,s=k()("c-date_range_picker_inputs",t);return g.a.createElement("div",{className:s},g.a.createElement("div",{className:"c-date_range_picker_inputs__start_date_container"},g.a.createElement("span",{className:"c-date_range_picker_inputs__input_label c-date_range_picker_inputs__start_label"},V.t("Start")),g.a.createElement(M,{className:"c-date_range_picker_inputs__input c-date_range_picker_inputs__start_input",value:this.state.startDate,valueFormat:n,displayFormat:r,parseFormats:a,placeholder:i,onChange:this.handleStartDateChange})),g.a.createElement("div",{className:"c-date_range_picker_inputs__end_date_container"},g.a.createElement("span",{className:"c-date_range_picker_inputs__input_label c-date_range_picker_inputs__end_label"},V.t("End")),g.a.createElement(M,{className:"c-date_range_picker_inputs__input c-date_range_picker_inputs__end_input",value:this.state.endDate,valueFormat:n,displayFormat:r,parseFormats:a,placeholder:o,onChange:this.handleEndDateChange})))}}]),t}(v.Component);Y.displayName="DateRangePickerInputs",Y.defaultProps=z;var W=Object(_.b)(function(e,t){var n=t.startDatePlaceholder,r=t.endDatePlaceholder,a=n;Object(m.a)(a)&&(a=V.t("Select start date"));var i=r;return Object(m.a)(i)&&(i=V.t("Select end date")),{startDatePlaceholder:a,endDatePlaceholder:i}})(Y),Q=n("N2fK"),X=n("xJL3"),Z=n("0f2Y"),J=(n("ebHB"),new T.b("date_picker")),$=(O.b.string,O.b.string,O.b.string,O.b.arrayOf(O.b.string),O.b.string,O.b.string,O.b.func,O.b.func,{className:null,selectedStartDate:null,selectedEndDate:null,disabledDates:[],monthTitleFormat:"MMMM YYYY",dateFormat:"YYYY-MM-DD",onStartDateChange:f.a,onEndDateChange:f.a}),ee=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=C()(e.selectedStartDate),a=C()(e.selectedEndDate);return Object(y.a)(n,["onDateClick","onLeftArrowClick","onRightArrowClick","onClearDatesClick","isDateDisabled","isDateInvalid","renderDate"]),n.state={selectedStartDate:r.isValid()&&!n.isDateDisabled(r)?e.selectedStartDate:null,selectedEndDate:a.isValid()&&!n.isDateDisabled(a)?e.selectedEndDate:null,thisMonth:C()().format(e.dateFormat),nextMonth:C()().add(1,"months").format(e.dateFormat)},n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{selectedStartDate:e.selectedStartDate,selectedEndDate:e.selectedEndDate}})}},{key:"onDateClick",value:function(e){var t=e.target.dataset.value,n=this.props.dateFormat,r=C()(t,n),a=C()(this.state.selectedStartDate,n);if(!this.isDateDisabled(r))if(this.state.selectedStartDate)if(this.state.selectedStartDate&&!this.state.selectedEndDate)if(r.isBefore(a)){var i=this.state.selectedStartDate;this.setState(function(e){return{selectedStartDate:t,selectedEndDate:e.selectedStartDate}}),this.props.onStartDateChange(t),this.props.onEndDateChange(i)}else this.setState(function(){return{selectedEndDate:t}}),this.props.onEndDateChange(t);else this.state.selectedStartDate&&this.state.selectedEndDate&&(this.setState(function(){return{selectedStartDate:t,selectedEndDate:null}}),this.props.onStartDateChange(t),this.props.onEndDateChange(null));else this.setState(function(){return{selectedStartDate:t}}),this.props.onStartDateChange(t)}},{key:"onLeftArrowClick",value:function(){var e=this;this.setState(function(t){return{thisMonth:C()(t.thisMonth).subtract(1,"months").format(e.props.dateFormat),nextMonth:t.thisMonth}})}},{key:"onRightArrowClick",value:function(){var e=this;this.setState(function(t){return{thisMonth:t.nextMonth,nextMonth:C()(t.nextMonth).add(1,"months").format(e.props.dateFormat)}})}},{key:"onClearDatesClick",value:function(){this.setState(function(){return{selectedStartDate:null,selectedEndDate:null}}),this.props.onStartDateChange(null),this.props.onEndDateChange(null)}},{key:"isDateDisabled",value:function(e){for(var t=0,n=this.props.disabledDates[t];t<this.props.disabledDates.length;t++)if(e.isSame(C()(n,this.props.dateFormat)))return!0;return!1}},{key:"isDateInvalid",value:function(e){var t=C()(this.state.selectedStartDate,this.props.dateFormat),n=C()(this.state.selectedEndDate,this.props.dateFormat);return(e.isSame(t)||e.isSame(n)||e.isBetween(t,n))&&this.isDateDisabled(e)}},{key:"renderDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.dateFormat,r=e.sameMonth,a=e.isToday,i=e.monthStart,o=e.monthEnd,s=e.firstWeekStart,c=e.firstWeekEnd,l=e.lastWeekStart,u=e.lastWeekEnd,d=C()(t,n),b=C()(this.state.selectedStartDate,n),p=C()(this.state.selectedEndDate,n),h=k()("c-date_range_picker_calendar__date",{"c-date_range_picker_calendar__date--is_today":a,"c-date_range_picker_calendar__date--select_range_start":d.isSame(b),"c-date_range_picker_calendar__date--select_range_end":d.isSame(p),"c-date_range_picker_calendar__date--in_selected_range":d.isBetween(b,p),"c-date_range_picker_calendar__date--disabled":this.isDateDisabled(d),"c-date_range_picker_calendar__date--is_invalid":this.isDateInvalid(d),"c-date_range_picker_calendar__date--month_start":i,"c-date_range_picker_calendar__date--month_end":o,"c-date_range_picker_calendar__date--first_week_start":s,"c-date_range_picker_calendar__date--first_week_end":c,"c-date_range_picker_calendar__date--last_week_start":l,"c-date_range_picker_calendar__date--last_week_end":u});return r?g.a.createElement("div",{className:h,onClick:this.onDateClick,"data-value":t,"data-format":n,role:"presentation"},d.format("D")):null}},{key:"render",value:function(){var e=k()("c-date_range_picker_calendar",this.props.className),t=C()(this.state.thisMonth),n=C()(this.state.nextMonth);return g.a.createElement("div",{className:e},g.a.createElement("div",{className:"c-date_range_picker_calendar__calendars"},g.a.createElement("div",null,g.a.createElement(Q.a,{title:t.format(this.props.monthTitleFormat),onLeftArrowClick:this.onLeftArrowClick}),g.a.createElement(X.a,{month:t.format(this.dateFormat),renderDate:this.renderDate,dateFormat:this.props.dateFormat})),g.a.createElement("div",null,g.a.createElement(Q.a,{title:n.format(this.props.monthTitleFormat),onRightArrowClick:this.onRightArrowClick}),g.a.createElement(X.a,{month:n.format(this.dateFormat),renderDate:this.renderDate,dateFormat:this.props.dateFormat}))),g.a.createElement(Z.a,{onClick:this.onClearDatesClick},J.t("Clear selection")))}}]),t}(v.PureComponent);ee.displayName="DateRangePickerCalendar",ee.defaultProps=$;var te=ee,ne=n("NXqO");n.d(t,"b",function(){return M}),n.d(t,"a",function(){return P.a}),n.d(t,"c",function(){return G}),n.d(t,"d",function(){return B.b}),n.d(t,"g",function(){return W}),n.d(t,"f",function(){return te}),n.d(t,"e",function(){return ne.a})},hI7H:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("TGBA"),h=n("ifKl"),m=n("gSGL"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("9rZX"),y=n.n(O),j=n("TSYQ"),k=n.n(j),E=n("tn36"),C=n("HO/Y"),I=n("DTT0"),w=n("9/DQ"),S=n("XLFM"),T=n("od5y"),R=n("OZf9"),N=(n("zmyB"),f.b.arrayOf(f.b.string),f.b.number,f.b.bool,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"setBreadcrumbAnimationDirection",value:function(e){return e?"reverse":""}},{key:"renderBreadcrumbHeader",value:function(){var e=this,t=this.props,n=t.breadcrumbTitles,r=t.highlightedIndex,a=[];return Object(R.a)(n,function(t,n){n===r?a.push(e.renderActiveBreadcrumb(t,n)):a.push(e.renderInactiveBreadcrumb(t,n))}),g.a.createElement("div",{className:"c-fullscreen_modal__breadcrumb_wrapper","data-qa":"fs_modal_breadcrumb_wrapper"},a)}},{key:"renderActiveBreadcrumb",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.props.isSteppingBack,r=this.setBreadcrumbAnimationDirection(n);return g.a.createElement("div",{className:"c-fullscreen_modal__breadcrumb","data-qa":"fs_modal_breadcrumb_"+t,key:t},g.a.createElement(T.a,{className:"c-fullscreen_modal__breadcrumb_circle_icon active","data-qa":"fs_modal_breadcrumb_icon_active",type:"circle_fill"}),g.a.createElement("div",{"data-js":"modal_animated_step",className:"c-fullscreen_modal__breadcrumb_animated_step "+r,"data-qa":"fs_modal_breadcrumb_animated_step"}),g.a.createElement("span",{className:"c-fullscreen_modal__breadcrumb_text active bold","data-qa":"fs_modal_breadcrumb_text_active"},e))}},{key:"renderInactiveBreadcrumb",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g.a.createElement("div",{className:"c-fullscreen_modal__breadcrumb","data-qa":"fs_modal_breadcrumb_"+t,key:t},g.a.createElement(T.a,{className:"c-fullscreen_modal__breadcrumb_circle_icon","data-qa":"fs_modal_breadcrumb_icon_inactive",type:"circle_fill"}),g.a.createElement("span",{className:"c-fullscreen_modal__breadcrumb_text","data-qa":"fs_modal_breadcrumb_text_inactive"},e))}},{key:"render",value:function(){var e=this.props,t=e.breadcrumbTitles[e.highlightedIndex];return g.a.createElement("div",{className:"c-fullscreen_modal__breadcrumb_header","data-qa":"fs_modal_breadcrumb_header"},g.a.createElement("div",{className:"c-fullscreen_modal__breadcrumb_line"}),g.a.createElement("p",{className:"c-fullscreen_modal__title--small small bold","data-js":"c-fullscreen_modal__title"},t),this.renderBreadcrumbHeader())}}]),t}(v.PureComponent));N.displayName="FullscreenModalBreadcrumbHeader",N.defaultProps={breadcrumbTitles:[],highlightedIndex:null,isSteppingBack:!1};var x=N,M=n("aLpA"),P=n("nNoG"),A=n("yHhI"),D=(n("AjvF"),new P.b("fullscreen_modal")),L={right:"right",floatRight:"float_right",center:"center"},q=(f.b.string,f.b.string,f.b.any.isRequired,f.b.string,f.b.string,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.oneOf(Object(p.a)(L)),f.b.func,f.b.func,f.b.func,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.node,f.b.arrayOf(f.b.string),f.b.bool,f.b.bool,f.b.bool,f.b.string,f.b.number,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.string,f.b.string,f.b.bool,f.b.bool.isRequired,f.b.string,f.b.func,f.b.bool,f.b.string,f.b.func,f.b.func,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.func,f.b.bool,f.b.bool,{cancelButtonType:"outline",cancelText:null,contentLabel:null,dataQa:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goButtonText:null,goButtonType:"primary",onBack:h.a,onCancel:h.a,onGo:h.a,showBackButton:!1,showCancelButton:!0,showCloseButton:!0,showGoButton:!0,buttonAlignment:null,title:null,breadcrumbTitles:[],withFooter:!1,withHeader:!1,withBreadcrumbHeader:!1,position:null,currentStepIndex:null,isSteppingBack:!1,isOpen:!0,showOpenTransition:!0,showCloseTransition:!0,modalClasses:"",modalBodyClasses:"",modalBodyOpenClassName:void 0,modalOverlayClassName:void 0,fullBleedModalBodyContent:!1,stepModalClasses:null,closeModal:h.a,shouldCloseOnGo:!1,headerImage:void 0,setBodyRef:h.a,setContentRef:h.a,isCustomTitlebarShown:!1,showSecondaryButton:!1,secondaryButtonIsDisabled:!1,secondaryButtonIsPending:!1,secondaryButtonText:null,secondaryButtonType:"primary",onSecondary:h.a,shouldCloseOnSecondary:!1,isFrameless:!1});var F=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(E.a)(n,["onCancel","onSecondary","onGo"]),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){1}},{key:"componentWillUnmount",value:function(){1}},{key:"onGo",value:function(){var e=this.props,t=e.onGo,n=e.shouldCloseOnGo;t(),n&&this.props.closeModal()}},{key:"onCancel",value:function(){var e=this.props.onCancel;e(),this.props.closeModal()}},{key:"onSecondary",value:function(){var e=this.props,t=e.onSecondary,n=e.shouldCloseOnSecondary;t(),n&&this.props.closeModal()}},{key:"getContentLabel",value:function(){var e=this.props.contentLabel;return e||(Object(m.a)(this.props.title)?e=this.props.title:Object(A.b)().warn('You should pass the "contentLabel" prop when passing a non-string "title" prop.')),e}},{key:"getCloseTimeout",value:function(){return this.props.showCloseTransition?250:null}},{key:"showFramelessPadding",value:function(){if(!this.props.isFrameless)return!1;var e=this.props,t=e.withHeader,n=e.headerImage;return!(t&&!n)}},{key:"maybeShowTransition",value:function(){var e=this.props;return{afterOpen:e.showOpenTransition?"c-fullscreen_modal__content--after-open":"",beforeClose:e.showCloseTransition?"c-fullscreen_modal__content--before-close":""}}},{key:"renderBackButton",value:function(){var e=this.props,t=e.onBack,n=e.withHeader,r=e.withBreadcrumbHeader,a=D.t("back"),i=r||n?"":a,o=k()("c-fullscreen_modal__back",{"c-fullscreen_modal__back--with_header":r||n});return g.a.createElement(S.c,{className:o,onClick:t,"aria-label":a},g.a.createElement(T.a,{className:"c-fullscreen_modal__button__icon nudge_bottom_1",type:"arrow_large_left"}),g.a.createElement("span",{className:"c-fullscreen_modal__button__label"},i))}},{key:"renderCancelButton",value:function(){var e=this.props,t=e.cancelText,n=e.cancelButtonType,r=t||D.t("Cancel");return g.a.createElement(S.d,{type:n,className:"c-fullscreen_modal__cancel","data-qa":"cancel_action",onClick:this.onCancel},r)}},{key:"renderCloseButton",value:function(){var e=this.props,t=e.withHeader,n=e.withBreadcrumbHeader,r=e.featureAccessibleFsDialogs,a="";n||t||(a=D.t("esc"));var i=k()("c-fullscreen_modal__close",{"c-fullscreen_modal__close--with_header":n||t}),o=r?D.t("Close"):"";return g.a.createElement(S.c,{className:i,onClick:this.onCancel,"aria-label":o},g.a.createElement(T.a,{className:"c-fullscreen_modal__button__icon nudge_bottom_2",type:"times"}),g.a.createElement("span",{className:"c-fullscreen_modal__button__label"},a))}},{key:"renderGoButton",value:function(){var e=this.props,t=e.goButtonIsDisabled,n=e.goButtonIsPending,r=e.goButtonText,a=e.goButtonType,i=r||D.t("OK");return g.a.createElement(S.b,{type:a,className:"c-fullscreen_modal__go","data-qa":"create_action",onClick:this.onGo,loading:n,disabled:t},i)}},{key:"renderSecondaryButton",value:function(){var e=this.props,t=e.secondaryButtonIsDisabled,n=e.secondaryButtonIsPending,r=e.secondaryButtonText,a=e.secondaryButtonType,i=r;return g.a.createElement(S.b,{type:a,className:"c-fullscreen_modal__secondary","data-qa":"secondary_action",onClick:this.onSecondary,loading:n,disabled:t},i)}},{key:"renderHeader",value:function(){var e=this.props,t=e.title,n=e.withHeader,r=e.breadcrumbTitles,a=e.currentStepIndex,i=e.isSteppingBack,o=e.withBreadcrumbHeader,s=e.headerImage,c=k()("c-fullscreen_modal__title",{"c-fullscreen_modal__title--with_header_buttons":this.props.showCloseButton||this.props.showBackButton});return n?g.a.createElement("div",{className:"c-fullscreen_modal__header"},s&&g.a.createElement("div",{className:"c-fullscreen_modal__header_image_wrapper"},g.a.createElement("img",{className:"c-fullscreen_modal__header_image",src:s,alt:t})),g.a.createElement("h1",{className:c},t)):o?g.a.createElement("div",{className:"c-fullscreen_modal__header"},g.a.createElement(x,{breadcrumbTitles:r,highlightedIndex:a,isSteppingBack:i})):t?g.a.createElement("h1",{className:"c-fullscreen_modal__title","data-qa":"fullscreen_modal_title"},t):null}},{key:"renderFooter",value:function(){var e=this.props,t=e.showCancelButton,n=e.showSecondaryButton,r=e.showGoButton,a=e.buttonAlignment,i=e.withFooter;if(!t&&!r)return null;var o=k()({"c-fullscreen_modal__buttons":!0,"c-fullscreen_modal__buttons--align_right":a===L.right,"c-fullscreen_modal__buttons--float_right":a===L.floatRight,"c-fullscreen_modal__buttons--center":a===L.center}),s=g.a.createElement("div",{className:o},t&&this.renderCancelButton(),n&&this.renderSecondaryButton(),r&&this.renderGoButton());return i?g.a.createElement("div",{className:"c-fullscreen_modal__footer"},s):s}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.dataQa,r=e.showBackButton,i=e.showCloseButton,o=e.withFooter,s=e.withHeader,c=e.withBreadcrumbHeader,l=e.position,u=e.isOpen,d=e.modalClasses,b=e.modalBodyClasses,p=e.modalBodyOpenClassName,h=e.modalOverlayClassName,m=e.showOpenTransition,f=e.stepModalClasses,v=e.fullBleedModalBodyContent,_=e.setBodyRef,O=e.setContentRef,j=k()("c-fullscreen_modal",h,{"c-fullscreen_modal--fixed":"fixed"===l,"c-fullscreen_modal--custom_titlebar":this.props.isCustomTitlebarShown}),E=k()(M.G,p),C=k()("c-fullscreen_modal__content",d,f,{"c-fullscreen_modal__content--with_footer":o,"c-fullscreen_modal__content--with_header":s,"c-fullscreen_modal__content--with_breadcrumb_header":c,"c-fullscreen_modal__content--before-open":m,"c-fullscreen_modal__content--with_frameless_padding":this.showFramelessPadding()}),I=k()("c-fullscreen_modal__body",b,{"c-fullscreen_modal__body--full_bleed":v,"c-fullscreen_modal__body--with_header":s,"c-fullscreen_modal__body--with_footer":o,"c-fullscreen_modal__body--with_breadcrumb_header":c}),w=k()("c-fullscreen_modal__body__content",{"c-fullscreen_modal__body__content--full_bleed":v});return g.a.createElement(y.a,{role:"dialog",className:a()({base:C},this.maybeShowTransition()),closeTimeoutMS:this.getCloseTimeout(),contentLabel:this.getContentLabel(),isOpen:u,onRequestClose:this.onCancel,overlayClassName:j,bodyOpenClassName:E,shouldCloseOnOverlayClick:!1,contentRef:O},(c||s)&&this.renderHeader(),r&&this.renderBackButton(),i&&this.renderCloseButton(),g.a.createElement("div",{className:I,"data-qa":n,ref:_},g.a.createElement("div",{className:w},!(c||s)&&this.renderHeader(),t,!o&&this.renderFooter())),o&&this.renderFooter())}}]),t}(v.PureComponent);F.displayName="FullscreenModal",F.defaultProps=q;var B={closeModal:I.a};t.a=Object(_.b)(function(e){return{featureAccessibleFsDialogs:Object(C.j)(e,"feature_accessible_fs_dialogs"),isCustomTitlebarShown:Object(w.i)(e),isFrameless:Object(w.j)(e)}},B)(F)},hOQf:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("lCmp"),o=n("1Lli"),s=n("qAkX"),c=n("gSGL"),l=n("NFsq"),u=n("7EGn"),d=n("F294"),b=n("CpTu"),p=n("aLpA"),h=n("VjHM"),m=n("FN36"),f=n("HO/Y"),v=n("P2f5"),g=n("Uny/"),_=n("smxp"),O=n("clTI"),y=n("1tet"),j=n("BYHq"),k=n("M4yy"),E=n("8dKT"),C=n("qhBG"),I=n("aWB3"),w=n("a+Oh"),S=n("Fdc0"),T=n("+epm"),R=n("2Zgd"),N=n("0iF4"),x=n("VyaM"),M=n("vwQE"),P=n("/k8D"),A=n("DtX9"),D=n("lhZz"),L=n("rWF5"),q=n("ICFZ"),F=n("DQNL");var B=n("G+bj"),U=n("6kok"),H=n("P9LH"),K=n("Qrgz"),G=n("N52Z"),V=n("GQZf"),z=n("negh");n.d(t,"b",function(){return Y}),n.d(t,"a",function(){return W}),n.d(t,"c",function(){return Q}),n.d(t,"d",function(){return X}),n.d(t,"hb",function(){return Z}),n.d(t,"wb",function(){return J}),n.d(t,"Z",function(){return $}),n.d(t,"gb",function(){return ee}),n.d(t,"xb",function(){return te}),n.d(t,"db",function(){return ne}),n.d(t,"eb",function(){return re}),n.d(t,"nb",function(){return ae}),n.d(t,"W",function(){return oe}),n.d(t,"yb",function(){return ce}),n.d(t,"jb",function(){return le}),n.d(t,"ib",function(){return ue}),n.d(t,"kb",function(){return de}),n.d(t,"cb",function(){return be}),n.d(t,"bb",function(){return pe}),n.d(t,"X",function(){return he}),n.d(t,"M",function(){return me}),n.d(t,"B",function(){return fe}),n.d(t,"P",function(){return ve}),n.d(t,"N",function(){return ge}),n.d(t,"F",function(){return _e}),n.d(t,"R",function(){return Oe}),n.d(t,"S",function(){return ye}),n.d(t,"T",function(){return je}),n.d(t,"C",function(){return ke}),n.d(t,"O",function(){return Ee}),n.d(t,"K",function(){return Ce}),n.d(t,"I",function(){return Ie}),n.d(t,"H",function(){return we}),n.d(t,"G",function(){return Se}),n.d(t,"U",function(){return Te}),n.d(t,"ab",function(){return Re}),n.d(t,"lb",function(){return Ne}),n.d(t,"qb",function(){return xe}),n.d(t,"sb",function(){return Me}),n.d(t,"pb",function(){return Pe}),n.d(t,"ob",function(){return Ae}),n.d(t,"tb",function(){return De}),n.d(t,"mb",function(){return qe}),n.d(t,"Y",function(){return Fe}),n.d(t,"V",function(){return Be}),n.d(t,"s",function(){return Ue}),n.d(t,"e",function(){return He}),n.d(t,"f",function(){return Ke}),n.d(t,"h",function(){return Ge}),n.d(t,"i",function(){return Ve}),n.d(t,"k",function(){return ze}),n.d(t,"l",function(){return We}),n.d(t,"m",function(){return Qe}),n.d(t,"j",function(){return Ze}),n.d(t,"fb",function(){return Je}),n.d(t,"x",function(){return $e}),n.d(t,"vb",function(){return at}),n.d(t,"n",function(){return it}),n.d(t,"o",function(){return ot}),n.d(t,"p",function(){return st}),n.d(t,"r",function(){return ct}),n.d(t,"g",function(){return lt}),n.d(t,"t",function(){return ut}),n.d(t,"ub",function(){return dt}),n.d(t,"Q",function(){return bt}),n.d(t,"J",function(){return pt}),n.d(t,"q",function(){return ht}),n.d(t,"L",function(){return mt}),n.d(t,"E",function(){return ft}),n.d(t,"D",function(){return vt}),n.d(t,"w",function(){return gt}),n.d(t,"A",function(){return _t}),n.d(t,"v",function(){return Ot}),n.d(t,"u",function(){return yt}),n.d(t,"rb",function(){return jt}),n.d(t,"y",function(){return kt}),n.d(t,"z",function(){return Et});R.e;var Y=/<!everyone\b/,W=/<!channel\b/,Q=/<!group\b/,X=/<!here\b/;function Z(e,t,n){return!(e.ts<=t)&&(!Ae(e)&&!!Ze(e,n))}function J(e){var t=e.state,n=e.msg,r=e.channel,a=e.currentUserId,i=e.userIsAway,o=e.userPresenceLastChanged,s=e.highlightWords,c=e.isAppMsg,l=e.featureWtaNotifications,u=e.teamId;if(!n||!r)return!1;if(Object(U.hb)(t,r.id)&&n.suppress_notification&&Object(f.j)(t,"feature_silence_app_dms"))return!1;if("thread_broadcast"===n.subtype)return!1;if(Object(U.eb)(r)||Object(C.a)(t,r)){var d=1e3*parseFloat(n.ts);if($e(n,a,s,u,{ignoreAtHereMentions:i||d<o,ignoreHighlightWords:at(n,c,l),featureWtaNotifications:l})&&it({state:t,text:n.text,channelId:r.id,userId:n.user}))return!0}else{if($e(n,a,s,u,{ignoreHighlightWords:at(n,c,l),ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0,ignoreAtHereMentions:!0})&&it({state:t,text:n.text,channelId:r.id,userId:n.user}))return!0}return!(!Object(U.hb)(t,r.id)||!Object(f.j)(t,"feature_silence_app_dms"))}function $(e){return!(!e||!e.is_ephemeral)}function ee(e){return Object(l.a)(["channel_join","channel_leave","group_join","group_leave"],e.subtype)}function te(e){return e&&!$(e)&&!Ae(e)}function ne(e){return!e||(!!e.no_display||(!!e._hidden_reply||!!Object(g.a)(e)))}function re(e){return!e||(!!e.no_display||!!Object(g.a)(e))}function ae(e,t,n){return!!e.is_starred||!(!n||!n.is_starred)}function ie(e){return!!e&&Object(k.a)(e.subtype)}function oe(e,t){var n=Object(A.c)(e,t.user);return Object(S.bb)(n)}function se(e){return!!e&&Object(i.a)(e,function(e){return"call"===e.type})}function ce(e,t){return!(le(t)&&!Object(w.b)(e))&&function(e){return!!(e&&e.blocks&&e.blocks.length>0)}(t)}function le(e){return e&&Object(B.a)(e.blocks)}function ue(e){return!!e&&(e.thread_ts&&e.thread_ts!==e.ts)}function de(e){return!!e&&(e.thread_ts&&e.thread_ts===e.ts)}function be(e,t){return e.user===t||e.comment&&e.comment.user===t}function pe(e,t){return e.channel===t}function he(e){return e.is_ephemeral&&"bot_message"===e.subtype&&"disconnected_feedback"===e._ephemeral_type}function me(e){return e?e.subtype:void 0}function fe(e){if(e.latest_reply)return e.latest_reply;if(e.replies&&e.replies.length){var t=e.replies;return t[t.length-1].ts}return e.ts}function ve(e){return e&&e.ts||void 0}function ge(e){return e&&e.thread_ts||void 0}function _e(e){return e&&e.channel||void 0}function Oe(e){return e&&e.reply_count||0}function ye(e){return e&&e.reply_users||[]}function je(e){return e&&e.reply_users_count||0}function ke(e){if(!e)return null;if(e.latest_reply)return e.latest_reply;var t=Object(s.a)(e.replies);return Object(u.a)(t,"ts")}function Ee(e){return e?e.topic:""}function Ce(e){return e?e.purpose:""}function Ie(e){return e?e.old_name:""}function we(e){return e?e.name:""}function Se(e){return e?e.user:null}function Te(e){return e?e.source_team_id||e.team:null}function Re(e){return"file_comment"===me(e)}function Ne(e){var t=me(e);return"file_share"===t||"file_mention"===t}function xe(e){return"thread_broadcast"===me(e)}function Me(e){return"tombstone"===me(e)}function Pe(e){return!e||e.indexOf(p.l)>=0}function Ae(e){return!e||Pe(e.ts)}function De(e){return Ae(e)&&!$(e)}function Le(e){return!($(e)||Me(e)||Ae(e))}function qe(e){return Se(e)===S.c}function Fe(e){return"ekm_access_denied"===me(e)}function Be(e,t,n){if(!t)return!1;if(!n)return!1;if(Object(E.a)(t.subtype)||Object(E.a)(n.subtype))return!1;if(Object(k.a)(t.subtype)||Object(k.a)(n.subtype))return!1;if("thread_broadcast"===t.subtype)return!1;if(Fe(t))return!1;if(n.reply_count||t.reply_count)return!1;var r=Object(x.a)(t.ts),a=Object(x.a)(n.ts),i=Object(M.a)(r,a),o=Object(P.a)(r,a);if(i>5||!o)return!1;var s=bt(e,t),c=bt(e,n);return!(!s.userId||s.userId!==c.userId)||(s.botId&&!s.userId&&s.botId===c.botId?!s.username||s.username===c.username:!(!s.username||s.username!==c.username))}function Ue(e){if(Re(e))return!1;var t=me(e);return Le(e)&&(!t||Object(l.a)(["bot_message","thread_broadcast"],t))}function He(e){return!!Le(e)&&!Re(e)}function Ke(e,t){var n=t.message;if(Re(n))return!1;if($(n))return!1;if(!me(n))return!0;return["bot_message","file_share","file_mention","file_comment","me_message","reply_broadcast","thread_broadcast"].includes(me(n))}function Ge(e,t){var n=t.message;if(Re(n))return!1;var r=!1;return!n.is_ephemeral&&Object(q.a)()&&(r=!0,"tombstone"===n.subtype&&(r=!1)),r}function Ve(e,t){var n=t.message;return Object(f.j)(e,"feature_desktop_copy_text")&&Ge(0,{message:n})}function ze(e,t){var n=t.message,r=t.channel,a=t.messageContainerType,i=Ye(e,{message:n,channel:r});return i=i&&!st(e,{message:n,channel:r,messageContainerType:a})}function Ye(e,t){var n=t.message,r=t.channel;if(!(e||n||r))return!1;var a=me(n),i=Object(f.b)(e),o=Object(A.c)(e,i),s=Object(S.X)(o),c=Object(S.ib)(o),u=Object(U.eb)(r),d=Se(n),b=Object(A.c)(e,d),p=d===i,h=d===S.c,v=p||h||"bot_message"===a,g=Object(S.lb)(b),_=Object(f.j)(e,"feature_stranger_danger")?!Object(T.b)(e,b.id):Object(S.Ab)(b),O=b&&_&&Object(S.eb)(b);if(n.is_ephemeral)return!0;if(!Object(m.a)(e,"allow_message_deletion")&&!s&&!c)return!1;if("tombstone"===a)return!1;if("retention"===a)return!1;if(Object(f.j)(e,"feature_announce_only")){if(ue(n)&&!Object(K.r)(e,r.id))return!1;if(!ue(n)&&!Object(K.q)(e,r.id))return!1}return!(g&&!O)&&(!(u&&!v)&&!!(s||u||function(e,t){var n=t.message,r=be(n,Object(f.b)(e));if(Object(E.a)(n.subtype)){if(!Object(l.a)(["pinned_item","sh_room_created","sh_room_shared","reply_broadcast"],n.subtype))return!1}else if(!r)return!1;return!0}(e,{message:n})))}function We(e,t,n,r,a){return!!t&&(!!n&&(!!r&&(void 0!==a&&(n.user===t&&(!Object(E.a)(n.subtype)&&(!ie(n)&&("reply_broadcast"!==n.subtype&&("tombstone"!==n.subtype&&(!!Object(U.Pb)(t,r)||0!==a&&(!(a>-1&&(Date.now()-Object(x.a)(n.ts))/6e4>a)&&!(Object(f.j)(e,"feature_announce_only")&&(ue(n)&&!Object(K.r)(e,r.id)||!ue(n)&&!Object(K.q)(e,r.id)))))))))))))}function Qe(e,t){var n=t.message,r=t.channel;return!$(n)&&!Object(U.V)(r)}var Xe=["channel_join","channel_leave","group_join","group_leave","mpim_notify_disabled","app_conversation_join","app_conversation_leave","app_conversation_created"];function Ze(e,t){return!ne(e)&&(!!Je(e,t)||e.user!==t&&((!e.comment||e.comment.user!==t)&&(!Object(l.a)(Xe,e.subtype)&&!e.dnd_suppressed)))}function Je(e,t){return!("channel_join"!==e.subtype||!e.inviter||e.user!==t)||!("group_join"!==e.subtype||!e.inviter||e.user!==t)}function $e(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{ignoreAtHereMentions:!1,ignoreHighlightWords:!1,ignoreAtEveryoneMentions:!1,ignoreAtChannelMentions:!1};if("pinned_item"===e.subtype)return!1;var s={msg:e,memberId:t,highlightWords:n,teamId:r,options:o},c=!!e.blocks,l=le(e);return!(l||c||e.ignore_if_attachments_supported||!rt(a()({text:e.text},s)))||(!(l||!e.blocks||!et(e.blocks,s))||(!(!l||!function(e,t){var n=e.blocks[0],r=ue(e),a=!t.options.ignoreAtHereMentions,i=!r&&!t.options.ignoreAtChannelMentions,o=!r&&!t.options.ignoreAtEveryoneMentions,s=Object(D.getStateByTeamId)(t.teamId),c=!1,l=!1,u={here:!1,channel:!1,everyone:!1};function d(e){e.forEach(function(e){switch(e.type){case V.a.USER:c||e.user_id!==t.memberId||(c=!0);break;case V.a.USERGROUP:!l&&Object(j.e)(s,e.usergroup_id)&&(l=!0);break;case V.a.BROADCAST:u[e.range]=!0}})}for(var b=0;b<n.elements.length;b++){var p=n.elements[b];if(p.type===V.a.LIST)for(var h=0;h<p.elements.length;h++)d(p.elements[h].elements);else d(p.elements)}if(c||l)return!0;if(a&&u.here)return!0;if(i&&u.channel)return!0;if(o&&u.everyone)return!0;if(!t.options.ignoreHighlightWords){var m=Object(I.b)(n,t.highlightWords);if(m.length)return!0}return!1}(e,s))||!(!e.attachments||!function(e,t){return Object(i.a)(e,function(e){return!e.from_url&&(!!rt(a()({text:e.title},t))||(!!rt(a()({text:e.pretext},t))||(!!rt(a()({text:e.text},t))||(!!rt(a()({text:e.footer},t))||(!(!e.blocks||!et(e.blocks,t))||Object(i.a)(e.fields,function(e){return rt(a()({text:e.value},t))}))))))})}(e.attachments,s))))}function et(e,t){return Object(i.a)(e,function(e){return function(e,t){switch(e.type){case p.d.section:if(e.text&&nt(e.text,t))return!0;if(e.fields&&tt(e.fields,t))return!0;break;case p.d.context:if(e.elements&&tt(e.elements,t))return!0}return!1}(e,t)})}function tt(e,t){return Object(i.a)(e,function(e){return nt(e,t)})}function nt(e,t){return e.type===p.e.mrkdwn&&rt(a()({text:e.text},t))}function rt(e){var t=e.text,n=e.msg,r=e.memberId,a=e.highlightWords,i=e.teamId,o=e.options;if(!t)return!1;var s=ue(n);return!!Object(S.x)(r).test(t)||(!(o.ignoreAtHereMentions||!X.test(t))||(!(o.ignoreAtEveryoneMentions||s||!Y.test(t))||(!(o.ignoreAtChannelMentions||s||!W.test(t))||(!(o.ignoreAtChannelMentions||s||!Q.test(t))||(!!function(e,t){for(var n=new RegExp(F.a),r=n.exec(t);r;){var a=r[1];if(Object(j.e)(e,a))return!0;r=n.exec(t)}return!1}(Object(D.getStateByTeamId)(i),t)||!o.ignoreHighlightWords&&Object(I.a)(t,a).length>0)))))}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"bot_message"===e.subtype||t&&n}function it(e){var t=e.state,n=e.text,r=e.channelId,a=e.userId;return!Object(f.m)(t)||(!n||(!(Y.test(n)||W.test(n)||Q.test(n)||X.test(n))||!Object(U.Vb)(t,r,a)))}function ot(e,t){var n=t.message,r=t.channel;return function(e,t){var n=t.message,r=t.channel,a=!1;!n.is_ephemeral&&Object(f.i)(e)&&"pinned_item"!==n.subtype&&"unpinned_item"!==n.subtype&&"sh_room_created"!==n.subtype&&"sh_room_shared"!==n.subtype&&((Object(f.j)(e,"feature_sonic_pins")?Object(K.p)(e,r.id):Object(N.a)(r))&&!Object(y.j)(e,{channelId:r.id,ts:n.ts})&&(a=!0),"tombstone"===n.subtype&&(a=!1),Object(l.a)(["channel_join","channel_leave","group_join","group_leave"],n.subtype)&&(a=!1));return a}(e,{message:n,channel:r})||function(e,t){var n=t.message,r=t.channel,a=!1;return n.is_ephemeral||Object(f.i)(e)&&"pinned_item"!==n.subtype&&"unpinned_item"!==n.subtype&&"sh_room_created"!==n.subtype&&"sh_room_shared"!==n.subtype&&((Object(f.j)(e,"feature_sonic_pins")?Object(K.p)(e,r.id):Object(N.a)(r))&&Object(y.j)(e,{channelId:r.id,ts:n.ts})&&(a=!0),"tombstone"===n.subtype&&(a=!1)),a}(e,{message:n,channel:r})}function st(e,t){var n=t.message,r=t.channel,a=t.messageContainerType,i=Ye(e,{message:n,channel:r}),o=a!==p.C.THREADS_FLEXPANE&&a!==p.C.THREADS_VIEW,s=!1;return"thread_broadcast"===n.subtype&&o&&(s=i),s}function ct(e,t){var n=t.message,r=t.channel,a=t.ignoreMembership,o=t.ignoreImWithDeletedMmbr,s=me(n),c=Object(E.a)(s),l=Ae(n);if(c||l||$(n))return!1;var u,d=ue(n),b=Object(U.jb)(e,r),p=Object(U.W)(r)&&!Object(U.kb)(r);return!(d||b&&!o||p&&!a)&&(!(Object(f.j)(e,"feature_announce_only")&&!Object(U.l)(e,r))&&(!Object(k.a)(s)&&(!(u=n)||!(se(u.blocks)||u.attachments&&Object(i.a)(u.attachments,function(e){return se(e.blocks)})))))}function lt(e){return!Re(e)&&Le(e)}function ut(e){return Le(e)}function dt(e){return xe(e)}function bt(e,t){var n=t.user||Object(u.a)(t,"comment.user"),r=t.username,i=t.file||Object(d.a)(t.files),o=i?Object(v.h)(e,i):null,s=t.bot_id||o&&o.bot_id;if(!s){var c=Object(A.c)(e,n);s=Object(S.n)(c)}var l=null;if(s){var b=Object(G.c)(e,s);l=b?b.app_id:null}return n===S.c&&o&&o.bot_id?a()({},Object(H.l)(o),{username:r||o.username,botId:s,appId:l}):n?{appId:l,botId:s,userId:n}:{appId:l,botId:s,username:r}}function pt(e){if(!e||!e.pinned_info)return null;var t=e.pinned_info,n=t.pinned_by,r=t.pinned_ts;return n||r?{pinnedBy:n,pinnedTs:r}:null}function ht(e,t){var n=t.channel,r=t.message,a=t.file;if(!(e&&n&&r&&a))return!1;if(!ze(e,{message:r,channel:n}))return!1;var i=function(e){return e.x_files||[]}(r);return Object(l.a)(i,a.id)}function mt(e,t){if(!e)return"";var n="";if(e&&"tombstone"!==e.subtype){n=Object(c.a)(e.text)?e.text:"";var r=Object(d.a)(e.attachments);if(r&&r.is_msg_unfurl){var a=r.from_url&&e.text==="<"+r.from_url+">";n&&!a||(n=r.text)}}if(!n&&t){var i=Object(H.k)(t);i&&(n=i)}return n}function ft(e){return e.attachments}function vt(e,t){return Object(h.g)(e,"expand_inline_imgs")?Object(h.g)(e,"no_text_in_notifications")?null:t.attachments&&t.attachments.length>0&&t.attachments[0].image_url:null}function gt(e){return!!e&&(Y.test(e)||W.test(e)||Q.test(e))}function _t(e,t){var n=Object(o.a)(e,"ts","desc");return Object(b.a)(n,function(e){var n=me(e);return(!n||"me_message"===n||"thread_broadcast"===n)&&e.user===t})}function Ot(e,t,n){var r="/archives/"+e+"/p"+(t||"").replace(".","");return n&&n!==t?r+"?thread_ts="+n+"&cid="+e:r}function yt(e){var t=e.teamDomain,n=Ot(e.channelId,e.ts,e.threadTs),r=Object(L.h)(window.location.host);return"https://"+t+(r.envSubdomain?"."+r.envSubdomain:"")+".slack."+(r.isEU?"eu":"com")+n}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs;if(!Object(f.j)(e,"feature_react_threads"))return!1;var a=Object(O.d)(e,n);if(!a)return!1;var i=Object(_.a)(e,n,r);return!!i&&(!(!xe(i)||!i.thread_ts)||ct(e,{message:i,channel:a,ignoreMembership:!0}))}var kt=function(e,t){if(!e)return null;if(!t)return e.pinned_info?a()({},e,{pinned_info:void 0}):e;var n=t.pinnedBy,r=t.pinnedTs;return e.pinned_info&&e.pinned_info.pinned_by===n&&e.pinned_info.pinned_ts===r?e:a()({},e,{pinned_info:{pinned_by:n,pinned_ts:r}})},Et=function(e){switch(e){case p.C.MESSAGE_PANE:return z.z.MESSAGE_PANE;case p.C.THREADS_FLEXPANE:return z.z.THREAD;case p.C.DELETE_MSG_DIALOG:return z.z.DELETE_MSG_DIALOG;case p.C.ACTIVITY_FLEXPANE:return z.z.FLEXPANE_ACTIVITY;case p.C.UNREAD_VIEW:return z.z.ALL_UNREADS;case p.C.THREADS_VIEW:return z.z.ALL_THREADS;case p.C.STARS_FLEXPANE:return z.z.FLEXPANE_STARS;case p.C.HIGHLIGHTS_FLEXPANE:return z.z.CHANNEL_HIGHLIGHT;case p.C.SHARED_FILES_FLEXPANE:return z.z.FLEXPANE_SHARED_FILES;case p.C.PINS_FLEXPANE:return z.z.FLEXPANE_PINS;case p.C.PIN_ADD:return z.z.ADD_PIN;case p.C.PIN_REMOVE:return z.z.REMOVE_PIN;default:return z.z.MESSAGE_PANE}}},hOZo:function(e,t,n){},hPvj:function(e,t,n){"use strict";n.d(t,"e",function(){return y}),n.d(t,"a",function(){return j}),n.d(t,"d",function(){return E}),n.d(t,"c",function(){return C});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("EJiy"),l=n.n(c),u=n("OtLZ"),d=n("Muja"),b=n("NFsq"),p=n("m8R6"),h=n("aK/h"),m=n("mM05"),f=n.n(m),v=n("EzZj"),g=n("MNvw"),_=n("U/ze");function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelId,n=e.threadTs,r=[];return t&&r.push(t),n&&r.push(n),r.join("-")}var y=Object(v.b)("Store channel draft");y.propTypes={channelId:h.b.string.isRequired,threadTs:h.b.string,delta:h.b.object.isRequired,broadcast:h.b.bool,range:h.b.object};var j=Object(v.b)("Clear channel draft");j.propTypes={channelId:h.b.string.isRequired,threadTs:h.b.string};var k=Object(g.b)((r={},i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs,a=t.range,o=t.delta,c=t.broadcast;if("string"!=typeof n)return e;if("object"!==(void 0===o?"undefined":l()(o)))return e;var u=O({channelId:n,threadTs:r});if(!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delta,r=t.range,a=t.broadcast;return!e||a!==e.broadcast||!Object(d.a)(r,e.range)||new f.a(e.ops).diff(n).length()>0}(e.channelDrafts[u],{range:a,delta:o,broadcast:c}))return e;var p=void 0;return p=r||Object(b.a)(e.channelIds,n)?e.channelIds:e.channelIds.concat(n),s()({},e,{channelIds:p,channelDrafts:s()({},e.channelDrafts,i()({},u,{broadcast:c,ops:o.ops,range:a}))})}),i()(r,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.threadTs;if("string"!=typeof n)return e;var a=O({channelId:n,threadTs:r});return e.channelDrafts[a]?s()({},e,{channelIds:Object(u.a)(e.channelIds,n),channelDrafts:Object(p.a)(e.channelDrafts,a)}):e}),r),{channelIds:[],channelDrafts:{}},{persistenceEnabled:!0,persistImmediately:!0,scope:"org"});k.propTypes={channelIds:h.b.arrayOf(h.b.string),channelDrafts:h.b.objectOf(h.b.shape({ops:h.b.arrayOf(h.b.object),broadcast:h.b.bool,range:h.b.shape({index:h.b.number,length:h.b.number})}))},t.b=k;var E=Object(_.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O({channelId:t.channelId,threadTs:t.threadTs});return e&&e.drafts&&e.drafts.channelDrafts&&e.drafts.channelDrafts[n]}),C=Object(_.b)(function(e){return e&&e.drafts.channelIds})},hSQO:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("bcDH"),o=n("K2yZ"),s=n("ntJl"),c=n("1zbP"),l=n("Qrgz"),u=n("ERGU"),d=n("aJY5"),b=n("FHcd"),p=n("aLpA"),h=new(n("nNoG").b)("cmd_handlers"),m=p.P.CUSTOM_ERROR,f=Object(a.b)("/open slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.words,a=n.originalRest;if(1===r.length)return Object(u.c)(),Promise.resolve();var p=r[1];if(Object(b.a)(p)){var f="@"===p[0]?p.substr(1):p;return e(Object(s.startImByMemberId)({memberId:f})).catch(function(){var e=Error(m);return e.feedback=h.t("A valid member name is required."),Promise.reject(e)})}return e(Object(o.a)({name:a})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.channel,a=n.channelName;if(Object(c.b)(r))return e(Object(i.a)({channelId:r.id})).catch(function(){var e=Error(m);throw e.feedback=h.t("There was a problem joining \u201c{channel_name}\u201d, sorry!",{channel_name:a}),e});var o=t();if(Object(l.C)(o))return Object(d.a)(a),Promise.resolve();var s=Error(m);return s.feedback=h.t("I couldn\u2019t find a channel named \u201c{channel_name}\u201d, sorry!",{channel_name:a}),Promise.reject(s)})});f.propTypes={words:r.b.arrayOf(r.b.string.isRequired).isRequired,originalRest:r.b.string.isRequired},t.default=f},hUCq:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("F294"),a=n("0VPD"),i=n("lhZz"),o=n("6kok"),s=n("g5qt"),c=n("Smdl"),l=n("KXvl"),u=n("IY6O");function d(e){var t=e.state,n=e.channel,d=e.currentTeamId,b=e.preferredTeamId;if(!n||Object(o.nb)(n)||!t)return null;if(!Object(o.ab)(n))return d;if(!Object(c.a)()&&!s.X)return null;var p=Object(o.B)(t,n);if(!p||!p.length)return null;var h=function(){if(Object(c.a)()){var e=Object(i.getClientStoreInstance)().getState(),t=Object(u.getAllWorkspaces)(e),n=Object(u.getBootedWorkspaces)(e);return Object(a.a)(t,n)}return s.X?Object(s.M)():[]}();return h&&h.length?Object(c.a)()&&!Object(l.b)()?null:p.includes(b)&&h.includes(b)?b:Object(r.a)(Object(a.a)(h,p)):null}},hUMe:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("XHGt"),o=n("aK/h"),s=n("1zbP"),c=n("5mKg"),l=n("D4L/"),u=n("46+D"),d=(o.b.object,o.b.bool,o.b.bool,{team:void 0,invert:!1,bold:!0});function b(e){var t=e.team,n=e.bold,r=e.invert,i=Object(s.c)(t),o=Object(s.d)(t);if(i||o)return a.a.createElement(u.a,{type:i?"non-existent":"unknown",invert:r});var l=Object(c.e)(t);return n?a.a.createElement("strong",null,l):l}b.defaultProps=d;t.a=Object(i.b)(function(e,t){var n=t.id;return{team:Object(l.i)(e,n)}})(b)},hW7K:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("gSGL"),a=n("yHhI");function i(e){if(!e||!Object(r.a)(e))return e||{};try{return JSON.parse(e)}catch(e){return Object(a.b)().error("Could not parse JSON prefs"),{}}}},hW7Y:function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return C});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("vJtL"),f=n("RQuH"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("Qaea"),y=n("tn36"),j=n("cMxN"),k=n("4Rcn"),E=(n("eLtP"),300),C=60,I={instance:null,track:function(e){this.instance&&(this.instance.hideTip(),window.clearTimeout(this.instance.delayTimer)),this.instance=e},reset:function(){this.instance=null}},w=(v.b.element,v.b.string,v.b.number,v.b.bool,v.b.oneOfType([v.b.node,v.b.func]),v.b.string,v.b.number,v.b.string,v.b.oneOf(["success"]),v.b.number,v.b.number,v.b.oneOf(["above_fs","fs","menu","below_menu"]),v.b.bool,v.b.func,v.b.func,{position:"top",delay:150,shouldFade:!0,tip:null,tipClassName:null,tipArrowOffset:null,"data-qa":void 0,status:null,offsetX:0,offsetY:0,children:null,zIndex:"menu",shouldForceVisible:!1,onMouseEnter:void 0,onMouseLeave:void 0}),S=function(e){function t(){c()(this,t);var e=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object(y.a)(e,["onMouseMove","hideTip","measureContents","onMouseEnter","onMouseLeave","showTip","onFocus","onBlur"]),e.state={isHovering:!1,contentsRect:null},e.delayTimer=null,e.tooltipContent=null,e}return h()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=_.a.Children.only(this.props.children);if("function"==typeof e.type&&!(!!e.props.onMouseEnter&&!!e.props.onMouseLeave))throw new Error("Tooltip must contain a React component that can implement event handlers. Try wrapping the inside of your Tooltip with a `button`, `div` or `span`.")}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.shouldForceVisible;n&&this.props.shouldForceVisible!==n&&this.setState(function(){return{contentsRect:t.measureContents()}})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.delayTimer),window.removeEventListener("mousemove",this.onMouseMove),I.reset()}},{key:"onFocus",value:function(e){var t=_.a.Children.only(this.props.children);this.delayTimer=window.setTimeout(this.showTip,this.props.delay),this.tooltipContent=e.currentTarget,t.props.onFocus&&e.persist()&&e.persist(),t.props.onFocus&&t.props.onFocus(e),I.track(this)}},{key:"onBlur",value:function(e){this.props.shouldForceVisible||this.hideTip();var t=_.a.Children.only(this.props.children);t.props.onBlur&&e.persist&&e.persist(),t.props.onBlur&&t.props.onBlur(e),window.clearTimeout(this.delayTimer),I.reset()}},{key:"onMouseEnter",value:function(e){this.tooltipContent=e.currentTarget,this.delayTimer=window.setTimeout(this.showTip,this.props.delay);var t=_.a.Children.only(this.props.children),n=this.props.onMouseEnter;(t.props.onMouseEnter||n)&&e.persist&&e.persist(),t.props.onMouseEnter&&t.props.onMouseEnter(e),n&&n(e),window.addEventListener("mousemove",this.onMouseMove),I.track(this)}},{key:"onMouseLeave",value:function(e){this.props.shouldForceVisible||this.hideTip();var t=_.a.Children.only(this.props.children),n=this.props.onMouseLeave;(t.props.onMouseLeave||n)&&e.persist&&e.persist(),t.props.onMouseLeave&&t.props.onMouseLeave(e),n&&n(e),window.clearTimeout(this.delayTimer),window.removeEventListener("mousemove",this.onMouseMove),I.reset()}},{key:"onMouseMove",value:function(e){var t=this.state.contentsRect;if(t){var n=t.bottom,r=t.left,a=t.right,i=t.top,o=e.pageX,s=e.pageY;Object(f.a)(o,r,a)&&Object(f.a)(s,n,i)||this.onMouseLeave(e)}}},{key:"measureContents",value:function(){if(this.tooltipContent){var e=Object(O.findDOMNode)(this.tooltipContent).getBoundingClientRect(),t=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;return{width:e.width,height:e.height,left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}return null}},{key:"showTip",value:function(){var e=this;this.setState(function(){return{isHovering:!0,contentsRect:e.measureContents()}})}},{key:"hideTip",value:function(){this.setState(function(){return{isHovering:!1,contentsRect:null}})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.position,r=e.tip,i=e.tipClassName,s=e.tipArrowOffset,c=e.status,l=e.offsetX,u=e.offsetY,d=e.zIndex,b=e.shouldFade,p=e["data-qa"],h=e.shouldForceVisible,f=o()(e,["children","position","tip","tipClassName","tipArrowOffset","status","offsetX","offsetY","zIndex","shouldFade","data-qa","shouldForceVisible"]),v=this.state,O=v.isHovering,y=v.contentsRect,E=void 0;s?E=s:y&&(E=y.width/2);var C={position:n,arrowOffset:E,status:c,className:i,"data-qa":p},I=(O||h)&&!!y,w=I&&_.a.createElement(j.a,{isOpen:I,position:n,targetBounds:y,overlayClassName:"c-popover c-popover--no-pointer",offsetX:l,offsetY:u,allowanceX:0,allowanceY:0,key:"tooltip-popover",zIndex:d,shouldFocusAfterRender:!1,shouldFade:b,ariaHideApp:!1},_.a.createElement(k.a,C,Object(m.a)(r)?r():r)),S=_.a.Children.only(t),T=_.a.cloneElement(S,a()({},f,S.props,{onClick:f.onClick||S.props.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur}));return _.a.createElement(g.Fragment,null,T,w)}}]),t}(g.PureComponent);S.displayName="Tooltip",S.defaultProps=w,t.c=S},hWsQ:function(e,t,n){"use strict";function r(e){return!!(e&&e.insert&&e.attributes&&e.attributes.code)}n.d(t,"a",function(){return r})},hXS5:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.archives.adjustFooterForArchiveView",r.a),o=Object(a.b)("TS.client.archives.unAdjustFooterForArchiveView",r.a),s=Object(a.b)("TS.client.archives.displayCrossWorkspaceAlertOrDeeplink",r.a)},hXpn:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("TGBA"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=n("aK/h"),_=n("lQgN"),O=n("kd6D"),y=(n("PPyR"),g.b.string,g.b.node.isRequired,g.b.node,g.b.oneOf(Object(p.a)(O.b)),g.b.oneOf(Object(p.a)(O.c)),{className:void 0,secondaryContent:void 0,size:O.b.medium,style:O.c.normal}),j=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.primaryContent,r=e.secondaryContent,i=e.size,o=e.style;return m.a.createElement("div",a()({className:v()(t,"c-base_list_entity","c-base_list_entity--"+i,{"c-base_list_entity--dim":o===O.c.dim,"c-base_list_entity--highlight-dark":o===O.c.highlightDark,"c-base_list_entity--highlight-dim":o===O.c.highlightDim,"c-base_list_entity--highlight-light":o===O.c.highlightLight})},Object(_.a)(this.props)),m.a.createElement("div",{className:"c-base_list_entity__primary_content"},n),r&&m.a.createElement("div",{className:"c-base_list_entity__secondary_content"},r))}}]),t}(h.Component);j.displayName="BaseListEntity",j.defaultProps=y,t.a=j},hcpk:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("UXvI"),f=n("ifKl"),v=n("TSYQ"),g=n.n(v),_=n("aK/h"),O=n("kxpR"),y=n.n(O),j=n("BWAg");function k(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-15,i=[r.x-t.x,r.y-t.y],o=[n.x-t.x,n.y-t.y],s=[e.x-t.x,e.y-t.y],c=i[0]*i[0]+i[1]*i[1],l=i[0]*o[0]+i[1]*o[1],u=i[0]*s[0]+i[1]*s[1],d=o[0]*o[0]+o[1]*o[1],b=o[0]*s[0]+o[1]*s[1],p=1/(c*d-l*l),h=(d*u-l*b)*p,m=(c*b-l*u)*p;return h>=-a&&m>=-a&&h+m<1+a}function E(e,t,n){var r=Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2),a=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return a<0?Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2):a<=1?Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)-Math.pow(a,2)*r:Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)}function C(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-15;if(!function(e,t,n,r,a){var i=Math.min(t.x,Math.min(n.x,r.x))-a,o=Math.max(t.x,Math.max(n.x,r.x))+a,s=Math.min(t.y,Math.min(n.y,r.y))-a,c=Math.max(t.y,Math.max(n.y,r.y))+a;return e.x>i&&e.x<o&&e.y>s&&e.y<c}(e,t,n,r,a))return!1;var i=Math.pow(a,2);return k(e,t,n,r,0)||E(e,t,n)<=i||E(e,n,r)<=i||E(e,r,t)<=i}var I=n("J47P"),w=(n("W80F"),50),S=(_.b.bool,_.b.func,_.b.number,_.b.func.isRequired,_.b.bool,_.b.func,_.b.func,_.b.func,_.b.bool,_.b.bool,_.b.object,_.b.bool,{highlighted:!1,menuCallback:f.a,menuCallbackId:null,kbNavActive:!1,returnKBNav:f.a,preventHighlightChange:f.a,allowHighlightChange:f.a,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:{},disabled:!1}),T=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:n.props.highlighted,mouseCoordinates:{},mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},n.closeSubmenu=n.closeSubmenu.bind(n),n.setSubmenuRef=n.setSubmenuRef.bind(n),n.setTriggerRef=n.setTriggerRef.bind(n),n.onMouseMove=Object(m.a)(n.onMouseMove.bind(n),w),n.onSubmenuItemSelected=n.onSubmenuItemSelected.bind(n),n.preventHighlightChange=n.preventHighlightChange.bind(n),n.allowHighlightChange=n.allowHighlightChange.bind(n),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.state.isOpen&&window.document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.highlighted!==e.highlighted&&this.setState(function(){return{isOpen:e.highlighted}},function(){t.state.isOpen?(t.forceUpdate(),window.document.addEventListener("mousemove",t.onMouseMove)):window.document.removeEventListener("mousemove",t.onMouseMove)})}},{key:"componentDidUpdate",value:function(){this.state.isOpen||(this.initialTriggerBounds=void 0)}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){var t={x:e.clientX,y:e.clientY},n=this.mouseProgressingTowardsSubmenu(t);n!==this.state.mouseProgressingTowardsSubmenu&&(n?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(function(){return{mouseCoordinates:t,mouseProgressingTowardsSubmenu:n}})}},{key:"onSubmenuItemSelected",value:function(){this.props.menuCallback(this.props.menuCallbackId)}},{key:"getContentBounds",value:function(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():{}}},{key:"getTriggerBounds",value:function(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||{}}},{key:"getSubmenuContainerStyle",value:function(){var e=this.getContentBounds(),t=this.getTriggerBounds(),n=o()({},this.props.submenuStyle);if(void 0===e.width||void 0===t.left)return n;var r=t.right+e.width>window.innerWidth,a=t.left>e.width,i=this.props.forceLeft||r&&a;n.left=i?t.left-e.width+2:t.right-2;var s=t.top-12,c=s+e.height>window.innerHeight-10;return n.top=c?window.innerHeight-10-e.height:s,n}},{key:"setSubmenuRef",value:function(e){this.submenuContainer=e}},{key:"setTriggerRef",value:function(e){this.trigger=e}},{key:"preventHighlightChange",value:function(){this.setState(function(e){return o()({},e,{highlightChangePrevented:!0})})}},{key:"allowHighlightChange",value:function(){this.setState(function(e){return o()({},e,{highlightChangePrevented:!1})})}},{key:"closeSubmenu",value:function(){var e=this;this.props.returnKBNav(),this.setState(function(){return{isOpen:!1}},function(){window.document.removeEventListener("mousemove",e.onMouseMove)})}},{key:"mouseProgressingTowardsSubmenu",value:function(e){var t=this.state.mouseCoordinates,n=this.getContentBounds(),r=n.left,a=n.right,i=n.top,o=n.bottom;if(e.x>=r&&e.x<=a&&e.y>=i&&e.y<=o)return!0;var s=Math.abs(a-t.x)>Math.abs(r-t.x),c={x:s?r:a,y:i-1},l={x:s?r:a,y:o+1};return C(e,{x:s?t.x-1:t.x+1,y:t.y},c,l)}},{key:"renderSubmenu",value:function(){if(!this.state.isOpen||this.props.disabled)return null;var e=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange}),t=this.getSubmenuContainerStyle(),n=g()("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return y.a.createElement("div",{role:"presentation",className:n,ref:this.setSubmenuRef,style:t,"data-qa":"submenu_container"},e)}},{key:"render",value:function(){var e=this.props,t=(e.menuCallback,e.menuCallbackId,a()(e,["menuCallback","menuCallbackId"]));return y.a.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},y.a.createElement(j.a,o()({},t,{withSubmenu:!0})),this.renderSubmenu())}}]),t}(O.PureComponent);T.displayName="Submenu",T.defaultProps=S;t.a=Object(I.a)(T)},hhak:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("uf9I"),o=n("D4L/"),s=n("clTI"),c=n("aW/o"),l=n("cTgs"),u=n("Qk/F"),d=n("b+9+"),b=n("HvGc"),p=n("2HDu"),h=n("sDWr"),m=n("g5qt"),f=n("Smdl"),v=n("yHhI"),g=n("cErB"),_=n("CpTu"),O=n("lhZz"),y=n("IY6O");function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.subdomain;if(Object(f.a)()){var r=Object(O.getClientStoreInstance)().getState(),a=Object(y.getBootedWorkspaces)(r);if(t&&a.includes(t))return t;if(n){var i=Object(y.getWorkspaceMetaBySubdomain)(r,n);if(i&&a.includes(i.id))return i.id}}else if(m.X){var o=Object(m.O)();if(t&&o[t])return t;if(n){var s=Object(_.a)(o,function(e){return e.team_url&&e.team_url.startsWith("https://"+n+".")});if(s)return s.team_id}}return null}var k=n("hUCq"),E=Object(a.b)("Jumps to a message in another workspace via Desktop XWS navigation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.threadTs,o=n.teamId,s=n.subdomain;if(Object(f.a)())return Promise.reject(new Error("jumpViaDesktopNavigation called in Sonic"));if(!Object(m.W)())return Promise.reject(new Error("jumpViaDesktopNavigation called but crossWorkspaceNavigation is not supported"));var c=j({teamId:o,subdomain:s});return c?(Object(v.a)({getState:t,label:"JUMP-TO-MESSAGE"}).info("jumpViaDesktopNavigation",{channelId:r,ts:a,threadTs:i,teamId:o,subdomain:s}),Object(m.n)({teamId:c,channelId:r,messageTs:a,threadTs:i}),Promise.resolve()):Promise.reject(new Error("Unable to find workspace with subdomain "+s))});E.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,threadTs:r.b.string,teamId:r.b.string,subdomain:r.b.string};var C=Object(a.b)("Jumps to a message in another workspace via deeplink",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.threadTs,o=n.teamId,s=n.subdomain;if(Object(f.a)())return Promise.reject(new Error("jumpViaDeeplink called in Sonic"));var c=j({teamId:o,subdomain:s});if(!c)return Promise.reject(new Error("Unable to find workspace with subdomain "+s));Object(v.a)({getState:t,label:"JUMP-TO-MESSAGE"}).info("jumpViaDeeplink",{channelId:r,ts:a,threadTs:i,teamId:o,subdomain:s});var l={team:c,id:r,message:a};i&&(l.thread_ts=i);var u="slack://channel"+Object(g.k)(l),d=document.createElement("iframe");return d.src=u,new Promise(function(e){window.addEventListener("blur",e),document.body.appendChild(d)}).timeout(1e3).finally(function(){d.remove()})});C.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,threadTs:r.b.string,teamId:r.b.string,subdomain:r.b.string};var I=Object(a.b)("Jumps to a message in another workspace via navigateToRoute",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,i=n.threadTs,o=n.teamId,s=n.subdomain;if(!Object(f.a)())return Promise.reject(new Error("jumpViaRoutes called outside Sonic"));var c=j({teamId:o,subdomain:s});return c?(Object(v.a)({getState:t,label:"JUMP-TO-MESSAGE"}).info("jumpViaRoutes",{channelId:r,ts:a,threadTs:i,teamId:o,subdomain:s}),e(i&&i!==a?Object(u.a)({teamId:c,routeName:h.k,flexName:"thread",flexParams:{threadId:Object(p.c)(r,i),replyTs:a}}):Object(l.a)({teamId:c,id:r,startTs:a}))):Promise.reject(new Error("Unable to find workspace with subdomain "+s))});I.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,threadTs:r.b.string,teamId:r.b.string,subdomain:r.b.string};var w=Object(a.b)("Jumps to a message in the client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.ts,u=n.threadTs,p=n.teamId,h=n.subdomain,v=t(),g=Object(s.d)(v,r,!1),_=Object(i.b)(v),O=Object(o.i)(v,_),y=O&&O.domain,w=p===_||h===y,S=j({teamId:p,subdomain:h}),T=Object(k.a)({state:v,channel:g,currentTeamId:_,preferredTeamId:S})||w&&_||S;if(!T)return Promise.reject(new Error("jumpToMessage: Could not find suitable target workspace"));if(T!==_)return Object(f.a)()?e(I({channelId:r,ts:a,threadTs:u,teamId:T,subdomain:h})):Object(m.W)()?e(E({channelId:r,ts:a,threadTs:u,teamId:T,subdomain:h})):e(C({channelId:r,ts:a,threadTs:u,teamId:T,subdomain:h}));var R=Object(c.a)(v);return u&&u!==a?e(Object(b.l)({channelId:r,threadTs:u,highlightTs:a})):R===r?(e(Object(d.c)({ts:a,highlight:!0,highlightLazy:!0})),Promise.resolve()):e(Object(l.a)({id:r,startTs:a}))});w.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,threadTs:r.b.string,teamId:r.b.string,subdomain:r.b.string};t.a=w},hjTk:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("LaJC");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=document.createElement("a"),a=Object(r.b)(e);if(!a)return!1;var i=a.href,o=a.rel;return n.href=i,n.rel=o,n.target=t,n.addEventListener("click",function(e){e.stopPropagation()}),document.body.appendChild(n),n.click(),n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n),!0}},hk86:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return p});var r=n("aK/h"),a=n("EzZj"),i=n("yPgC"),o=Object(a.b)("add a member to the store");o.propTypes=r.b.shape({id:r.b.string.isRequired}).isRequired;var s=Object(a.b)("bulk add members to the store");s.propTypes=r.b.arrayOf(r.b.shape({id:r.b.string.isRequired}));var c=Object(a.b)("remove a member from the store");c.propTypes=r.b.shape({id:r.b.string.isRequired});var l=Object(a.b)("bulk remove members from the store");l.propTypes=r.b.arrayOf(r.b.shape({id:r.b.string.isRequired}));var u=Object(a.b)("remove all members from the store except slackbot and the array of members passed in");u.propTypes=r.b.arrayOf(r.b.shape({id:r.b.string.isRequired}));var d=Object(a.b)("remove profile fields from all members in the store");d.propTypes=r.b.shape({fieldsToDelete:r.b.arrayOf(r.b.string)});var b=Object(a.b)("remove profile fields with invalid values from the users profiles");b.propTypes=r.b.shape({fields:r.b.arrayOf(i.a.TeamProfileField).isRequired});var p=Object(a.b)("indicate that the current member\u2019s permissions have changed (used by side effects)");p.propTypes=r.b.shape({user:r.b.object.isRequired})},hmiP:function(e,t,n){"use strict";n.d(t,"b",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Sets the last-ekm-change timestamp");d.propTypes=s.b.string;var b={ekmTs:Math.floor(Date.now()/1e3)+".000000"},p=Object(l.b)(a()({},d,function(e,t){return void 0===t||t===e.ekmTs?e:o()({},e,{ekmTs:t})}),b,{persistenceEnabled:!0});p.propTypes={ekmTs:s.b.string},t.a=p;var h=Object(u.b)(function(e){return e&&e.ekmChanges&&e.ekmChanges.ekmTs})},hoim:function(e,t,n){},hpgS:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.threads.setThreadsUnreadDataFromUsersCounts",r.a),o=Object(a.b)("TS.client.threads.getMessage"),s=Object(a.b)("TS.client.threads.maybeReloadThreadsView")},hqVG:function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return C});var r=n("UXvI"),a=n("SVmU"),i=n("Z0v/"),o=n("Zr7G"),s=n("q2TN"),c=n("xtGC"),l=n("yHhI"),u=n("iJtp"),d=n("jzln"),b=n("Smdl"),p=n("pR3f"),h=n("lru1"),m=n("lhZz"),f=n("eK5+"),v=n("Z7Ay"),g=n("3bKq"),_=n("Gogr"),O=Object(f.a)(100),y=void 0;function j(){y=null}function k(e){y=e}var E={};function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(m.getStoreInstanceByTeamId)(e),n=E[e],r=Object(o.a)(),a=Object(l.a)({teamId:e});a.info(i.x,"Persisting state to storage"),O&&r.mark(i.d+"_persistence_write_mark_"+i.e),n.update(t.getState()),n.flush().then(function(){var e=void 0;O&&(e=r.measureAndClear(i.d+"_persistence_write_mark_"+i.e)),a.info(i.x,"Persisted state"+(e?": "+e.toFixed(1)+"ms":""))}).catch(function(){O&&r.clearMarks(i.d+"_persistence_write_mark_"+i.e)})}t.b=function(e){return function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),f=1;f<n;f++)o[f-1]=arguments[f];var O=y,j=Object(i.k)(t);O&&j&&Object(i.B)(O,j);var k=Object(d.a)()||Object(u.a)(),I=void 0!==g.a&&Object(b.a)()&&(!k||!1);if(!I)return e.apply(void 0,[t].concat(o));if(I&&!O)return Object(l.b)().error(new Error("Redux persist enhancer cannot find a team id. Redux persist will be disabled")),e.apply(void 0,[t].concat(o));var w=void 0,S=void 0,T=t,R=Object(l.a)({teamId:O});if(I){var N=Object(g.a)({teamId:O,reducerConfig:j});T=Object(a.e)(N,t),Object(i.A)({reducer:T,reducerConfig:j}),w=Object(a.b)(N),E[O]=w,S=Object(p.a)(T)}var x=e.apply(void 0,[T].concat(o)),M=x._initStore;if(x._initStore=function(e){M&&M(e),S&&e.dispatch(Object(h.a)(S))},I){var P=function(){C(O,x)},A=x.subscribe(Object(r.a)(P,i.g,{trailing:!0,leading:!1})),D=Object(r.a)(function(){R.info(i.x,"Persisting state to storage because we just lost network connectivity"),P()},i.h,{leading:!0});window.addEventListener("offline",D),window.addEventListener("beforeunload",function(){var e=Object(_.c)("orderedTeamIds");Array.isArray(e)&&!1===e.includes(O)?R.info(i.x,"Not persisting state to storage even though the window is about to unload - teamId not found in sidebar"):(Object(m.dispatchForTeamId)(O,Object(s.a)()),Object(c.c)(),R.info(i.x,"Persisting state to storage because the window is about to unload"),P())}),Object(v.c)(O,"persist.reduxPersist",{getPersistoid:function(){return R.info("DEBUG","Getting Redux Persist persistoid object"),w},persist:function(){R.info("DEBUG","Persisting state to Redux Persist"),P()},get:function(){var e=void 0,t=Object(v.d)("reduxPersist.getStoredModel");return t?(R.info("DEBUG","Getting stored model from Redux Persist"),e=t(O).tap(function(e){R.info("DEBUG",e)})):R.info("DEBUG","Cannot get cache: `slackDebug.reduxPerist.getStoredModel` does not exist"),e},clear:function(){var e=Object(v.d)("reduxPersist.purgeStoredModel");e?(R.info("DEBUG","Clearing cache from Redux Persist"),e(O)):R.info("DEBUG","Cannot clear cache: `slackDebug.reduxPersist.purgeStoredModel` is missing")},stop:function(){R.info("DEBUG","No longer running Redux Persist"),A()}})}return x}}},hrfv:function(e,t,n){},hrxL:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=window.navigator&&"function"==typeof window.navigator.sendBeacon;function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiUrl,n=e.method,a=e.token,i=e.args,o=void 0===i?{}:i,s=e.versionTs,c=void 0===s?"":s,l=e.versionUid,u=!1,d=""+t+n+"?_x_id="+(void 0===l?"":l).substring(0,8)+"-"+Date.now()/1e3,b=new FormData;if(b.append("token",a),Object.keys(o).forEach(function(e){return b.append(e,o[e])}),r)u=navigator.sendBeacon(d,b);else{var p=new XMLHttpRequest;p.addEventListener("load",function(){var e=p.readyState,t=p.status;e===p.DONE&&200===t&&(u=!0)}),p.open("POST",d,!0),p.setRequestHeader("X-Slack-Version-Ts",c),p.send(b)}return u}},hu7Z:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={EDIT:"EDIT",SEARCH_RESULTS:"SEARCH_RESULTS"}},i1Fx:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r=n("ROZo"),a=Object(r.b)("TS.calls.closeCall"),i=Object(r.b)("TS.utility.calls.maybeHandleCallLink",function(){return!0}),o=Object(r.b)("TS.utility.calls.startCallInModelOb",function(){return!0});Object(r.b)("TS.utility.calls.isEnabled",function(){return!0})},i26o:function(e,t,n){"use strict";var r=n("FYw3"),a=n.n(r),i=n("tfYw"),o=n.n(i),s=n("mRg0"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("zmn3"),h=n("weu1"),m=n("Z0Cl"),f=n("1myf"),v=n("YfG3"),g=n("6kok"),_=n("Fdc0");var O=n("bsix"),y=n("Zhz1"),j=n("Y+74"),k=n("hoZp"),E=n("X6iR"),C=n("owWc"),I=n("xpYl"),w=n("ZP0B"),S=n("BlE4"),T=n("uwE/"),R=n("clTI"),N=n("DtX9");var x={testing:{frecency:.01,type_navigation_user:4,type_navigation_channel:4,query_suggestion_score_v2:3,type_navigation_expert_channel:2,bm25_score:1},omni_searchy_4:{frecency:1.1476922470087834,type_user_query:.7242274861630449,active_token_string:.5091210868272409,string_exact_prefix_match:.4473882102978574,string_normal_prefix_match:.4174854676763236,active_token_filter_from:.11982976175147272,type_navigation_user:.04328316973208432,active_token_filter_in:.041924677045809634,string_same_number_words:.03030822909033288,excess_string_length:.021495421766106693,active_token_member:.020117298305805716,active_token_filter_has:.010244416908843007,query_suggestion_score_v2:.005311483943224523,active_token_filter_on:.002133225438879183,string_exact_match:.001536086446480405,active_token_filter_after:.0008702749331598862,active_token_filter_to:.0008280126216935454,active_token_phrase:.000814404352834007,active_token_filter_during:.0005207849332114936,active_token_filter_before:.0002498925634431384,type_query_history:53668528358342567e-21,channel_is_previous_name_exact_match:0,type_navigation_team:-.0003494770355693586,type_navigation_view:-.0005426994119274405,string_normal_match:-.004214223034122242,type_navigation_channel:-.008150351233592024,type_navigation_mpim:-.022225030262950845,active_token_query_suggestion:-.028744175300750713,type_query:-.0459128028133195,file_suggestion_score:-.05407951455391166,type_navigation_file:-.12608816012747595},omni_switchy_4:{frecency:2.982665132735589,type_navigation_user:.04669828937973329,type_navigation_channel:.045207768321993025,query_suggestion_score_v2:.0022287107075314844,type_query_history:45206221423777636e-21,active_token_member:11745873760226744e-21,string_exact_match:5085620580955181e-21,active_token_phrase:-10898440122046435e-22,active_token_filter_during:-25062013434418754e-21,active_token_filter_on:-4100940208277594e-20,active_token_filter_has:-6211696567956822e-20,active_token_filter_after:-6826428005792926e-20,active_token_filter_before:-6855090713992416e-20,file_suggestion_score:-.00021533656437480958,string_normal_match:-.00022069875318561893,type_navigation_team:-.00030202669819422254,type_navigation_view:-.0006408051647164216,active_token_filter_in:-.0012802002018121124,active_token_filter_to:-.002875943717769534,type_navigation_file:-.0031597551882925137,active_token_filter_from:-.010322864424329612,string_same_number_words:-.014944236335573615,type_navigation_mpim:-.015722853686448386,active_token_query_suggestion:-.020697117482285813,type_query:-.03411362880668276,active_token_string:-.036630952779041326,type_user_query:-.03794088928542342,string_exact_prefix_match:-.057711001891679506,string_normal_prefix_match:-.059522684502442094,excess_string_length:-.22513647037329215},omni_searchy_6:{type_user_query:1.333653,active_token_string:.902385,string_exact_prefix_match:.766067,string_normal_prefix_match:.723335,user_is_active:.444894,type_navigation_user:.40017,frecency:.33156,excess_string_length:.281126,user_dm_read_age_decay_7d:.179122,user_dm_read_age_decay_2h:.045241,active_token_member:.028601,active_token_filter_after:.025111,active_token_filter_on:.022078,query_suggestion_score:.016397,mpim_read_age_decay_7d:.006856,active_token_filter_before:.006605,nav_exact_prefix_match:.00611,active_token_filter_has:.005495,user_dm_is_starred:.003828,mpim_read_age_decay_2h:.003049,user_dm_is_unread:.002375,active_token_phrase:.001896,active_token_filter_in:808e-6,mpim_is_starred:292e-6,channel_is_previous_name_prefix_match:163e-6,mpim_is_unread:154e-6,active_token_filter_during:66e-6,type_query_history:-28e-6,string_exact_match:-259e-6,channel_is_previous_name_exact_match:-374e-6,type_navigation_view:-.001346,channel_is_other_team:-.001908,channel_is_unread:-.002171,type_navigation_mpim:-.003289,type_navigation_team:-.005459,channel_priority:-.006494,channel_read_age_decay_2h:-.009216,channel_is_starred:-.014005,active_token_filter_to:-.016269,string_normal_match:-.018459,channel_read_age_decay_7d:-.021621,user_is_current_user:-.023821,channel_is_archived:-.024921,file_suggestion_score:-.032473,string_same_number_words:-.045683,channel_is_member:-.053426,nav_exact_match:-.063215,nav_normal_match:-.100002,type_navigation_file:-.103173,active_token_query_suggestion:-.117972,type_navigation_channel:-.126613,nav_excess_string_length:-.211885,active_token_filter_from:-.342158,type_query:-.816952},omni_switchy_6:{type_navigation_user:.365751,user_is_active:.357427,frecency:.298516,user_dm_read_age_decay_7d:.229649,nav_exact_prefix_match:.148009,user_dm_read_age_decay_2h:.099623,nav_excess_string_length:.089705,nav_normal_match:.054443,channel_read_age_decay_7d:.038261,mpim_read_age_decay_7d:.037642,channel_is_member:.03669,type_navigation_channel:.033519,nav_exact_match:.026936,mpim_read_age_decay_2h:.02393,channel_read_age_decay_2h:.023718,user_dm_is_starred:.017707,user_is_current_user:.01134,user_dm_is_unread:.008923,channel_priority:.008446,channel_is_unread:.008288,channel_is_previous_name_prefix_match:.005809,channel_is_starred:.005233,query_suggestion_score:.002983,mpim_is_unread:.001315,channel_is_previous_name_exact_match:.001089,mpim_is_starred:.001063,file_suggestion_score:39e-5,channel_is_other_team:201e-6,active_token_member:159e-6,type_navigation_view:4e-5,type_query_history:26e-6,active_token_phrase:9e-6,active_token_filter_during:-0,active_token_filter_before:-5e-6,string_exact_match:-7e-6,active_token_filter_after:-21e-6,active_token_filter_to:-86e-6,active_token_filter_on:-99e-6,active_token_filter_has:-219e-6,active_token_filter_in:-306e-6,type_navigation_team:-307e-6,string_normal_match:-369e-6,type_navigation_file:-903e-6,channel_is_archived:-.005823,type_navigation_mpim:-.009445,string_same_number_words:-.014252,active_token_query_suggestion:-.01864,active_token_string:-.024812,type_user_query:-.028253,string_exact_prefix_match:-.042589,string_normal_prefix_match:-.044278,excess_string_length:-.145261,active_token_filter_from:-.344302,type_query:-.360099}},M=function(e){function t(e){u()(this,t);var n=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.AutocompleteModelWeightsMap=x,n}return c()(t,e),b()(t,[{key:"weightForFeature",value:function(e,t){return x[t][e.name]?x[t][e.name]:0}},{key:"featuresVersion",get:function(){return"v7"}}],[{key:"fromSuggestion",value:function(e){var t=Date.now()/1e3;return new this([new B(e),new A("query_suggestion_score"),new q("type_navigation_channel",T.b.CHANNEL_NAVIGATION,e),new q("type_navigation_file",T.b.FILE_NAVIGATION,e),new q("type_navigation_mpim",T.b.MPIM_NAVIGATION,e),new q("type_navigation_user",T.b.USER_NAVIGATION,e),new q("type_query",T.b.QUERY,e),new q("type_query_history",T.b.QUERY_HISTORY,e),new F("active_token_filter_in",T.a.FILTER_IN,e),new F("active_token_filter_from",T.a.FILTER_FROM,e),new F("active_token_filter_to",T.a.FILTER_TO,e),new F("active_token_filter_before",T.a.FILTER_BEFORE,e),new F("active_token_filter_during",T.a.FILTER_DURING,e),new F("active_token_filter_on",T.a.FILTER_ON,e),new F("active_token_filter_after",T.a.FILTER_AFTER,e),new F("active_token_filter_has",T.a.FILTER_HAS,e),new F("active_token_member",T.a.MEMBER,e),new F("active_token_string",T.a.STRING,e),new F("active_token_phrase",T.a.PHRASE,e),new V("string_exact_match",e,W),new V("string_exact_prefix_match",e,Q),new V("string_normal_match",e,X),new V("string_normal_prefix_match",e,Z),new V("string_same_number_words",e,$),new G("excess_string_length",e,ee),new D(e),new H(e),new F("active_token_query_suggestion",T.a.API,e),new U(e),new q("type_navigation_expert_channel",T.b.EXPERT_CHANNEL_NAVIGATION,e),new K(e),new q("type_navigation_team",T.b.TEAM_NAVIGATION,e),new q("type_navigation_view",T.b.VIEW_NAVIGATION,e),new q("type_user_query",T.b.QUERY_USER,e),new G("nav_excess_string_length",e,ee,G.textOrNullFromNavigationalSuggestion),new V("nav_exact_match",e,W,G.textOrNullFromNavigationalSuggestion),new V("nav_exact_prefix_match",e,Q,G.textOrNullFromNavigationalSuggestion),new V("nav_normal_match",e,X,G.textOrNullFromNavigationalSuggestion),new V("channel_is_previous_name_exact_match",e,Object(I.a)(J,W),function(e){return e.channel?e.channel.previous_names:null}),new V("channel_is_previous_name_prefix_match",e,Object(I.a)(J,Q),function(e){return e.channel?e.channel.previous_names:null}),new Y("channel_is_archived",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.V)(t)}),new Y("channel_is_member",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.kb)(t)}),new Y("channel_is_starred",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.Eb)(t)}),new Y("mpim_is_starred",e,T.b.MPIM_NAVIGATION,function(e,t){return Object(g.Eb)(t)}),new Y("channel_is_unread",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.Kb)(t)}),new Y("mpim_is_unread",e,T.b.MPIM_NAVIGATION,function(e,t){return Object(g.Kb)(t)}),new Y("channel_is_other_team",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.ab)(t)}),new Y("user_is_active",e,T.b.USER_NAVIGATION,function(e,t){return Object(_.W)(t)}),new Y("user_is_current_user",e,T.b.USER_NAVIGATION,function(e,t){return t&&t.id===Object(N.b)(e).id}),new Y("user_dm_is_starred",e,T.b.USER_NAVIGATION,function(e,t){return te(e,t,g.Eb)}),new Y("user_dm_is_unread",e,T.b.USER_NAVIGATION,function(e,t){return te(e,t,g.Kb)}),new z("channel_priority",e,T.b.CHANNEL_NAVIGATION,function(e,t){return Object(g.O)(t)}),new z("channel_read_age_decay_7d",e,T.b.CHANNEL_NAVIGATION,function(e,n){return ne(t,Object(g.D)(n),604800)}),new z("channel_read_age_decay_2h",e,T.b.CHANNEL_NAVIGATION,function(e,n){return ne(t,Object(g.D)(n),7200)}),new z("mpim_read_age_decay_2h",e,T.b.MPIM_NAVIGATION,function(e,n){return ne(t,Object(g.D)(n),7200)}),new z("mpim_read_age_decay_7d",e,T.b.MPIM_NAVIGATION,function(e,n){return ne(t,Object(g.D)(n),604800)}),new z("user_dm_read_age_decay_7d",e,T.b.USER_NAVIGATION,function(e,n){return ne(t,te(e,n,g.D),604800)}),new z("user_dm_read_age_decay_2h",e,T.b.USER_NAVIGATION,function(e,n){return ne(t,te(e,n,g.D),7200)}),new G("channel_excess_string_length",e,ee,function(e){return G.textOrNullFromSuggestionWithType(e,T.b.CHANNEL_NAVIGATION)}),new G("user_excess_string_length",e,ee,function(e){return G.textOrNullFromSuggestionWithType(e,T.b.USER_NAVIGATION)}),new G("mpim_excess_string_length",e,ee,function(e){return G.textOrNullFromSuggestionWithType(e,T.b.MPIM_NAVIGATION)})])}}]),t}(function(){function e(t){u()(this,e),this.featureList=t}return b()(e,[{key:"weightForFeature",value:function(e,t){return 1}},{key:"valueForFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.featureList.find(function(t){return t.name===e});return t?n.stringValue||"":n.numericValue||0}},{key:"score",value:function(e){var t=this;return Object(C.a)(this.featureList,function(n,r){return n+t.weightForFeature(r,e)*(r.numericValue||0)},0)}},{key:"featuresVersion",get:function(){return"0"}},{key:"serialized",get:function(){var e=Object(h.a)(Object(p.a)(this.featureList,function(e){return e.serialized}),",");return this.featuresVersion+":"+e}}]),e}()),P=function(){function e(t,n){u()(this,e),this._name=t,this._valueOrNull=n}return b()(e,[{key:"name",get:function(){return this._name}},{key:"numericValue",get:function(){var e=parseFloat(this._valueOrNull);return null===this._valueOrNull||isNaN(e)||!isFinite(e)?0:e}},{key:"stringValue",get:function(){return null===this._valueOrNull||void 0===this._valueOrNull?"":this._valueOrNull.toString()}},{key:"serialized",get:function(){return this.stringValue}}]),e}(),A=function(e){function t(e){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null))}return c()(t,e),t}(P),D=function(e){function t(e){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"id",e.logId))}return c()(t,e),t}(P),L=function(e){function t(e,n){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n?1:0))}return c()(t,e),b()(t,[{key:"serialized",get:function(){return this._valueOrNull?"1":""}}]),t}(P),q=function(e){function t(e,n,r){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r.type===n))}return c()(t,e),t}(L),F=function(e){function t(e,n,r){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r.lastSuggestionToken&&r.lastSuggestionToken.type===n))}return c()(t,e),t}(L),B=function(e){function t(e){u()(this,t);var n=null;return e.type===T.b.QUERY?n=e.lastSuggestionToken&&"number"==typeof e.lastSuggestionToken.frecencyScore?e.lastSuggestionToken.frecencyScore:null:e.type!==T.b.CHANNEL_NAVIGATION&&e.type!==T.b.MPIM_NAVIGATION&&e.type!==T.b.USER_NAVIGATION&&e.type!==T.b.TEAM_NAVIGATION&&e.type!==T.b.VIEW_NAVIGATION||(n=e.frecencyScore),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"frecency",n))}return c()(t,e),t}(P),U=function(e){function t(e){u()(this,t);var n=null;return n=e.type===T.b.QUERY&&e.lastSuggestionToken&&e.lastSuggestionToken.type===T.a.API?e.lastSuggestionToken.querySuggestionScore:e.querySuggestionScore||n,a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"query_suggestion_score_v2",n))}return c()(t,e),t}(P),H=function(e){function t(e){u()(this,t);var n=null;return e.type===T.b.FILE_NAVIGATION&&(n=e.rawScore),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"file_suggestion_score",n))}return c()(t,e),t}(P),K=function(e){function t(e){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"bm25_score",e.bm25Score||null))}return c()(t,e),t}(P),G=function(e){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.textOrNullFromQuerySuggestion;u()(this,t);var o=i(n);if(!o){var s=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null));return a()(s)}var c=t.clean(n.query);return a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r(o,c)))}return c()(t,e),b()(t,null,[{key:"clean",value:function(e){return String(e)}},{key:"normalized",value:function(e){return t.clean(e).toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g," ")}},{key:"lastSuggestionTokenString",value:function(e){return e&&e.lastSuggestionToken?t.clean(e.lastSuggestionToken.toString()):""}},{key:"textOrNullFromQuerySuggestion",value:function(e){return t.isActiveTokenStringLike(e)?t.lastSuggestionTokenString(e):e.type===T.b.FILE_NAVIGATION?e.toString():null}},{key:"textOrNullFromNavigationalSuggestion",value:function(e){return e.isNavigational?e.name():null}},{key:"textOrNullFromSuggestionWithType",value:function(e,t){return e.type===t?e.name():null}},{key:"isActiveTokenStringLike",value:function(e){return!!e.lastSuggestionToken&&(e.lastSuggestionToken.type===T.a.STRING||e.lastSuggestionToken.type===T.a.PHRASE||e.lastSuggestionToken.type===T.a.API)}}]),t}(P),V=function(e){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.textOrNullFromQuerySuggestion;return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,function(e,t){return r(e,t)?1:0},i))}return c()(t,e),b()(t,[{key:"serialized",get:function(){return this._valueOrNull?"1":""}}]),t}(G),z=function(e){function t(e,n,r,i){u()(this,t);var o=void 0;return o=r===T.b.CHANNEL_NAVIGATION?n.channel:r===T.b.USER_NAVIGATION?n.user:r===T.b.MPIM_NAVIGATION?n.mpim:n,a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i(n.state,o)))}return c()(t,e),t}(P),Y=function(e){function t(e,n,r,i){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,function(e,t){return i(e,t)?1:0}))}return c()(t,e),t}(z);function W(e,t){return e===t}function Q(e,t){return Object(E.a)(e,t)}function X(e,t){return G.normalized(e)===G.normalized(t)}function Z(e,t){return Object(E.a)(G.normalized(e),G.normalized(t))}function J(e,t,n){return Object(w.a)(t.map(function(t){return e(t,n)}))}function $(e,t){return Object(k.a)(e).length+Object(S.a)(e," ")===Object(k.a)(t).length}function ee(e,t){return Math.max(0,e.length-t.length)}function te(e,t,n){if(t&&t.id){var r=Object(R.j)(e,t.id);return r&&n(r)}return null}function ne(e,t,n){return t?Math.min(1,Math.exp(Math.log(.5)/n*Math.max(0,e-t))):0}var re=n("s/st"),ae=n("Fjja"),ie=n("HO/Y"),oe=n("nNoG"),se=n("yHhI");n.d(t,"f",function(){return be}),n.d(t,"h",function(){return pe}),n.d(t,"e",function(){return he}),n.d(t,"a",function(){return fe}),n.d(t,"b",function(){return ve}),n.d(t,"i",function(){return ge}),n.d(t,"d",function(){return _e}),n.d(t,"c",function(){return Oe}),n.d(t,"g",function(){return ye}),n.d(t,"j",function(){return je});var ce="SEARCH",le=Object(se.b)(),ue=new oe.b("search"),de=function(){function e(t){u()(this,e),this.state=t}return b()(e,[{key:"toMap",value:function(e){return{score:this.score(e),explain:this.explain(e),type:this.type,featureVector:this.featureVector.serialized,is_type_navigational:this.isNavigational}}},{key:"score",value:function(e){return this.featureVector.score(e)}},{key:"explain",value:function(e){var t=this.featureVector,n=Object(p.a)(Object(f.a)(Object(m.a)(t.featureList,function(e){return 0!==e.numericValue}),function(n){return-Math.abs(n.numericValue*t.weightForFeature(n,e))}),function(n){return{name:n.name,value:n.numericValue,weight:t.weightForFeature(n,e),score:t.weightForFeature(n,e)*n.numericValue}});return{total_score:this.score(e),explain:n}}},{key:"toString",value:function(){return""}},{key:"toTextyString",value:function(){return Object(y.a)(this.toString(),Object(j.a)(this.state))}},{key:"featureVector",get:function(){return e=this,M.fromSuggestion(e);var e}},{key:"type",get:function(){return T.b.UNKNOWN}},{key:"isNavigational",get:function(){return!1}},{key:"logId",get:function(){return""}}]),e}(),be=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];u()(this,t);var i=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._query=n,i.suggestionTokenList=r,i}return c()(t,e),b()(t,[{key:"withQuerySuggestionToken",value:function(e){return new t(this.state,"",this.suggestionTokenList.concat([e]))}},{key:"toMap",value:function(e){var n=this.toTextyString(),r=this.toString();return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_query_completion:!0,suggestion_replacement:n,suggestion_replacement_for_request:r,token_list:Object(p.a)(this.suggestionTokenList,function(t){return t.toMap(e)}),key:n})}},{key:"toString",value:function(){return Object(h.a)(Object(p.a)(this.suggestionTokenList,function(e){return e.toString()})," ")}},{key:"toTextyString",value:function(){return Object(h.a)(Object(p.a)(this.suggestionTokenList,function(e){return e.toTextyString()})," ")}},{key:"type",get:function(){return T.b.QUERY}},{key:"query",get:function(){return this._query}},{key:"lastSuggestionToken",get:function(){return!this.suggestionTokenList||this.suggestionTokenList.length<1?null:this.suggestionTokenList[this.suggestionTokenList.length-1]}},{key:"logId",get:function(){return this.lastSuggestionToken?this.lastSuggestionToken.logId:""}}],[{key:"fromString",value:function(e,t){return new this(e,"",re.g.tokenListFromString(e,t))}}]),t}(de),pe=function(e){function t(){return u()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c()(t,e),b()(t,[{key:"type",get:function(){return T.b.QUERY_USER}}]),t}(be),he=function(e){function t(e,n,r,i){u()(this,t);var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,re.g.tokenListFromString(e,r)));return o.index=i,o.exact_string=r,o}return c()(t,e),b()(t,[{key:"score",value:function(e){return 50-this.index}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_query_history:!0,exact_string:this.exact_string,deletable:!0})}},{key:"type",get:function(){return T.b.QUERY_HISTORY}},{key:"logId",get:function(){return Object(ae.a)(this.exact_string)}}]),t}(be),me=function(e){function t(e,n,r){u()(this,t);var i=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._frecencyScore=n,i._query=r,i}return c()(t,e),b()(t,[{key:"toString",value:function(){return this.name()}},{key:"name",value:function(){return""}},{key:"frecencyScore",get:function(){return this._frecencyScore}},{key:"query",get:function(){return this._query}},{key:"logId",get:function(){return""}},{key:"isNavigational",get:function(){return!0}}]),t}(de),fe=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"ChannelSuggestion called with falsy channel");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.channel=r,o}return c()(t,e),b()(t,[{key:"toString",value:function(){return"<#"+this.channel.id+"|"+this.name()+">"}},{key:"name",value:function(){return this.channel.name}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_channel:!0,channel:this.channel,key:this.channel.id,id:this.channel.id})}},{key:"type",get:function(){return T.b.CHANNEL_NAVIGATION}},{key:"logId",get:function(){return""+this.channel.id}}]),t}(me),ve=function(e){function t(e,n,r,i,o){u()(this,t);var s=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,i,o));return s._querySuggestionScore=n,s._bm25Score=r,s}return c()(t,e),b()(t,[{key:"type",get:function(){return T.b.EXPERT_CHANNEL_NAVIGATION}},{key:"querySuggestionScore",get:function(){return this._querySuggestionScore}},{key:"bm25Score",get:function(){return this._bm25Score}}]),t}(fe),ge=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"UserSuggestion called with falsy user");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.user=r,o}return c()(t,e),b()(t,[{key:"getUser",value:function(){return this.user}},{key:"toString",value:function(){return(e=this.user)?"<@"+e.id+"|@"+Object(_.w)(e)+">":"";var e}},{key:"name",value:function(){return Object(_.w)(this.user)}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_user:!0,user:this.user,key:this.user.id,id:this.user.id})}},{key:"type",get:function(){return T.b.USER_NAVIGATION}},{key:"logId",get:function(){return""+this.user.id}}]),t}(me),_e=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"ChannelSuggestion called with falsy mpim");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.mpim=r,o}return c()(t,e),b()(t,[{key:"toString",value:function(){return"<#"+this.mpim.id+"|"+this.name()+">"}},{key:"name",value:function(){return Object(g.Rb)(this.state,this.mpim)}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_mpim:!0,mpim:this.mpim,key:this.mpim.id,id:this.mpim.id})}},{key:"type",get:function(){return T.b.MPIM_NAVIGATION}},{key:"logId",get:function(){return""+this.mpim.id}}]),t}(me),Oe=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"FileSuggestion called with falsy file");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0,i));return o.file=r,o._rawScore=n,o}return c()(t,e),b()(t,[{key:"name",value:function(){return this.file.title}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_file:!0,file:this.file,type:this.fileType,fileTypeDescription:this.fileTypeDescription,key:this.file.id,id:this.file.id})}},{key:"rawScore",get:function(){return this._rawScore}},{key:"type",get:function(){return T.b.FILE_NAVIGATION}},{key:"fileId",get:function(){return this.file.id}},{key:"fileType",get:function(){return this.file.highlight_type||this.file.filetype}},{key:"fileTypeDescription",get:function(){var e=this.file.is_external?Object(O.a)(this.file,this.state):this.file.pretty_type;return"Arugula"===e&&(e=Object(ie.j)(this.state,"feature_docs")?ue.t("Post"):""),e}},{key:"logId",get:function(){return""+this.file.id}}]),t}(me),ye=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"TeamSuggestion called with falsy team");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.model=r,o._rawScore=n,o}return c()(t,e),b()(t,[{key:"name",value:function(){return this.model.name}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_team:!0,team:this.model,key:this.model.id,id:this.model.id})}},{key:"type",get:function(){return T.b.TEAM_NAVIGATION}},{key:"logId",get:function(){return""+this.model.id}}]),t}(me),je=function(e){function t(e,n,r,i){u()(this,t),r||le.error(ce,"ViewSuggestion called with falsy view");var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.model=r,o._rawScore=n,o}return c()(t,e),b()(t,[{key:"toString",value:function(){return this.model.name}},{key:"toMap",value:function(e){return Object(v.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_view:!0,view:this.model,key:this.model.id,id:this.model.id})}},{key:"type",get:function(){return T.b.VIEW_NAVIGATION}},{key:"logId",get:function(){return""+this.model.id}}]),t}(me)},i7LB:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("X6iR"),a=n("ZGcR"),i=n("H2Wf"),o=n("NFsq");function s(e){return Object(a.a)(e,function(e,t){return Object(o.a)(t,"-")?t:Object(r.a)(t,"aria")?"aria-"+t.slice(4).toLowerCase():Object(r.a)(t,"data")?Object(i.a)(t):t})}},"iB/r":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("TSYQ"),d=n.n(u),b=n("XLFM"),p=n("od5y"),h=(n("rxQj"),l.b.string,l.b.string.isRequired,l.b.oneOf(["light","dark"]),l.b.string,l.b.bool,{className:void 0,backgroundStyle:"light",badgeSize:"4px",showBadge:!1}),m=c.a.forwardRef(function(e,t){var n=e.backgroundStyle,r=e.badgeSize,i=e.showBadge,s=e.icon,l=o()(e,["backgroundStyle","badgeSize","showBadge","icon"]),u=d()("c-icon_button","c-icon_button--"+n,e.className);return c.a.createElement(b.c,a()({ref:t},l,{className:u}),c.a.createElement(p.b,{type:s}),i&&c.a.createElement("div",{className:"c-icon_button__badge",style:{height:r,width:r}}))});m.defaultProps=h,t.a=m},"iEG+":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("uf9I"),c=n("m4Q8"),l=n("zNK5"),u=n("83t0"),d=n("8Aee"),b=n("yHhI"),p=n("jo6Y"),h=n.n(p),m=n("iCc5"),f=n.n(m),v=n("V7oC"),g=n.n(v),_=n("FYw3"),O=n.n(_),y=n("tfYw"),j=n.n(y),k=n("mRg0"),E=n.n(k),C=n("juCJ"),I=n("ye3K"),w=n("x4bP"),S=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.flannelUrl,r=e.method,i=e.args,o=void 0===i?{}:i,s=e.versionUid,c=e.id,l=void 0===c?Object(I.a)(s):c,u=e.url,d=void 0===u?n+"/"+r:u,b=e.payload,p=void 0===b?JSON.stringify(o):b,m=e.httpMethod,v=void 0===m?"POST":m,g=e.requestHeaders,_=void 0===g?{"Content-Type":"application/json"}:g,y=h()(e,["flannelUrl","method","args","versionUid","id","url","payload","httpMethod","requestHeaders"]);f()(this,t);var j=O()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a()({},y,{url:d,payload:p,httpMethod:v,requestHeaders:_,withCredentials:Object(w.a)()})));return j.flannelUrl=n,j.method=r,j.args=o,j.id=l,j.response=void 0,j}return E()(t,e),g()(t,[{key:"resolve",value:function(e){var n=void 0;try{n=JSON.parse(e)}catch(e){n={ok:!1,error:"_parse_error"}}this.response=a()({flannelUrl:this.flannelUrl,args:this.args,method:this.method,clientRequestId:this.id},n),this.response.ok?j()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resolve",this).call(this,this.response):this._onNotOk(n)}},{key:"_onNotOk",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:"_unknown"},n=this.method,r=this.args,a=this.id,i=new Error("Flannel "+n+" not ok: "+e.error);i.data=e,i.method=n,i.args=r,i.id=a,i.attempts=this._numberOfAttempts,j()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reject",this).call(this,i)}}],[{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.flannelUrl,r=e.method,a=e.args,i=void 0===a?{}:a;if(!n){var o=new Error("Cannot fetch from Flannel without a flannelUrl.");return o.data={ok:!1,error:"_no_flannel_url"},Promise.reject(o)}if(!i.token){var s=new Error("Cannot fetch from Flannel without a valid token. Please include one in args.");return s.data={ok:!1,error:"_no_token"},Promise.reject(s)}return new t({flannelUrl:n,method:r,args:i}).send()}}]),t}(C.b);n.d(t,"a",function(){return T});var T=Object(o.b)("Dispatch a Flannel call",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,i=n.args,o=n.reason,p=n.EXPEDITED,h=void 0!==p&&p,m=t(),f=Object(s.b)(m),v=Object(b.a)({teamId:f}),g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.info.apply(v,["API-Q"].concat(t))},_=Object(u.a)(i,{teamId:f});return e(Object(c.b)()).then(function(t){var n=new S({flannelUrl:t,method:r,args:a()({},_,i),onStateChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,a=t.response,i=void 0===a?{}:a,s=t._numberOfAttempts,c=t._statusCode,l=t._timeout;e===C.a.ENQUEUED&&g(n,0===s?"Flannel "+r+" called with reason: "+(o||"no_reason_provided"):"Flannel "+r+" is retrying, attempt "+(s+1));var u=Object(d.a)(e,{response:i,statusCode:c,timeout:l}),b="Flannel "+r+" is "+e;g(n,u?b+": "+u:b)}});return e(Object(l.b)({request:n,expedited:h}))})});T.propTypes={method:i.b.string,args:i.b.object,reason:i.b.string,EXPEDITED:i.b.bool}},iGrU:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("TSYQ"),f=n.n(m),v=n("yU6Y"),g=n.n(v),_=n("lfjV"),O=n("jWJI"),y=n("MnCE"),j=function(e){var t=e.onScroll,n=e.children,r=e.width,a=e.role;return p.a.createElement("div",{onScroll:t,role:a,className:"c-scrollbar__child",style:{width:r}},n)};j.displayName="Content",j.defaultProps={children:null,role:"presentation",onScroll:d.a};var k=Object(y.a)(j),E=(n("Km4y"),function(e){return e.stopPropagation()}),C=(h.b.node,h.b.number.isRequired,h.b.number.isRequired,h.b.number,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.oneOf(["top","bottom"]),h.b.string,h.b.string,h.b.func,h.b.func,h.b.func,h.b.number,h.b.string,h.b.bool,{children:void 0,contentHeight:void 0,color:void 0,className:void 0,monkey:!1,fade:!1,alwaysVisible:!1,anchor:"top",role:"presentation",ariaLabel:null,onScroll:void 0,onContentScroll:d.a,onTrackClick:void 0,initialScrollTop:0,id:void 0,inheritSize:!1}),I=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scroller=null,n.currentScrollTop=0,n.dragging=!1,n.delta={y:null,top:null,speed:null},n.trackInterval=void 0,n.trackTimeout=void 0,n.trackAnimation=void 0,n.onScroll=n.onScroll.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDragEnd=n.onDragEnd.bind(n),n.onDrag=n.onDrag.bind(n),n.onTrackDown=n.onTrackDown.bind(n),n.onTrackUp=n.onTrackUp.bind(n),n.setRef=n.setRef.bind(n),n.setTrackRef=n.setTrackRef.bind(n),n.state={height:0,top:0},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.initialScrollTop&&(this.scroller.scrollTop=this.props.initialScrollTop)}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.trackAnimation&&this.trackAnimation.cancel(),clearInterval(this.trackInterval),clearTimeout(this.trackTimeout),window.removeEventListener("mouseup",this.onTrackUp)}},{key:"onScroll",value:function(e){if(this.scroller){var t=this.scroller.scrollTop;t&&t===this.currentScrollTop||(this.currentScrollTop=t,this.update(),this.props.onScroll&&this.props.onScroll(e,{scrollTop:this.currentScrollTop}))}}},{key:"onDragStart",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.getScrollHeight(),n=this.getTrackHeight();this.dragging=!0,this.delta.y=e.clientY,this.delta.top="top"===this.props.anchor?this.currentScrollTop:t-this.currentScrollTop,this.delta.speed=t/n,document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("mouseleave",this.onDragEnd)}},{key:"onDragEnd",value:function(){this.dragging=!1,document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("mouseleave",this.onDragEnd)}},{key:"onDrag",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.clientY,n=this.getScrollHeight(),r=(t-this.delta.y)*this.delta.speed,a="top"===this.props.anchor?this.delta.top+r:n-(this.delta.top-r);this.scrollTop(a)}},{key:"onTrackDown",value:function(e){var n=this;e.preventDefault(),e.stopPropagation();var r=this.props.onTrackClick||t.track.to,a=e.nativeEvent.offsetY,i=function(){if(a>=n.state.top&&a<=n.state.top+n.state.height)clearInterval(n.trackInterval);else{var e=r({y:a,scrollTop:n.currentScrollTop,scrollHeight:n.getScrollHeight(),trackHeight:n.getTrackHeight(),barTop:n.state.top,barHeight:n.state.height});n.scrollWithAnimation(e)}};i(),clearInterval(this.trackInterval),clearTimeout(this.trackTimeout),this.trackTimeout=setTimeout(function(){i(),n.trackInterval=setInterval(i,200)},500),window.addEventListener("mouseup",this.onTrackUp)}},{key:"onTrackUp",value:function(){this.trackAnimation&&this.trackAnimation.cancel(),clearInterval(this.trackInterval),clearTimeout(this.trackTimeout),window.removeEventListener("mouseup",this.onTrackUp)}},{key:"setRef",value:function(e){this.scroller=e}},{key:"setTrackRef",value:function(e){this.track=e}},{key:"getScrollHeight",value:function(){var e=this.props.contentHeight;return void 0!==e?e:this.scroller.scrollHeight}},{key:"getBarHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollHeight(),t=this.props.height;return 0===e?0:t/e*t}},{key:"getTrackHeight",value:function(){return this.track&&this.track.offsetHeight}},{key:"scrollTop",value:function(e){return this.scroller?void 0!==e?(this.scroller.scrollTop=e,this.scroller.scrollTop):this.currentScrollTop:null}},{key:"scrollWithAnimation",value:function(e){var t=this,n=0;return this.trackAnimation&&this.trackAnimation.cancel(),this.trackAnimation=Object(_.a)({fromValue:this.scroller.scrollTop,toValue:e,duration:200,delta:!0,onTick:function(e){var r=e.value,a=e.nextTick,i=t.scroller.scrollTop+r+n,o=Math.round(i);n=i-o,t.scrollTop(o),a()}}),this.trackAnimation}},{key:"update",value:function(){if(this.scroller){var e=this.props.height,t=this.currentScrollTop,n=this.getScrollHeight(),r=this.getBarHeight(n);r=r<50?50:r;var a=t/(n-e)*(this.getTrackHeight()-r),i=n<=e;this.setState(function(){return{height:r,top:a,hidden:i}})}}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.children,a=e.className,i=e.onContentScroll,o=e.inheritSize,s=e.alwaysVisible,c=g.a.firefox?"-1":void 0;return p.a.createElement("div",{role:this.props.role,className:f()(a,"c-scrollbar",{"c-scrollbar--hidden":this.state.hidden,"c-scrollbar--monkey":this.props.monkey,"c-scrollbar--fade":this.props.fade,"c-scrollbar--inherit_size":o,"c-scrollbar--always_visible":s}),style:o?void 0:{width:t,height:n},"aria-label":this.props.ariaLabel,id:this.props.id},p.a.createElement("div",{role:"presentation",className:"c-scrollbar__hider",tabIndex:c,onScroll:this.onScroll,ref:this.setRef},p.a.createElement(k,{width:t,onScroll:i},r)),p.a.createElement("div",{role:"presentation",className:"c-scrollbar__track",onMouseDown:this.onTrackDown,onMouseUp:this.onTrackUp,ref:this.setTrackRef},p.a.createElement("div",{role:"presentation",className:"c-scrollbar__bar",style:{height:this.state.height,transform:"translateY("+Math.floor(this.state.top)+"px)",background:this.props.color},onClick:E,onMouseDown:this.onDragStart,tabIndex:-1})))}}]),t}(b.PureComponent);I.displayName="Scrollbar",I.defaultProps=C,I.track={to:function(e){var t=e.y,n=e.scrollTop,r=e.scrollHeight,a=e.trackHeight;return n+(t-e.barTop-e.barHeight/2)*(r/a)},page:function(e){var t=e.y,n=e.scrollTop,r=e.trackHeight;return t<e.barTop?n-(r-21):n+(r-21)}};var w=I,S=Object(O.a)(I,{getDerivedProps:function(e){return{initialScrollTop:e.instance.currentScrollTop}}});n.d(t,"a",function(){return S});t.b=w},"iH/p":function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("Gxzu"),o=n("e9Nc"),s=n("W7ut"),c=n("kOzZ"),l=n("aW/o"),u=n("+1yX"),d=n("XZOc"),b=n("clTI"),p=n("BrU6"),h=n("OZtQ"),m=n("AcCB"),f=n("iW0Y"),v=n("3MJR"),g=n("hu7Z"),_=n("C6rm"),O=n("HO/Y"),y=n("tVnY"),j=n("tqA/"),k=n("s19S"),E=n("Rmtr"),C=n("Zr7G"),I=Object(a.b)("Open search UI",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.showAutocomplete,a=n.commitSearch,o=t(),c=r?g.a.EDIT:g.a.SEARCH_RESULTS,l=Object(C.c)({state:o});c===g.a.EDIT&&l.mark("omniswitcher-open-mark");var u=n.query,d=n.openMethod,b=n.showTab,I=n.skipAttentionOnChatCheck,w=void 0!==I&&I,S=n.skipMountComponent,T=void 0!==S&&S;if(r&&a&&(r=!1),!u&&a&&(a=!1,r=!0),r||a||Object(v.f)(t())!==g.a.SEARCH_RESULTS&&(r=!0),w||Object(k.f)()){e(Object(m.q)({lastOpenMethod:d}));var R=Object(i.b)(o),N=Object(i.d)(o);R===u&&N===u&&""!==u||e(Object(p.a)({textyString:u,queryIsUserGenerated:!0,fetchAutocompleteSuggestions:!0})),a&&e(Object(h.x)({query:u})),b&&e(Object(m.D)({tab:b})),e(Object(f.a)({interfaceMode:c})),r&&e(Object(E.f)());var x=document.createElement("input");x.style.position="absolute",x.style.top="-100px",x.style.height="1px",document.body.appendChild(x),x.focus(),window._searchAutocompleteCatch=x,Object(y.b)(t())||T||Object(O.j)(o,"feature_classic_nav")||Object(_.a)(),e(Object(j.a)({visible:!0})),e(Object(s.d)())}});I.propTypes={query:r.b.string.isRequired,showAutocomplete:r.b.bool.isRequired,commitSearch:r.b.bool.isRequired,openMethod:r.b.string.isRequired,showTab:r.b.string,skipMountComponent:r.b.bool};var w=I;n.d(t,"b",function(){return S}),n.d(t,"c",function(){return T}),n.d(t,"g",function(){return R}),n.d(t,"a",function(){return N}),n.d(t,"h",function(){return x}),n.d(t,"e",function(){return M}),n.d(t,"f",function(){return P}),n.d(t,"d",function(){return A});var S=Object(a.b)("open search using command+f or menu on desktop",function(e,t){var n=t(),r=Object(o.a)(n),a=r?Object(o.c)(n,r)+" ":"";e(w({query:a,showAutocomplete:!0,commitSearch:!1,openMethod:"key_f"}))});S.propTypes={};var T=Object(a.b)("open search using command+g",function(e,t){var n=Object(i.b)(t());e(w({query:n||"",showAutocomplete:!n,commitSearch:!1,openMethod:"key_g"}))});T.propTypes={};var R=Object(a.b)("open search using command+k",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).key;e(w({query:"",showAutocomplete:!0,commitSearch:!1,openMethod:"key_"+n}))});R.propTypes={key:r.b.string.isRequired};var N=Object(a.b)("open search by clicking on input",function(e,t){var n=t(),r=Object(s.e)(n),a=Object(i.b)(n),l="",u=Object(o.a)(n);if(r&&u&&(l=Object(o.c)(n,u)+" "),e(w({query:a||l,showAutocomplete:!a,commitSearch:!1,openMethod:"click"})),r){var b=Object(c.a)({state:n}),p=t(),h=Object(d.e)(p),m=Object(d.d)(p);b.track("SEARCH_SCROLL_TIP_ACCEPT",{channel_id:u&&u.id,has_existing_query:!!a,search_session_id:h,client_request_id:m})}});N.propTypes={};var x=Object(a.b)("open search using slack command",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query,r=Object(i.b)(t());e(w({query:n||r,showAutocomplete:!(!n&&!r),commitSearch:!!n,openMethod:"command"}))});x.propTypes={},Object(a.b)("open by typing in the search input",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query;e(w({query:void 0===n?"":n,showAutocomplete:!0,commitSearch:!1,openMethod:"key_tab"}))}).propTypes={query:r.b.string};var M=Object(a.b)("open by clicking on files menu in flexpane",function(e,t){var n=t(),r=Object(l.a)(n),a="";if(Object(u.a)(r)){var i=Object(b.d)(n,r);a=""+Object(o.c)(n,i)}e(w({query:a,showAutocomplete:!1,commitSearch:!0,openMethod:"files",showTab:"files"}))});M.propTypes={query:r.b.string};var P=Object(a.b)("Open search by clicking on the in-product education in the org directory",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query;e(w({query:n,showAutocomplete:!n,commitSearch:!!n,openMethod:"orgDirectory",showTab:"people"}))});P.propTypes={query:r.b.string};var A=Object(a.b)("Open search by clicking on the in-product education in the DM browser",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).query;e(w({query:n,showAutocomplete:!n,commitSearch:!!n,openMethod:"dmBrowser",showTab:"people",skipAttentionOnChatCheck:!0}))});A.propTypes={query:r.b.string}},iW0Y:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("XfeM"),a=n("aK/h"),i=n("Hh47"),o=n("hu7Z"),s=n("AcCB"),c=Object(r.b)("Set the interface mode",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).interfaceMode,r=t(),a=r&&r.searchUi&&r.searchUi.interfaceMode===n,c=r&&r.searchUi&&r.searchUi.visible;a||(e(Object(s.p)({interfaceMode:n})),c&&n===o.a.EDIT&&e(Object(i.a)()))});c.propTypes={interfaceMode:a.b.oneOf(["EDIT","SEARCH_RESULTS"]).isRequired}},iZHp:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("XfeM"),l=n("aW/o"),u=n("/Q0P"),d=n("+1yX"),b=o.a.lazy(function(){return Promise.resolve().then(n.bind(null,"j6IP"))}),p=function(e,t){if(t.channelId)return t.channelId;var n=Object(l.a)(e);return Object(d.a)(n)?n:void 0},h=Object(c.b)("Opens the share message dialog",function(e,t,n){var r=n.initialChannelId?n:a()({},n,{initialChannelId:p(t(),n)});e(Object(u.a)({element:o.a.createElement(b,r)}))});h.propTypes={ts:s.b.string,channelId:s.b.string,fileId:s.b.string,initialChannelId:s.b.string},t.a=h},icQl:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("UF3u");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=void 0,a=void 0,i=void 0;return function(){for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return this===a&&Object(r.a)(n,s,t)?i:(n=s,a=this,i=e.apply(this,s))}}},iegW:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});var r=n("oTSI"),a=n("X7d8"),i=n("Z7Ay"),o=n("btvA"),s=n("lhZz"),c=Object(r.a)(function(){return new o.b({fetch:function(e,t){return Object(s.dispatchForTeamId)(e,Object(a.b)({ids:t,reason:"conditional-fetching"}))},isEnabled:function(){return!0},metricsName:"teams"})}),l=function(e,t){return c().maybeRefetch(e,t)},u=function(e,t){return c().markObjectsAsFresh(e,t)},d=function(){return o.b.pauseRefetch()};Object(i.b)("conditionalFetchManagerTeams",c)},igcB:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("2Inn"),o=Object(a.b)("/call slash command",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).words,r=void 0;return(void 0===n?[]:n).forEach(function(e){e.startsWith("--server=")&&(r=e.split("=")[1])}),e(Object(i.e)({debugServerName:r}))});o.propTypes={words:r.b.arrayOf(r.b.string.isRequired).isRequired},t.default=o},iiF8:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lhZz"),a=n("uf9I");function i(e){return Object(r.getStateByTeamId)(Object(a.b)(e))}},iqSe:function(e,t,n){"use strict";n.d(t,"e",function(){return j}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return R}),n.d(t,"d",function(){return N});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("oTSI"),l=n("OZf9"),u=n("EzZj"),d=n("MNvw"),b=n("U/ze"),p=n("XfeM"),h=n("Idin"),m=n("uf9I"),f=n("btvA"),v=n("aK/h"),g=n("lhZz"),_=n("yPgC"),O=Object(u.b)("Update help center tracking token");O.propTypes=v.b.string.isRequired;var y=Object(u.b)("Replace help center issues with list");y.propTypes=v.b.arrayOf(_.a.HelpCenterIssue.isRequired).isRequired;var j=Object(u.b)("Upsert a single help center issue");j.propTypes=_.a.HelpCenterIssue.isRequired;var k={issues:{}},E=Object(d.b)((r={},i()(r,O,function(e,t){return t?s()({},e,{trackingToken:t}):e}),i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach(function(e){n[e.id]=e}),s()({},e,{issues:n})}),i()(r,j,function(e,t){return s()({},e,{issues:s()({},e.issues,i()({},t.id,t))})}),r),k,{persistenceEnabled:!0});E.propTypes={trackingToken:v.b.string,issues:v.b.objectOf(_.a.HelpCenterIssue.isRequired).isRequired},t.a=E;var C=Object(c.a)(function(){return new f.b({fetch:function(e){return Object(g.dispatchForTeamId)(e,P())},isEnabled:function(){return!0}})}),I=Object(b.b)(function(e){return e&&e.help||k}),w=Object(b.b)(function(e){return I(e).trackingToken}),S=Object(b.b)(function(e){var t=w(e);if(!t){var n=Object(m.b)(e);Promise.resolve().then(function(){return Object(g.dispatchForTeamId)(n,M())})}return t||""}),T=Object(b.b)(function(e){var t=Object(m.b)(e);return C().maybeRefetch(t,""),I(e).issues||{}}),R=Object(b.b)(function(e){var t={open:0,closed:0,unread:0};return Object(l.a)(T(e),function(e){"unread"===e.state?t.unread+=1:"open"===e.state?t.open+=1:(e.is_resolved||e.is_closed)&&(t.closed+=1)}),t}),N=Object(b.b)(function(e){return R(e).unread}),x={},M=Object(p.b)("Fetch and upsert the help center tracking token if no fetch in progress",function(e,t){var n=w(t());if(n)return Promise.resolve(n);var r=Object(m.b)(t()),a=x[r];if(a&&a.isPending&&a.isPending())return a;var i=e(Object(h.b)({reason:"maybeFetchAndUpsertHelpCenterToken"})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trackingToken;return e(O(t)),t});return x[r]=i,i});M.propTypes={};var P=Object(p.b)("Fetch and upsert help issues into the store",function(e){return e(Object(h.c)({reason:"fetchAndUpsertHelpIssues"})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).issues;return e(y(t)),t})});P.propTypes=null},iqWe:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r=n("Bw5p"),a=n("7EGn"),i=n("Z0Cl"),o=n("aK/h"),s=n("yHhI"),c=n("om+M"),l=n("4zXV"),u=Object(c.a)("Fetch all apps by ID",function(e,t,n){var a=Object(s.a)({getState:t});return n.length<3?Promise.map(n,function(t){return e(Object(l.a)({method:"apps.profile.get",args:{app:t},reason:"fetch-all-apps-by-id"})).then(function(e){var t=e.app_profile;return t&&t.is_xoxa_app?Object(r.a)(t,["id","name","icons","is_xoxa_app","is_workflow_app","app_user_id"]):Object(r.a)(t,["id","name","icons","is_workflow_app"])}).catch(function(e){return a.error(e,"Error while fetching app "+t),null})}).then(i.a):e(Object(l.a)({method:"apps.list",reason:"fetch-all-apps-by-id"})).then(function(e){return e.apps})});u.propTypes=o.b.arrayOf(o.b.string).isRequired;var d=Object(c.a)("Fetch app profile information from legacy endpoint",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,i=n.homeWorkspaceId,o=n.appId,s=n.showAuthSummary,c=void 0!==s&&s,u={bot:r};return i&&(u.bot_home_team=i),o&&(u.app=o),c&&(u.show_auth_summary=c),e(Object(l.a)({method:"apps.profile.get",args:u,reason:"fetch-legacy-app-profile"})).then(function(e){return Object(a.a)(e,"app_profile",{})})});d.propTypes={serviceId:o.b.string,serviceHomeTeamId:o.b.string,appId:o.b.string}},iqxf:function(e,t,n){"use strict";n.d(t,"i",function(){return k}),n.d(t,"j",function(){return E}),n.d(t,"k",function(){return C}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return S}),n.d(t,"d",function(){return T}),n.d(t,"g",function(){return R}),n.d(t,"h",function(){return N}),n.d(t,"c",function(){return x}),n.d(t,"b",function(){return M});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("Muja"),l=n("fujP"),u=n("qAkX"),d=n("F294"),b=n("5gWw"),p=n("aK/h"),h=n("EzZj"),m=n("MNvw"),f=n("U/ze"),v=n("XfeM"),g=n("P2f5"),_=n("7dvU"),O=n("N0/W"),y=n("P9LH"),j=Object(h.b)("Add file IDs to the flexpane");j.propTypes=p.b.arrayOf(p.b.shape({id:p.b.string,ts:p.b.number})).isRequired;var k=Object(h.b)("Set the files flexpane scroll offset");k.propTypes=p.b.object;var E=Object(h.b)("Set the filetype filter");E.propTypes=p.b.string.isRequired;var C=Object(h.b)("Set the user filter");C.propTypes=p.b.string.isRequired;var I=Object(m.b)((r={},i()(r,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return e;var n=e.files;return Object(l.a)(n)?s()({},e,{files:t}):Object(d.a)(n).ts>=Object(d.a)(t).ts?s()({},e,{files:Object(b.a)(n,t,c.a)}):s()({},e,{files:Object(b.a)(t,n,c.a)})}),i()(r,k,function(e,t){return s()({},e,{scrollmark:t})}),i()(r,E,function(e,t){return t===e.filetype?e:s()({},e,{files:[],scrollmark:null,filetype:t})}),i()(r,C,function(e,t){return t===e.user?e:s()({},e,{files:[],scrollmark:null,user:t})}),r),{filetype:"",user:"",scrollmark:null,files:[]},{persistenceEnabled:!0});I.propTypes={filetype:p.b.string,user:p.b.string,scrollmark:p.b.shape({key:p.b.string,offset:p.b.number}),files:p.b.array},t.a=I;var w=Object(f.b)(function(e){return e&&e.filesFlexpane&&e.filesFlexpane.files}),S=Object(f.b)(function(e){return e&&e.filesFlexpane&&e.filesFlexpane.scrollmark}),T=Object(f.b)(function(e){return e&&e.filesFlexpane&&e.filesFlexpane.filetype}),R=Object(f.b)(function(e){return e&&e.filesFlexpane&&e.filesFlexpane.user}),N=Object(v.b)("Fetch and upsert files",function(e,t,n){return e(Object(O.i)(s()({reason:"listAndUpsertFiles"},n))).then(function(t){var r=t.files,a=void 0===r?[]:r;return a.sort(function(e,t){return Object(y.o)(t)-Object(y.o)(e)}),e(Object(_.a)({files:a,reason:n.reason})),e(j(a.map(function(e){return{id:e.id,ts:Object(y.o)(e)}}))),t})});N.propTypes={user:p.b.string,types:p.b.string,count:p.b.number,tsFrom:p.b.number,tsTo:p.b.number,reason:p.b.string};var x=Object(v.b)("Fetch newer files",function(e,t,n){var r=t(),a=w(r),i=Object(d.a)(a)&&Object(d.a)(a).id,o=Object(g.h)(r,i),c=o&&Object(y.o)(o)-1;return e(N(s()({count:20},n,{tsFrom:c,reason:"fetchFilesPre"})))});x.propTypes={user:p.b.string,types:p.b.string,count:p.b.number};var M=Object(v.b)("Fetch older files",function(e,t,n){var r=t(),a=w(r),i=Object(u.a)(a)&&Object(u.a)(a).id,o=Object(g.h)(r,i),c=o&&Object(y.o)(o)+1;return e(N(s()({count:20},n,{tsTo:c,reason:"fetchFilesPost"})))});M.propTypes={user:p.b.string,types:p.b.string,count:p.b.number}},izWf:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return p});var r=n("aK/h"),a=n("4zXV"),i=n("UjNr"),o=n("om+M"),s=n("HO/Y"),c=Object(o.a)("Calls subscriptions.thread.add",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,o=n.threadTs,c=n.lastRead,l=n.reason,u="subscriptions.thread.add",d={channel:r,thread_ts:o,last_read:c};return Object(s.j)(t(),"feature_offline_mode")?e(Object(i.a)({method:u,args:d,reason:l})):e(Object(a.a)({method:u,args:d,reason:l}))});c.propTypes={channelId:r.b.string,threadTs:r.b.string,lastRead:r.b.string};var l=Object(o.a)("Calls subscriptions.thread.remove",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,o=n.threadTs,c=n.lastRead,l=n.reason,u="subscriptions.thread.remove",d={channel:r,thread_ts:o,last_read:c};return Object(s.j)(t(),"feature_offline_mode")?e(Object(i.a)({method:u,args:d,reason:l})):e(Object(a.a)({method:u,args:d,reason:l}))});l.propTypes={channelId:r.b.string,threadTs:r.b.string,lastRead:r.b.string};var u=Object(o.a)("Calls subscriptions.thread.get",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={channel:n.channelId,thread_ts:n.threadTs};return e(Object(a.a)({method:"subscriptions.thread.get",args:r,reason:"fetch-thread-subscriptions"}))});u.propTypes={channelId:r.b.string,threadTs:r.b.string};var d=Object(o.a)("Call subscriptions.thread.mark",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.threadTs,o=n.lastRead,s=n.reason,c={channel:r,thread_ts:i,ts:o};return e(Object(a.a)({method:"subscriptions.thread.mark",args:c,reason:s}))});d.propTypes={channelId:r.b.string,threadTs:r.b.string,lastRead:r.b.string};var b=Object(o.a)("Call subscriptions.thread.clearall",function(e,t){var n={max_ts:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).maxTs};return e(Object(a.a)({method:"subscriptions.thread.clearAll",args:n,reason:"mark-all-threads-as-read"}))});b.propTypes={maxTs:r.b.string};var p=Object(o.a)("Calls subscriptions.thread.getView",function(e,t,n){var r=n.currentTs,i=n.limit,o=n.reason,s={current_ts:r,limit:i};return e(Object(a.a)({method:"subscriptions.thread.getView",args:s,reason:o}))});p.propTypes={currentTs:r.b.oneOfType([r.b.number,r.b.string]),limit:r.b.number}},"j/30":function(e,t,n){"use strict";var r=n("QLyv"),a=n("VyaM");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shortenMonth,i=void 0!==n&&n,o=t.shortenDay,s=void 0!==o&&o,c=t.excludeYear,l=void 0!==c&&c,u=t.excludeDay,d=void 0!==u&&u,b=t.excludeCommaSeparator,p=void 0!==b&&b,h=Object(a.a)(e,{returnMoment:!0}),m=1===h.date(),f=void 0;switch(r.a.locale()){case"de-de":f={MMMD:"Do MMM",MMMDo:"Do MMM",MMMMDo:"Do MMMM",MMMDYYYY:"Do MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"Do MMM YYYY",MMMMDoYYYY:"Do MMMM YYYY"};break;case"es-es":f={MMMD:"D MMM",MMMDo:"D MMM",MMMMDo:"D [de] MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:"D MMM YYYY",MMMMDoYYYY:"D [de] MMMM [de] YYYY"};break;case"es-la":f={MMMD:"D [de] MMM",MMMDo:"D [de] MMM",MMMMDo:"D [de] MMMM",MMMDYYYY:"D [de] MMM [de] YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:"D [de] MMM [de] YYYY",MMMMDoYYYY:"D [de] MMMM [de] YYYY"};break;case"pt-br":f={MMMD:m?"Do MMM":"D MMM",MMMDo:m?"Do MMM":"D MMM",MMMMDo:m?"Do [de] MMMM":"D [de] MMMM",MMMDYYYY:m?"Do MMM, YYYY":"D MMM, YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:m?"Do MMM, YYYY":"D MMM, YYYY",MMMMDoYYYY:m?"Do [de] MMMM [de] YYYY":"D [de] MMMM [de] YYYY"};break;case"fr-fr":f={MMMD:"D MMM",MMMDo:"Do MMM",MMMMDo:"Do MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"Do MMM YYYY",MMMMDoYYYY:"Do MMMM YYYY"};break;case"ja-jp":f={MMMD:"MMMD[\u65e5]",MMMDo:"MMMDo",MMMMDo:"MMMMDo",MMMDYYYY:"YYYY[\u5e74]MMMDo",MMMYYYY:"YYYY[\u5e74]MMM",MMMMYYYY:"YYYY[\u5e74]MMMM",MMMDoYYYY:"YYYY[\u5e74]MMMMDo",MMMMDoYYYY:"YYYY[\u5e74]MMMMDo"};break;case"en-gb":f={MMMD:"D MMM",MMMDo:"D MMM",MMMMDo:"D MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"D MMM YYYY",MMMMDoYYYY:"D MMMM YYYY"};break;default:f={MMMD:"MMM D",MMMDo:"MMM Do",MMMMDo:"MMMM Do",MMMDYYYY:p?"MMM D YYYY":"MMM D, YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:p?"MMM Do YYYY":"MMM Do, YYYY",MMMMDoYYYY:p?"MMMM Do YYYY":"MMMM Do, YYYY"}}return i&&s&&l?h.format(f.MMMD):i&&s&&!l?h.format(f.MMMDYYYY):i&&l?h.format(f.MMMDo):i&&d?h.format(f.MMMYYYY):i?h.format(f.MMMDoYYYY):l?h.format(f.MMMMDo):d?h.format(f.MMMMYYYY):h.format(f.MMMMDoYYYY)}},j4ta:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("hXpn"),s=n("kd6D"),c=n("xBZ2"),l=(n("Hm4q"),i.b.string,i.b.string.isRequired,i.b.bool,i.b.bool,i.b.bool,i.b.node,{className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0});function u(e){var t=e.className,n=e.id,r=e.isActive,i=e.isDeactivated,l=e.isDisabled,u=e.secondaryContent,d=void 0;return r?d=l||i?s.c.highlightDim:s.c.highlightLight:(l||i)&&(d=s.c.dim),a.a.createElement(o.a,{className:t,primaryContent:a.a.createElement(c.a,{id:n,isDeactivated:i}),secondaryContent:u,size:"medium",style:d})}u.displayName="MediumMpimListEntity",u.defaultProps=l,t.a=u},j6IP:function(e,t,n){"use strict";n.r(t);var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("zmn3"),h=n("ifKl"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("XHGt"),_=n("yHhI"),O=n("DTT0"),y=n("iZHp"),j=n("FN36"),k=n("uf9I"),E=n("D4L/"),C=n("smxp"),I=n("DtX9"),w=n("13mM"),S=n("N52Z"),T=n("qgNY"),R=n("AzV5"),N=n("P2f5"),x=n("clTI"),M=n("XfeM"),P=n("4zXV"),A=n("om+M"),D=n("OqoL"),L=Object(A.a)("Calls share message API",function(e,t,n){var r=n.messageTs,a=n.messageChannelId,i=n.text,o=n.blocks,s=n.shareChannelId,c=n.reason;return e(Object(P.a)({method:"chat.shareMessage",args:{timestamp:r,channel:a,text:Object(D.b)(t(),i),blocks:JSON.stringify(o),share_channel:s},reason:c}))});L.propTypes={messageTs:m.b.string.isRequired,messageChannelId:m.b.string.isRequired,reason:m.b.string.isRequired,shareChannelId:m.b.string.isRequired,text:m.b.string,blocks:m.b.array};var q=n("hAjP"),F=Object(M.b)("share a message to a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.messageTs,a=n.messageChannelId,i=n.text,o=n.blocks,s=n.shareChannelId;return e(Object(q.h)({channelId:a})),e(L({messageTs:r,messageChannelId:a,text:i,blocks:o,shareChannelId:s,reason:"sendShareMessage"}))});F.propTypes={messageTs:m.b.string,messageChannelId:m.b.string,text:m.b.string,blocks:m.b.array,destinationChannelId:m.b.string};var B=n("N0/W"),U=n("2Zgd"),H=n("h9dl"),K=n("vxHm"),G=n("hOQf"),V=n("0sSB"),z=n("Fdc0"),Y=n("P9LH"),W=n("HO/Y"),Q=n("6kok"),X=n("5mKg"),Z=n("nNoG"),J=n("aLpA"),$=n("ICFZ"),ee=n("t3QL"),te=n("xoiQ"),ne=n("mLe0"),re=n("Xthn"),ae=n("CaXY"),ie=n("XLFM"),oe=n("lV3N"),se=n("C2xn"),ce=n("sJy+"),le=n("U3Q0"),ue=n("RAhH"),de=n("O0RF"),be=n("Rszm"),pe=n("plEq"),he=n("0f2Y"),me=n("IyaR"),fe=n("Y6FH"),ve=n("Hvpu"),ge=n("Zwlx");n("T/b3");n.d(t,"BaseShareDialog",function(){return ke});var _e=new Z.b("share-dialog"),Oe=new Z.b("block_kit"),ye=16,je=(m.b.object,m.b.object,m.b.string,m.b.string,m.b.string,m.b.bool,m.b.object,m.b.string,m.b.arrayOf(m.b.object),m.b.func,m.b.func,m.b.string,m.b.object,m.b.object,m.b.string,m.b.string,m.b.string,m.b.bool,m.b.bool,m.b.string,m.b.object,m.b.bool,m.b.func,m.b.func,m.b.func,m.b.func,m.b.bool.isRequired,m.b.bool.isRequired,m.b.func,m.b.string,m.b.func,m.b.array,m.b.func,m.b.bool,m.b.string,m.b.func,m.b.string,m.b.bool,m.b.bool,m.b.object,{message:null,member:null,messageAuthorName:null,messageAuthorTeamName:null,messageAuthorIconUrl:null,memberIsHuman:!1,channel:null,channelDisplayName:null,filesOnMessage:null,teamDomain:void 0,file:null,fileOwner:null,fileOwnerName:null,fileOwnerTeamName:null,showFileType:!1,teamName:null,disableFileEditingPref:!1,initialText:"",initialContents:void 0,isMessageShare:!0,sendShareMessage:h.a,shareFile:h.a,displayModelOrViewById:h.a,closeModal:h.a,openShareDialog:h.a,getShareableChannelId:h.a,converMsgOpsToRichTextMessage:h.a,msgText:"",setMsgText:h.a,msgOps:void 0,setMsgOps:h.a,featureWysiwygComposer:m.b.bool,selectedChannelId:null,setSelectedChannel:h.a,disallowedKeywordInMsgText:null,canPostInSelectedChannel:!1,featureShowBlockKitInShareDialogs:!1,logger:{error:h.a}}),ke=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTextChange=n.onTextChange.bind(n),n.onShareChannelChange=n.onShareChannelChange.bind(n),n.onGo=n.onGo.bind(n),n.onEnter=n.onEnter.bind(n),n.onCopyLinkClick=n.onCopyLinkClick.bind(n),n.onCopyLinkMouseLeave=n.onCopyLinkMouseLeave.bind(n),n.onLetOthersEditPostCheckboxClick=n.onLetOthersEditPostCheckboxClick.bind(n),n.onNameThisPostInputChange=n.onNameThisPostInputChange.bind(n),n.onShareFileInsteadOfMessageClick=n.onShareFileInsteadOfMessageClick.bind(n),n.setChannelPickerRef=n.setChannelPickerRef.bind(n),n.setMessageInputRef=n.setMessageInputRef.bind(n),n.shouldShowCloseDialogSpeedBump=n.shouldShowCloseDialogSpeedBump.bind(n),n.channelPicker=null,n.messageInput=null,n.state={showCopyLinkSuccess:!1,overMsgLengthLimit:!1,letOthersEditPost:!1,nameThisPostInputValue:"",submitting:!1},n}return b()(t,e),c()(t,[{key:"componentWillMount",value:function(){var e=this.props.channel;if(!this.canShareOutOfOriginChannel()){var t=e&&e.id;this.props.setSelectedChannel(t)}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.message,n=e.file;t||n||this.props.closeModal()}},{key:"onTextChange",value:function(e){var t=e.text,n=e.msgOps,r=e.overLimit;this.props.featureWysiwygComposer?this.props.setMsgOps(n):this.props.setMsgText(t),this.setState(function(){return{overMsgLengthLimit:r}})}},{key:"onShareChannelChange",value:function(e){this.props.setSelectedChannel(e)}},{key:"onShareFileInsteadOfMessageClick",value:function(e){var t=this.props,n=t.msgText,r=t.msgOps,a=t.featureWysiwygComposer;if(e){var i=a?{contents:r}:void 0;this.props.openShareDialog({fileId:e,initialText:a?void 0:n,initialContents:i})}}},{key:"onGo",value:function(){return!this.isGoButtonDisabled()&&(this.props.isMessageShare?(this.shareMessageOnGo(),!0):(this.shareFileOnGo(),!0))}},{key:"onEnter",value:function(){this.onGo()&&this.props.closeModal()}},{key:"onCopyLinkClick",value:function(e){var t=this.props,n=t.isMessageShare,r=t.message,a=t.file,i=t.teamDomain;if(e.preventDefault(),Object($.a)()){var o=n?Object(G.u)({teamDomain:i,channelId:r.channel,ts:r.ts}):a.permalink;o&&(Object($.b)(o),this.setState(function(){return{showCopyLinkSuccess:!0}}))}}},{key:"onCopyLinkMouseLeave",value:function(){this.state.showCopyLinkSuccess&&this.setState(function(){return{showCopyLinkSuccess:!1}})}},{key:"onLetOthersEditPostCheckboxClick",value:function(){this.setState(function(e){return{letOthersEditPost:!e.letOthersEditPost}})}},{key:"onNameThisPostInputChange",value:function(e){this.setState(function(){return{nameThisPostInputValue:e}})}},{key:"getShareFileInsteadOfMessageOption",value:function(){var e=this,t=this.props,n=t.message;if(!t.isMessageShare)return null;var r=n&&n.files&&1===n.files.length&&n.files[0];if(!r)return null;var a=_e.rt("If you\u2019d like, you can <a>share just the file</a> elsewhere.",null,function(t){var n=t.text;return v.a.createElement(he.a,{onClick:function(){return e.onShareFileInsteadOfMessageClick(r)}},n)});return v.a.createElement(v.a.Fragment,null,"\xa0",a)}},{key:"getMessageShareAlertText",value:function(){var e=this.props,t=e.isMessageShare,n=e.channel,r=e.channelDisplayName,a=e.member,i=e.messageAuthorTeamName,o=e.memberIsHuman;if(!t)return null;if(this.canShareOutOfOriginChannel())return o&&Object(z.lb)(a)&&i?_e.rt("<strong>This message is from a member of {team_name}</strong>. You may want to check with them before sharing it.",{team_name:i}):null;var s=void 0;return s=Object(Q.xb)(n)?_e.rt("<strong>This message is from a private channel,</strong> so it can only be shared with <strong>{privateChannelName}</strong>.",{privateChannelName:r,fallbackHash:"39e92abd2263ec15344c8750048f85bbb67ec6eb"}):Object(Q.lb)(n)?_e.rt("<strong>This message is from a private conversation,</strong> so it can only be shared with <strong>{mpimName}</strong>.",{mpimName:r,fallbackHash:"bc7b00c5cab5cc6ac4a46c145022f850e2918db2"}):_e.rt("<strong>This message is from a private conversation,</strong> so it can only be shared with <strong>{imName}</strong>.",{imName:r,fallbackHash:"bc7b00c5cab5cc6ac4a46c145022f850e2918db2"}),v.a.createElement(v.a.Fragment,null,s,this.getShareFileInsteadOfMessageOption())}},{key:"getPrivateFileShareAlert",value:function(){var e=this.props,t=e.isMessageShare,n=e.file,r=e.fileOwner,a=e.fileOwnerName,i=e.fileOwnerTeamName;return t?null:n?Object(z.yb)(r)||n.bot_id?null:Object(Y.E)(n)?_e.rt("This file was sent to you privately. You may want to check with <strong>{fileOwnerName}</strong> before sharing it.",{fileOwnerName:a}):Object(z.lb)(r)&&i?_e.rt("This file was originally uploaded by a member of the <strong>{owner_team}</strong> team. Please make sure you have permission to share it.",{owner_team:i}):null:null}},{key:"getGoogleFileShareAlert",value:function(){var e=this.props,t=e.isMessageShare,n=e.file,r=e.teamName;if(t)return null;if(n&&n.mimetype&&-1!==n.mimetype.indexOf("application/vnd.google-apps")){var a=n.pretty_type?n.pretty_type.replace(/GDocs /,""):null;if(a)switch(a){case"Document":return r?_e.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Document.",{teamName:r}):_e.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Document.");case"Spreadsheet":return r?_e.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Spreadsheet.",{teamName:r}):_e.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Spreadsheet.");case"Presentation":return r?_e.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Presentation.",{teamName:r}):_e.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Presentation.");default:return _e.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google file.")}}return null}},{key:"getFileShareAlertText",value:function(){if(this.props.isMessageShare)return null;var e=this.getPrivateFileShareAlert();if(e)return e;var t=this.getGoogleFileShareAlert();return t||null}},{key:"getCopyLinkTooltipText",value:function(){var e=this.props.isMessageShare;return this.state.showCopyLinkSuccess?_e.t("Copied!"):e?_e.t("You can also copy a link to this message. To share, paste it in any channel or conversation.",{fallbackHash:"47d2c72f9b2aa1d23b1fe4064c2d6dd339e9d2d8"}):_e.t("You can also copy a link to this file. To share, paste it in any channel or conversation.",{fallbackHash:"c18d8866f7af7e53948c4fd1ea0d393c7620a1bd"})}},{key:"getPropsForMessageAttachmentSlackMessage",value:function(){var e=this.props,t=e.message,n=e.channel,r=e.filesOnMessage,a=e.messageAuthorName,i=e.messageAuthorIconUrl,o=e.memberIsHuman,s=e.featureShowBlockKitInShareDialogs;return{ts:t.ts,channelId:t.channel,text:t.blocks&&!s?Oe.t("This content could not be displayed."):t.text,blocks:s?t.blocks:void 0,authorId:t.user||null,authorName:o?null:a,authorIcon:o?null:i,channelName:Object(Q.w)(n),isReplyUnfurl:Object(G.ib)(t),fromUrl:Object(G.u)(t.channel,t.ts),files:r,sourceTeamId:t.source_team_id}}},{key:"setChannelPickerRef",value:function(e){e&&(this.channelPicker=e.getWrappedInstance(),this.focusChannelPickerSelectInput())}},{key:"setMessageInputRef",value:function(e){e&&(this.messageInput=e.getWrappedInstance(),this.canShareOutOfOriginChannel()||this.focusMessageInput())}},{key:"getI18nFileType",value:function(e){switch(e){case"email":return _e.t("email");default:return null}}},{key:"getShareFileTitle",value:function(){var e=this.props,t=e.file;if(e.showFileType&&t.filetype&&"email"===t.filetype){var n=this.getI18nFileType(t.filetype)||"email";return _e.t("Share this {file_type}",{fallbackHash:"79a66cc5e99e52fbae1ead9bfb0fbe7604b0b780",file_type:n})}return _e.t("Share this file",{fallbackHash:"e1822dc04d39ea5719a3f9e8db4206f171eda866"})}},{key:"focusChannelPickerSelectInput",value:function(){this.channelPicker&&this.channelPicker.focusSelectInput()}},{key:"focusMessageInput",value:function(){this.messageInput&&this.messageInput.focus()}},{key:"canShareOutOfOriginChannel",value:function(){var e=this.props,t=e.isMessageShare,n=e.channel;return!t||Object(Q.yb)(n)}},{key:"shouldLetOthersEditPost",value:function(){var e=this.props,t=e.file,n=e.fileOwner,r=e.disableFileEditingPref;return!!t&&(!!Object(K.b)()&&(!!Object(z.yb)(n)&&(!r&&!Object(Y.z)(t))))}},{key:"shouldRenderNameThisPostInput",value:function(){var e=this.props,t=e.file,n=e.fileOwner;return!!t&&(!!Object(K.b)()&&(!!Object(z.yb)(n)&&"-"===t.name))}},{key:"isGoButtonDisabled",value:function(){var e=this.props,t=e.disallowedKeywordInMsgText,n=e.canPostInSelectedChannel,r=e.featureOfflineMode,a=e.isOffline,i=this.state,o=i.overMsgLengthLimit,s=i.nameThisPostInputValue,c=i.submitting,l=s&&s.length>J.v;return r&&a||!n||!!t||o||l||c}},{key:"shouldShowCloseDialogSpeedBump",value:function(e){var t=this.props,n=t.msgText,r=t.msgOps,a=t.featureWysiwygComposer?Object(ne.b)(r):n.length;return"go"!==e&&a>J.h}},{key:"shareMessageOnGo",value:function(){var e=this,t=this.props,n=t.message,r=t.channel,a=t.selectedChannelId,i=t.getShareableChannelId,o=t.msgText,s=t.msgOps,c=t.featureWysiwygComposer,l=n.ts,u=r.id;a&&(i({channelOrMemberId:a}).then(function(t){var n=void 0;c&&(n=e.props.converMsgOpsToRichTextMessage({msgOps:s,channelId:t})),e.props.sendShareMessage({messageTs:l,messageChannelId:u,text:o,blocks:n,shareChannelId:t}).then(function(){e.props.displayModelOrViewById({id:t})}).catch(function(t){e.props.logger.error(t)})}),this.setState(function(){return{submitting:!0}}))}},{key:"shareFileOnGo",value:function(){var e=this,t=this.props,n=t.file,r=t.selectedChannelId,a=t.getShareableChannelId,i=t.msgText,o=t.msgOps,s=t.featureWysiwygComposer,c=this.state,l=c.letOthersEditPost,u=c.nameThisPostInputValue;if(r){var d=function(){a({channelOrMemberId:r}).then(function(t){var r=void 0;s&&(r=e.props.converMsgOpsToRichTextMessage({msgOps:o,channelId:t})),e.props.shareFile({fileId:n.id,channelId:t,msgText:i,blocks:r,shareQuietly:!1}).then(function(){Object(K.b)()||e.props.displayModelOrViewById({id:t})}).catch(function(){e.props.logger.error("files.share failed")})})};if(Object(K.b)()){var b=u||n.title||"Untitled";Object(K.c)(l,b,d)}else d();this.setState(function(){return{submitting:!0}})}}},{key:"renderChannelPicker",value:function(){var e=this.props.selectedChannelId;return this.canShareOutOfOriginChannel()?v.a.createElement("div",{className:"p-share_dialog__section"},v.a.createElement("p",{className:"p-share_dialog__section_label"},_e.t("Share with")),v.a.createElement(fe.a,{onChange:this.onShareChannelChange,initialChannelId:e,ref:this.setChannelPickerRef})):null}},{key:"renderCollabEditingOption",value:function(){var e=this.state.letOthersEditPost;if(!this.shouldLetOthersEditPost())return null;var t="share_dialog__let_other_edit_post_checkbox";return v.a.createElement("div",{className:"p-share_dialog__section"},v.a.createElement(de.a,{htmlFor:t,type:"inline",text:_e.t("Let others edit this post")},v.a.createElement(be.a,{id:t,checked:e,onChange:this.onLetOthersEditPostCheckboxClick})))}},{key:"renderShareAlert",value:function(){var e=this.props.isMessageShare?this.getMessageShareAlertText():this.getFileShareAlertText(),t=Object(ge.a)(a()({},this.props,{canShareOutOfOriginChannel:this.canShareOutOfOriginChannel()}));return e||t?v.a.createElement("div",{className:"p-share_dialog__section"},v.a.createElement(ce.d,{type:"inline",level:"warning",className:"margin_bottom_100"},e?v.a.createElement("span",{className:"p-share_dialog__warning_message"},e):null,t)):null}},{key:"renderCopyLinkButton",value:function(){var e=this.state.showCopyLinkSuccess;return Object($.a)()&&this.canShareOutOfOriginChannel()?v.a.createElement("span",{onMouseLeave:this.onCopyLinkMouseLeave},v.a.createElement(ue.c,{tip:this.getCopyLinkTooltipText(),zIndex:"above_fs",status:e?"success":null},v.a.createElement(ie.d,{onClick:this.onCopyLinkClick,type:"outline"},_e.t("Copy Link")))):null}},{key:"renderNameThisPostInput",value:function(){var e=this.state.nameThisPostInputValue;if(!this.shouldRenderNameThisPostInput())return null;var t="p-share_dialog__name_this_post_input";return v.a.createElement("div",{className:"p-share_dialog__section p-share_dialog__section_bottom_padding"},v.a.createElement(de.a,{htmlFor:t,text:_e.t("Name this post"),optional:!0},v.a.createElement(pe.a,{id:t,name:t,maxCharacterLimit:J.v,counterMinimumCharacters:J.E,onChange:this.onNameThisPostInputChange,value:e})))}},{key:"renderMessagePreview",value:function(){var e=this.props,t=e.message,n=e.featureShowBlockKitInShareDialogs,r=null;return r=!t.text&&!t.blocks&&t.attachments&&t.attachments.length?Object(p.a)(t.attachments,function(e,r){var i=Object(ee.b)(e),o=i.id||r+1,s=i.botId||t.botId;return i.blocks&&!n&&(delete i.blocks,i.text=Oe.t("This content could not be displayed.")),v.a.createElement(oe.a,a()({},i,{key:o,showDelete:!1,service:s,messageTs:t.ts,activeChannelId:t.channel,blocksContainerContext:ae.a.share_dialog}))}):v.a.createElement(oe.a,a()({isMsgUnfurl:!0,showDelete:!1,messageTs:t.ts,activeChannelId:t.channel,blocksContainerContext:ae.a.share_dialog},this.getPropsForMessageAttachmentSlackMessage())),v.a.createElement("div",{className:"p-share_dialog__section"},r)}},{key:"renderFilePreivew",value:function(){var e=this.props.file;return this.shouldRenderNameThisPostInput()?null:v.a.createElement("div",{className:"p-share_dialog__section"},v.a.createElement(se.a,{file:e}))}},{key:"render",value:function(){var e=this.props,t=e.isMessageShare,n=e.msgText,r=e.initialContents,a=e.message,i=e.file,o=e.selectedChannelId,s=e.featureOfflineMode,c=e.isOffline;if(!a&&!i)return null;var l=t?_e.t("Share this message",{fallbackHash:"1ed2e7b50fa1dbbf1693d1c38adf270c04db10c6"}):this.getShareFileTitle(),u=_e.t("Add a message, if you\u2019d like.",{fallbackHash:"e3320c2e9e3a7761b9941eabfe88ca018472c9db"}),d=s&&c?v.a.createElement(ce.d,{icon:"cloud-offline",level:"info"},t?_e.rt("<strong>No connection.</strong> You'll be able to share messages as soon as you're back online."):_e.rt("<strong>No connection.</strong> You'll be able to share files as soon as you're back online.")):null;return v.a.createElement(le.a,{className:"p-share_dialog__modal",title:l,goButtonText:_e.t("Share",{fallbackHash:"9bc2575c3930437e80555f78757b783c842e8e66"}),onGo:this.onGo,showCancelButton:!1,getShouldShowSpeedBump:this.shouldShowCloseDialogSpeedBump,speedBumpCancelButtonText:_e.t("No, keep it"),speedBumpContinueButtonText:_e.t("Yes, discard the message"),speedBumpBodyText:_e.t("Closing the window will discard your message"),footerText:this.renderCopyLinkButton(),goButtonIsDisabled:this.isGoButtonDisabled(),useSlackScrollbarWithPadding:!0},d,this.renderChannelPicker(),this.renderCollabEditingOption(),this.renderShareAlert(),v.a.createElement("div",{className:"p-share_dialog__section"},v.a.createElement(me.a,{channelId:o,text:n,initialContents:r,onTextChange:this.onTextChange,placeholder:u,ariaLabel:u,onEnter:this.onEnter,ref:this.setMessageInputRef})),this.renderNameThisPostInput(),t?this.renderMessagePreview():this.renderFilePreivew())}}]),t}(f.Component);ke.displayName="ShareDialog",ke.defaultProps=je;var Ee={sendShareMessage:F,displayModelOrViewById:function(){return T.a.apply(void 0,arguments)},closeModal:O.a,getShareableChannelId:H.a,openShareDialog:function(e){return function(t){return t(Object(y.a)(e))}},shareFile:B.o,converMsgOpsToRichTextMessage:function(){return R.a.apply(void 0,arguments)}},Ce=Object(g.b)(function(e,t){var n=t.ts,r=t.channelId,i=t.fileId,o=Object(_.a)({state:e}),s=Object(ve.b)(e,t),c=!Object(w.c)(e),l=Object(W.j)(e,"feature_offline_mode");if(n&&r){var u=Object(C.a)(e,r,n)||Object(U.d)(n,r);if(!u)return o.error("Couldn't find share message in redux, aborting share dialog"),{};var d=u.user,b=u.bot_id,h=u.bot_profile,m=Object(S.g)(e,{userId:d,botId:b,botProfile:h}),f=m.member,v=m.bot,g=m.memberIsHuman,O=Object(re.a)(e,{userId:d,botId:b,username:u.username,botProfile:h}),y=Object(E.d)(e),T=y&&y.id,R=Object(V.c)({member:f,bot:v,botProfile:h,currentTeamId:T}),M=Object(E.i)(e,R),P=Object(X.e)(M),A=void 0,D=u.icons||h&&h.icons||v&&v.icons,L=Object(te.a)({size:ye,teamId:R,memberId:f&&f.id,avatarHash:f&&f.profile&&f.profile.avatar_hash,emoji:D&&D.emoji,isBot:!g,botImages:D});A=L.emoji&&D.image_64?D.image_64:L.imageUrl2x;var q=Object(x.d)(e,r)||Object(x.j)(e,r),F=u&&u.files?Object(p.a)(u.files,function(t){return Object(N.h)(e,t)}):[];return a()({},s,{message:u,member:f,messageAuthorName:O,messageAuthorTeamName:P,messageAuthorIconUrl:A,memberIsHuman:g,channel:q,channelDisplayName:Object(Q.x)(e,q,{imIncludeAtSign:!1}),filesOnMessage:F,isMessageShare:!0,teamDomain:y&&y.domain,featureShowBlockKitInShareDialogs:Object(W.j)(e,"feature_show_block_kit_in_share_dialogs"),isOffline:c,featureOfflineMode:l,logger:o})}if(i){var B=Object(N.h)(e,i);if(!B)return o.error("Couldn't find share file in redux, aborting share dialog"),{};var H=Object(I.c)(e,B&&B.user),K=Object(z.P)(e,H),G=Object(E.i)(e,H.team_id),Y=Object(X.e)(G),Z=Object(k.b)(e),J=Object(E.i)(e,Z),$=Object(X.e)(J);return a()({},s,{file:B,fileOwner:H,fileOwnerName:K,fileOwnerTeamName:Y,teamName:$,disableFileEditingPref:Object(j.a)(e,"disable_file_editing"),isMessageShare:!1,isOffline:c,featureOfflineMode:l,logger:o})}return{}},Ee)(ke);t.default=Object(ve.a)(Ce)},jCkK:function(e,t,n){},jCrQ:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("wYji"),o=n("bcDH"),s=n("K2yZ"),c=n("eCgt"),l=n("d24p"),u=n("HO/Y"),d=n("ntJl"),b=n("DtX9"),p=n("1zbP"),h=n("GPfB"),m=n("6kok"),f=n("Fdc0"),v=n("aXcD"),g=n("aLpA"),_=n("FHcd"),O=n("yHhI"),y=new(n("nNoG").b)("cmd_handlers"),j=g.P.CUSTOM_ERROR,k=function(e){var t=new Error(j);return t.feedback=e,Promise.reject(t)},E=function(){return k(y.t("A valid member name is required."))},C=function(){return k(y.t("A valid channel name is required."))},I=function(){return k(y.t("Hmm, something went wrong. Try again?"))},w=Object(a.b)("/msg slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.words,a=n.originalRest,g=n.originalText,w=t();if(1===r.length)return Object(u.j)(w,"feature_sonic_dm_browser")?e(Object(l.a)()):Object(h.a)(),Promise.resolve();var S=r[1],T=void 0,R="";if(Object(_.a)(S)){var N="@"===S[0]?S.substr(1):S,x=Object(b.c)(w,N,!1);if(Object(p.b)(x)){var M=v.a.exec(a);if(M?R=a.substr(M[0].length).trim():Object(O.a)({state:w,label:"/msg"}).warn("Improperly encoded @mention in /msg"),Object(f.eb)(x)&&R)return k(y.t("That user has been deactivated."));T=e(Object(d.startImByMemberId)({memberId:N}))}else T=E()}else"#"===S[0]?(R=a.substr(S.length).trim(),T=e(Object(s.a)({name:S})).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;if(!Object(p.b)(n))return C();if(Object(m.V)(n)&&R){var r="";return Object(u.j)(t(),"feature_sonic_inputs")&&(r=Object(m.yb)(n)?y.t("That channel has been archived."):y.t("That private channel has been archived.")),k(r)}return e(Object(o.a)({channelId:n.id})).then(function(){return n})})):T=E();return T.then(function(t){return t?R?e(Object(c.a)({channelId:t.id,text:R,enableSlashCommands:!1})).catch(function(){return e(Object(i.b)({message:{text:y.t("Hmm, something went wrong. Try again?"),slackbot_feels:"sad_surprise",channel:t.id},inputText:g}))}):Promise.resolve():I()}).catch(function(e){if(e&&e.message===j)throw e;switch(e&&e.data&&e.data.error){case"user_not_found":return E();case"channel_not_found":return C();default:return I()}})});w.propTypes={words:r.b.arrayOf(r.b.string.isRequired).isRequired,originalRest:r.b.string.isRequired,originalText:r.b.string.isRequired},t.default=w},jK7E:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ROZo"),a=Object(r.b)("TS.ui.edit_member_profile.start")},jKkg:function(e,t,n){"use strict";var r=n("Fsnq"),a=n("9mJw"),i=n("hbEN"),o=n("QEec"),s=n("NFsq"),c=n("Wy5O"),l=n("fujP"),u=n("mkut"),d=n("wd/R"),b=n.n(d),p=n("aK/h"),h=n("XfeM"),m=n("uf9I"),f=n("HO/Y"),v=n("FSos"),g=n("BicV"),_=n("/LVU"),O=n("DtX9"),y=n("Fdc0"),j=n("yHhI"),k=n("ROZo"),E=Object(k.b)("TS.dnd.dnd_statuses_changed_sig.dispatch"),C=Object(k.b)("TS.dnd.current_user_dnd_status_changed_sig.dispatch"),I=n("x4bP");n.d(t,"d",function(){return S}),n.d(t,"a",function(){return R}),n.d(t,"c",function(){return N}),n.d(t,"b",function(){return x});var w={},S=Object(h.b)("Updates the DND schedule and snooze info for the current member",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nextDndStartTs,a=n.nextDndEndTs,i=n.snoozeEnabled,o=n.snoozeEndTs,s=t(),c=Object(f.b)(s);o&&e(Object(g.k)({snoozeEnabled:i,snoozeEndTs:o})),e(Object(g.i)({memberId:c,nextDndStartTs:r,nextDndEndTs:a}))});S.propTypes=p.b.shape({nextDndStartTs:p.b.number.isRequired,nextDndEndTs:p.b.number.isRequired,snoozeEnabled:p.b.bool,snoozeEndTs:p.b.number});var T=Object(h.b)("Removes member data from the DND store if they are not in the presence subscription",function(e,t){var n=t(),r=Object(j.a)({state:n}),a=Object(m.b)(n),i=Object(v.b)(a),o=Object(g.b)(n),s=Object(c.a)(Object(u.a)(o),Object(u.a)(i));Object(l.a)(s)||(r.info("DND","Removing DND data for the following members: "+s),e(Object(g.g)({memberIds:s})))}),R=Object(h.b)("Checks to see if members should move into or out of DND",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchDndTimes,r=void 0===n||n,a=t();if(Object(f.j)(a,"feature_sonic_dnd_manager")){var i=Object(g.b)(a);if(!Object(l.a)(i)){var s=Object(f.b)(a),c=Object(j.a)({state:a}),d=[],p=[];c.info("DND","Checking for changes in DND status for the following members: "+Object(u.a)(i)),Object(o.a)(i,function(t,n){var i=t.nextDndStartTs,o=t.nextDndEndTs,l=n,u=Object(g.d)(a,l),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nextDndStartTs,n=e.nextDndEndTs,r=e.now,a=void 0===r?b()().unix():r;return 1!==t&&1!==n&&t<=a&&n>a}({nextDndStartTs:i,nextDndEndTs:o});if(u!==h){if(e(Object(g.h)({memberId:l,isInDnd:h})),!0===h&&p.push(l),l===s&&!Object(I.a)()){var m=Object(O.c)(a,s);C(),E([m])}if(!1===h&&void 0!==u)if(l===s){if(Object(g.f)(a).snoozeEnabled&&e(Object(g.k)({snoozeEnabled:!1,snoozeEndTs:void 0})),!r)return;c.info("DND","DND ended for the current member ("+s+") and we're preparing to fetch new DND info for them"),e(Object(_.c)({memberId:s,reason:"checkForChangesInDndStatus"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.nextDndStartTs,r=t.nextDndEndTs,a=t.snoozeEnabled,i=t.snoozeEndTs;e(S({nextDndStartTs:n,nextDndEndTs:r,snoozeEnabled:a,snoozeEndTs:i})),e(M())})}else d.push(l)}if(!0===u&&!0===h&&l===s){var f=b()().unix(),v=Object(g.f)(a).snoozeEndTs;v&&v<=f&&(c.info("DND","Changing the current members DND type from DND snooze to DND schedule"),e(Object(g.k)({snoozeEnabled:!1,snoozeEndTs:void 0})))}});var h=[].concat(d,p);if(!Object(l.a)(h)&&!Object(I.a)()){var m=h.map(function(e){return Object(O.c)(a,e)});E(m)}Object(l.a)(p)||c.info("DND","Moved the following members into DND: "+p),e(M()),Object(l.a)(d)||r&&(c.info("DND","DND ended for the following members and we're preparing to fetch new DND info for them: "+d),e(Object(_.d)({memberIds:d,reason:"checkForChangesInDndStatus"})).then(function(t){e(Object(g.j)(t)),e(M())}))}}});R.propTypes={fetchDndTimes:p.b.bool.isRequired};var N=Object(h.b)("Checks the DND Store to see if we have DND schedules for the members in the presence subscription",function(e,t){var n=t();if(Object(f.j)(n,"feature_sonic_dnd_manager")){var a=Object(m.b)(n),i=Object(u.a)(Object(v.b)(a));if(!Object(l.a)(i)){var o=Object(j.a)({state:n}),d=Object(g.b)(n),b=Object(u.a)(d);Object(r.a)(d)>=1e3&&e(T());var p=Object(c.a)(i,b).map(function(e){return Object(O.c)(n,e)}).filter(function(e){return e&&!Object(y.ab)(e)&&!Object(y.eb)(e)&&!Object(y.lb)(e)}).map(function(e){return e.id});if(Object(l.a)(p))o.info("DND","There are no members in the presence subscription that we need to fetch DND times for!");else{o.info("DND","Preparing to fetch DND times for the following members: "+p);var h=Object(f.b)(n);if(Object(s.a)(p,h)){e(Object(_.c)({memberId:h,reason:"getDndTimesForSubscribedMembers"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.nextDndStartTs,r=t.nextDndEndTs,a=t.snoozeEnabled,i=t.snoozeEndTs;e(S({nextDndStartTs:n,nextDndEndTs:r,snoozeEnabled:a,snoozeEndTs:i})),e(R({fetchDndTimes:!1}))});var k=p.filter(function(e){return e!==h});if(Object(l.a)(k))return;e(Object(_.d)({memberIds:k,reason:"getDndTimesForSubscribedMembers:self"})).then(function(t){e(Object(g.j)(t)),e(R({fetchDndTimes:!1}))})}else e(Object(_.d)({memberIds:p,reason:"getDndTimesForSubscribedMembers:other"})).then(function(t){e(Object(g.j)(t)),e(R({fetchDndTimes:!1}))})}}}}),x=Object(i.a)(function(e){e(N())},500),M=Object(h.b)("Sets a timer that fires whenever the next time a member in the DND store should have their DND status changed",function(e,t){var n=t(),r=Object(j.a)({state:n}),i=Object(m.b)(n),s=b()().unix(),c=Object(f.b)(n);clearTimeout(w[i]);var u=Object(g.b)(n);if(!Object(l.a)(u)){var d=s+300;Object(o.a)(u,function(e,t){var r=e.nextDndStartTs,a=e.nextDndEndTs;if(1!==r&&1!==a){var i=r>s?r:a;if(t===c){var o=Object(g.f)(n).snoozeEndTs;o&&o<a&&(i=o)}(!d||i<d)&&(d=i)}}),d-s<15&&(d=s+15),d-s>300&&(d=s+300);var p=1e3*(d-s),h=Object(a.a)(p/1e3/60,2);r.info("DND","Will check for changes in DND status again in "+h+" minutes"),w[i]=setTimeout(function(){e(R({fetchDndTimes:!0}))},p)}})},jLdI:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("wdjV"),c=n("hOQf"),l=n("6kok"),u=n("clTI"),d=n("kOzZ"),b=Object(o.b)("Clogs a link click in a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.msg,i=n.payload,o=void 0===i?{}:i,b=t(),p=Object(d.a)({state:b}),h=r.ts,m=r.channel,f=Object(c.Q)(b,r),v=f.userId,g=f.appId,_=f.botId,O=m?Object(u.d)(b,m):null,y=O?Object(l.t)(O):null,j=Object(s.b)(b),k=a()({},o,{message_timestamp:h,channel_id:m,channel_type:m?m.charAt(0):null,channel_privacy_type:y,channel_session_id:j,member_id:v,app_id:g,bot_id:_});p.track("MSG_LINK_CLICKED",k),"msg_photo_expand"===o.subtype?p.track("MSG_PHOTO_EXPAND",k):"copy_link"===o.subtype?p.track("MSG_LINK_COPY",k):"video_play"===o.subtype?p.track("MSG_VIDEO_PLAY",k):"file_download"===o.subtype?p.track("FILE_DOWNLOAD",k):"file_expand"===o.subtype?p.track("PREVIEW_EXPAND",k):"file_collapse"===o.subtype&&p.track("PREVIEW_COLLAPSE",k)});b.propTypes={msg:i.b.shape({ts:i.b.string,channel:i.b.string,user:i.b.string,appId:i.b.string,botId:i.b.string}).isRequired,payload:i.b.object},t.a=b},jQjR:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("xWuZ"),i=n("6LPd"),o=n("XfeM"),s=n("wYji"),c=n("smxp"),l=n("9HJ0"),u=n("HHn2"),d=new(n("nNoG").b)("cmd_handlers"),b=Object(o.b)("/collapse slash command",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=Object.values(Object(c.b)(t(),n)||{}),o=Object(a.a)(r.map(function(e){return Object(u.b)(e)})),b=Object(i.a)(o,o.map(function(){return!1}));e(Object(l.a)(b)),e(Object(s.b)({temporary:!1,message:{text:d.t("I\u2019ve collapsed all files in this channel for you."),channel:n}}))});b.propTypes={channelId:r.b.string.isRequired},t.default=b},jUSB:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("yHhI");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=s(e)||function(e){var t=new Audio(e);return o[e]=t,t}(e);return n.loop=!!t.loop,n.currentTime=0,n.play().catch(function(t){throw Object(r.b)().error("Failed to play sound: "+e+" with reason: "+t),new Error(t)})}function i(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{logFailure:!0}).logFailure,n=s(e);n?n.pause():t&&Object(r.b)().warn("Tried to stop sound, but no sound was playing matching url: "+e)}var o={};function s(e){return o[e]}},jWJI:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("tfYw"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("QbLZ"),h=n.n(p),m=n("ifKl"),f=n("fujP"),v=n("aK/h"),g=n("XHGt"),_=n("q2TN"),O=n("xtGC"),y=n("uf9I"),j=n("yHhI"),k=n("24sB"),E=n("x4bP"),C="WITH_SERIALIZATION",I=function(e){return Object.keys(e).filter(function(t){return!Object(k.a)(e[t])})},w=function(e,t){var n=t.serializationKey,r=Object(y.b)(e),a=Object(_.d)(e,n)||{},i=a.serializedProps,o=a.serializedState;return h()({},i,{serializationPrevState:o,serializationTeamId:r})},S=function(e,t,n){return h()({},e,t,n)},T={withRef:!0};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getStateToSerialize,r=void 0===n?function(e){return e.state}:n,i=t.getDerivedProps,s=void 0===i?m.a:i,l=t.updateStore,d=void 0===l?m.a:l;if(!Object(E.a)())return e;if("Connect"===e.name)throw new Error('Cannot accept connected component "'+e.displayName+'"');var p=function(e){function t(e){var n;a()(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=c()(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));s.handleSerializationCallback=s.handleSerializationCallback.bind(s);var l=e.serializationTeamId,u=e.serializationPrevState;return s._logger=Object(j.a)({teamId:l}),u&&(s.state=u),s}return b()(t,e),o()(t,[{key:"handleSerializationCallback",value:function(){var e=this.props,t=e.dispatch,n=e.serializationKey,a={state:this.state,instance:this},i=r(a),o=s(a);if(i){var c=I(i);if(c.length)return void this._logger.error(C,"unserializable state keys ("+c+")")}if(o){var l=I(o);if(l.length)return void this._logger.error(C,"unserializable props keys ("+l+")")}d(h()({},a,{dispatch:t})),Object(f.a)(i)&&Object(f.a)(o)||t(Object(_.e)({key:n,serializedState:i,serializedProps:o}))}},{key:"componentDidMount",value:function(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)&&(e=u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)).call.apply(e,[this].concat(r));var i=this.props.serializationKey;try{Object(O.a)(i,this.handleSerializationCallback)}catch(e){this._logger.error(C,e)}}},{key:"componentWillUnmount",value:function(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&(e=u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)).call.apply(e,[this].concat(r));var i=this.props.serializationKey;try{Object(O.b)(i)}catch(e){this._logger.error(C,e)}}}]),t}(e);return p.propTypes=h()({},e.propTypes,{serializationKey:v.b.string.isRequired,serializationTeamId:v.b.string.isRequired,serializationPrevState:v.b.object,dispatch:v.b.func}),p.defaultProps=h()({},e.defaultProps,{dispatch:m.a}),p.displayName="Serialized("+e.displayName+")",Object(g.b)(w,null,S,T)(p)}},jYCR:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("fujP"),c=n("xWuZ"),l=n("TGBA"),u=n("lCmp"),d=n("ifKl"),b=n("gSGL"),p=n("3Hq1"),h=n("wBxZ"),m=n("1+fu"),f=n("aK/h"),v=n("XfeM"),g=n("wfE8"),_=n("CPJ1"),O=n("kpmE"),y=n("X7d8"),j=n("clTI"),k=n("0u40"),E=n("DtX9"),C=n("QYR6"),I=n("ITcr"),w=n("1VpL"),S=n("9gxL"),T=n("pGee"),R=n("D4L/"),N=n("iegW"),x=n("uf9I"),M=n("HO/Y"),P=n("+epm"),A=n("13mM"),D=n("St+r"),L=n("5tH5"),q=n("bHK9"),F=n("6kok"),B=n("Fdc0"),U=n("5mKg"),H=n("DQNL"),K=n("Qrgz"),G=n("zbZx"),V=function(e){return a()({},e,{is_app_action:!0,originalId:e.id,id:(t=e.id,"_GA"+t)});var t},z=n("Zr7G"),Y=n("oLrU"),W=n("kOzZ"),Q=n("negh"),X=n("Z7Ay"),Z=n("lhZz"),J=n("XzsM"),$=n("iCc5"),ee=n.n($),te=n("V7oC"),ne=n.n(te),re=n("BvK0"),ae=n("uKXT"),ie=n("DKof"),oe=n("K7CU"),se=n("Fuyg"),ce=new(n("nNoG").b)("utility");var le={war:["man-wearing-turban"],dead:["older_adult"],macht:["mannlichkeitssymbol"],shoot:["school_satchel"],wrong:["woman-rowing-boat"],hitler:["white_flower"]},ue=n("hE2u"),de=function(){function e(t){var n=t.query,r=void 0===n?"":n,a=t.options,i=void 0===a?{}:a;ee()(this,e),this.options=i,this.query=Object(se.a)(r),this.fuzzyLimit=this.options.fuzzyLimit?this.options.fuzzyLimit:3,this.allowEmptyQuery=this.options.allowEmptyQuery,this.preferExactMatch=this.options.sort&&this.options.sort.preferExactMatch,this.filter=this.options.filter||d.a,this.matcher=new ue.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzball:this.options.fuzzball})}return ne()(e,[{key:"filterMembers",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(Object(B.Gb)(t))return e;if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.scoreMemberName(t),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isMemberExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"scoreMemberName",value:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.matcher;if(Object(B.yb)(e)&&(t=this.query,n=ce.t("me"),r=ce.t("you"),"me"===(a=Object(se.a)(t))||"you"===a||a===n||a===r))return 0;var o,s=1/0,c=Object(B.F)(e),l=Object(B.C)(e);return o=i.score(c),l&&(s=i.score(l)),Math.min(o,s)}},{key:"filterChannels",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(t,a){if(Object(F.Jb)(a))return t;if(n.shouldFilterItem(a,r))return t;if(!n.query&&n.allowEmptyQuery)return t.push({item:a,score:0}),t;var i=Object(se.a)(Object(F.x)(e,a,{publicChannelIncludeHashSign:!1})),o=n.matcher.score(i),s={item:a,score:o};n.preferExactMatch&&(s.isExactMatch=n.isChannelExactMatch(e,a));var c=n.options.entities&&n.options.entities.channels&&n.options.entities.channels.searchPreviousNames,l=a.previous_names&&a.previous_names.length;if(c&&l){var d=a.previous_names.map(function(e){return{score:n.matcher.normalizeAndScore(e),name:e}});s.previousNameScores=d;var b=Object(u.a)(d,function(e){return e.score<=n.fuzzyLimit}),p=null;if(b&&o>n.fuzzyLimit){var h=Object(re.a)(d,"score");p=h&&h.name}return s.bestPreviousNameMatch=p,(o<=n.fuzzyLimit||b)&&t.push(s),t}return o<=n.fuzzyLimit&&t.push(s),t},[])}},{key:"filterTeams",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(Object(U.M)(t))return e;if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.matcher.normalizeAndScore(Object(U.e)(t)),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isTeamExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"filterUserGroups",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(Object(H.t)(t))return e;if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.scoreUserGroupName(t),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isUsergroupExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"scoreUserGroupName",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.matcher,r=1/0,a=Object(H.i)(e)||Object(H.h)(e).toLocaleLowerCase(),i=Object(H.f)(e,{includeAtSign:!1});return t=n.normalizeAndScore(a),i&&(r=n.normalizeAndScore(i)),Math.min(t,r)}},{key:"getSubQueryMatchers",value:function(){var e=this;return this.query.split(/[,| ]/).filter(function(e){return!!e}).map(function(t){var n="@"===t.charAt("0")?t.substring(1):t;return new ue.b(n,{fuzzyLimit:e.fuzzyLimit,fuzzball:e.options.fuzzball})})}},{key:"filterMpims",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(t,a){if(n.shouldFilterItem(a,r))return t;if(!n.query&&n.allowEmptyQuery)return t.push({item:a,score:0}),t;var i=Object(F.H)(a);if(!i)return null;var o=i.map(function(t){return Object(E.c)(e,t)}).filter(function(e){return!Object(B.yb)(e)&&!Object(B.Gb)(e)}),s=n.getSubQueryMatchers().map(function(e){var t=o.map(function(t){return n.scoreMemberName(t,e)});return Object(ae.a)(t)}),c=Object(ie.a)(s),l={item:a,score:c};return c<=n.fuzzyLimit&&t.push(l),t},[])}},{key:"filterViews",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.matcher.normalizeAndScore(t.name),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isViewExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"filterAppActions",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.matcher.normalizeAndScore(t.name),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isAppActionExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"filterBroadcastKeywords",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return t.reduce(function(e,t){if(n.shouldFilterItem(t,r))return e;if(!n.query&&n.allowEmptyQuery)return e.push({item:t,score:0}),e;var a=n.scoreBroadcastKeyword(t),i={item:t,score:a};return n.preferExactMatch&&(i.isExactMatch=n.isBroadcastKeywordExactMatch(t)),a<=n.fuzzyLimit&&e.push(i),e},[])}},{key:"scoreBroadcastKeyword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.matcher,n=1/0,r=1/0,a=t.normalizeAndScore(e.name);return"BKchannel"===e.id&&(n=t.normalizeAndScore("group")),e.ms_name!==e.name&&(r=t.normalizeAndScore(e.ms_name)),Math.min(a,r,n)}},{key:"filterEmoji",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a,a=[];return t.forEach(function(e){if(!n.shouldFilterItem(e,r))if(n.query||!n.allowEmptyQuery){var t=Object(oe.e)(e),i=void 0,o=void 0,s=void 0,c=void 0,l=void 0;t.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.displayName;if(t){var a=Object(se.a)(t),u=n.scoreEmojiName(a);(u.score<i||void 0===i)&&(i=u.score,o=u.matchIndices,s=t,c=t,l=n.query===a||"ok_hand"===t&&"ok"===n.query)}if(r&&r!==t){var d=Object(se.a)(r),b=n.scoreEmojiName(d);(b.score<i||void 0===i)&&(i=b.score,o=b.matchIndices,s=r,c=t,l=n.query===d)}});var u=n.options&&n.options.entities&&n.options.entities.emoji&&n.options.entities.emoji.matchKeywords,d=!(!e.keywords||!e.keywords.length),b=!1;if(i===1/0&&u&&d&&(b=e.keywords.some(function(e){return n.matcher.normalizeAndScore(e)<1/0})),i!==1/0||b){var p={item:e,emojiScore:i,emojiBestNameMatch:s,emojiBestNameMatchCanonical:c,emojiMatchIndices:o};n.preferExactMatch&&(p.isExactMatch=l,p.isEmojiExactMatch=l),a.push(p)}}else a.push({item:e,emojiScore:0,emojiMatchIndices:[]})}),a}},{key:"scoreEmojiName",value:function(e){if(!e)return{score:1/0,matchIndices:[]};if("ok_hand"===e&&"ok"===this.query)return{score:0,matchIndices:[0,1]};if(le[this.query]&&-1!==le[this.query].indexOf(e))return{score:1/0,matchIndices:[]};var t=this.query.length,n=[],r=2,a=5;t<3?(r=0,a=0):3===t?(r=1,a=1):4===t&&(r=1);var i=1/0,o=e.indexOf(this.query);if(-1===o&&(o=e.indexOf(this.query[0])),-1!==o){for(var s=/[-]+/g,c=this.query.replace(/\s+/g,"").replace(s,"_"),l=e.replace(s,"_"),u=c.split(""),d=0,b=0,p=0,h=!0,m=o;m<l.length;m++){if(l[m]===u[0]){if(h=!0,n.push(m),u.shift(),p>b&&(b=p),p=0,0===u.length)break}else h&&(d+=1),h=!1,p+=1;if(d>r)return{score:i,matchIndices:n};if(p>a)return{score:i,matchIndices:n}}if(u.length>0)return{score:i,matchIndices:n};i=1-c.length/l.length,d>0&&(i+=d)}return{score:i,matchIndices:n}}},{key:"shouldFilterItem",value:function(e,t){return!1===t(e)||!1===this.filter(e)}},{key:"isMemberExactMatch",value:function(e){if(!this.query||!this.query.length)return!1;var t=Object(B.F)(e);return Object(B.C)(e)===this.query||t===this.query}},{key:"isChannelExactMatch",value:function(e,t){return!(!this.query||!this.query.length)&&Object(se.a)(Object(F.x)(e,t,{publicChannelIncludeHashSign:!1}))===this.query}},{key:"isAppActionExactMatch",value:function(e){return!(!this.query||!this.query.length)&&Object(se.a)(e.name)===this.query}},{key:"isTeamExactMatch",value:function(e){return!(!this.query||!this.query.length)&&Object(se.a)(Object(U.e)(e))===this.query}},{key:"isUsergroupExactMatch",value:function(e){return!(!this.query||!this.query.length)&&(Object(se.a)(Object(H.f)(e))===this.query||Object(se.a)(Object(H.h)(e))===this.query)}},{key:"isBroadcastKeywordExactMatch",value:function(e){return!(!this.query||!this.query.length)&&(Object(se.a)(e.name)===this.query||Object(se.a)(e.ms_name)===this.query)}},{key:"isViewExactMatch",value:function(e){return!(!this.query||!this.query.length)&&Object(se.a)(e.name)===this.query}}]),e}(),be=n("Olm7"),pe=n("9ndk"),he=n("HKE1"),me=n("rtjy"),fe=n("dyRQ"),ve=n("4qCO"),ge=10,_e=25,Oe=-50,ye=-50,je=-50,ke=-15,Ee=-25,Ce=-25,Ie=50,we=150,Se=100,Te=-50,Re=function(){function e(t){var n=t.query,r=t.options,a=void 0===r?{}:r;ee()(this,e),this.options=a,this.query=n}return ne()(e,[{key:"sort",value:function(e,t){var n=Object(z.c)({state:e});n.mark("modern-searcher-sorting-mark");var r=t.members,a=t.channels,i=t.mpims,s=t.teams,c=t.userGroups,l=t.emoji,u=t.broadcastKeywords,d=t.views,b=t.appActions,p={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};a&&a.reduce(function(e,t){return Object(F.V)(t.item)?(e.archivedChannels.push(t),e):(Object(F.kb)(t.item)?e.memberChannels.push(t):e.nonmemberChannels.push(t),e)},p);var h=[].concat(o()(r||[]),o()(p.memberChannels),o()(i||[]),o()(l||[]),o()(c||[]),o()(u||[]),o()(d||[]),o()(b||[])),m=[].concat(o()(p.nonmemberChannels),o()(s||[])),f=p.archivedChannels,v=this.getSortFuzzyFunction(e,{localeAware:!0});this.options.flat||(h=this.precomputeMatchNames(e,h).sort(v),m=this.precomputeMatchNames(e,m).sort(v),f=this.precomputeMatchNames(e,f).sort(v));var g=[].concat(o()(h),o()(m),o()(f));if(this.options.flat&&g.sort(v),this.options.preferExactMatch){var _=Object(be.a)(g,function(e){return e.isExactMatch});g=[].concat(o()(_),o()(g))}return this.options.frecency&&(this.options.normalize=!0,n.mark("modern-searcher-frecency-sort-mark"),g=Object(me.d)(e,{query:this.query,list:g,bonusPoints:this.getFrecencyBonusPointsFunction(e,this.options)}),n.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),n.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),g}},{key:"precomputeMatchNames",value:function(e,t){var n=this;return t.map(function(t){return a()({},t,{name:n.getNameForComparison(e,t.item)})})}},{key:"getSortFuzzyFunction",value:function(e,t){var n=t.localeAware;return function(e,t){if(Object(F.lb)(e.item)&&!Object(F.lb)(t.item))return 1;if(Object(F.lb)(t.item)&&!Object(F.lb)(e.item))return-1;if(!Object(F.lb)(e.item)&&!Object(F.lb)(t.item)){var r=e.score-t.score;if(0!==r)return r}if(Object(F.lb)(e.item)&&Object(F.lb)(t.item)){var a=e.score-t.score;if(0!==a)return a;var i=Object(F.K)(e.item)-Object(F.K)(t.item);if(0!==i)return i}var o=e.name,s=t.name;return n?Object(ve.a)(o,s):o>s?1:s>o?-1:0}}},{key:"getFrecencyBonusPointsFunction",value:function(e){var t=this;return function(n){var r=n.item;if(Object(F.lb)(r)){if(t.options.preferMpimsWithActiveMembers){var a=Object(F.H)(r);if(!a)return 0;var i=a.map(function(t){return Object(E.c)(e,t)});return Object(u.a)(i,function(e){return Object(B.eb)(e)||Object(B.Bb)(e)})?je:0}return 0}var o=0;if(n.isExactMatch?(o+=Se,n.isEmojiExactMatch&&(o+=Se)):n.emojiScore?o+=t.calculateNormalizedFuzzyBonusPoints(n,"emojiScore",we):Object(F.V)(r)||Object(B.eb)(r)||Object(B.Bb)(r)||(o+=t.calculateNormalizedFuzzyBonusPoints(n,"score",Ie)),n.bestPreviousNameMatch&&(o+=Te),t.options.preferChannelMembers&&r.presence&&t.options.currentChannel&&t.isUserKnownToBeMemberOfChannel(e,r,t.options.currentChannel)&&(o+=_e),Object(F.W)(r)&&Object(F.Eb)(r)&&(o+=ge),Object(B.qb)(r)){var s=Object(j.j)(e,r.id);s&&Object(F.Eb)(s)&&(o+=ge)}return r.is_emoji&&("thumbsup"!==r.name&&"point_up"!==r.name||(o+=1)),t.options.selfFirst&&Object(B.yb)(r)&&(o=1/0),(Object(F.yb)(r)||Object(F.xb)(r))&&(Object(F.V)(r)&&(o+=Oe),Object(F.yb)(r)&&t.options.preferChannelsUserBelongsTo&&(Object(F.V)(r)||Object(F.kb)(r)||(o+=Ee)),Object(M.m)(e)&&Object(F.ab)(r)&&(o+=ke)),Object(B.qb)(r)&&(Object(B.eb)(r)||Object(B.Bb)(r))&&(o+=ye),(r.is_usergroup||r.is_broadcast_keyword)&&(o+=Ce),o}}},{key:"calculateNormalizedFuzzyBonusPoints",value:function(e,t,n){var r=e[t];if(!Object(pe.a)(r))return 0;var a=Math.pow(.5,r);return Math.round(n*a)}},{key:"getNameForComparison",value:function(e,t){return Object(F.v)(t)?Object(he.a)(Object(F.x)(e,t,{publicChannelIncludeHashSign:!1})):Object(B.qb)(t)?Object(B.P)(e,t):t.is_usergroup?t.handle||t.name:t.team_name?Object(he.a)(Object(U.e)(t)):t.name}},{key:"isUserKnownToBeMemberOfChannel",value:function(e,t,n){if(Object(F.yb)(n)&&Object(B.yb)(t))return Object(F.kb)(n);var r=Object(fe.e)(e,n.id,t.id);return!(!r.isKnown||!r.isMember)}}]),e}();n.d(t,"d",function(){return Fe}),n.d(t,"c",function(){return qe}),n.d(t,"a",function(){return Be}),n.d(t,"b",function(){return Ue});var Ne={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeExternal:!0,onlyLocalTeam:!1,onlyAdmins:!1,includeGuests:!0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0},fuzzyLimit:3,returnMetadata:!1};var xe=Object(v.b)("Get channels from flannel by query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.options,i=void 0===a?{}:a,o=i.entities.channels.remoteLimit||i.limit,s=i.entities.channels.includeFromAnotherTeam;return e(Object(g.f)({query:{query:r,count:o},limit:o,includeFromAnotherTeam:s})).timeout(Object(A.b)(t())).catch(d.a)});xe.propTypes={query:f.b.string,options:f.b.object};var Me=Object(v.b)("Get user groups from the search.team endpoint by query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.options,i=void 0===a?{}:a,o=i.entities.userGroups.remoteLimit||i.limit;return e(Object(O.e)({query:r,count:o}))});Me.propTypes={query:f.b.string,options:f.b.object};var Pe=Object(v.b)("Get members from flannel by query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.options,i=void 0===a?{}:a,o=i.entities.members.remoteLimit||i.limit;return e(Object(_.c)({query:{query:r,count:o},limit:o})).timeout(Object(A.b)(t())).catch(d.a)});Pe.propTypes={query:f.b.string,options:f.b.object};var Ae=Object(v.b)("Get teams via API by query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.options,i=void 0===a?{}:a,o=i.entities.teams.remoteLimit||i.limit;return e(Object(y.c)({query:r,limit:o}))});function De(e,t){!function(e,t){var n=Object(x.b)(e);(t.members||t.mpims)&&Object(C.e)(n);(t.channels||t.mpims)&&Object(k.f)(n);t.teams&&Object(N.c)(n)}(e,t);var n={},r=t.entities,a=r.members,i=r.channels,s=r.teams,c=r.userGroups,l=r.appActions,u=r.views,d=r.broadcastKeywords,b=r.emoji;if(i&&(i.includePublic||i.includePrivate)&&(n.channels=function(e,t){var n=t.entities.channels,r=n.includePublic,a=n.includePrivate,i=n.includeFromAnotherTeam,s=[];return r&&s.push.apply(s,o()(Object(j.p)(e,{includeFromAnotherTeam:i}))),a&&s.push.apply(s,o()(Object(j.o)(e,{includeFromAnotherTeam:i}))),s}(e,t)),i&&i.includeMpims&&(n.mpims=Object(j.n)(e)),a&&!Object(M.j)(e,"feature_stranger_danger")&&(n.members=Object.values(Object(E.a)(e)).filter(function(e){return!Object(B.Ab)(e)})),a&&Object(M.j)(e,"feature_stranger_danger")&&(n.members=Object.values(Object(E.a)(e)).filter(function(t){return Object(P.b)(e,t.id)})),s&&(n.teams=Object.values(Object(R.c)(e)).filter(function(t){return!Object(U.G)(e,t)})),c&&(n.userGroups=Object(T.c)(e)),l&&Object(w.h)(e)&&(n.appActions=Object(S.b)(e).map(V)),u&&(n.views=Object(L.d)(e)),d){var p=d.currentChannel?d.currentChannel.id:null;n.broadcastKeywords=Object(I.c)(e,p)}return b&&(n.emoji=Object(q.c)(e)),n}Ae.propTypes={query:f.b.string,options:f.b.object};var Le=Object(v.b)("Search for local entities within Slack based on options",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.options,i=void 0===a?{}:a,o=t(),s=[],c=[],d=i.entities,b=d.channels,p=d.members,h=d.teams,m=d.userGroups;if(p){var f=e(Pe({query:r,options:i}));p.runaway?c.push(f):s.push(f)}if(b){var v=e(xe({query:r,options:i}));b.runaway?c.push(v):s.push(v)}if(m){var g=e(Me({query:r,options:i}));m.runaway?c.push(g):s.push(g)}if(Object(G.d)(o)&&h){var _=e(Ae({query:r,options:i}));h.runaway?c.push(_):s.push(_)}return Promise.all(s).then(function(){var e=t(),n=De(e,i),r=Object(u.a)(Object(l.a)(n),"length");return c.length&&!r?Promise.all(c).then(function(){return De(e,i)}):n})});Le.propTypes={query:f.b.string.isRequired,options:f.b.object};var qe=Object(v.b)("Search for entities within Slack by query",function(e,t,n){var r=n.query,a=n.options,i=void 0===a?{}:a;if(!r.length&&!i.allowEmptyQuery)return Promise.resolve([]);var o=Object(z.c)({getState:t}),c=Object(Y.a)();o.mark("modern-searcher-search-mark-"+c);var l=t(),u=Ve(l,i,Ne,r);if(Object(s.a)(u))return Promise.resolve();var d=ze(r);if(Object(M.j)(l,"feature_offline_mode")&&(!Object(A.h)(l)||Object(D.l)(l)))return Promise.resolve(Fe(l,{query:d,options:u}));var b=e(Le({query:d,options:u})).then(function(e){return Ge(t(),{query:d,data:e,options:u})});if(u.tiered){var p=Fe(l,{query:d,options:u});return p.promise=b,Promise.resolve(p).finally(function(){o.measureAndClear("modern-searcher-search-mark-"+c,"modern-searcher-search-tiered")})}return b.finally(function(){o.measureAndClear("modern-searcher-search-mark-"+c,"modern-searcher-search")})});function Fe(e,t){var n=t.query,r=t.options;if(!n.length&&!r.allowEmptyQuery)return[];var a=Ve(e,r,Ne,n);return Object(s.a)(a)?[]:Ge(e,{query:ze(n),data:De(e,a),options:a})}qe.propTypes={query:f.b.string.isRequired,options:f.b.object};var Be=Object(v.b)("Clog an accept of a Searcher-provided result",function(e,t,n){var r=n.data,a=r.query,i=r.selectedItem,o=r.results,s=r.source,c=r.selectedPosition,l=r.selectedType,u=r.featureVectorList,d={source:s,query_length:a.length,query_terms_length:He(a),results_length:o.length,selected_position:c||o.indexOf(i),selected_type:l||Ke(i),selected_match_score:i.score,feature_vector_list:u};Object(W.a)({getState:t}).track(Q.k.SEARCHER_ACCEPT,d)});Be.propTypes={data:f.b.shape({query:f.b.string,selectedItem:f.b.object,results:f.b.array,source:f.b.string,selectedPosition:f.b.number,featureVectorList:f.b.string})};var Ue=Object(v.b)("Clog an accept of a Searcher-provided result",function(e,t,n){var r=n.data,a=r.query,i=r.results,o=r.source,s=r.featureVectorList,c={source:o,query_length:a?a.length:0,query_terms_length:He(a),results_length:i&&i.length,feature_vector_list:s};Object(W.a)({getState:t}).track(Q.k.SEARCHER_REJECT,c)});function He(e){return e?e.split(ue.a).filter(function(e){return e.length}).length:0}function Ke(e){var t=e.item;return Object(B.qb)(t)?"member":Object(F.W)(t)?"channel":Object(F.lb)(t)?"mpim":"other"}function Ge(e,t){var n,r,i=t.query,o=t.data,s=t.options,l={},u=new de({query:i,options:a()({},s,{fuzzball:"fuzzball"===Object(J.c)(e,"fuzzball")})}),d=Object(z.c)({state:e});d.mark("modern-searcher-matching-mark"),o.channels&&(l.channels=u.filterChannels(e,o.channels,function(e,t){var n=t.includeArchived,r=t.includeRequired,a=t.onlyIfMember,i=t.canPost;return function(t){var o=!0;return n||(o=o&&!Object(F.V)(t)),Object(p.a)(r)||r||(o=o&&!Object(F.Bb)(t)),a&&(o=o&&Object(F.kb)(t)),i&&(o=o&&Object(K.q)(e,t.id)),o}}(e,s.entities.channels))),o.members&&(l.members=u.filterMembers(e,o.members,function(e,t){var n=t.includeSelf,r=t.includeSlackbot,a=t.includeBots,i=t.includeDeleted,o=t.includeExternal,s=t.includeGuests,c=t.onlyLocalTeam,l=t.onlyAdmins;return function(t){if(l)return Object(B.X)(t);var u=!0;if(n||(u=u&&!Object(B.yb)(t)),r||(u=u&&!Object(B.zb)(t)),a||(u=u&&!Object(B.ab)(t)&&!Object(B.zb)(t)),i||(u=u&&!Object(B.eb)(t)),o||(u=u&&!Object(B.lb)(t)),s||(u=u&&!Object(B.ob)(t)),c){var d=Object(x.b)(e);u=u&&Object(B.rb)(t,d)}return u}}(e,s.entities.members))),o.mpims&&(l.mpims=u.filterMpims(e,o.mpims,(n=s.entities.channels,r=n.onlyVisibleMpims,function(e){return!r||Object(F.Ob)(e)}))),o.userGroups&&(l.userGroups=u.filterUserGroups(e,o.userGroups,function(e,t){var n=t.includeDeleted,r=t.includeFromAnotherTeam;return function(t){var a=!0;return r||(a=a&&!Object(T.j)(e,t.id)),n||(a=a&&Object(H.u)(t)),a}}(e,s.entities.userGroups))),o.teams&&(l.teams=u.filterTeams(e,o.teams)),o.views&&(l.views=u.filterViews(e,o.views)),o.appActions&&(l.appActions=u.filterAppActions(e,o.appActions)),o.broadcastKeywords&&(l.broadcastKeywords=u.filterBroadcastKeywords(e,o.broadcastKeywords)),o.emoji&&(l.emoji=u.filterEmoji(e,o.emoji)),d.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching");var b=void 0;s.sort?b=new Re({query:i,options:s.sort}).sort(e,l):b=Object(c.a)(Object.values(l));return s.limit&&(b=Object(h.a)(b,s.limit)),s.returnMetadata||(b=b.map(function(e){return e.item})),b||[]}function Ve(e,t,n,r){var a=t.entities,i=a.members,o=a.channels,s=a.appActions,c=a.userGroups,l=a.broadcastKeywords,u=a.emoji,d=n.entities,b=d.members,p=d.channels,h=d.userGroups,m={},f=r.charAt(0);"@"!==f&&"\uff20"!==f||!(i||c||l)?"#"!==f&&"\uff03"!==f||!o?("/"===f||"\uff0f"===f)&&Object(w.h)(e)&&s?m.appActions=s:":"===f&&m.emojiOptions?m.emojiOptions=u:m=Object.keys(t.entities).reduce(function(e,r){return e[r]=Ye(t.entities[r],n.entities[r]),e},{}):m.channels=Ye(o,p):(i&&(m.members=Ye(i,b)),c&&(m.userGroups=Ye(c,h)),l&&(m.broadcastKeywords=l));var v=Ye(t.sort,n.sort),g=t.limit||n.limit,_=t.fuzzyLimit||n.fuzzyLimit;return{entities:m,sort:v,limit:g,tiered:t.tiered,filter:t.filter,allowEmptyQuery:t.allowEmptyQuery,fuzzyLimit:_,returnMetadata:t.returnMetadata||n.returnMetadata}}function ze(e){return e?Object(b.a)(e)&&-1!==["@","\uff20","#","\uff03","/","\uff0f",":"].indexOf(e.charAt(0))?e.slice(1):e:""}function Ye(e,t){if(!t||!1===e)return e;var n=!0===e?{}:e;return Object(m.a)(n,t)}Ue.propTypes={data:f.b.shape({query:f.b.string,results:f.b.array,source:f.b.string,featureVectorList:f.b.string})},Object(X.a)("searcher",{search:function(e,t){return Object(Z.dispatchForTeamId)(e,qe(t))},searchLocal:function(e,t){return Fe(Object(Z.getStateByTeamId)(e),t)}})},jeHR:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return b});n("Smdl");var r=n("HO/Y"),a=n("3MJR"),i=n("XzsM");function o(e){return"omni_switcher"===Object(i.c)(e,"sli_omni_switcher_4")}function s(e){return"update"===Object(i.c)(e,"sli_omni_switcher_6")}function c(e){return Object(r.m)(e)}function l(e){return["key_k","key_t","key_button"].includes(Object(a.h)(e))}function u(e){return"all_in"===Object(i.c)(e,"july_omniswitcher_combo_exp")||"display_up_to_24"===Object(i.c)(e,"july_omniswitcher_combo_exp")||"remove_queries_files"===Object(i.c)(e,"july_omniswitcher_combo_exp")}function d(e){return"all_in"===Object(i.c)(e,"july_omniswitcher_combo_exp")||"display_up_to_24"===Object(i.c)(e,"july_omniswitcher_combo_exp")}function b(e){return"all_in"===Object(i.c)(e,"july_omniswitcher_combo_exp")||"remove_queries_files"===Object(i.c)(e,"july_omniswitcher_combo_exp")}},jnHx:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("nNoG"),a=n("6kok"),i=n("Fdc0"),o=n("hOQf"),s=new r.b("message");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=e.channel,c=e.member,l=e.inSliChannelArchiveSuggestionsExperiment,u=e.featureWtaConversationsApiChannelCreated,d=e.featureChangePurposeToDescription;if(!t||!n||!c)return"";var b=Object(o.M)(t),p=Object(o.G)(t),h=Object(o.O)(t),m=Object(o.K)(t),f=Object(o.I)(t),v=Object(o.H)(t),g=Object(a.w)(n),_=Object(a.C)(n),O=Object(i.y)(c),y=c.id;return"channel_topic"===b||"group_topic"===b?h?s.t("set the channel topic: {topic}",{topic:Object(r.n)(h)}):s.t("cleared the channel topic"):"channel_purpose"===b||"group_purpose"===b?m?d?s.t("set the channel description: {purpose}",{purpose:Object(r.n)(m)}):s.t("set the channel purpose: {purpose}",{purpose:Object(r.n)(m)}):d?s.t("cleared the channel description"):s.t("cleared the channel purpose"):"channel_name"===b||"group_name"===b?s.t("renamed the channel from \u201c{old_name}\u201d to \u201c{new_name}\u201d",{old_name:f,new_name:v}):"channel_archive"===b?_?s.t("moved #{channelName} to another {orgName} workspace. The contents up until this point are still browsable and available in search.",{channelName:g,orgName:O}):y===p&&l?s.t("archived #{channelName}. The contents will still be browsable and available in search. To undo this, choose *Channel Settings \u2192 Unarchive*.",{channelName:g}):s.t("archived #{channelName}. The contents will still be browsable and available in search.",{channelName:g}):"group_archive"===b?_?s.t("moved {channelName} to another {orgName} workspace. The contents up until this point are still browsable and available in search.",{channelName:g,orgName:O}):y===p&&l?s.t("archived {channelName}. The contents will still be browsable and available in search. To undo this, choose *Channel Settings \u2192 Unarchive*.",{channelName:g}):s.t("archived {channelName}. The contents will still be browsable and available in search.",{channelName:g}):"channel_unarchive"===b?s.t("un-archived #{channelName}",{channelName:g}):"group_unarchive"===b?s.t("un-archived {channelName}",{channelName:g}):"app_conversation_created"===b&&u?s.t("created and joined this conversation."):t.text||""}},jveC:function(e,t,n){"use strict";var r=n("XfeM"),a=n("HO/Y"),i=n("aWll"),o=n("D4L/"),s=n("FN36"),c=n("VjHM"),l=n("bPWw"),u=n("5mKg"),d=n("Qrgz"),b=Object(r.b)("Maybe show the shared channels sidebar coachmark, depending on state",function(e,t){var n=t();Object(a.j)(n,"feature_sonic_esc_creation")&&(Object(u.v)(Object(o.d)(n))||Object(d.l)(n)&&1===Object(s.a)(n,"enable_shared_channels")&&(Object(l.f)(n)||Object(c.g)(n,"seen_shared_channels_coachmark")||e(Object(i.r)(!0))))});b.propTypes=null,t.a=b},jyiZ:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n("nNoG"),a=n("pJ2S"),i=new r.b("sounds"),o="knock_brush.mp3",s=function(){return{"b2.mp3":{display:function(){return i.t("Ding")},url:a.b},"animal_stick.mp3":{display:function(){return i.t("Boing")},url:a.a},"been_tree.mp3":{display:function(){return i.t("Drop")},url:a.c},"complete_quest_requirement.mp3":{display:function(){return i.t("Ta-da")},url:a.k},"confirm_delivery.mp3":{display:function(){return i.t("Plink")},url:a.j},"flitterbug.mp3":{display:function(){return i.t("Wow")},url:a.o},"here_you_go_lighter.mp3":{display:function(){return i.t("Here you go")},url:a.d},"hi_flowers_hit.mp3":{display:function(){return i.t("Hi")},url:a.e},"knock_brush.mp3":{display:function(){return i.t("Knock Brush")},url:a.h},"save_and_checkout.mp3":{display:function(){return i.t("Whoa!")},url:a.n},"item_pickup.mp3":{display:function(){return i.t("Yoink")},url:a.p},"hummus.mp3":{display:function(){return i.t("Hummus")},url:a.f}}}},"k+11":function(e,t,n){},k00g:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});var r=n("aK/h"),a=n("om+M"),i=n("4zXV"),o=Object(a.a)("Gets the list of workflows for this user",function(e,t,n){var r=n.onlyActive,a=void 0===r||r;return e(Object(i.a)({method:"users.workflows.list",args:{only_active:a}}))});o.propTypes={onlyActive:r.b.bool};var s=Object(a.a)("Completes a workflow task with given ID",function(e,t,n){var r=n.userTaskId;return e(Object(i.a)({method:"users.workflows.tasks.completed",args:{user_task_id:r}}))});s.propTypes={userTaskId:r.b.number};var c=Object(a.a)("Marks a workflow task with given ID as in progress",function(e,t,n){var r=n.userTaskId;return e(Object(i.a)({method:"users.workflows.tasks.inProgress",args:{user_task_id:r}}))});c.propTypes={userTaskId:r.b.number};var l=Object(a.a)("Completes a workflow with given ID",function(e,t,n){return e(Object(i.a)({method:"users.workflows.completed",args:{user_workflow_id:n}}))});l.propTypes={userTaskId:r.b.number}},k0G2:function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"l",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h});var r=9,a=13,i=32,o=27,s=35,c=36,l=37,u=38,d=39,b=40,p=8,h=46},kDop:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("TGBA"),c=n("kxpR"),l=n.n(c),u=n("XHGt"),d=n("TSYQ"),b=n.n(d),p=n("aK/h"),h=n("clTI"),m=n("6kok"),f=n("yHhI"),v=n("iCc5"),g=n.n(v),_=n("V7oC"),O=n.n(_),y=n("FYw3"),j=n.n(y),k=n("mRg0"),E=n.n(k),C=n("ifKl"),I=n("lQgN"),w=n("N1Yt"),S=n("kd6D"),T=(n("qdew"),function(e){var t=e.children,n=e.truncate,r=e.truncateWidth;if(!n)return t;return r?l.a.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:{maxWidth:r}},t):l.a.createElement("span",null,l.a.createElement(w.a,{lines:1},t))});T.defaultProps={children:void 0,truncate:void 0,truncateWidth:void 0};p.b.string,p.b.func,p.b.node.isRequired,p.b.node,p.b.bool,p.b.oneOfType([p.b.string,p.b.number]),p.b.oneOf(Object(s.a)(S.c));var R={className:void 0,avatar:C.a,secondaryContent:void 0,truncate:!1,truncateWidth:void 0,style:S.c.normal},N={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"},x=function(e){function t(){return g()(this,t),j()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.avatar,r=e.primaryContent,i=e.secondaryContent,o=e.style,s=e.truncate,u=e.truncateWidth,d=n(N),p=!!d;return l.a.createElement(c.Fragment,null,l.a.createElement("span",a()({className:b()(t,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":p,"c-base_inline_entity--truncate_block":s&&!u,"c-base_inline_entity--truncate_inline":s&&u,"c-base_inline_entity--dim":o===S.c.dim,"c-base_inline_entity--highlight-dark":o===S.c.highlightDark,"c-base_inline_entity--highlight-dim":o===S.c.highlightDim,"c-base_inline_entity--highlight-light":o===S.c.highlightLight})},Object(I.a)(this.props)),l.a.createElement(T,{truncate:s,truncateWidth:u},d,l.a.createElement("span",{className:"c-base_inline_entity__primary_content"},r),i&&l.a.createElement("span",{className:"c-base_inline_entity__secondary_content"},i))))}}]),t}(c.Component);x.displayName="BaseInlineEntity",x.defaultProps=R;var M=x,P=n("xE6W"),A=n("Sq1r"),D=n("Ov61"),L=n("Qc6J"),q=n("rkyv"),F=(n("fMsH"),n("zqCN"),p.b.string,p.b.string,p.b.string,p.b.oneOf(Object(s.a)(S.d)),p.b.bool,p.b.bool,p.b.oneOfType([p.b.string,p.b.number]),p.b.object.isRequired,p.b.object.isRequired,{channelId:void 0,className:void 0,bestFormerName:void 0,boldIcon:!1,displayFormerNames:S.d.false,truncate:!1,truncateWidth:void 0}),B="INLINE-CHANNEL-ENTITY";function U(e){var t=e.className,n=e.channel,r=e.bestFormerName,i=e.displayFormerNames,s=e.logger,u=e.boldIcon,d=e.truncate,p=e.truncateWidth;if(Object(m.eb)(n)||Object(m.lb)(n))return s.warn(B,"InlineChannelEntity should not display IMs or MPIMs ... YET"),null;var h=b()(t,"c-inline_channel_entity"),f=Object(m.Ib)(n),v=Object(m.nb)(n),g=Object(m.V)(n)?S.c.dim:null;return l.a.createElement(M,{avatar:function(e){var t=e.className,r=o()(e,["className"]);return l.a.createElement(A.a,a()({},r,{bold:u,className:b()(t,"c-inline_channel_entity__icon"),channel:n,size:S.a.small}))},className:h,"data-qa":"inline_channel_entity","data-channel-id":n.id,style:g,truncate:d,truncateWidth:p,primaryContent:f||v?l.a.createElement(P.a,{"data-qa":"inline_channel_entity__missing",type:f?"unknown":"non-existent",size:"small",width:p}):l.a.createElement("span",{className:"c-inline_channel_entity__content"},l.a.createElement(q.a,{bold:u,channel:n,bestFormerName:r,displayFormerNames:i,inline:!0,width:p,"data-qa":"inline_channel_entity__name"})),secondaryContent:p&&l.a.createElement(c.Fragment,null,l.a.createElement(D.a,{className:"c-inline_channel_entity__shared_icon",channel:n,inherit:!0,"data-qa":"inline_channel_entity__shared_icon"}),l.a.createElement(L.a,{className:"c-inline_channel_entity__team",iconSize:14,channel:n,"data-qa":"inline_channel_entity__team"}))})}U.displayName="InlineChannelEntity",U.defaultProps=F;t.a=Object(u.b)(function(e,t){return{channel:t.channel||Object(h.d)(e,t.channelId),logger:Object(f.a)({state:e})}})(U)},kMOi:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o});var r=function(e){return e&&e.appId},a=function(e){return e&&e.appName},i=function(e){return!(!e||!e.displayInstall)},o=function(e){return!(!e||!e.displayConnect)}},kMSZ:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"p",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"m",function(){return b}),n.d(t,"l",function(){return p}),n.d(t,"n",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"r",function(){return v}),n.d(t,"t",function(){return g}),n.d(t,"s",function(){return _}),n.d(t,"F",function(){return O}),n.d(t,"y",function(){return y}),n.d(t,"A",function(){return j}),n.d(t,"z",function(){return k}),n.d(t,"q",function(){return C}),n.d(t,"E",function(){return I}),n.d(t,"i",function(){return w}),n.d(t,"w",function(){return S}),n.d(t,"M",function(){return T}),n.d(t,"G",function(){return R}),n.d(t,"H",function(){return N}),n.d(t,"u",function(){return x}),n.d(t,"v",function(){return M}),n.d(t,"I",function(){return P}),n.d(t,"K",function(){return A}),n.d(t,"J",function(){return D}),n.d(t,"L",function(){return L}),n.d(t,"e",function(){return q}),n.d(t,"x",function(){return B}),n.d(t,"B",function(){return U}),n.d(t,"D",function(){return H}),n.d(t,"C",function(){return K}),n.d(t,"f",function(){return G}),n.d(t,"g",function(){return V}),n.d(t,"h",function(){return z}),n.d(t,"b",function(){return Y}),n.d(t,"d",function(){return W}),n.d(t,"c",function(){return Q});var r=n("fujP"),a=n("U/ze"),i=n("c/L4"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.availablePlans,n=e.currency,r=e.planTerm,a=e.planLevel,o=e.paymentMethod,s=o;return o===i.d.INVOICE&&r===i.f.monthly&&(s=i.d.CREDIT_CARD),o!==i.d.INVOICE||"INR"!==n&&"BRL"!==n||(s=i.d.CREDIT_CARD),t[n]&&t[n][a]&&t[n][a][s]&&t[n][a][s][r]?t[n][a][s][r]:null},s=Object(a.b)(function(e){return e&&e.pricingPlans?function(e){if(!e||!e.availablePlans)return null;var t=e.availablePlans,n=e.activeCurrency,r=e.activeTerm,a=e.activePlanLevel,i=e.activePaymentMethod;return o({availablePlans:t,currency:n,planTerm:r,planLevel:a,paymentMethod:i})}(e.pricingPlans):null}),c=function(e){return e&&e.availablePlans?Object.keys(e.availablePlans):[]},l=Object(a.b)(function(e){return e&&e.pricingPlans?c(e.pricingPlans):[]}),u=Object(a.b)(function(e){var t=s(e);return t&&t.id?t.id:""}),d=Object(a.b)(function(e){var t=s(e);return t&&t.costPerTerm?t.costPerTerm:null}),b=Object(a.b)(function(e){var t=s(e);return t&&t.level?t.level:""}),p=(Object(a.b)(function(e){var t=s(e);return t&&t.term?t.term:""}),Object(a.b)(function(e){var t=s(e);return t?t.isInvoice?i.d.INVOICE:i.d.CREDIT_CARD:null}),Object(a.b)(function(e){var t=s(e);return!(!t||!t.term)&&t.term===i.f.yearly})),h=Object(a.b)(function(e){var t=s(e);return t&&t.lengthOfTermInMonths?t.lengthOfTermInMonths:null}),m=Object(a.b)(function(e){var t=s(e);return t&&t.currency?t.currency:""}),f=function(e,t){if(!e||!e.availablePlans)return null;var n=e.availablePlans,r=e.activeCurrency,a=e.activePlanLevel,i=e.activePaymentMethod;return n[r]&&n[r][a]&&n[r][a][i]?n[r][a][i][t]:null},v=Object(a.b)(function(e){if(!e||!e.pricingPlans)return null;var t=f(e.pricingPlans,i.f.yearly);return t?t.costPerMonth:null}),g=Object(a.b)(function(e){if(!e||!e.pricingPlans)return null;var t=f(e.pricingPlans,i.f.yearly);return t?t.costPerTerm:null}),_=Object(a.b)(function(e){if(!e||!e.pricingPlans)return null;var t=f(e.pricingPlans,i.f.monthly);return t?t.costPerTerm:null}),O=Object(a.b)(function(e){var t=m(e);if(!t)return null;if("JPY"===t)return 11;if("BRL"===t&&b(e)===i.e.plus.id)return 16;return 17}),y=function(e){return e&&e.pricingPlans?e.pricingPlans.isPlansAndCostDataLoaded:null},j=function(e){return e&&e.pricingPlans?e.pricingPlans.isPlansDataLoading||e.pricingPlans.isCostDataLoading:null},k=function(e){return e&&e.pricingPlans?e.pricingPlans.isPlansDataLoading:null},E=function(e){return e&&e.pricingPlans&&e.pricingPlans.activePlanCost?e.pricingPlans.activePlanCost:null},C=Object(a.b)(function(e){var t=E(e);return t&&t.billableUsers?t.billableUsers.billableActiveUsers:null}),I=Object(a.b)(function(e){var t=E(e);return t&&t.paidSeats?t.paidSeats:null}),w=Object(a.b)(function(e){var t=E(e);return t&&t.billableUsers?t.billableUsers.zeroActiveUsers:null}),S=Object(a.b)(function(e){var t=E(e);return t&&t.billableUsers?t.billableUsers.inactiveUsers:null}),T=Object(a.b)(function(e){var t=E(e);return t&&t.billableUsers?(w(e)?0:C(e))+S(e):null}),R=Object(a.b)(function(e){var t=E(e);return t?t.subtotal:null}),N=Object(a.b)(function(e){var t=E(e);return!t||Object(r.a)(t.tax)?null:t.tax}),x=Object(a.b)(function(e){var t=E(e);return t&&t.credits?t.credits.creditsApplied:null}),M=Object(a.b)(function(e){var t=E(e);return t&&t.credits?t.credits.currentCredits:null}),P=Object(a.b)(function(e){var t=E(e);return t&&t.credits?t.credits.creditsRemaining:null}),A=Object(a.b)(function(e){var t=E(e);return t?t.totalRecurring:null}),D=Object(a.b)(function(e){var t=E(e);return t?t.totalDueToday:null}),L=Object(a.b)(function(e){var t=E(e);return t?t.totalRecurringTax:null}),q=Object(a.b)(function(e){var t=E(e);return t?t.quotedTermEnd:null}),F=function(e){return e&&e.cachedCost?e.cachedCost:null},B=Object(a.b)(function(e,t,n,r,a){if(!e||!e.pricingPlans)return null;var o=F(e.pricingPlans),s=Object(i.i)(t,n,r,a);return!(!o||!o[s])}),U=Object(a.b)(function(e,t,n,r,a){if(!e||!e.pricingPlans)return null;var o=F(e.pricingPlans),s=Object(i.i)(t,n,r,a);return o&&o[s]?o[s]:null}),H=Object(a.b)(function(e){var t=s(e);if(!t||!t.isInvoice)return null;var n=C(e);return n>t.minInvoiceSeats?n:t.minInvoiceSeats}),K=Object(a.b)(function(e){var t=s(e);return t&&t.isInvoice?t.maxInvoiceSeats:null}),G=Object(a.b)(function(e){return e&&e.pricingPlans&&e.pricingPlans.apiError}),V=Object(a.b)(function(e){return!(!e||!e.pricingPlans)&&(!G(e)&&u(e)===E(e))}),z=Object(a.b)(function(e){var t=s(e);return t&&t.isInvoice||!1}),Y=function(e){if(!e||!e.pricingPlans||!e.pricingPlans.availablePlans)return[];var t=[];return Object.keys(e.pricingPlans.availablePlans).forEach(function(n){t.push(o({availablePlans:e.pricingPlans.availablePlans,currency:n,planTerm:e.pricingPlans.activeTerm,planLevel:e.pricingPlans.activePlanLevel,paymentMethod:e.pricingPlans.activePaymentMethod}))}),t},W=function(e,t,n,r,a){if(!e||!e.pricingPlans||!e.pricingPlans.availablePlans)return null;var i=o({availablePlans:e.pricingPlans.availablePlans,currency:t,planTerm:n,planLevel:r,paymentMethod:a});return i&&i.id||null},Q=function(e,t,n,r,a){if(!e||!e.pricingPlans||!e.pricingPlans.availablePlans)return null;var i=o({availablePlans:e.pricingPlans.availablePlans,currency:t,planTerm:n,planLevel:r,paymentMethod:a});return i&&i.costPerMonth||null}},kNgr:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HO/Y"),a=n("XzsM");function i(e){return Object(r.j)(e,"feature_file_search_sort")&&"jumbo"===Object(a.c)(e,"boy_scout")}},kOzZ:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("uf9I"),a=n("HO/Y"),i=n("nNoG"),o=n("Cfkr"),s=n("Z7Ay"),c=n("yHhI"),l=n("qvNt"),u=n("lhZz"),d=n("GNdI"),b=n("x4bP"),p={userId:null,teamId:null,enterpriseId:null,locale:null},h={},m=3e4,f=5e3;var v=function(){Object.keys(h).forEach(function(e){h[e].sendDataAndEmptyQueue()})};function g(e){var t=function(e){if(void 0===e)return p;var t=e.getState?e.getState():e.state;if(t){var n=Object(r.a)(t),o={userId:Object(a.b)(t),teamId:Object(r.b)(t),locale:Object(i.p)()};return n&&(o.enterpriseId=n),o}var s=e.userId,l=e.teamId,u=e.enterpriseId,d=e.locale;return void 0!==s&&void 0!==l&&void 0!==d?{userId:s,teamId:l,enterpriseId:u,locale:d}:(Object(c.a)(e).warn("Clogger context could not be determined, using empty context"),p)}(e),n=t.userId,s=t.teamId,_=t.enterpriseId,O=t.locale,y=s+"-"+O;return h[y]?h[y]:(h[y]=(new o.a).setUser(n).setTeam(s).setEnterprise(_).setLocale(O),1===Object.keys(h).length&&(window.addEventListener("beforeunload",v),window.addEventListener("pagehide",v),Object(l.a)("body","click",'[data-clog-click="true"], [data-clog-ui-action="click"], [data-clog-event=WEBSITE_CLICK]',function(){var e=Object(o.b)(this,window.location.href);if(null!==e){var t=this.getAttribute("data-clog-event"),n=Object.keys(h);if(0===n.length)return void Object(c.b)({label:"CLOG"}).warn("Attempted to clog data, but no clogger has been initialized",t);if(1===n.length&&!Object(b.a)())return void h[n[0]].track(t,e);var r=Object(d.a)();g({state:Object(u.getStateByTeamId)(r)}).track(t,e)}}),setInterval(function(){v()},m+Math.floor(Math.random()*f))),h[y])}Object(s.b)("getClogger",function(){return g})},kX2h:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("hbEN"),v=n("tn36"),g=n("aK/h"),_=n("kxpR"),O=n.n(_),y=n("vSXf"),j=n("nNoG"),k=n("cTBa"),E=new j.b("form"),C=new j.b("lazy_filter_select"),I=(g.b.bool.isRequired,g.b.number,g.b.func,g.b.bool,g.b.func,g.b.string,g.b.bool,g.b.func,{minQueryLength:0,optionsFetcher:void 0,prefetchOptions:!1,onClose:m.a,selectPlaceholder:void 0,isDisabled:!1,logSelectElementMenuOpen:m.a}),w=300,S=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!e.minQueryLength,optionGroups:null,options:[]},Object(v.a)(n,["getOptionsListEmptyMessage","setRef","onSelectClosed","onSelectFilterInputedChanged","onSelectOpened","resetState","shouldPrefetchOptions","focusSelectInput"]),n.fetchOptions=Object(f.a)(n.fetchOptions,w,{leading:!0}),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.shouldPrefetchOptions()&&!this.props.isDisabled&&this.fetchOptions()}},{key:"componentWillReceiveProps",value:function(e){e.optionsFetcher!==this.props.optionsFetcher&&this.resetState()}},{key:"componentWillUnmount",value:function(){this.cancelPendingFetch()}},{key:"onSelectClosed",value:function(){this.shouldPrefetchOptions()?this.fetchOptions():this.resetState(),this.props.onClose()}},{key:"onSelectFilterInputedChanged",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.props.minQueryLength;this.cancelPendingFetch(),n&&t.length<n?this.resetState():this.setState(function(){return{isLoading:!0}},function(){e.fetchOptions(t)})}},{key:"onSelectOpened",value:function(){var e=this.props,t=e.minQueryLength,n=e.prefetchOptions;(0,e.logSelectElementMenuOpen)(),n||t||this.fetchOptions()}},{key:"getOptionsListEmptyMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.featureI18NSelectEmptyStateString,r=t.minQueryLength;return r&&e.length<r?n?this.props.selectPlaceholder||E.t("{queryLength, plural, =0 {Start typing to see results\u2026} other {Keep typing to see results\u2026}}",{queryLength:e.length}):this.props.selectPlaceholder||C.t("{query_length, plural, =0 {Start typing to see results\u2026} other {Keep typing to see results\u2026}}",{query_length:e.length}):e?E.rt("No items matched <strong>{filterQuery}</strong>",{filterQuery:e},function(e){var t=e.text,n=e.key;return O.a.createElement("strong",{key:n},t)}):E.t("No items")}},{key:"setRef",value:function(e){this.select=e}},{key:"cancelPendingFetch",value:function(){this.pendingFetch&&this.pendingFetch.isCancellable&&this.pendingFetch.isCancellable()&&this.pendingFetch.cancel(),delete this.pendingFetch}},{key:"fetchOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.props.optionsFetcher;if(n){this.currentQuery=t;var r=n(t).then(function(t){if(e.pendingFetch===r){var n=t.optionGroups,a=t.options,i=n?{optionGroups:n,options:null}:{optionGroups:null,options:a};e.setState(function(){return o()({},i,{isLoading:!1})})}});this.pendingFetch=r}}},{key:"focus",value:function(){this.select&&this.select.focus()}},{key:"focusSelectInput",value:function(){this.select&&this.select.focusSelectInput()}},{key:"resetState",value:function(){var e=this;this.setState(function(){return{isLoading:!e.props.minQueryLength,optionGroups:null,options:[]}},function(){e.shouldPrefetchOptions()&&e.fetchOptions()})}},{key:"shouldPrefetchOptions",value:function(){var e=this.props,t=e.prefetchOptions,n=e.minQueryLength;return t&&!n}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.optionGroups,r=e.options,i=this.props,s=(i.featureI18NSelectEmptyStateString,i.minQueryLength,i.optionsFetcher,i.prefetchOptions,i.selectPlaceholder,a()(i,["featureI18NSelectEmptyStateString","minQueryLength","optionsFetcher","prefetchOptions","selectPlaceholder"]));return O.a.createElement(k.b,o()({},s,{customGetOptionsListEmptyMessage:this.getOptionsListEmptyMessage,isLoading:t,onClose:this.onSelectClosed,onFilterInputChange:this.onSelectFilterInputedChanged,onOpen:this.onSelectOpened,optionGroups:n,options:r,ref:this.setRef}))}}]),t}(_.Component);S.displayName="SelectContainer",S.defaultProps=I,t.a=Object(y.a)("feature_i18n_select_empty_state_string")(S)},kbLV:function(e,t,n){"use strict";var r,a,i=n("TGBA"),o=n("aLpA"),s=["{","[","(","*","_","/",'"',"\u201c","'","\u2018","\u2019","<"],c=(r=s.map(function(e){return"\\"+e}).join("|"),a=Object(i.a)(o.g).join(""),new RegExp("^(\\s|"+r+"|["+a+"])+")),l=function(){var e=s.map(function(e){return"\\"+e}).join("|");return new RegExp("^(\\s|"+e+")+")}();t.a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trimCJK:!0}).trimCJK;return e?e.replace(t?c:l,""):""}},kd6D:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o});var r={medium:36,small:20,inline:14},a={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},i={small:"small",medium:"medium"},o={true:!0,bestOnly:"best_only",false:!1}},kn0e:function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return C});var r,a=n("QbLZ"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("m1cH"),l=n.n(c),u=n("CpTu"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("XfeM"),f=d.b.shape({key:d.b.string.isRequired,emoji:d.b.string.isRequired,userId:d.b.string.isRequired,channelId:d.b.string.isRequired,otherUsers:d.b.objectOf(d.b.bool)}).isRequired,v=d.b.arrayOf(f),g=Object(b.b)("Push a toast object to the back of the queue");g.propTypes=f;var _=Object(b.b)("Shift/pop a toast object off the front of the queue");_.propTypes=null;var O=Object(b.b)("Replace the queue object");O.propTypes=v;var y=Object(b.b)("Clear the queue");y.propTypes=null;var j=Object(p.b)((r={},s()(r,g,function(e,t){return[].concat(l()(e),[t])}),s()(r,_,function(e){return e.slice(1)}),s()(r,O,function(e,t){return t}),s()(r,y,function(){return[]}),r),[],{persistenceEnabled:!1});j.propTypes=v,t.b=j;var k=Object(h.b)(function(e){return e.reactionsToast&&e.reactionsToast[0]}),E=Object(h.b)(function(e){return e.reactionsToast}),C=Object(m.b)("Push a reaction key to the back of the queue if it's not in the queue already",function(e,t,n){var r=E(t()),a=Object(u.a)(r,function(e){return r=n,(t=e).key===r.key&&t.emoji===r.emoji;var t,r});if(a){var o=i()({},a,{otherUsers:i()({},a.otherUsers,s()({},n.userId,!0))}),c=r.map(function(e){return e===a?o:e});e(O(c))}else e(g(n))});C.propTypes=f},kpmE:function(e,t,n){"use strict";n.d(t,"f",function(){return B}),n.d(t,"g",function(){return G}),n.d(t,"d",function(){return z}),n.d(t,"e",function(){return W}),n.d(t,"a",function(){return X}),n.d(t,"j",function(){return Z}),n.d(t,"h",function(){return J}),n.d(t,"i",function(){return $}),n.d(t,"k",function(){return ee}),n.d(t,"l",function(){return te}),n.d(t,"c",function(){return ne}),n.d(t,"b",function(){return re});var r=n("sk9p"),a=n.n(r),i=n("9oTK"),o=n("m1cH"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("jo6Y"),d=n.n(u),b=n("cZF4"),p=n("NOj5"),h=n("owWc"),m=n("S1sa"),f=n("zmn3"),v=n("BeL+"),g=n("Wy5O"),_=n("0VPD"),O=n("xWuZ"),y=n("bPB8"),j=n("ZBlo"),k=n("aK/h"),E=n("uf9I"),C=n("sJR0"),I=n("pGee"),w=n("BtFA"),S=n("om+M"),T=n("4zXV"),R=n("yHhI"),N=n("DQNL"),x=n("Yg2s"),M="USER_GROUPS",P={type:"is",value:"group"},A={type:"external",value:!1},D={query:JSON.stringify({type:"and",clauses:[P,A]}),count:20,sort:"real_name",sort_dir:"asc",include_users:!1,include_count:!0},L={include_users:0,include_count:1,include_disabled:1};var q,F=Object(S.a)("Fetches missing user groups from Flannel",(q=Object(i.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,c,l=r.ids,u=r.fetchConditionally,d=void 0!==u&&u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.resolve)(t(Object(x.g)({ids:l,fetchConditionally:d})));case 2:return a=e.sent,o=a.objects,s=a.failedIds,c=Object(g.a)(l,s),e.abrupt("return",{userGroups:o,resolved:c,missing:s});case 7:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return q.apply(this,arguments)}));F.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,fetchConditionally:k.b.bool};var B=Object(S.a)("Fetch user groups by query from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=void 0===r?"":r,i=n.reason,o=void 0===i?"fetchPaginatedUserGroupsWithQuery":i,c=d()(n,["query","reason"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=d()(e,["query"]);if(!n)return D;var r=l()({},n);if(t){var a=t.split(" "),i=Object(h.a)(a,function(e,t){return t?(e.push({type:"fuzzy_with_email",value:t}),e):e},[]);r.query=JSON.stringify({type:"and",clauses:[P,A].concat(s()(i))})}return r.cursor_mark||delete r.cursor_mark,r.include_deleted||delete r.include_deleted,l()({},D,r)}(l()({query:a},c));return e(Object(T.a)({method:"search.team",args:u,reason:o})).catch(function(e){var n="failed to fetch user groups with query "+a+": "+JSON.stringify(e&&e.data);return e&&e.data&&"post_failed"===e.data.error?Object(R.a)({getState:t}).warn(M,n):Object(R.a)({getState:t}).error(M,n),{items:[]}})});B.propTypes={query:k.b.string,count:k.b.number,reason:k.b.string};var U,H=Object(S.a)("Fetch user groups by id",(U=Object(i.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,c,u,d,b=r.ids,p=r.reason,h=void 0===p?"fetchRawUserGroupsFromAPI":p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 250,2,a=Object(j.a)(b,250),e.next=5,Object(i.resolve)(Promise.map(a,function(){var e=Object(i.coroutine)(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.resolve)(t(Object(T.a)({method:"subteams.info",args:l()({},L,{usergroups:n}),reason:h})).reflect());case 2:if(!(r=e.sent).isFulfilled()){e.next=6;break}return a=r.value(),e.abrupt("return",a&&a.subteams);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),{concurrency:2}));case 5:return o=e.sent,s=Object(y.a)(Object(O.a)(o)),c=s.map(function(e){return e.id}),u=Object(_.a)(b,c),d=Object(g.a)(b,c),e.abrupt("return",{userGroups:s,resolved:u,missing:d});case 11:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return U.apply(this,arguments)}));H.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,reason:k.b.string};var K,G=Object(S.a)("Fetches missing user groups",(K=Object(i.coroutine)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,c,l,u,d,h,m,f=r.ids,g=r.fetchConditionally,_=void 0!==g&&g,O=r.reason,y=void 0===O?"fetchRawUserGroupsById":O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&f.length){e.next=2;break}return e.abrupt("return",Promise.resolve({userGroups:[],resolved:[],missing:[]}));case 2:return a=Object(v.a)(f),e.next=5,Object(i.resolve)(t(F({ids:a,fetchConditionally:_})));case 5:if(o=e.sent,s=o.resolved,c=o.missing,l=o.userGroups,!c||!c.length){e.next=17;break}return e.next=12,Object(i.resolve)(t(H({ids:c,reason:"fallback:"+y})));case 12:return u=e.sent,d=u.resolved,h=u.missing,m=u.userGroups,e.abrupt("return",{userGroups:Object(p.a)(l,m,"id"),resolved:Object(b.a)(s,d),missing:h});case 17:return e.abrupt("return",{userGroups:l,resolved:s,missing:c});case 18:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return K.apply(this,arguments)}));G.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,reason:k.b.string};var V,z=Object(S.a)("Fetches and upserts missing user groups",(V=Object(i.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0!==a&&a,o=n.reason;return e(G({ids:r,fetchConditionally:i,reason:void 0===o?"fetchAndUpsertUserGroupsById":o})).then(function(n){var r=n.userGroups,a=n.resolved,i=n.missing;return{userGroups:Q(t,e,r),resolved:a,missing:i}})}),function(e,t,n){return V.apply(this,arguments)}));z.propTypes={ids:k.b.arrayOf(k.b.string).isRequired,reason:k.b.string};var Y,W=Object(S.a)("Fetches and upserts user groups that match a query",(Y=Object(i.method)(function(e,t,n){var r=n.query;return e(Object(x.h)({query:r})).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).objects;return{userGroups:Q(t,e,n)}})}),function(e,t,n){return Y.apply(this,arguments)}));function Q(e,t,n){if(!n||!n.length)return[];var r=e(),i=Object(E.b)(r),o=Object(m.a)(n,function(e){return Object(I.h)(r,e.id,Object(N.k)(e))}),s=a()(o,2),c=s[0],l=s[1];return Object(w.a)(i,Object(f.a)(c,"id")),t(Object(C.o)({userGroups:l})),r=e(),n.map(function(e){return Object(I.e)(r,e.id)})}W.propTypes={query:k.b.string,reason:k.b.string};var X=Object(S.a)("Creates user group",function(e,t,n){return e(Object(T.a)({method:"subteams.create",args:n})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"failed to create user group"),e})});X.propTypes={name:k.b.string.isRequired,handle:k.b.string.isRequired,description:k.b.string,channels:k.b.arrayOf(k.b.string)};var Z=Object(S.a)("Update user group",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updateUserGroup";return e(Object(T.a)({method:"subteams.update",args:n,reason:r})).catch(function(e){var r="failed to update user group";throw n&&n.subteam&&(r="failed to update "+n.subteam+" user group"),Object(R.a)({getState:t}).error(M,r),e})});Z.propTypes={subteam:k.b.string.isRequired,name:k.b.string,handle:k.b.string,description:k.b.string,channels:k.b.arrayOf(k.b.string),reason:k.b.string};var J=Object(S.a)("Fetch user group members",function(e,t,n){var r=n.subteam,a=n.reason,i=void 0===a?"Fetch user group members":a,o=d()(n,["subteam","reason"]);return e(Object(T.a)({method:"subteams.users.list",args:l()({subteam:r},o),reason:i})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"fetchUserGroupMembers encountered an error: "+JSON.stringify(e.data)),e})});J.propTypes={subteam:k.b.string.isRequired,reason:k.b.string};var $=Object(S.a)("Update members of user group",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updateMembersOfUserGroup";return e(Object(T.a)({method:"subteams.users.update",args:n,reason:r})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"failed to update members of user group"),e})});$.propTypes={subteam:k.b.string.isRequired,users:k.b.arrayOf(k.b.string).isRequired,reason:k.b.string};var ee=Object(S.a)("Validate user group handle",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.handle,a=n.reason;return e(Object(T.a)({method:"subteams.validateHandle",args:{handle:r},reason:a})).catch(function(e){if("handle_already_exists"===e.data.error)return e.data;throw Object(R.a)({getState:t}).error(M,"Handle validation encountered an error: "+JSON.stringify(e.data)),e})});ee.propTypes={handle:k.b.string.isRequired,reason:k.b.string.isRequired};var te=Object(S.a)("Validate user group name",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.reason;return e(Object(T.a)({method:"subteams.validateName",args:{name:r},reason:a})).catch(function(e){if("name_already_exists"===e.data.error)return e.data;throw Object(R.a)({getState:t}).error(M,"Name validation encountered an error: "+JSON.stringify(e.data)),e})});te.propTypes={name:k.b.string.isRequired,reason:k.b.string.isRequired};var ne=Object(S.a)("Enable a user group",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"enableUserGroup";return e(Object(T.a)({method:"subteams.enable",args:n,reason:r})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"enableUserGroup encountered an error: "+JSON.stringify(e.data)),e})});ne.propTypes={subteam:k.b.string.isRequired,reason:k.b.string};var re=Object(S.a)("Disable a user group",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"disableUserGroup";return e(Object(T.a)({method:"subteams.disable",args:n,reason:r})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"disableUserGroup encountered an error: "+JSON.stringify(e.data)),e})});re.propTypes={subteam:k.b.string.isRequired,reason:k.b.string},Object(S.a)("Delete a user group",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"deleteUserGroup";return e(Object(T.a)({method:"subteams.delete",args:n,reason:r})).catch(function(e){throw Object(R.a)({getState:t}).error(M,"failed to delete user group"),e})}).propTypes={subteam:k.b.string.isRequired,reason:k.b.string}},ktlY:function(e,t,n){},kyO0:function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"b",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=n("Smdl"),b=Object(c.b)("Set the app as fully booted");b.propTypes=s.b.bool.isRequired;var p=Object(l.b)(a()({},b,function(e,t){return o()({},e,{isFullyBooted:t})}),{isFullyBooted:!1},{persistenceEnabled:!1});p.propTypes={isFullyBooted:s.b.bool.isRequired},t.a=p;var h=Object(u.b)(function(e){return Object(d.a)()||e&&e.incrementalBoot&&e.incrementalBoot.isFullyBooted})},kyuO:function(e,t,n){"use strict";n.d(t,"k",function(){return _}),n.d(t,"d",function(){return y}),n.d(t,"i",function(){return j}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"h",function(){return I}),n.d(t,"e",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"j",function(){return T}),n.d(t,"f",function(){return R}),n.d(t,"g",function(){return N});var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("TGBA"),c=n("aK/h"),l=n("XfeM"),u=n("kOzZ"),d=n("XZOc"),b=n("D4L/"),p=n("WvH5"),h=n("5BKc"),m=n("9vuj"),f=n("kNgr"),v=n("wmz2"),g=n("Szmb");function _(e){if("SEARCH_RESULTS"!==Object(p.b)(e))return{};var t=Object(p.d)(e),n={};if("messages"===t){var r=Object(g.c)(e);n.click_module_name="messages",n.click_module_sort=r===h.d.relevantMessages?"score":"timestamp"}else"files"===t?(n.click_module_name="files",n.click_module_sort=Object(f.a)(e)?Object(v.a)(e):"auto"):"channels"===t&&(n.click_module_name="channels",n.click_module_sort=Object(g.b)(e));return n}var O=function(e){return{search_session_id:e(Object(d.g)()),client_request_id:e(Object(d.f)())}},y=Object(l.b)("Clog a search close event using data from redux",function(e,t){var n=t();Object(u.a)({state:n}).track("SEARCH_CLOSE",o()({},O(e)))});y.propTypes=null;var j=Object(l.b)("Clog a search open event using data from redux",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,i=void 0===r?"":r,s=a()(n,["method"]),c=t(),l=Object(p.c)(c)||"search_box";Object(u.a)({state:c}).track("SEARCH_OPEN",o()({open_method:i||l,request_id:Object(m.a)(c)},_(c),O(e),s))});j.propTypes={method:c.b.string};var k={channel:"channel",channelJoin:"channel_join",channelLeave:"channel_leave",channelPurposeLink:"channel_purpose_link",channelPageNext:"channel_page_next",channelPagePrev:"channel_page_prev"},E={member:"member",avatar:"member_avatar",showMore:"show_more",navigateToMessages:"navigate_messages",peoplePageNext:"people_page_next",peoplePagePrev:"people_page_prev",topTerms:"top_terms"},C=Object(l.b)("Clog clicks in the search interface",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).params,r=void 0===n?{}:n,a=t(),i=Object(b.d)(a).id;Object(u.a)({state:a}).track("SEARCH_CLICK",o()({click_team_id:i,request_id:Object(m.a)(a)},_(a),O(e),r))});C.propTypes={params:c.b.object};var I=Object(l.b)("Clog clicks to search message results",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type,a=n.iid,i=n.ts,s=n.channelId,c=n.userId,l=n.botId,u=n.extraArguments,d=void 0===u?{}:u;return e(C({params:o()({click_iid:a,click_target_type:r,click_user_id:c,click_bot_id:l,click_channel_id:s,click_timestamp:i},d)}))});I.propTypes={type:c.b.oneOf(["expand"]),iid:c.b.string,ts:c.b.string,channelId:c.b.string,userId:c.b.string,botId:c.b.string,extraArguments:c.b.object};var w=Object(l.b)("Clog clicks to search file results",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.iid,a=n.ts,i=n.channelId,o=n.userId,s=n.botId,c=n.fileId,l=n.position;return e(C({params:{click_target_type:"file",click_timestamp:a,click_channel_id:i,click_iid:r,click_user_id:o,click_bot_id:s,click_file_id:c,click_position:l}}))});w.propTypes={iid:c.b.string.isRequired,userId:c.b.string.isRequired,fileId:c.b.string.isRequired,position:c.b.number,ts:c.b.string,channelId:c.b.string,botId:c.b.string};var S=Object(l.b)("Clog clicks to search channel results",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type,a=n.iid,i=n.channelId;return e(C({params:{click_iid:a,click_target_type:r,click_channel_id:i}}))});S.propTypes={iid:c.b.string.isRequired,type:c.b.oneOf(Object(s.a)(k)).isRequired,channelId:c.b.string};var T=Object(l.b)("Clog clicks to search people results",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type,a=n.iid,i=n.userId;return e(C({params:{click_iid:a,click_target_type:r,click_user_id:i}}))});T.propTypes={iid:c.b.string.isRequired,type:c.b.oneOf(Object(s.a)(E)).isRequired,userId:c.b.string};var R=Object(l.b)("Clog clicks for a search filter being added",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t();Object(u.a)({state:r}).track("SEARCH_FILTER_ADDED",o()({},_(r),O(e),n))});R.propTypes={click_user_id:c.b.string,click_channel_id:c.b.string,filter_before:c.b.string,filter_after:c.b.string,filter_file_type:c.b.string,filter_channel_type:c.b.string,filter_channel_team:c.b.string,filter_account_type:c.b.string,filter_other:c.b.string,filter_position:c.b.number};var N=Object(l.b)("Clog clicks for a search filter being removed",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t();Object(u.a)({state:r}).track("SEARCH_FILTER_REMOVED",o()({},_(r),O(e),n))});N.propTypes={click_user_id:c.b.string,click_channel_id:c.b.string,filter_before:c.b.string,filter_after:c.b.string,filter_file_type:c.b.string,filter_channel_type:c.b.string,filter_other:c.b.string,filter_position:c.b.number}},"l+8s":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("cMxN"),v=(p.b.func.isRequired,p.b.node.isRequired,function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPopover=n.renderPopover.bind(n),n}return b()(t,e),c()(t,[{key:"renderPopover",value:function(e){var t=this.props.renderMenu(a()({},e,{onTriggerClose:e.onClose,onMenuItemSelected:e.onClose}));return m.a.createElement(f.a,e,t)}},{key:"render",value:function(){return m.a.createElement(f.b,a()({},this.props,{ariaHasPopup:!0,renderPopover:this.renderPopover}),this.props.children)}}]),t}(h.PureComponent));v.displayName="MenuTrigger",t.a=v},l1Fk:function(e,t,n){},lCOO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("kxpR"),a=n("mqWI");function i(){return Object(r.useContext)(a.a)}},lDGG:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return b});var r=n("aK/h"),a=n("EzZj"),i=n("XfeM"),o=n("VL9c"),s=n("0oUp"),c=Object(a.b)("Sets whether the client has a connection");c.propTypes=r.b.bool;var l=Object(a.b)("Sets whether the Slack API is up");l.propTypes=r.b.bool;var u=Object(a.b)("Update the time we last sent a message over the socket");u.propTypes=r.b.null;var d=Object(i.b)("Returns a promise the resolves when we have a network connection",function(e){return Object(s.a)().then(function(){e(c(!0))}).catch(function(t){return e(c(!1)),Promise.reject(t)})});d.propTypes=null;var b=Object(i.b)("Returns a promise the resolves when the service is confirmed to be up and running",function(e){return Object(o.a)().then(function(){e(l(!0)),e(c(!0))}).catch(function(t){return e(l(!1)),Promise.reject(t)})});b.propTypes=null},lDjh:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("K2yZ"),i=n("XfeM"),o=n("S6VJ"),s=n("aLpA"),c=n("nNoG"),l=s.P.CUSTOM_ERROR,u=new c.b("cmd_handlers"),d=function(){var e=Error(l);return e.feedback=u.t("A valid channel name is required."),Promise.reject(e)},b=Object(i.b)("/leave slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,i=n.words,s=(void 0===i?[]:i)[1]||"";if(!s)return e(Object(o.a)({channelId:r}));var c=s.startsWith("@")?s.slice(1):s;return e(Object(a.a)({name:c})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;return t?e(Object(o.a)({channelId:t.id})):d()}).catch(d)});b.propTypes={channelId:r.b.string.isRequired,words:r.b.arrayOf(r.b.string.isRequired).isRequired},t.default=b},lHdP:function(e,t,n){},lKsX:function(e,t,n){},lQgN:function(e,t,n){"use strict";var r=n("X6iR"),a=n("u3oV");t.a=function(e){return Object(a.a)(e,function(e,t){return Object(r.a)(t,"data-")})}},"lU/5":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("aK/h"),m=n("TSYQ"),f=n.n(m),v=n("ypl0"),g=n("hOQf"),_=n("nNoG"),O=n("od5y"),y=(n("QJdW"),new _.b("message")),j=(h.b.object.isRequired,h.b.string,h.b.node,h.b.node,h.b.oneOf(["light","dense"]),{className:void 0,replyBar:void 0,children:void 0,theme:"light"}),k=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.replyBar,r=e.theme,a=e.children;if(!Object(g.sb)(t))return a;var i=f()(this.props.className,"c-message_kit__tombstone",{"c-message_kit__tombstone--compact":"dense"===r});return b.a.createElement("div",{className:i},b.a.createElement("div",{className:"c-message_kit__tombstone__icon"},b.a.createElement(O.b,{type:"trash"})),b.a.createElement("div",{className:"c-message_kit__tombstone__right"},b.a.createElement("div",{className:"c-message_kit__tombstone__text"},y.t("This message was deleted.")),n))}}]),t}(d.PureComponent);k.displayName="MessageTombstone",k.defaultProps=j,t.a=Object(p.b)(function(e){return{theme:Object(v.a)(e)}})(k)},lV3N:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("lCmp"),h=n("ifKl"),m=n("tn36"),f=n("aK/h"),v=n("yPgC"),g=n("kxpR"),_=n.n(g),O=n("aLpA"),y=n("3Hq1"),j=n("H0/5"),k=n("NFsq"),E=n("XHGt"),C=n("TSYQ"),I=n.n(C),w=n("Smdl"),S=n("smxp"),T=n("Jnln"),R=n("HHn2"),N=n("HO/Y"),x=n("XfeM"),M=n("DTT0"),P=n("CpTu"),A=n("nNoG"),D=n("Iq6W"),L=n("DtX9"),q=n("4zXV"),F=n("UjNr"),B=n("om+M"),U=Object(B.a)("API call for deleting a single attachment",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="chat.deleteAttachment",a={channel:n.channelId,ts:n.messageTs,attachment:n.attachmentId},i="delete-single-attachment";return Object(N.j)(t(),"feature_offline_mode")?e(Object(F.a)({method:r,args:a,reason:i})):e(Object(q.a)({method:r,args:a,reason:i}))});U.propTypes={channelId:f.b.string.isRequired,messageTs:f.b.string.isRequired,attachmentId:f.b.string.isRequired};var H=Object(B.a)("API call for deleting an attachment with a blacklist",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTs,i=n.attachmentId,o=n.blacklistType,s=n.blacklistUrl;return e(Object(q.a)({method:"chat.deleteAttachment",args:{channel:r,ts:a,attachment:i,blacklist_type:o,blacklist_url:s},reason:"admin-only-delete-attachment-with-blacklist"}))});H.propTypes=a()({},U.propTypes,{blacklistType:f.b.string,blacklistUrl:f.b.string});var K=n("hOQf"),G=n("Fdc0"),V=n("fL8H"),z=n("U3Q0"),Y=n("O0RF"),W=n("Rszm"),Q=n("cTBa"),X=n("FXaq"),Z=new A.b("inline_attachments"),J=(f.b.string.isRequired,f.b.string.isRequired,f.b.string.isRequired,f.b.bool,f.b.bool,f.b.string,f.b.func.isRequired,f.b.func.isRequired,f.b.func.isRequired,f.b.func.isRequired,function(e){function t(){o()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={useBlacklist:!1,blacklistType:void 0},e.onGo=e.onGo.bind(e),e.onSelect=e.onSelect.bind(e),e.onCheck=e.onCheck.bind(e),e.onError=e.onError.bind(e),e}return b()(t,e),c()(t,[{key:"onGo",value:function(){var e=this.props,t=e.channelId,n=e.messageTs,r=e.attachmentId,i=e.removeAttachmentLocally,o=e.deleteSingleAttachment,s=e.deleteAttachmentWithBlacklist,c=e.isMessageEphemeral,l=e.unfurlUrl,u=this.state,d=u.useBlacklist,b=u.blacklistType,p={channelId:t,messageTs:n,attachmentId:r};if(d&&b){var h=Object(X.c)(l);s(a()({},p,{blacklistType:b,blacklistUrl:h[b]})).then(function(){i(p)}).catch(this.onError)}else i(p),c||o(p).catch(this.onError)}},{key:"onCheck",value:function(e){var t=e.target.checked;this.setState(function(){return{useBlacklist:t}})}},{key:"onSelect",value:function(e){var t=e;this.setState(function(){return{blacklistType:t}})}},{key:"onError",value:function(){(0,this.props.openModal)({element:_.a.createElement(V.a,null,Z.t("Attachment removing failed!"))})}},{key:"maybeRenderUrlBlacklist",value:function(){var e=this.props,t=e.isAdminOrOwner,n=e.unfurlUrl;if(!t||!n)return null;var r=this.state,a=r.useBlacklist,i=r.blacklistType,o=Object(X.c)(n),s=[{label:Z.t("All links from {host}",{host:o.all}),value:"all"},{label:Z.t("Just the link {url}",{url:o.just}),value:"just"}];o.under&&s.push({label:Z.t("All links under {host_path}",{host_path:o.under}),value:"under"});return _.a.createElement("div",{className:"margin_left_100 margin_top_100"},_.a.createElement(Y.a,{text:Z.t("Disable future attachments from this website?"),htmlFor:"use-blacklist-cb",type:"inline",cursor:"pointer",className:"normal"},_.a.createElement(W.a,{id:"use-blacklist-cb",onChange:this.onCheck,checked:a})),_.a.createElement(Q.b,{onChange:this.onSelect,options:s,usePlaceholderOption:!1,selectedOption:Object(P.a)(s,{value:i}),useFilteredInput:!1,isDisabled:!a,className:"margin_bottom_25"}))}},{key:"render",value:function(){return _.a.createElement(z.a,{title:Z.t("Remove Attachment",{fallbackHash:"0fcc6594fca6ed31d3630b833fef66e2dabb575b"}),goButtonText:Z.t("Yes, Remove",{fallbackHash:"a4bacd3bd4d82eafc99f8cdb5b886922035018e5"}),goButtonType:"danger",onGo:this.onGo},Z.t("Are you sure you wish to remove this attachment from the message?"),this.maybeRenderUrlBlacklist())}}]),t}(g.PureComponent));J.displayName="BaseDeleteMessageAttachmentDialog",J.defaultProps={isAdminOrOwner:!1,isMessageEphemeral:!1,unfurlUrl:null};var $={removeAttachmentLocally:D.g,deleteSingleAttachment:U,deleteAttachmentWithBlacklist:H,openModal:M.e},ee=Object(E.b)(function(e,t){var n=t.channelId,r=t.messageTs,a=t.attachmentId,i=Object(S.a)(e,n,r),o=Object(P.a)(i.attachments,{id:a}),s=Object(L.b)(e);return{isAdminOrOwner:Object(G.X)(s)||Object(G.vb)(s),isMessageEphemeral:Object(K.Z)(i),unfurlUrl:o.from_url}},$)(J);ee.propTypes={channelId:f.b.string.isRequired,messageTs:f.b.string.isRequired,attachmentId:f.b.string.isRequired};var te=ee,ne=Object(x.b)("Delete message attachment",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTs,i=n.attachmentId,o=_.a.createElement(te,{channelId:r,messageTs:a,attachmentId:i});e(Object(M.e)({element:o}))});ne.propTypes={channelId:f.b.string.isRequired,messageTs:f.b.string.isRequired,attachmentId:f.b.string.isRequired};var re=ne,ae=n("ROZo"),ie=(Object(ae.b)("TS.inline_attachments.renderStandaloneAttachment",function(){return""}),Object(ae.b)("TS.inline_attachments.promptForDeletingAttachment",h.a)),oe=(Object(ae.b)("TS.inline_attachments.legacyTruncateAttachmentText",function(){return""}),n("XzsM")),se=n("XLFM"),ce=n("od5y"),le=n("tbBR"),ue=n("OkQS"),de=n("MnCE"),be=n("lek6"),pe=(f.b.string.isRequired,f.b.bool,function(e){var t=e.children,n=e.mrkdwnDoSpecials;return _.a.createElement("span",{className:"c-message_attachment__pretext"},_.a.createElement(be.a,{text:t,doSpecials:n}))});pe.displayName="AttachmentPretext",pe.defaultProps={mrkdwnDoSpecials:!1};var he=Object(de.a)(pe),me=n("acVv"),fe=(f.b.string,f.b.string,f.b.object,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.imageMetadata,n=e.proxiedImageUrl,r=e.title,a={backgroundImage:"url('"+n+"')"};return t.orientation&&"square"!==t.orientation&&(a.width=t.width/2,a.height=t.height/2),_.a.createElement("span",{className:"c-message_attachment__thumb",title:r,style:a})}}]),t}(g.PureComponent));fe.displayName="AttachmentThumb",fe.defaultProps={title:null,proxiedImageUrl:null,imageMetadata:{}};var ve=Object(E.b)(function(e,t){var n=t.url,r=t.height,a=t.width,i=Object(X.b)({height:r,width:a});return{proxiedImageUrl:Object(me.a)(e,{url:n,width:i.width,height:i.height}),imageMetadata:i}})(fe),ge=n("jo6Y"),_e=n.n(ge),Oe=n("vSXf"),ye=n("+mjO"),je=n("lwWk"),ke=(f.b.string,f.b.string,f.b.func,{link:null,children:null,clogLinkClick:h.a}),Ee=function(e){var t=e.link,n=e.children,r=e.clogLinkClick,a=t?_.a.createElement(je.a,{className:"c-message_attachment__title_link",href:t,target:"_blank",rel:"noreferrer noopener",onClick:function(){r({link_attachment_field:"attachment_title",url:t})},"data-qa":"message_attachment_title_link"},_.a.createElement(be.a,{text:n,noJumbomoji:!0,noSpecials:!0})):_.a.createElement(be.a,{text:n,noJumbomoji:!0,noSpecials:!0});return _.a.createElement("span",{className:"c-message_attachment__title"},a)};Ee.displayName="AttachmentTitle",Ee.defaultProps=ke;var Ce=Object(de.a)(Ee),Ie=n("9HJ0"),we=n("ynxK"),Se=new A.b("attachments"),Te=(f.b.bool,f.b.string,f.b.string,f.b.func,f.b.func,f.b.bool,f.b.bool,{isExpanded:!1,text:null,expandKey:null,setExpanded:h.a,clogLinkClick:h.a,mrkdwnDoSpecials:!1,doSlackActionLinks:!1}),Re=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onMrkdwnRender=n.onMrkdwnRender.bind(n),n.state={isExpandableStateKnown:!1},n}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.text!==e.text&&this.setState(function(){return{isExpandableStateKnown:!1}})}},{key:"onClick",value:function(e){var t=this.props,n=t.isExpanded,r=t.expandKey;e.preventDefault(),e.target.blur(),this.props.setExpanded({isExpanded:!n,key:r})}},{key:"onMrkdwnRender",value:function(e){var t=e.isTruncated;this.state.isExpandableStateKnown||this.setState(function(){return{isExpandableStateKnown:!0,isExpandable:t}})}},{key:"renderButtonMaybe",value:function(){var e=this.props.isExpanded;if(!this.state.isExpandable)return null;var t=void 0,n=void 0,r=void 0;return e?(t=Se.rt("Show less",{fallbackHash:"8ab66cf0eaeb7d2c2ab6e9650f2d73947d61510c"}),n="div"):(t=Se.rt("Show more",{fallbackHash:"1e499ecc2930ea232e078d52f5ed2bc3820cd795"}),n="span",r=" "),_.a.createElement(n,null,r,_.a.createElement(we.a,{className:"c-message_attachment__text_expander",onClick:this.onClick,"aria-expanded":e},t))}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.clogLinkClick,r=e.mrkdwnDoSpecials,a=e.isExpanded,i=e.doSlackActionLinks,o=void 0,s=void 0;return this.state.isExpandableStateKnown&&a||(o=700,s=5),_.a.createElement("span",{className:"c-message_attachment__text","data-qa":"message_attachment_text"},_.a.createElement(be.a,{text:t,clogLinkClick:n,doSpecials:r,maxCharacters:o,maxNewlines:s,onRender:this.onMrkdwnRender,doSlackActionLinks:i}),this.renderButtonMaybe())}}]),t}(g.PureComponent);Re.displayName="AttachmentText",Re.defaultProps=Te;var Ne={setExpanded:Ie.e},xe=Object(E.b)(function(e,t){var n=t.messageTs,r=t.id,a=t.doSlackActionLinks,i=t.activeChannelId,o=t.viewContext,s=Object(R.a)("attachmentText",n,{id:r,viewContext:o}),c=Object(Ie.d)(e,s),l=Object(S.a)(e,i,n);return{isExpanded:c,expandKey:s,doSlackActionLinks:a||Object(K.mb)(l)&&Object(K.Z)(l)}},Ne)(Re),Me=(f.b.bool.isRequired,f.b.string.isRequired,f.b.string.isRequired,f.b.string.isRequired,f.b.string.isRequired,f.b.func,f.b.bool,{setExpanded:h.a,mrkdwnDoSpecials:!1}),Pe=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return b()(t,e),c()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.isExpanded,r=t.expandKey;e.preventDefault(),e.target.blur(),this.props.setExpanded({isExpanded:!n,key:r})}},{key:"renderExpandedButton",value:function(){var e=this.props,t=e.isExpanded,n=e.moreShowtext,r=e.moreHidetext,a=void 0,i=void 0,o=void 0;return t?(a=r,i="div"):(a=n,i="span",o=" "),_.a.createElement(i,null,o,_.a.createElement(we.a,{className:"c-message_attachment__text_expander","aria-expanded":t,onClick:this.onClick},a))}},{key:"render",value:function(){var e=this.props,t=e.more,n=e.isExpanded,r=e.mrkdwnDoSpecials;return _.a.createElement("span",{className:"c-message_attachment__more"},this.renderExpandedButton(),n&&_.a.createElement(be.a,{text:t,doSpecials:r}))}}]),t}(g.PureComponent);Pe.displayName="AttachmentTextMore",Pe.defaultProps=Me;var Ae={setExpanded:Ie.e},De=Object(E.b)(function(e,t){var n=t.messageTs,r=t.id,a=t.viewContext,i=Object(R.a)("attachmentTextMore",n,{id:r,viewContext:a});return{isExpanded:!!Object(Ie.d)(e,i),expandKey:i}},Ae)(Pe),Le=(f.b.string,f.b.string,f.b.bool,f.b.func,f.b.bool,{title:null,value:null,short:!0,clogLinkClick:h.a,mrkdwnDoSpecials:!1}),qe=function(e){var t=e.title,n=e.value,r=e.short,a=e.clogLinkClick,i=e.mrkdwnDoSpecials,o=I()("c-message_attachment__field",{"c-message_attachment__field--short":r});return _.a.createElement("div",{className:o},_.a.createElement("div",{className:"c-message_attachment__field_title","data-qa":"message_attachment_field_title"},_.a.createElement(be.a,{text:t,clogLinkClick:a,doSpecials:!1})),_.a.createElement("div",{className:"c-message_attachment__field_value","data-qa":"message_attachment_field_value"},_.a.createElement(be.a,{text:n,clogLinkClick:a,doSpecials:i})))};qe.displayName="AttachmentField",qe.defaultProps=Le;var Fe=Object(de.a)(qe),Be=n("XC2b"),Ue=n("4GF8"),He=n("VwYs"),Ke=n("C6Be"),Ge=n("jLdI"),Ve=n("9/DQ"),ze=n("wP1B"),Ye=n("llxT"),We=(f.b.number,f.b.number,f.b.string,f.b.string,f.b.func,f.b.string,f.b.string,f.b.object,f.b.string,f.b.func,f.b.string,{width:0,height:0,videoHtml:null,fromUrl:null,clogLinkClick:h.a,activeChannelId:null,messageTs:null,message:null,activeTeamId:null,clogMessageClick:h.a,proxiedThumbUrl:null}),Qe=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isShowingThumb:!0},n.onPlay=n.onPlay.bind(n),n.setVideoRef=n.setVideoRef.bind(n),n.clogLinkClick=n.clogLinkClick.bind(n),n.videoElement=null,n.didClickPlay=!1,n}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.activeTeamId!==e.activeTeamId&&this.setState(function(){return{isShowingThumb:!0}})}},{key:"componentDidUpdate",value:function(){!this.state.isShowingThumb&&this.videoElement&&this.didClickPlay&&(this.didClickPlay=!1,this.videoElement.play())}},{key:"onPlay",value:function(){var e=this.props.message;this.props.clogMessageClick({msg:e,payload:{subtype:"video_play"}}),this.didClickPlay=!0,this.setState(function(){return{isShowingThumb:!1}})}},{key:"setVideoRef",value:function(e){this.videoElement=e&&e.querySelector("video")}},{key:"clogLinkClick",value:function(){var e=this.props.fromUrl;this.props.clogLinkClick({url:e})}},{key:"sanitizeVideoHtmlMaybe",value:function(){var e=this.props,t=e.videoHtml,n=e.width,r=e.height;return t.match(/^<video/)?t.replace(/<video/,'<video class="c-message_attachment__video_player"').replace(/width=".+?"/,'width="'+n+'"').replace(/height=".+?"/,'height="'+r+'"'):t}},{key:"renderPlayButton",value:function(){return _.a.createElement(Ye.a,{className:"c-message_attachment__video_play",onClick:this.onPlay},_.a.createElement(ce.a,{type:"play",inherit:!0}))}},{key:"renderExternalLinkMaybe",value:function(){var e=this.props.fromUrl;return e?_.a.createElement(je.a,{className:"c-message_attachment__video_link",target:"_blank",rel:"noopener noreferrer",href:e,onClick:this.clogLinkClick},_.a.createElement(ce.a,{type:"external_link",inherit:!0})):null}},{key:"renderThumb",value:function(){var e=this.props,t=e.width,n=e.height,r={backgroundImage:"url('"+e.proxiedThumbUrl+"')"};return t<120||n<60?_.a.createElement(Ye.a,{className:"c-message_attachment__video_thumb c-message_attachment__video_thumb--small",style:r,onClick:this.onPlay}):_.a.createElement("div",{className:"c-message_attachment__video_thumb",style:r},_.a.createElement("div",{className:"c-message_attachment__video_buttons"},this.renderPlayButton(),this.renderExternalLinkMaybe()))}},{key:"renderVideoHtml",value:function(){return _.a.createElement("div",{className:"c-message_attachment__video_html",dangerouslySetInnerHTML:{__html:this.sanitizeVideoHtmlMaybe()},ref:this.setVideoRef})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return _.a.createElement(ze.a,{className:"c-message_attachment__video_container",width:t,height:n},this.state.isShowingThumb?this.renderThumb():this.renderVideoHtml())}}]),t}(g.PureComponent);Qe.displayName="AttachmentVideo",Qe.defaultProps=We;var Xe={clogMessageClick:function(){return Ge.a.apply(void 0,arguments)}},Ze=Object(E.b)(function(e,t){var n=t.messageTs,r=t.activeChannelId,a=t.height,i=t.width,o=t.thumbUrl;return{message:Object(S.a)(e,r,n),activeTeamId:Object(Ve.e)(e),proxiedThumbUrl:Object(me.a)(e,{url:o,width:i,height:a})}},Xe)(Qe),Je=n("5mwC"),$e=(f.b.string,f.b.string,f.b.string,f.b.number,f.b.number,f.b.number,f.b.string,f.b.number,f.b.number,f.b.string,f.b.number,f.b.string,f.b.string,f.b.number,f.b.number,f.b.number,f.b.string,f.b.string,f.b.string,f.b.func,{expandableKey:null,title:null,imageUrl:null,imageWidth:null,imageHeight:null,imageBytes:null,videoHtml:null,videoHtmlWidth:void 0,videoHtmlHeight:void 0,audioHtml:null,audioHtmlHeight:null,safeAudioHtml:null,thumbUrl:null,thumbWidth:null,thumbHeight:null,rotation:0,activeChannelId:void 0,messageTs:void 0,fromUrl:null,clogLinkClick:h.a}),et=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"getAdjustedDimensions",value:function(e,t){var n=e>Je.c||t>Je.b?Math.min(Je.c/e,Je.b/t):1,r=Math.floor(e*n),a=Math.floor(t*n);return this.props.rotation%180==0?{width:r,height:a}:{width:a,height:r}}},{key:"renderImageMaybe",value:function(){var e=this.props,t=e.expandableKey,n=e.imageUrl,r=e.imageWidth,i=e.imageHeight,o=e.imageBytes,s=e.title,c=e.rotation,l=e.activeChannelId,u=e.messageTs,d=e.clogLinkClick;return n?_.a.createElement(He.a,{expandableKey:t,imageBytes:o},_.a.createElement(Ke.a,a()({url:n,title:s,rotation:c,activeChannelId:l,messageTs:u,clogLinkClick:d,originalWidth:r,originalHeight:i},this.getAdjustedDimensions(r,i)))):null}},{key:"renderVideoMaybe",value:function(){var e=this.props,t=e.expandableKey,n=e.videoHtml,r=e.videoHtmlWidth,i=e.videoHtmlHeight,o=e.thumbUrl,s=e.thumbWidth,c=e.thumbHeight,l=e.fromUrl,u=e.clogLinkClick,d=e.messageTs,b=e.activeChannelId;if(!n)return null;var p=Math.max(i||0,c),h=Math.max(r||0,s);return _.a.createElement(He.a,{className:"c-message_attachment__video",expandableKey:t},_.a.createElement(Ze,a()({thumbUrl:o,videoHtml:n,fromUrl:l,clogLinkClick:u,messageTs:d,activeChannelId:b},this.getAdjustedDimensions(h,p))))}},{key:"renderAudioMaybe",value:function(){var e=this.props,t=e.expandableKey,n=e.audioHtml,r=e.safeAudioHtml,a=e.audioHtmlHeight;return n||r?_.a.createElement(He.a,{className:"c-message_attachment__audio",expandableKey:t},_.a.createElement("div",{dangerouslySetInnerHTML:{__html:r||n},style:{height:a}})):null}},{key:"render",value:function(){return this.renderImageMaybe()||this.renderVideoMaybe()||this.renderAudioMaybe()}}]),t}(g.PureComponent);et.displayName="AttachmentMedia",et.defaultProps=$e;var tt=et,nt=n("m8R6"),rt=n("t3QL"),at=n("cD5Y"),it=n("RAhH"),ot=n("Y/4G"),st=Object(B.a)("send an attachment action payload to a third party app",function(e,t,n){var r=n.action,a=n.attachmentId,i=n.botUserId,o=n.callbackId,s=n.channelId,c=n.isEphemeral,l=n.threadTs,u=n.messageTs,d=n.promptAppInstall,b=void 0!==d&&d,p=n.serviceId,h={actions:[r],attachment_id:a,callback_id:o,channel_id:s,is_ephemeral:c,thread_ts:l,message_ts:u,prompt_app_install:b,team_id:n.teamId},m={payload:JSON.stringify(h),client_token:ot.a.generateAndEnqueue(),service_id:p,bot_user_id:i};return e(Object(q.a)({method:"chat.attachmentAction",args:m}))});st.propTypes=f.b.object;var ct=st,lt=n("s19S"),ut=n("yHhI");function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.actionId;if(!(n&&r&&a&&i))throw new Error("Cannot call `triggerAttachmentAction` without proper arguments");var o=Object(S.a)(e,n,r);if(!o)throw new Error("Couldn't find message "+r+" in channel "+n);var s=Object(P.a)(o.attachments,{id:a});if(!s)throw new Error("Couldn't find attachment \""+a+'" in message "'+o.ts+'".');var c=Object(P.a)(s.actions,{id:i});if(!c)throw new Error("Couldn't find action \""+i+'" in attachment "'+a+'".');c.options;return{message:o,attachment:s,action:_e()(c,["options"])}}var bt=n("St+r"),pt=n("Cbpi"),ht=new A.b("attachment_actions"),mt=Object(x.b)("Trigger an attachment action",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTs,i=n.attachmentId,o=n.actionId,s=n.selectedOption,c=t(),l=dt(c,{channelId:r,messageTs:a,attachmentId:i,actionId:o}),u=l.message,d=l.attachment,b=l.action;s&&(b.selected_options=[s]);var p=function(t){return e(Object(D.j)({channelId:r,messageTs:a,attachmentId:i,actionId:o,isPending:t}))},h=function(t){return e(Object(D.k)({channelId:r,messageTs:a,attachmentId:i,isShowing:t}))};p(!0),h(!1);var m=window.setTimeout(function(){return h(!0)},1e3);return e(ct({action:b,attachmentId:i,callbackId:d.callback_id,channelId:r,isEphemeral:u.is_ephemeral,threadTs:u.thread_ts,messageTs:a,teamId:u.bot_profile&&u.bot_profile.team_id,serviceId:u.bot_id,botUserId:u.user,promptAppInstall:!!d.prompt_app_install&&d.prompt_app_install})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.replaced,a=t.deleted;n||a||p(!1),Object(N.j)(c,"feature_degraded_send")&&!Object(bt.i)(c)&&e(Object(pt.a)({channelId:r}))}).catch(function(e){var n={text:e.data&&e.data.response||ht.t("Oh no, something went wrong. Please try that again."),ephemeral_type:e.data&&e.data.error||"attachment_action_error",slackbot_feels:"sad_surprise"};Object(lt.a)(n),Object(ut.a)({getState:t}).error(e),p(!1)}).finally(function(){clearTimeout(m),h(!1)})});mt.propTypes={channelId:f.b.string.isRequired,messageTs:f.b.string.isRequired,attachmentId:f.b.string.isRequired,actionId:f.b.string.isRequired,selectedOption:f.b.object};var ft=mt,vt=n("clTI"),gt=n("6kok"),_t=n("cErB"),Ot=n("p2Go"),yt=n("TGBA"),jt=n("Bw5p"),kt=n("7EGn"),Et=n("zlNY"),Ct=n("kX2h"),It=n("0Whs");function wt(e){return e&&e.__meta__&&e.__meta__.lastUpdatedTs}var St=n("RbWr"),Tt=n("wK/9"),Rt=Object(B.a)("fetch options from a third party app based on a search query",function(e,t,n){var r=n.actionName,a=n.attachmentId,i=n.callbackId,o=n.channelId,s=n.messageTs,c=n.serviceId,l=n.teamId,u=n.value,d=n.reason,b={payload:JSON.stringify(Object(Tt.a)({attachmentId:a,callbackId:i,channelId:o,isEphmeral:!0,messageTs:s,name:r,teamId:l,value:u})),service_id:c};return e(Object(q.a)({method:"chat.attachmentSuggestion",reason:d||"fetchAttachmentSuggestion",args:b})).then(function(e){var t=e.option_groups,n=e.options;return t?{optionGroups:t.map(function(e){var t=e.options,n=void 0===t?[]:t;return{label:e.text,options:n.map(It.b)}})}:n?{options:n.map(It.b)}:{options:[]}})});Rt.propTypes=f.b.object;var Nt=Rt,xt=n("57p7"),Mt={channels:"channels",conversations:"conversations",external:"external",static:"static",users:"users"},Pt=f.b.arrayOf(f.b.shape({description:f.b.string,text:f.b.string,value:f.b.string})),At={actionName:f.b.string,attachmentId:f.b.string.isRequired,botUserId:f.b.string,callbackId:f.b.string,dataSource:f.b.oneOf(Object(yt.a)(Mt)).isRequired,channelId:f.b.string.isRequired,confirm:f.b.shape({title:f.b.string,text:f.b.string,ok_text:f.b.string,dismiss_text:f.b.string}),formattedSelectedOption:f.b.object,id:f.b.string.isRequired,isEphemeral:f.b.bool,isDisabled:f.b.bool,isLoading:f.b.bool,messageLastUpdatedTs:f.b.string.isRequired,messageTs:f.b.string.isRequired,minQueryLength:f.b.number,name:f.b.string.isRequired,optionGroups:f.b.arrayOf(f.b.shape({text:f.b.string,options:Pt})),options:Pt,fetchAttachmentSuggestion:f.b.func.isRequired,serviceId:f.b.string,selectedOptions:Pt,teamId:f.b.string,text:f.b.string,triggerAction:f.b.func,showConfirmDialog:f.b.func,hideConfirmDialog:f.b.func},Dt={actionName:void 0,botUserId:void 0,callbackId:void 0,confirm:void 0,formattedSelectedOption:void 0,isEphemeral:!1,isDisabled:!1,isLoading:!1,minQueryLength:0,options:void 0,optionGroups:void 0,serviceId:void 0,selectedOptions:[],teamId:void 0,text:void 0,triggerAction:h.a,showConfirmDialog:h.a,hideConfirmDialog:h.a},Lt=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.formattedSelectedOption;return n.state={initialSelectedOption:r,value:Object(kt.a)(r,"value")},Object(m.a)(n,["onChange","onConfirmDialogCancelled","optionsFetcher","resetState","triggerActionWithValue"]),n}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.messageLastUpdatedTs!==this.props.messageLastUpdatedTs&&this.resetState(e)}},{key:"onChange",value:function(e){var t=this.props.confirm,n=t?this.showConfirmDialog:this.triggerActionWithValue;this.setState(function(n){var r={initialSelectedOption:void 0,value:e};return t?a()({},r,{valueBeforeConfirm:n.value}):r},n)}},{key:"onConfirmDialogCancelled",value:function(){this.setState(function(e){return{value:e.valueBeforeConfirm,valueBeforeConfirm:void 0}})}},{key:"getSelectId",value:function(){var e=this.props,t=e.attachmentId,n=e.id,r=e.callbackId,a=e.name;return"attachment-action-select-"+e.messageTs.replace(".","")+"-"+t+"-"+n+"-"+r+"-"+a}},{key:"getFormattedOptionGroupsMaybe",value:function(){var e=this.props.optionGroups;return e?e.map(function(e){var t=e.options,n=void 0===t?[]:t;return{label:e.text,options:n.map(It.b)}}):null}},{key:"getFormattedOptionsMaybe",value:function(){var e=this.props.options;return e?e.map(It.b):null}},{key:"getMessagesContainerBoundingRect",value:function(){return this._messagesContainerElement||(this._messagesContainerElement=document.getElementById("messages_container")),this._messagesContainerElement?this._messagesContainerElement.getBoundingClientRect():{}}},{key:"resetState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState(function(){var t=e.formattedSelectedOption;return{initialSelectedOption:t,value:Object(kt.a)(t,"value")}},function(){return e.hideConfirmDialog(!0)})}},{key:"showConfirmDialog",value:function(){this.props.showConfirmDialog({onConfirmDialogGo:this.triggerActionWithValue,onConfirmDialogCancel:this.onConfirmDialogCancelled})}},{key:"triggerActionWithValue",value:function(){(0,this.props.triggerAction)({selectedOption:{value:this.state.value}})}},{key:"optionsFetcher",value:function(e){var t=Object(jt.a)(this.props,["actionName","attachmentId","callbackId","channelId","messageTs","serviceId","teamId"]);return this.props.fetchAttachmentSuggestion(a()({},t,{value:e}))}},{key:"renderSelect",value:function(){var e=this.props,t=e.dataSource,n=e.isDisabled,r=e.isLoading,i=e.minQueryLength,o=e.name,s=e.text,c=this.getMessagesContainerBoundingRect(),l=c.bottom,u=void 0===l?0:l,d=c.top,b=void 0===d?0:d,p=this.getSelectId(),h={id:p,key:p,className:"c-message_attachment__select",isDisabled:n||r,name:o,onChange:this.onChange,optionClassName:"c-message_attachment__select_option c-message_attachment__select_option--"+t,optionsListOffsetBottom:window.innerHeight-u,optionsListOffsetTop:b,optionsListWidth:260,placeholder:s||void 0,selectedOption:this.state.initialSelectedOption,selectedValueClassName:"c-message_attachment__selected_value c-message_attachment__selected_value--"+t,type:"short",usePlaceholderOption:!1,value:this.state.value,wrapperClassName:"c-message_attachment__select_wrapper"};if(t===Mt.static){var m=a()({},h,{optionGroups:this.getFormattedOptionGroupsMaybe(),options:this.getFormattedOptionsMaybe()});return _.a.createElement(Et.d,m)}var f=a()({},h,{prefetchOptions:!0});if(t===Mt.channels)return _.a.createElement(Et.a,f);if(t===Mt.conversations)return _.a.createElement(Et.b,a()({},f,{includeApps:!1}));if(t===Mt.external){var v=a()({},f,{minQueryLength:i,optionsFetcher:this.optionsFetcher});return _.a.createElement(Ct.a,v)}return t===Mt.users?_.a.createElement(Et.c,a()({},f,{includeApps:!1})):null}},{key:"render",value:function(){return _.a.createElement("span",{className:"inline_block align_middle"},this.renderSelect())}}]),t}(St.a);Lt.displayName="AttachmentActionSelect";Lt.propTypes=At,Lt.defaultProps=Dt;var qt=Object(xt.a)(Object(E.b)(function(e,t){var n=t.attachmentId,r=t.channelId,i=t.dataSource,o=t.id,s=t.messageTs,c=t.selectedOptions,l=dt(e,{channelId:r,messageTs:s,attachmentId:n,actionId:o}),u=l.action,d=l.attachment,b=l.message,p={actionName:u.name,botUserId:b.user,callbackId:d.callback_id,isEphemeral:b.is_ephemeral,messageLastUpdatedTs:wt(b),serviceId:d.bot_id||b.bot_id,teamId:Object(kt.a)(b,"bot_profile.team_id")},h=c&&c[0];if(h){var m=void 0;if([Mt.static,Mt.external].includes(i))m=Object(It.b)(h);else{var f=h.value,v=i===Mt.users?Object(L.c)(e,f):Object(vt.d)(e,f);v&&!Object(gt.Jb)(v)&&(m=Object(It.a)(v))}return a()({},p,{formattedSelectedOption:m})}return p},function(e){return{fetchAttachmentSuggestion:function(){return e(Nt.apply(void 0,arguments))}}})(Lt)),Ft=new A.b("attachment_actions"),Bt=(f.b.oneOf(["button","select"]),f.b.bool,f.b.func,f.b.func,f.b.string,f.b.string,f.b.oneOfType([f.b.string,f.b.number]),f.b.string,f.b.string,{type:void 0,isPreviewing:!1,clogLinkClick:h.a,triggerAttachmentAction:h.a,channelId:void 0,messageTs:void 0,attachmentId:void 0,id:void 0,url:void 0}),Ut=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.triggerAction=n.triggerAction.bind(n),n}return b()(t,e),c()(t,[{key:"triggerAction",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectedOption,t=this.props,n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.id;this.props.triggerAttachmentAction({channelId:n,messageTs:r,attachmentId:a,actionId:i,selectedOption:e})}},{key:"renderInTooltipMaybe",value:function(e){return this.props.isPreviewing?_.a.createElement(it.c,{tip:Ft.t("Join the channel to interact with this message"),offsetY:5},_.a.createElement("span",{className:"inline_block"},e)):e}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.url;switch(t){case"button":return n&&!Object(_t.p)(n)?null:this.renderInTooltipMaybe(_.a.createElement(Ot.a,a()({},this.props,{triggerAction:this.triggerAction})));case"select":return this.renderInTooltipMaybe(_.a.createElement(qt,a()({},this.props,{triggerAction:this.triggerAction})));default:return null}}}]),t}(g.PureComponent);Ut.displayName="AttachmentAction",Ut.defaultProps=Bt;var Ht={triggerAttachmentAction:ft},Kt=Object(E.b)(function(e,t){var n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.id,o=Object(vt.d)(e,n),s=Object(gt.yb)(o)&&!Object(gt.kb)(o);return{isPreviewing:s,isDisabled:s||Object(S.e)(e,{channelId:n,messageTs:r,attachmentId:a}),isLoading:Object(S.c)(e,{channelId:n,messageTs:r,attachmentId:a,actionId:i})}},Ht)(Ut),Gt=(f.b.string,f.b.string,f.b.oneOfType([f.b.string,f.b.number]),f.b.arrayOf(f.b.object),f.b.func,f.b.bool,{activeChannelId:void 0,messageTs:void 0,id:void 0,actions:void 0,clogLinkClick:h.a,showLoader:!1});var Vt=function(e){var t=e.activeChannelId,n=e.messageTs,r=e.id,i=e.actions,o=e.clogLinkClick,s=e.showLoader;return _.a.createElement("div",{className:"c-message_attachment__row c-message_attachment__row--actions"},i.map(function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.a.createElement(Kt,a()({key:i.id,channelId:t,messageTs:n,attachmentId:r,clogLinkClick:o},(e=i,Object(rt.b)(a()({},Object(nt.a)(e,"min_query_length","style"),{minQueryLength:parseInt(e.min_query_length,10)||0,variant:e.style})))))}),s&&_.a.createElement(at.a,{size:"large",speed:"fast",color:"white",className:"inline_flex align_middle"}))};Vt.displayName="AttachmentActionsRow",Vt.defaultProps=Gt;var zt=Object(de.a)(Vt),Yt=(f.b.string,f.b.oneOfType([f.b.string,f.b.number]),f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.arrayOf(f.b.shape({title:f.b.string,value:f.b.string,short:f.b.bool})),f.b.string,f.b.number,f.b.number,f.b.number,f.b.string,f.b.number,f.b.number,f.b.string,f.b.number,f.b.string,f.b.string,f.b.number,f.b.number,f.b.string,f.b.string,f.b.number,f.b.string,f.b.string,f.b.string,f.b.func,f.b.bool,f.b.shape({pretext:f.b.bool,text:f.b.bool,fields:f.b.bool}),f.b.bool,{fallback:null,id:void 0,color:null,authorName:null,authorSubname:null,authorLink:null,authorIcon:null,botId:null,serviceName:null,serviceUrl:null,serviceIcon:null,title:null,titleLink:null,text:null,more:null,fields:null,imageUrl:null,imageWidth:0,imageHeight:0,imageBytes:0,videoHtml:null,videoHtmlWidth:void 0,videoHtmlHeight:void 0,audioHtml:null,audioHtmlHeight:0,safeAudioHtml:null,thumbUrl:null,thumbHeight:0,thumbWidth:0,footer:null,footerIcon:null,ts:null,fromUrl:null,expandableKey:null,messageTs:null,clogLinkClick:h.a,isAppUnfurl:!1,mrkdwnInHash:{},featureAttachmentTextMore:!1}),Wt=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaTriggerPosition(e),n}return b()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.setMediaTriggerPosition(e)}},{key:"setMediaTriggerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.mediaTriggerPosition=this.determineMediaTriggerPosition(e)}},{key:"determineMediaTriggerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Object(X.h)(e)?"footer":Object(X.k)(e)?"text":Object(X.j)(e)?"more":Object(X.l)(e)?"title":Object(X.e)(e)?"author":"end"}},{key:"renderAuthorMaybe",value:function(){if(!Object(X.e)(this.props))return null;var e=this.props,t=e.serviceIcon,n=e.authorIcon,r=e.serviceName,a=e.authorName,i=e.serviceUrl,o=e.authorLink,s=e.authorSubname,c=e.clogLinkClick,l=t||n,u=r||a,d=u===a?s:a;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(ye.a,{icon:l,name:u,link:i||o,subname:d,subnameLink:o,clogLinkClick:c}),"author"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderTitleMaybe",value:function(){if(!Object(X.l)(this.props))return null;var e=this.props,t=e.title,n=e.titleLink,r=e.clogLinkClick;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(Ce,{link:n,clogLinkClick:r},t),"title"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderTextMaybe",value:function(){if(!Object(X.k)(this.props))return null;var e=this.props.mrkdwnInHash;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(xe,a()({},this.props,{mrkdwnDoSpecials:e.text})),"text"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderMoreMaybe",value:function(){if(!this.props.featureAttachmentTextMore||!Object(X.j)(this.props))return null;var e=this.props.mrkdwnInHash;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(De,a()({},this.props,{mrkdwnDoSpecials:e.more})),"more"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderFieldsMaybe",value:function(){if(!Object(X.g)(this.props))return null;var e=this.props,t=e.fields,n=e.clogLinkClick,r=e.mrkdwnInHash;return t.map(function(e,t){return _.a.createElement(Fe,a()({clogLinkClick:n,mrkdwnDoSpecials:r.fields,key:t},e))})}},{key:"renderFooterMaybe",value:function(){if(!Object(X.h)(this.props))return null;var e=this.props,t=e.botId,n=e.expandableKey,r=e.footer,a=e.footerIcon,i=e.isAppUnfurl,o=e.ts,s=e.clogLinkClick,c=I()("c-message_attachment__row",{"c-message_attachment__row--has_trigger":"footer"===this.mediaTriggerPosition&&n,"c-message_attachment__row--has_icon":a});return _.a.createElement("div",{className:c},_.a.createElement(Be.a,{botId:t,clogLinkClick:s,icon:a,isAppUnfurl:i,text:r,ts:o}),"footer"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderActionsMaybe",value:function(){return Object(X.d)(this.props)?_.a.createElement(zt,this.props):null}},{key:"renderMediaTriggerMaybe",value:function(){var e=this.props,t=e.imageBytes,n=e.imageUrl,r=e.expandableKey,a=Ue.a.default;return"footer"===this.mediaTriggerPosition&&(a=Ue.a.caption),r?_.a.createElement(Ue.b,{imageBytes:n?t:void 0,expandableKey:r,type:a}):null}},{key:"renderMediaMaybe",value:function(){return Object(X.i)(this.props)?_.a.createElement("div",{className:"c-message_attachment__row"},"end"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe(),_.a.createElement(tt,this.props)):null}},{key:"renderFallbackMaybe",value:function(){var e=this.props,t=e.fallback,n=_e()(e,["fallback"]);return Object(p.a)(n)?null:_.a.createElement("div",{className:"c-message_attachment__fallback"},t)}},{key:"render",value:function(){return Object(X.f)(this.props)?_.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthorMaybe(),this.renderTitleMaybe(),this.renderTextMaybe(),this.renderMoreMaybe(),this.renderFieldsMaybe(),this.renderFooterMaybe(),this.renderMediaMaybe(),this.renderActionsMaybe(),this.renderFallbackMaybe()):null}}]),t}(g.PureComponent);Wt.displayName="MessageAttachmentGeneric",Wt.defaultProps=Yt;var Qt=Object(Oe.a)("feature_attachment_text_more")(Wt),Xt=new A.b("attachments"),Zt=(f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.number,f.b.number,f.b.string,f.b.string,f.b.func,{color:null,authorName:null,authorSubname:null,authorIcon:null,text:null,imageUrl:null,imageBytes:0,ts:null,fromUrl:null,expandableKey:null,clogLinkClick:h.a}),Jt=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderAuthor",value:function(){var e=this.props,t=e.authorIcon,n=e.authorName,r=e.authorSubname,a=e.clogLinkClick,i="https://twitter.com/"+r;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(ye.a,{icon:t,isDistinct:!0,name:n,link:i,subname:r,subnameLink:i,clogLinkClick:a}))}},{key:"renderText",value:function(){return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(xe,this.props))}},{key:"renderFooter",value:function(){var e=this.props,t=e.ts,n=e.fromUrl,r=e.clogLinkClick,a=e.expandableKey,i=I()("c-message_attachment__row","c-message_attachment__row--has_icon",{"c-message_attachment__row--has_trigger":a});return _.a.createElement("div",{className:i},_.a.createElement(Be.a,{text:Xt.t("Twitter"),icon:cdn_url+"/6e067/img/services/twitter_pixel_snapped_32.png",ts:t,tsLink:n,clogLinkClick:r}),this.renderMediaTriggerMaybe())}},{key:"renderMediaTriggerMaybe",value:function(){var e=this.props,t=e.imageUrl,n=e.imageBytes,r=e.expandableKey;return r?_.a.createElement(Ue.b,{imageBytes:t&&n,expandableKey:r}):null}},{key:"renderMediaMaybe",value:function(){return this.props.expandableKey?_.a.createElement(tt,this.props):null}},{key:"render",value:function(){return _.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderFooter(),this.renderMediaMaybe())}}]),t}(g.PureComponent);Jt.displayName="MessageAttachmentTwitter",Jt.defaultProps=Zt;var $t=Jt,en=(f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.func,{authorName:null,authorSubname:null,authorIcon:null,authorLink:null,text:null,clogLinkClick:h.a}),tn=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderAuthor",value:function(){var e=this.props,t=e.authorIcon,n=e.authorName,r=e.authorSubname,a=e.authorLink,i=e.clogLinkClick;return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(ye.a,{icon:t,name:n,link:a,subname:r,subnameLink:a,clogLinkClick:i}))}},{key:"renderActionsMaybe",value:function(){return Object(X.d)(this.props)?_.a.createElement(zt,this.props):null}},{key:"renderText",value:function(){return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(xe,a()({},this.props,{mrkdwnDoSpecials:!0})))}},{key:"render",value:function(){return _.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderActionsMaybe())}}]),t}(g.PureComponent);tn.displayName="MessageAttachmentSalesforce",tn.defaultProps=en;var nn=tn,rn=n("uf9I"),an=n("P9LH"),on=n("0f2Y"),sn=n("mOAw"),cn=n("xoiQ"),ln=n("L8el"),un=n("tjIJ"),dn=n("QgY0"),bn=n("Qrgz"),pn=n("D4L/"),hn=n("5mKg"),mn=n("Aeia"),fn=n("yIs4"),vn=n("VjHM"),gn=n("rjL9"),_n=n("9gIX"),On=n("HDtv"),yn=n("RfGh"),jn=n("/lKr"),kn=(v.a.File().isRequired,f.b.string.isRequired,f.b.func,f.b.bool,f.b.func,{clogLinkClick:h.a,expandPref:!0,handleFileContainerClick:h.a}),En=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openFile=n.openFile.bind(n),n}return b()(t,e),c()(t,[{key:"openFile",value:function(e){var t=this.props,n=t.file,r=t.clogLinkClick;this.props.handleFileContainerClick({e:e,file:n,clogLinkClick:r})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.clogLinkClick,r=e.expandPref,a=e.teamId;if(r&&Object(an.e)(t)){var i={};return Object(fn.a)(t.thumb_360_w)&&(i.width=t.thumb_360_w),Object(fn.a)(t.thumb_360_h)&&(i.height=t.thumb_360_h),_.a.createElement("div",{className:"c-message_attachment__file c-message_attachment__file--image",style:i},_.a.createElement(gn.a,{file:t,maxSize:O.D,clogLinkClick:n}))}var o=Object(an.s)(t);return _.a.createElement(yn.a,{className:"c-message_attachment__file",file:t,clogLinkClick:n,showActions:!1},_.a.createElement(_n.a,{file:t,action:o,onClick:this.openFile,showThumbnail:!0},_.a.createElement(On.a,{file:t,action:o,teamId:a})))}}]),t}(g.PureComponent);En.displayName="AttachmentFile",En.defaultProps=kn;var Cn=Object(E.b)(function(e){return{teamId:Object(rn.b)(e),expandPref:Object(vn.g)(e,"expand_internal_inline_imgs")}},{handleFileContainerClick:jn.a})(En),In=new A.b("attachments"),wn=(f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.string,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.array,f.b.string,f.b.string,f.b.string,f.b.string.isRequired,f.b.string,f.b.string,f.b.object,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.bool.isRequired,f.b.bool,f.b.bool,f.b.bool,f.b.bool,{authorId:null,authorName:null,authorSubname:null,authorLink:null,authorIcon:null,channelId:null,sourceTeamId:null,sourceTeam:null,channelName:null,text:null,ts:null,fromUrl:null,isDirectMessage:!1,isPrivate:!1,isReplyUnfurl:!1,isThreadRootUnfurl:!1,isRevoked:!1,clogLinkClick:h.a,files:[],viewContext:void 0,activeChannelId:void 0,messageTs:void 0,isUrlFromExternalUnjoinable:!1,isUrlFromLocalUnjoinable:!1,channelNameFromUrl:null,teamNameFromUrl:null,featureReactMemberProfileCard:!1,featureDeprecateQ119Unsupported:!0,featureSlackMessageAttachmentTooltip:!1,featureReactFileViewerNavigation:!1}),Sn=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAuthorClick=n.onAuthorClick.bind(n),n}return b()(t,e),c()(t,[{key:"onAuthorClick",value:function(e){e.preventDefault(),this.props.clogLinkClick({link_attachment_field:"attachment_author_name"}),this.props.featureReactMemberProfileCard||Object(sn.a)(e,this.props.authorId)}},{key:"getChannelDisplayName",value:function(){var e=this.props,t=e.channelName,n=e.isPrivate,r=e.channelNameFromUrl,a=t||r;return n?_.a.createElement("span",null,_.a.createElement(ce.a,{type:"lock",className:"c-message_attachment__private_icon"}),a):"#"+a}},{key:"renderAuthor",value:function(){var e=this.props,t=e.authorIcon,n=e.authorName,r=e.authorSubname,a=e.authorLink,i=e.isRevoked,o=e.authorId,s=void 0,c=void 0,l=void 0;return i?s=Object(ln.a)({}):(s=n||r,c=a,l=this.onAuthorClick),_.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement("span",{onClick:l,role:"presentation"},_.a.createElement(ye.a,{memberId:o,icon:t,isDistinct:!0,name:s,link:c})))}},{key:"renderText",value:function(){return _.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(xe,a()({},this.props,{mrkdwnDoSpecials:!0})))}},{key:"renderFiles",value:function(){var e=this.props,t=e.files,n=e.authorId,r=e.messageTs,a=e.activeChannelId,i=e.ts,o=e.channelId,s=e.viewContext,c=e.featureDeprecateQ119Unsupported,l=e.featureReactFileViewerNavigation,u=e.clogLinkClick;if(c){var d=l?r:i,b=l?a:o,h=Object(p.a)(t,function(e){var t=Object(an.p)(e);return["snippet","email","docs","post"].includes(t)});return _.a.createElement(mn.a,{msg:{channel:o,ts:i,user:n},files:t,ts:d,channelId:b,viewContext:s,userId:n,showPreview:!h,showActions:!1})}return t.map(function(e){return _.a.createElement(Cn,{key:e.id,file:e,clogLinkClick:u})})}},{key:"renderFooterText",value:function(){var e=this.props,t=e.channelId,n=e.sourceTeam,r=e.channelName,a=e.isDirectMessage,i=e.clogLinkClick,o=e.fromUrl,s=e.isReplyUnfurl,c=e.isThreadRootUnfurl,l=e.isUrlFromExternalUnjoinable,u=e.isUrlFromLocalUnjoinable,d=e.channelNameFromUrl,b=e.teamNameFromUrl,p=e.featureSlackMessageAttachmentTooltip;if((r||d)&&t){var h=function(e,t,n,r){return e?t:_.a.createElement(on.a,{href:n,clogLinkClick:r},t)};return h(u,a?In.t("Direct Message"):s?In.rt("From a thread in {channelName}",{channelName:this.getChannelDisplayName()}):c?In.rt("Thread in {channelName}",{channelName:this.getChannelDisplayName()}):In.rt("Posted in {channelName}",{channelName:this.getChannelDisplayName()}),o,i)}if(l&&!Object(hn.M)(n)){var m=Object(hn.e)(n),f=In.rt("From {teamName}",{teamName:m});if(p){var v=In.rt("Can't jump to message. You don't have access to other channels on {teamName}.",{teamName:m});return _.a.createElement(it.c,{tip:v,position:"top"},_.a.createElement("span",null,f))}return f}if(b)return In.rt("From {teamName}",{teamName:b});var g=In.rt("From another organization");if(p){var O=In.rt("Can't jump to message. You don't have access to this channel.");return _.a.createElement(it.c,{tip:O,position:"top"},_.a.createElement("span",null,g))}return g}},{key:"renderFooter",value:function(){var e=this.props,t=e.ts,n=e.fromUrl,r=e.sourceTeamId,a=e.clogLinkClick,i=e.isReplyUnfurl,o=e.isDirectMessage,s=void 0;return e.featureSlackUnfurlLinks&&(s=i?In.t("View reply"):o?In.t("View conversation"):In.t("View message")),_.a.createElement("div",{className:"c-message_attachment__row"},_.a.createElement(Be.a,{text:this.renderFooterText(),ts:t,tsLink:n,sourceTeamId:r,clogLinkClick:a,permalinkText:s}))}},{key:"render",value:function(){return _.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderFiles(),this.renderFooter())}}]),t}(g.PureComponent);Sn.displayName="MessageAttachmentSlackMessage",Sn.defaultProps=wn;var Tn=Object(le.b)(Object(E.b)(function(e,t){var n=t.authorId,r=t.authorIcon,a=t.authorName,i=t.channelId,o=t.fromUrl,s=t.sourceTeamId,c=Object(L.c)(e,n),l=c&&Object(cn.a)({size:Je.a,teamId:c.team_id,memberId:n,avatarHash:c.profile.avatar_hash}),u=Object(vt.d)(e,i),d=null,b=Object(un.c)(e,o),p=null;if(o&&b){var h=b.channelId,m=b.subdomain,f=Object(pn.h)(e,m);f&&(p=Object(hn.e)(f));var v=Object(vt.d)(e,h);(Object(gt.kb)(v)||Object(bn.g)(e,h))&&(d=Object(gt.w)(v))}var g=Object(pn.i)(e,s),_=Object(dn.a)(e,o,s),O=Object(dn.b)(e,o);return{authorIcon:l&&l.imageUrl2x||r,authorName:Object(G.P)(e,c)||a,teamId:Object(rn.b)(e),isDirectMessage:Object(gt.eb)(u)||Object(gt.lb)(u),isPrivate:Object(gt.xb)(u),sourceTeam:g,isUrlFromExternalUnjoinable:_,isUrlFromLocalUnjoinable:O,channelNameFromUrl:d,teamNameFromUrl:p,featureSlackUnfurlLinks:Object(N.j)(e,"feature_slack_unfurl_links"),featureReactMemberProfileCard:Object(N.j)(e,"feature_react_member_profile_card"),featureReactFileViewerNavigation:Object(N.j)(e,"feature_react_file_viewer_navigation"),featureSlackMessageAttachmentTooltip:Object(N.j)(e,"feature_slack_message_attachment_tooltip"),featureDeprecateQ119Unsupported:Object(N.j)(e,"feature_deprecate_q119_unsupported")}})(Sn)),Rn=(f.b.string,f.b.number,f.b.number,f.b.number,f.b.string,f.b.number,f.b.string,f.b.string,f.b.func,{imageUrl:null,imageBytes:0,imageWidth:0,imageHeight:0,expandableKey:null,rotation:void 0,activeChannelId:void 0,messageTs:void 0,clogLinkClick:h.a}),Nn=function(e){var t=e.imageUrl,n=e.imageBytes,r=e.imageWidth,a=e.imageHeight,i=e.expandableKey,o=e.rotation,s=e.activeChannelId,c=e.messageTs,l=e.clogLinkClick;return _.a.createElement("span",{className:"c-message_attachment_inline"},_.a.createElement(Ue.b,{imageBytes:t&&n,imageUrl:t,expandableKey:i}),_.a.createElement(tt,{imageUrl:t,imageWidth:r,imageHeight:a,imageBytes:n,expandableKey:i,rotation:o,activeChannelId:s,messageTs:c,clogLinkClick:l}))};Nn.displayName="MessageAttachmentInline",Nn.defaultProps=Rn;var xn=Object(de.a)(Nn),Mn=n("FN36"),Pn=n("kOzZ"),An=n("negh"),Dn=n("RCIA"),Ln=n("SQvH"),qn=n("YCXn"),Fn=n("d24p"),Bn=n("jK7E"),Un=n("61j7"),Hn=n("wfE8"),Kn=n("Ewba"),Gn=n("QOdn"),Vn=n("QzTQ"),zn=n("E4aE"),Yn=n("plEq"),Wn=n("FP5A"),Qn=n("vMmh"),Xn=new A.b("app_downloads"),Zn=(f.b.bool,f.b.func,f.b.string,f.b.object.isRequired,f.b.func,{featureNewxp2778:!1,triggerSMSAppDownload:h.a,slackbotMessageTS:"",triggerCloseModal:h.a}),Jn=function(e){var t=[];return e.split("").forEach(function(e){parseInt(e,10)>=0&&parseInt(e,10)<=9&&t.push(e)}),t.join("")},$n=function(e){var t=e.name+" +"+e.code;return{label:t,value:t,examplePhoneNumber:e.examplePhoneNumber,countryName:""+e.name,countryCode:""+e.code}},er=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={countryName:Qn.b.name,countryCode:Qn.b.code,countryPlaceholderPhoneNumber:Qn.b.examplePhoneNumber,phoneNumber:"",isPhoneNumberValid:!1,hasSubmittedOnce:!1},n.handleSubmit=n.handleSubmit.bind(n),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.clogger.track(An.k.SLACKBOT_SMS_APP_DOWNLOAD,{contexts:{ui_context:{step:An.z.SEND_LINK,action:An.v.IMPRESSION}}})}},{key:"onCountrySelected",value:function(e){var t=e.countryName,n=e.countryCode,r=e.examplePhoneNumber;this.setState(function(){return{countryName:t,countryCode:n,countryPlaceholderPhoneNumber:r}})}},{key:"handleUserInput",value:function(e){this.setState(function(){return{phoneNumber:e}})}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.triggerSMSAppDownload,r=t.slackbotMessageTS,a=t.clogger,i=t.triggerCloseModal,o=this.state,s=o.countryCode,c=o.phoneNumber,l=o.countryPlaceholderPhoneNumber,u=Jn(l),d=Jn(c);if(new RegExp("^[0-9]{"+u.length+"}").test(d)){var b=function(e,t){var n=Jn(e).split(""),r=t.split(""),a=[],i=0;return r.forEach(function(e,t){parseInt(e,10)>=0&&parseInt(e,10)<=9?a.push(n[t-i]):(i+=1,a.push(e))}),a.join("")}(d,l);this.setState(function(){return{isPhoneNumberValid:!0,hasSubmittedOnce:!0}}),n({phoneNumber:"+"+s+" "+b,slackbotMessageTS:r}).then(function(){return i()}).catch(function(t){"rate_limited"===t.name&&i(),e.setState(function(){return{isPhoneNumberValid:!1,hasSubmittedOnce:!0}})})}else this.setState(function(){return{hasSubmittedOnce:!0}});a.track(An.k.SLACKBOT_SMS_APP_DOWNLOAD,{contexts:{ui_context:{step:An.z.SEND_LINK,action:An.v.CLICK}}})}},{key:"render",value:function(){var e=this,t=this.props.featureNewxp2778,n=this.state,r=n.countryName,a=n.countryCode,i=n.countryPlaceholderPhoneNumber,o=n.phoneNumber,s=n.isPhoneNumberValid,c=n.hasSubmittedOnce;return _.a.createElement(z.a,{title:t?Xn.t("Enter your mobile phone number",{fallbackHash:"e81bb6c02e9e844f08ede78aaa80543b56d2e4bd"}):"Enter your mobile phone number",goButtonText:t?Xn.t("Send Link",{fallbackHash:"a55c0b7a3f4fb636d064a711521b258793ed2cea"}):"Send Link",onGo:this.handleSubmit,onClose:M.a,onCancel:M.a,shouldCloseOnGo:!1},_.a.createElement("p",null,t?Xn.t("We'll use your number to text you a download link for the mobile app. (We won't use it for anything else.)"):"We'll use your number to text you a download link for the mobile app. (We won't use it for anything else.)"),_.a.createElement("div",{className:"inline_flex margin_bottom_125"},_.a.createElement("div",{className:"margin_right_100"},_.a.createElement(zn.a,{options:Object.values(Qn.a).map(function(e){return $n(e)}),ariaLabel:r+" +"+a,selectId:"countryCodes",selectedOption:$n(Qn.a[r]),width:170,size:"medium",onOptionSelected:function(t){return e.onCountrySelected(t)}})),_.a.createElement(Yn.a,{ariaDescribedby:"phone-number-input-field",name:"phone-number-input-field",id:"text-example",placeholder:i,onChange:function(t){return e.handleUserInput(t)},value:o,size:"medium",icon:"mobile",errorText:!s&&c?"That doesn't look like a valid number. Try again?":null})))}}]),t}(g.Component);er.displayName="SMSDialog",er.defaultProps=Zn;var tr={triggerSMSAppDownload:function(){return Wn.b.apply(void 0,arguments)},triggerCloseModal:M.a},nr=Object(E.b)(function(e){return{featureNewxp2778:Object(N.j)(e,"feature_newxp_2778"),clogger:Object(Pn.a)({state:e})}},tr)(er),rr=Object(x.b)("Opens dialog for entering in a user phone number",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).messageTs,r=_.a.createElement(nr,{slackbotMessageTS:n});e(Object(M.e)({element:r}))});rr.propTypes={messageTs:f.b.string};var ar=n("aW/o"),ir=n("RB1+"),or=n("2Y1Y"),sr=n("GC45"),cr=n("clNh"),lr=n("+yap"),ur=new A.b("team_creation_setup"),dr=Object(x.b)("show the send a message coachmark",function(e,t){var n=t();Object(w.a)()?e(Object(cr.g)(!0)):Object(sr.c)();var r="",a=Object(ar.a)(n),i=a&&Object(vt.d)(n,a,!1);if(Object(gt.W)(i)){r="#"+Object(gt.L)(i);var o=ur.t("Hi everyone. Here\u2019s a space for our {channelName} conversations!",{channelName:r,fallbackHash:"6296e0b2bbbf202460b366eb3ed8bb1c18b03d06"});Object(N.j)(n,"feature_sonic_inputs")?requestAnimationFrame(function(){var e=Object(ir.a)({viewContext:O.C.MESSAGE_PANE,channelId:a});e&&e.isEmpty()&&e.setText(o)}):Object(or.g)(Object(lr.c)())&&(Object(or.j)(Object(lr.c)(),o),Object(or.c)(Object(lr.c)()))}}),br=Object(x.b)("Show the share a file coachmark",function(e){Object(w.a)()?e(Object(cr.f)(!0)):e(sr.d)}),pr=n("+j2t"),hr=n("08ch"),mr=n("XUHR"),fr=new A.b("shared_channels"),vr=(f.b.oneOf(["sharedChannelsInvite","sharedChannelsFindAnAdmin","sharedChannelsBetaOptIn","tractorWorkspaceSetupComplete","slackbotresponse_button","slackbot_sms_download_app_button"]),f.b.string,f.b.bool,f.b.bool,f.b.func,f.b.func,f.b.object.isRequired,f.b.array,f.b.func,f.b.string,f.b.string,f.b.bool,f.b.func,f.b.func,f.b.func,f.b.func,f.b.func,f.b.func,f.b.func,f.b.func.isRequired,f.b.bool,f.b.func,{type:null,inviteId:null,hasDeclinedESCBeta:null,hasJoinedESCBeta:null,setTeamPrefByApi:h.a,submitDeclineSharedChannelInvite:h.a,actions:[],triggerAttachmentActionCall:h.a,messageTs:"",channelId:"",featureSonicEscCreation:!1,openSharedChannelInvitationModal:h.a,showSendAMessageCoachmark:h.a,showShareFilesCoachmark:h.a,openEditProfileModal:h.a,openChannelBrowser:h.a,openSharedChannelCreationOrRequestModal:h.a,openSharedChannelIntroductionModal:h.a,featureSonicDmBrowser:!1,triggerOpenAppDownloadDialog:h.a}),gr=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.acceptSharedChannelInvite=n.acceptSharedChannelInvite.bind(n),n.declineSharedChannelInvite=n.declineSharedChannelInvite.bind(n),n.declineBetaInvite=n.declineBetaInvite.bind(n),n.findMyAdmins=n.findMyAdmins.bind(n),n.showESCOpenBetaModal=n.showESCOpenBetaModal.bind(n),n}return b()(t,e),c()(t,[{key:"acceptSharedChannelInvite",value:function(){var e=this.props,t=e.inviteId,n=e.clogger;t&&(n.trackClickWithContext({event:"SHARED_CHANNELS_SLACKBOT_ADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_VIEW_BTN",contexts:{core:{shared_channels_invite_id:t}}}),this.props.featureSonicEscCreation?this.props.openSharedChannelInvitationModal({inviteId:t,reason:"message-attachment-accept-shared-invite"}):Object(Dn.a)(t))}},{key:"declineSharedChannelInvite",value:function(){var e=this.props,t=e.inviteId;e.clogger.trackClickWithContext({event:"SHARED_CHANNELS_SLACKBOT_ADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_DECLINE_BTN",contexts:{core:{shared_channels_invite_id:t}}}),this.props.submitDeclineSharedChannelInvite(t)}},{key:"declineBetaInvite",value:function(){this.props.setTeamPrefByApi({pref:"enable_shared_channels",value:0})}},{key:"findMyAdmins",value:function(){var e=this.props,t=e.inviteId,n=e.clogger,r=e.featureSonicEscCreation,a=e.featureSonicDmBrowser;n.trackClickWithContext({event:"SHARED_CHANNELS_NONADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_FIND_ADMIN_BTN",contexts:{core:{shared_channels_invite_id:t}}}),Object(w.a)()&&r?this.props.openSharedChannelCreationOrRequestModal({adminMode:pr.a.acceptInvite}):a?this.props.openDmBrowserModal({showOpenTransition:!0,adminMode:pr.a.acceptInvite}):Object(Dn.b)()}},{key:"handleAttachmentActionApiCall",value:function(e){var t=this.props;(0,t.triggerAttachmentActionCall)({messageTs:t.messageTs,channelId:t.channelId,actionId:e.id,attachmentId:"1"})}},{key:"showESCOpenBetaModal",value:function(){return this.props.featureSonicEscCreation?this.props.openSharedChannelIntroductionModal({entryPoint:"team_menu"}):Object(Ln.a)()}},{key:"createSMSDownloadAppButton",value:function(e){var t=this,n=this.props,r=n.messageTs,a=n.triggerOpenAppDownloadDialog;return n.clogger.track(An.k.SLACKBOT_SMS_APP_DOWNLOAD,{contexts:{ui_context:{step:An.z.GET_SLACK_FOR_MOBILE,action:An.v.IMPRESSION}}}),_.a.createElement(Ot.a,{key:e.id,text:e.text,url:"",onClick:function(){a({messageTs:r}),t.props.clogger.track(An.k.SLACKBOT_SMS_APP_DOWNLOAD,{contexts:{ui_context:{step:An.z.GET_SLACK_FOR_MOBILE,action:An.v.CLICK}}})},variant:"primary"})}},{key:"createActionableSlackbotButtons",value:function(e){var t=this,n=Object(w.a)(),r=[];return e.forEach(function(e){"actionable_edit_profile_button"===e.name?r.push(_.a.createElement(Ot.a,{key:e.id,text:e.text,onClick:n?t.props.openEditProfileModal:Bn.a,variant:"primary"})):"actionable_join_channels_button"===e.name?r.push(_.a.createElement(Ot.a,{key:e.id,text:e.text,onClick:n?t.props.openChannelBrowser:qn.b,variant:"primary"})):r.push(_.a.createElement(Ot.a,{key:e.id,text:e.text,variant:"primary",triggerAction:function(){return t.handleAttachmentActionApiCall(e)}}))}),r}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.hasDeclinedESCBeta,r=e.hasJoinedESCBeta,a=e.actions,i=e.showSendAMessageCoachmark,o=e.showShareFilesCoachmark,s=void 0;switch(t){case"sharedChannelsInvite":s=[_.a.createElement(Ot.a,{key:"accept",text:fr.t("View Invitation"),variant:"primary",onClick:this.acceptSharedChannelInvite}),_.a.createElement(Ot.a,{key:"decline",text:fr.t("Decline"),variant:"danger",onClick:this.declineSharedChannelInvite})];break;case"sharedChannelsFindAnAdmin":s=_.a.createElement(Ot.a,{text:fr.t("Find an Admin"),variant:"primary",onClick:this.findMyAdmins});break;case"sharedChannelsBetaOptIn":n||r?(n&&(s=_.a.createElement(be.a,{text:fr.t(":no_entry_sign: To join later, click on *Shared channels (beta)* in the top-left menu.")})),r&&(s=_.a.createElement(be.a,{text:fr.t(":white_check_mark: Your team has joined the Shared Channels beta. To learn more, click on *Shared channels (beta)* in the top-left menu.")}))):s=[_.a.createElement(Ot.a,{key:"accept",text:fr.t("Join the Beta"),variant:"primary",onClick:this.showESCOpenBetaModal}),_.a.createElement(Ot.a,{key:"decline",text:fr.t("Not Now",{ns:"web_admin"}),onClick:this.declineBetaInvite})];break;case"tractorWorkspaceSetupComplete":s=_.a.createElement(g.Fragment,null,_.a.createElement(Ot.a,{text:fr.t("Send a Message"),onClick:i}),_.a.createElement(Ot.a,{text:fr.t("Share a File",{fallbackHash:"2d413872b1dee42c998639504b760e83982196e0"}),onClick:o}));break;case"slackbotresponse_button":s=_.a.createElement(g.Fragment,null,this.createActionableSlackbotButtons(a));break;case"slackbot_sms_download_app_button":s=_.a.createElement(g.Fragment,null,this.createSMSDownloadAppButton(a[0]));break;default:s=null}return _.a.createElement("div",{className:"c-message_attachment__body"},s)}}]),t}(g.PureComponent);gr.displayName="MessageAttachmentClientButtons",gr.defaultProps=vr;var _r={setTeamPrefByApi:Un.b,submitDeclineSharedChannelInvite:function(){return Hn.H.apply(void 0,arguments)},triggerAttachmentActionCall:ft,openSharedChannelInvitationModal:function(){return Kn.a.apply(void 0,arguments)},showSendAMessageCoachmark:dr,showShareFilesCoachmark:br,openEditProfileModal:Vn.a,triggerOpenAppDownloadDialog:function(){return rr.apply(void 0,arguments)},openChannelBrowser:function(){return Object(Gn.a)({showOpenTransition:!0})},openSharedChannelCreationOrRequestModal:function(){return hr.a.apply(void 0,arguments)},openDmBrowserModal:function(){return Fn.a.apply(void 0,arguments)},openSharedChannelIntroductionModal:function(){return mr.a.apply(void 0,arguments)}},Or=Object(E.b)(function(e){var t=Object(Mn.a)(e,"enable_shared_channels");return{hasDeclinedESCBeta:0===t,hasJoinedESCBeta:1===t,clogger:Object(Pn.a)({state:e}),featureSonicEscCreation:Object(N.j)(e,"feature_sonic_esc_creation"),featureSonicDmBrowser:Object(N.j)(e,"feature_sonic_dm_browser")}},_r)(gr),yr=(n("2JjY"),new A.b("attachments")),jr=["tractorWorkspaceSetupComplete"],kr=["slackbotresponse_button"],Er=["slackbot_sms_download_app_button"],Cr=(f.b.string,f.b.string,f.b.bool,f.b.string,f.b.string,f.b.string,f.b.oneOfType([f.b.string,f.b.number]),f.b.string,f.b.string,f.b.string,f.b.number,f.b.number,f.b.string,f.b.string,f.b.string,f.b.string,f.b.bool,f.b.func,f.b.func,f.b.bool,f.b.shape({pretext:f.b.bool,text:f.b.bool,fields:f.b.bool}),f.b.bool,f.b.array,f.b.bool,f.b.bool,{serviceName:null,callbackId:null,isMsgUnfurl:!1,messageTs:null,fromUrl:null,activeChannelId:null,id:null,color:null,imageUrl:null,thumbUrl:null,thumbWidth:null,thumbHeight:null,videoHtml:null,audioHtml:null,title:null,pretext:null,showDelete:!1,deleteAttachment:h.a,clogLinkClick:h.a,isInline:!1,mrkdwnInHash:{},isOnlyMessageContent:!1,actions:[],featureNewxp2778:!1,slackbotSMSDownloadExperiment:!1}),Ir=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDeleteClick=n.onDeleteClick.bind(n),n.clogLinkClick=n.clogLinkClick.bind(n),n}return b()(t,e),c()(t,[{key:"onDeleteClick",value:function(){var e=this.props,t=e.activeChannelId,n=e.messageTs,r=e.id;this.props.deleteAttachment(t,n,r)}},{key:"clogLinkClick",value:function(e){var t=this.props.clogLinkClick;t(a()({},e,{link_is_default_attachment:!0}))}},{key:"renderThumbMaybe",value:function(){var e=this.props,t=e.thumbUrl,n=e.thumbHeight,r=e.thumbWidth,a=e.imageUrl,i=e.videoHtml,o=e.audioHtml,s=e.title;return!t||a||i||o?null:_.a.createElement(ve,{key:"thumb",url:t,title:s,height:n,width:r})}},{key:"renderWithAttachmentContainer",value:function(e){var t=this.props,n=t.color,r=t.showDelete,a=t.isOnlyMessageContent,i=null;if(r){var o=I()("c-message_attachment__delete_container",{"c-message_attachment__delete_container--pushed":a});i=_.a.createElement("div",{className:o},_.a.createElement(se.c,{className:"c-message_attachment__delete",onClick:this.onDeleteClick,"aria-label":yr.t("Remove attachment",{fallbackHash:"0fcc6594fca6ed31d3630b833fef66e2dabb575b",fallbackHashNs:"inline_attachments"})},_.a.createElement(ce.a,{type:"times_small"})))}return _.a.createElement("div",{className:"c-message_attachment"},i,_.a.createElement(ue.a,{color:n}),e)}},{key:"renderWithPretextMaybe",value:function(e){var t=this.props,n=t.pretext,r=t.mrkdwnInHash;return n?_.a.createElement("div",{className:"c-message_attachment_with_pretext"},_.a.createElement(he,{mrkdwnDoSpecials:r.pretext},n),e):e}},{key:"render",value:function(){var e=this.props,t=e.serviceName,n=e.isMsgUnfurl,r=e.messageTs,i=e.isInline,o=e.callbackId,s=e.id,c=e.actions,l=e.activeChannelId,u=e.featureNewxp2778,d=e.slackbotSMSDownloadExperiment,b=Object(R.a)("attachment",r,this.props),p=a()({},this.props,{clogLinkClick:this.clogLinkClick});if(i)return _.a.createElement(xn,a()({expandableKey:b},p));var h=null,m=null;if("twitter"===t&&(h=_.a.createElement($t,a()({key:"twitter",expandableKey:b},p))),"salesforce"===t&&(h=_.a.createElement(nn,a()({key:"salesforce"},p))),n&&(h=_.a.createElement(Tn,a()({key:"message"},p))),Object(k.a)(jr,o)&&(h=_.a.createElement(Or,{key:"client",type:o})),o&&Object(X.a)(o,s)){var f=Object(j.a)(o,"_abcdefghijklmnopqrstuvwxyz");h=_.a.createElement(Or,{key:"client",type:Object(X.a)(o,s),inviteId:f})}Object(k.a)(kr,o)&&(h=_.a.createElement(Or,{key:"slackbot",type:o,actions:c,messageTs:r,channelId:l})),d&&u&&Object(k.a)(Er,o)&&(h=_.a.createElement(Or,{key:"slackbot",type:o,actions:c,messageTs:r,channelId:l})),h||(h=_.a.createElement(Qt,a()({key:"generic",expandableKey:b},p)),m=this.renderThumbMaybe());var v=this.renderWithAttachmentContainer([h,m]);return this.renderWithPretextMaybe(v)}}]),t}(g.PureComponent);Ir.displayName="MessageAttachmentDefault",Ir.defaultProps=Cr;var wr=Object(le.b)(Object(E.b)(function(e,t){var n=t.id,r=t.messageTs,a=t.activeChannelId,i=t.fromUrl,o=t.showDelete;Object(y.a)(o)&&(o=Object(T.a)(e,{attachmentId:n,attachmentFromUrl:i,messageTs:r,channelId:a}));var s=Object(S.d)(e,{channelId:a,messageTs:r,attachmentId:n}),c="mobile"===Object(oe.c)(e,"newxp_2778");return{showDelete:o,showLoader:s,activeChannelId:a,featureNewxp2778:Object(N.j)(e,"feature_newxp_2778"),slackbotSMSDownloadExperiment:c}},function(e){return{deleteAttachment:function(t,n,r){Object(w.a)()?e(re({channelId:t,messageTs:n,attachmentId:r})):ie(t,n,r)}}})(Ir)),Sr=n("EHyS"),Tr=n("u9my"),Rr=n("0sSB"),Nr=n("N52Z"),xr=n("1zbP"),Mr=n("Lr9k"),Pr=n("O/xh"),Ar=n("CaXY"),Dr=n("O8YM"),Lr=(n("x1Ab"),new A.b("attachments_v2")),qr=(f.b.oneOfType([f.b.string,f.b.number]),f.b.oneOfType([f.b.bool,f.b.object]),f.b.string,f.b.string,f.b.string,f.b.string,f.b.bool,f.b.bool,f.b.bool,v.a.BlockKitBlocks.isRequired,f.b.string,f.b.bool,f.b.bool,f.b.func,f.b.bool,f.b.string,f.b.object,f.b.oneOf(Object(yt.a)(Ar.a)),f.b.func,f.b.bool,{id:null,bot:null,botId:null,teamId:null,activeChannelId:null,messageTs:null,featureAttachmentsV2:!1,featureReactMemberProfileCard:!1,featureRemoteFilesApi:!1,color:null,isAppUnfurl:!1,showDelete:!1,deleteAttachment:h.a,isOnlyMessageContent:!1,hideColor:!1,service:null,containerActionsPayload:void 0,blocksContainerContext:Ar.a.message_attachment,clogLinkClick:h.a}),Fr=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(m.a)(n,["handleDeleteClick","handleAttributionClick","renderDeleteButtonMaybe","renderBorderMaybe","renderAttributionMaybe","handleExpandBlocksClick"]),n.state={isExpanded:!1},n}return b()(t,e),c()(t,[{key:"handleDeleteClick",value:function(){var e=this.props,t=e.activeChannelId,n=e.messageTs,r=e.id;this.props.deleteAttachment(t,n,r)}},{key:"handleAttributionClick",value:function(e){if(Object(Sr.a)(e))return null;e.preventDefault();var t=this.props,n=t.botId,r=t.teamId,a=t.featureReactMemberProfileCard;return e.stopPropagation(),e.persist(),a?null:Object(Tr.a)(e,n,r)}},{key:"handleExpandBlocksClick",value:function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})}},{key:"renderDeleteButtonMaybe",value:function(){var e=this.props,t=e.showDelete,n=e.isOnlyMessageContent,r=null;if(t){var a=I()("c-message_attachment_v2__delete_container",{"c-message_attachment_v2__delete_container--pushed":n});r=_.a.createElement("div",{"data-qa":"message_attachment_v2_delete",className:a},_.a.createElement(se.c,{className:"c-message_attachment_v2__delete",onClick:this.handleDeleteClick,"aria-label":Lr.t("Remove attachment",{fallbackHash:"0fcc6594fca6ed31d3630b833fef66e2dabb575b",fallbackHashNs:"inline_attachments"})},_.a.createElement(ce.a,{type:"times_small"})))}return r}},{key:"renderBorderMaybe",value:function(){var e=this.props,t=e.color,n=e.hideColor;return e.featureRemoteFilesApi&&n?null:_.a.createElement(ue.a,{color:t,className:"c-message_attachment_v2__border"})}},{key:"renderAttributionMaybe",value:function(){var e=this.props,t=e.featureAttachmentsV2,n=e.featureReactMemberProfileCard,r=e.featureRemoteFilesApi,a=e.bot,i=e.botId,o=e.isAppUnfurl,s=e.hideColor;if(!o&&!a)return null;if(r&&s)return null;var c=void 0,l=t?Lr.t("a bot"):"",u=Object(xr.b)(a)?a.name:l,d="/services/"+i;return c=n?_.a.createElement(Pr.a,{botId:i,onClick:this.handleAttributionClick},_.a.createElement(on.a,{href:d,target:"_blank",title:u,"data-attribution-bot-id":i,onClick:this.handleAttributionClick},u)):Object(xr.b)(a)?_.a.createElement(on.a,{href:d,target:"_blank",title:u,"data-attribution-bot-id":i,onClick:this.handleAttributionClick},u):l,_.a.createElement("div",{className:"c-message_attachment_v2__attribution","data-qa-attachment-attribution":!0},t?Lr.t("Added by "):"",c)}},{key:"render",value:function(){var e=this.props,t=e.featureAttachmentsV2,n=e.blocks,r=e.containerActionsPayload,a=e.service,i=e.messageTs,o=e.blocksContainerContext,s=e.clogLinkClick;return t?_.a.createElement("div",{className:"c-message_attachment_v2"},this.renderDeleteButtonMaybe(),this.renderBorderMaybe(),_.a.createElement("div",{className:"c-message_attachment_v2__body"},_.a.createElement(Mr.a,{containerActionsPayload:r,blocks:n,service:a,containerId:i,blockLimit:5,blocksContainerContext:o,clogLinkClick:s,isInAttachment:!0}),this.renderAttributionMaybe())):null}}]),t}(g.PureComponent);Fr.displayName="MessageAttachmentDefaultV2",Fr.defaultProps=qr;var Br=Object(E.b)(function(e,t){var n=t.id,r=t.botId,a=t.botProfile,i=t.messageTs,o=t.activeChannelId,s=t.fromUrl,c=t.service,l=t.blocksContainerContext,u=t.isOnlyMessageContent,d=Object(Nr.c)(e,r),b=Object(S.a)(e,o,i),p=void 0,h=void 0,m=void 0;if(b){var f=Object(L.c)(e,b.user);p=b.is_ephemeral;var v=Object(rn.b)(e);m=Object(Rr.c)({bot:d,botProfile:a,member:f,currentTeamId:v}),h=Object(Rr.b)(f,m)}var g="number"==typeof n?n:parseInt(n,0),_=t.showDelete;if(Object(y.a)(_)){var O=Object(T.a)(e,{attachmentId:n,attachmentFromUrl:s,messageTs:i,channelId:o}),j=Object(Dr.h)(l);_=O&&j&&!u}return{bot:d,teamId:m,showDelete:_,containerActionsPayload:{serviceId:c,serviceTeamId:h,container:{type:Ar.a.message_attachment,messageTs:i,attachmentId:g,channelId:o,isEphemeral:!!p}},featureAttachmentsV2:Object(N.j)(e,"feature_attachments_v2"),featureReactMemberProfileCard:Object(N.j)(e,"feature_react_member_profile_card"),featureRemoteFilesApi:Object(N.j)(e,"feature_remote_files_api")}},function(e){return{deleteAttachment:function(t,n,r){Object(w.a)()?e(re({channelId:t,messageTs:n,attachmentId:r})):ie(t,n,r)}}})(Fr),Ur=(f.b.func,f.b.string,v.a.BlockKitBlocks,f.b.bool,{clogLinkClick:h.a,type:"default",blocks:void 0,fallbackToLegacy:!1}),Hr=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(m.a)(n,["clogLinkClick","hasInvalidBlocks"]),n}return b()(t,e),c()(t,[{key:"clogLinkClick",value:function(e){var t=this.props.clogLinkClick;t(a()({},e,{link_is_attachment:!0}))}},{key:"hasInvalidBlocks",value:function(e){return Object(p.a)(e,function(e){return!O.d[e.type]})}},{key:"render",value:function(){var e=this.props,t=e.blocks,n=e.fallbackToLegacy,r=a()({},this.props,{clogLinkClick:this.clogLinkClick});return t&&!n||t&&n&&!this.hasInvalidBlocks(t)?_.a.createElement(Br,r):_.a.createElement(wr,r)}}]),t}(g.PureComponent);Hr.displayName="MessageAttachment",Hr.defaultProps=Ur;var Kr=Hr;t.a=Kr},lZnb:function(e,t,n){},lek6:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("HiDb"),f=n("pxG+"),v=n("zmn3"),g=n("yIs4"),_=n("fujP"),O=n("ifKl"),y=n("aK/h"),j=n("kxpR"),k=n.n(j),E=n("XHGt"),C=n("VjHM"),I=n("AITD"),w=n("HO/Y"),S=n("HvGc"),T=n("K7CU"),R=n("yHhI"),N=n("Smdl"),x=n("JZ/c"),M=n("aWB3"),P=n("nNoG"),A=n("F6LU"),D=n("n3t6"),L=n("sK36"),q=n("rzSx"),F=n("fCVm"),B=n("qkTT"),U=n("RAhH"),H=n("Atrf"),K=n("B/Zf"),G=n("0Cnk"),V=n("F+zK"),z=n("HWeM"),Y=n("ciUk"),W=n("4yrM"),Q=(n("bF8f"),/\ue000|\ue001/),X=new P.b("message"),Z=(y.b.string,y.b.string,y.b.string,y.b.string,y.b.string,y.b.string,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.string,y.b.bool,y.b.bool,y.b.bool,y.b.string,y.b.string,y.b.string,y.b.func,y.b.func,y.b.func,y.b.bool.isRequired,y.b.bool.isRequired,y.b.bool.isRequired,y.b.bool,y.b.bool,y.b.number,y.b.number,y.b.func,y.b.bool,y.b.func,y.b.string,{text:"",tsfMode:"NORMAL",className:null,highlights:"",emojiMode:"default",emojiSize:void 0,do24hrTime:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,obeyEmojiMode:void 0,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:O.a,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:O.a,explicitlyRenameBotLink:!1,onUserGroupClick:O.a,sourceTeamId:null,"data-qa":void 0}),J=Object(R.b)(),$=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleUserGroupClick=n.handleUserGroupClick.bind(n),n.nextKey=n.nextKey.bind(n),n.renderQuotePrefix=n.renderQuotePrefix.bind(n),n.renderLongQuotePrefix=n.renderLongQuotePrefix.bind(n),n.renderLineBreak=n.renderLineBreak.bind(n),n.renderParagraphBreak=n.renderParagraphBreak.bind(n),n.renderHardSpace=n.renderHardSpace.bind(n),n.renderLink=n.renderLink.bind(n),n.renderMember=n.renderMember.bind(n),n.renderEmoji=n.renderEmoji.bind(n),n.renderJumbomoji=n.renderJumbomoji.bind(n),n.renderHighlight=n.renderHighlight.bind(n),n.renderHighlights=n.renderHighlights.bind(n),n.renderChannel=n.renderChannel.bind(n),n.renderCommand=n.renderCommand.bind(n),n.renderBold=n.renderBold.bind(n),n.renderItalic=n.renderItalic.bind(n),n.renderCode=n.renderCode.bind(n),n.renderPre=n.renderPre.bind(n),n.renderStrike=n.renderStrike.bind(n),n.renderHex=n.renderHex.bind(n),n.renderQuote=n.renderQuote.bind(n),n.renderHighlightMarkers=n.renderHighlightMarkers.bind(n),n.FORMAT_HANDLERS={bold:n.renderBold,italic:n.renderItalic,strike:n.renderStrike,code:n.renderCode,pre:n.renderPre,quote:n.renderQuote,quote_prefix:n.renderQuotePrefix,long_quote_prefix:n.renderLongQuotePrefix,line_break:n.renderLineBreak,paragraph_break:n.renderParagraphBreak,space_hard:n.renderHardSpace,link:n.renderLink,command:n.renderCommand,member:n.renderMember,channel:n.renderChannel,emoji:n.renderEmoji,jumbomoji:n.renderJumbomoji,hex:n.renderHex,highlight:n.renderHighlightMarkers,unknown:n.renderUnknownItem},n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){(0,this.props.onRender)({isTruncated:this.isTruncated()})}},{key:"componentDidUpdate",value:function(){(0,this.props.onRender)({isTruncated:this.isTruncated()})}},{key:"handleUserGroupClick",value:function(e,t){var n=this.props,r=n.featureSonicUserGroups,a=n.onUserGroupClick;e.preventDefault(),r?a(t):Object(L.d)(e,t)}},{key:"nextKey",value:function(){return this.uid+=1,this.uid}},{key:"isTruncated",value:function(){var e=this.props,t=e.maxCharacters,n=e.maxNewlines;return this.numCharactersUsed>=t||this.numNewlinesUsed>=n}},{key:"renderQuotePrefix",value:function(){return Object(N.a)()?null:k.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">")}},{key:"renderLongQuotePrefix",value:function(){return Object(N.a)()?null:k.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>")}},{key:"renderLineBreak",value:function(){var e=this.props.customLineEnding,t=k.a.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,e?[k.a.createElement("span",{key:this.nextKey()},e),t]:t}},{key:"renderParagraphBreak",value:function(){return this.props.customLineEnding?this.renderLineBreak():Object(N.a)()?k.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):k.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},k.a.createElement("i",{className:"copy_only"},k.a.createElement("br",null)))}},{key:"renderHardSpace",value:function(){return this.props.customLineEnding?"\xa0":["\xa0",k.a.createElement("wbr",{key:this.nextKey()})]}},{key:"renderMember",value:function(e){var t=e.id,n=e.fallback,r=this.props,a=r.noHighlights,i=r.noLinking,o=r.showTooltips,s=r.clogLinkClick;return this.numCharactersUsed+=t.length,k.a.createElement(H.a,{key:this.nextKey(),id:t,fallback:n,showTooltip:o,noHighlights:a,noLinking:i,clogLinkClick:s})}},{key:"renderEmoji",value:function(e){var t=e.name,n=this.props,r=n.showTooltips,a=n.stopAnimations,i=n.emojiMode,o=n.emojiSize,s=void 0===o?B.a.MEDIUM:o,c=n.noEmojiText,l=n.obeyEmojiMode,u=n.iconInTextMode,d=n.sourceTeamId;return this.numCharactersUsed+=1,k.a.createElement(B.b,{key:this.nextKey(),text:t,emojiSize:s,showTooltip:r,stopAnimations:a,emojiMode:i,noEmojiText:c,obeyEmojiMode:l,iconInTextMode:u,sourceTeamId:d,isEmojiInlineWithText:!0})}},{key:"renderJumbomoji",value:function(e){var t=e.name,n=this.props,r=n.showTooltips,a=n.stopAnimations,i=n.emojiMode,o=n.noEmojiText,s=n.sourceTeamId;return this.numCharactersUsed+=1,k.a.createElement(B.b,{key:this.nextKey(),text:t,emojiSize:B.a.LARGE,showTooltip:r,isJumbomoji:!0,stopAnimations:a,emojiMode:i,noEmojiText:o,sourceTeamId:s})}},{key:"renderHighlight",value:function(e){return k.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},e)}},{key:"renderChannel",value:function(e){var t=e.id,n=e.name,r=this.props,a=r.noLinking,i=r.clogLinkClick;return this.numCharactersUsed+=(n||t).length+1,k.a.createElement(K.a,{key:this.nextKey(),id:t,fallbackName:n,noLinking:a,clogLinkClick:i})}},{key:"renderCommand",value:function(e){var t=e.data,n=t.type,r=t.label,i=o()(t,["type","label"]),s=this.props,c=s.noHighlights,l=s.noLinking,u=s.do24hrTime;switch(n){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=n.length+1,k.a.createElement(G.a,a()({},i,{key:this.nextKey(),type:n,noHighlights:c,noLinking:l}));case"subteam":return this.numCharactersUsed+=(r||n).length,k.a.createElement(V.a,a()({},i,{key:this.nextKey(),fallback:r,noHighlights:c,noLinking:l,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(r||n).length,k.a.createElement(z.a,a()({},i,{key:this.nextKey(),fallback:r,do24hrTime:u}));case"team":return this.numCharactersUsed+=(r||n).length,k.a.createElement(Y.a,a()({},i,{key:this.nextKey(),fallback:r}));default:return}}},{key:"renderLink",value:function(e){var t=e.url,n=e.contents,r=this.props,a=r.doSlackActionLinks,i=r.noLinking,o=r.origin,s=r.memberId,c=r.clogLinkClick,l=r.explicitlyRenameBotLink;return k.a.createElement(W.a,{key:this.nextKey(),url:t,noLinking:i,doSlackActionLinks:a,origin:o,memberId:s,clogLinkClick:c,explicitlyRenameBotLink:l},this.renderMrkdwnFormatting(n))}},{key:"renderBold",value:function(e){var t=e.contents,n={};if(Object(N.a)())n["data-stringify-type"]="bold";else{var r="ja-JP"===Object(P.p)()?"\uff0a":"*";n["data-stringify-prefix"]=r,n["data-stringify-suffix"]=r,n["data-stringify-requires-siblings"]=!0}return k.a.createElement("b",a()({key:this.nextKey()},n),this.renderMrkdwnFormatting(t))}},{key:"renderItalic",value:function(e){var t=e.contents,n={};if(Object(N.a)())n["data-stringify-type"]="italic";else{var r="ja-JP"===Object(P.p)()?"\uff3f":"_";n["data-stringify-prefix"]=r,n["data-stringify-suffix"]=r,n["data-stringify-requires-siblings"]=!0}return k.a.createElement("i",a()({key:this.nextKey()},n),this.renderMrkdwnFormatting(t))}},{key:"renderStrike",value:function(e){var t=e.contents,n={};return Object(N.a)()?n["data-stringify-type"]="strike":(n["data-stringify-prefix"]="~",n["data-stringify-suffix"]="~",n["data-stringify-requires-siblings"]=!0),k.a.createElement("strike",a()({key:this.nextKey()},n),this.renderMrkdwnFormatting(t))}},{key:"renderCode",value:function(e){var t=e.contents;if(this.props.noCode)return k.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(t));var n={};if(Object(N.a)())n["data-stringify-type"]="code";else{var r="ja-JP"===Object(P.p)()?"\uff40":"`";n["data-stringify-prefix"]=r,n["data-stringify-suffix"]=r,n["data-stringify-requires-siblings"]=!0}return k.a.createElement("code",a()({key:this.nextKey(),className:"c-mrkdwn__code"},n),this.renderMrkdwnFormatting(t))}},{key:"renderPre",value:function(e,t){var n=e.contents,r=t.index;if(this.props.noCode)return this.renderUnformattedBlock({contents:n,index:r});var i={};if(Object(N.a)())i["data-stringify-type"]="pre";else{var o="ja-JP"===Object(P.p)()?"\uff40\uff40\uff40":"```";i["data-stringify-prefix"]=o,i["data-stringify-suffix"]=o,i["data-stringify-requires-siblings"]=!0}return k.a.createElement("pre",a()({key:this.nextKey(),className:"c-mrkdwn__pre"},i),this.renderMrkdwnFormatting(n))}},{key:"renderQuote",value:function(e,t){var n=e.contents,r=t.index;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:n,index:r});var i={};if(Object(N.a)()&&!Object(_.a)(n)){var o="long_quote_prefix"===n[0].type?"blockquote":"quote";i["data-stringify-type"]=o}return k.a.createElement("blockquote",a()({key:this.nextKey(),className:"c-mrkdwn__quote"},i),this.renderMrkdwnFormatting(n))}},{key:"renderUnformattedBlock",value:function(e){var t=e.contents,n=e.index,r=k.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(t));if(0===n)return r;var a=this.renderLineBreak();return this.isTruncated()?a:[a,r]}},{key:"renderHighlights",value:function(e,t){var n=this,r=e.text,a=this.props,i=a.highlights,o=a.noHighlights,s=a.maxCharacters,c=t.isLastItem;if(Object(g.a)(s)&&this.numCharactersUsed<s){var l=s-this.numCharactersUsed;if(l<r.length||l===r.length&&!c){var u=Object(f.a)(Object(f.a)(r.slice(0,l)),"\u2026.,_-");return this.numCharactersUsed=s,[this.renderHighlights({text:u},t),"\u2026"]}this.numCharactersUsed+=r.length}if(!r||!i||o)return Object(A.a)(r);var d=i.split(/\s*,\s*/),b=Object(M.a)(r,d),p=[],h=0;if(b.forEach(function(e){var t=e.index,a=e.length,i=Object(A.a)(r.slice(h,t));p.push(i);var o=Object(A.a)(r.substr(t,a));p.push(n.renderHighlight(o)),h=t+a}),h!==r.length){var m=Object(A.a)(r.slice(h));p.push(m)}return p}},{key:"renderHex",value:function(e){var t=e.color,n=this.props.noHexColors;return this.numCharactersUsed+=t.length,n?null:k.a.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:t}})}},{key:"renderHighlightMarkers",value:function(e){var t=e.contents;return k.a.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(t))}},{key:"renderUnknownItem",value:function(e){var t=e.token;return this.props.showTooltips?k.a.createElement(U.c,{key:this.nextKey(),tip:X.t("Sorry! This part didn\u2019t render correctly.")},k.a.createElement("code",{className:"sk_black"},t)):k.a.createElement("code",{key:this.nextKey(),className:"sk_black"},t)}},{key:"renderMrkdwnFormatting",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.customFormatHandler;return Object(v.a)(e,function(a,i){if(t.isTruncated())return!1;var o=t.FORMAT_HANDLERS[a.type]||t.renderHighlights,s=function(){var t=n&&i===e.length-1;return o(a,{index:i,isLastItem:t})},c=void 0;try{r?(c=r({item:a,getDefaultOutput:s}),k.a.isValidElement(c)&&(c=k.a.cloneElement(c,{key:t.nextKey()}))):o?c=s():J.error('Missing handler for "'+a.type+'"')}catch(e){J.error(e)}return void 0===c&&(c=t.renderUnknownItem(a)),c})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.className,r=e.emojiMode,a=e.noJumbomoji,i=e.noLinking,o=e.noSpecials,s=e.noHighlights,c=e.noEmojiText,l=e.noHexColors,u=e.preventCopyPaste,d=e.transformMissingEmoji,b=e.showIconForEmojiInAsTextMode,p=e.stopAnimations,h=e.doInlineImages,f=e.doSlackActionLinks,v=e.featureReactMessages,g=e.featureAllowIntraWordFormatting,_=e.customContentHandler,O=e.addDirectionAttr,y=e["data-qa"];if(!t)return null;if(this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,!v){var j=Object(D.b)(t,null,{no_jumbomoji:a,no_linking:i,no_specials:o,no_highlights:s,no_emoji_text:c,no_hex_colors:l,prevent_copy_paste:u,transform_missing_emoji:d,show_icon_for_emoji_in_as_text_mode:b,stop_animations:p,emoji_mode:r,do_inline_imgs:h,enable_slack_action_links:f});return k.a.createElement("span",{dangerouslySetInnerHTML:{__html:j},className:n})}var E=o?"NOMRKDWN":this.props.tsfMode,C=this.props.ariaAssertive?"assertive":null,I=Object(F.b)(t,E,{jumbomoji:!a,allow_intra_word_formatting:g});Q.test(t)&&(I=Object(m.a)(I,function(e){return e.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(function(e){return!!e})}));var w=Object(x.a)(I);_&&(w=_(w));var S=O?"auto":null;return k.a.createElement("span",{className:n,"aria-live":C,dir:S,"data-qa":y},this.renderMrkdwnFormatting(w,!0))}}]),t}(j.PureComponent);$.displayName="BaseMrkdwn",$.defaultProps=Z;var ee=Object(E.b)(function(e,t){var n=t.emojiMode,r=t.highlights,a=t.noHexColors,i=t.noJumbomoji,o=n||Object(T.h)(e),s=Object(I.a)(e),c=r||Object(C.g)(e,"highlight_words"),l=Object(w.q)(e)?null:Object(q.a)();return{emojiMode:o,noJumbomoji:i||!s,highlights:c,noHexColors:a||Object(C.g)(e,"hide_hex_swatch"),emojiMap:l,do24hrTime:Object(C.g)(e,"time24"),featureReactMessages:Object(w.j)(e,"feature_react_messages"),featureSonicUserGroups:Object(w.j)(e,"feature_sonic_user_groups"),featureAllowIntraWordFormatting:Object(w.j)(e,"feature_allow_intra_word_formatting")}},function(e){return{onUserGroupClick:function(t){return e(Object(S.n)({groupId:t}))}}})($);ee.propTypes={emojiMode:y.b.string,highlights:y.b.string,noHexColors:y.b.bool},ee.defaultProps={emojiMode:void 0,highlights:void 0,noHexColors:!1},t.a=ee},lfDB:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HO/Y"),a=n("XzsM");function i(e){return Object(r.j)(e,"feature_sli_channel_search")&&"channel_search"===Object(a.c)(e,"channel_search")}},lfjV:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("jo6Y"),a=n.n(r),i=n("vJtL"),o=n("ifKl"),s=n("7EGn"),c="easeInOutQuad",l={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function u(e){var t=e.fromValue,n=e.toValue,r=e.duration,a=void 0===r?500:r,u=e.easing,d=void 0===u?c:u,b=e.delta,p=void 0!==b&&b,h=e.onTick,m=e.onComplete,f=void 0===m?o.a:m,v=!1,g=performance.now(),_=t,O=void 0,y=Object(i.a)(d)?d:function(e){return Object(s.a)(l,e,l[c])}(d),j=function(){v=!0},k=function(e){return e>a?n:t+(n-t)*y(e/a)},E=function(e){var t=Math.min(e,a),n=k(t),r=n-_;return _=n,r},C=function(e){var t=e-g;v||h({value:p?E(t):k(t),nextTick:t<=a?O:f,cancel:j})};return(O=function(){return window.requestAnimationFrame(C)})(),j}function d(e){var t=e.delay,n=a()(e,["delay"]);if(t>0){var r=void 0,i=setTimeout(function(){r=u(n)},t);return{cancel:function(){clearTimeout(i),r&&r()}}}return{cancel:u(n)}}},lhpG:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m});var r=n("Fsnq"),a=n("7EGn"),i=n("vEhQ"),o=n("qAkX"),s=n("M/q2"),c=n("Z0v/"),l=n("Zr7G"),u=function(e){return Object(o.a)(e.split("::"))},d=function(e,t){var n=t.replace(/\./g,"."+c.a+".");return Object(a.a)(e,n)};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.userId;return Object.keys(localStorage).filter(function(e){return Object(c.u)({teamId:t,userId:n,key:e})})};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.userId,a=e.reducerConfig,o=void 0===a?Object(c.o)(t):a,p=e.state,h=void 0===p?{}:p,m=e.shouldMigrate,f=void 0===m||m;if(!Object(s.a)("localStorage")||!t||!n)return h;var v=!1;if(f){var g=Object(c.m)({teamId:t,userId:n,key:"last-migration-from-legacy"});localStorage.getItem(g)&&(v=!0,localStorage.removeItem(g))}return b({teamId:t,userId:n}).forEach(function(e){var t=u(e),n=d(o,t),a=void 0;try{a=JSON.parse(localStorage.getItem(e))}catch(e){a=n.initialState||{}}if("drafts"===t&&v&&a&&a.channelDrafts&&Object(r.a)(a.channelDrafts)>0){var s=void 0;Object.keys(a.channelDrafts).forEach(function(e){s+=Object(r.a)(a.channelDrafts[e])}),Object(l.a)().count("total_drafts_migrated",s)}if(Object(c.D)(n)){var b=Object(c.i)(n);b&&(a=b(a)),Object(i.a)(h,t,a)}}),h}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.userId;return b({teamId:t,userId:n}).forEach(function(e){return localStorage.removeItem(e)})}function m(e){if(!Array.isArray(e))throw new Error("teamIds in clearImmediatelyPersistedStateExceptForTeamIds must be an array");var t=Object.keys(localStorage).filter(function(e){return Object(c.s)({key:e})}),n=e.reduce(function(e,t){var n=function(e){var t=e.teamId;return Object.keys(localStorage).filter(function(e){return Object(c.t)({key:e,teamId:t})})}({teamId:t});return e.concat(n)},[]);t.filter(function(e){return!1===n.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})}},lkgS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("n74X");function a(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shouldHaveTarget;return(void 0===t?r.g:t)()?e:null}},llxT:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=(n("aK/h"),n("5nw9")),b=(n("cebH"),c.a.forwardRef(function(e,t){var n=e.className,r=o()(e,["className"]);return c.a.createElement(d.a,a()({},r,{ref:t,className:u()("c-button-unstyled",n)}))}));b.defaultProps={className:void 0},b.displayName="UnstyledButton",t.a=b},lm1E:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("nNoG"),a=new r.b("message");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plainText,n=e.isFollowup,i=e.fileMode,o=e.fileLink,s=e.userId,c=e.userName,l={file:o,user:e.userLink,possessive:Object(r.m)(c)};return n?(l.note="[sender] commented:",a.t("commented:",l)):s?"snippet"===i?(l.note="[sender] commented on joe's snippet. Also, the possessive affix is localized, but please move it before or after the user name depending on whether possessives are prefixes or suffixes for your language.",t?a.t("commented on {user}{possessive} snippet {file}",l):a.rt("commented on {user}{possessive} snippet {file}",l)):(l.note="[sender] commented on joe's file. Also, the possessive affix is localized, but please move it before or after the user name depending on whether possessives are prefixes or suffixes for your language.",t?a.t("commented on {user}{possessive} file {file}",l):a.rt("commented on {user}{possessive} file {file}",l)):(l.note="[sender] commented on Kittens.gif",t?a.t("commented on {file}",l):a.rt("commented on {file}",l))}},lm4U:function(e,t,n){},lnxZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("ROZo"),a=Object(r.b)("TS.client.downloads.startDownload"),i=Object(r.b)("TS.client.downloads.updateDownloadsView")},lrhk:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("TGBA"),h=n("ifKl"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("XHGt"),_=n("TSYQ"),O=n.n(_),y=n("jLdI"),j=n("Jnln"),k=n("lV3N"),E=n("t3QL"),C=n("CaXY"),I=(v.b.object.isRequired,v.b.object.isRequired,v.b.string,v.b.oneOf(Object(p.a)(C.a)),v.b.func,{className:void 0,blocksContainerContext:C.a.message_attachment,clogMessageClick:h.a}),w=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clogMessageClick=n.clogMessageClick.bind(n),n}return b()(t,e),c()(t,[{key:"clogMessageClick",value:function(e){var t=this.props.msg;this.props.clogMessageClick({msg:t,payload:e})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.attachment,r=e.blocksContainerContext,i=O()("c-message_kit__attachment",this.props.className),o=n.bot_id||t.bot_id,s=Object(E.b)(n);return f.a.createElement(k.a,a()({className:i,messageTs:t.ts,service:o,activeChannelId:t.channel,isInline:Object(j.g)(s,t),clogLinkClick:this.clogMessageClick,blocksContainerContext:r},s))}}]),t}(m.PureComponent);w.displayName="MessageKitAttachment",w.defaultProps=I;var S={clogMessageClick:function(){return y.a.apply(void 0,arguments)}};t.a=Object(g.b)(null,S)(w)},lwWk:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=n("i7LB"),p=n("NcDR"),h=(n("7nuq"),d.b.string,d.b.string.isRequired,d.b.bool,d.b.node,d.b.bool,{className:void 0,invert:!1,children:void 0,hasKeyboardFocus:!1}),m=c.a.forwardRef(function(e,t){var n=e.className,r=e.href,i=e.invert,s=e.children,l=e.hasKeyboardFocus,d=o()(e,["className","href","invert","children","hasKeyboardFocus"]),p=u()("c-link",{"c-link--focus-visible":l,"c-link--invert":i},n);return c.a.createElement("a",a()({},Object(b.a)(d),{className:p,href:r,ref:t}),s)});m.defaultProps=h,m.displayName="BaseLink",t.a=Object(p.a)(m)},"m/st":function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("zmn3"),c=n("Z3Pq"),l=n("oTSI"),u=n("aK/h"),d=n("lhZz"),b=n("MNvw"),p=n("EzZj"),h=n("U/ze"),m=n("uf9I"),f=n("btvA"),v=n("1zbP"),g=n("jzln"),_=n("iJtp"),O=n("4zXV"),y=n("om+M"),j=Object(y.a)("Unfurls an attachment for a given URL",function(e,t,n){return e(Object(O.a)({method:"chat.unfurlLink",args:{url:n}})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attachments;return(void 0===e?[]:e)[n]})});j.propTypes=u.b.string;var k=j;n.d(t,"b",function(){return x});var E=Object(p.b)("Add unfurls to the unfurls cache");E.propTypes=u.b.arrayOf(u.b.object);var C=Object(b.b)(a()({},E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o()({},e,Object(c.a)(t,"from_url"))}),{},{persistenceEnabled:!0});C.propTypes=u.b.objectOf(u.b.object);t.a=C;var I=function(e){return{from_url:e}},w=Object(l.a)(function(){return new v.a({fetch:T,upsertKnown:R,upsertNonExistent:R,makeUnknownObject:I,makeNonExistentObject:I})}),S=Object(l.a)(function(){return new f.b({fetch:N,isEnabled:function(){return!Object(g.a)()&&!Object(_.a)()}})});function T(e,t){return Promise.map(t,function(t){return Object(d.dispatchForTeamId)(e,k(t)).reflect()}).then(function(e){return e.filter(function(e){return e.isFulfilled()}).map(function(e){return e.value()})}).then(function(e){return e.map(function(e){return o()({},e,{id:e&&e.from_url})})})}function R(e,t){Object(d.dispatchForTeamId)(e,E(t)),S().markObjectsAsFresh(e,Object(s.a)(t.filter(v.b),"from_url"))}function N(e,t){return T(e,t).then(function(t){return R(e,t),Object(s.a)(t,"from_url")})}var x=Object(h.b)(function(e,t){if(!t)return null;var n=Object(m.b)(e),r=e.unfurls[t];return r?(S().maybeRefetch(n,t),r):w().fetchObjectWithId(n,t)})},m36V:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("XHGt"),c=n("9HJ0"),l=n("Jnln"),u=n("iCc5"),d=n.n(u),b=n("V7oC"),p=n.n(b),h=n("FYw3"),m=n.n(h),f=n("mRg0"),v=n.n(f),g=n("ifKl"),_=n("aK/h"),O=n("kxpR"),y=n.n(O),j=n("od5y"),k=n("llxT"),E=(n("D8iY"),_.b.bool,_.b.string,_.b.func,_.b.func,{isExpanded:!0,expandableKey:"",onClick:g.a,render:void 0}),C=function(e){function t(e){d()(this,t);var n=m()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return v()(t,e),p()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.isExpanded,r=t.expandableKey,a=t.onClick;e.preventDefault(),a(!n,r)}},{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.expandableKey,r=e.render,a=t?"caret_down":"caret_right",i=t?"collapse":"expand";return r?r(this.props,this.onClick):y.a.createElement(k.a,{title:i,className:"c-expandable_trigger","data-qa-expandable-trigger-is-expanded":t,"data-qa-expandable-trigger-key":n,onClick:this.onClick,"aria-expanded":t},y.a.createElement(j.a,{type:a,inherit:!0}))}}]),t}(O.PureComponent);C.displayName="ExpandableTrigger",C.defaultProps=E;var I=C;t.a=Object(s.b)(function(e,t){var n=t.imageBytes,r=t.expandableKey,i=t.shouldBeExpandedByDefault,s=void 0===i||i,u=t.useAttachmentRules,d=void 0===u||u,b=o()(t,["imageBytes","expandableKey","shouldBeExpandedByDefault","useAttachmentRules"]),p=d?Object(l.e)(e,r,n):Object(c.d)(e,r);return a()({expandableKey:r,isExpanded:void 0===p?s:p},b)},function(e){return{onClick:function(t,n){e(Object(c.e)({key:n,isExpanded:t}))}}})(I)},m4Q8:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=n("XfeM"),b=n("4zXV"),p=n("om+M"),h=n("HO/Y"),m=n("uf9I"),f=n("wnkz"),v="http://localhost:8080/cache/";function g(e){var t=Object(m.b)(e),n=Object(m.a)(e)||Object(h.d)(e,"enterprise_id");return""+v+(n?n+"/"+t:t)}var _=Object(p.a)("Fetches the Flannel HTTP URL",function(e,t){var n=t();return Object(f.a)(n)?Promise.resolve({url:g(n),ttlSeconds:1/0}):e(Object(b.a)({method:"api.getFlannelHttpUrl",reason:"client-needs-valid-flannel-url",EXPEDITED:!0}))});_.propTypes=s.b.object;var O=_;n.d(t,"b",function(){return I});var y=Object(c.b)("Set the Flannel URL and it's expiry timestamp");y.propTypes={url:s.b.string,ttlSeconds:s.b.number,expiry:s.b.number};var j={url:void 0,expiry:void 0};var k=Object(l.b)(a()({},y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.ttlSeconds,a=t.expiry,i=void 0===a?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;return Date.now()+1e3*e-t}(r):a;return o()({},e,{url:n,expiry:i})}),j,{persistenceEnabled:!0});k.propTypes={url:s.b.string,expiry:s.b.number};t.a=k;var E=Object(u.b)(function(e){return e&&e.flannelUrl&&e.flannelUrl.url}),C=Object(u.b)(function(e){return!!E(e)&&e.flannelUrl.expiry>Date.now()}),I=Object(d.b)("Gets a valid flannel URL if available, if not, fetches a new one",function(e,t){var n=t();return C(n)?Promise.resolve(E(n)):e(O()).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,r=t.ttl_seconds;return e(y({url:n,ttlSeconds:r})),n})});I.propTypes=s.b.object},mI5s:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("aK/h"),c=n("EzZj"),l=n("MNvw"),u=n("U/ze"),d=Object(c.b)("Record that a message was deleted");d.propTypes={channelId:s.b.string.isRequired,ts:s.b.string.isRequired};var b=Object(l.b)(a()({},d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts,i=e[n]||{},s=o()({},i,a()({},r,!0));return o()({},e,a()({},n,s))}),{},{persistenceEnabled:!1});b.propTypes=s.b.objectOf(s.b.objectOf(s.b.bool.isRequired)),t.a=b;var p=Object(u.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return e&&e.deletedMessages&&e.deletedMessages[n]&&!!e.deletedMessages[n][r]})},mIgp:function(e,t,n){"use strict";var r=n("oUPN"),a=n("iCc5"),i=n.n(a),o=n("V7oC"),s=n.n(o),c=n("FYw3"),l=n.n(c),u=n("mRg0"),d=n.n(u),b=n("ifKl"),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("uPpK"),v=n("ukTK"),g=n("z0G2"),_=n("tQ8E"),O=(p.b.func.isRequired,p.b.any,p.b.string,p.b.arrayOf(p.b.string).isRequired,p.b.number,p.b.number,p.b.number,p.b.bool,p.b.number,p.b.func,{className:"",onScroll:b.a,scrollElement:null,defaultRowHeight:200,topOffset:0,height:0,isScrolling:!1,scrollTop:0}),y=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),s()(t,[{key:"isScrolling",value:function(){return this.props.scrolling}},{key:"getContainerHeight",value:function(){return this.getContentHeight()}},{key:"getScrollTop",value:function(){return this.props.scrollTop}},{key:"setScrollTop",value:function(e){this.props.scrollElement.scrollTop=Math.ceil(e)}},{key:"getClassName",value:function(){return this.props.className}},{key:"onScroll",value:function(e){this.relayout(),this.props.onScroll(e,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;if(0===t||0===n)return null;var r=this.getClassName(),a=this.renderContents();return m.a.createElement("div",{className:r,style:{width:t,height:"auto"},onScroll:this.onScroll,role:this.props.role},a)}}]),t}(_.a);y.displayName="FullLengthList";var j=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.heightCache=new v.a({DEFAULT_HEIGHT:n.props.defaultRowHeight}),n.layout=new g.a({heightCache:n.heightCache}),n.list=null,n.setListRef=n.setListRef.bind(n),n}return d()(t,e),s()(t,[{key:"getVisibleRange",value:function(){return this.list.getVisibleRange()}},{key:"setListRef",value:function(e){this.list=e}},{key:"getContentHeight",value:function(){return this.list.getContentHeight()}},{key:"scrollToKey",value:function(){var e;return(e=this.list).scrollToKey.apply(e,arguments)}},{key:"invalidateRowHeights",value:function(){this.heightCache.invalidate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.keys,r=t.className,a=t.rowRenderer,i=t.scrollElement,o=t.topOffset,s=this.props,c=s.height,l=s.isScrolling,u=s.scrollTop,d=i||window;return m.a.createElement(f.a,{disableHeight:!0},function(t){var i=t.width;return m.a.createElement("div",{className:r},m.a.createElement(y,{width:i,height:c,keys:n,layout:e.layout,rowRenderer:a,scrolling:l,scrollTop:Math.max(u-o,0),scrollElement:d,ref:e.setListRef,topOffset:o}))})}}]),t}(h.PureComponent);j.displayName="FullPageList";var k=j;j.defaultProps=O,n.d(t,"a",function(){return k});r.a},mLe0:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return b});var r=n("NFsq"),a=n("qAkX"),i=n("mM05"),o=n.n(i),s=n("aLpA"),c=n("WKJn"),l=n("dG3r"),u=n("rqfA");function d(e){var t=e.reduce(function(e,t){if(Object(c.a)(t))return e+t.insert.slackemoji.text.length;if(Object(l.a)(t)){var n=t.attributes.slackmention.id;return"UNVERIFIED"===n?t.insert.length:Object(r.a)(s.B,n)?t.insert.length:e+(n?n.length:t.insert.length)}return Object(u.a)(t)?e+t.insert.length:e},0),n=Object(a.a)(e.ops);return Object(u.a)(n)&&"\n"===n.insert.substr(-1)?t-1:t}function b(e){return e&&e.length?d(new o.a(e)):0}},mOAw:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.menu.member.startWithMember",r.a)},mVkb:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("M4yy");function a(e,t){return!(!t||!e)&&!!(Object(r.a)(t.subtype)&&"file_comment"===e.subtype&&t.file&&e.file&&t.file===e.file)}},mk6Z:function(e,t,n){"use strict";var r=n("HO/Y"),a=n("b+9+"),i=n("aW/o"),o=n("+JGq"),s=n("+ncu"),c=n("clTI"),l=n("hk86"),u=n("DtX9"),d=n("6kok"),b=n("hXS5"),p=n("V5VI");function h(e,t){Object(b.c)(),(function(e){return Object(d.yb)(e)&&!Object(d.kb)(e)}(e)||Object(d.V)(e)||function(e,t){if(!Object(d.eb)(e))return!1;var n=Object(u.c)(t(),Object(d.G)(e));return n&&n.deleted}(e,t)||Object(d.Hb)(t(),e))&&Object(b.a)(e)}Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){var a=n();if(Object(r.q)(a)){var o=Object(i.a)(a),s=Object(c.d)(a,o);s&&h(s,n)}}}),Object(p.d)({actions:[l.c],sideEffect:function(e,t,n){var a=n();if(Object(r.q)(a)){var o=e.payload,s=Object(i.a)(a),l=Object(c.d)(a,s),u=Object(d.G)(l);l&&Object(d.eb)(l)&&u&&u===o.id&&h(l,n)}}}),Object(p.d)({actions:[o.a],sideEffect:function(e,t,n){var a=n();if(Object(r.q)(a)){var o=Object(i.a)(a),s=!1,l=e&&e.payload&&e.payload.channels;if(l&&l.length&&(l.forEach(function(e){e&&e.id===o&&(s=!0)}),s)){var u=Object(c.d)(a,o);u&&h(u,n)}}},reasons:[s.a.ADD_CHANNEL,s.a.ARCHIVE_CHANNEL,s.a.UNARCHIVE_CHANNEL,s.a.LEAVE_CHANNEL,s.a.UPSERT_CHANNEL,s.a.BULK_ADD_CHANNELS,s.a.BULK_UPDATE_CHANNELS]});var m=n("aWll"),f=n("VjHM"),v=n("9hu3"),g=n("+1yX"),_=n("AfrZ"),O=n("bPWw"),y=n("GC45"),j=n("tVnY"),k=n("Dpde"),E=n("wfE8"),C=n("yHhI"),I=10,w=5;function S(e,t){var n=Object(f.e)(e).split(",").filter(function(t){return Object(g.a)(t)&&!Object(c.r)(e,t)});n.length&&t(Object(E.d)({ids:n}))}Object(p.d)({actions:[o.a],sideEffect:function(e,t,n){var a=n();if(!Object(k.a)(a)){var i=!(Object(r.d)(a,"inviter_id")&&Object(r.d)(a,"inviter_name")||Object(r.d)(a,"landing_place_channel"));Object(f.g)(a,"show_sidebar_quickswitcher_button")||Object(f.g)(a,"k_key_omnibox_auto_hide_count")!==w&&void 0!==Object(f.g)(a,"k_key_omnibox_auto_hide_count")&&(Object(j.b)(a)||Object(O.f)(a)||Object(y.a)()||Object(c.g)(a)>=I&&(Object(C.a)({state:a}).error({show_sidebar_quickswitcher_button:JSON.stringify(Object(f.g)(a,"show_sidebar_quickswitcher_button")),k_key_omnibox_auto_hide_count:JSON.stringify(Object(f.g)(a,"k_key_omnibox_auto_hide_count")),count_of_open_channels:Object(c.g)(a)},"show_sidebar_quickswitcher_button automatically set to true",{subtype:"show_sidebar_quickswitcher_button_true"}),t(Object(_.f)({pref:"show_sidebar_quickswitcher_button",value:!0})),i&&t(Object(m.q)("SHOW_BUTTON"))))}},reasons:[s.a.ADD_CHANNEL,s.a.UPSERT_CHANNEL]}),Object(p.d)({actions:[v.c],sideEffect:function(e,t,n){S(n(),t)}}),Object(p.d)({actions:[v.b],sideEffect:function(e,t,n){var r=n();"newxp_suggested_channels"===e.payload.pref&&S(r,t)}});var T=n("syB0"),R=n("hbEN"),N=n("ntJl"),x=n("TcTh"),M=n("bYYE"),P=n("wdjV"),A=n("pRVB"),D=n("ZQFR"),L=n("smxp"),q=n("kyO0"),F=n("0NgK"),B=n("/Rx2"),U=n("aLpA"),H=n("GdsW"),K=n("s19S"),G=n("WQtW"),V=n("Smdl");function z(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=n();if(Object(q.b)(s))if(Object(i.a)(s)===e)if(Object(P.a)(s))X({getState:n},"Not marking "+e+" because unread point was set manually");else if(Object(H.b)())X({getState:n},"Not marking "+e+" because active channel is hidden");else{if(Object(V.a)()){if(!Object(B.e)(s))return X({getState:n},"Not marking "+e+" because attention not on chat ("+Object(B.c)(s)+")"),void(o||t(Object(a.i)(null)))}else if(!Object(K.f)())return X({getState:n},"Not marking "+e+" because attention not on chat ("+Object(K.c)()+")"),void(o||t(Object(a.i)(null)));var l=Object(c.d)(s,e),u=Object(x.h)(s,e).timestamps,b=Object(d.E)(l,u),p=Object(d.zb)(l);if(!Object(d.yb)(l)||Object(d.kb)(l))if(Object(d.D)(l)>=b&&p)X({getState:n},"Not marking "+e+" because last_read >= latest && channel is read");else{var h=Y(s),m=Object(P.q)(s),f=Object(d.D)(l)>=b,v=Object(L.a)(s,e,b),g=Object(r.b)(s),_=v&&v.user===g;h||m||f||p&&_?(X({getState:n},h?"Marking "+e+" because mark_msgs_read_immediately pref":m?"Marking "+e+" because unread line is visible":f?"Marking "+e+" because last_read >= latest":"Marking "+e+" because channel is read and last message is from self"),t(Object(N.markMostRecentMsgRead)({channelId:e,saveGhost:o&&!p,reason:U.t.VIEWED}))):h||(X({getState:n},"Not marking "+e+", clearing ghost last_read"),t(Object(a.i)(null)))}else X({getState:n},"Not marking "+e+" because not a member")}else Object(G.d)(2005)&&X({getState:n},"Not marking because "+e+" is not active");else X({getState:n},"Not marking "+e+" because not fully booted")}function Y(e){return Object(f.g)(e,"mark_msgs_read_immediately")&&!Object(f.g)(e,"start_scroll_at_oldest")}var W=Object(R.a)(function(e,t,n){var r=n(),a=Object(c.d)(r,e);!Y(r)&&Object(d.zb)(a)||(X({getState:n},"Checking unreads after debounced channel change to "+e),z(e,t,n))},500);var Q=Object(R.a)(function(e,t,n){Object(P.q)(n())&&(X({getState:n},"Checking unreads after unread line became visible"),z(e,t,n))},350);function X(e,t){Object(C.a)(e).info("CHECK-UNREADS",t)}Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){var r=e.payload.channelId;r&&W(r,t,n)}}),Object(p.d)({actions:[M.f,M.k],sideEffect:function(e,t,n){var r=n(),a=Object(i.a)(r);if(Object(g.a)(a)){var o=Object(M.g)(r),s=!Object(V.a)()||Object(A.k)(r);o&&s&&requestAnimationFrame(function(){X({getState:n},"Checking unreads after window became focused"),z(a,t,n)})}}}),Object(p.d)({actions:[D.f],sideEffect:function(e,t,n){var r=n(),a=Object(i.a)(r);Object(A.k)(r)&&Object(g.a)(a)&&requestAnimationFrame(function(){X({getState:n},"Checking unreads after workspace became focused"),z(a,t,n)}),t(Object(F.a)())}}),Object(p.d)({actions:[a.n],sideEffect:function(e,t,n){var r=n(),a=Object(i.a)(r);Object(g.a)(a)&&(Y(r)||Q(a,t,n))}}),Object(p.d)({actions:[q.c],sideEffect:function(e,t,n){var r=n(),a=Object(i.a)(r);Object(g.a)(a)&&Object(T.a)(function(){X({getState:n},"Checking unreads after fully booted"),z(a,t,n)})}});var Z=n("m1cH"),J=n.n(Z),$=n("F294"),ee=n("0VPD"),te=n("7EGn"),ne=n("wBxZ"),re=n("1myf"),ae=n("XfeM"),ie=n("Z7Ay"),oe=n("St+r"),se=n("uf9I"),ce=n("Ih8g"),le=n("VGIp"),ue={},de=Object(ae.b)("Auto-close old DMs and MPDMs according to certain rules",function(e,t){var n=t(),a=Object(C.a)({state:n,label:"CHECK-FOR-OLD-IMS"});if(!function(e){if(!Object(r.m)(e))return!1;var t=Object(te.a)(Object(u.b)(e),"enterprise_user.teams",[]),n=Object(A.h)(e)||[],a=Object(ee.a)(n,t);return Object($.a)(a)!==Object(se.b)(e)}(n)){var o=[].concat(J()(Object(c.n)(n)),J()(Object(c.l)(n))).filter(function(e){return!Object(d.Eb)(e)&&(Object(d.ob)(e)||Object(d.Kb)(e))});if(o.length<=11)a.info("Within limit: "+o.length);else{var s=o.length-11;a.info("Over by "+s);var l=o.filter(function(e){return function(e,t){return!(Object(d.Db)(t)||Object(d.Pb)(Object(r.b)(e),t)||!Object(d.ob)(t)||Object(d.Kb)(t)||Object(d.y)(e,t.id)||Object(ce.b)(e,t.id)||t.id===Object(i.a)(e))}(n,e)}),b={};l.forEach(function(e){b[e.id]=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=Object(x.h)(e,t.id)||{timestamps:[]},a=parseFloat(Object(d.E)(t,r.timestamps))||Object(d.q)(t),i=new Date(1e3*a);return Object(le.a)(n,i)}(n,e)}),l=l.filter(function(e){return b[e.id]>604800});var p=Object(re.a)(l,function(e){return-1*b[e.id]});Object(ne.a)(p,Math.min(s,10)).forEach(function(t){a.info("Closing "+t.id),e(Object(N.closeChannelApi)({channelId:t.id,reason:"checkForOldImsToClose"}))})}}});Object(p.d)({actions:[oe.a],sideEffect:function(e,t,n){if(Object(V.a)()&&Object(r.i)(n())){var a=Object(se.b)(n());clearInterval(ue[a]),ue[a]=setInterval(function(){window.requestIdleCallback?window.requestIdleCallback(function(){t(de())},{timeout:6e4}):t(de())},9e5)}}}),Object(p.d)({actions:[oe.d],sideEffect:function(e,t,n){if(Object(V.a)()&&Object(r.i)(n())){var a=Object(se.b)(n());clearInterval(ue[a])}}}),Object(ie.a)("checkForOldImsToClose",de);var be=n("90XA"),pe=n("eK5+"),he=n("9mJw"),me=n("AFNo"),fe=n("aK/h"),ve=n("zNK5"),ge=n("4zXV"),_e=n("Zr7G"),Oe=Object(me.f)("Measure the time to hit the api.test endpoint",function(e,t){var n=Object(_e.c)({getState:t});return n.mark("client_stats_api_test_start"),e(Object(ge.b)({method:"api.test",reason:"user-fetch-stats"})).then(function(){n.measureAndClear("client_stats_api_test_start","client_stats_api_test")})}),ye=Object(me.f)("Measure the time to fetch a user from the api",function(e,t){var n=Object(r.b)(t()),a=Object(_e.c)({getState:t});return a.mark("client_stats_users_info_start"),e(Object(ge.b)({method:"users.info",args:{user:n},reason:"user-fetch-stats"})).then(function(){a.measureAndClear("client_stats_users_info_start","client_stats_users_info")})}),je=Object(me.f)("Measure the time to fetch a file from files.slack.com",function(e,t){var n=Object(_e.c)({getState:t});return n.mark("client_stats_files_edgespeed_start"),fetch("//files.slack.com/edgespeed",{mode:"no-cors"}).then(function(){n.measureAndClear("client_stats_files_edgespeed_start","client_stats_files_edgespeed")})}),ke=Object(me.f)("Measure the time to fetch humans.txt from www",function(e,t){var n=Object(_e.c)({getState:t});return n.mark("client_stats_www_humans_start"),fetch("/humans.txt",{mode:"no-cors"}).then(function(){n.measureAndClear("client_stats_www_humans_start","client_stats_www_humans")})}),Ee={},Ce=Object(me.f)("Collect api stats",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).attempt,r=void 0===n?0:n;return e(Object(ve.a)()).then(function(){var n=t();if(r>=10)return null;if("hidden"===document.visibleState){var a=Object(se.b)(n);return Ee[a]||(Ee[a]=setTimeout(function(){clearTimeout(Ee[a]),Ee[a]=null,e(Ce({attempt:r+1}))},6e4)),Ee[a]}return e(Oe()),e(ye()),window.fetch&&(e(je()),e(ke())),null})});Ce.propTypes={attempt:fe.b.number};var Ie=Ce,we=n("YEIV"),Se=n.n(we),Te=n("ifKl"),Re=n("m4Q8"),Ne=n("iEG+"),xe=n("3PKk"),Me=Object(me.f)("Measure the time it takes to fetch via flannel xhr",function(e,t){var n=Object(_e.c)({getState:t}),r=Object(u.b)(t()),a={method:xe.c.MEMBER_INFO,args:{updated_ids:Se()({},r.id,r.updated||0)},reason:"call-flannel-xhr-stats",EXPEDITED:!0};return e(Object(Ne.a)(a)).delay(1e3).then(function(){return n.mark("client_stats_flannel_xhr_fetch_start"),e(Object(Ne.a)(a))}).then(function(){n.measureAndClear("client_stats_flannel_xhr_fetch_start","client_stats_flannel_xhr_fetch")}).catch(Te.a)});Me.propTypes=null;var Pe={},Ae=Object(me.f)("Collect flannel xhr stats",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).attempt,r=void 0===n?0:n;return e(Object(ve.a)()).then(function(){var n=t();if(r>=10)return null;if("hidden"===document.visibleState){var a=Object(se.b)(n);return Pe[a]||(Pe[a]=setTimeout(function(){clearTimeout(Pe[a]),Pe[a]=null,e(Ae({attempt:r+1}))},6e4)),Pe[a]}return e(Object(Re.b)()).then(function(){e(Object(ve.a)()).then(function(){e(Me())})}),null})});Ae.propTypes={attempt:fe.b.number};var De=Ae,Le=Object(me.f)("Measure the time it takes to fetch via flannel xhr",function(e,t){var n=Object(_e.c)({getState:t}),r=Object(u.b)(t()),a={method:xe.a.MEMBER_QUERY,args:{updated_ids:Se()({},r.id,r.updated||0)},attemptNumber:xe.b};return n.mark("client_stats_flannel_fetch_start"),e(Object(xe.f)(a)).then(function(){n.measureAndClear("client_stats_flannel_fetch_start","client_stats_flannel_fetch")}).catch(Te.a)}),qe={},Fe=Object(me.f)("Collect flannel socket stats",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).attempt,r=void 0===n?0:n;return e(Object(oe.s)()).then(function(){var n=t();if(r>=10)return null;if("hidden"===document.visibleState){var a=Object(se.b)(n);return qe[a]||(qe[a]=setTimeout(function(){clearTimeout(qe[a]),qe[a]=null,e(Fe({attempt:r+1}))},6e4)),qe[a]}return e(Le()),null})});Fe.propTypes={attempt:fe.b.number};var Be=Fe,Ue=Object(me.f)("Collect user fetch stats",function(e){e(Ie()),e(De()),e(Be())}),He={},Ke=Object(me.f)("Start initial time period stats collection",function(e,t){var n=t();Object(C.a)({state:n}).info("Will collect additional stats for the first "+Object(he.a)(10,1)+" minutes of this session");var r=Object(se.b)(n);He[r]||(He[r]=setTimeout(function(){clearTimeout(He[r]),He[r]=null,e(Ue())},6e5))}),Ge=25;Object(p.d)({actions:[be.i],sideEffect:function(e,t,n){if(Object(r.j)(n(),"feature_m11n_user_fetch_stats")&&Object(V.a)()&&!e.payload){var a=n();(Object(r.j)(a,"feature_webapp_always_collect_initial_time_period_stats")||Object(pe.a)(Ge))&&t(Ke())}}});var Ve=n("YB7p"),ze=3,Ye={};Object(p.b)([{actions:[oe.u],sideEffect:function(e,t,n){var r=Object(se.b)(n());Ye[r]=(Ye[r]||0)+1,Ye[r]>=ze&&Object(Ve.a)({reason:"Provisional connection timed out "+ze+" in a row",reasonKey:"prov_connection_max_time_out"})}},{actions:[oe.a],sideEffect:function(e,t,n){var r=Object(se.b)(n());Ye[r]=0}}]);var We=n("lDGG"),Qe=n("13mM"),Xe=n("30MO"),Ze=n("+yap");Object(p.d)({actions:[We.b,We.a],sideEffect:function(e,t,n){var a=n();Object(r.j)(a,"feature_degraded_send")&&(Object(Qe.d)(a)?(Object(Ze.g)(),Object(H.d)()):Object(Xe.a)()?Object(Qe.c)(a)?Object(Qe.e)(a)||(Object(Ze.f)(),Object(H.c)({reason:{SERVICE_DOWN:!0}})):(Object(Ze.f)(),Object(H.c)({reason:{API_ERROR:!0}})):(Object(Ze.f)(),Object(H.c)({reason:{OFFLINE:!0}})))}});var Je=n("kxpR"),$e=n.n(Je),et=n("7WZX"),tt=n("DTT0"),nt=n("yU6Y"),rt=n.n(nt),at=n("rWF5"),it=n("cErB"),ot=n("89j2"),st=n("7nxQ");function ct(e){if(Object(it.q)(window.location).deprecation_is_deprecated_ssb)return!0;var t=e();return!!Object(at.u)()&&!(!Object(r.j)(t,"feature_ssb_q218_deprecation")||Object(at.v)("3.0.0"))}function lt(e){if(Object(it.q)(window.location).deprecation_is_outdated_browser)return!0;if(Object(at.u)())return!1;if(Object(r.j)(e(),"feature_deprecate_q119_outdated")){if(rt.a.chrome&&rt.a.version<66)return!0;if(rt.a.firefox&&rt.a.version<60)return!0;if(rt.a.safari&&rt.a.version<10.1)return!0;if(rt.a.msedge&&rt.a.version<16.16299)return!0}return!1}function ut(e){return!!Object(it.q)(window.location).deprecation_is_unsupported_browser||!Object(at.u)()&&(!(!Object(r.j)(e(),"feature_deprecate_q119_unsupported")||rt.a.chrome||rt.a.firefox||rt.a.safari||rt.a.msedge)||!(!Object(r.j)(e(),"feature_deprecate_q119_mobile")||!pt()))}function dt(e){return!!Object(it.q)(window.location).deprecation_is_outdated_os||!!(Object(r.j)(e(),"feature_deprecate_q119_os")&&Object(at.u)()&&"macOS"===rt.a.osname&&Object(ot.a)(Object(ot.b)(rt.a.osversion),Object(ot.b)("10.10"))<0)}function bt(){if(Object(it.q)(window.location).deprecation_is_third_party)return!0;if(navigator.userAgent&&navigator.userAgent.includes){if(navigator.userAgent.includes("Franz"))return!0;if(navigator.userAgent.includes("Rambox"))return!0;if(navigator.userAgent.includes("Station"))return!0}return!1}function pt(){return!!Object(it.q)(window.location).deprecation_is_mobile||!(!rt.a.mobile&&!rt.a.tablet)}function ht(){if(Object(it.q)(window.location).deprecation_can_install_ssb)return!0;if(Object(it.q)(window.location).deprecation_cannot_install_ssb)return!1;if("macOS"===rt.a.osname){var e=Object(ot.b)("10.10"),t=Object(ot.b)(rt.a.osversion);return Object(ot.a)(t,e)>-1}return"Windows"===rt.a.osname?["7","8","8.1","10"].includes(rt.a.osversion):"Linux"===rt.a.osname}function mt(){var e=Object(st.f)();return"en-US"===e?"https://slack.com/downloads":"https://slack.com/intl/"+e+"/downloads"}function ft(){if(window.process&&window.process.mas)return"macappstore://itunes.apple.com/app/slack/id803453959";if(window.process&&window.process.windowsStore)return"ms-windows-store://pdp/?ProductId=9wzdncrdk3wp";var e=!1,t="";if(Object(at.p)()?e="osx":Object(at.B)()?(e="windows",t=Object(at.A)()?"windows_64":"windows"):Object(at.o)()&&(e=!1),!e)return mt();var n=mt()+"/instructions/"+e;return n=Object(it.o)(n,"os",e),t&&(n=Object(it.o)(n,"build_architecture",t)),n}var vt=n("82mD"),gt=n("iCc5"),_t=n.n(gt),Ot=n("V7oC"),yt=n.n(Ot),jt=n("FYw3"),kt=n.n(jt),Et=n("mRg0"),Ct=n.n(Et),It=n("XHGt"),wt=n("nNoG"),St=n("qafc"),Tt=n("0f2Y"),Rt=new wt.b("deprecation"),Nt=(fe.b.bool,fe.b.func,fe.b.object,{featureSsbQ218Deprecation:!1,onCloseComplete:Te.a,telemeter:{count:Te.a}}),xt=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=n.onLinkClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"onLinkClick",value:function(){this.props.telemeter.count("deprecation_toast_click_ssb"),this.ref.current&&this.ref.current.getWrappedInstance()&&this.ref.current.getWrappedInstance().hideToast()}},{key:"render",value:function(){return this.props.featureSsbQ218Deprecation?$e.a.createElement(St.b,{shouldAutoFade:!1,ref:this.ref,onCloseComplete:this.props.onCloseComplete},$e.a.createElement("div",null,$e.a.createElement("strong",null,Rt.t("This is an out-of-date version of Slack.",{fallbackHash:"50ebb2ef5c811360b7496e2bec13c28583af12e8"})),$e.a.createElement("br",null),$e.a.createElement(Tt.a,{href:ft(),onClick:this.onLinkClick},Rt.t("Update now")))):null}}]),t}(Je.Component);xt.displayName="SSBDeprecationToast",xt.defaultProps=Nt;var Mt=Object(It.b)(function(e){return{featureSsbQ218Deprecation:Object(r.j)(e,"feature_ssb_q218_deprecation"),telemeter:Object(_e.c)({state:e})}})(xt),Pt=n("U3Q0"),At=new wt.b("deprecation"),Dt=(fe.b.bool,fe.b.object,{featureSsbQ218DeprecationModal:!1,telemeter:{count:Te.a}}),Lt=function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"onGo",value:function(){this.props.telemeter.count("deprecation_modal_click_ssb"),window.open(ft())}},{key:"render",value:function(){return this.props.featureSsbQ218DeprecationModal?$e.a.createElement(Pt.a,{title:At.t("This is an out-of-date version of Slack"),cancelText:At.t("Skip for Now"),goButtonText:At.t("Update the App"),onGo:this.onGo},$e.a.createElement("div",null,$e.a.createElement("p",null,At.t("We\u2019ve released a new version of Slack with an assortment of bug fixes and an all-around smoother experience.")),$e.a.createElement("p",null,At.rt("To continue using Slack, please update your version of the app immediately. Feel free to <a>contact us</a> if you have any questions.",{fallbackHash:"c9631f01ab6b932241f68aa1de3b1f179c33aceb"},function(e){var t=e.text;return $e.a.createElement(Tt.a,{href:"https://my.slack.com/help/requests/new"},t)})))):null}}]),t}(Je.Component);Lt.displayName="SSBDeprecationModal",Lt.defaultProps=Dt;var qt=Object(It.b)(function(e){return{featureSsbQ218DeprecationModal:Object(r.j)(e,"feature_ssb_q218_deprecation_modal"),telemeter:Object(_e.c)({state:e})}})(Lt),Ft=n("81nI"),Bt=new wt.b("deprecation"),Ut=(fe.b.bool,fe.b.bool,fe.b.bool,fe.b.func,fe.b.object,{canInstallSSB:!1,isThirdParty:!1,featureDeprecateQ119OutdatedToast:!1,onCloseComplete:Te.a,telemeter:{count:Te.a}}),Ht=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=n.onLinkClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"onLinkClick",value:function(){this.props.telemeter.count("deprecation_toast_click_outdated"),this.ref.current&&this.ref.current.getWrappedInstance()&&this.ref.current.getWrappedInstance().hideToast()}},{key:"render",value:function(){if(!this.props.featureDeprecateQ119OutdatedToast)return null;var e=Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()}),t=void 0;return t=this.props.isThirdParty?Bt.t("You\u2019re accessing Slack with a third-party app that is out-of-date."):this.props.canInstallSSB?Bt.t("This browser is out-of-date. Please update or switch to the Slack app."):Bt.t("This browser is out-of-date and needs to be updated soon."),$e.a.createElement(St.b,{shouldAutoFade:!1,ref:this.ref,onCloseComplete:this.props.onCloseComplete},$e.a.createElement("div",null,$e.a.createElement("strong",null,t)," ",$e.a.createElement(Tt.a,{href:e,onClick:this.onLinkClick},Bt.t("Learn more"))))}}]),t}(Je.Component);Ht.displayName="OutdatedBrowserToast",Ht.defaultProps=Ut;var Kt=Object(It.b)(function(e){return{featureDeprecateQ119OutdatedToast:Object(r.j)(e,"feature_deprecate_q119_outdated_toast"),telemeter:Object(_e.c)({state:e})}})(Ht),Gt=new wt.b("deprecation"),Vt=(fe.b.bool,fe.b.bool,fe.b.bool,fe.b.bool,fe.b.func,fe.b.object,{canInstallSSB:!1,isMobile:!1,featureDeprecateQ119UnsupportedToast:!1,featureDeprecateQ119Mobile:!1,onCloseComplete:Te.a,telemeter:{count:Te.a}}),zt=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=n.onLinkClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"onLinkClick",value:function(){this.props.telemeter.count("deprecation_toast_click_unsupported"),this.ref.current&&this.ref.current.getWrappedInstance()&&this.ref.current.getWrappedInstance().hideToast()}},{key:"render",value:function(){if(!this.props.featureDeprecateQ119UnsupportedToast)return null;var e=Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()}),t=void 0;return this.props.isMobile?this.props.featureDeprecateQ119Mobile&&(t=Gt.t("This browser is no longer supported. Please download the app.")):t=this.props.canInstallSSB?Gt.t("This browser is no longer supported. Please switch browsers or download the app."):Gt.t("This browser is no longer supported \u2014 please switch browsers soon."),$e.a.createElement(St.b,{shouldAutoFade:!1,ref:this.ref,onCloseComplete:this.props.onCloseComplete},$e.a.createElement("div",null,$e.a.createElement("strong",null,t)," ",$e.a.createElement(Tt.a,{href:e,onClick:this.onLinkClick},Gt.t("Learn more"))))}}]),t}(Je.Component);zt.displayName="UnsupportedBrowserToast",zt.defaultProps=Vt;var Yt=Object(It.b)(function(e){return{featureDeprecateQ119UnsupportedToast:Object(r.j)(e,"feature_deprecate_q119_unsupported_toast"),featureDeprecateQ119Mobile:Object(r.j)(e,"feature_deprecate_q119_mobile"),telemeter:Object(_e.c)({state:e})}})(zt),Wt=new wt.b("deprecation"),Qt=(fe.b.bool,fe.b.func,fe.b.object,{featureDeprecateQ119OsToast:!1,onCloseComplete:Te.a,telemeter:{count:Te.a}}),Xt=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=n.onLinkClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"onLinkClick",value:function(){this.props.telemeter.count("deprecation_toast_click_os"),this.ref.current&&this.ref.current.getWrappedInstance()&&this.ref.current.getWrappedInstance().hideToast()}},{key:"render",value:function(){if(!this.props.featureDeprecateQ119OsToast)return null;var e=Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()}),t=Wt.t("This operating system is no longer supported \u2014 please update soon.");return $e.a.createElement(St.b,{shouldAutoFade:!1,ref:this.ref,onCloseComplete:this.props.onCloseComplete},$e.a.createElement("div",null,$e.a.createElement("strong",null,t)," ",$e.a.createElement(Tt.a,{href:e,onClick:this.onLinkClick},Wt.t("Learn more"))))}}]),t}(Je.Component);Xt.displayName="OutdatedOSToast",Xt.defaultProps=Qt;var Zt=Object(It.b)(function(e){return{featureDeprecateQ119OsToast:Object(r.j)(e,"feature_deprecate_q119_os_toast"),telemeter:Object(_e.c)({state:e})}})(Xt),Jt=new wt.b("deprecation"),$t=(fe.b.bool,fe.b.bool,fe.b.bool,fe.b.object,{canInstallSSB:!1,isThirdParty:!1,featureDeprecateQ119Modal:!1,telemeter:{count:Te.a}}),en=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onGo=n.onGo.bind(n),n}return Ct()(t,e),yt()(t,[{key:"onGo",value:function(){var e=this.props,t=e.isThirdParty,n=e.canInstallSSB,r=e.telemeter;t?r.count("deprecation_modal_click_thirdparty"):r.count("deprecation_modal_click_outdated"),n?window.open(ft()):window.open(this.getHelpCenterUrl())}},{key:"getHelpCenterUrl",value:function(){return Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()})}},{key:"renderThirdParty",value:function(){var e=this;if(!this.props.featureDeprecateQ119Modal)return null;var t=this.props.canInstallSSB;return $e.a.createElement(Pt.a,{title:Jt.t("This app is out-of-date"),cancelText:Jt.t("Skip for Now"),goButtonText:t?Jt.t("Use the Slack App"):Jt.t("Learn More"),onGo:this.onGo},$e.a.createElement("div",null,$e.a.createElement("p",null,Jt.t("You\u2019re using a third-party app to access Slack, and it\u2019s now out-of-date. We know it\u2019s a hassle to update or switch apps, but we want your experience of Slack to be fast, secure, and the best it can possibly be.")),$e.a.createElement("p",null,t?Jt.rt("<strong>Please update your third-party app, if possible, to continue using Slack.</strong> Or, for the finest Slack experience, we recommend switching to the <download>Slack desktop app</download> \u2014 which handily includes automatic updates!",{},function(e){var t=e.tag,n=e.text;return"download"===t&&$e.a.createElement(Tt.a,{href:mt()},n)}):Jt.rt("Please update your third-party app, if possible, to continue using Slack. You can also switch to using Slack in one of our <hc>supported browsers</hc>, if you\u2019d prefer.",{},function(t){var n=t.tag,r=t.text;return"hc"===n&&$e.a.createElement(Tt.a,{href:e.getHelpCenterUrl()},r)})),$e.a.createElement("p",null,Jt.rt("Feel free to <contact>contact us</contact> if you have any questions.",{},function(e){var t=e.tag,n=e.text;return"contact"===t&&$e.a.createElement(Tt.a,{href:"https://my.slack.com/help/requests/new"},n)}))))}},{key:"render",value:function(){var e=this;if(!this.props.featureDeprecateQ119Modal)return null;var t=this.props,n=t.canInstallSSB;return t.isThirdParty?this.renderThirdParty():$e.a.createElement(Pt.a,{title:Jt.t("This browser is out-of-date"),cancelText:Jt.t("Skip for Now"),goButtonText:n?Jt.t("Use the Slack App"):Jt.t("Learn More"),onGo:this.onGo},$e.a.createElement("div",null,$e.a.createElement("p",null,Jt.t("We know it\u2019s a hassle to upgrade, but we want your experience of Slack to be fast, secure, and the best it can possibly be.")),$e.a.createElement("p",null,Jt.rt("<strong>To continue using Slack, please upgrade to a newer version of one of our <hc>supported browsers</hc> by March 15.</strong> As always, feel free to <contact>contact us</contact> if you have any questions.",{},function(t){var n=t.tag,r=t.text;return"contact"===n?$e.a.createElement(Tt.a,{href:"https://my.slack.com/help/requests/new"},r):"hc"===n&&$e.a.createElement(Tt.a,{href:e.getHelpCenterUrl()},r)})),n&&$e.a.createElement("p",null,Jt.t("For the finest Slack experience, we recommend using our desktop app: You\u2019ll get greater control over your notifications, easy switching between teams, and \u2014 handily \u2014 automatic updates!"))))}}]),t}(Je.Component);en.displayName="OutdatedBrowserModal",en.defaultProps=$t;var tn=Object(It.b)(function(e){return{featureDeprecateQ119Modal:Object(r.j)(e,"feature_deprecate_q119_modal"),telemeter:Object(_e.c)({state:e})}})(en),nn=new wt.b("deprecation"),rn=(fe.b.bool,fe.b.bool,fe.b.object,{canInstallSSB:!1,featureDeprecateQ119Modal:!1,telemeter:{count:Te.a}}),an=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onGo=n.onGo.bind(n),n}return Ct()(t,e),yt()(t,[{key:"onGo",value:function(){var e=this.props.canInstallSSB;this.props.telemeter.count("deprecation_modal_click_unsupported"),e?window.open(ft()):window.open(this.getHelpCenterUrl())}},{key:"getHelpCenterUrl",value:function(){return Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()})}},{key:"render",value:function(){var e=this;if(!this.props.featureDeprecateQ119Modal)return null;var t=this.props.canInstallSSB;return $e.a.createElement(Pt.a,{title:nn.t("This browser is no longer supported"),cancelText:nn.t("Skip for Now"),goButtonText:t?nn.t("Use the Slack App"):nn.t("Learn More"),onGo:this.onGo},$e.a.createElement("div",null,$e.a.createElement("p",null,nn.t("We know it\u2019s a hassle to change browsers, but we want your experience of Slack to be fast, secure, and the best it can possibly be.")),$e.a.createElement("p",null,nn.rt("<strong>To continue using Slack, please switch to one of our <hc>supported browsers</hc> by March 15.</strong> As always, feel free to <contact>contact us</contact> if you have any questions.",{},function(t){var n=t.tag,r=t.text;return"contact"===n?$e.a.createElement(Tt.a,{href:"https://my.slack.com/help/requests/new"},r):"hc"===n&&$e.a.createElement(Tt.a,{href:e.getHelpCenterUrl()},r)})),t&&$e.a.createElement("p",null,nn.t("For the finest Slack experience, we recommend using our desktop app: You\u2019ll get greater control over your notifications, easy switching between teams, and \u2014 handily \u2014 automatic updates!"))))}}]),t}(Je.Component);an.displayName="UnsupportedBrowserModal",an.defaultProps=rn;var on=Object(It.b)(function(e){return{featureDeprecateQ119Modal:Object(r.j)(e,"feature_deprecate_q119_modal"),telemeter:Object(_e.c)({state:e})}})(an),sn=new wt.b("deprecation"),cn=(fe.b.bool,fe.b.object,{featureDeprecateQ119Modal:!1,telemeter:{count:Te.a}}),ln=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onGo=n.onGo.bind(n),n}return Ct()(t,e),yt()(t,[{key:"onGo",value:function(){this.props.telemeter.count("deprecation_modal_click_os"),window.open(this.getHelpCenterUrl())}},{key:"getHelpCenterUrl",value:function(){return Object(Ft.b)({articleId:"115002037526",zdLocale:Object(st.a)()})}},{key:"render",value:function(){var e=this;return this.props.featureDeprecateQ119Modal?$e.a.createElement(Pt.a,{title:sn.t("This operating system is no longer supported"),truncateTitle:!1,cancelText:sn.t("Skip for Now"),goButtonText:sn.t("Learn More"),onGo:this.onGo},$e.a.createElement("div",null,$e.a.createElement("p",null,sn.t("We know it\u2019s a hassle to run an update, but we want your experience of Slack to be fast, secure, and the best it can possibly be.")),$e.a.createElement("p",null,sn.rt("<strong>To continue using Slack, please <hc>update your computer\u2019s operating system</hc> by March 15.</strong> As always, feel free to <contact>contact us</contact> if you have any questions.",{},function(t){var n=t.tag,r=t.text;return"contact"===n?$e.a.createElement(Tt.a,{href:"https://my.slack.com/help/requests/new"},r):"hc"===n&&$e.a.createElement(Tt.a,{href:e.getHelpCenterUrl()},r)})))):null}}]),t}(Je.Component);ln.displayName="OudatedOSModal",ln.defaultProps=cn;var un=Object(It.b)(function(e){return{featureDeprecateQ119Modal:Object(r.j)(e,"feature_deprecate_q119_modal"),telemeter:Object(_e.c)({state:e})}})(ln),dn=604800,bn=86400;function pn(e){return Object(vt.e)()-Object(f.g)(e(),"deprecation_toast_last_seen")<dn}function hn(e){return Object(vt.e)()-Object(f.g)(e(),"deprecation_modal_last_seen")<bn}function mn(){var e=Object(vt.e)();return Object(vt.n)(e).getHours()>=12}function fn(e){e(Object(_.f)({pref:"deprecation_toast_last_seen",value:Object(vt.e)()}))}function vn(e){e(Object(_.f)({pref:"deprecation_modal_last_seen",value:Object(vt.e)()}))}function gn(e,t){var n=Object(_e.c)({getState:t});return function(e){return!!Object(it.q)(window.location).deprecation_show_ssb_modal||!!ct(e)&&!!Object(r.j)(e(),"feature_ssb_q218_deprecation_modal")&&!hn(e)&&!!mn()}(t)?(vn(e),e(Object(tt.e)({element:$e.a.createElement(qt,null)})),n.count("deprecation_modal_ssb"),!0):function(e){return!!Object(it.q)(window.location).deprecation_show_outdated_browser_modal||!!lt(e)&&!!Object(r.j)(e(),"feature_deprecate_q119_modal")&&!hn(e)&&!!mn()}(t)?(vn(e),e(Object(tt.e)({element:$e.a.createElement(tn,{canInstallSSB:ht(),isThirdParty:bt()})})),bt()?n.count("deprecation_modal_thirdparty"):n.count("deprecation_modal_outdated"),!0):function(e){return!!Object(it.q)(window.location).deprecation_show_unsupported_browser_modal||!!ut(e)&&!!Object(r.j)(e(),"feature_deprecate_q119_modal")&&!hn(e)&&!!mn()}(t)?(vn(e),e(Object(tt.e)({element:$e.a.createElement(on,{canInstallSSB:ht()})})),n.count("deprecation_modal_unsupported"),!0):!!function(e){return!!Object(it.q)(window.location).deprecation_show_outdated_os_modal||!!dt(e)&&!!Object(r.j)(e(),"feature_deprecate_q119_modal")&&!hn(e)&&!!mn()}(t)&&(vn(e),e(Object(tt.e)({element:$e.a.createElement(un,null)})),n.count("deprecation_modal_os"),!0)}function _n(e,t){var n=Object(_e.c)({getState:t});return function(e){return!!Object(it.q)(window.location).deprecation_show_ssb_toast||!!ct(e)&&!Object(r.j)(e(),"feature_ssb_q218_deprecation_modal")&&!pn(e)&&!!mn()}(t)?(fn(e),e(Object(et.c)({element:$e.a.createElement(Mt,null)})),n.count("deprecation_toast_ssb"),!0):function(e){return!(!Object(it.q)(window.location).deprecation_show_outdated_browser_toast&&(!lt(e)||!Object(r.j)(e(),"feature_deprecate_q119_outdated_toast")||Object(r.j)(e(),"feature_deprecate_q119_modal")||pn(e)||!mn()))}(t)?(fn(e),e(Object(et.c)({element:$e.a.createElement(Kt,{canInstallSSB:ht(),isThirdParty:bt()})})),n.count("deprecation_toast_outdated"),!0):function(e){return!(!Object(it.q)(window.location).deprecation_show_unsupported_browser_toast&&(!ut(e)||!Object(r.j)(e(),"feature_deprecate_q119_unsupported_toast")||Object(r.j)(e(),"feature_deprecate_q119_modal")||pn(e)||!mn()))}(t)?(fn(e),e(Object(et.c)({element:$e.a.createElement(Yt,{canInstallSSB:ht(),isMobile:pt()})})),n.count("deprecation_toast_unsupported"),!0):!!function(e){return!(!Object(it.q)(window.location).deprecation_show_outdated_os_toast&&(!dt(e)||!Object(r.j)(e(),"feature_deprecate_q119_os_toast")||Object(r.j)(e(),"feature_deprecate_q119_modal")||pn(e)||!mn()))}(t)&&(fn(e),e(Object(et.c)({element:$e.a.createElement(Zt,null)})),n.count("deprecation_toast_os"),!0)}var On=Object(ae.b)("shows a deprecation warning if and when appropriate",function(e,t){return!!Object(r.i)(t())&&(!!gn(e,t)||!!_n(e,t))});Object(p.d)({actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=(0,arguments[2])();e||Object(oe.k)(n)&&Object(M.g)(n)&&t(On())}}),Object(p.d)({actions:[M.f],sideEffect:function(e,t,n){var r=n();Object(M.g)(r)&&Object(oe.D)(r)&&t(On())}});var yn=n("9/DQ"),jn=n("g5qt"),kn=n("HvGc"),En="DESKTOP-SIDE-EFFECT";Object(p.a)({actions:[yn.s],sideEffect:function(e){Object(C.a)().info(En,"Update from desktop for keys ",Object.keys(e.payload))}});var Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actions,n=e.sideEffect;return Object(p.d)({actions:t,sideEffect:function(e,t,r){return Object(C.a)({getState:r}).info(En,"Reacting to ",e),n(e,t,r)}})};Cn({actions:[yn.r],sideEffect:function(e,t,n){var a=e.payload,i=a.fileId,o=a.downloadUrl,s=a.showFlexpane,c=n(),l=Object(se.b)(c),u=Object(r.b)(c);o||Object(C.a)({getState:n}).error(En,"Received startDesktopDownload with missing url"),s&&t(Object(kn.f)()),Object(yn.f)(c).includes(i)&&t(Object(yn.h)(i)),Object(jn.Hb)({id:i,teamId:l,url:o,userId:u})}});var In=function(e,t){Cn({actions:[e],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,n=(arguments[1],arguments[2]),r=Object(se.b)(n());t(e,r)}})};In(yn.q,jn.Cb),In(yn.k,jn.kb),In(yn.a,jn.k),In(yn.o,jn.rb),In(yn.m,jn.ob),In(yn.n,jn.qb),In(yn.l,jn.mb),Cn({actions:[yn.b],sideEffect:function(e,t,n){return Object(jn.m)(Object(se.b)(n()))}});var wn=n("b/1L"),Sn=n("ECi3");Object(p.b)([{actions:[oe.w],sideEffect:function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1];Object(Sn.b)(e)?t(Object(Sn.a)(e)):t(Object(wn.e)(e))}.apply(void 0,arguments)}},{actions:[oe.c],sideEffect:function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;(0,arguments[1])(Object(wn.f)(e))}.apply(void 0,arguments)}},{actions:[oe.x],sideEffect:function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;(0,arguments[1])(Object(wn.c)(e))}.apply(void 0,arguments)}}]);var Tn=n("mkut"),Rn=n("fujP"),Nn=n("tZRu"),xn=n("BicV"),Mn=n("jKkg");Object(p.d)({actions:[oe.a,Nn.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2],a=n();if(Object(r.j)(a,"feature_sonic_dnd_manager")&&!e){var i=Object(Tn.a)(Object(xn.b)(a));Object(Rn.a)(i)||(Object(C.a)({getState:n}).info("DND","Flushing and fetching fresh DND times for the following members after connecting to the websocket: "+i),t(Object(xn.g)({memberIds:i})),t(Object(xn.k)({snoozeEnabled:!1,snoozeEndTs:void 0})),t(Object(Mn.c)()))}}});var Pn,An=n("9oTK"),Dn=n("ZAxE"),Ln=n("aa+J"),qn=n("hmiP"),Fn=n("9svP"),Bn=(Pn=Object(An.coroutine)(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),Vn(r)){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return a=Object(C.a)({state:r,label:Un}),i=Object(_e.c)({getState:n}),a.info("Checking for EKM change events"),i.count("hc_check_ekm"),e.next=10,Object(An.resolve)(t(Object(Dn.c)()).tap(function(){i.count("hc_check_ok")}).catch(function(e){var t=e&&e.message?e.message:"unknown_error";return i.count("hc_check_error"),i.count("hc_check_error_"+t),a.warn("Checking for changes failed due to "+t),{ekmChangeTimestamp:void 0}}));case 10:if(o=e.sent,s=o.ekmChangeTimestamp){e.next=14;break}return e.abrupt("return",Promise.resolve());case 14:return c=Object(qn.b)(r),a.info("Last ekm change known - "+c+"; Latest ekm change - "+s),parseFloat(s)>parseFloat(c)&&(i.count("hc_clear_cache_ekm"),a.info("EKM clear cache event occurred"),Object(V.a)()?(jn.X&&(a.info("Clearing desktop file cache"),Object(jn.l)()),Object(Ve.a)({reason:"EKM change at "+s,reasonKey:"ekm_change"})):Object(Ve.b)({reason:"EKM change at "+s,reasonKey:"ekm_change"})),e.abrupt("return",Promise.resolve());case 19:case"end":return e.stop()}},e,this)})),function(e,t){return Pn.apply(this,arguments)}),Un="EKM-CHANGES",Hn={},Kn=288e5,Gn=5e3;function Vn(e){return Object(r.i)(e)&&Object(Ln.b)(e)}function zn(e){return!!Hn[e]}function Yn(e,t,n){var a=n(),i=Object(se.b)(a);!function(e){return Vn(e)}(a)?function(e,t){if(!zn(e))return;clearInterval(Hn[e]),delete Hn[e],Object(C.a)({state:t(),label:Un}).info("Stopped polling conversation.historyChanges API for team "+e)}(i,n):function(e,t,n){if(zn(e))return;var a=n(),i=Object(C.a)({state:a,label:Un}),o=Object(Fn.a)(function(e){return Object(r.j)(e,"feature_ekm_message_revocation_polling_test")?Gn:Kn}(a),.8,1.2);Hn[e]=setInterval(function(){Bn.call({},t,n),i.info("Called conversation.historyChanges API from poller for team "+e)},o),i.info("Started polling conversation.historyChanges API for team "+e+" on an interval of "+o+" ms.")}(i,t,n)}Object(p.b)([{actions:[oe.a,Nn.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];if(!e){var r=n();Vn(r)&&(Object(oe.k)(r)&&(Yn(0,t,n),!Object(V.a)())||Bn(t,n))}}},{actions:[Ln.c],sideEffect:Yn}]);var Wn=n("aaWX");Object(p.b)([{actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=(arguments[1],arguments[2]);Object(Wn.b)(t,e)}},{actions:[oe.d],sideEffect:function(e,t,n){Object(Wn.c)(n)}},{actions:[Nn.b],sideEffect:function(e,t,n){var r=n(),a=Object(be.f)(r);a&&Object(Wn.e)(n,{start:a})}},{actions:[oe.x],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=(arguments[1],arguments[2]);Object(Wn.d)(t,e)}}]),Object(p.d)({actions:[be.e],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;Object(Ve.a)({reason:"eventlog.history "+(e||"no reason provided"),reasonKey:"eventlog_gap"})}});var Qn=n("9HJ0"),Xn=n("0Syo");Object(p.d)({actions:[Qn.e,Qn.a],sideEffect:function(e,t,n){var r=n();Object(Xn.f)(Object(Qn.c)(r))}});var Zn=n("Tg3t"),Jn=n("P2f5"),$n=n("rO6I");Object(p.d)({actions:[Jn.a],sideEffect:function(e,t,n){var r=n(),a=e.payload.id;if(Object(Zn.c)(r,a)===Zn.a.REFRESHING){var i=Object(Zn.d)(r,a);i&&clearTimeout(i);var o=setTimeout(function(){return t(Object(Zn.g)({fileId:a,timeout:o}))},$n.a);t(Object(Zn.e)({fileId:a}))}}});var er=n("yJbr");function tr(e,t,n){var r=n();e.forEach(function(e){var t=Object(Jn.h)(r,e);Object(er.d)(t)})}Object(p.d)({actions:[Jn.a],sideEffect:function(e,t,n){var r=e.payload;r&&tr([r.id],0,n)}}),Object(p.d)({actions:[Jn.b],sideEffect:function(e,t,n){var r=e.payload;r&&tr(r.map(function(e){return e.id}),0,n)}}),Object(p.d)({actions:[yn.p],sideEffect:function(e,t,n){var r=n();Object(j.b)(r)&&Object(te.a)(window,"desktop.app.updateDragRegion")&&Object(se.b)(r)===e.payload&&(Object(C.a)({getState:n}).info("GLOBAL-NAV","Resetting SSB drag region"),window.desktop.app.updateDragRegion([]))}}),Object(p.d)({actions:[q.c],sideEffect:function(e,t,n){var a="isTitleBarForcedByUser";if(Object(jn.S)(a)){var i=n();if(Object(j.b)(i))!0!==Object(jn.J)(a)&&(Object(jn.wb)({name:a,value:!0}),Object(C.a)({getState:n}).info("GLOBAL-NAV","Enabling desktop UI frame changes for next boot"));else if(Object(r.j)(i,"feature_global_nav_rollback")){if(!1===Object(jn.J)(a))return;Object(jn.wb)({name:a,value:!1}),Object(C.a)({getState:n}).info("GLOBAL-NAV","Resetting Desktop Nav SSB frame changes")}}}});var nr=n("QbLZ"),rr=n.n(nr),ar=n("Dpjh"),ir=n("ROZo"),or=(Object(ir.b)("TS.ui.fs_modal.isShowing",function(){return null}),Object(ir.b)("TS.ui.fs_modal.close",function(){return null}),Object(ir.b)("TS.ui.fs_modal.start",function(){return null})),sr=n("x4bP"),cr=n("lhZz"),lr=n("XR+X"),ur=n("IY6O"),dr=n("4ULK");var br=Object(ae.b)("Handles an active enterprise migration",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.data,i=void 0===a?{}:a,o=n.method,s=t(),c=Object(sr.a)()?"allow_reload":void 0,l=Object(r.d)(s,"api_active_migration_error_response_type")||c,u=Object(se.b)(s),d=function(e){if(!Object(V.a)())return!1;var t=Object(cr.getClientStoreInstance)();return!!t&&!Object(ur.isWorkspaceBooted)(t.getState(),e)}(u)||Object(r.d)(s,"ignore_api_active_migration_error"),b=Object(C.a)({getState:t});if(Object(sr.a)()&&Object(dr.a)(u),!l)return b.info("MIGRATION",'API returned "active_migration" (enterprise org migration) for '+o+" - not alerting or reloading because no api_active_migration_error_response_type set.",i),!0;if(d)return b.info("MIGRATION",'API returned "active_migration" (enterprise org migration) for '+o+' - skipping "'+l+'" because ignore_api_active_migration_error set.',i),!0;switch(l){case"allow_reload":Object(r.d)(s,"active_migration_reload_underway")||(b.warn('About to reload because API returned "active_migration" (enterprise org migration) for '+o+" and api_active_migration_error_response_type allows reload.",i),e(Object(r.o)(rr()({},s.bootData,{active_migration_reload_underway:!0}))),Object(Ve.b)({msg:!1,reason:'API returned "active_migration" (enterprise org migration) for '+o+" and api_active_migration_error_response_type allows reload",reasonKey:"active_migration_underway"}));break;case"show_dialog":Object(r.d)(s,"user_saw_migration_dialog")?b.info("MIGRATION",'API returned "active_migration" (enterprise org migration) for '+o+", but user has already seen dialog. Doing nothing."):(b.info("MIGRATION",'API returned "active_migration" (enterprise org migration) for '+o+". Showing migration dialog."),or({title:"This team is joining an Enterprise Organization!",body:"Apologies for the interruption. This team is currently being migrated into "+(i.enterprise_name?"the <b>"+Object(ar.a)(i.enterprise_name)+"</b> Organization":"an Organization")+", which can take some time to complete. In the meantime, you won\u2019t be able to use it, but we\u2019ll email you once it\u2019s done.",show_cancel_button:!1,show_go_button:!1,disable_default_controls:!0,disable_esc:!0}),e(Object(r.o)(rr()({},s.bootData,{user_saw_migration_dialog:!0}))));break;default:b.warn('API returned "active_migration" (enterprise org migration) for '+o+', but api_active_migration_error_response_type of "'+l+'" not recognized - doing nothing.',i)}return!0});br.propTypes={data:fe.b.object,method:fe.b.string},Object(p.d)({actions:[lr.a],sideEffect:function(e,t){t(br(e.payload))}});var pr=n("fL8H"),hr=n("5mKg"),mr=n("JtEI"),fr=n("DlLn"),vr=new wt.b("client"),gr=(fe.b.object.isRequired,function(){Object(fr.d)("/"+Object(mr.c)())}),_r=function(e){var t=e.team;return $e.a.createElement(pr.a,{onClose:gr,showCancelButton:!1,title:""},vr.rt("You have been removed from <strong>{team_name}</strong>.",{team_name:Object(hr.e)(t)}))};_r.displayName="UserRemovedFromTeamAlertDialog";var Or=_r,yr=Object(ir.b)("TS.maybeShowRateLimitedDialog"),jr=n("BeG2"),kr=new wt.b("access_limited"),Er=function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"render",value:function(){return $e.a.createElement(Pt.a,{onClose:this.props.onClose,showCancelButton:!1,goButtonText:kr.t("Try Again"),title:kr.t("Your current network has blocked this workspace."),truncateTitle:!1},$e.a.createElement(Je.Fragment,null,kr.t("Your current network will only allow you to access certain Slack workspaces (usually, just the ones you use for work)."),$e.a.createElement("br",null),$e.a.createElement("br",null),kr.t("To get connected, change networks and try again.")))}}]),t}(Je.Component);Er.displayName="AccessLimitedDialog",Er.defaultProps={onClose:Te.a};var Cr=Er,Ir=n("ynxK"),wr=new wt.b("access_limited"),Sr=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCloseComplete=n.onCloseComplete.bind(n),n.onLinkClick=n.onLinkClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"onCloseComplete",value:function(){this.props.onClose()}},{key:"onLinkClick",value:function(){this.ref.current&&this.ref.current.getWrappedInstance()&&this.ref.current.getWrappedInstance().hideToast()}},{key:"render",value:function(){var e=this;return $e.a.createElement(St.b,{ref:this.ref,shouldAutoFade:!1,showCloseButton:!1,onCloseComplete:this.onCloseComplete},$e.a.createElement("div",null,wr.rt("<strong>Your current network has blocked this workspace.</strong> Your current network will only allow you to access certain Slack workspaces (usually, just the ones you use for work). To get connected, change networks and <a>try again</a>.",null,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tag,r=t.text;return"strong"===n?$e.a.createElement("strong",null,r):$e.a.createElement(Ir.a,{onClick:e.onLinkClick},r)})))}}]),t}(Je.Component);Sr.displayName="AccessLimitedToast",Sr.defaultProps={onClose:Te.a};var Tr=Sr,Rr={},Nr=Object(me.f)("Opens a modal to notify user that Slack access has been limited on this network",function(e,t){var n=t(),r=Object(se.b)(n);if(!Rr[r]){Rr[r]=!0,e(Object(ve.e)()),e(Object(jr.f)());var a=function(){Object(V.a)()&&e(Object(et.b)()),Rr[r]=!1,e(Object(jr.a)()),e(Object(ve.d)()),e(Object(jr.j)())};Object(V.a)()?e(Object(et.c)({element:$e.a.createElement(Tr,{onClose:a})})):e(Object(tt.e)({element:$e.a.createElement(Cr,{onClose:a})}))}}),xr=n("D4L/"),Mr=!1,Pr=Object(ae.b)("Handle when a user is removed from a team",function(e,t){var n=t(),r=Object(xr.d)(n);Mr||(Mr=!0,Object(C.a)({getState:t}).warn("You have been removed from the "+Object(hr.e)(r)+" workspace."),Object(sr.a)()?e(Object(tt.e)({element:$e.a.createElement(Or,{team:r})})):Object(H.j)(r.id))});Pr.propTypes=fe.b.string;var Ar=Object(ae.b)("Handle invalid auth by refetching or reloading",function(e,t,n){Object(at.l)("3.0.0")&&Object(M.h)(t())||(Object(jn.U)(),Object(sr.a)()?(Object(C.a)({getState:t}).info("Fetching auth due to invalid_auth error"),Object(fr.d)("/"+Object(mr.c)())):Object(Ve.b)({reason:"Reloading due to error "+n,reasonKey:"invalid_auth"}))});Ar.propTypes=fe.b.string;var Dr=Object(ae.b)("Handle when a user is removed from a team",function(e,t,n){var r=Object(C.a)({getState:t});switch(r.info("Handling start error '"+n+"'"),n){case"user_removed_from_team":return e(Pr(n));case"account_inactive":case"team_disabled":case"invalid_auth":return e(Ar(n));case"two_factor_setup_required":return function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error("2FA required - redirecting to gantry auth");var e=Object(fr.f)(window.location.pathname);try{window.location.assign(e)}catch(t){location=e}return null}(r);case"force_reload":return void Object(Ve.b)({noCache:!0,reason:"forceReloadWithReason",reasonKey:"start_error_force_reload"});case"clear_cache":case"org_login_required":case"team_added_to_org":if(Object(sr.a)()){r.info("Re-fetching auth and forcing cold boot due to start error: "+n);var a=Object(it.o)(location.search+location.hash,"force_cold_boot",1);return Object(fr.d)(a)}return function(e){Object(Ve.a)({reason:"Cold booting due to '"+e+"' error",reasonKey:"start_error_"+e})}(n);case"ratelimited":return void yr();case"accesslimited":return function(e){e(Nr())}(e);default:var i="Unknown start error '"+n+"'";throw r.error(i),new Error(i)}});Dr.propTypes=fe.b.string,Object(p.d)({actions:[Sn.a],sideEffect:function(e,t){var n=e.payload;return t(Dr(n))}});var Lr=n("K+2G"),qr=n("kOzZ"),Fr=n("negh"),Br=(n("pl9z"),new wt.b("toast_new_locale")),Ur=(fe.b.string.isRequired,fe.b.bool,fe.b.bool,fe.b.number,fe.b.func,fe.b.func,fe.b.func.isRequired,fe.b.object.isRequired,{featureNewLocaleToast:!1,featureLocaleToastTranslation:!1,fadeDelay:0,onClose:Te.a,onLinkClick:Te.a}),Hr=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=n.onLinkClick.bind(n),n.onCloseClick=n.onCloseClick.bind(n),n.ref=$e.a.createRef(),n}return Ct()(t,e),yt()(t,[{key:"componentDidMount",value:function(){this.trackClog(Se()({},Fr.x.action,Fr.v.IMPRESSION))}},{key:"onLinkClick",value:function(){var e,t=this,n=this.props,r=n.locale,a=n.onLinkClick;a();var i=(e={},Se()(e,Fr.x.action,Fr.v.CLICK),Se()(e,Fr.x.ui_element,Fr.y.LINK_LOCALE_TRIGGER),Se()(e,Fr.x.ui_component,Fr.w.TOAST),e);this.trackClog(i),Promise.resolve(this.props.openChangeLanguageDialog({locale:r,options:{referringEventId:Fr.k.I18N_NEW_LOCALE_TOAST_SHOWN,referringUiContext:i}})).then(function(){var e=t.ref.current&&t.ref.current.getWrappedInstance&&t.ref.current.getWrappedInstance();e&&e.hideToast()})}},{key:"onCloseClick",value:function(){var e;this.trackClog((e={},Se()(e,Fr.x.action,Fr.v.CLOSE),Se()(e,Fr.x.ui_element,Fr.y.BTN_CLOSE),e))}},{key:"getMessage",value:function(){var e=this,t=this.props,n=t.featureLocaleToastTranslation,r=t.locale,a=Object(st.f)();if("en-US"!==a&&"es-ES"!==a&&!n)return null;var i=void 0,o=void 0;switch(r){case"es-LA":i="\xa1Hola! \ud83d\udc4b",o=Br.t("You can now use Slack in Latin American Spanish.");break;case"pt-BR":i="Ol\xe1! \ud83d\udc4b",o=Br.t("You can now use Slack in Brazilian Portuguese.");break;case"en-GB":i="Hello! \ud83d\udc4b",o="You can now use Slack in UK English.";break;default:return null}var s=Br.rt("<Link>Give it a try</Link>, or change your language anytime in Preferences.",null,function(t){var n=t.text;return $e.a.createElement(Tt.a,{onClick:e.onLinkClick},$e.a.createElement("strong",null,n))});return $e.a.createElement(Je.Fragment,null,i," ",o," ",s)}},{key:"trackClog",value:function(e){var t=this.props,n=t.clogger,r=t.locale;n.track(Fr.k.I18N_NEW_LOCALE_TOAST_SHOWN,{contexts:{locale:r,ui_context:rr()({},e,Se()({},Fr.x.ui_component,Fr.w.TOAST))}})}},{key:"render",value:function(){var e=this.props,t=e.featureNewLocaleToast,n=e.fadeDelay,r=e.locale,a=e.onClose;if(!t)return null;if(!!!Object(st.e)()[r])return null;var i=this.getMessage();if(!i)return null;var o=cdn_url+"/b1e00/img/i18n/new-locale-toast.png",s=o.replace(".png","@2x.png");return $e.a.createElement(St.b,{toastClasses:"c-new_locale_toast",closeButtonClasses:"c-new_locale_toast__close_button",showCloseButton:!0,shouldAutoFade:!!n,fadeDelay:n,ref:this.ref,onCloseClick:this.onCloseClick,onClose:a},$e.a.createElement("div",null,$e.a.createElement("img",{className:"c-new_locale_toast__image",src:o,srcSet:s+" 2x",alt:""}),$e.a.createElement("div",{className:"c-new_locale_toast__content"},i)))}}]),t}(Je.PureComponent);Hr.displayName="NewLocaleToast",Hr.defaultProps=Ur;var Kr={openChangeLanguageDialog:function(){return Lr.a.apply(void 0,arguments)}},Gr=Object(It.b)(function(e){return{featureNewLocaleToast:Object(r.j)(e,"feature_new_locale_toast"),featureLocaleToastTranslation:Object(r.j)(e,"feature_locale_toast_translation"),clogger:Object(qr.a)({state:e})}},Kr)(Hr);Gr.propTypes={onCloseComplete:fe.b.func};var Vr=function(e){return $e.a.createElement(Gr,e)};Vr.displayName="newLocaleToastFactory";var zr=n("om+M"),Yr=Object(zr.a)("Fetches a new locale to suggest based on user signals",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(ge.a)({method:"i18n.locale.suggestNew",args:{},reason:n}))});Yr.propTypes={reason:fe.b.string};var Wr=n("XzsM"),Qr=Object(ae.b)("Update pref value to when new locale toast has been seen",function(e,t,n){return e(Object(_.f)({pref:"seen_p2_locale_change_message",value:n}))});Qr.propTypes={value:fe.b.number};var Xr=Object(ae.b)("Maybe show the new locale toast",function(e,t){var n=t();if(!Object(r.j)(n,"feature_new_locale_toast"))return Promise.resolve();var a=Object(f.g)(n,"seen_p2_locale_change_message"),i=!!a,o=Date.now()-a;return i&&o>3e5?Promise.resolve():e(Yr()).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,r=function(){return e(Qr(Date.now()-3e5))};if(!t||t===Object(st.f)())return r();var a={"pt-BR":"i18n_toast_pt_br","en-GB":"i18n_toast_en_gb","es-LA":"i18n_toast_es_la"}[t];if(a&&"treatment"!==Object(Wr.c)(n,a))return Promise.resolve();var o=Vr({locale:t,onLinkClick:r,onClose:r,fadeDelay:3e5});return i||e(Qr(Date.now())),e(Object(et.c)({element:o}))})});Object(p.d)({actions:[oe.a],sideEffect:function(e,t,n){var a=n();Object(oe.k)(a)&&(Object(r.i)(a)||Object(r.l)(a))&&t(Xr())}});var Zr=n("1czH");Object(p.b)([{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=Object(c.d)(r,e);Object(Zr.a)(t)})},reasons:[s.a.ARCHIVE_CHANNEL]},{actions:[o.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=(arguments[1],(0,arguments[2])()),n=Object(c.d)(t,e.id);Object(Zr.e)(n)}},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(d.xb)(e))Object(Zr.f)(rr()({},e,{is_member:!1}));else{var t=Object(c.d)(r,e.id);Object(Zr.f)(t)}})},reasons:[s.a.LEAVE_CHANNEL]},{actions:[o.a],sideEffect:function(e){var t=e&&e.payload&&e.payload.channels;t&&t.length&&t.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Zr.j)(e)})},reasons:[s.a.RENAME_CHANNEL]},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.d)(r,e.id);Object(Zr.m)(t)})},reasons:[s.a.ORG_ACCESS]},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.d)(r,e.id);Object(d.Y)(t)&&!Object(d.ub)(t)?(Object(Zr.k)(t),Object(i.a)(r)===t.id&&Object(Zr.c)(t)):Object(d.ub)(t)?Object(Zr.l)(t):Object(d.Y)(t)||Object(d.ub)(t)?Object(d.xb)(t)&&Object(Zr.j)(t):Object(Zr.p)(t)})},reasons:[s.a.CHANNEL_UPDATED]},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.d)(r,e.id);Object(Zr.i)(t,e.purpose.creator,e.purpose.value)})},reasons:[s.a.SET_PURPOSE]},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.d)(r,e.id);Object(Zr.n)(t,e.topic.userId,e.topic.value)})},reasons:[s.a.SET_TOPIC]},{actions:[o.a],sideEffect:function(e,t,n){var r=n(),a=e&&e.payload&&e.payload.channels;a&&a.length&&a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.d)(r,e.id);Object(Zr.o)(t)})},reasons:[s.a.UNARCHIVE_CHANNEL]}]);var Jr=Object(ir.b)("TS.redux.socket.connectedSig.dispatch"),$r=Object(ir.b)("TS.redux.socket.disconnectedSig.dispatch"),ea=Object(ir.b)("TS.redux.socket.provisionallyConnectedSig.dispatch"),ta=Object(ir.b)("TS.redux.socket.socketErrorMessageReceivedSig.dispatch"),na=Object(ir.b)("TS.redux.socket.socketMessageReceivedSig.dispatch"),ra=Object(ir.b)("TS.redux.socket.troubleConnectingSig.dispatch"),aa=Object(ir.b)("TS.redux.socket.waitingForRateLimitSig.dispatch");Object(p.b)([{actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;Jr(e)}},{actions:[oe.d],sideEffect:function(){$r.apply(void 0,arguments)}},{actions:[oe.t],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;ea(e)}},{actions:[oe.w],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;ta(e)}},{actions:[oe.x],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;na(e)}},{actions:[oe.z],sideEffect:function(){ra.apply(void 0,arguments)}},{actions:[oe.B],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;aa(e)}}]);var ia=n("N4dO"),oa=Object(ir.b)("TS.membership.membership_counts_need_refetch_sig.dispatch"),sa=n("Fdc0");Object(p.b)([{actions:[a.e],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];if(e.prevChannelId&&e.channelId!==e.prevChannelId){var r=n(),a=Object(c.d)(r,e.prevChannelId,!1);!Object(d.kb)(a)&&Object(d.yb)(a)&&t(Object(ia.c)(e.prevChannelId))}}},{actions:[oe.a,Nn.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];if(!e){var r=n(),a=Object(i.a)(r),o=Object(ia.e)(r,a);t(Object(ia.b)()),a&&o&&t(Object(ia.a)({channelId:a,countInfo:rr()({},o,{should_refetch:!0})})),oa()}}},{actions:[o.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=(0,arguments[2])();t(Object(ia.h)({channelId:e.id,memberCountDelta:1,restrictedMemberCountDelta:Object(sa.xb)(Object(u.b)(n))?1:0,appCountDelta:0}))}},{actions:[o.a],sideEffect:function(e,t){var n=e&&e.payload&&e.payload.channels;n&&n.length&&n.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(Object(ia.c)(e.id))})},reasons:[s.a.LEAVE_CHANNEL]}]);var ca=n("Z0Cl"),la=n("CpTu"),ua=n("bo4X"),da=n("FdTv"),ba=n("+J1t"),pa=n("8W09"),ha=n("CGJF"),ma=n("c695"),fa=new wt.b("client"),va=(fe.b.object.isRequired,function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1},n.onConfirm=n.onConfirm.bind(n),n}return Ct()(t,e),yt()(t,[{key:"onConfirm",value:function(e){e.stopPropagation(),this.state.loading||(this.setState(function(){return{loading:!0}}),Object(Ve.b)({reason:"User initiated refresh from the role change refresh dialog because the user\u2019s role changed while they were connected",reasonKey:"role_change_refresh_dialog"}))}},{key:"render",value:function(){var e=this.props.user,t=this.state.loading,n=null;return n=e.is_ultra_restricted?fa.t("Your account permissions have changed! You are now a single-channel guest of the workspace. You must now reload for the changes to take effect."):e.is_restricted?fa.t("Your account permissions have changed! You are now a multi-channel guest of the workspace. You must now reload for the changes to take effect."):fa.t("Your account permissions have changed! You are now a full member of the workspace. You must now reload for the changes to take effect."),$e.a.createElement(ua.a,{closeModal:this.onConfirm,role:"alertdialog",contentLabel:fa.t("Reload required"),labelledby:"role_change_refresh_confirmation_title_bar"},$e.a.createElement(da.a,{title:fa.t("Reload required"),id:"role_change_refresh_confirmation_title_bar"}),$e.a.createElement(ba.a,{"data-qa":"role_change_refresh_confirmation_body"},$e.a.createElement("p",null,n)),$e.a.createElement(pa.a,null,$e.a.createElement(ha.a,null,$e.a.createElement(ma.a,{"aria-label":fa.t("Reload"),type:"danger",size:"medium",onClick:this.onConfirm,loading:t,"data-qa":"role_change_refresh_confirmation_button"},fa.t("Reload")))))}}]),t}(Je.PureComponent));va.displayName="RoleChangeRefreshDialog";var ga={closeModal:function(){return Object(tt.a)()}},_a=Object(It.b)(null,ga)(va),Oa=Object(ae.b)('Opens the "Leave the Beta" ESC confirmation dialog',function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).user,r=Object(tt.c)(t());Object(la.a)(r,{name:"role-change-refresh-dialog"})||e(Object(tt.e)({element:$e.a.createElement(_a,{user:n}),isStackable:!0,name:"role-change-refresh-dialog"}))});Oa.propTypes={user:fe.b.object.isRequired};var ya=Oa;function ja(e,t,n){var r=n(),a=void 0;if(e.type===o.a.getType()){if(!(a=e&&e.payload&&e.payload.channels)||!a.length)return}else e.type===o.b.getType()&&(a=[e&&e.payload]);a.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(d.Y)(e)){var n=Object(d.M)(r,e,{includeSelfTeamId:!0}),a=Object(hr.N)(r,n).reduce(function(e,t){return e.concat(Object(ca.a)(Object(u.a)(r),{team_id:t}))},[]);a.length&&t(Object(l.a)(a))}})}Object(p.b)([{actions:[o.b],sideEffect:ja},{actions:[o.a],sideEffect:ja,reasons:[s.a.LEAVE_CHANNEL]},{actions:[l.b],sideEffect:function(e,t){t(ya({user:e.payload.user}))}}]);var ka=n("dyRQ");Object(p.b)([{actions:[a.e],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];if(e.prevChannelId&&e.channelId!==e.prevChannelId){var r=n(),a=Object(c.d)(r,e.prevChannelId,!1);!Object(d.kb)(a)&&Object(d.yb)(a)&&t(Object(ka.c)(e.prevChannelId))}}},{actions:[oe.a,Nn.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1];e||t(Object(ka.a)())}},{actions:[o.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];t(Object(ka.c)(e.id)),Object(r.j)(n(),"feature_dont_set_channel_membership_twice")||t(Object(ka.h)({channelId:e.id,membershipInfo:Se()({},Object(r.b)(n()),!0)}))}},{actions:[o.a],sideEffect:function(e,t){var n=e&&e.payload&&e.payload.channels;n&&n.length&&n.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(Object(ka.c)(e.id))})},reasons:[s.a.LEAVE_CHANNEL]}]);var Ea=n("CJqQ"),Ca=n("Iq6W"),Ia=n("qIoO"),wa=n("cTgs"),Sa=n("2HDu"),Ta=n("7KzH");Object(p.d)({actions:[x.b],sideEffect:function(e,t,n){var a=n(),o=e.payload,s=o.channelId,c=o.append,l=Object(i.a)(a),u=Object(r.j)(a,"feature_react_threads")&&Object(Sa.b)(a);c&&s!==l&&s!==u&&t(Object(x.l)({channelId:s}))}}),Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){var r=n(),a=e.payload.prevChannelId;if(a){var o=Object(i.a)(r);if(o!==a){var s=Object(c.d)(r,a);if(s){var l=Object(c.d)(r,o);if(l&&Object(d.yb)(l)&&!Object(d.kb)(l)){var u=[o];t(Object(E.e)({ids:u})).then(function(){return Object(Ta.b)()})}else l&&Object(d.yb)(l)&&!Object(d.kb)(l)&&t(Object(E.h)({channelId:o,noMembers:!0,reason:"message-history/onChannelChange"})).then(function(e){e&&e.channel&&(t(Object(Ea.a)({channel:e.channel})),Object(Ta.b)())});Object(d.V)(s)||Object(d.yb)(s)&&!Object(d.kb)(s)?t(Object(x.i)({channelId:a})):t(Object(x.l)({channelId:a}))}}}}}),Object(p.d)({actions:[o.a],sideEffect:function(e,t,n){var a=n(),o=e&&e.payload&&e.payload.channels;o&&o.length&&o.forEach(function(e){if(e){if(Object(V.a)()&&Object(A.k)(a)&&Object(i.a)(a)===e.id){var n=Object(Ia.a)(a);n&&t(Object(wa.a)({id:n}))}t(Object(x.i)({channelId:e.id,includeThreads:Object(r.j)(a,"feature_react_threads")}))}})},reasons:[s.a.ARCHIVE_CHANNEL,s.a.LEAVE_CHANNEL]}),Object(p.d)({actions:[o.d,o.b],sideEffect:function(e,t,n){var a=void 0;if(e.type===o.d.getType()?a=e&&e.payload&&e.payload.ids:e.type===o.b.getType()&&(a=[e&&e.payload&&e.payload.id]),a&&a.length){var i=n();a.forEach(function(e){e&&(t(Object(x.i)({channelId:e,includeThreads:Object(r.j)(i,"feature_react_threads")})),t(Object(Ca.e)({channelId:e})))})}}}),Object(p.d)({actions:[oe.a,Nn.b],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];e||(Object(C.a)({getState:n}).info("MESSAGE-HISTORY","Resetting reachedEnd"),t(Object(x.k)()))}});var Ra=n("hAjP"),Na=n("RB1+");Object(p.d)({actions:[Ra.g],sideEffect:function(e,t,n){var a=e.payload,i=a.viewContext,o=a.channelId,s=a.ts,c=Object(L.a)(n(),o,s),l=c?c.thread_ts:null;if(!Object(r.j)(n(),"feature_react_threads")&&!Object(r.j)(n(),"feature_react_all_threads")||!l||i!==U.C.THREADS_FLEXPANE&&i!==U.C.THREADS_VIEW)if(Object(r.j)(n(),"feature_sonic_inputs")){var u=Object(Na.a)({viewContext:U.C.MESSAGE_PANE,channelId:o});u&&u.focus()}else Object(Ze.a)();else{var d=Object(Na.a)({viewContext:i,channelId:o,threadTs:l});d&&d.focus()}}});var xa=n("qgNY");Object(p.b)([{actions:[o.d],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2],r=e&&e.ids||[],a=Object(i.a)(n());if(!(r.indexOf(a)<0)){var o=Object(Ia.a)(n());t(Object(xa.a)({id:o}))}}}]);var Ma=Object(zr.a)("Check to see whether we need to reload",function(e,t,n){var a=t();if(at.n)return Promise.resolve(new Error("Cannot check whether to reload when using js_path"));var i=Object(r.d)(a,"version_ts"),o=n.reason||"unknown";return e(Object(ge.a)({method:"rtm.shouldReload",args:{version_ts:i,reason:o}}))});Ma.propTypes={reason:fe.b.string};var Pa,Aa,Da=n("xUyV"),La=function(){var e=Object(An.method)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isClientOnline,n=e.logger;return!!t()||(n.info(Xa,"Waiting to come back online to reload"),Za("online"))});return function(t){return e.apply(this,arguments)}}(),qa=(Pa=Object(An.method)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasFocus,n=e.logger,r=e.telemeter;return!t()||(Ga||(Ga=new Promise(function(e){window.setTimeout(function(){n.info(Xa,"Waited the max "+Qa+"ms for a blur event"),r.count("mvp_m_shouldreload_waited_too_long_for_blur"),Va=!0,e()},Qa)})),n.info(Xa,"Waiting for blur event to reload"),Promise.race([Za("blur"),Ga]))}),function(e){return Pa.apply(this,arguments)}),Fa=(Aa=Object(An.method)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isClientOnline,n=e.hasFocus,r=e.logger,a=e.telemeter,i=e.timesCalled,o=void 0===i?0:i;return Ja({isClientOnline:t,hasFocus:n})&&0===o?(Ua()&&a.count("mvp_m_shouldreload_immediate"),!0):(Ua()&&0===o&&(a.count("mvp_m_shouldreload_will_defer"),t()||a.count("mvp_m_shouldreload_will_defer_offline")),Promise.all([La({isClientOnline:t,logger:r}),qa({hasFocus:n,telemeter:a,logger:r})]).tap(function(){r.info(Xa,"Online and unfocused, waiting "+Wa+"ms to reload")}).delay(Wa).then(function(){return Ja({isClientOnline:t,hasFocus:n})?(Ua()&&a.count("mvp_m_shouldreload_did_defer"),!0):(r.info(Xa,"Waited "+Wa+" ms but now it is no longer safe to reload, trying again",{isClientOnline:t(),hasFocus:n(),timesCalled:o}),Fa({isClientOnline:t,hasFocus:n,logger:r,telemeter:a,timesCalled:o+1}))}))}),function(e){return Aa.apply(this,arguments)}),Ba=void 0;function Ua(){return void 0===Ba&&(Ba=Object(pe.a)(100)),Ba}var Ha={},Ka={},Ga=void 0,Va=!1,za=!1,Ya=27e5,Wa=2e4,Qa=108e5,Xa="MIN-VERSION";function Za(e){var t=void 0;return new Promise(function(n){t=function(e){return n(e)},window.addEventListener(e,t,!1)}).finally(function(){window.removeEventListener(e,t,!1)})}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isClientOnline,n=e.hasFocus;return t()&&!n()}var $a=Object(ae.b)("Calls rtm.shouldReload and possibly reloads",function(e,t){if(!za){var n=t(),r=Object(_e.c)({getState:t}),a=Object(se.b)(n),i=Object(C.a)({getState:t});Ka[a]=Date.now(),i.info(Xa,"checking to see if we should reload"),Ua()&&r.count("mvp_m_check"),e(Ma({reason:"polling"})).then(function(e){if(e&&e.should_reload){var n=e.client_min_version;Object(Da.a)(n)&&(za||(za=!0,Fa({isClientOnline:function(){return Object(Qe.c)(t())},hasFocus:function(){return!Va&&document.hasFocus()},logger:i,telemeter:r}).then(function(){var e="rtm.shouldReload told us to reload earlier, we are now unfocused and online";i.info(Xa,e),Object(Ve.b)({reason:e,reasonKey:"rtm_should_reload"})})))}else i.info(Xa,"no need to reload")}).catch(function(){i.warn(Xa,"rtm.shouldReload check failed; ignoring since we will try again later")})}});Object(p.d)({actions:[jr.i],sideEffect:function(e,t,n){var r=n(),a=Object(se.b)(r);if(!Ha[a]){var i=Object(Fn.a)(Ya,.8,1.2);Ha[a]=setInterval(function(){t($a())},i),Object(ie.c)(a,"minVersionPoll",{checkNow:function(){return t($a())},getLastPollTime:function(){return Ka[a]},getCurrentlyAwaitingReload:function(){return za},timer:Ha[a]})}}});var ei=n("JvzI"),ti=n("JpmM"),ni=n("sxiy");Object(p.d)({actions:[v.b,v.c,v.a],sideEffect:function(e,t,n){if(Object(sr.a)()){var r=e&&e.payload;if(r){var a=void 0;if(r.pref&&"locale"===r.pref?a=r.value:r.locale&&(a=r.locale),a){var i=n(),o=Object(xr.d)(i).id,s=Object(ei.a)({teamId:o}),c=Object(te.a)(document,["documentElement","lang"]);s===a&&c===a||(t(Object(ni.c)({localeChanged:!0})),Object(ti.c)(i)||t(Object(ti.b)({reason:"prefs/maybeSetLocaleSideEffect"})),Object(ei.c)(a,o))}}}}}),Object(p.d)({actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=(0,arguments[2])();if(!e&&Object(r.j)(n,"feature_set_tz_automatically")&&Object(f.g)(n,"set_tz_automatically"))try{var a=Object(f.g)(n,"tz"),i=Intl.DateTimeFormat().resolvedOptions().timeZone;i!==a&&t(Object(_.f)({pref:"tz",value:i}))}catch(e){}}});var ri=n("HX+W"),ai=n("v8Qo");function ii(e,t,n){var r=n();if(Object(j.b)(r)&&(Object(sr.a)()||e.type!==D.f.getType())){var a=Object(i.a)(r),o=Object(xr.d)(r),s=e.type===D.f.getType()?o.id===e.payload[0]:o.id===e.payload;Object(C.a)({getState:n}).info("WORKSPACE-FOCUS","workspace focus state changed to "+s),o&&s?t(Object(ai.f)()).then(function(){var e=Object(c.d)(r,a);t(Object(ai.e)({viewId:a,viewName:Object(d.x)(r,e,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),teamId:o.id,teamName:Object(hr.e)(o),teamIcon:Object(te.a)(o,"icon.image_44")}))}):t(Object(ri.d)(!1))}}Object(p.d)({actions:[ri.e],sideEffect:function(e,t,n){var r=n();if(Object(j.b)(r)){var a=e.payload&&e.payload.history;a&&window.desktop&&window.desktop.deviceStorage&&window.desktop.deviceStorage.setItem("navigation-history",JSON.stringify(a))}}}),Object(p.d)({actions:[yn.p],sideEffect:ii}),Object(p.d)({actions:[D.f],sideEffect:ii});var oi=n("oW4N"),si=n("vSXf"),ci=new wt.b("offline_mode");function li(e){var t=e.clientLastOnline,n=e.channelHasHistory,r=e.onCloseComplete;if(!e.featureOfflineMode)return null;var a=n?ci.rt("Last updated {clientLastOnline}.",{clientLastOnline:Object(wt.n)(Object(oi.a)(t))}):ci.rt("Go online to get the latest messages.");return $e.a.createElement(St.b,{ariaAssertive:!0,position:"top-right",icon:"cloud-offline-small",onCloseComplete:r},$e.a.createElement("span",null,$e.a.createElement("strong",null,ci.rt("No connection."))," ",a))}li.displayName="OfflineChannelToast";var ui=Object(si.a)("feature_offline_mode")(li),di=Object(ae.b)("shows a toast indicating when the client was last connected",function(e,t,n){var r=n.channelId,a=t(),i=Object(Qe.f)(a)/1e3,o=Object(x.c)(a,r),s=$e.a.createElement(ui,{clientLastOnline:i,channelHasHistory:o});e(Object(et.c)({element:s}))});di.propTypes={channelId:fe.b.string.isRequired};Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){var a=n();if(Object(r.j)(a,"feature_offline_mode")&&Object(V.a)()&&!Object(Qe.c)(a)){var o=Object(i.a)(a);Object(g.a)(o)&&t(di({channelId:o}))}}});var bi=n("QzTQ"),pi=n("zo7m");Object(p.d)({actions:[pi.a],sideEffect:function(e,t){return t(Object(bi.a)())}});var hi=n("eqKo"),mi=n("KD8n");Object(p.d)({actions:[mi.a],sideEffect:function(e,t){return t(Object(hi.a)())}});n("XF9D"),n("6LT7");var fi=n("FSos");Object(p.d)({actions:[oe.a],sideEffect:function(e,t,n){if(Object(sr.a)()||Object(r.j)(n(),"feature_sonic_presence_manager")){var a=Object(se.b)(n()),i=Object(fi.b)(a);i&&!Object(Rn.a)(i)&&(Object(C.a)({getState:n}).debug("PRESENCE-MANAGER","Sending the presence subscription after establishing a websocket connection"),t(Object(fi.d)()))}}});var vi=n("kn0e");Object(p.d)({actions:[D.f],sideEffect:function(e,t,n){var r=n();Object(se.b)(r)!==(e.payload&&e.payload[0])&&t(Object(vi.a)())}});var gi=n("7Ztl"),_i=n("ukhC"),Oi=n("+rBa"),yi=n("+8di");function ji(e,t){t(Object(gi.j)(Object(_i.b)(e.room)))}Object(wn.a)("call_block_updated",function(e,t){t(Object(gi.j)(Object(_i.a)(e.block.call.v1)))}),Object(wn.a)("sh_room_join",ji),Object(wn.a)("sh_room_leave",ji),Object(wn.a)("sh_room_update",ji),Object(wn.a)("screenhero_invite",function(e,t,n){if(Object(sr.a)()){var r=n(),a=Object(c.d)(r,e.channel);Object(yi.a)(r,a)||t(Object(Oi.d)(e))}}),Object(wn.a)("screenhero_invite_response",function(e,t,n){Object(sr.a)()&&t(Object(Oi.f)(e))}),Object(wn.a)("screenhero_invite_cancel",function(e,t,n){Object(sr.a)()&&t(Object(Oi.e)(e))});var ki=n("qjdt"),Ei=n("cLE1"),Ci=n("DecA");Object(wn.a)("app_actions_updated",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.is_uninstall,n=e.app_id,a=arguments[1],i=arguments[2];n&&(Object(r.j)(i(),"feature_app_actions_fe_refactor")?a(t?Object(Ei.e)([n]):Object(ki.b)([n])):a(t&&n?Object(Ci.k)([n]):Object(Ci.d)()))});var Ii=n("tn36"),wi=n("jWJI"),Si=n("RMmo"),Ti=n("Rrdp"),Ri=n("t3QL"),Ni=n("wK/9"),xi=function e(){_t()(this,e);var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t};function Mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=new xi;return e.then(n.resolve,n.reject),setTimeout(function(){if(e.isPending()){e.cancel();var r=new Error("Maximum timeout ("+t+"ms) exceeded.");n.reject(r)}},t),n.promise}var Pi="invalid_submission",Ai=Object(zr.a)("fetch a dialog that has been pushed by an app",function(e,t,n){return Mi(e(Object(ge.a)({method:"dialog.get",args:{dialog_id:n}})).then(function(e){var t=e.dialog,n=void 0===t?{}:t;return Object(Ri.b)(n)}))});Ai.propTypes=fe.b.string;var Di=Object(zr.a)("submit and app generated dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.dialogId,a=n.submission,i={dialog_id:r,submission:JSON.stringify(a)};return Mi(e(Object(ge.a)({method:"dialog.submit",args:i})).catch(function(e){var t=e.data||{},n=new Error(e.message);throw n.data={error:t.error,dialogErrors:t.dialog_errors},n}))});Di.propTypes={dialogId:fe.b.string,submission:fe.b.object};var Li=Object(zr.a)("notify an app that the dialog it generated has been canceled",function(e,t,n){return e(Object(ge.a)({method:"dialog.notifyCancel",args:{dialog_id:n}}))});Li.propTypes=fe.b.string;var qi=Object(zr.a)("fetch select options from a third party app based on a search query",function(e,t,n){var r=n.dialogId,a=n.inputName,i=n.value;return e(Object(ge.a)({method:"dialog.selectSuggestion",args:Object(Ni.a)({dialogId:r,name:a,value:i})})).then(function(e){var t=e.option_groups,n=e.options;return t?{optionGroups:t}:n?{options:n}:{options:[]}})});qi.propTypes={dialogId:fe.b.string.isRequired,inputName:fe.b.string.isRequired,value:fe.b.string.isRequired};var Fi=n("1zbP"),Bi=n("1VpL"),Ui=n("V/As");function Hi(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).reduce(function(e,t){return rr()({},e,Se()({},t.name,t.error))},{})}var Ki=n("jeQL"),Gi=n("lCmp"),Vi=n("3Hq1"),zi=n("TSYQ"),Yi=n.n(zi),Wi=n("Qaea"),Qi=n("cD5Y"),Xi=n("TGBA"),Zi=n("MnCE"),Ji=n("sJy+"),$i=(fe.b.oneOf(Object(Xi.a)(Ji.a)),fe.b.node.isRequired,fe.b.oneOf(Object(Xi.a)(Ji.c)),{align:Ji.a.left,type:Ji.c.boxed});function eo(e){var t=e.align,n=e.message,r=e.type;return $e.a.createElement(Ji.d,{type:r,align:t,level:Ji.b.error,className:"margin_bottom_100"},n)}eo.displayName="AppDialogError",eo.defaultProps=$i;var to=Object(Zi.a)(eo),no=n("O0RF"),ro=n("blls");function ao(e,t){return e+"_"+t.name}function io(e,t,n){return e+"_"+t.name+"_"+n}fe.b.string.isRequired,fe.b.string,fe.b.object.isRequired,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.string;var oo=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.optionsFetcher=n.optionsFetcher.bind(n),n}return Ct()(t,e),yt()(t,[{key:"getLabelId",value:function(){var e=this.props;return io(e.dialogId,e.input,"label")}},{key:"optionsFetcher",value:function(e){var t=this.props,n=t.dialogId,r=t.input;return this.props.fetchSelectSuggestionDialog({dialogId:n,inputName:r.name,value:e})}},{key:"renderSelect",value:function(){var e=this.props,t=e.dialogId,n=e.error,r=e.input,a=e.isSubmitting,i=e.onBlur,o=e.onChange,s=e.onFocus,c=e.value,l={id:ao(t,r),isSubmitting:a,labelId:this.getLabelId(),onBlur:i,onChange:o,onFocus:s,value:c,dialogId:t,dataSource:r.data_source,includeApps:!1,minQueryLength:r.min_query_length,optionsFetcher:this.optionsFetcher,options:r.options,optionGroups:r.option_groups,isDisabled:r.is_disabled,isRequired:r.is_required,hintText:r.hint,errorText:n,name:r.name,placeholder:r.placeholder,ref:this.setRef,selectedOptions:r.selected_options};return $e.a.createElement(ro.a,l)}},{key:"render",value:function(){var e=this.props,t=e.dialogId,n=e.input,r=e.isSubmitting,a=ao(t,n),i=this.getLabelId(),o=Yi()({"c-label--disabled":n.disabled||r});return $e.a.createElement(no.a,{className:o,htmlFor:a,id:i,key:n.name,text:n.label,optional:!!n.optional},this.renderSelect())}}]),t}($e.a.Component);oo.displayName="AppDialogInputSelect";var so={fetchSelectSuggestionDialog:qi};oo.defaultProps={error:null,isSubmitting:!1,value:""};var co=Object(It.b)(null,so,null,{withRef:!0})(oo),lo=n("plEq"),uo=(fe.b.string,fe.b.string.isRequired,fe.b.object.isRequired,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.string,function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.dialogId,r=e.input,a=e.isSubmitting,i=e.onBlur,o=e.onChange,s=e.onFocus,c=e.value,l=ao(n,r),u=io(n,r,"label"),d=Yi()({"c-label--disabled":r.disabled||a});return $e.a.createElement(no.a,{className:d,htmlFor:l,id:u,key:r.name,text:r.label,optional:!!r.optional},$e.a.createElement(lo.a,{autoComplete:"off",labelId:u,isDisabled:r.disabled||a,errorText:t,hintText:r.hint,id:l,isRequired:!r.optional,name:r.name,onBlur:i,onChange:o,onFocus:s,placeholder:r.placeholder,type:"text",value:c}))}}]),t}($e.a.Component));uo.displayName="AppDialogInputText";var bo=uo;uo.defaultProps={error:null,isSubmitting:!1,value:""};var po=n("P3Po");fe.b.string.isRequired,fe.b.string,fe.b.object.isRequired,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.string;function ho(e){var t=e.dialogId,n=e.error,r=e.input,a=e.isSubmitting,i=e.onBlur,o=e.onChange,s=e.onFocus,c=e.value,l=ao(t,r),u=io(t,r,"label"),d=Yi()({"c-label--disabled":r.disabled||a});return $e.a.createElement(no.a,{className:d,htmlFor:l,key:r.name,id:u,text:r.label,optional:!!r.optional},$e.a.createElement(po.a,{autoComplete:"off",labelId:u,isDisabled:r.disabled||a,errorText:n,hintText:r.hint,id:l,isRequired:!r.optional,name:r.name,maxCharacterLimit:r.max_length,onBlur:i,onChange:o,onFocus:s,placeholder:r.placeholder,value:c}))}ho.displayName="AppDialogInputTextarea",ho.defaultProps={error:null,isSubmitting:!1,value:""};var mo={select:"select",text:"text",textarea:"textarea"},fo=(fe.b.string,fe.b.string.isRequired,fe.b.object.isRequired,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.string,function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.dialogId,r=e.input,a={error:t,dialogId:n,input:r,isSubmitting:e.isSubmitting,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,value:e.value};switch(r.type){case mo.select:return $e.a.createElement(co,a);case mo.text:return $e.a.createElement(bo,a);case mo.textarea:return $e.a.createElement(ho,a);default:return}}}]),t}($e.a.Component));fo.displayName="AppDialogInput";var vo=fo;fo.defaultProps={error:null,isSubmitting:!1,value:""};var go,_o=n("yIs4"),Oo=n("NFsq"),yo=new wt.b("app_dialog"),jo=(go={},Se()(go,mo.text,150),Se()(go,mo.textarea,3e3),go),ko={maxLength:"maxLength",minLength:"minLength",required:"required"};function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case ko.maxLength:return yo.t("You can't enter more than {maxLength, plural, =1 {# character} other {# characters}}.",t);case ko.minLength:return yo.t("You must enter at least {minLength, plural, =1 {# character} other {# characters}}.",t);case ko.required:return yo.t("This field is required.")}return null}function Co(e){var t=e.elements,n=e.lastActiveElementName,r=e.touchedElements,a=e.values;return t.reduce(function(e,t){var i=a[t.name],o=n===t.name,s=!t.optional&&!i&&!o,c=Object(Oo.a)([mo.text,mo.textarea],t.type),l=Math.max(t.min_length,0),u=Object(_o.a)(l)&&Object(te.a)(i,"length",0)<l,d=!i&&o,b=!i&&t.optional,p=c&&u&&!d&&!b,h=Math.min(t.max_length,jo[t.type]),m=h&&Object(te.a)(i,"length")>h,f=c&&m;return r[t.name]?s?rr()({},e,Se()({},t.name,Eo(ko.required))):p?rr()({},e,Se()({},t.name,Eo(ko.minLength,{minLength:l}))):f?rr()({},e,Se()({},t.name,Eo(ko.maxLength,{maxLength:h}))):e:e},{})}n("twaS");var Io=new wt.b("app_dialog"),wo=(fe.b.string.isRequired,fe.b.array,fe.b.bool,fe.b.bool,fe.b.bool,fe.b.object,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,300),So=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={errors:{},lastActiveElementName:null,touchedElements:{},values:{},selectedOptions:{}},Object(Ii.a)(n,["onInputBlurred","onInputChanged","onInputFocused","setFirstElementRef","submit","updateErrors"]),n.updateErrors=Object(R.a)(n.updateErrors,wo),n}return Ct()(t,e),yt()(t,[{key:"componentWillReceiveProps",value:function(e){if(!e.isLoading&&this.props.isLoading){var t=e.elements.reduce(function(e,t){return rr()({},e,Se()({},t.name,t.value))},{});this.setState(function(){return{values:Object(Ki.a)(t,Vi.a)}})}}},{key:"componentDidUpdate",value:function(e){var t=!this.props.isLoading&&e.isLoading,n=!this.props.isSubmitting&&e.isSubmitting;if(this.firstElement&&(t||n)){var r=Object(Wi.findDOMNode)(this.firstElement);r&&r.focus()}}},{key:"onInputBlurred",value:function(){this.setState(function(){return{lastActiveElementName:null}})}},{key:"onInputFocused",value:function(){var e=this;this.setState(function(t){return{errors:Co({elements:e.props.elements,lastActiveElementName:t.lastActiveElementName,touchedElements:t.touchedElements,values:t.values})}})}},{key:"onInputChanged",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.setTouched,i=void 0===a||a,o=r.selectedOption;this.setState(function(r){var a=e,s=rr()({},r.touchedElements,Se()({},e,i)),c=rr()({},r.values,Se()({},e,t)),l=rr()({},r.selectedOptions,Se()({},e,o?[o]:void 0)),u=Co({elements:n.props.elements,lastActiveElementName:a,touchedElements:s,values:c}),d={lastActiveElementName:a,touchedElements:s,values:c,selectedOptions:l};return u[e]?d:rr()({},d,{errors:u})}),this.updateErrors()}},{key:"getElementError",value:function(e){return!this.state.touchedElements[e]&&this.props.serverErrors[e]||this.state.errors[e]||null}},{key:"getElementInput",value:function(e){var t=this.state.selectedOptions;return t[e.name]?rr()({},e,{selected_options:t[e.name]}):e}},{key:"getGeneralError",value:function(e){return Io.rt("We had some trouble connecting. <a>Try again?</a>",null,function(t){var n=t.text;return $e.a.createElement(Ir.a,{onClick:e,type:"button"},n)})}},{key:"getShouldShowSpeedBump",value:function(e){var t=this.state,n=t.touchedElements,r=t.values;return"go"!==e&&Object(Gi.a)(this.props.elements,function(e){var t=e.name,a=e.type;if(!n[t])return!1;var i=r[t];return a===mo.text||a===mo.textarea?Object(te.a)(i,"length",0)>=3:!!i})}},{key:"setFirstElementRef",value:function(e){this.firstElement=e&&e.getWrappedInstance?e.getWrappedInstance():e}},{key:"bindArgs",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[this].concat(n))}},{key:"updateErrors",value:function(){var e=this;this.setState(function(t){return{errors:Co({elements:e.props.elements,lastActiveElementName:t.lastActiveElementName,touchedElements:t.touchedElements,values:t.values})}})}},{key:"maybeRenderGeneralError",value:function(){return this.props.submittingFailed?$e.a.createElement(to,{message:this.getGeneralError(this.props.onSubmitRetried)}):null}},{key:"submit",value:function(){var e=this,t=this.props.elements.reduce(function(e,t){return rr()({},e,Se()({},t.name,!0))},{}),n=Co({elements:this.props.elements,lastActiveElementName:null,touchedElements:t,values:this.state.values});if(this.setState(function(){return{errors:n,lastActiveElementName:null,touchedElements:t}}),!Object(Rn.a)(n)){var r=new Error("Validation failed.");return Promise.reject(r)}return this.props.onSubmit(this.props.id,this.state.values).finally(function(){return e.setState(function(){return{touchedElements:{}}})})}},{key:"renderDialogElements",value:function(){var e=this;return $e.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},this.props.elements.map(function(t,n){return $e.a.createElement(vo,{error:e.getElementError(t.name),dialogId:e.props.id,input:e.getElementInput(t),isSubmitting:e.props.isSubmitting,key:t.name,onBlur:e.onInputBlurred,onChange:e.bindArgs(e.onInputChanged,t.name),onFocus:e.onInputFocused,ref:0===n?e.setFirstElementRef:null,value:e.state.values[t.name]})}))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.isSubmitting,r=e.loadingFailed,a=e.onLoadRetried,i=Yi()("p-app_dialog_elements",{"p-app_dialog_elements--empty":t||r},{"p-app_dialog_elements--submitting":n}),o=void 0;return o=t?$e.a.createElement(Qi.a,{size:"jumbo"}):r?$e.a.createElement(to,{message:this.getGeneralError(a),align:"center"}):this.renderDialogElements(),$e.a.createElement("div",{className:i},this.maybeRenderGeneralError(),o)}}]),t}(Je.Component);So.displayName="BaseAppDialogElements",So.defaultProps={elements:[],serverErrors:{},isLoading:!1,isSubmitting:!1,loadingFailed:!1,submittingFailed:!1};var To=Object(wi.a)(So),Ro=(fe.b.func.isRequired,fe.b.string.isRequired,fe.b.func,fe.b.func,fe.b.func,fe.b.func.isRequired,{onFetchRejected:Te.a,onFetchResolved:Te.a,onSubmitRetried:Te.a}),No=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={errors:{},isLoading:!0},Object(Ii.a)(n,["onFetchRejected","onFetchResolved","onSubmit","onSubmitRejected","onSubmitResolved","retryLoad","setDialogElementsRef"]),n}return Ct()(t,e),yt()(t,[{key:"componentDidMount",value:function(){this.state.isLoading&&this.load()}},{key:"onFetchRejected",value:function(){this.setState(function(){return{isLoading:!1,loadingFailed:!0}},this.props.onFetchRejected)}},{key:"onFetchResolved",value:function(e){var t=this;this.setState(function(){return{elements:e.elements,isLoading:!1,loadingFailed:!1}},function(){t.props.onFetchResolved(e)})}},{key:"onSubmitRejected",value:function(e){var t=e.data||{},n={isSubmitting:!1};throw t.error===Pi?n.errors=Hi(t.dialogErrors):n.submittingFailed=!0,this.setState(function(){return n}),e}},{key:"onSubmitResolved",value:function(){this.setState(function(){return{errors:{},isSubmitting:!1,submittingFailed:!1}})}},{key:"onSubmit",value:function(e,t){return this.setState(function(){return{isSubmitting:!0}}),this.props.submitter({dialogId:e,submission:t}).then(this.onSubmitResolved).catch(this.onSubmitRejected)}},{key:"getShouldShowSpeedBump",value:function(e){return"go"!==e&&(!!this.dialogElements&&this.dialogElements.getShouldShowSpeedBump())}},{key:"setDialogElementsRef",value:function(e){this.dialogElements=e,this.dialogElements&&this.dialogElements.getWrappedInstance&&(this.dialogElements=this.dialogElements.getWrappedInstance())}},{key:"load",value:function(){this.props.fetcher(this.props.id).then(this.onFetchResolved).catch(this.onFetchRejected)}},{key:"retryLoad",value:function(){this.setState(function(){return{isLoading:!0}},this.load)}},{key:"submit",value:function(){return this.dialogElements.submit()}},{key:"render",value:function(){return $e.a.createElement(To,{id:this.props.id,serializationKey:"app-dialog-elements",elements:this.state.elements,serverErrors:this.state.errors,isLoading:this.state.isLoading,isSubmitting:this.state.isSubmitting,loadingFailed:this.state.loadingFailed,onLoadRetried:this.retryLoad,onSubmitRetried:this.props.onSubmitRetried,onSubmit:this.onSubmit,ref:this.setDialogElementsRef,submittingFailed:this.state.submittingFailed})}}]),t}(Je.Component);No.displayName="AppDialogElementsContainer";No.defaultProps=Ro;var xo=Object(wi.a)(No),Mo=Object(It.b)(null,function(e,t){return{fetcher:t.fetcher||function(t){return e(Ai(t))},submitter:t.submitter||function(t){return e(Di(t))}}},null,{withRef:!0})(xo),Po=(n("obKG"),new wt.b("app_dialog")),Ao=(fe.b.string.isRequired,fe.b.object,fe.b.func,fe.b.string.isRequired,fe.b.func.isRequired,fe.b.func,fe.b.string,fe.b.func,fe.b.string.isRequired,fe.b.object.isRequired,fe.b.string.isRequired,{app:{isNonExistent:!0},fetcher:null,onClose:Te.a,submitLabel:void 0,submitter:null}),Do=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={goButtonIsDisabled:!0,goButtonIsPending:!1,shouldNotifyOnCancel:!1},Object(Ii.a)(n,["getShouldShowSpeedBump","onFetchResolved","onSubmitRejected","onSubmitResolved","onClose","onGo","onKeyPressedCmdEnter","renderTitle","setElementsContainerRef"]),n}return Ct()(t,e),yt()(t,[{key:"componentDidMount",value:function(){this.track("opened"),this.keyCommands=new Si.a,this.keyCommands.bindAll([{keys:["command+enter"],handler:this.onKeyPressedCmdEnter}])}},{key:"componentWillUnmount",value:function(){this.keyCommands.reset()}},{key:"onFetchResolved",value:function(e){var t=e.notifyOnCancel;this.setState(function(){return{goButtonIsDisabled:!1,shouldNotifyOnCancel:t}})}},{key:"onSubmitRejected",value:function(){this.setState(function(){return{goButtonIsPending:!1}})}},{key:"onSubmitResolved",value:function(){this.setState(function(){return{goButtonIsPending:!1}},this.props.onClose)}},{key:"onClose",value:function(){var e=this.props,t=e.onClose,n=e.id,r=e.notifyCancel;this.state.shouldNotifyOnCancel&&r(n),this.track("cancelled"),Object(T.a)(t)}},{key:"onKeyPressedCmdEnter",value:function(){this.onGo()}},{key:"onGo",value:function(){this.setState(function(){return{goButtonIsPending:!0}}),this.elementsContainer.submit().then(this.onSubmitResolved).catch(this.onSubmitRejected)}},{key:"getShouldShowSpeedBump",value:function(e){return"go"!==e&&(!!this.elementsContainer&&this.elementsContainer.getShouldShowSpeedBump())}},{key:"setElementsContainerRef",value:function(e){this.elementsContainer=e&&e.getWrappedInstance(),this.elementsContainer&&this.elementsContainer.getWrappedInstance&&(this.elementsContainer=this.elementsContainer.getWrappedInstance())}},{key:"track",value:function(e){var t=this.props,n=t.appId,r=t.id;t.clogger.track("APP_DIALOG_"+e.toUpperCase(),{app_id:n,dialog_id:r,contexts:{core:{app_id:n}}})}},{key:"renderTitle",value:function(){var e=this.props,t=e.app,n=e.defaultAppIcon,r=Object(Ui.a)(t,72,n),a=Po.t("Header Icon");return $e.a.createElement("div",{className:"p-app_dialog__title"},$e.a.createElement("img",{alt:a,className:"p-app_dialog__title_icon",src:r}),$e.a.createElement("div",{className:"p-app_dialog__title_text"},this.props.title))}},{key:"render",value:function(){var e=this.props,t=e.appId,n=e.app,r="/apps/"+t,a=void 0;a=Object(Fi.b)(n)?n.name:Object(Fi.d)(n)?$e.a.createElement(Ti.a,{type:"unknown"}):$e.a.createElement(Ti.a,{type:"non-existent"});var i=Po.rt("Learn more about {appName}",{appName:a}),o=this.props,s=o.fetcher,c=o.id,l=o.submitLabel,u=o.submitter,d=o.title,b=this.state,p=b.goButtonIsDisabled,h=b.goButtonIsPending,m=l||Po.t("Submit");return $e.a.createElement(Pt.a,{contentLabel:d,className:"p-app_dialog",footerIcon:"question-circle",footerLink:r,footerText:i,getShouldShowSpeedBump:this.getShouldShowSpeedBump,goButtonIsDisabled:h||p,goButtonIsPending:h,goButtonText:m,goOnEnterPressed:!1,onClose:this.onClose,onGo:this.onGo,shouldCloseOnGo:!1,title:this.renderTitle()},$e.a.createElement(Mo,{fetcher:s,id:c,serializationKey:"app-dialog-elements-container-"+c,onFetchResolved:this.onFetchResolved,onSubmitRetried:this.onGo,ref:this.setElementsContainerRef,submitter:u}))}}]),t}(Je.Component);Do.displayName="AppDialog",Do.defaultProps=Ao;var Lo={notifyCancel:Li},qo=Object(wi.a)(Do),Fo=Object(It.b)(function(e,t){var n=t.appId;return{app:Object(Bi.e)(e,n),defaultAppIcon:Object(Bi.f)(e),clogger:Object(qr.a)({state:e})}},Lo)(qo),Bo=Object(ae.b)("Opens app dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$e.a.createElement(Fo,rr()({},n,{serializationKey:"app-dialog",onClose:function(){return e(Object(tt.a)())}}));e(Object(tt.e)({element:r}))});Bo.propTypes={appId:fe.b.string.isRequired,id:fe.b.string.isRequired,submitLabel:fe.b.string,title:fe.b.string.isRequired};var Uo=Bo,Ho=n("Y/4G");Object(wn.a)("dialog_opened",function(e,t){var n=e.app_id,r=e.client_token,a=e.dialog_id,i=e.dialog_submit_label,o=e.dialog_title,s=e.timeout_range;if(Ho.a.check(r)){var c=Ho.a.getTimeDelta(r),l=c.delta,u=c.nowTs,d=c.tokenTs;Object(qr.a)().track(Fr.k.APP_DIALOG_OPEN_ATTEMPTED,{app_id:n,dialog_id:a,dialog_client_token_ts:d,dialog_ms_event_received_ts:u}),l>=s||t(Uo({appId:n,id:a,submitLabel:i,title:o}))}});var Ko=n("XIp8"),Go=Object(ir.b)("TS.client.channel_page.handleAppChannelMembershipChange"),Vo=Object(ir.b)("TS.client.channel_page.handleAppWildcardChange"),zo=n("oRzC"),Yo=n("NV5S"),Wo=n("3C31"),Qo="app_wildcard_added",Xo="app_permission_user_request",Zo="channel";function Jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_user,n=e.type,r=arguments[1],a=(0,arguments[2])(),o=n===Qo,s=Object(i.a)(a),l=Object(g.a)(s)&&s,u=Object(c.u)(a,l)&&Object(c.d)(a,l),b=Object(Ko.a)(Object(ia.e)(a,l)),p=Object(ka.f)(a,l,t),h=Object(d.yb)(u)&&p.isKnown&&o!==p.isMember;if(r(Object(ka.b)(t)),r(Object(ia.b)()),h&&b&&b.counts){var m=Object(te.a)(b,"counts.app_count",0)+(o?1:-1);b.counts.app_count=m,r(Object(ia.a)({channelId:l,countInfo:rr()({},b,{should_refetch:!0})}))}oa(),r(Object(zo.i)({appUserId:t,wildcardEnabled:o})),Vo(o)}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_user,n=e.client_token,r=e.scope_info,a=e.scope_type,i=e.timeout_range,o=e.trigger_id,s=e.type,c=arguments[1];if(Ho.a.check(n)&&!(Ho.a.getTimeDelta(n).delta>=i)){var l={appUserId:t,hasChannelScopes:a===Zo,isUserRequest:s===Xo,scopeInfo:r,scopeType:a,triggerId:o},u=$e.a.createElement(Yo.a,l);c(Object(tt.e)({element:u}))}}Object(wn.a)(Qo,Jo),Object(wn.a)("app_wildcard_removed",Jo),Object(wn.a)("app_permission_request",$o),Object(wn.a)(Xo,$o),Object(wn.a)("app_conversation_invite_request",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_user,n=e.channel_id,r=e.client_token,a=e.invite_message_ts,i=e.scope_info,o=e.timeout_range,s=arguments[1];Ho.a.check(r)&&(Ho.a.getTimeDelta(r).delta>=o||s(Object(Wo.a)({appUserId:t,channelId:n,inviteMessageTs:a,referringEventId:"MSG_LINK_CLICKED",scopeInfo:i})))});var es=n("6tKJ"),ts=n("U/ze"),ns=/^@?V[A-Z0-9]{8,}$/;var rs=n("OZf9"),as=n("oTSI"),is=n("yPgC"),os="validation_failed",ss=Object(zr.a)("get the contents of an app view",function(e,t,n){return n?Mi(e(Object(ge.a)({method:"views.get",reason:"fetchView",args:{view_id:n}})).then(function(e){return e.view}).catch(function(e){throw e.data||{}})):Promise.reject()});ss.propTypes=fe.b.string;var cs=Object(zr.a)("submit an app view dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.viewId,a=n.viewState;if(!r||!a)return Promise.reject();var i={client_token:Ho.a.generateAndEnqueue(),view_id:r,state:JSON.stringify(a)};return Mi(e(Object(ge.a)({method:"views.submit",reason:"submit-view",args:i})).then(function(e){return{updatedView:e.view,responseAction:e.response_action}}).catch(function(e){throw e.data||{}}))});cs.propTypes={viewId:fe.b.string.isRequired,viewState:fe.b.object.isRequired};var ls=Object(zr.a)("delete an app view",function(e,t,n){if(!n)return Promise.reject();var r={client_token:Ho.a.generateAndEnqueue(),view_id:n};return Mi(e(Object(ge.a)({method:"views.close",reason:"close-view",args:r})).catch(function(e){throw e.data||{}}))});ls.propTypes=fe.b.string.isRequired;var us=n("btvA"),ds=n("qLl3"),bs=Object(ts.b)(function(e){return e?e.appViews:{}}),ps=Object(ae.b)("Bulk upsert views to store, with logging",function(e,t,n){var r=t(),a=Object(se.b)(r),i=bs(r),o=[],s=[],c=Object(C.a)({getState:t});return Object(rs.a)(n,function(n){n&&n.id&&(n!==i[n.id]&&(o.push(n),i[n.id]?c.debug("APP VIEWS",'bulkUpsertView: updating existing view "'+n.id+'"'):c.debug("APP VIEWS",'bulkUpsertView: adding view "'+n.id+'"')),Object(Fi.b)(n)&&s.push(n.id),n.blocks&&Object(ds.b)(e,t,n.blocks))}),o.length&&e(Object(es.b)(o)),gs().markObjectsAsFresh(a,s),o});function hs(e,t){return Promise.all(t.map(function(t){return Object(cr.dispatchForTeamId)(e,ss(t))}))}function ms(e,t){Object(cr.dispatchForTeamId)(e,ps(t))}function fs(e,t){return hs(e,t).then(function(t){return Object(cr.dispatchForTeamId)(e,ps(t))})}ps.propTypes=fe.b.arrayOf(is.a.maybeUnknown(is.a.AppView)).isRequired;var vs=Object(as.a)(function(){return new Fi.a({fetch:hs,upsertKnown:ms,upsertNonExistent:ms})}),gs=Object(as.a)(function(){return new us.b({fetch:fs,isEnabled:function(){return!0}})}),_s=function(e,t){return gs().markObjectsAsStale(e,t)},Os=(Object(ts.b)(function(e){return e&&e.appViews?e.appViews.activeViewId:void 0}),Object(ts.b)(function(e,t){return t&&t.id&&e&&e.appViews&&e.appViews.viewsState?e.appViews.viewsState[t.id]:void 0}),Object(ts.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return!1;var r,a=Object(se.b)(e),i=bs(e).views[t];return!i&&(r=t,ns.test(r))&&n?vs().fetchObjectWithId(a,t):(gs().maybeRefetch(a,t),i||!1)})),ys=Object(ts.b)(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(se.b)(e),r=bs(e),a=r.activeViewId;if(!a)return!1;var i=r.views[a];return!i&&t?vs().fetchObjectWithId(n,a):(gs().maybeRefetch(n,a),i||!1)}),js=Object(ts.b)(function(e){var t=bs(e),n=t.activeViewId;if(n)return t.viewsState[n]||void 0}),ks=Object(ae.b)("Upsert a single view to store, with logging",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.id){var r=t();if(n!==bs(r)[n.id])Object(C.a)({getState:t}).debug("APP VIEWS",'upsertView: upserting view "'+n.id+'"'),e(Object(es.a)(n))}});ks.propTypes=is.a.maybeUnknown(is.a.AppView).isRequired;var Es=Object(ae.b)("Reload view",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).id;return!!n&&(e(ks({id:n,isUnknown:!0})),e(ss(n)).then(function(t){return e(ks(t))}).catch(function(){e(ks({id:n,isNonExistent:!0}))}))});Es.propTypes=is.a.maybeUnknown(is.a.AppView).isRequired;var Cs=Object(ae.b)("Submit and upsert view",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.view,a=n.viewState;return!!r.id&&e(cs({viewId:r.id,viewState:a})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.updatedView,a=t.responseAction;return n&&("update"===a?e(ks(n)):"push"===a&&n.previous_view_id===r.id&&r.type===U.a.modal&&n.type===U.a.modal&&(e(ks(n)),e(Object(es.d)(n.id)))),a})});Cs.propTypes={view:is.a.AppView.isRequired,viewState:fe.b.object.isRequired};var Is=Object(ae.b)("Remove view",function(e,t,n){if(!n)return!1;var r=e(Os(t(),n));return!!r&&e(Object(es.c)(r))});Is.propTypes=fe.b.string.isRequired;var ws=n("jo6Y"),Ss=n.n(ws),Ts=n("XLFM"),Rs=(n("bBu/"),fe.b.any.isRequired,fe.b.node,fe.b.bool,fe.b.node,fe.b.bool,fe.b.node,fe.b.bool,fe.b.bool,fe.b.func,fe.b.func,fe.b.string,{backButton:void 0,showBackButton:!0,nextButton:void 0,showNextButton:!0,nextButtonTooltip:void 0,nextButtonIsDisabled:!1,nextButtonIsPending:!1,onBack:Te.a,onNext:Te.a,"data-qa":"dialog"}),Ns=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(Ii.a)(n,["handleNextClick","handleBackClick"]),n}return Ct()(t,e),yt()(t,[{key:"handleBackClick",value:function(){this.props.onBack()}},{key:"handleNextClick",value:function(){this.props.onNext()}},{key:"renderBackButton",value:function(){var e=this.props,t=e.backButton,n=e["data-qa"];return t&&$e.a.createElement(Ts.d,{type:"outline",className:"c-wizard_dialog__back",onClick:this.handleBackClick,"data-qa":n+"_back"},t||"Back")}},{key:"renderNextButton",value:function(){var e=this.props,t=e.nextButton,n=e.nextButtonIsDisabled,r=e.nextButtonIsPending,a=e["data-qa"];return t&&$e.a.createElement(Ts.b,{type:"primary",className:"c-wizard_dialog__next ",onClick:this.handleNextClick,loading:r,disabled:n,"data-qa":a+"_next"},t||"Next")}},{key:"renderFooter",value:function(){var e=this.props,t=e.showBackButton,n=e.showNextButton;return(t||n)&&$e.a.createElement("div",{className:"c-wizard_dialog__footer"},this.renderBackButton(),this.renderNextButton())}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.showBackButton,e.showNextButton,e.nextButton,e.backButton,Ss()(e,["children","showBackButton","showNextButton","nextButton","backButton"]));return $e.a.createElement(Pt.a,rr()({overlayClassName:"c-wizard_dialog",shouldCloseOnOverlayClick:!1,showGoButton:!1,showCancelButton:!1,customFooterContent:this.renderFooter()},n),t)}}]),t}(Je.Component);Ns.displayName="WizardModal",Ns.defaultProps=Rs;var xs=Ns,Ms=n("Ma6+"),Ps=new wt.b("app_views"),As=(fe.b.func,fe.b.oneOf(Object(Xi.a)(Ji.a)),fe.b.node,fe.b.oneOf(Object(Xi.a)(Ji.c)),fe.b.bool,{retryHandler:void 0,align:Ji.a.left,message:void 0,type:Ji.c.boxed,featureAppViewsV1:!1}),Ds=function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"getGeneralError",value:function(){var e=this.props,t=e.retryHandler;return e.featureAppViewsV1?t?Ps.rt("We had some trouble connecting. <a>Try again?</a>",null,function(e){var n=e.text;return $e.a.createElement(Tt.a,{onClick:t},n)}):Ps.t("We had some trouble connecting. Please try again."):"We had some trouble connecting. Please try again."}},{key:"render",value:function(){var e=this.props,t=e.align,n=e.message,r=e.type;return $e.a.createElement(Ji.d,{type:r,align:t,level:Ji.b.error,className:"margin_bottom_100"},n||this.getGeneralError())}}]),t}(Je.Component);Ds.displayName="AppViewError";Ds.defaultProps=As;var Ls=Object(It.b)(function(e){return{featureAppViewsV1:Object(r.j)(e,"feature_app_views_v1")}})(Ds),qs=n("9MBZ"),Fs=function(e){function t(){return _t()(this,t),kt()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ct()(t,e),yt()(t,[{key:"render",value:function(){var e=this.props,t=e.serverErrors,n=e.showErrors,r=e.viewId,a=e.viewState,i=e.setViewState,o=e.unsetViewState,s=e.children;return $e.a.createElement(qs.a.Provider,{value:{serverErrors:t,showErrors:n,viewId:r,viewState:a,setViewState:i,unsetViewState:o}},s)}}]),t}(Je.Component);Fs.displayName="AppViewProvider",Fs.defaultProps={viewId:void 0,viewState:void 0,showErrors:!1,serverErrors:void 0,setViewState:Te.a,unsetViewState:Te.a};var Bs=Fs,Us=n("6Iy0"),Hs=n("vOh4"),Ks=n("EsOt"),Gs=(is.a.maybeUnknown(is.a.AppView),fe.b.object,fe.b.bool,fe.b.bool,fe.b.oneOf(Object(Xi.a)(Us.a)).isRequired,fe.b.func,fe.b.object,fe.b.bool,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.bool,{onViewErrorsUpdate:Te.a,serverErrors:{},showErrors:!1,view:void 0,isLoading:!1,loadingFailed:!1,viewState:void 0,featureAppViewsV1:!1}),Vs=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.viewErrors={},Object(Ii.a)(n,["setViewState","unsetViewState","retryLoad","handleStateUpdate","handleAction","renderViewContents"]),n}return Ct()(t,e),yt()(t,[{key:"setViewState",value:function(e){var t=this,n=e.elementState,r=e.elementError,a=this.props,i=a.view,o=a.viewState,s=Object(te.a)(o,"values",{});Object.keys(n).forEach(function(e){s[e]=rr()({},n[e])}),Object.keys(r).forEach(function(e){r[e]?t.viewErrors[e]=r[e]:delete t.viewErrors[e]}),this.props.dispatchUpdateViewState({view:i,viewState:rr()({},o,{values:s})}),this.props.onViewErrorsUpdate(rr()({},this.viewErrors))}},{key:"unsetViewState",value:function(e){var t=e.blockId,n=e.actionId,r=this.props,a=r.view,i=r.viewState,o=rr()({},i.values);o[t]&&o[t][n]&&(delete o[t][n],Object(Rn.a)(o[t])&&delete o[t]),delete this.viewErrors[t],this.props.dispatchUpdateViewState({view:a,viewState:rr()({},i,{values:o})}),this.props.onViewErrorsUpdate(rr()({},this.viewErrors))}},{key:"retryLoad",value:function(){this.props.dispatchReloadView({id:this.props.view.id})}},{key:"handleAction",value:function(e){var t=this.props.view;return!Object(Hs.l)(t.blocks,e.blockId)&&t.bot_id?this.props.dispatchSendActions({serviceId:t.bot_id,serviceTeamId:t.team_id,container:{type:Us.a.view,view_id:t.id},actions:[e]}):Promise.resolve()}},{key:"handleStateUpdate",value:function(e,t){var n=this.props,r=n.view,a=n.viewState,i=rr()({},t);Object.keys(i).forEach(function(e){i[e]||delete i[e]}),this.viewErrors=i,this.props.dispatchUpdateViewState({view:r,viewState:rr()({},a,{values:rr()({},e)})}),this.props.onViewErrorsUpdate(rr()({},this.viewErrors))}},{key:"renderViewContents",value:function(){var e=this.props,t=e.view,n=e.serverErrors,r=e.showErrors,a=e.containerContext,i=e.viewState;return $e.a.createElement(Bs,{key:t.id,viewId:t.id,viewState:i,serverErrors:n,showErrors:r,setViewState:this.setViewState,unsetViewState:this.unsetViewState},$e.a.createElement(Ks.a,{serviceId:t.bot_id,blocks:t.blocks,blocksContainerContext:a,onAction:this.handleAction,container:Us.a.view}))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.loadingFailed;if(!e.featureAppViewsV1)return null;return t?$e.a.createElement(Qi.a,{size:"jumbo"}):n?$e.a.createElement(Ls,{retryHandler:this.retryLoad}):this.renderViewContents()}}]),t}(Je.Component);Vs.displayName="AppView";Vs.defaultProps=Gs;var zs=Object(It.b)(function(e){var t=ys(e);return{view:t,viewState:js(e,t),isLoading:Object(Fi.d)(t),loadingFailed:Object(Fi.c)(t),featureAppViewsV1:Object(r.j)(e,"feature_app_views_v1")}},function(e){return{dispatchReloadView:function(t){return e(Es(t))},dispatchSendActions:function(t){return e(Object(Ms.b)(t))},dispatchUpdateViewState:function(t){return e(Object(es.f)(t))}}})(Vs),Ys=n("pW9/"),Ws=n("CaXY"),Qs=(n("GOkG"),new wt.b("app_view_modal")),Xs="update",Zs="clear",Js="push",$s=(is.a.maybeUnknown(is.a.AppView),fe.b.object,fe.b.oneOfType([fe.b.bool,is.a.maybeUnknown(is.a.App)]),fe.b.string,fe.b.bool,fe.b.bool,fe.b.object.isRequired,fe.b.object,fe.b.object,fe.b.string.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.func.isRequired,fe.b.bool,{view:void 0,viewState:void 0,app:void 0,appId:void 0,isLoading:!1,loadingFailed:!1,submitButton:void 0,closeButton:void 0,featureAppViewsV1:!1}),ec=function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clientErrors=void 0,n.submitAndUpsertViewPromise=void 0,n.state={submittingFailed:!1,isSubmitting:!1,showErrors:!1,errorMsg:void 0,errors:void 0},Object(Ii.a)(n,["renderTitle","maybeRenderGeneralError","maybeRenderSubmittingSpinner","handleWizardClose","handleWizardNext","handleWizardBack","submit","handleSubmitRejected","handleSubmitResolved","handleViewErrorsUpdate"]),n}return Ct()(t,e),yt()(t,[{key:"componentWillUnmount",value:function(){this.submitAndUpsertViewPromise&&this.submitAndUpsertViewPromise.cancel&&this.submitAndUpsertViewPromise.cancel()}},{key:"handleWizardClose",value:function(){this.close(),this.removeView({viewId:this.props.view.root_view_id,shouldDeleteView:!0})}},{key:"handleWizardNext",value:function(){this.submit()}},{key:"handleWizardBack",value:function(){this.back()}},{key:"handleSubmitRejected",value:function(e){this.setState(function(){return{errorMsg:e.error,errors:e.errors,showErrors:!0,isSubmitting:!1,submittingFailed:!0}})}},{key:"handleSubmitResolved",value:function(e){var t=this.props.view;e===Xs||e===Js?this.setState(function(){return{errorMsg:"",errors:{},showErrors:!1,isSubmitting:!1,submittingFailed:!1}}):e===Zs?(this.close(),this.removeView({viewId:t.root_view_id})):e||(t.previous_view_id?(this.setState(function(){return{errorMsg:"",errors:{},showErrors:!1,isSubmitting:!1,submittingFailed:!1}}),this.props.dispatchSetActiveViewId(t.previous_view_id)):this.close(),this.removeView())}},{key:"handleViewErrorsUpdate",value:function(e){this.clientErrors=e}},{key:"submit",value:function(){if(Object(Rn.a)(this.clientErrors)){this.setState(function(){return{errorMsg:"",errors:{},showErrors:!1,isSubmitting:!0,submittingFailed:!1}});var e=this.props,t=e.dispatchSubmitAndUpsertView,n=e.view,r=e.viewState;this.submitAndUpsertViewPromise=t({view:n,viewState:r}).then(this.handleSubmitResolved).catch(this.handleSubmitRejected)}else this.setState(function(){return{showErrors:!0}})}},{key:"back",value:function(){var e=this.props.view;e.previous_view_id?(this.props.dispatchSetActiveViewId(e.previous_view_id),this.removeView({shouldDeleteView:!0})):(this.close(),this.removeView({viewId:e.clear_on_close?e.root_view_id:e.id,shouldDeleteView:!0}))}},{key:"close",value:function(){this.props.dispatchCloseModal()}},{key:"removeView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewId,n=e.shouldDeleteView,r=t||this.props.view.id;this.props.dispatchRemoveViewById(r),n&&this.props.dispatchDeleteView(r)}},{key:"maybeRenderGeneralError",value:function(){return!this.props.isLoading&&!this.props.loadingFailed&&!this.state.isSubmitting&&this.state.submittingFailed&&this.state.errorMsg!==os?$e.a.createElement(Ls,{retryHandler:this.submit}):null}},{key:"maybeRenderSubmittingSpinner",value:function(){return this.state.isSubmitting?$e.a.createElement(Qi.a,{size:"jumbo",className:"p-app_dialog__submitting_spinner"}):null}},{key:"renderTitle",value:function(){var e=this.props.view.title||this.props.title,t=this.props,n=t.featureAppViewsV1,r=t.app,a=t.defaultAppIcon,i=Object(Ui.a)(r,72,a),o=n?Qs.t("Header Icon"):"";return $e.a.createElement("div",{className:"p-app_dialog__title"},$e.a.createElement("img",{alt:o,className:"p-app_dialog__title_icon",src:i}),$e.a.createElement(Ys.a,rr()({className:"p-app_dialog__title_text"},e)))}},{key:"renderBackButton",value:function(){var e=this.props,t=e.closeButton,n=e.view.close||t;return n||(n={type:"plain_text",text:"Cancel",emoji:!0}),$e.a.createElement(Ys.a,n)}},{key:"renderNextButton",value:function(){var e=this.props,t=e.submitButton,n=e.view,r=e.isLoading,a=e.loadingFailed,i=!r&&!a&&n.submit||(r||a)&&t;return i&&$e.a.createElement(Ys.a,i)}},{key:"render",value:function(){var e=this.state,t=e.isSubmitting,n=e.showErrors,r=e.errors,a=this.props.title,i=this.renderNextButton,o=Yi()("p-app_view_modal",{"p-app_view_modal--submitting":t});return $e.a.createElement(xs,{className:o,title:this.renderTitle(),titleAria:a.text,showNextButton:!!i,nextButton:this.renderNextButton(),nextButtonIsDisabled:t,nextOnEnterPressed:!1,onNext:this.handleWizardNext,backButton:this.renderBackButton(),onBack:this.handleWizardBack,onClose:this.handleWizardClose},this.maybeRenderGeneralError(),$e.a.createElement(zs,{containerContext:Ws.a.modal,onViewErrorsUpdate:this.handleViewErrorsUpdate,showErrors:n,serverErrors:r}),this.maybeRenderSubmittingSpinner())}}]),t}(Je.Component);ec.displayName="AppViewModal";ec.defaultProps=$s;var tc=Object(It.b)(function(e,t){var n=t.appId,a=ys(e);return{view:a,viewState:js(e),app:Object(Bi.e)(e,n),isLoading:Object(Fi.d)(a),loadingFailed:Object(Fi.c)(a),defaultAppIcon:Object(Bi.f)(e),featureAppViewsV1:Object(r.j)(e,"feature_app_views_v1")}},function(e){return{dispatchCloseModal:function(t){return e(Object(tt.a)(t))},dispatchSetActiveViewId:function(t){return e(Object(es.d)(t))},dispatchRemoveViewById:function(t){return e(Is(t))},dispatchDeleteView:function(t){return e(ls(t))},dispatchSubmitAndUpsertView:function(t){return e(Cs(t))}}})(ec),nc=Object(ae.b)("Open an app view in a modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.title,i=n.submitButton,o=n.closeButton,s=$e.a.createElement(tc,{appId:r,title:a,submitButton:i,closeButton:o});e(Object(tt.e)({element:s}))});nc.propTypes={title:fe.b.object,submitButton:fe.b.object,closeButton:fe.b.object};var rc=nc;Object(wn.a)("view_opened",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.view_id,n=e.view_type,a=e.previous_view_id,i=e.client_token,o=e.timeout_range,s=e.title,c=e.submit,l=e.close,u=e.app_id,d=arguments[1],b=(0,arguments[2])();if(Object(r.j)(b,"feature_app_views_v1")&&Ho.a.check(i)&&!(Ho.a.getTimeDelta(i).delta>=o)){var p=ys(b);(!p&&!a||p&&p.id===a)&&(d(Object(es.d)(t)),p||n!==U.a.modal||d(rc({appId:u,title:s,submitButton:c,closeButton:l})))}}),Object(wn.a)("view_updated",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).view_id,t=arguments[1],n=(0,arguments[2])();if(Object(r.j)(n,"feature_app_views_v1")){var a=Object(se.b)(n);_s(a,[e]),t(Es({id:e}))}});var ac=n("Ddh9");function ic(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).app,t=arguments[1];e&&t(Object(Bi.c)([e]))}Object(wn.a)("apps_installed",ic),Object(wn.a)("apps_changed",ic),Object(wn.a)("apps_uninstalled",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).app_id,t=arguments[1];arguments[2],function(e,t){e&&t(Object(Bi.b)([e]))}(e,t),function(e,t){t(Object(ac.d)(e))}(e,t)});var oc=Object(zr.a)("Runs a benchmark on a RTM event",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method,a=n.identifier,i=n.loadtest,o=n.args;return e(Object(ge.a)({method:"api.benchmark",args:{m:r,id:a,lt:i,a:o}})).catch(Te.a)});oc.propTypes={method:fe.b.string,identifier:fe.b.string,loadtest:fe.b.any,args:fe.b.any};var sc=["fast_disco","fetch_auth","reload","slow_disco"];Object(wn.a)("benchmark",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.m,a=e.pct,i=e.sub,o=e.lt,s=e.a,c=e.id;sc.indexOf(r)>=0?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.m,a=e.pct,i=e.sub,o=e.id;if(Object(V.a)()&&Object(pe.a)(a)&&Object(pe.a)(i)&&!document.hasFocus()){var s=n();Object(_e.c)({state:s}).count("sbb_start");var c=Object(C.a)({state:s});if(c.info("Performing Sonic benchmark '"+r+"' with run id '"+o+"'"),o){if(window.sessionStorage.getItem("sonic_benchmarks_"+o))return;window.sessionStorage.setItem("sonic_benchmarks_"+o,1)}switch(r){case"fast_disco":t(Object(jr.d)());break;case"fetch_auth":Object(fr.i)();break;case"reload":Object(Ve.b)({reason:"sonic_benchmark"});break;case"slow_disco":t(Object(jr.a)()),t(Object(jr.d)());break;default:c.warn("Unable to run Sonic benchmark command '"+r+"'")}}}(e,t,n):Object(pe.a)(a)&&Object(pe.a)(i)&&t(oc({method:r,loadtest:o,args:s,id:c}))});var cc=n("N52Z");function lc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bot;(0,arguments[1])(Object(cc.h)(e))}Object(wn.a)("bot_added",lc),Object(wn.a)("bot_changed",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bot,t=arguments[1];arguments[2],lc({bot:e},t),function(e,t){t(Object(ac.e)([e.id]))}(e,t)});n("DTdi");var uc=n("dYt1"),dc=n("m8R6"),bc=n("vFlG"),pc=n("BeL+"),hc=n("IzLi"),mc=n("ExPg"),fc=n("oIqc"),vc=n("XRnC"),gc=Object(ae.b)("Open a conversation by channel and member ID",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,a=n.user,i=t(),o=Object(c.u)(i,r)&&Object(c.d)(i,r);if(o){if(e(Object(N.updateOneKeyForChannel)({id:r,is_open:!0})),Object(d.eb)(o))if(!(Object(u.l)(i,a)&&Object(u.c)(i,a)))return void Object(C.a)({getState:t}).error("Unknown member "+a);if(Object(mc.d)(t(),a||r)){var s=Object(mc.c)(t(),a||r);s&&e(Object(vc.a)({channelId:r,text:s})),e(Object(xa.a)({id:r})),e(Object(mc.a)({memberId:a,channelId:r}))}e(Object(N.updateOneKeyForChannel)({id:r,opened_this_session:!0})),e(Object(ce.c)({channelId:r,openedThisSession:!0})),Object(d.eb)(o)&&Object(fc.b)(Object(c.d)(t(),r))}else Object(C.a)({getState:t}).error("Unknown channel "+r)});gc.propTypes={channelId:fe.b.string,memberId:fe.b.string};var _c=n("0u40"),Oc=n("sg/O"),yc=n("zbZx"),jc=n("q4bl"),kc=n("FsHF"),Ec=n("iTOt"),Cc="CHANNEL-STATUS";function Ic(e){var t={};return Object(bc.a)(e,"is_moved")&&(t.isMoved=!0===e.is_moved),Object(bc.a)(e,"is_frozen")&&(t.isFrozen=!0===e.is_frozen),t}function wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.channel,a=n(),i=Object(c.u)(a,r)&&Object(c.d)(a,r);if(i){if(!Object(d.V)(i)){Object(C.a)({getState:n}).info(Cc,"Archived channel "+r);var o=void 0;if(Object(d.yb)(i)){var s=Object(u.b)(a);o=!Object(sa.xb)(s)&&Object(d.kb)(i)}else Object(d.xb)(i)&&(o=!!Object(d.ob)(i));var l={id:r,wasArchivedThisSession:o},b=Ic(e);t(Object(N.archiveChannel)(rr()({},l,b)))}}else Object(C.a)({getState:n}).warn("Received archive event for an unknown channel: "+r)}function Sc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2];if(Object(d.eb)(e))return t(Object(Ea.a)({channel:e})),Object(kc.d)(),t(Object(N.updateOneKeyForChannel)({id:e.id,opened_this_session:!0})),void t(Object(ce.c)({channelId:e.id,openedThisSession:!0}));if(!Object(sa.xb)(Object(u.b)(n()))){Object(C.a)({getState:n}).info(Cc,"Created channel "+e.id);var r=t(Object(Ea.a)({channel:e}));Object(Zr.d)(r)}}var Tc,Rc=(Tc=Object(An.method)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.user;(0,arguments[1])(gc({channel:t,user:n}))}),function(e,t){return Tc.apply(this,arguments)});function Nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.converted_to,a=arguments[1],o=arguments[2],s=o(),l=Object(c.u)(s,t)&&Object(c.d)(s,t);if(l){a(Object(N.updateOneKeyForChannel)({id:t,is_open:!1}));var u=void 0;if(n&&(a(Object(N.updateOneKeyForChannel)({id:t,latest:null})),u=n),t===Object(i.a)(o())){var b=Object(r.i)(o());if(Object(V.a)())if(u=u||Object(Ia.a)(o()),Object(A.k)(s))a(Object(xa.a)({id:u}));else{var p=Object(Ec.b)(o()),h=Object(Ec.c)(o());a(Object(Ec.e)({routeName:p,params:rr()({},h,{entityId:u})}))}else b&&u?a(Object(xa.a)({id:u})):b&&Object(H.a)()}Object(d.eb)(l)&&Object(fc.a)(Object(c.d)(o(),t))}else Object(C.a)({getState:o}).error("Unknown channel "+t)}function xc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2],r=n();Object(c.u)(r,e)&&Object(c.d)(r,e)?(Object(C.a)({getState:n}).info(Cc,"Deleted channel "+e),t(Object(o.d)({ids:[e]}))):Object(C.a)({getState:n}).warn("Received deleted event for an unknown channel: "+e)}function Mc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2];Object(C.a)({getState:n}).info(Cc,"You joined channel "+e.id);var r=n();!Object(d.lb)(e)&&!Object(d.xb)(e)||Object(d.Y)(e)||Object(c.u)(r,e.id)&&Object(c.d)(r,e.id)&&Object(C.a)({getState:n}).warn("Received join event for an mpim or group we already know about ("+e.id+"); ignoring it.");var a=rr()({},e,{is_member:!0}),i=t(Object(Ea.a)({channel:a}));if(t(Object(o.b)(i)),Object(u.k)(r)){var s=Object(u.b)(r);t(Object(l.g)([s]))}}function Pc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2];Object(C.a)({getState:n}).info(Cc,"You left channel "+e);var r=n(),a=Object(c.u)(r,e)&&Object(c.d)(r,e);if(a){Object(d.kb)(a)&&t(Object(N.leaveChannel)(a));var i=Object(u.k)(r);if((Object(d.xb)(a)||i)&&t(Object(o.d)({ids:[a.id]})),i){var s=Object(u.b)(r);t(Object(l.g)([s]))}}else Object(Zr.q)(e)||Object(C.a)({getState:n}).warn("Received left event for a channel we don't know about ("+e+"); ignoring it.")}function Ac(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2],r=n();Object(c.u)(r,e.id)&&Object(c.d)(r,e.id)?(Object(C.a)({getState:n}).info(Cc,"Renamed channel "+e.id),t(Object(N.renameChannel)({id:e.id,name:e.name,name_normalized:e.name_normalized,_name_lc:e.name.toLowerCase()}))):Object(C.a)({getState:n}).warn("Received rename event for an unknown channel: "+e.id)}function Dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],a=e.channel,i=n(),o=Object(c.u)(i,a)&&Object(c.d)(i,a);if(o){if(!(!Object(d.V)(o)||Object(r.j)(i,"feature_esc_disconnect_v2_client")&&Object(d.bb)(o))){Object(C.a)({getState:n}).info(Cc,"Unarchived channel "+a),Object(d.yb)(o)&&o.was_archived_this_session&&t(Object(N.joinConversationApi)({channelId:a,inBackground:!0}));var s={id:a},l=Ic(e);t(Object(N.unarchiveChannel)(rr()({},s,l)))}}else Object(C.a)({getState:n}).warn("Received unarchive event for an unknown channel: "+a)}function Lc(e,t,n){var r=e.channel,a=e.ts,i=e.type,o=n(),s=Object(c.u)(o,r)&&Object(c.d)(o,r);"group_marked"===i&&Object(d.lb)(s)||s&&t(Object(jc.c)({id:r,ts:a}))}function qc(e,t,n){var r=Object(C.a)({getState:n,label:Cc}),a=e&&e.channel&&e.channel.id;if(a){var i=n();Object(c.u)(i,a)&&Object(c.d)(n(),a)?Object(d.rb)(e.channel)||Object(d.qb)(e.channel)?(r.info("Received channel_converted_to_shared for "+a),t(Object(N.convertToShared)({channel:e.channel}))):r.warn("Received channel_converted_to_shared for a non-org-shared, non-global-shared channel: "+a+", ignoring."):r.info("Received channel_converted_to_shared on missing channel: "+a+", ignoring.")}else r.warn("Received channel_converted_to_shared without a channel, ignoring.")}function Fc(e,t,n){var a=e&&e.type,i=e&&e.channel;if(i){var o=n();Object(c.u)(o,i)&&Object(c.d)(o,i)?t(Object(x.i)({channelId:i,includeThreads:Object(r.j)(o,"feature_react_threads")})):Object(C.a)({getState:n}).warn("Received "+a+" for an unknown channel: "+i)}else Object(C.a)({getState:n}).warn("Received "+a+" without a 'channel' id.")}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.is_global_shared,r=e.teams,a=e.type,i=arguments[1],s=arguments[2],l=s(),u=Object(C.a)({getState:s,label:Cc});if(a)if(Object(yc.d)(l))if(t){var b=Object(c.d)(s(),t,!1);if(b)if(Object(d.rb)(b)){u.info("Received "+a+" for "+t);var p=Object(se.b)(l);if("teams_left_shared_channel"===a&&r.indexOf(p)<0)return u.info("Handling "+a+", current team ("+p+") was removed from "+t+", removing channel from store."),void i(Object(o.d)({ids:[t]}));var h=r,m=r;if("teams_joined_shared_channel"===a)if(n)h=[];else{var f=Object(d.B)(l,b)||[];m=Object(pc.a)([].concat(J()(m),J()(f))),h=Object(pc.a)(h.concat(f))}i(Object(N.updateOrgAccessForChannel)({channelId:t,orgWide:n,teamIds:h,internalTeamIds:m}))}else u.warn("Received "+a+" on non-org shared channel: "+t+", ignoring.");else u.info("Received "+a+" on missing channel: "+t+", ignoring.")}else u.warn("Received "+a+" without a channel, ignoring.");else u.warn("Received "+a+" on a non-enterprise, ignoring.");else u.warn("Received teams_*_shared_channel without a type, ignoring.")}Object(wn.a)("channel_archive",wc),Object(wn.a)("channel_changed",function(e,t,n){var r=n(),a=Object(se.b)(r),i=Object(C.a)({teamId:a,label:Cc}),o=e?e.channel:null;o&&o.id?(i.info("Channel "+o.id+" known to have changed; marking as stale so it will be refetched when needed"),Object(_c.d)(a,[o.id]),t(Object(ka.c)(o.id)),t(Object(ia.c)(o.id))):i.warn("Received a backfill with no channel ID: "+JSON.stringify(e))}),Object(wn.a)("channel_created",Sc),Object(wn.a)("channel_deleted",xc),Object(wn.a)("channel_joined",Mc),Object(wn.a)("channel_left",Pc),Object(wn.a)("channel_rename",Ac),Object(wn.a)("channel_unarchive",Dc),Object(wn.a)("channel_updated",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.channels,a=e.updates,i=arguments[1],o=arguments[2],s=o(),l=Object(u.b)(s),d=Object(C.a)({getState:o,label:Cc}),b=[];n?b=n:t&&(b=[t]),b&&b.length?b.forEach(function(e){if(Object(c.d)(s,e,!1))if(a&&Object(hc.a)(a)){var t=Object(uc.a)(a);if(Object(bc.a)(a,"is_archived")){var n=rr()({channel:e},a);a.is_archived?wc(n,i,o):Dc(n,i,o)}if(Object(bc.a)(a,"permissions"))if(Object(r.j)(s,"feature_announce_only_websocket")){var u=Object(Oc.a)(s,{prefValue:a.permissions.post,user:l}),b=Object(Oc.a)(s,{prefValue:a.permissions.thread,user:l});t=rr()({},Object(dc.a)(t,["permissions"]),{is_read_only:!u&&!b,is_thread_only:!u&&b})}else t=rr()({},Object(dc.a)(t,["permissions"]));d.info("Received channel_updated for "+e),i(Object(N.handleUpdateChannelEvent)({channel:rr()({},t,{id:e})}))}else d.warn("Received channel_updated with no updates for channel: "+e+", ignoring.");else d.info("Received channel_updated on missing channel: "+e+", ignoring.")}):d.warn("Received channel_updated without a channel, ignoring.")}),Object(wn.a)("group_archive",wc),Object(wn.a)("group_deleted",xc),Object(wn.a)("group_joined",Mc),Object(wn.a)("group_left",Pc),Object(wn.a)("group_rename",Ac),Object(wn.a)("group_unarchive",Dc),Object(wn.a)("mpim_joined",Mc),Object(wn.a)("mpim_open",Rc),Object(wn.a)("im_created",Sc),Object(wn.a)("im_open",Rc),Object(wn.a)("im_deleted",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel,t=arguments[1],n=arguments[2],r=n(),a=Object(c.u)(r,e)&&Object(c.d)(r,e,!1),i=Object(C.a)({getState:n,label:Cc});if(a)if(Object(d.eb)(a)){var s=Object(d.G)(a),b=Object(u.c)(r,s,!1);!b||Object(sa.Gb)(b)?i.warn("Received im_deleted event for im ("+e+") with non-existent or unknown member ("+s+"), ignoring."):(Object(C.a)({getState:n}).info("Received im_deleted event for im ("+e+") with member ("+s+"), removing member ("+s+")."),t(Object(l.a)([b]))),Object(C.a)({getState:n}).info("Received im_deleted event for im ("+e+") with member ("+s+"), removing channel ("+e+")."),t(Object(o.d)({ids:[e]}))}else i.warn("Received im_deleted event for a non-im channel "+e+", ignoring");else i.warn("Received im_deleted event for an unknown im "+e+", ignoring")}),Object(wn.a)("mpim_close",Nc),Object(wn.a)("im_close",Nc),Object(wn.a)("channel_marked",Lc),Object(wn.a)("group_marked",Lc),Object(wn.a)("mpim_marked",Lc),Object(wn.a)("im_marked",Lc),Object(wn.a)("channel_converted_to_shared",qc),Object(wn.a)("group_converted_to_shared",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.group,a=Ss()(e,["group"]),i=Object(C.a)({getState:n,label:Cc});r?qc(rr()({},a,{channel:r}),t,n):i.warn("Received group_converted_to_shared without a group, ignoring.")}),Object(wn.a)("teams_joined_shared_channel",Bc),Object(wn.a)("teams_left_shared_channel",Bc),Object(wn.a)("channel_history_changed",Fc),Object(wn.a)("im_history_changed",Fc),Object(wn.a)("mpim_history_changed",Fc),Object(wn.a)("group_history_changed",Fc);var Uc=n("UXvI"),Hc=n("e5MT"),Kc=void 0;Object(wn.a)("commands_changed",function(e,t){var n=e.commands_removed,r=e.commands_updated,a=e.commands_cache_ts;n||r?(Object(rs.a)(n,function(e){return t(Object(Hc.b)({commandName:e.name}))}),t(Object(Hc.a)({commands:r,cacheTs:a}))):function(e){return Kc||(Kc=Object(Uc.a)(function(){return e(Object(ni.b)({resetPreviousCommands:!0}))},1e3,{leading:!1,trailing:!0})),Kc}(t)()});var Gc="DND";Object(wn.a)("dnd_updated",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dnd_status,n=e.type,a=e.user,i=arguments[1],o=arguments[2],s=o();if((Object(r.j)(s,"feature_sonic_dnd_rtm")||Object(sr.a)())&&Object(xn.e)(s,a)){Object(C.a)({getState:o}).info(Gc,"Received a "+n+" event for the current member ("+a+") with updated DND times");var c=t.next_dnd_start_ts,l=t.next_dnd_end_ts,u=t.snooze_enabled,d=t.snooze_endtime;i(Object(Mn.d)({nextDndStartTs:c,nextDndEndTs:l,snoozeEnabled:u,snoozeEndTs:d})),i(Object(Mn.a)({fetchDndTimes:!1}))}}),Object(wn.a)("dnd_updated_user",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dnd_status,n=e.type,a=e.user,i=arguments[1],o=arguments[2],s=o();if((Object(r.j)(s,"feature_sonic_dnd_rtm")||Object(sr.a)())&&a!==Object(r.b)(s)&&Object(xn.e)(s,a)){Object(C.a)({getState:o}).info(Gc,"Received a "+n+" event for the following member with updated DND times: "+a);var c=t.next_dnd_start_ts,l=t.next_dnd_end_ts;i(Object(xn.i)({memberId:a,nextDndStartTs:c,nextDndEndTs:l})),i(Object(Mn.a)({fetchDndTimes:!1}))}});var Vc=n("Fw/c"),zc=n("aM/h"),Yc=n("Qv4Q");Object(wn.a)("emoji_changed",function(e,t,n){if(e){var a=n();if(Object(r.j)(a,"feature_sonic_emoji")){var i=e.name,o=e.names,s=e.subtype,c=e.value,l=e.old_name,u=e.new_name,d=e.event_ts,b=Object(se.b)(a),p=Object(C.a)({teamId:b});if(d)if("add"!==s)"remove"!==s?"rename"!==s?p.warn("RTM","emoji_changed: unknown or missing subtype"):l&&u?t(Object(Vc.c)({teamId:b,cacheTs:d,prevName:l,nextName:u})):p.warn("RTM",'emoji_changed: "rename" subtype missing "old_name" or "new_name"'):Array.isArray(o)?t(Object(Vc.a)({teamId:b,cacheTs:d,names:o})):p.warn("RTM",'emoji_changed: "remove" subtype missing "names"');else if(i&&c){var h=Object(Yc.i)(Se()({},i,c)),m=h.emojis,f=h.aliases;t(Object(zc.a)({teamId:b,cacheTs:d,emojis:m,aliases:f}))}else p.warn("RTM",'emoji_changed: "add" subtype missing "name" or "value"');else p.warn("RTM","emoji_changed: missing event_ts")}}});var Wc=new wt.b("files");Object(wn.a)("email_shared",function(e,t,n){if(jn.X){var a=n();if(!Object(r.j)(a,"feature_email_notify"))return;var i=e.file_id;if(!i)return;var o=Object(Jn.h)(a,i),s=Object(se.b)(a),l=Object(c.j)(a,Object(u.b)(a).id);if(!l)return;var b=Object(Oo.a)(e.channels,l.id),p=Object(c.d)(a,Object($.a)(e.channels));if(!p)return void Object(C.b)().warn("invalid channel in email_shared RTM");var h={title:Wc.t("Shared with {channel_name}",{channel_name:Object(d.x)(a,p,{imIncludeAtSign:!1})}),content:o.subject||Wc.t("(No Subject)"),channel:"launch_uri",thread_ts:b?"slack://share-file?id="+i+"&team="+s:"slack://channel?team="+s+"&id="+p.id};b&&(h.subtitle=Wc.t("Click to Share")),Object(jn.hb)(h)}});Object(ir.b)("TS.model.enterprise",Te.a),Object(ir.b)("TS.model.enterprise.sso_provider.label",Te.a);var Qc=Object(ir.b)("TS.redux.teams.legacyUpdateSelfEnterpriseName",Te.a),Xc=Object(ir.b)("TS.enterprise.updateMenuWithName",Te.a);Object(ir.b)("TS.enterprise.workspaces.createLogoutURL",Te.a);Object(wn.a)("enterprise_rename",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;Qc(e),Xc(e)});var Zc=n("bPB8"),Jc=n("AuEd"),$c=n("RMtf"),el=n("9kTo");function tl(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).file_id,t=arguments[1],n=arguments[2];if(e){var r=n();if(Object(Jn.k)(r,e)){var a=Object(se.b)(r);if(Object(Jn.m)(a,e)){var i=Object(Jn.h)(r,e);Object(Jc.o)(a,[e]),Object(er.d)(i),Object(el.a)()&&r.docs&&r.docs[e]&&t(Object($c.b)())}}}}Object(wn.a)("file_created",tl),Object(wn.a)("file_public",tl),Object(wn.a)("file_private",tl),Object(wn.a)("file_change",tl),Object(wn.a)("file_shared",tl),Object(wn.a)("file_unshared",tl),Object(wn.a)("file_deleted",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.file_id,n=e.file_ids,r=arguments[1],a=arguments[2],i=n||[t];Object(Zc.a)(i).forEach(function(e){Object(sr.a)()?Object(Jn.h)(a(),e,!1)&&r(Object(Jn.q)({fileId:e})):Object(er.n)(e)})}),Object(wn.a)("file_comment_deleted",function(e,t,n){if(Object(r.j)(n(),"feature_file_comment_deleted_rtm_handler")){var a=e.file_id,i=e.comment;null!==Object(Jc.i)(n(),a,i)&&t(Object(Jc.p)({fileId:a,commentId:i}))}});var nl=n("35v0");function rl(e,t,n){(Object(V.a)()||"client"===Object(r.d)(n(),"app"))&&Object(nl.b)()}Object(wn.a)("shared_invite_code_created",rl),Object(wn.a)("shared_invite_code_disabled",rl);var al=Object(ir.b)("TS.help.onIssueChange"),il=n("iqSe");Object(wn.a)("issue_change",function(e,t){var n=e.issue;Object(sr.a)()?t(Object(il.e)(n)):al(n)});var ol=n("sRJn"),sl=n("/Ikh"),cl=n("x3yj"),ll=n("QYR6"),ul=n("6MAr"),dl=n("Nc+C"),bl=n("FN36"),pl=n("+epm");Object(wn.a)("member_joined_channel",function(e,t,n){var a=e.user,i=e.channel,o=e.inviter,s=n(),b=Object(u.l)(s,a)&&Object(u.c)(s,a),p=Object(c.u)(s,i)&&Object(c.d)(s,i),h=Object(r.b)(s),m=Object(u.b)(s),f=Object(C.a)({state:s}),v=t(Object(ka.h)({channelId:i,membershipInfo:Se()({},a,!0)}));if(v&&(t(Object(ia.h)({channelId:i})),t(Object(zo.g)({appUserId:a,channelId:i})),Object(sa.ab)(b)&&(Object(r.j)(s,"feature_m11n_channel_details")?t(Object(ol.c)(i)):Go(p))),p&&!Object(d.eb)(p)&&!Object(d.lb)(p)){if(!Object(d.kb)(p))return void f.info(a+" joined channel "+i+" but we are not a member; ignoring");if(f.info(a+" joined channel "+i),o&&a===h&&t(Object(ul.a)({channelId:i,inviter:o})),v){var g=Object(r.j)(s,"feature_stranger_danger")?!Object(pl.b)(s,a):Object(sa.Ab)(b);(Object(sa.lb)(b)||Object(sa.xb)(m))&&g&&(Object(r.j)(s,"feature_stranger_danger")?Object(ll.c)(Object(se.b)(s),[b.id]):t(Object(l.h)(b))),Object(Zr.g)(p,a)}}var _=Object(se.b)(s);t(Object(sl.d)({teamId:_,ids:[i]}))}),Object(wn.a)("member_left_channel",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user,n=e.channel,a=arguments[1],i=(0,arguments[2])(),o=Object(u.l)(i,t)&&Object(u.c)(i,t),s=Object(c.u)(i,n)&&Object(c.d)(i,n),b=Object(C.a)({state:i}),p=a(Object(ka.h)({channelId:n,membershipInfo:Se()({},t,!1)})),h=Object(se.b)(i);if(a(Object(sl.d)({teamId:h,ids:[n]})),p&&(a(Object(ia.h)({channelId:n})),a(Object(zo.h)({appUserId:t,channelId:n})),Object(sa.ab)(o)&&(Object(r.j)(i,"feature_m11n_channel_details")?a(Object(ol.d)({channelId:n,userId:t})):Go(s))),s&&!Object(d.eb)(s)&&!Object(d.lb)(s)){if(!Object(d.kb)(s))return void b.info(t+" left channel "+n+" but we are not a member; ignoring");if(b.info(t+" left channel "+n),p){var m=Object(u.b)(i),f=Object(r.j)(i,"feature_stranger_danger")?Object(pl.b)(i,t):!Object(sa.Ab)(o);(Object(sa.lb)(o)||Object(sa.xb)(m))&&f&&(Object(r.j)(i,"feature_stranger_danger")?Object(ll.c)(Object(se.b)(i),[o.id]):a(Object(l.h)(o))),Object(Zr.h)(s,t)}}}),Object(wn.a)("user_change",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).user,t=arguments[1],n=arguments[2];if(e){var a=n(),i=Object(u.l)(a,e.id)&&Object(u.c)(a,e.id);if(i){if(!Object(r.j)(a,"feature_degraded_send")&&i.id===Object(r.b)(a)&&e.profile&&!e.profile.email&&!Object(bl.a)(a,"display_email_addresses")){var o=i.profile&&i.profile.email;o&&(Object(C.a)({state:a}).info("user_change: email hidden via team pref. appending email from model for local user, so it is not lost in upsert."),e.profile.email=o)}Object(sr.a)()?t(Object(cl.a)({members:[e]})):Object(kc.e)(e)}}}),Object(wn.a)("user_typing",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user,n=e.channel,r=arguments[1],a=(0,arguments[2])();Object(u.l)(a,t)&&Object(u.c)(a,t)?Object(c.u)(a,n)&&Object(c.d)(a,n)?r(Object(dl.g)({channelId:n,memberId:t})):Object(C.a)({state:a}).warn("user_typing event for channel ("+n+") not in model; ignoring"):Object(C.a)({state:a}).info("user_typing event from user ("+t+") not in model; ignoring")});var hl=n("1Vww"),ml=n("H2PH"),fl=n("hOQf"),vl=n("zrSA"),gl=n("CwN9"),_l=n("qAkX"),Ol=n("Ypgw"),yl=n("utBT"),jl=n("gEbr"),kl=n("5tH5"),El=Object(ae.b)("If all threads is open, maybe update it after a new message arrives",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.channelId,o=n.threadTs,s=Object(Sa.c)(a,o),c=Object(C.a)({getState:t,label:"MAYBE-ALL-THREADS"});if(!Object(r.i)(t()))return Promise.resolve();var l=Object(i.a)(t()),u=Object(A.k)(t())||!Object(A.g)(t());return l===kl.a.allThreads&&u?e(Object(Ol.f)({channelId:a,threadTs:o})).then(function(n){if(!n)return Promise.resolve();c.info("Incrementing new reply count with "+s),e(Object(yl.l)());var r=Object(yl.e)(t());return Object(Gi.a)(r,{threadKey:s})?Promise.resolve():e(Object(jl.j)({channelId:a,threadTs:o,limit:5})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).msgs;if(t&&t.length){var n=Object(_l.a)(t).ts,r={threadKey:s,sortTs:n,hasUnreads:!0};c.info("Prepending "+s),e(Object(yl.n)({thread:r}))}})}):Promise.resolve()});El.propTypes={channelId:fe.b.string,threadTs:fe.b.string};var Cl=El,Il=n("Y+74"),wl=n("tyNn"),Sl=Object(ae.b)("Fetch a specific activity mention item by timestamp if the activity flexpane is open",function(e,t,n){var r=t();return"activity"!==Object(A.j)(r)?Promise.resolve():e(Object(wl.b)(n))});Sl.propTypes={channelId:fe.b.string.isRequired,messageTs:fe.b.string.isRequired};var Tl=Sl,Rl=n("2Zgd"),Nl=n("n8ZX"),xl=n("Fp75"),Ml=n("UEb0"),Pl=n("r31G"),Al=new Set;function Dl(e,t,n){var a=n();if(!Object(r.i)(a))return null;var i=Object(c.u)(a,e.channel)&&Object(c.d)(a,e.channel),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.msg,r=e.ts;return t&&(r||n)?t+":"+(r||n):Date.now().toString()}(e),s=void 0;if((s=Object(d.kb)(i)?"desktop_notification"===e.type?Object(xl.p)(a,e):Object(d.eb)(i)?Object(xl.q)(a,e,i):Object(xl.o)(a,e,i):Ml.a.NOT_A_MEMBER)===Ml.a.NONE&&Al.has(o)&&(s=Ml.a.ALREADY_SHOWN),s!==Ml.a.NONE){var l=Object(Ml.b)(s,i&&i.id,e.ts);l&&(Object(C.a)({getState:n}).warn("Notification ("+e.type+") suppressed because:\n"+l),Ll(a,{channel:i.id,timestamp:e.ts||e.msg,description:l}))}else t(Object(Pl.e)({message:e,modelObject:i,options:"desktop_notification"===e.type?{skip_formatting:!0,launch_uri:e.launchUri,image_uri:e.imageUri,avatar_image:e.avatarImage}:{}})),Al.add(o),Ll(a,{channel:i.id,timestamp:e.ts||e.msg,description:"Notification shown"});return s}function Ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={channel:t.channel,msg_ts:t.timestamp,desc:t.description};Object.keys(n).forEach(function(t){Object(_e.b)({state:e}).recordMetric(t,n[t])})}Object(wn.a)("desktop_notification",Dl),Object(wn.a)("dnd_override",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.timestamp,r=arguments[1],a=arguments[2],i=a(),o=Object(L.a)(i,t,n);o&&(o._ignore_dnd||(r(Object(Ca.a)([rr()({},o,{_ignore_dnd:!0})])),Dl(Object(L.a)(a(),t,n),r,a)))});var ql=n("/1FC"),Fl=n("jF/p"),Bl=n("CXsT"),Ul=n("tP3m"),Hl="RTM-THREADS",Kl=function(e,t,n){var r=n(),a=e.channel,i=e.message,o=Object(c.u)(r,a)&&Object(c.d)(r,a),s=Object(L.a)(r,a,i.ts),l=void 0;if(i&&i.latest_reply?l=i.latest_reply:i&&i.replies&&i.replies.length&&(l=Object(Fl.a)(i.replies,"ts").ts),s&&s.reply_count){var u=void 0;if(s&&s.latest_reply?u=s.latest_reply:s&&s.replies&&s.replies.length&&(u=Object(Fl.a)(s.replies,"ts").ts),l<u)return void Object(C.a)({getState:n}).info(Hl,"Not processing an older message_replied event, "+l+" < "+u+", in "+a)}Object(Rl.i)(e);var d=t(Object(Bl.a)({imsgs:[i],channelId:a}));t(Object(Ca.a)(d)),Object(Rl.k)(o,i,!0,!1)};Object(wn.a)("thread_subscribed",function(e,t,n){var r=e.subscription||{},a=r.channel,i=r.thread_ts,o=r.last_read;a&&i&&(Object(C.a)({getState:n}).info(Hl,"thread_subscribed "+a+" "+i),t(Object(Ol.i)({channelId:a,ts:i,subscribed:!0,lastRead:o})))}),Object(wn.a)("thread_unsubscribed",function(e,t,n){var r=e.subscription||{},a=r.channel,i=r.thread_ts,o=r.last_read;a&&i&&(Object(C.a)({getState:n}).info(Hl,"thread_unsubscribed "+a+" "+i),t(Object(Ol.i)({channelId:a,ts:i,subscribed:!1,lastRead:o})))}),Object(wn.a)("thread_marked",function(e,t){var n=e.subscription||{},r=n.channel,a=n.thread_ts,i=n.last_read;r&&a&&t(Object(Ol.g)({channelId:r,ts:a,lastRead:i}))}),Object(wn.a)("update_thread_state",function(e,t,n){if(Object(r.j)(n(),"feature_react_threads")){var a=e.has_unreads,i=e.timestamp,o=e.mention_count,s=e.mention_count_by_channel;Object(C.a)({getState:n}).info(Hl,"update_thread_state has_unreads:"+a+" mention_count:"+o+" ts:"+i),Object(r.j)(n(),"feature_incremental_unread_counts")?t(Object(F.p)({threadsHasUnreads:a,threadsMentionCountByChannel:Object(ql.a)(s)?{}:s})):t(Object(Ul.e)({hasUnreads:a,mentionCountByChannel:Object(ql.a)(s)?{}:s}))}}),Object(wn.a)("message",function(e,t,n){if(e){var a=n();switch(e.subtype){case"message_changed":return void function(e,t,n){var a=n(),i=Object(C.a)({state:a}),o=e.message,s=e.channel,l=e._from_evt_log,u=Object(c.u)(a,s)&&Object(c.d)(a,s);o?o.ts?u?(Object(Rl.i)(e),t(Object(gl.a)({message:o,channelId:s,fromEventLog:l})),Object(r.j)(a,"feature_sonic_activity")&&Object(fl.sb)(o)&&t(Object(wl.g)({channelId:s,messageTs:o.ts}))):i.error("unknown msg.channel:"+s):i.error("no message ts?"):i.error("no message?")}(e,t,n);case"message_deleted":return void function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleted_ts,n=e.channel,a=e._from_evt_log,i=arguments[1],o=arguments[2];i(Object(hl.a)({deleted_ts:t,channel:n,_from_evt_log:a}));var s=o();Object(r.j)(s,"feature_sonic_activity")&&i(Object(wl.g)({channelId:n,messageTs:t}))}(e,t,n);case"message_replied":return void Kl(e,t,n);case"channel_history_changed":case"group_history_changed":case"im_history_changed":case"mpim_history_changed":return;case"channel_purpose":case"group_purpose":!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.user,r=e.ts,a=e.purpose,i=arguments[1],o=arguments[2],s=o();if(Object(c.u)(s,t)&&Object(c.d)(s,t)){Object(C.a)({getState:o}).info(Cc,n+" changed purpose for channel "+t);var l={creator:n,last_set:r,value:a};i(Object(N.setChannelPurpose)({id:t,purpose:l}))}else Object(C.a)({getState:o}).warn("Received channel purpose change event for an unknown channel: "+t)}(e,t,n);break;case"channel_topic":case"group_topic":!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,n=e.user,r=e.ts,a=e.topic,i=arguments[1],o=arguments[2],s=o();if(Object(c.u)(s,t)&&Object(c.d)(s,t)){Object(C.a)({getState:o}).info(Cc,n+" changed topic for "+t);var l={creator:n,last_set:r,value:a};i(Object(N.setChannelTopic)({id:t,topic:l}))}else Object(C.a)({getState:o}).warn("Received topic change event for an unknown channel: "+t)}(e,t,n)}if(function(e,t,n){if(Object(V.a)()&&e&&e.channel){var r=t(Object(vl.a)(e));Object(vc.c)(n,t,r,e)}}(e,t,n),Dl(e,t,n),function(e,t,n){var a=n(),o=Object(r.b)(a);if(Object(r.j)(a,"feature_ally_sounds")&&Object(M.g)(a)&&Object(jn.cb)()&&!Object(fl.cb)(e,o)&&!Object(fl.ib)(e)&&Object(fl.bb)(e,Object(i.a)(a))){var s=Object(fl.x)(e,o,Object(Il.a)(a),Object(se.b)(a));Object(Nl.b)(s)}}(e,0,n),function(e,t){var n=Object(se.b)(t()),r=e.client_msg_id;Object(ml.b)(n,r)}(e,n),Object(r.j)(a,"feature_sonic_activity")){var o=Object(r.b)(a);if(!Object(fl.cb)(e,o)){var s=Object(Il.a)(a),l=Object(se.b)(a);Object(fl.x)(e,o,s,l)&&t(Tl({channelId:e.channel,messageTs:e.ts})).catch(Te.a)}}Object(r.j)(n(),"feature_react_all_threads")&&e.thread_ts&&t(Cl({channelId:e.channel,threadTs:e.thread_ts}))}});var Gl=n("zBEu");Object(wn.a)("slackbot_continue",Gl.c),Object(wn.a)("slackbot_response_sent",Gl.d),Object(wn.a)("slackbot_skip_or_stop",Gl.e);n("uLbz");var Vl=n("E06p"),zl=n("7dvU"),Yl=n("P9LH");var Wl=function(e,t){var n=t.file;return n&&1===Object.keys(n).length?Object(Jn.k)(e,n.id)?Object(Jn.h)(e,n.id):null:n},Ql=n("oKDV"),Xl=Object(ae.b)("Upserts a file after a change in the pinned status and returns the new message event",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.item,a=n.pinned,i=n.channelId,o=n.pinnedInfo,s=Wl(t(),r);if(!s)return r;var c=Object(Yl.a)(s,i,o),l=Object(Ql.a)(a,c,i);return e(Object(zl.a)({files:[l]})),rr()({},r,{file:l})});Xl.propTypes={channelId:fe.b.string.isRequired,item:fe.b.object.isRequired,pinned:fe.b.bool.isRequired,pinnedInfo:fe.b.object};var Zl=Xl,Jl=n("HI9p"),$l=n("M1dg"),eu=Object(ae.b)("Upserts a file after a change in a file comment pinned status and returns the new message event",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.item,a=n.pinned,i=n.channelId,o=Wl(t(),r);if(!o)return r;var s=r.comment,c=Object(Jl.a)(o.comments,function(e){return e.id===s.id}),l=rr()({},o),u=void 0;if(c>-1){var d=Object(Ql.a)(a,o.comments[c],i);u=rr()({},d),l.comments[c]=rr()({},d)}else u=s,l=Object($l.a)(s,o);return e(Object(zl.a)({files:[l]})),rr()({},r,{comment:u})});eu.propTypes={channelId:fe.b.string.isRequired,item:fe.b.object.isRequired,pinned:fe.b.bool.isRequired};var tu=eu,nu=n("1tet"),ru=n("0iF4"),au=n("uXhx"),iu={message:"message",file_comment:"file_comment",file:"file"},ou=function(e,t){var n=t.type;if(n!==e.type)return!1;switch(n){case iu.message:return e.message.ts===t.message.ts;case iu.file:return e.file.id===t.file.id;case iu.file_comment:return e.comment.id===t.comment.id;default:return!1}},su=Object(ae.b)("Update the pinned_items field for a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pinned,a=n.item,i=n.channelId,o=n.count,s=Object(C.a)({getState:t,label:"UPDATE_CHANNEL_PINNED_ITEMS"}),l=Object(c.d)(t(),i,!1);if(l){var u,d,b=rr()({},l,{pinned_items:l.pinned_items||[],pinned_items_count:l.pinned_items_count||0});if(Object(ru.b)(b))if(r)-1===(u=b.pinned_items,d=a,Object(Jl.a)(u,function(e){return ou(e,d)}))&&(b.pinned_items=[a].concat(J()(b.pinned_items)),Object(ru.i)(b,o),e(Object(N.addChannel)({channel:b})),Object(ru.c)(b,a,r));else b.pinned_items=function(e,t){return Object(au.a)(e,function(e){return ou(e,t)})}(b.pinned_items,a),Object(ru.i)(b,o),e(Object(N.addChannel)({channel:b})),Object(ru.c)(b,a,r);else e(Object(nu.r)({channelId:i,count:o}))}else s.warn("Channel matching "+i+" not found.")});su.propTypes={channelId:fe.b.string.isRequired,item:fe.b.object.isRequired,pinned:fe.b.bool.isRequired,count:fe.b.number.isRequired};var cu=su,lu=Object(ae.b)("Updates local state when pin status on a channel has changed",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pinned,a=n.item,i=n.channelId,o=n.pinCount,s=n.pinnedInfo,c={};r&&s&&(c.pinnedBy=s.pinned_by,c.pinnedTs=s.pinned_ts);var l=void 0;switch(a.type){case iu.message:l=e(Object(Vl.a)({pinned:r,item:a,channelId:i,pinnedInfo:c}));break;case iu.file_comment:l=e(tu({pinned:r,item:a,channelId:i}));break;case iu.file:l=e(Zl({pinned:r,item:a,channelId:i,pinnedInfo:c}))}e(cu({pinned:r,item:l,channelId:i,count:o}))});lu.propTypes={pinned:fe.b.bool.isRequired,item:fe.b.object.isRequired,channelId:fe.b.string.isRequired,maybeCount:fe.b.number,pinnedInfo:fe.b.object};var uu=lu;Object(wn.a)("pin_added",function(e,t,n){var a=Object(C.a)({getState:n,label:"PIN_ADDED_RTM"});if(e&&e.channel_id){var i=n(),o=e.channel_id;if(Object(c.d)(i,o,!1)){var s=e.item,l=e.pin_count,u=e.pinned_info;t(uu({pinned:!0,item:s,channelId:e.channel_id,pinCount:l,pinnedInfo:u})),Object(r.j)(i,"feature_sonic_pins")&&(Object(nu.i)(i,o)===nu.b.LOADED&&t(Object(nu.c)({items:[Object(nu.f)(s)],channelId:o})),t(Object(nu.r)({count:l,channelId:o})))}else a.warn("Channel matching "+o+" not found.")}else a.warn("RTM event missing, or missing channel_id.")}),Object(wn.a)("pin_removed",function(e,t,n){var a=Object(C.a)({getState:n,label:"PIN_REMOVED_RTM"});if(e&&e.channel_id){var i=n(),o=e.channel_id;if(Object(c.d)(i,o,!1)){var s=e.item,l=e.pin_count,u=e.pinned_info;t(uu({pinned:!1,item:s,channelId:e.channel_id,pinCount:l,pinnedInfo:u})),Object(r.j)(i,"feature_sonic_pins")&&(Object(nu.i)(i,o)===nu.b.LOADED&&t(Object(nu.n)({item:Object(nu.f)(s),channelId:o})),t(Object(nu.r)({count:l,channelId:o})))}else a.warn("Channel matching "+o+" not found.")}else a.warn("RTM event missing, or missing channel_id.")});var du=n("61j7"),bu=n("gSGL"),pu=n("59Je"),hu=n("XKj7"),mu=Object(ae.b)("Set currently muted channels from the muted_channels pref",function(e,t,n){var r=t(),a=Object(C.a)({state:r,label:"MUTED-CHANNELS"});if(n!==Object(f.g)(r,"muted_channels")){a.info("Muted channels changed, new muted channels: "+n),e(Object(v.b)({pref:"muted_channels",value:n}));var i=(Object(bu.a)(n)?n.split(","):[]).reduce(function(e,t){return e[t]=!0,e},{});e(Object(pu.e)(i)),Object(hu.b)()}else a.info("Muted channels haven't changed, returning early")});mu.propTypes=fe.b.string;var fu=n("ZRqz"),vu=new Set(["emoji_use","graphic_emoticons","emoji_mode","preferred_skin_tone"]),gu=new Set(["who_can_post_general"]);Object(wn.a)("pref_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.value,a=arguments[1],i=(0,arguments[2])();"arrow_history"===t&&(Object(V.a)()||Object(r.j)(i,"feature_sonic_inputs"))||("muted_channels"!==t?vu.has(t)?Object(hu.c)({name:t,value:n}):(a(Object(v.b)({pref:t,value:n})),Object(hu.e)({name:t,value:n})):a(mu(n)))}),Object(wn.a)("team_pref_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.value,r=arguments[1];"who_can_manage_ext_shared_channels"===t&&r(Object(fu.a)({pref:t,value:n})),gu.has(t)?Object(hu.d)({name:t,value:n}):(r(Object(du.a)({pref:t,value:n})),Object(hu.f)({name:t,value:n}),"dropbox_legacy_picker"===t&&Object(hu.d)({name:t,value:n}))});var _u=n("CPJ1"),Ou=n("9D+4"),yu=n("ZKnj"),ju="PRESENCE";Object(wn.a)("manual_presence_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.presence,n=e.type,r=arguments[1],a=arguments[2],i=Object(C.a)({getState:a});"away"===t||"active"===t?(i.debug("["+ju+"] ","Received a ws manual_presence_change event. Will update current member's presence to "+t),r(Object(yu.a)({presence:t}))):i.error(ju,"An unknown presence was received in the '"+n+"' event: '"+t+"'")}),Object(wn.a)("presence_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.presence,n=e.type,r=e.users,a=arguments[1],i=arguments[2],o=i(),s=Object(C.a)({getState:i});if("away"===t||"active"===t)if(Object(Rn.a)(r))s.error(ju,"The '"+n+"' event did not contain an array of users to update the presence for");else{s.debug("["+ju+"] ",'Received a ws presence_change event. Will update the following users to a status of "'+t+'": '+r.join(", "));var c=r.filter(function(e){return Object(u.l)(o,e)&&Object(Ou.f)(o,e)!==t}).map(function(e){return rr()({},Object(u.h)(o,e),{presence:t})});Object(Rn.a)(c)||(Object(_u.h)(a,c),c.forEach(function(e){Object(kc.a)(e)}))}else s.error(ju,"An unknown presence was received in the '"+n+"' event: '"+t+"'")});var ku=n("0fwO"),Eu=n("zfae"),Cu=n("Q+UV");function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.ts,r=e.file,a=e.comment;switch(t){case"message":return!!n;case"file":return"string"==typeof r;case"file_comment":return"string"==typeof r&&!!a;default:return!1}}function wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.ts,a=t.channel,i=t.file,o=t.comment;switch(n){case"message":return Object(L.a)(e,a,r)||Object(Rl.d)(r,a)||void 0;case"file":return Object(Jn.h)(e,i)||void 0;case"file_comment":return Object(Jn.i)(e,i,o)||void 0;default:return}}Object(wn.a)("reaction_added",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,n=e.reaction,a=e.user,i=e.url,o=e._from_evt_log,s=e.event_ts,c=arguments[1],l=arguments[2],u=l();if(Object(hc.a)(t)){if(Iu(t)){var d=wu(u,t);if(d){var b=t.channel,p=t.type,h=t.ts,m=t.file,f=t.comment,v=h||f||m,g=Object(Cu.c)(p,v,b),_=Object(r.b)(u),O=c(Object(Eu.a)({key:g,name:n,userId:a,url:i}));if(_!==a&&_===d.user){var y=!o&&"message"===p;Object(r.j)(l(),"feature_classic_nav")&&Object(A.k)(u)&&c(Object(vi.d)({key:g,emoji:n,userId:a,channelId:b})),Object(ku.a)({adding:!0,name:n,key:g,userId:a,eventTs:s,shouldAlert:y,channelId:b,url:i}),O&&Object(r.j)(u,"feature_sonic_activity")&&c(Tl({channelId:d.channel,messageTs:d.ts})).catch(Te.a)}if(O){var j=o||a!==Object(r.b)(u);Object(ku.b)({key:g,name:n,userId:a,type:p,shouldThrottle:j})}}}}else Object(C.a)({state:u}).error("reaction_added has no item")}),Object(wn.a)("reaction_removed",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,n=e.reaction,a=e.user,i=e.url,o=e._from_evt_log,s=e.event_ts,c=arguments[1],l=(0,arguments[2])();if(Object(hc.a)(t)){if(Iu(t)){var u=wu(l,t);if(u){var d=t.channel,b=t.type,p=t.ts,h=t.file,m=t.comment,f=p||m||h,v=Object(Cu.c)(b,f,d),g=Object(r.b)(l),_=c(Object(Eu.h)({key:v,name:n,userId:a,url:i}));if(g!==a&&g===u.user){var O=!o&&"message"===b;if(Object(ku.a)({adding:!1,name:n,key:v,userId:a,eventTs:s,shouldAlert:O,channelId:d,url:i}),_&&Object(r.j)(l,"feature_sonic_activity")){c(Object(wl.g)({channelId:u.channel,messageTs:u.ts}));var y=Object(Eu.e)(l,v);y&&y.length&&c(Tl({channelId:u.channel,messageTs:u.ts})).catch(Te.a)}}if(_){var j=o||a!==g;Object(ku.b)({key:v,name:n,userId:a,type:b,shouldThrottle:j})}}}}else Object(C.a)({state:l}).error("reaction_removed has no item")});var Su=n("2ILS"),Tu=n("Q9r6"),Ru="RTM-SHARED-CHANNELS";Object(wn.a)("external_org_migration_started",function(e,t,n){var r=e.team;Object(C.a)({getState:n,label:Ru}).info("Received external_org_migration_started for "+r.id+"."),t(Object(Su.k)({teamId:r.id,isMigrating:r.is_migrating})),t(Object(Tu.b)())}),Object(wn.a)("external_org_migration_finished",function(e,t,n){var r=e.team;Object(C.a)({getState:n,label:Ru}).info("Received external_org_migration_finished for "+r.id+"."),t(Object(Su.i)({teamId:r.id,externalOrgMigrated:!0,isMigrating:!1})),t(Object(Tu.b)())});var Nu=n("+Gfg"),xu=n("Ehcm"),Mu="message",Pu="file",Au="channel",Du="im",Lu="group";Object(wn.a)("star_added",function(e,t,n){if(e)if(e.item){if(t(Object(Nu.a)(e.item)),e.item.type===Mu){var r=t(Object(Bl.a)({imsgs:[e.item.message],channelId:e.item.channel}));t(Object(Ca.a)(r))}else if(e.item.type===Pu)t(Object(zl.a)({files:[e.item.file]}));else if(e.item.type===Au||e.item.type===Du||e.item.type===Lu){var a=Object(c.d)(n(),e.item.channel);if(!a||Object(d.Jb)(a))return;Object(xu.a)(e.item.channel,!0),t(Object(Ea.a)({channel:rr()({},a,{is_starred:!0}),reason:s.a.SET_STAR}))}Object(C.a)({getState:n}).info("RTM-STARS","star_added")}else Object(C.a)({getState:n}).info("RTM-STARS",'imsg type "'+e.type+'" has no item')}),Object(wn.a)("star_removed",function(e,t,n){if(e||e.item){if(t(Object(Nu.i)(e.item)),e.item.type===Mu){var r=t(Object(Bl.a)({imsgs:[rr()({},e.item.message,{is_starred:!1})],channelId:e.item.channel}));t(Object(Ca.a)(r))}else if(e.item.type===Pu){var a=Object(se.b)(n());Object(Jn.n)(a,[e.item.file.id])}else if(e.item.type===Au||e.item.type===Du||e.item.type===Lu){var i=Object(c.d)(n(),e.item.channel);if(!i||Object(d.Jb)(i))return;Object(xu.a)(e.item.channel,!1),t(Object(Ea.a)({channel:rr()({},i,{is_starred:!1}),reason:s.a.SET_STAR}))}Object(C.a)({getState:n}).info("RTM-STARS","star_removed")}else Object(C.a)({getState:n}).info("RTM-STARS",e.type+" has no item")});var qu=n("OtLZ"),Fu=n("cZF4"),Bu=n("Zg1Q"),Uu=Object(ir.b)("TS.ui.shared_channels_open_beta_modal.maybeShowSharedChannelsCreateCoachmark",Te.a),Hu=n("Z3Pq");var Ku=Object(ae.b)("Update profile fields in a team and its members if necessary",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.fields,i=void 0===a?[]:a,o=t(),s=r||Object(se.b)(o),c=Object(xr.i)(o,s,!1);if(c&&c.profile&&c.profile.fields){e(Object(Su.l)({teamId:s,fields:i}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.existingFields,n=void 0===t?[]:t,r=e.fields,a=void 0===r?[]:r,i=Object(Hu.a)(n,"id");return Object(ca.a)(a,function(e){return e.possible_values&&void 0!==i[e.id]&&"options_list"===i[e.id].type&&Object(Gi.a)(i[e.id].possible_values,function(t){return-1===e.possible_values.indexOf(t)})})}({existingFields:c.profile.fields,fields:i});u.length>0&&e(Object(l.e)({fields:u}))}});Ku.propTypes=fe.b.shape({teamId:fe.b.string,fields:fe.b.arrayOf(is.a.TeamProfileField).isRequired});var Gu=Ku,Vu=Object(ae.b)("delete profile fields from a team and its members",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.fieldsToDelete,i=void 0===a?[]:a,o=t(),s=r||Object(se.b)(o);e(Object(Su.a)({teamId:s,fieldsToDelete:i})),e(Object(l.f)({fieldsToDelete:i}))});Vu.propTypes=fe.b.shape({teamId:fe.b.string,fieldsToDelete:fe.b.arrayOf(fe.b.string).isRequired});var zu=Vu,Yu=n("jveC"),Wu=n("wR6u"),Qu=n("Gogr"),Xu=(fr.b,Qu.c);Object(wn.a)("accounts_changed",function(e,t,n){if(Object(sr.a)()){if(!Object(V.a)())return;Object(Wu.a)(n)}else Object(Bu.h)()}),Object(wn.a)("user_added_to_team",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).team_id,t=arguments[1],n=arguments[2],r=Object(C.a)({getState:n,label:"RTM"});if(Object(V.a)()){var a=Object(u.b)(n());a&&a.enterprise_user&&a.enterprise_user.teams&&t(Object(cl.a)({members:[rr()({},a,{enterprise_user:rr()({},a.enterprise_user,{teams:Object(Fu.a)(a.enterprise_user.teams,[e])})})]})),r.info("User was added to team "+e+"; re-fetching auth"),Object(Wu.b)(t,n,e)}else Object(sr.a)()||(r.info("User was added to team "+e),Object(kc.f)(e))}),Object(wn.a)("user_removed_from_team",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).team_id,t=arguments[1],n=arguments[2],r=Object(C.a)({getState:n,label:"RTM"});if(!Object(sr.a)())return r.info("User was removed from team "+e),void Object(kc.g)(e);var a=Object(u.b)(n());a&&a.enterprise_user&&a.enterprise_user.teams&&t(Object(cl.a)({members:[rr()({},a,{enterprise_user:rr()({},a.enterprise_user,{teams:Object(qu.a)(a.enterprise_user.teams,e)})})]}));var i=Object(se.b)(n()),o=Object.keys(Xu("teams")||{}).indexOf(e)>=0;(Object(V.a)()?o:e===i)?(r.info("User was removed from team "+e+"; re-fetching auth"),Object(Wu.c)(t,n,e)):r.info("User was removed from team "+e+" but it is not relevant to us; ignoring")}),Object(wn.a)("team_plan_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plan,n=e.can_add_ura,r=e.paid_features,a=arguments[1],i=arguments[2],o=Object(xr.d)(i());a(Object(Su.e)({shouldUpsertTeam:!1,forceUpdate:!0})).then(function(e){a(Object(Tu.c)({team:rr()({},o,e,{plan:t,can_add_ura:n})})),r&&a(Object(Ln.c)(r)),Object(V.a)()?a(Object(Yu.a)()):Uu()})}),Object(wn.a)("team_rename",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source_team,n=e.name,r=arguments[1],a=arguments[2],i=a(),o=Object(xr.d)(i);if(o){var s=t||o.id;r(Object(Su.g)({teamId:s,name:n}));var c=a(),l=Object(xr.i)(c,s);o.id===s?(Object(Bu.f)(l),Object(jn.Mb)(n)):Object(Bu.c)(l)}}),Object(wn.a)("team_icon_change",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source_team,n=e.icon,r=arguments[1],a=arguments[2],i=Object(xr.d)(a());if(i){var o=t||i.id;r(Object(Su.j)({teamId:o,icon:n}));var s=a(),c=Object(xr.d)(s);c.id===o&&(Object(Bu.a)(c),c.icon&&c.icon.image_68&&!0!==c.icon.image_default?Object(jn.xb)(c.icon,o):Object(C.a)({state:s}).warn("updateTeamIcon was called, but missing an image to set"))}}),Object(wn.a)("team_profile_reorder",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;(0,arguments[1])(Object(Su.h)({fields:e.fields})),Object(Bu.g)()}),Object(wn.a)("team_profile_change",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile;(0,arguments[1])(Gu({fields:e.fields})),Object(Bu.g)()}),Object(wn.a)("team_profile_delete",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).profile,t=arguments[1],n=e.fields;t(zu({fieldsToDelete:n})),Object(Bu.g)()}),Object(wn.a)("email_domain_changed",function(e,t,n){var r=Object(xr.d)(n());t(Object(Tu.c)({team:rr()({},r,{email_domain:e.email_domain})}));var a=Object(xr.d)(n());Object(Bu.e)(a)}),Object(wn.a)("team_domain_change",function(e,t,n){var r=Object(xr.d)(n());t(Object(Tu.c)({team:rr()({},r,{domain:e.domain})})),Object(jn.Lb)(e.url);var a=Object(xr.d)(n());Object(Bu.d)(a)});var Zu=n("BwAi"),Ju=n("mmRP"),$u=6e4,ed={},td={};function nd(e,t){return ed[e]&&ed[e][t]}function rd(e,t){return td[e]&&td[e][t]}function ad(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;clearTimeout(nd(e,t));var n=setTimeout(function(){Object(oe.i)(Object(cr.getStateByTeamId)(e))?Object(cr.dispatchForTeamId)(e,Object(Zu.a)()).tap(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(cr.dispatchForTeamId)(e,Object(Ju.a)(t))}).catch(function(t){Object(C.a)({teamId:e}).error("After delay, failed to fetch client counts for "+e+": "+t)}):ad(e,t)},Object(Fn.a)(t,0,.2));!function(e,t,n){ed[e]||(ed[e]={}),ed[e][t]=n}(e,t,n)}function id(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;clearInterval(rd(e,t));var n=setInterval(function(){Object(oe.i)(Object(cr.getStateByTeamId)(e))&&Object(cr.dispatchForTeamId)(e,Object(Zu.a)()).tap(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(cr.dispatchForTeamId)(e,Object(Ju.a)(t))}).catch(function(t){Object(C.a)({teamId:e}).error("On interval, failed to fetch client counts for "+e+": "+t)})},Object(Fn.a)(t,0,.2));!function(e,t,n){td[e]||(td[e]={}),td[e][t]=n}(e,t,n)}var od=Object(ae.b)("Poll client unreads API after delay",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).delay;return Object(r.j)(t(),"feature_vitess_sidebar")&&ad(Object(se.b)(t()),n)});od.propTypes={delay:fe.b.number};var sd=Object(ae.b)("Poll client unreads API on interval",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).interval;return Object(r.j)(t(),"feature_desync_resync")&&id(Object(se.b)(t()),n)});sd.propTypes={interval:fe.b.number},Object(ae.b)("Clear client unreads API timeout",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).delay,r=void 0===n?$u:n,a=nd(Object(se.b)(t()),r);a&&clearTimeout(a)}).propTypes={delay:fe.b.number};var cd=Object(ae.b)("Clear client unreads API interval",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).interval,r=void 0===n?$u:n,a=rd(Object(se.b)(t()),r);a&&clearInterval(a)});cd.propTypes={interval:fe.b.number};var ld=n("k2C/"),ud=n("UR+L"),dd=n("8blT"),bd=Object(Fn.a)(3e5,0,.2),pd=n("xGWg"),hd=n("M+2+"),md={};function fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(cr.getStateByTeamId)(e),r=Object(hd.a)(e).reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.ts;return(e[n]||(e[n]=[])).push(r),e},{});if(t.length){var a=t.reduce(function(e,t){return e[t]=!0,e},{}),i=Object(Jn.j)(e).filter(function(e){return Object(Yl.n)(Object(Jn.h)(n,e,!1)).some(function(e){return a[e]})});Object(Jn.n)(e,i),Object(_c.d)(e,t),t.forEach(function(t){r[t]&&(Object(hd.c)(e,t,r[t]),Object(cr.dispatchForTeamId)(e,Object(x.k)({channelId:t})))})}else Object(Jn.n)(e,Object(Jn.j)(e)),Object(_c.d)(e,Object(_c.a)(e)),Object.keys(r).forEach(function(t){return Object(hd.c)(e,t,r[t])}),Object(cr.dispatchForTeamId)(e,Object(x.k)())}function vd(e){var t=md[e];md[e]=[];for(var n=Object(cr.getStateByTeamId)(e),a=Object(r.b)(n),i=[],o=[],s=[],c=[],l=[],u=t.length,d=0;d<u;d++){var b=t[d];if(b===a){i.push(b);break}if(Object(g.a)(b))o.push(b);else if(Object(ld.b)(b))c.push(b);else{if(!Object(ld.a)(b)){l.push(b);break}s.push(b)}}var p=!(!i.length&&!l.length),h=!(!c.length&&!s.length),m=!!o.length;p?function(e){Object(V.a)()?Object(cr.dispatchForTeamId)(e,Object(Nn.e)()):Object(sr.a)()?(Object(cr.dispatchForTeamId)(e,Object(ud.c)()),Object(cr.dispatchForTeamId)(e,Object(Nn.b)())):Object(pd.b)()}(e):h?fd(e):m&&fd(e,o),function(e,t,n,r){if(!t){var a=[];if(n&&(a.push("channel_deleted","commands_changed","emoji_changed","file_deleted","team_domain_change","apps_uninstalled","subteam_deleted"),Object(sr.a)()||a.push("team_rename","team_domain_change")),r&&(a.push("channel_rename","file_deleted","pin_added","pin_removed","channel_history_changed","group_history_changed","im_history_changed","mpim_history_changed","teams_left_shared_channel"),Object(sr.a)()||a.push("channel_converted_to_shared")),a.length){var i=Object(cr.getStateByTeamId)(e),o=Object(pc.a)(a).join(","),s=Object(be.f)(i);if(s){var c=Object(cr.getStoreInstanceByTeamId)(e);c&&c.getState&&Object(Wn.e)(c.getState,{start:s,include:o})}}}}(e,p,h,m),Object(cr.dispatchForTeamId)(e,Object(Nn.d)(t)),Object(dd.a)(Object(cr.getStateByTeamId)(e))||(Object(cr.dispatchForTeamId)(e,cd({interval:bd})),Object(cr.dispatchForTeamId)(e,od({delay:bd})))}var gd,_d=(gd=Object(as.a)(function(){return Object(Uc.a)(vd,bd)}),function(e){return gd(e)(e)}),Od=Object(ae.b)("Invalidate client caches for topics",function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t(),i=Object(se.b)(a);(n=md[i]||(md[i]=[])).push.apply(n,J()(r)),_d(i)});Od.propTypes=fe.b.arrayOf(fe.b.string).isRequired;var yd=Object(ae.b)("Cancel pending invalidation for topics",function(e,t){var n=t(),r=Object(se.b)(n);md[r]=[]});yd.propTypes=null,Object(wn.a)("desync",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel_ids,t=void 0===e?[]:e,n=arguments[1],a=(0,arguments[2])();if(Object(r.j)(a,"feature_desync_resync")){var i=t.filter(function(e){return!Object(dd.b)(a,e)});i.length&&(n(Object(Nn.c)(i)),n(sd({interval:bd})))}}),Object(wn.a)("resync",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel_ids,t=void 0===e?[]:e,n=arguments[1],a=arguments[2];Object(r.j)(a(),"feature_desync_resync")&&n(Od(t))});var jd=n("Wy5O"),kd=n("sJR0"),Ed=n("pGee"),Cd=n("BYHq"),Id=n("uqAm");Object(wn.a)("subteam_updated",function(e,t,n){var a=n();if(e&&e.subteam&&e.subteam.id){var i=e.subteam,o=e.subteam.id,s=Object(Ed.i)(a,o)&&Object(Ed.e)(a,o);if(s){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.knownUserGroup,n=e.newUserGroup;return t?rr()({},n,{users:t.users||[]}):n}({knownUserGroup:s,newUserGroup:i});t(Object(kd.o)({userGroups:[c]})),Object(r.j)(n(),"feature_sonic_user_groups")||Object(Id.b)(o)}else Object(C.a)({getState:n}).warn("subteam_updated: User group "+o+" not in model.")}else Object(C.a)({getState:n}).warn("subteam_updated: No message event provided, or no subteam provided in the message event.")}),Object(wn.a)("subteam_members_changed",function(e,t,n){if(!Object(r.j)(n(),"feature_sonic_user_groups"))if(e&&e.subteam_id){var a=e.subteam_id,i=Object(Ed.i)(n(),a)&&Object(Ed.e)(n(),a);if(i){var o=i.users,s=void 0===o?[]:o,c=e.added_users,l=void 0===c?[]:c,u=e.removed_users,d=void 0===u?[]:u,b=s;l.length&&(b=Object(Fu.a)(b,l)),d.length&&(b=Object(jd.a)(b,d)),t(Object(kd.d)({groupId:i.id,users:b}))}else Object(C.a)({getState:n}).warn("subteam_members_changed: Received event for an unknown user group: "+a)}else Object(C.a)({getState:n}).warn("subteam_members_changed: No message event provided, or no subteam_id provided in the message event.")}),Object(wn.a)("subteam_created",function(e,t,n){e&&e.subteam?(t(Object(kd.o)({userGroups:[e.subteam]})),Object(r.j)(n(),"feature_sonic_user_groups")||Object(Id.b)(e.subteam.id)):Object(C.a)({getState:n}).warn("subteam_created: No message event provided, or no subteam provided in the message event.")}),Object(wn.a)("subteam_deleted",function(e,t,n){if(e&&e.subteam&&e.subteam.id){var a=e.subteam.id;t(Object(kd.j)(a)),Object(r.j)(n(),"feature_sonic_user_groups")||Object(Id.b)(a)}else Object(C.a)({getState:n}).warn("subteam_deleted: No message event provided, or no subteam provided in the message event.")}),Object(wn.a)("subteam_self_added",function(e,t,n){if(e&&e.subteam_id){var a=Object(r.b)(n()),i={groupId:e.subteam_id,memberId:a};t(Object(kd.b)(i)),t(Object(Cd.f)({groupId:e.subteam_id,isMember:!0}))}else Object(C.a)({getState:n}).warn("subteam_self_added: No message event provided, or no subteam id provided in the message event.")}),Object(wn.a)("subteam_self_removed",function(e,t,n){if(e&&e.subteam_id){var a=Object(r.b)(n());if(a){var i={groupId:e.subteam_id,memberId:a};t(Object(kd.k)(i)),t(Object(Cd.f)({groupId:e.subteam_id,isMember:!1}))}}else Object(C.a)({getState:n}).warn("subteam_self_removed: No message event provided, or no subteam id provided in the message event.")});var wd=n("v47e");Object(wn.a)("welcome_place_task_completed",function(e,t){if(e){var n=e.event;"channel_joined"!==n&&"message_sent"!==n||t(Object(wd.c)())}});var Sd=n("xncf"),Td=function(e){var t=e.channel,n=e.app_id,r=e.action_id,a=e.action,i=e.app;return{action:a?{appId:n,id:r.toString(),name:a.name,description:a.description,type:a.type,channelId:t,app:i}:void 0,channelId:t,appId:n,actionId:r.toString()}},Rd=function(e,t,n){if(Object(r.j)(n(),"feature_channel_actions_client")){var a=Td(e),i=a.channelId,o=a.action;t(Object(Sd.e)({channelId:i,actions:[o]}))}},Nd=function(e,t,n){if(Object(r.j)(n(),"feature_channel_actions_client")){var a=Td(e),i=a.channelId,o=a.action;t(Object(Sd.e)({channelId:i,actions:[o]}))}},xd=function(e,t,n){if(Object(r.j)(n(),"feature_channel_actions_client")){var a=Td(e),i=a.channelId,o=a.actionId;t(Object(Sd.c)({channelId:i,actionIds:[o]}))}};(function(){Object(wn.a)("channel_action_updated",Rd),Object(wn.a)("channel_action_added",Nd),Object(wn.a)("channel_action_removed",xd)})();var Md=n("3MJR"),Pd=n("1F8+"),Ad=n("W7ut");Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){var r=n();Object(Md.s)(r)&&t(Object(Pd.a)())}}),Object(p.d)({actions:[a.e,a.c],sideEffect:function(e,t){t(Object(Ad.d)())}});var Dd=n("W+QA");function Ld(e,t,n){var r=n(),a=qd(r);if(a&&Object(d.Hb)(r,a)){var i=Object(A.j)(r);if("details"===i||"channel_info"===i)t(Object(kn.a)());else if("thread"===i||"convo"===i){var o=Object(Sa.b)(r),s=Object(Sa.a)(o).channelId,l=Object(c.d)(r,s);Object(d.Hb)(r,l)&&t(Object(kn.a)())}}}function qd(e){var t=Object(i.a)(e);return Object(c.d)(e,t)}Object(p.d)({actions:[q.c],sideEffect:function(e,t,n){var r=n(),a=Object(C.a)({getState:n});if(!Object(q.b)(r))return!1;var i=Object(f.g)(r,"sidebar_theme");if("custom_theme"===i)return!1;var o=null;try{o=JSON.parse(Object(f.g)(r,"sidebar_theme_custom_values"))}catch(e){return!1}var s=Object(Dd.e)(i,null,{useGlobalNav:Object(j.b)(r)});return!(!o.column_bg||!s.column_bg||o.column_bg.toUpperCase()===s.column_bg.toUpperCase()||(a.info("SIDEBAR-THEME","Sidebar theme values don't match expected values; fixing the pref"),t(Object(_.f)({pref:"sidebar_theme_custom_values",value:JSON.stringify(s)})),0))}}),Object(p.d)({actions:[Tu.b],sideEffect:Ld}),Object(p.d)({actions:[a.e],sideEffect:Ld}),Object(p.d)({actions:[Tu.b],sideEffect:function(e,t,n){if(!Object(V.a)()){var r=n(),a=qd(r);a&&Object(d.Hb)(r,a)&&(Object(Ta.b)(),Object(b.a)(a))}}});var Fd=n("owWc"),Bd=n("FLa3"),Ud=n("IRiz"),Hd=Object(ir.b)("TS.highlights_briefing.handleFeedback",function(){return!1});Object(p.d)({actions:[Bd.g],sideEffect:function(e,t){Hd(e.payload),t(Object(Ud.a)(e.payload))}}),Object(p.d)({actions:[a.e],sideEffect:function(e,t,n){if(e.payload.prevChannelId&&e.payload.channelId!==e.payload.prevChannelId){var a=n();if(Object(r.q)(a)){var i=Object(c.d)(a,e.payload.prevChannelId,!1);if(i&&i.last_read){var o=Object(Bd.d)(a,{channelId:e.payload.prevChannelId,beforeTs:i.last_read});if(o.length){var s=Object(Fd.a)(o,function(e,t){return e[t]={sliHighlight:{isHighlight:!1}},e},{});t(Object(Bd.h)(Se()({},e.payload.prevChannelId,s)))}}}}}});var Kd=10,Gd=9e5,Vd=void 0,zd={},Yd={},Wd={};function Qd(){return void 0===Vd&&(Vd=Object(pe.a)(Kd)),Vd}var Xd="asleep",Zd="connecting",Jd="connected",$d="wait_connectivity",eb="wait_rate_limit";Object(p.b)([{actions:[oe.y],sideEffect:function(e,t,n){if(Qd()){var r=n(),a=Object(se.b)(r),i=function(e){return Object(oe.h)(e)?Xd:Object(oe.j)(e)?Zd:Object(oe.i)(e)?Jd:Object(oe.o)(e)?$d:Object(oe.p)(e)?eb:"disconnected"}(r);Yd[a]!==i&&(Yd[a]=i,zd[a]=zd[a]||[],zd[a].push({status:i,ts:window.performance.now()}))}}},{actions:[jr.i],sideEffect:function(e,t,n){if(Qd()){var r=n(),a=Object(_e.c)({getState:n}),i=Object(se.b)(r);if(!Wd[i]){Wd[i]=performance.now();var o=Object(Fn.a)(Gd,.8,1.2);setInterval(function(){if(zd[i]){var e={};zd[i].forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status,r=t.ts,a=arguments[1],o=zd[i][a+1],s=(o?o.ts:performance.now())-r;e[n]=e[n]||0,e[n]+=s}),Object.keys(e).forEach(function(t){var n=e[t];a.count("ws_tis_"+t,n)});var t=performance.now()-Wd[i],n=e[Xd]||0;a.count("ws_tis_duration",t),a.count("ws_tis_duration_awake",t-n),Wd[i]=performance.now(),zd[i]=[{status:Yd[i],ts:window.performance.now()}]}},o)}}}}]);n("psEQ");var tb=new wt.b("sonic_deluxe_toast"),nb={UNSEEN:0,SEEN:2,DARK:3},rb={"en-US":"https://slackhq.com/introducing-a-more-efficient-slack-desktop-experience","en-GB":"https://slackhq.com/intl-uk-introducing-a-more-efficient-slack-desktop-experience","ja-JP":"https://slackhq.com/intl-ja-jp-introducing-a-more-efficient-slack-desktop-experience","pt-BR":"https://slackhq.com/agora-o-slack-para-computadores-tem-uma-experiencia-mais-agil-e-mais-eficiente","es-LA":"https://slackhq.com/presentamos-una-experiencia-de-slack-para-computadora-mas-agil-y-mas-eficiente","es-ES":"https://slackhq.com/presentamos-una-experiencia-de-slack-para-ordenador-mas-eficiente-y-agil","de-DE":"https://slackhq.com/slack-fuer-den-desktop-jetzt-noch-schneller-und-effizienter","fr-FR":"https://slackhq.com/lexperience-slack-sur-ordinateur-est-maintenant-plus-rapide-mais-aussi-plus-efficace"},ab=(fe.b.bool,fe.b.bool,fe.b.func.isRequired,fe.b.object.isRequired,fe.b.func.isRequired,fe.b.bool.isRequired,function(e){function t(e){_t()(this,t);var n=kt()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(Ii.a)(n,["onLinkClick","onCloseClick","replaceLink"]),n}return Ct()(t,e),yt()(t,[{key:"onLinkClick",value:function(){this.props.telemeter.count("sonic_deluxe_toast_click"),this.props.dismissCurrentToast(),this.props.setSeen()}},{key:"onCloseClick",value:function(){this.props.telemeter.count("sonic_deluxe_toast_dismiss")}},{key:"replaceLink",value:function(e){var t=e.text;if("a"!==e.tag)return null;var n=Object(ei.a)(),r=rb[n];return $e.a.createElement(Tt.a,{className:"p-sonic_deluxe_toast__link",href:r,onClick:this.onLinkClick},t)}},{key:"renderContent",value:function(){return this.props.featureSonicDeluxeToast?this.props.isExistingUser?tb.rt("<strong>Here\u2019s a nice thing.</strong> We\u2019ve made some improvements and Slack is now snappier and more efficient. <a>Learn more about this update</a>",null,this.replaceLink):tb.rt("<strong>Voil\xe0!</strong> Welcome to a snappier, more efficient Slack. <a>Learn more about this desktop update</a>",null,this.replaceLink):null}},{key:"render",value:function(){if(!this.props.featureSonicDeluxeToast)return null;if(this.props.hasSeenToast)return this.props.setSeen(),this.props.dismissCurrentToast(),null;this.props.telemeter.count("sonic_deluxe_toast_shown");var e=this.renderContent(),t=cdn_url+"/2fa86/img/sonic_deluxe_toast.png",n=cdn_url+"/2fa86/img/sonic_deluxe_toast@2x.png";return $e.a.createElement(St.b,{fadeDelay:3e5,closeButtonClasses:"p-sonic_deluxe_toast__close",toastClasses:"p-sonic_deluxe_toast",onCloseComplete:this.props.setSeen,onCloseClick:this.onCloseClick,ariaAssertive:!0},$e.a.createElement("div",null,$e.a.createElement("img",{alt:"",src:t,srcSet:n+" 2x",className:"p-sonic_deluxe_toast__img"}),$e.a.createElement("div",{className:"p-sonic_deluxe_toast__text"},e)))}}]),t}(Je.Component));ab.displayName="SonicDeluxeToast",ab.defaultProps={hasSeenToast:!1,isExistingUser:!1};var ib=Object(It.b)(function(e){return{telemeter:Object(_e.c)({state:e}),featureSonicDeluxeToast:Object(r.j)(e,"feature_sonic_deluxe_toast"),hasSeenToast:Object(f.g)(e,"seen_sonic_deluxe_toast")===nb.SEEN}},{dismissCurrentToast:function(){return et.b.apply(void 0,arguments)}})(ab),ob=n("j04V");function sb(e,t,n){Object(_e.c)({getState:t}).count("sonic_deluxe_toast_setSeen_"+n);try{+window.localStorage.getItem("seen_sonic_deluxe_toast")!==n&&window.localStorage.setItem("seen_sonic_deluxe_toast",n)}catch(e){Object(C.a)({getState:t}).error("Unable to access localStorage for sonic_deluxe_toast")}Object(f.g)(t(),"seen_sonic_deluxe_toast")!==n&&e(Object(_.f)({pref:"seen_sonic_deluxe_toast",value:n}))}function cb(e,t){var n=!1,r=!1;try{var a=+window.localStorage.getItem("seen_sonic_deluxe_toast");a===nb.SEEN?r=!0:a===nb.DARK&&(n=!0)}catch(e){Object(C.a)({getState:t}).error("Unable to access localStorage for sonic_deluxe_toast")}var i=Object(f.g)(t(),"seen_sonic_deluxe_toast");return i===nb.SEEN?r=!0:i===nb.DARK&&(n=!0),r?(sb(e,t,nb.SEEN),nb.SEEN):n?(sb(e,t,nb.DARK),nb.DARK):nb.UNSEEN}Object(p.d)({actions:[M.f,M.k,D.f],sideEffect:function(e,t,n){var a=n();if(Object(V.a)()&&Object(A.k)(a))if(Object(ob.h)(a)&&cb(t,n)!==nb.SEEN)sb(t,n,nb.SEEN);else{if(!Object(r.j)(a,"feature_sonic_deluxe_toast_dark")||Object(r.j)(a,"feature_sonic_deluxe_toast")||Object(r.j)(a,"feature_sonic_deluxe_toast_existing"))return Object(r.j)(a,"feature_sonic_deluxe_toast_existing")&&cb(t,n)===nb.DARK?(Object(_e.c)({state:a}).count("sonic_deluxe_toast_shown_existing"),void t(Object(et.c)({element:$e.a.createElement(ib,{isExistingUser:!0,setSeen:function(){return sb(t,n,nb.SEEN)}})}))):void(Object(r.j)(a,"feature_sonic_deluxe_toast")&&cb(t,n)===nb.UNSEEN&&t(Object(et.c)({element:$e.a.createElement(ib,{isExistingUser:!1,setSeen:function(){return sb(t,n,nb.SEEN)}})})));sb(t,n,nb.DARK)}}}),Object(p.b)([{actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];Object(r.j)(n(),"feature_desync_resync")&&Object(dd.a)(n())&&(t(Object(Nn.a)()),t(cd({interval:bd})),t(yd()),e&&t(od()))}}]),Object(p.d)({actions:[oe.t],sideEffect:function(e,t){Object(sr.a)()&&(Object(V.a)()||t(Object(jr.e)()))}});var lb=function(e,t,n){var a=n(),i=Object(C.a)({state:a,label:"THREADS"});if(Object(r.j)(a,"feature_react_threads")){var s=Object(A.j)(a);if("thread"===s||"convo"===s){var c=Object(A.e)(a)[0],l=Object(Sa.a)(c),u=l.channelId,b=l.threadTs,p=e.type===o.a.getType()&&Object(Gi.a)(e.payload.channels,function(e){return e.id===u&&Object(d.xb)(e)}),h=e.type===x.j.getType()&&e.payload.channelId===u&&e.payload.timestamp===b;switch(!0){case p:i.action("Closing flexpane: user left private channel");break;case h:i.action("Closing flexpane: last message in thread deleted")}(p||h)&&t(Object(kn.a)())}}};Object(p.d)({actions:[o.a],sideEffect:lb,reasons:[s.a.LEAVE_CHANNEL]}),Object(p.d)({actions:[x.j],sideEffect:lb}),Object(p.d)({actions:[oe.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=arguments[1],n=arguments[2];if(!e){var a=n();if(Object(r.j)(a,"feature_react_all_threads")&&Object(r.i)(a)){var o=Object(i.a)(a),s=Object(A.k)(a)||!Object(A.g)(a);o===kl.a.allThreads&&s&&(Object(C.a)({state:a,label:"THREADS"}).info("Refreshing threads view on reconnect"),t(Object(yl.k)()))}}}});var ub={};Object(p.d)({actions:[dl.h],sideEffect:function(e,t,n){var r=n(),a=Object(se.b)(r);ub[a]||(ub[a]=setInterval(function(){t(Object(dl.a)())},1e3))}}),Object(p.d)({actions:[dl.b],sideEffect:function(e,t,n){var r=n(),a=Object(se.b)(r);ub[a]&&(clearInterval(ub[a]),delete ub[a])}});var db=n("c8Bs"),bb=n("GxtX"),pb=n("uKXT"),hb=n("ZP0B"),mb=n("zmn3"),fb=n("Jnq/"),vb=n("JHHQ"),gb=n("WaNi"),_b="UNREAD-COUNTS",Ob={},yb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.counts,r=void 0===n?{}:n,a=r.channels,i=void 0===a?[]:a,o=r.groups,s=void 0===o?[]:o,c=r.ims,l=void 0===c?[]:c,u=r.mpims,d=void 0===u?[]:u;Ob[t]=[].concat(J()(i),J()(s),J()(l),J()(d)).filter(function(e){return e.has_unreads||e.unread_count_display>0}).map(function(e){return e.id})},jb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,n=e.channelId,r=Ob[t];return Object(Oo.a)(r,n)},kb={};function Eb(e){kb[e]={}}var Cb={};function Ib(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"unread-counts/fetchHistoryForCounting",i=n(),o=Object(se.b)(i),s=function(e){return kb[e]||Eb(e),kb[e]}(o),c=Object(C.a)({state:i});if(s[e.id])c.warn("Ignoring new unread counting history request for "+e.id);else{var l=function(e){return Cb[e]||(Cb[e]={}),Cb[e]}(o),u=l[e.id];if(u){if(!r||!Object(_o.a)(u))return void c.info(_b,"Dropping unread history request for "+e.id+" since there is already one pending");c.info(_b,"Cancelling timer and making history request for "+e.id+" now"),clearTimeout(l[e.id])}var b=r?0:Object(fb.a)(2500,1e4);c.info(_b,"Fetching history for unread counting: "+e.id+", waiting "+b+" ms"),l[e.id]=setTimeout(function(){!r&&t(Object(Ju.b)({channelId:e.id}))?delete l[e.id]:(c.info("HISTORY-FETCH","Fetching history for unread counting: "+e.id),l[e.id]=t(Object(Dn.b)({channelId:e.id,type:Object(d.v)(e),oldest:null,latest:null,reason:a})).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.msgs,a=n.hasMore,i=n.pinCount,o=n.deleted;s[e.id]=!0;var c=Object(mb.a)(r,"ts");t(Object(vb.a)({msgs:r,channelId:e.id,latest:Object(hb.a)(c),oldest:Object(pb.a)(c),hasMore:{hasMoreStart:a,hasMoreEnd:!1},forceUnreadCount:!0,deleted:o})),Object(_o.a)(i)&&t(Object(nu.r)({channelId:e.id,count:i}))}).finally(function(){delete l[e.id]}))},b)}}var wb={};function Sb(e,t,n){var r,a=e.id,i=Object(C.a)({getState:n}),o=(r=Object(se.b)(n()),wb[r]||(wb[r]={}),wb[r]);if(o[a])i.info(_b,"Ignoring redundant initial count sync request for "+e.id);else{o[a]=!0;var s=Object(fb.a)(2500,1e4);i.info(_b,"Syncing initial counts for "+e.id+" in "+s+" ms"),setTimeout(function(){t(Object(E.g)({channelId:a})).then(function(n){var r=n.has_unreads?1:0,i=Object(_o.a)(n.mention_count)?n.mention_count:0,o=Object(d.eb)(e)||Object(d.lb)(e)?i:r;t(Object(F.n)({id:a,unreadCnt:o,unreadHighlightCnt:i}))}).finally(function(){delete o[a]})},s)}}function Tb(e,t,n){var a=n();if(Object(r.q)(a)&&Object(r.i)(a)&&!Object(oe.C)(a)){var i=Object(se.b)(a);Eb(i),t(Object(F.m)({}));var o=Object(r.j)(a,"feature_vitess_sidebar")?Zu.a:gb.a;Object(C.a)({getState:n}).info(_b,"Fetching counts"),t(o()).tap(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yb({teamId:i,counts:e}),t(Object(Ju.a)(e))}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.j)(a,"feature_degraded_send")){var n=Object(Zc.a)(Object(bb.a)(e.channels,e.groups));t(Object(N.reconcileChannelAccess)({channels:n}))}}).finally(function(){return t(od())})}}Object(p.d)({actions:[oe.z],sideEffect:function(e,t,n){var a=n();Object(r.j)(a,"feature_degraded_send")&&Object(r.q)(a)&&Object(r.i)(a)&&(Object(oe.D)(a)||Tb(0,t,n))}}),Object(p.d)({actions:[oe.a],sideEffect:Tb}),Object(p.d)({actions:[x.b],sideEffect:function(e,t,n){var a=n(),o=Object(C.a)({state:a}),s=Object(se.b)(a);if(Object(r.q)(a)){var l=e.payload,u=l.channelId,b=l.timestamps,p=l.forceUnreadCount,h=l.append,m=l.fromEvtLog;if(!Object(Rn.a)(b)&&!m){var f=Object(c.d)(a,u,!1);if(f){var v=Object(d.D)(f);Object(Vi.a)(v)&&(o.warn(_b,"Undefined last_read for "+u),v="0000000000.000000");var g=Object(d.zb)(f),_=Object(Gi.a)(b,function(e){return e>=v});if(_||p){var O=u===Object(i.a)(a);if(O&&o.info(_b,"Counting unreads in "+u+" because ("+b.length+") timestamps added"),t(Object(Ju.b)({channelId:u}))||function(e,t,n){if(Object(d.eb)(t)||Object(d.lb)(t))return!0;var a=e(),i=Object(mb.a)(n||[],function(e){return Object(L.a)(a,t.id,e)});return Object(Gi.a)(i,function(e){return!!e&&Object(fl.x)(e,Object(r.b)(a),Object(Il.a)(a),Object(se.b)(a),{ignoreAtHereMentions:!0,ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0})})}(n,f,b)&&Ib(f,t,n,!1,"unread-counts/onAddTimestamps"),b&&b.length>1&&g){var y=Object(c.d)(n(),u);if(Object(d.Kb)(y)){var j=function(e,t){var n=Object(r.b)(e()),a=Object(x.h)(e(),t.id);if(!a||Object(Rn.a)(a.timestamps))return!1;var i=a.timestamps.map(function(n){return Object(L.a)(e(),t.id,n)}),o=Object(d.D)(t),s=i.filter(function(e){return Object(fl.hb)(e,o,n)});return!Object(Rn.a)(s)&&Object(db.a)(s,function(e){return Object(fl.gb)(e)})}(n,y)?"unexpected_unread_joins_after_loading_history":"unexpected_unread_after_loading_history";o.error({id:u,initial:Object(F.d)(n(),u)},j),o.info(_b,u+" initially marked unread in the users.counts || client.counts response: "+jb({teamId:s,channelId:u}))}}if(Object(r.j)(a,"feature_degraded_send")){var k=e.payload,E=k.hasMore,I=k.oldest,w=Object(te.a)(E,"hasMoreEnd",!I||E);if(b&&_&&!w){var S=!g;O&&o.info(_b,"Checking unreads in "+u+" after a new message"),z(u,t,n,S)}}else if(b&&1===b.length&&b[0]>v){var T=!h;O&&o.info(_b,"Checking unreads in "+u+" after a new message"),z(u,t,n,T)}}}}}}}),Object(p.d)({actions:[x.j],sideEffect:function(e,t,n){var a=n(),i=Object(C.a)({state:a});if(Object(r.q)(a)){var o=e.payload,s=o.channelId,l=o.timestamp,u=o.forceUnreadCount;if(!o.fromEvtLog&&l){var b=Object(c.d)(a,s,!1);b&&(l<Object(d.D)(b)&&!u||(i.info(_b,"Counting unreads in "+s+" because message removed"),t(Object(Ju.b)({channelId:s}))||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getState,n=e.channel,r=e.timestamp,a=Object(x.h)(t(),n.id,null),i=a.timestamps,o=a.start,s=Object(d.E)(n,i);return r<(o||s+1e-6)}({dispatch:t,getState:n,channel:b,timestamp:l})&&Sb(b,t,n)))}}}}),Object(p.d)({actions:[o.c],sideEffect:function(e,t,n){if(e.payload.last_read){var a=n(),i=Object(C.a)({state:a});if(Object(r.q)(a)){var o=e.payload.id,s=Object(c.d)(a,o,!1);s&&(Object(d.ab)(s)||(i.info(_b,"Counting unreads in "+o+" because last_read changed to "+e.payload.last_read),t(Object(Ju.b)({channelId:o}))||Ib(s,t,n,!0,"unread-counts/onLastReadUpdated")))}}}}),Object(p.d)({actions:[F.n],sideEffect:function(e,t,n){var a=n(),i=Object(C.a)({state:a});if(Object(r.q)(a)){var o=e.payload,s=o.id,l=o.unreadCnt,u=o.unreadHighlightCnt;Object(c.d)(a,s,!1)&&(i.info(_b,"Counting unreads in "+s+" because initial counts updated to {"+l+", "+u+"}"),t(Object(Ju.b)({channelId:s})))}}}),Object(p.d)({actions:[pu.d,pu.e],sideEffect:function(e,t,n){var a=n();if(Object(r.j)(a,"feature_incremental_unread_counts")){var i=Object(Tn.a)(Object(pu.b)(a));i&&i.length&&t(Object(F.l)({channelIds:i}))}}}),Object(p.d)({actions:[o.a],sideEffect:function(e,t,n){var a=n();if(Object(r.j)(a,"feature_incremental_unread_counts")){var i=e&&e.payload&&e.payload.channels;i&&i.length&&t(Object(F.l)({channelIds:Object(mb.a)(i,"id")}))}},reasons:[s.a.ARCHIVE_CHANNEL,s.a.LEAVE_CHANNEL]}),Object(p.d)({actions:[oe.d],sideEffect:function(e,t,n){var r=n(),a=Object(se.b)(r);Object(ml.a)(a).onDisconnect()}}),Object(p.d)({actions:[o.a],sideEffect:function(e,t,n){if((e&&e.payload&&e.payload.reason)===s.a.LEAVE_CHANNEL){var r=n(),a=Object(se.b)(r);Object(ml.a)(a).onChannelLeave()}}});var Rb="USER_GROUP_MEMBERSHIP",Nb=Object(zr.a)("Fetch user groups by id",function(e,t){return e(Object(ge.a)({method:"subteams.membership",reason:"user-group-membership-api/fetchUserGroupMembership"})).then(function(e){return e.subteams}).catch(function(e){if(e.data&&"user_is_restricted"===e.data.error)return Object(C.a)({getState:t}).warn(Rb,"subteams.membership failed with user_is_restricted: Guests are not allowed to have user groups"),[];throw Object(C.a)({getState:t}).error(Rb,"failed to fetch user group membership"),e})});Nb.propTypes=null,Object(p.d)({actions:[oe.a,Nn.b],sideEffect:function(e,t,n){var a=n(),i=Object(C.a)({state:a});return Object(r.i)(a)?Object(oe.C)(a)?Promise.resolve():Object(V.a)()?Object(oe.k)(a)?Promise.resolve():(t(Object(Cd.b)()),t(Nb()).then(function(e){e&&(t(Object(Cd.a)({userGroups:e,isMember:!0})),i.info(Rb,"Completed subteams.membership processing"))})):Promise.resolve():Promise.resolve()}});var xb=n("clNh");Object(p.d)({actions:[xb.a],sideEffect:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(!Object(V.a)())try{document.body.classList.toggle("p-team_creator_onboarding--in_progress",!!e)}catch(e){}}});var Mb=n("SZMM"),Pb=n("HuaI");Object(p.d)({actions:[M.j],sideEffect:function(e,t,n){Object(C.a)({getState:n}).info("WINDOW-UNLOADING","workspace handling window unloading event")}}),Object(p.d)({actions:[M.j],sideEffect:function(e,t,n){return Object(Mb.a)(Object(se.b)(n()))}}),Pb.internalWorkspacesRemovedType&&Object(p.d)({actions:[Pb.internalWorkspacesRemovedType],sideEffect:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload.forEach(function(e){return Object(Mb.a)(e)})}});var Ab=108e5,Db={},Lb=null;Object(p.d)({actions:[oe.a],sideEffect:function(e,t,n){var r=n();if(Object(ob.h)(r)){var a=setInterval(function(){window.requestIdleCallback?window.requestIdleCallback(function(){t(Object(wd.c)())},{timeout:6e4}):t(Object(wd.c)())},Ab);if(Object(V.a)()){var i=Object(se.b)(r);clearInterval(Db[i]),Db[i]=a}else clearInterval(Lb),Lb=a}}}),Object(p.d)({actions:[oe.d],sideEffect:function(e,t,n){if(Object(V.a)()){var r=Object(se.b)(n());clearInterval(Db[r])}else clearInterval(Lb)}});n("UO3Y")},mly0:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});var r=n("ROZo"),a=Object(r.b)("TS.ui.frecency.query",function(){return[]}),i=Object(r.b)("TS.ui.frecency.getMostCommonWithPrefix",function(){return[]}),o=Object(r.b)("TS.ui.frecency.record")},mmRP:function(e,t,n){"use strict";var r=n("9oTK"),a=n("GxtX"),i=n("bPB8"),o=n("/1FC"),s=n("aK/h"),c=n("XfeM"),l=n("HO/Y"),u=n("0NgK"),d=n("tP3m"),b=n("yHhI"),p=n("hpgS"),h=n("2Zgd"),m=n("04pn"),f=n("QbLZ"),v=n.n(f),g=n("jo6Y"),_=n.n(g),O=n("zmn3"),y=n("fujP"),j=n("ntJl"),k=n("clTI"),E=n("wfE8"),C=n("TcTh"),I=n("St+r"),w=n("6kok"),S=n("xGWg"),T=n("Smdl"),R=n("9D+4"),N=n("smxp"),x=n("DtX9"),M=n("Y+74"),P=n("Zr7G"),A=n("uf9I"),D=n("hOQf");function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.start,r=e.reachedStart,a=e.reachedEnd,i=e.initialCounts,o=e.messages,s=e.channel,c=e.currentUser,u=e.userIsAway,d=e.userPresenceLastChanged,b=e.highlightWords,p=0,h=0,m=!0;if(a){var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.channel,r=e.userIsAway,a=e.userPresenceLastChanged,i=e.currentUserId,o=e.highlightWords,s=e.messages,c=0,u=0;return(void 0===s?[]:s).forEach(function(e){e&&Object(D.hb)(e,Object(w.D)(n),i)&&(c+=1,Object(D.wb)({state:t,msg:e,channel:n,currentUserId:i,userIsAway:r,userPresenceLastChanged:a,highlightWords:o,isAppMsg:Object(D.W)(t,e),featureWtaNotifications:Object(l.j)(t,"feature_wta_notifications"),teamId:Object(A.b)(t)})&&(u+=1))}),{unreadCnt:c,unreadHighlightCnt:u}}({state:t,channel:s,messages:o,userIsAway:u,userPresenceLastChanged:d,currentUserId:c.id,highlightWords:b});p=f.unreadCnt,h=f.unreadHighlightCnt,n<=Object(w.D)(s)?m=!1:(i&&p<i.unreadCnt&&(p=i.unreadCnt),i&&h<i.unreadHighlightCnt&&(h=i.unreadHighlightCnt),m=o.length<42&&!r)}else i&&(p=i.unreadCnt,h=i.unreadHighlightCnt);return{unreadCnt:p,unreadHighlightCnt:h,needFetch:m}}var q=Object(c.b)("Update unread counts",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),a=Object(P.c)({getState:t});Object(l.j)(r,"feature_tinyspeck")&&a.mark("rmsgs_updateUnreadCounts");var i=Object(k.d)(r,n,!1);if(!i)return!0;if(!function(e){if(!e)return!1;if(!e.was_archived_this_session){if(Object(w.V)(e))return!1;if(Object(w.yb)(e)&&!Object(w.kb)(e))return!1}return!0}(i))return!0;var o=Object(C.h)(r,n,null),s=o.timestamps,c=o.start,d=o.reachedStart,p=o.reachedEnd,h=Object(u.d)(r,n),m=Object(O.a)(s||[],function(e){return Object(N.a)(r,i.id,e)}),f=Object(x.b)(r),v="away"===Object(R.f)(r,f.id),g=f._presence_last_changed||Object(l.d)(r,"start_ms"),_=L({state:r,start:c,reachedStart:d,reachedEnd:p,initialCounts:h,messages:m,channel:i,currentUser:f,userIsAway:v,userPresenceLastChanged:g,highlightWords:Object(M.a)(r)}),y=_.unreadCnt,E=_.unreadHighlightCnt,I=_.needFetch;return y!==Object(w.S)(i)&&(Object(b.a)({state:r}).info("COUNTS","Updated unread_cnt for "+i.id+": "+y),e(Object(j.updateOneKeyForChannel)({id:i.id,unread_cnt:y}))),E!==i.unread_highlight_cnt&&(Object(b.a)({state:r}).info("COUNTS","Updated unread_highlight_cnt for "+i.id+": "+E),e(Object(j.updateOneKeyForChannel)({id:i.id,unread_highlight_cnt:E}))),Object(l.j)(r,"feature_tinyspeck")&&a.measureAndClear("rmsgs_updateUnreadCounts","rmsgs_updateUnreadCounts"),!I});q.propTypes={channelId:s.b.string.isRequired};var F,B=q,U=function(e,t){if(Object(w.Jb)(t)){e.name,e.has_unreads,e.mention_count,e.mention_count_display,e.unread_count_display,e.dm_count,e.latest;var n=e.user_id,r=_()(e,["name","has_unreads","mention_count","mention_count_display","unread_count_display","dm_count","latest","user_id"]),a=v()({},r,{isNonExistent:!0});return a.is_im&&n&&(a.user=n),a}var i={},o=Object(w.D)(e);void 0!==o&&Object(w.D)(t)!==o&&(i.last_read=o);var s=Object(w.O)(e);void 0!==s&&Object(w.O)(t)!==s&&(i.priority=s);var c=Object(w.Eb)(e);void 0!==c&&Object(w.Eb)(t)!==c&&(i.is_starred=c);var l=Object(w.ob)(e);return(Object(w.eb)(e)||Object(w.lb)(e))&&void 0!==l&&Object(w.ob)(t)!==l&&(i.is_open=l),i},H=Object(c.b)("Apply counts to channel objects and update stores",(F=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n){var a,i,o,s,c,d,p,h=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).counts,m=void 0===h?[]:h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(T.a)()){e.next=3;break}return e.next=3,Object(r.resolve)(Object(S.a)());case 3:if(a=[],i=n(),o={},s=[],c=[],d=Object(l.j)(i,"feature_degraded_send"),p=Object(I.i)(i),Object(b.a)({state:i}).info("COUNTS","Applying counts to channels"),m.forEach(function(e){var t=Object(k.d)(i,e.id,d);if(t&&!Object(w.nb)(t)){if(d&&Object(w.Ib)(t)&&(Object(b.a)({state:i}).warn("COUNTS","Unknown channel "+t.id+" in applyCountsToChannels"),c.push(t.id)),!Object(w.V)(t)&&(!Object(w.yb)(t)||Object(w.kb)(t))){var n=d?U(e,t):{},r=e.latest;r&&r!==t.latest&&(n.latest=r);var u=Object(C.h)(i,t.id).reachedEnd,h=e.has_unreads?1:0,m=0,f=0,v=!1;Object(l.j)(i,"feature_vitess_sidebar")?Object(w.eb)(t)||Object(w.eb)(e)||Object(w.lb)(t)||Object(w.lb)(e)?(m=e.mention_count||h,Object(l.j)(i,"feature_silence_app_dms")&&(Object(w.eb)(t)||Object(w.eb)(e))&&(f=e.mention_count)):(v=!0,m=h,f=e.mention_count||0):Object(w.eb)(t)||Object(w.eb)(e)?(m=e.dm_count||h,Object(l.j)(i,"feature_silence_app_dms")&&(f=e.dm_count)):Object(w.lb)(t)||Object(w.lb)(e)?m=e.unread_count_display||h:(v=!0,m=h,f=e.mention_count_display||0),!m&&f&&(Object(b.a)({state:i}).error("COUNTS","Ignoring positive mention_count_display because has_unreads == false for "+t.id,{subtype:"ignoring_positive_mention_count_display"}),f=0),o[t.id]={unreadCnt:m,unreadHighlightCnt:f},u&&p?s.push(t.id):(m!==Object(w.S)(t)&&(n.unread_cnt=m),v&&f!==Object(w.T)(t)&&(n.unread_highlight_cnt=f),Object(l.j)(i,"feature_silence_app_dms")&&f!==Object(w.T)(t)&&(n.unread_highlight_cnt=f)),Object(y.a)(n)||(n.id=t.id,a.push(n))}}else Object(b.a)({state:i}).error("COUNTS",{id:e.id,has_unreads:e.has_unreads||!!e.dm_count||!!e.unread_count_display,nonExistent:Object(w.nb)(t)},"applyCountsToChannels_missing_channel")}),!c.length){e.next=15;break}return e.next=15,Object(r.resolve)(t(Object(E.d)({ids:c,reason:"apply-counts-to-channels/ensure-channels"})));case 15:Object(y.a)(a)||t(Object(j.bulkUpdateChannels)({channels:a})),t(Object(u.m)(o)),Object(l.j)(i,"feature_incremental_unread_counts")&&t(Object(u.k)(Object(O.a)(o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unreadCnt,n=e.unreadHighlightCnt;return{id:arguments[1],unread_cnt:t,unread_highlight_cnt:n}}))),s.forEach(function(e){t(B({channelId:e}));var r=Object(k.d)(n(),e,!1);if(r){var a={unreadCnt:Object(w.S)(r),unreadHighlightCnt:Object(w.T)(r)};Object(b.a)({state:i}).info("COUNTS","Recounted "+e+"; initial: "+JSON.stringify(o[e])+"; after: "+JSON.stringify(a))}});case 19:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return F.apply(this,arguments)}));H.propTypes={counts:s.b.array.isRequired};var K=H,G=Object(c.b)("Apply counts to channels and threads",function(){var e=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n){var s,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=f.channels,g=f.groups,_=f.ims,O=f.mpims,y=f.threads;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n(),Object(l.q)(s)&&Object(l.i)(s)){e.next=3;break}return e.abrupt("return");case 3:return t(Object(u.m)({})),c=Object(i.a)(Object(a.a)(v,g,_,O)),e.next=7,Object(r.resolve)(t(K({counts:c})));case 7:y&&(Object(p.c)(y.has_unreads,y.mention_count,y.mention_count_by_channel),Object(l.j)(s,"feature_react_threads")&&(Object(b.a)({state:s}).info("COUNTS","Threads has_unreads:"+y.has_unreads+" mention_count:"+y.mention_count),Object(l.j)(s,"feature_incremental_unread_counts")?t(Object(u.p)({threadsHasUnreads:y.has_unreads,threadsMentionCountByChannel:Object(o.a)(y.mention_count_by_channel)?{}:y.mention_count_by_channel})):t(Object(d.e)({hasUnreads:y.has_unreads,mentionCountByChannel:Object(o.a)(y.mention_count_by_channel)?{}:y.mention_count_by_channel})))),Object(l.j)(s,"feature_incremental_unread_counts")||(Object(h.c)(),Object(m.a)(),Object(h.l)()),Object(b.a)({state:s}).info("COUNTS","Completed counts processing");case 10:case"end":return e.stop()}},e,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}());G.propTypes={channels:s.b.array,groups:s.b.array,ims:s.b.array,mpims:s.b.array,threads:s.b.object};var V=G;n.d(t,"a",function(){return V}),n.d(t,"b",function(){return B})},mqWI:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("yHhI");t.a=a.a.createContext(Object(i.b)())},mvS9:function(e,t,n){},mzG2:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=new(n("nNoG").b)("message");function a(e){var t=e.userGroupHandle,n=e.fallbackHandle,a=e.includePrefix,i=void 0===a||a,o=e.isUnknown,s=void 0!==o&&o,c=e.isNonExistent,l=void 0!==c&&c,u=r.t("unknown-group"),d=void 0;return(d=l?n||u:s?u:t||n)?("@"===d.charAt(0)&&(d=d.substr(1)),i&&(d="@"+d),d):""}},n2GJ:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("mly0"),o=n("OZf9"),s=n("yHhI"),c=n("rWF5"),l=function(e){return e.id};n.d(t,"a",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return g});var u="frecencyId",d="MA";var b=function(e){return""+d+e},p=function(e){return e.id},h=function(e){return b(p(e))},m=function(e){return t=p(e),a()({},u,b(t));var t},f=function(e){return e[u]},v=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getId||l,a=n.prefix||"",u={},d=[];Object(o.a)(e,function(e,t){var n=r(e);n?(u[n]=e,d.push({id:n})):c.k&&Object(s.b)().warn("frecencySort: Item "+t+" is missing an ID. You may need to provide or fix a getId function.")});var b=void 0;if(t){var p=Object(i.b)(d,t);b=p.map(function(e){var t=e.id;return u[t]||null})}else b=[],Object(o.a)(Object(i.a)(a),function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=u[e];t&&(b.push(t),delete u[e])}),Object(o.a)(u,function(e){return b.push(e)});return b}(e,t,{getId:f,prefix:d})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=f(e);n&&Object(i.c)({id:n},t)}},n3t6:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s});var r=n("ROZo"),a=Object(r.b)("TS.format.cleanMsg",function(e){return e}),i=(Object(r.b)("TS.format.extractIds",function(){return{c_ids:[],m_ids:[]}}),Object(r.b)("TS.format.formatWithOptions",function(e){return e})),o=(Object(r.b)("TS.format.formatCurrentStatus",function(){return""}),Object(r.b)("TS.format.unFormatMsg",function(e){return e})),s=Object(r.b)("TS.format.replaceHighlightMarkers",function(e){return e})},n74X:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u});var r=n("ROZo"),a=(Object(r.b)("TS.log",console.log),Object(r.b)("TS.error",console.error)),i=(Object(r.b)("TS.warn",console.warn),Object(r.b)("TS.info",console.info),Object(r.b)("TS.utility.exampleEmailAddress"),Object(r.b)("TS.utility.calls.getCallActive",function(){return Promise.resolve(!1)})),o=(Object(r.b)("TS.utility.getImgProxyURL",function(e){return e}),Object(r.b)("TS.utility.getImgProxyURLWithOptions",function(e){return e})),s=(Object(r.b)("TS.utility.getRefererPolicy",function(){return{}}),Object(r.b)("TS.utility.calls.isScreenSharing",function(){return!1})),c=Object(r.b)("TS.utility.openInNewTab"),l=Object(r.b)("TS.utility.shouldLinksHaveTargets",function(){return!1}),u=(Object(r.b)("TS.utility.email.validateEmail"),Object(r.b)("TS.utility.populateThreadInputs"))},n8ZX:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("ROZo"),a=Object(r.b)("TS.sounds.play"),i=Object(r.b)("TS.sounds.playScreenReaderAlert"),o=Object(r.b)("TS.sounds.filenameForSoundName")},nJKt:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var r=n("QbLZ"),a=n.n(r),i=n("a8W+"),o=n.n(i),s={urls:{schemeMatches:!0,wwwMatches:!0,tldMatches:!0},email:!0,phone:!1,mention:!1,hashtag:!1,stripPrefix:!0,stripTrailingSlash:!0,newWindow:!1,truncate:{length:0,location:"end"},className:""},c=a()({},s,{phone:!0}),l=new o.a(s),u=function(e){var t=e.input,n=e.options,r=void 0===n?c:n;return o.a.parse(t,r)};t.b=o.a},nOXG:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("XzsM");function a(e){return"facets_module"===Object(r.c)(e,"sli_facets_module")}},nP9x:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("vJtL"),v=n("aK/h"),g=n("TSYQ"),_=n.n(g),O=n("kxpR"),y=n.n(O),j=n("XHGt"),k=n("mM05"),E=n.n(k),C=n("nNoG"),I=n("kOzZ"),w=n("tbBR"),S=n("1zbP"),T=n("UF3u"),R=n("1VpL"),N=n("Ddh9"),x=n("D4L/"),M=n("DtX9"),P=n("dyRQ"),A=n("5mKg"),D=n("Fdc0"),L=n("KPXh"),q=n("Qrgz"),F=n("FGSF"),B=n("MREy"),U=n("XLFM"),H=n("RMmo"),K=n("6FZx"),G=(n("boyP"),v.b.bool,v.b.bool,v.b.string,v.b.func,v.b.func,v.b.func,v.b.number,v.b.string,v.b.string,{highlighted:!1,disabled:!1,className:"",onMouseEnter:m.a,onSelected:m.a,menuCallback:m.a,menuCallbackId:null,"data-qa":"menu_item_action_button",activeMenuId:void 0}),V=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.disableHighlightedState=!1,n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleSelected=n.handleSelected.bind(n),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.bindKeyCommands()}},{key:"componentDidUpdate",value:function(){this.props.highlighted||(this.disableHighlightedState=!1)}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"handleMouseEnter",value:function(e){this.disableHighlightedState=!0,this.props.onMouseEnter(e)}},{key:"handleSelected",value:function(e){this.props.onSelected(e),this.props.menuCallback(this.props.menuCallbackId,e)}},{key:"handleReturnKey",value:function(e){this.props.highlighted&&(this.handleSelected(e),e&&e.preventDefault&&e.preventDefault())}},{key:"bindKeyCommands",value:function(){var e=[{keys:["return"],handler:this.handleReturnKey.bind(this)}];this.keyCommands||(this.keyCommands=new H.a),this.keyCommands.bindAll(e)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.highlighted,r=e.className,i=(e.onMouseEnter,e.onSelected,e.menuCallback,e.menuCallbackId,e.activeMenuId,o()(e,["disabled","highlighted","className","onMouseEnter","onSelected","menuCallback","menuCallbackId","activeMenuId"])),s=_()("c-menu_item_action_button",r,{"c-menu_item_action_button--highlighted":n&&!t&&!this.disableHighlightedState}),c=this.props.activeMenuId;return y.a.createElement("div",{className:"c-menu_item_action_button__container",onMouseEnter:this.handleMouseEnter,"data-qa":this.props["data-qa"]+"-wrapper"},y.a.createElement(U.d,a()({id:c,className:s,disabled:t,onClick:this.handleSelected,role:"menuitem",tabIndex:"-1",type:"outline"},i)))}}]),t}(O.PureComponent);V.displayName="MenuItemActionButton",V.defaultProps=G;var z=Object(K.b)(V),Y=n("cD5Y"),W=(n("guKx"),n("HO/Y")),Q=n("uksu"),X=n("ntJl"),Z=n("V/As"),J=n("zwKj"),$=n("RB1+"),ee=n("aLpA"),te=n("u2vH"),ne=n("M4HD"),re=n("/m+M"),ae=n("MnCE"),ie=n("VMwU"),oe=n("e9ZU"),se=n("yluG"),ce=new C.b("app_card"),le=(v.b.string,v.b.string.isRequired,v.b.string.isRequired,v.b.func.isRequired,v.b.string.isRequired,v.b.bool,v.b.bool,v.b.object,{colorHex:"#2C2D30",isError:!1,isWorkflowApp:!1,externalTeam:void 0});function ue(e){var t=e.colorHex,n=e.imageUrl,r=e.name,a=e.onClick,i=e.tagline,o=e.isError,s=e.externalTeam,c=e.isWorkflowApp,l=Object(re.a)().featureBuilderIsWorkflowApp,u={background:"\n\t\t\tlinear-gradient(\n\t\t\t\t136.53deg,\n\t\t\t\trgba(255, 255, 255, 0.05) 0%,\n\t\t\t\trgba(255, 255, 255, 0.2) 100%\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t312.01deg,\n\t\t\t\t"+t+" 0%,\n\t\t\t\trgba("+(Object(ie.f)(t)||[]).join(",")+", 0.75) 100%\n\t\t\t)\n\t\t",backgroundColor:t},d=_()("full_width",{"p-app_profile_card__header--external":s,"p-app_profile_card__header":!s,cursor_pointer:a!==m.a});return o?null:y.a.createElement(U.c,{className:d,onClick:a,style:u,"data-qa":"app_card_header"},y.a.createElement(se.a,{externalTeam:s}),y.a.createElement("img",{className:"p-app_profile_card__avatar",src:n,alt:r,"data-qa":"app_header_icon"}),y.a.createElement("div",{className:"p-app_profile_card__title"},y.a.createElement("div",{className:"display_flex align_items_center padding_bottom_25"},y.a.createElement("strong",{className:"overflow_ellipsis","data-qa":"app_header_name"},r),y.a.createElement("span",{className:"margin_left_50"},y.a.createElement(oe.a,{inverse:!0,"data-qa":"app_header_app_label"}))),l&&c?y.a.createElement("div",{className:"p-app_profile_card__description","data-qa":"app_header_description"},i||ce.rt("A workflow app.")):y.a.createElement("div",{className:"p-app_profile_card__description","data-qa":"app_header_description"},i)))}ue.defaultProps=le;var de=Object(ae.a)(ue),be=n("Pl1I"),pe=n("YEIV"),he=n.n(pe),me=n("pxG+"),fe=n("tBeP"),ve=n("vZqh"),ge=n("SOCr"),_e=n("4Twu"),Oe=n("lhZz"),ye=n("Lts7"),je=n("negh"),ke=n("xrsA"),Ee=new C.b("app_card"),Ce="USER_CARD_CLICK";var Ie=function(e){var t=e.appId,n=e.appUser,r=e.channelIdToRemoveFrom,i=e.dispatch,o=e.externalWorkspaceUrl,s=e.homeWorkspaceId,c=e.isActive,l=e.isExternal,u=e.isOrgShared,d=e.isMemberRestricted,b=e.isMemberUltraRestricted,p=e.isXoxaApp,h=e.memberId,m=e.serviceId,f=e.currentTeamId,v=e.currentUserId,g=e.locale,_=e.currentEnterpriseId,O=e.featureM11nChannelDetails,j=e.installerIsYou,k=e.isWorkflowApp,E=e.featureBuilderIsWorkflowApp,C=Object(I.a)({userId:v,teamId:f,locale:g,enterpriseId:_}),w=Object(x.d)(Object(Oe.getStateByTeamId)(f)),S={app_id:t,bot_id:m},T=function(){return C.track(Ce,S)};return[{key:"about_app",label:Ee.t("About this app"),click:function(){T(),C.track("APP_CLICK_LINK_APP_ABOUT_IN_USER_CARD",a()({},S,{contexts:{ui_context:{step:"user_card",action:"click",ui_element:"link_app_about"}}})),i(Object(Q.a)({memberId:h,serviceId:m,homeWorkspaceId:s}))},show:c||l,dataQa:"app_card_view_details"},{key:"is_installers_workflow_app",label:E?Ee.t("Open in Workflow Builder"):"",href:"#",click:function(){i(Object(ye.a)({subPathname:"slack-apps/"+t})),T(),C.track("APP_CLICK_LINK_APP_OPEN_IN_WORKFLOW_BUILDER",a()({},S,{contexts:{ui_context:{step:"user_card",action:"click",ui_element:"link_app_about"}}}))},show:E&&j&&k,dataQa:"app_card_view_workflow_builder"},{key:"app_directory_link",label:Ee.t("View in app directory"),href:Object(A.o)(w,"/apps/"+t+"?utm_source=in-prod&utm_medium=inprod-link_app_directory-user_card-click"),click:function(){T(),C.track("APP_CLICK_LINK_APP_DIRECTORY_IN_USER_CARD",a()({},S,{contexts:{ui_context:{step:"user_card",action:"click",ui_element:"link_app_directory"}}}))},show:!c&&!l,dataQa:"app_card_view_app_directory"},{key:"settings",label:Ee.t("Settings"),href:p?void 0:(o||Object(me.a)(Object(A.o)(w),"/"))+"/services/"+m+"?utm_source=in-prod&utm_medium=inprod-link_app_settings-user_card-click",click:function(){T(),C.track("APP_CLICK_LINK_APP_SETTINGS_IN_USER_CARD",{contexts:{ui_context:{step:"user_card",action:"click",ui_element:"link_app_settings"}}}),p&&i(Object(fe.a)({serviceId:m,referringEventId:Ce}))},show:c&&(u||!l)&&!d,dataQa:"app_card_edit_settings"},{key:"channel_invite",label:Ee.t("Add this app to a channel ..."),click:function(){T(),i(Object(ke.a)({memberId:n.id}))},show:n&&c&&(p?!d:!b),dataQa:"app_card_invite_to_channel"},{key:"channel_remove",dataQa:"app_card_remove",click:function(){var e,a,o;if(O){var s=(e={},he()(e,je.x.action,je.v.CLICK),he()(e,je.x.ui_element,je.y.BTN_REMOVE_APP),e);C.track(Ce,{contexts:(o={},he()(o,je.c.ui_context,s),he()(o,je.c.core,(a={},he()(a,je.d.app_id,t),he()(a,je.d.bot_id,m),he()(a,je.d.channel_id,r),a)),o)}),i(p?Object(ge.a)({appUserId:n.id,channelId:r,referringEventId:Ce,referringUiContext:s}):Object(ve.a)({memberId:n.id,channelId:r}))}},label:O?Ee.rt("Remove this app from {channelName} ...",{channelName:y.a.createElement("strong",null,y.a.createElement(_e.a,{className:"cursor_pointer",inline:!0,channelId:r,iconProps:{inherit:!0,align:"baseline"}}))}):void 0,show:O&&!!r&&!l}].filter(function(e){return e.show})},we=n("tn36"),Se=n("DCka"),Te=n("oIqc"),Re=n("NAkb"),Ne=n("J47P"),xe=n("k0G2"),Me=y.a.lazy(function(){return Promise.resolve().then(n.bind(null,"eglI"))}),Pe=new C.b("team"),Ae=(v.b.string.isRequired,v.b.string.isRequired,v.b.func,v.b.bool,v.b.func,v.b.func,v.b.object.isRequired,{kbNavActive:!1,onSubmit:m.a,returnKBNav:m.a,stealKBNav:m.a}),De=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.texty=null,n.textyModules={tabcomplete:{positionMenu:function(e){e.style.width=n.texty.container.offsetWidth+"px",Object(Re.a)(e,n.texty.container)},completers:["channels","emoji","members"]}},Object(we.a)(n,["setTextyRef","onSubmit","onDocKeyDown","onFocus","onBlur"]),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onDocKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onDocKeyDown)}},{key:"onDocKeyDown",value:function(e){var t=e.which,n=e.metaKey,r=e.ctrlKey,a=e.altKey;this.props.kbNavActive||a||r||n||[xe.f,xe.e,xe.k,xe.l,xe.c,xe.h,xe.i].indexOf(t)>-1||this.texty&&this.texty.focus()}},{key:"onFocus",value:function(){var e=this.props,t=e.kbNavActive,n=e.stealKBNav;t||n()}},{key:"onBlur",value:function(){var e=this.props,t=e.kbNavActive,n=e.returnKBNav;t&&n()}},{key:"onSubmit",value:function(){var e=this.props.clogger;this.texty&&this.texty.value()&&(e.track("USER_CARD_DM",{}),Object(Te.e)(this.props.userId,!1,this.texty.value()),this.props.onSubmit())}},{key:"setTextyRef",value:function(e){this.texty=e&&e.getWrappedInstance?e.getWrappedInstance():e}},{key:"render",value:function(){var e=Pe.t("Message {username}",{username:this.props.username});return y.a.createElement("div",{className:"p-app_profile_card__footer"},y.a.createElement(Se.a,null,y.a.createElement(O.Suspense,{fallback:null},y.a.createElement(Me,{"data-qa":"app_card_message_input",ref:this.setTextyRef,className:"p-app_profile_card__message_input",modules:this.textyModules,ariaLabel:e,placeholder:e,onEnter:this.onSubmit,onFocus:this.onFocus,onBlur:this.onBlur,useLegacyCreate:!0,isSingleLine:!0,useFocusRing:!1}))))}}]),t}(O.PureComponent);De.displayName="AppProfileCardMessageInput",De.defaultProps=Ae;var Le=Object(j.b)(function(e){return{clogger:Object(I.a)({state:e})}})(De),qe=Object(Ne.a)(Le),Fe=(n("1c4n"),new C.b("app_card")),Be=(v.b.bool,v.b.object,v.b.string.isRequired,v.b.string,v.b.string.isRequired,v.b.func.isRequired,v.b.object,v.b.object,v.b.object,v.b.bool,v.b.bool,v.b.object.isRequired,v.b.shape({id:v.b.string,name:v.b.string}),v.b.object.isRequired,v.b.string,v.b.string,v.b.string,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool.isRequired,v.b.bool,v.b.string.isRequired,v.b.string,v.b.string,v.b.string,v.b.string,v.b.bool,v.b.bool,v.b.bool,v.b.arrayOf(v.b.shape({name:v.b.string.isRequired,usage:v.b.string,description:v.b.string}).isRequired),{app:void 0,appUser:void 0,installedByMember:void 0,installerIsYou:!1,isWorkflowApp:!1,isError:!1,menuProps:{},memberId:void 0,externalTeam:{},isAppSpaceEnabled:!0,currentEnterpriseId:void 0,currentUserId:void 0,appHomeTeamDisplayName:void 0,externalWorkspaceUrl:void 0,viewContext:ee.C.MESSAGE_PANE,channelId:void 0,threadTs:void 0,isMemberRestricted:!1,isMemberUltraRestricted:!1,canBeRemovedFromChannel:!1,commands:[]}),Ue=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHeaderClick=n.onHeaderClick.bind(n),n.autoFillSlashCommand=n.autoFillSlashCommand.bind(n),n}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.commands,r=o()(t,["commands"]),a=e.commands,i=o()(e,["commands"]);return!Object(T.a)(r,i)||!Object(T.a)(n,a)}},{key:"onHeaderClick",value:function(){var e=this.props,t=e.app,n=e.memberId,r=e.menuProps.onTriggerClose,a=e.serviceId,i=e.clogger,o=e.dispatch,s=t.app_id,c=t.home_workspace_id;i.track("USER_CARD_CLICK",{app_id:s,bot_id:a}),o(Object(Q.a)({memberId:n,serviceId:a,homeWorkspaceId:c})),r&&r()}},{key:"autoFillSlashCommand",value:function(e){if(this.props.featureSonicInputs){var t=Object($.a)({viewContext:this.props.viewContext,channelId:this.props.channelId,threadTs:this.props.threadTs});if(!t)return;t.prependContents({contents:(new E.a).insert(e+" ").ops}),t.focus()}else Object(J.b)(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.app,r=t.appUser,i=t.commands,o=t.defaultAppIcon,s=t.menuProps,c=t.installedByMember,l=t.installerIsYou,u=t.isWorkflowApp,d=t.isError,b=t.dispatch,p=t.serviceId,h=t.currentTeam,v=t.externalTeam,g=t.featureReactMemberProfileCard,j=t.currentUserId,k=t.currentEnterpriseId,E=t.appHomeTeamDisplayName,I=t.featureAddAppHomeTeamName,w=t.externalWorkspaceUrl,T=t.isMemberRestricted,R=t.isMemberUltraRestricted,N=t.channelId,x=t.canBeRemovedFromChannel,M=t.featureM11nChannelDetails,P=t.featureBuilderIsWorkflowApp;if(Object(S.d)(n))return y.a.createElement("div",{className:"p-app_profile_card__container"},y.a.createElement(B.f,{menuClassNames:"p-app_profile_card p-app_profile_card--loading",width:320},y.a.createElement(Y.a,null)));if(!Object(S.b)(n))return null;var A=Object(f.a)(s.onTriggerClose)?s.onTriggerClose:m.a,L=Object(Z.a)(n.profile,192,o),q=h.id!==n.home_workspace_id,F=h.enterprise_id&&n.home_enterprise_id&&h.enterprise_id===n.home_enterprise_id,U=q||F,H=n.installation&&n.installation.is_active,K=!F&&q&&v?v:void 0,G=y.a.createElement(de,{colorHex:n.profile.color,imageUrl:L,name:n.profile.name,onClick:!H||q?m.a:this.onHeaderClick,tagline:n.profile.tagline,isError:d,externalTeam:K,isWorkflowApp:Object(ne.f)(n)}),V=H||q||T?null:y.a.createElement("div",{className:"c-menu_item__li p-app_profile_card__disabled_message","data-qa":"app_card_app_disabled"},Fe.t("This app has been disabled")),W=Ie({appId:n.app_id,appUser:r,channelIdToRemoveFrom:x&&N,dispatch:b,externalWorkspaceUrl:w,featureM11nChannelDetails:M,featureReactMemberProfileCard:g,homeWorkspaceId:n.home_workspace_id,isActive:H,isMemberRestricted:T,isMemberUltraRestricted:R,isXoxaApp:"xoxa"===n.app_type,isExternal:q,isOrgShared:F,legacyApp:n.legacy_app,serviceId:p,currentTeamId:h.id,currentUserId:j,locale:Object(C.p)(),currentEnterpriseId:k,installerIsYou:l,isWorkflowApp:u,featureBuilderIsWorkflowApp:P}).map(function(e){return"separator"===e.type?y.a.createElement(B.d,{key:e.key}):y.a.createElement(B.b,{key:e.key,label:e.label,onSelected:e.click,href:e.href,"data-qa":e.dataQa})}),Q=i.slice(0,3),J=Q.length&&(H||U)?Q.map(function(t){return y.a.createElement(B.b,{key:t.name,onSelected:function(){return e.autoFillSlashCommand(t.name)},"data-qa":"app_card_slash_command"},y.a.createElement(O.Fragment,null,y.a.createElement("div",{className:"block overflow_ellipsis"},y.a.createElement("strong",{className:"margin_right_25"},t.name),t.usage),y.a.createElement("div",{className:"p-app_profile_card__command_desc c-menu_item__description"},t.description)))}):null,$=void 0;(H&&n.installation&&n.installation.installer_user_id||E&&I)&&($=y.a.createElement(be.a,{isWorkflowApp:Object(ne.f)(n),appType:n.app_type,memberId:c&&c.id,installerIsYou:l,appName:n.profile.name,isError:d,onMemberClick:A,appHomeTeamDisplayName:E,featureAddAppHomeTeamName:I}));var ee=null,te=H&&n.app_user;q&&(te=n.app_user&&"xoxp"===n.app_type),F&&(te=!!n.app_user),te&&(ee=g?y.a.createElement(z,{className:"p-app_profile_card__direct_message_button",onSelected:function(){return b(Object(X.startImByMemberId)({memberId:r.id}))}},g?Fe.t("Message {username}",{username:Object(C.n)(Object(D.E)(r))}):""):y.a.createElement(qe,{onSubmit:A,userId:n.app_user.id,username:n.app_user.username}));var re=_()("p-app_profile_card",{"p-app_profile_card--has_footer":te&&!g});return y.a.createElement("div",{className:"p-app_profile_card__container","data-qa":"app_profile_card_container"},y.a.createElement(B.f,a()({},s,{width:320,noMargin:!0,menuClassNames:re}),G,y.a.createElement(B.d,{noPaddingAbove:!0}),V,W,J&&y.a.createElement(B.d,null),J,$&&y.a.createElement(B.d,null),$,ee))}}]),t}(O.Component);Ue.displayName="AppProfileCard",Ue.defaultProps=Be;var He=Object(w.b)(Object(j.b)(function(e,t){var n=t.serviceId,r=t.homeWorkspaceId,a=t.memberId,i=t.viewContext,o=Object(N.c)(e,{serviceId:n,homeWorkspaceId:r,memberId:a}),s=Object(x.d)(e),c=o&&s.id!==o.home_workspace_id&&o?Object(x.i)(e,o.home_workspace_id):void 0,l=Object(W.m)(e)?Object(x.g)(e).id:void 0,u=Object(M.b)(e),d=o&&Object(M.c)(e,Object(te.w)(o)),b=o?Object(x.i)(e,o.home_workspace_id):null,p=Object(S.b)(b)?Object(A.e)(b):void 0,h=c&&Object(A.o)(c),m=Object(F.a)(e,i),f=m.channelId,v=m.threadTs,g=Object(M.c)(e,a||o&&o.app_user&&o.app_user.id),_=f&&Object(P.f)(e,f,a),O=f&&_.isKnown&&_.isMember&&Object(q.s)(e,f,g),y=[];return f&&o.commands&&(y=o.commands.filter(function(t){return Object(L.k)(e,t,{channelId:f,isThread:!!v}).isEnabled})),{app:o,appUser:g,channelId:f,threadTs:v,commands:y,defaultAppIcon:Object(R.f)(e),installedByMember:d,installerIsYou:Object(te.x)(e,o),isAppSpaceEnabled:Object(R.g)(e),featureReactMemberProfileCard:Object(W.j)(e,"feature_react_member_profile_card"),featureAddAppHomeTeamName:Object(W.j)(e,"feature_add_app_home_team_name"),featureSonicInputs:Object(W.j)(e,"feature_sonic_inputs"),homeWorkspaceId:r||s.id,currentTeam:s,externalTeam:c,clogger:Object(I.a)({state:e}),currentEnterpriseId:l,currentUserId:u.id,appHomeTeamDisplayName:p,externalWorkspaceUrl:h,isMemberRestricted:Object(D.xb)(u),isMemberUltraRestricted:Object(D.Db)(u),canBeRemovedFromChannel:O,featureM11nChannelDetails:Object(W.j)(e,"feature_m11n_channel_details"),featureBuilderIsWorkflowApp:Object(W.j)(e,"feature_builder_is_workflow_app"),isWorkflowApp:Object(ne.f)(o)}})(Ue));t.a=He},nUcG:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("NZ+B"),h=n("ifKl"),m=n("aK/h"),f=n("kxpR"),v=n.n(f),g=n("TSYQ"),_=n.n(g),O=n("3zPy"),y=n.n(O),j=n("yt6e"),k=n("UF3u"),E=y()("enter"),C=(m.b.string,m.b.string.isRequired,m.b.node,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.func,m.b.string,m.b.objectOf(m.b.any),m.b.string,m.b.number,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.bool,m.b.string,m.b.number,{ariaLabel:void 0,children:null,onFocusEnter:h.a,onFocusWithin:h.a,onFocusLeave:h.a,onHeightChange:h.a,onMouseEnter:h.a,onMouseOver:h.a,onMouseLeave:h.a,onMouseDown:h.a,onMouseUp:h.a,onClick:h.a,onTabWithin:h.a,className:"",style:{},role:"listitem",height:null,validity:!0,hasFocus:!1,hasFocusWithin:!1,isMouseDownOnItem:!1,shouldHorizontallyScroll:!1,ariaExpanded:void 0,ariaControls:void 0,tabIndex:-1}),I=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateHeight=n.updateHeight.bind(n),n.setRef=n.setRef.bind(n),n.onFocusEnter=n.onFocusEnter.bind(n),n.onFocusWithin=n.onFocusWithin.bind(n),n.onFocusLeave=n.onFocusLeave.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onClick=n.onClick.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.mutationObserver=new MutationObserver(n.updateHeight),n.node=null,n.justFocused=!1,n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.node&&(this.mutationObserver.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)),this.updateHeight(),this.maybeFocusNode()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return!Object(k.a)(e.style,t.style)||(!Object(k.a)(e.children.props,t.children.props)||(e.children.key!==t.children.key||(!e.validity||(e.hasFocus!==t.hasFocus||(e.isMouseDownOnItem!==t.isMouseDownOnItem||e.hasFocusWithin!==t.hasFocusWithin)))))}},{key:"componentDidUpdate",value:function(){this.updateHeight(),this.maybeFocusNode()}},{key:"componentWillUnmount",value:function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}},{key:"onFocusEnter",value:function(e){var t=this,n=e.relatedEvent,r=e.target;n&&"mousedown"===n.type||(r&&(r instanceof HTMLMediaElement||r.dataset.mediaFocusContainer)||(clearTimeout(this.focusTimerId),this.justFocused=!0,this.focusTimerId=setTimeout(function(){t.justFocused=!1},250),this.props.onFocusEnter(a()({id:this.props.id},e)),n&&"keydown"===n.type&&this.props.onTabWithin(a()({id:this.props.id},e))))}},{key:"onFocusWithin",value:function(e){var t=this,n=e.relatedEvent,r=e.target,i=e.currentTarget;n&&"mousedown"===n.type||(r===i&&(clearTimeout(this.focusTimerId),this.justFocused=!0,this.focusTimerId=setTimeout(function(){t.justFocused=!1},250)),this.props.onFocusWithin(a()({id:this.props.id},e)),n&&"keydown"===n.type&&this.props.onTabWithin(a()({id:this.props.id},e)))}},{key:"onFocusLeave",value:function(){this.props.onFocusLeave()}},{key:"onMouseEnter",value:function(e){if(!this.justFocused){var t=a()({id:this.props.id},e);this.props.onMouseEnter(t)}}},{key:"onMouseOver",value:function(e){this.justFocused||this.props.onMouseOver(a()({id:this.props.id},e))}},{key:"onMouseLeave",value:function(e){this.props.onMouseLeave(a()({id:this.props.id},e))}},{key:"onMouseDown",value:function(e){this.props.onMouseDown(a()({id:this.props.id},e))}},{key:"onMouseUp",value:function(e){this.props.onMouseUp(a()({id:this.props.id},e))}},{key:"onClick",value:function(e){this.props.onClick(a()({id:this.props.id},e))}},{key:"onKeyDown",value:function(e){e.keyCode===E&&e.target===e.currentTarget&&this.props.onClick(a()({id:this.props.id},e))}},{key:"setRef",value:function(e){this.node=e}},{key:"updateHeight",value:function(){if(this.node){var e=this.node.getBoundingClientRect().height;(Math.abs(e-this.props.height)>.5||!this.props.validity)&&this.props.onHeightChange(this.props.id,e)}}},{key:"maybeFocusNode",value:function(){this.props.hasFocus&&this.node&&this.node.focus()}},{key:"render",value:function(){if(!this.props.children)return null;var e=_()(this.props.className,"c-virtual_list__item",{"c-virtual_list__item--focus":this.props.hasFocus,"c-virtual_list__item--focus-within":this.props.hasFocusWithin,"c-virtual_list__item--auto_width":this.props.shouldHorizontallyScroll}),t=this.props,n=t.ariaExpanded,r=t.ariaControls,a=t.isMouseDownOnItem,i=Object(p.a)(n)?n:void 0,o=a?void 0:this.props.tabIndex;return v.a.createElement(j.a,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},v.a.createElement("div",{"aria-label":this.props.ariaLabel,"aria-expanded":i,"aria-controls":r,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onFocus:h.a,onClick:this.onClick,onKeyDown:this.onKeyDown,className:e,tabIndex:o,role:this.props.role,style:this.props.style,ref:this.setRef},this.props.children))}}]),t}(f.Component);I.displayName="ListItem",t.a=I,I.defaultProps=C},nWao:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("sJy+"),g=n("dI1W"),_=n("t4nz"),O=(n("ktlY"),b.b.node.isRequired,b.b.string,b.b.string,b.b.oneOf(Object(d.a)(v.b)),b.b.string,b.b.oneOf(Object(d.a)(v.c)),b.b.string,b.b.string,b.b.bool,b.b.bool,b.b.string,b.b.string,{className:null,errorId:null,errorLevel:v.b.error,errorText:null,errorType:v.c.nestedBox,hintText:null,hintId:null,isDisabled:!1,isRequired:!1,legendId:null,legendText:null}),y=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"getAriaLabelledById",value:function(){var e=this.props,t=e.legendId,n=e.errorId;return t||n?[t,n].join(" ").trim():null}},{key:"renderErrorMaybe",value:function(){var e=this.props,t=e.errorId,n=e.errorLevel,r=e.errorText,a=e.errorType;return r?h.a.createElement(v.d,{id:t,level:n,type:a,className:"c-alert--error margin_bottom_100"},r):null}},{key:"renderHintMaybe",value:function(){var e=this.props,t=e.hintId,n=e.hintText;return n?h.a.createElement(g.a,{id:t},n):null}},{key:"renderLegendMaybe",value:function(){var e=this.props,t=e.legendId,n=e.legendText;return n?h.a.createElement(_.a,{id:t},n):null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.errorText,r=e.hintId,a=e.hintText,i=e.isDisabled,o=e.isRequired,s=f()("c-radiogroup",{"c-radiogroup--with_error":n,"c-radiogroup--with_hint":a},t),c=h.a.createElement("fieldset",{"aria-describedby":r,"aria-invalid":n?"true":"false","aria-labelledby":this.getAriaLabelledById(),"aria-required":o,className:s,disabled:i},this.renderLegendMaybe(),this.props.children);return h.a.createElement("div",null,c,this.renderErrorMaybe(),this.renderHintMaybe())}}]),t}(h.a.Component);y.displayName="Radiogroup",y.defaultProps=O,t.a=y},nfdY:function(e,t,n){},"nlS/":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("TGBA"),m=n("tn36"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("TSYQ"),O=n.n(_),y=n("YEIV"),j=n.n(y),k=n("yIs4"),E=n("qEEt"),C=n("od5y"),I=n("cD5Y"),w=n("RMmo"),S=n("8yfr"),T=n("e4Fz"),R=n("nNoG"),N=(n("s0EC"),new R.b("select")),x=(f.b.object,f.b.func,f.b.string,f.b.func.isRequired,f.b.shape({activeRowIndex:f.b.number,filterQuery:f.b.string,isDisabled:f.b.bool,isExpanded:f.b.bool,isInvalid:f.b.bool,isRequired:f.b.bool,options:f.b.array,selectedOption:f.b.object,selectId:f.b.string}).isRequired,f.b.func.isRequired,f.b.oneOf(Object(h.a)(S.f)).isRequired,f.b.oneOfType([f.b.string,f.b.number]),f.b.string,f.b.bool,f.b.bool,f.b.bool,f.b.string,f.b.string,f.b.func,f.b.bool,f.b.string,f.b.string,{inputRef:null,onClick:p.a,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,measurePopoverEventName:null,classPrefix:void 0,onBlur:p.a,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0}),M=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(m.a)(n,["onBlur","onClickOrFocus","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onInputChanged","setWrapperRef","showOptionsList","updateOptionsListPosition"]),n.selectInputRef=g.a.createRef(),e.measurePopoverEventName&&(n.measurePopoverEvent=new Event(e.measurePopoverEventName)),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.onClickOrFocus()}},{key:"componentWillUnmount",value:function(){this.unbindKeyCommands()}},{key:"onBlur",value:function(e){var t=this.props.onBlur;this.unbindKeyCommands(),t&&t(e)}},{key:"onUpOrDownPressed",value:function(e){e.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),e.stopPropagation())}},{key:"onKeyPressedEnter",value:function(e){this.props.selectState.isExpanded?e.preventDefault():(this.showOptionsList(),e.stopPropagation())}},{key:"onKeyPressedTab",value:function(){(0,this.props.setSelectState)(function(){return{isExpanded:!1}})}},{key:"onKeyPressedEscape",value:function(e){var t=this.props,n=t.selectState,r=t.setSelectState,a=t.resultsInPopover;n.isExpanded&&a&&(e.stopPropagation(),r(function(){return{isExpanded:!1}}))}},{key:"onClickOrFocus",value:function(){var e=this.props,t=e.inputRef,n=e.selectState;n.isDisabled||(t&&t.current&&document.activeElement!==t.current&&t.current.focus(),n.isExpanded||this.showOptionsList(),this.bindKeyCommands(),this.props.onClick())}},{key:"onInputChanged",value:function(e){this.props.selectState.isExpanded||this.showOptionsList(),this.props.setSelectState(function(){return{filterQuery:e}})}},{key:"setWrapperRef",value:function(e){this.wrapperEl=e}},{key:"showOptionsList",value:function(){this.updateOptionsListPosition(),this.props.setSelectState(function(){return{isExpanded:!0}})}},{key:"bindKeyCommands",value:function(){var e=[{keys:["up","down"],handler:this.onUpOrDownPressed},{keys:["enter"],handler:this.onKeyPressedEnter},{keys:["escape"],handler:this.onKeyPressedEscape},{keys:["tab","shift+tab"],handler:this.onKeyPressedTab}];this.keyCommands||(this.keyCommands=new w.a(this.wrapperEl)),this.keyCommands.bindAll(e)}},{key:"unbindKeyCommands",value:function(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}},{key:"updateOptionsListPosition",value:function(){!this.props.selectState.isExpanded&&this.measurePopoverEvent&&window.dispatchEvent(this.measurePopoverEvent)}},{key:"maybeRenderIconOrLoading",value:function(){var e=this.props,t=e.showDropdownIcon,n=e.isLoading,r=e.size;if(n)return g.a.createElement(I.a,{className:"c-select_input__spinner",color:"blue",size:r===S.f.LARGE?"large":"medium"});if(!t)return null;var a=r===S.f.SMALL?"chevron-down":"chevron-medium-down";return g.a.createElement(C.b,{inline:!0,type:a})}},{key:"renderSelectedOptionOrFilterInput",value:function(){var e=this.getSelectedOption();return this.state.isOpen||!e?null:this.renderSelectedOption()}},{key:"renderInputContent",value:function(){var e=this.props.selectState,t=e.isExpanded,n=e.selectedOption;return!n||t?null:this.props.renderSelectedOption(n)}},{key:"renderTextInput",value:function(){var e=this.props,t=e.selectDataQa,n=e.inputRef,r=e.classPrefix,a=e.ariaLabelledBy,i=e.ariaDescribedBy,o=this.props.selectState,s=o.activeRowIndex,c=o.filterQuery,l=o.isDisabled,u=o.isExpanded,d=o.isInvalid,b=o.isRequired,p=o.selectedOption,h=o.selectId,m=void 0;m=c||!u&&p?null:this.props.placeholderText||N.t("Please select an option");var f=u&&Object(k.a)(s)?Object(T.a)(h,"option_"+s):null,v=p&&!u,_=O()("c-select_input",j()({"c-select_input--offscreen":v,"c-select_input--invalid":d},r+"__select_input",r));return g.a.createElement(E.b,{className:_,id:h,name:h,role:"combobox","aria-activedescendant":f,"aria-autocomplete":"list","aria-expanded":u,"aria-owns":Object(T.a)(h,"listbox"),"aria-required":b,"aria-labelledby":a,"aria-describedby":i,autoComplete:"off",isDisabled:l,onChange:this.onInputChanged,placeholder:m,value:c,ref:n,"data-qa":t?t+"-input":null,onBlur:this.onBlur})}},{key:"render",value:function(){var e,t=this.props,n=t.size,r=t.selectDataQa,a=t.width,i=t.classPrefix,o=t.showDropdownIcon,s=O()("c-select_input__wrapper",(e={},j()(e,"c-select_input--"+n,n),j()(e,"c-select_input--with_icon",o),j()(e,i+"__select_input_wrapper",i),e));return g.a.createElement("div",{className:s,style:{width:a},role:"group",onClick:this.onClickOrFocus,onFocus:this.onClickOrFocus,"data-qa":r?r+"-wrapper":null,ref:this.setWrapperRef},g.a.createElement("div",{className:"c-select_input__input_container"},this.renderTextInput(),g.a.createElement("div",{className:"c-select_input__content","data-qa":r?r+"-input-content":null},g.a.createElement("span",{className:"c-select_input__content_text"},this.renderInputContent()))),g.a.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}}]),t}(v.Component);M.displayName="SelectInput",M.defaultProps=x;var P=M,A=n("Py5X"),D=n("UnlJ"),L=n("yh68"),q=n("cRTT"),F=n("fQ+F");n.d(t,"a",function(){return K}),n.d(t,"b",function(){return H}),n.d(t,"d",function(){return V}),n.d(t,"c",function(){return z});f.b.array.isRequired,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.string,f.b.object,f.b.func,f.b.func,f.b.object.isRequired,f.b.func.isRequired,f.b.string,f.b.string,f.b.func,f.b.func,f.b.oneOf(Object(h.a)(S.f)),f.b.oneOfType([f.b.string,f.b.number]),f.b.number,f.b.string,f.b.string,f.b.string,f.b.string,f.b.func,f.b.string,f.b.bool,f.b.object.isRequired,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.func,f.b.func,f.b.number,f.b.number;var B={isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,filter:F.a,onOptionSelected:p.a,selectId:"search-select-"+Object(T.d)(),selectedOption:void 0,showConfirmDialog:void 0},U={className:void 0,classPrefix:void 0,renderOption:function(e){return e.label},renderSelectedOption:function(e){return e.label},resultsInPopover:!0,size:S.f.MEDIUM,width:360,optionsRowHeight:S.a,ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:p.a,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:p.a,onOpen:p.a,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0},H=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.selectState.selectId;return n.measurePopoverEventName="measureSelectPopover--"+r,n}return b()(t,e),c()(t,[{key:"maybeRenderOptionsList",value:function(){var e=this.props,t=e.selectState,n=e.setSelectState,r=e.renderOption,a=e.width,i=e.inputRef,o=e.ariaLabel,s=e.placeholderText,c=e.resultsInPopover,l=e.onOptionSelected,u=e.classPrefix,d=e.selectDataQa,b=e.optionsRowHeight,p=e.onOpen,h=e.emptyStateMessage,m=e.minOptionsListWidth,f=e.maxOptionsListHeight,v=e.isLoading;if(c&&(!this.props.inputRef||!this.props.inputRef.current))return null;var _={key:t.selectId+"-popover"};return c?g.a.createElement(D.a,{selectState:t,setSelectState:n,renderOption:r,width:a,inputRef:i,ariaLabel:o,placeholderText:s,onOptionSelected:l,popoverProps:_,measurePopoverEventName:this.measurePopoverEventName,classPrefix:u,selectDataQa:d,optionsRowHeight:b,onOpen:p,emptyStateMessage:h,minOptionsListWidth:m,isLoading:v}):g.a.createElement(A.a,{selectState:t,setSelectState:n,renderOption:r,width:a,inputRef:i,ariaLabel:o,placeholderText:s,onOptionSelected:l,classPrefix:u,selectDataQa:d,emptyStateMessage:h,maxListHeight:f,optionsRowHeight:b})}},{key:"render",value:function(){var e=this.props,t=e.renderSelectedOption,n=e.className,r=e.classPrefix,i=e.placeholderText,o=e.size,s=e.width,c=e.selectDataQa,l=e.selectState,u=e.setSelectState,d=e.inputRef,b=e.focusOnMount,p=e.showDropdownIcon,h=e.isLoading,m=e.resultsInPopover,f=e.isDisabled,v=e.isRequired,_=e.isInvalid,y=e.onBlur,j=e.ariaLabelledBy,k=e.ariaDescribedBy;return g.a.createElement("div",{className:O()(n,"c-search-select"),"data-qa":c},g.a.createElement(P,{selectState:a()({},l,{isInvalid:_,isRequired:v,isDisabled:f}),setSelectState:u,renderSelectedOption:t,placeholderText:i,size:o,width:s,selectDataQa:c,inputRef:d,focusOnMount:b,showDropdownIcon:p,isLoading:h,resultsInPopover:m,measurePopoverEventName:m&&this.measurePopoverEventName,classPrefix:r,onBlur:y,ariaLabelledBy:j,ariaDescribedBy:k}),this.maybeRenderOptionsList())}}]),t}(v.Component);H.displayName="ControlledSearchSelect",H.defaultProps=U;var K=Object(q.a)(H),G=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterQuery:"",options:e.options,selectId:e.selectId,isExpanded:e.isExpanded,isInvalid:e.isInvalid,isDisabled:e.isDisabled,selectedOption:e.selectedOption},n.inputRef=g.a.createRef(),Object(m.a)(n,["setSelectState"]),n}return b()(t,e),c()(t,[{key:"setSelectState",value:function(e,t){var n=this;this.setState(function(t){var r=e(),a=n.props,i=a.filter,o=a.options;return void 0!==r.filterQuery&&r.filterQuery!==t.filterQuery&&(r=i(o,r)),r},t)}},{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.isInvalid,r=e.isDisabled,i=e.showConfirmDialog?K:H;return g.a.createElement(i,a()({},this.props,{selectState:a()({},this.state,{isInvalid:n,isRequired:t,isDisabled:r}),setSelectState:this.setSelectState,inputRef:this.inputRef}))}}]),t}(v.Component);G.displayName="SearchSelect",G.defaultProps=B;t.e=G;var V=Object(L.a)(H),z=Object(L.a)(Object(q.a)(H))},nt4u:function(e,t,n){},ntJl:function(e,t,n){"use strict";n.r(t),n.d(t,"archiveChannel",function(){return X}),n.d(t,"leaveChannel",function(){return Z}),n.d(t,"addChannel",function(){return J}),n.d(t,"unarchiveChannel",function(){return $}),n.d(t,"setChannelTopic",function(){return ee}),n.d(t,"setChannelPurpose",function(){return te}),n.d(t,"renameChannel",function(){return ne}),n.d(t,"removeDisconnectedChannelFromTeam",function(){return re}),n.d(t,"getGeneralChannel",function(){return ae}),n.d(t,"convertToPrivate",function(){return ie}),n.d(t,"updateOneKeyForChannel",function(){return oe}),n.d(t,"bulkUpdateChannels",function(){return se}),n.d(t,"bulkAddChannels",function(){return ce}),n.d(t,"clearAllShowInListEvenThoughUnreadsFlags",function(){return le}),n.d(t,"archiveChannelApi",function(){return ue}),n.d(t,"updateOrgAccessForChannel",function(){return de}),n.d(t,"updateOrgAccessForChannelApi",function(){return be}),n.d(t,"convertChannelToPrivateApi",function(){return pe}),n.d(t,"renameChannelApi",function(){return he}),n.d(t,"setUnreadPoint",function(){return me}),n.d(t,"markMostRecentMsgRead",function(){return fe}),n.d(t,"startMpimByMemberIds",function(){return ve}),n.d(t,"startImByMemberId",function(){return ge}),n.d(t,"joinConversationApi",function(){return Oe}),n.d(t,"closeChannelApi",function(){return ye}),n.d(t,"leaveConversationApi",function(){return je}),n.d(t,"exportChannelHistory",function(){return Ee}),n.d(t,"handleUpdateChannelEvent",function(){return Ce}),n.d(t,"convertToShared",function(){return Ie}),n.d(t,"reconcileChannelAccess",function(){return we}),n.d(t,"createChannel",function(){return Se}),n.d(t,"createChildChannelAndAddMembers",function(){return Te});var r=n("m1cH"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("QbLZ"),c=n.n(s),l=n("F3Uw"),u=n("fujP"),d=n("vPIQ"),b=n("Z0Cl"),p=n("/1FC"),h=n("m8R6"),m=n("GxtX"),f=n("BeL+"),v=n("vFlG"),g=n("XfeM"),_=n("aK/h"),O=n("DtX9"),y=n("HO/Y"),j=n("b+9+"),k=n("0NgK"),E=n("q4bl"),C=n("Fdc0"),I=n("hOQf"),w=n("6kok"),S=n("wfE8"),T=n("0nhw"),R=n("yHhI"),N=n("1zbP"),x=n("2Zgd"),M=n("MhQa"),P=n("1czH"),A=n("oIqc"),D=n("FsHF"),L=n("sK36"),q=n("cTgs"),F=n("4om7"),B=n("Smdl"),U=n("XzsM"),H=n("ESRc"),K=n("W5IG"),G=n("TcTh"),V=n("smxp"),z=n("clTI"),Y=n("CJqQ"),W=n("+JGq"),Q=n("+ncu"),X=Object(g.b)(Q.a.ARCHIVE_CHANNEL,function(e,t,n){var r=t();if(n&&n.id){var a=Object(z.d)(r,n.id,!1);if(a&&!Object(w.V)(a)){var i=c()({},Object(z.d)(r,n.id,!1));i.is_archived=!0,Object(v.a)(n,"isMoved")&&(i.is_moved=!0===n.isMoved),Object(v.a)(n,"wasArchivedThisSession")&&(i.was_archived_this_session=!0===n.wasArchivedThisSession),Object(v.a)(n,"isFrozen")&&(i.is_frozen=!0===n.isFrozen),e(Object(Y.a)({channel:i,reason:Q.a.ARCHIVE_CHANNEL}))}}});X.propTypes={id:_.b.string.isRequired,isMoved:_.b.bool,wasArchivedThisSession:_.b.bool};var Z=Object(g.b)(Q.a.LEAVE_CHANNEL,function(e,t,n){var r=t();if(n&&n.id&&Object(z.d)(r,n.id,!1)){var a=c()({},Object(z.d)(r,n.id,!1));a.is_member=!1,e(Object(Y.a)({channel:a,reason:Q.a.LEAVE_CHANNEL}))}});Z.propTypes={id:_.b.string.isRequired};var J=Object(g.b)(Q.a.ADD_CHANNEL,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channel;n&&n.id&&e(Object(Y.a)({channel:n,reason:Q.a.ADD_CHANNEL}))});J.propTypes={channel:_.b.shape({id:_.b.string.isRequired}).isRequired};var $=Object(g.b)(Q.a.UNARCHIVE_CHANNEL,function(e,t,n){var r=t();if(n&&n.id){var a=Object(z.d)(r,n.id,!1);if(a&&Object(w.V)(a)&&(!Object(y.j)(r,"feature_esc_disconnect_v2_client")||!Object(w.bb)(a))){var i=c()({},a,{is_archived:!1});Object(v.a)(n,"isMoved")&&(i.is_moved=!0===n.isMoved),i.was_archived_this_session=!1,Object(v.a)(n,"isFrozen")&&(i.is_frozen=!0===n.isFrozen),e(Object(Y.a)({channel:i,reason:Q.a.UNARCHIVE_CHANNEL}))}}});$.propTypes={id:_.b.string.isRequired,isMoved:_.b.bool};var ee=Object(g.b)(Q.a.SET_TOPIC,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.topic,i=t(),o=Object(z.d)(i,r,!1);if(r&&o&&a){var s=a.creator,l=a.last_set,u=a.value,d=c()({},o,{topic:{creator:s,last_set:l,value:u}});e(Object(Y.a)({channel:d,reason:Q.a.SET_TOPIC}))}});ee.propTypes={id:_.b.string.isRequired,topic:_.b.shape({creator:_.b.string.isRequired,last_set:_.b.string.isRequired,value:_.b.string.isRequired})};var te=Object(g.b)(Q.a.SET_PURPOSE,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.purpose,i=t(),o=Object(z.d)(i,r,!1);if(r&&o&&a){var s=a.creator,l=a.last_set,u=a.value,d=c()({},o,{purpose:{creator:s,last_set:l,value:u}});e(Object(Y.a)({channel:d,reason:Q.a.SET_PURPOSE}))}});te.propTypes={id:_.b.string.isRequired,purpose:_.b.shape({creator:_.b.string.isRequired,last_set:_.b.string.isRequired,value:_.b.string.isRequired})};var ne=Object(g.b)(Q.a.RENAME_CHANNEL,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t(),a=n.id,i=Object(z.d)(r,a,!1);if(a&&i){var o=i.name_normalized,s=c()({},i,{name:n.name,name_normalized:n.name_normalized});Object(w.yb)(s)&&(n.previous_names?s.previous_names=n.previous_names:o&&(s.previous_names=Object(f.a)(Object(m.a)([o],s.previous_names||[])))),e(Object(Y.a)({channel:s,reason:Q.a.RENAME_CHANNEL}))}});ne.propTypes={id:_.b.string.isRequired,name:_.b.string.isRequired,name_normalized:_.b.string.isRequired,_name_lc:_.b.string,previous_names:_.b.arrayOf(_.b.string)};var re=Object(g.b)("Updates the external teams\u2019 channels",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t(),a=Object(z.d)(r,n);Object(w.M)(r,a).forEach(function(t){e(Object(K.b)({teamId:t,channel:a}))})});re.propTypes={disconnectedChannel:_.b.shape({id:_.b.string.isRequired})};var ae=Object(g.b)("Get the general channel from cache, fetch if we do not have it",function(e,t){var n=t(),r=Object(z.b)(n),a=r&&Object.values(r).find(function(e){return Object(w.cb)(e)&&!Object(w.ab)(e)});if(a||Object(C.xb)(Object(O.b)(n))||(e(Object(Y.a)({channel:{id:"C0GENERAL",is_general:!0,isUnknown:!0},reason:Q.a.ADD_CHANNEL})),e(Object(S.i)()).then(function(t){t&&(e(Object(Y.a)({channel:t,reason:Q.a.ADD_CHANNEL})),e(Object(W.d)({ids:["C0GENERAL"],reason:Q.a.CHANNEL_UPDATED})))}).catch(function(t){if(!t||!t.data||"channel_not_found"!==t.data.error)throw t;e(Object(Y.a)({channel:{id:"C0GENERAL",is_general:!0,isNonExistent:!0},reason:Q.a.CHANNEL_UPDATED}))})),!Object(w.Jb)(a))return a}),ie=Object(g.b)(Q.a.CONVERT_TO_PRIVATE,function(e,t,n){var r=t();if(n&&n.id&&Object(z.d)(r,n.id,!1)){var a=c()({},Object(z.d)(r,n.id,!1));a.is_private=!0,e(Object(Y.a)({channel:a,reason:Q.a.CONVERT_TO_PRIVATE}))}});ie.propTypes={id:_.b.string.isRequired};var oe=Object(g.b)(Q.a.UPDATE_ONE_KEY,function(e,t,n){var r=t();if(n&&n.id&&2===Object.keys(n).length&&Object(z.d)(r,n.id,!1)){var a=Object(h.a)(n,"id"),i=Object.keys(a)[0];if(Object(z.d)(r,n.id,!1)[i]!==a[i]){var s=c()({},Object(z.d)(r,n.id,!1));s[i]=a[i],e(Object(Y.a)({channel:s,reason:Q.a.UPDATE_ONE_KEY})),"last_read"===i?e(Object(W.c)(n)):"unread_cnt"!==i&&"unread_highlight_cnt"!==i||(Object(y.j)(r,"feature_incremental_unread_counts")?e(Object(k.q)(o()({id:n.id},i,a[i]))):e(ke(o()({id:n.id},i,a[i]))))}}});oe.propTypes={id:_.b.string.isRequired};var se=Object(g.b)(Q.a.BULK_UPDATE_CHANNELS,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channels,r=t();if(n&&n.length&&Object(p.a)(n)){var a=Object(b.a)(n,"id"),i=[];a.length&&(a.forEach(function(e){var t=Object(z.d)(r,e.id,!1);i.push(c()({},t,e))}),e(Object(Y.b)({channels:i,reason:Q.a.BULK_UPDATE_CHANNELS})))}});se.propTypes={channels:_.b.arrayOf(_.b.shape({id:_.b.string.isRequired}))};var ce=Object(g.b)(Q.a.BULK_ADD_CHANNELS,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channels;if(n&&n.length&&Object(p.a)(n)){var r=Object(b.a)(n,"id");r.length&&e(Object(Y.b)({channels:r,reason:Q.a.BULK_ADD_CHANNELS}))}});ce.propTypes={channels:_.b.arrayOf(_.b.shape({id:_.b.string.isRequired}))};var le=Object(g.b)(Q.a.CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS,function(e,t){var n=t(),r=Object(z.b)(n),a=Object(b.a)(r,"_show_in_list_even_though_no_unreads");if(a.length){var i=a.map(function(e){return c()({},e,{_show_in_list_even_though_no_unreads:!1})});e(Object(W.a)({channels:i,reason:Q.a.CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS}))}}),ue=Object(g.b)("Submit an archive of a channel to the backend, then update the store on success",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channel;return e(Object(S.z)({channelId:n.id})).then(function(){e(X({id:n.id,wasArchivedThisSession:!!Object(w.kb)(n),isMoved:!1}))})});ue.propTypes={channel:_.b.object.isRequired};var de=Object(g.b)(Q.a.ORG_ACCESS,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.teamIds,i=n.orgWide,o=n.internalTeamIds,s=t();return!!Object(z.d)(s,r,!1)&&e(Object(Y.a)({channel:{id:r,is_global_shared:i,shared_team_ids:a,internal_team_ids:o},reason:Q.a.ORG_ACCESS}))});de.propTypes={channelId:_.b.string.isRequired,orgWide:_.b.bool,teamIds:_.b.arrayOf(_.b.string),internalTeamIds:_.b.arrayOf(_.b.string)};var be=Object(g.b)("Submit updates to the teams this channel is shared with on your organization or update to cross-workspace or org-wide to the backend, then update the store on success",function(e,t,n){var r=t();if(!n||!n.channelId)return Promise.resolve();var a=Object(z.d)(r,n.channelId,!1);return a||Promise.resolve(),Object(y.m)(r)&&Object(w.rb)(a)?e(Object(T.k)({channelId:n.channelId,orgWide:n.orgWide,teamIds:n.teamIds})).then(function(){return e(de({channelId:n.channelId,teamIds:n.teamIds,orgWide:n.orgWide,internalTeamIds:n.teamIds}))}):Promise.resolve()});be.propTypes={channelId:_.b.string.isRequired,orgWide:_.b.bool,teamIds:_.b.arrayOf(_.b.string)};var pe=Object(g.b)("Convert a channel to private",function(e,t,n){return e(Object(S.w)(n)).then(function(t){t.data&&t.data.ok&&e(ie({id:n}))}).catch(function(e){throw e})});pe.propTypes=_.b.string.isRequired;var he=Object(g.b)("Rename a channel (API call)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,a=n.newName;return e(Object(S.v)({channelId:r.id,newName:a})).then(function(t){return!!t&&(t.ok&&e(ne(t.channel)),t)}).catch(function(e){throw e})});he.propTypes={channel:_.b.shape({id:_.b.string.isRequired}).isRequired,newName:_.b.string.isRequired};var me=Object(g.b)("Set Unread Point",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.unreadTs,i=a,o=t(),s=Object(G.h)(o,r,a),c=s.timestamps,l=s.reachedStart;if(c&&c.length){var u=Object(y.b)(o),b=Object(V.a)(o,r,a);b&&b.user===u&&(i=Object(d.a)(c,function(e){var t=Object(V.a)(o,r,e);return e<a&&(!t||t.user!==u)})||a);var p=Object(d.a)(c,function(e){return e<i&&!Object(I.pb)(e)});p?i=p:l&&(i="0000000000.000000")}Object(R.a)({getState:t}).info(Q.b,"Setting "+r+" unread point back to "+i);e(Object(E.a)({id:r,ts:i,reason:"back",immediate:!0})),e(Object(j.o)())});me.propTypes={channelId:_.b.string.isRequired,unreadTs:_.b.string};var fe=Object(g.b)("Mark most recent message read",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason,i=n.saveGhost,o=void 0!==i&&i,s=t(),c=Object(z.d)(s,r,!1);if(c){var l=Object(G.h)(s,r).timestamps,u=Object(w.E)(c,l);u&&(u!==Object(w.D)(c)?(o&&e(Object(j.i)(Object(w.D)(c))),e(Object(E.a)({id:r,ts:u,reason:a})),e(Object(j.b)(r))):Object(w.zb)(c)||(Object(R.a)({getState:t}).warn("Unexpected unread count for "+r+" with last_read "+Object(w.D)(c)),e(oe({id:c.id,last_read:Object(w.D)(c)}))))}});fe.propTypes={channelId:_.b.string.isRequired,reason:_.b.string,saveGhost:_.b.bool};var ve=Object(g.b)("Create or open an MPIM",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberIds;if(Object(u.a)(n))return Promise.resolve();var r=t(),i=void 0,o=void 0;if(1===n.length)o=n,i=Object(z.j)(r,n[0]);else{var s=Object(y.b)(r);o=Object(f.a)([s].concat(a()(n))),i=Object(z.m)(r,o)}return Object(w.ob)(i)?e(Object(q.a)({id:i.id})).then(function(){return i}):e(Object(S.s)({memberIds:o,reason:"startMpimByMemberIds"})).then(function(t){return t&&t.channel?(e(Object(Y.a)({channel:t.channel})),e(Object(q.a)({id:t.channel.id})).then(function(){return t.channel})):Promise.reject(new Error("missing-channel"))})});ve.propTypes={memberIds:_.b.arrayOf(_.b.string.isRequired).isRequired};var ge=Object(g.b)("Create or open an IM",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId;return e(ve({memberIds:n?[n]:[]}))});ge.propTypes={memberId:_.b.string.isRequired};var _e={},Oe=Object(g.b)("Join a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.inBackground,i=void 0!==a&&a;if(!r)return Promise.reject(new Error("No channel id given"));var o=t(),s=Object(O.b)(o);if(Object(C.xb)(s))return Promise.reject(new Error("Account is restricted"));var c=Object(z.d)(o,r,!1);if(!c){if(_e[r])return Promise.reject(new Error("Already joining"));_e[r]=!0}return e(Object(S.K)({channelId:r,inBackground:i})).tap(function(e){var t={channel:r,_in_background:i};Object(P.u)(!0,e,t)}).catch(function(e){var t={channel:r,_in_background:i,name:Object(w.L)(c)};throw Object(P.u)(!1,e.data,t),e}).finally(function(){delete _e[r]})});Oe.propTypes={channelId:_.b.string,inBackground:_.b.bool};var ye=Object(g.b)("Close an IM optimistically and (if necessary) make an API call to close an MPIM or IM",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason,i=Object(z.d)(t(),r,!1);if(!i)return Promise.reject(new Error("channel_not_found"));var o=Object(w.eb)(i);if(o){var s=t();if(Object(w.U)(i,s.members)&&"variant"===Object(U.c)(s,"show_more_apps_in_sidebar_new_and_free")){var l=Object(w.G)(i),u=Object(C.m)(s.members[l]);e(Object(H.a)({memberId:l,appId:u}))}if(!Object(w.ob)(i))return Promise.resolve();e(Object(Y.a)({channel:c()({},i,{is_open:!1})})),Object(A.d)(r)}return e(Object(S.E)({channelId:r,reason:a})).catch(function(){o&&(e(Object(Y.a)({channel:c()({},i,{is_open:!0})})),Object(A.d)(r))})});ye.propTypes={channelId:_.b.string.isRequired};var je=Object(g.b)("Make an API call to leave channel, update store optimstically",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.closeOptimistically,i=void 0===a||a,o=t(),s=Object(z.d)(o,r,!1);return Object(N.b)(s)&&(Object(w.eb)(s)||Object(w.lb)(s))?e(ye({channelId:r})):(i&&e(Z(s)),e(Object(S.M)({channelId:r})).tap(function(){i||e(Z(s))}))});je.propTypes={channelId:_.b.string.isRequired};var ke=Object(g.b)("Dispatch legacy signals when unread_cnt or unread_highlight_cnt change",function(e,t,n){var r=t(),a=n.id,i=Object(z.d)(r,a,!1);if(Object(x.c)(i),Object(y.q)(r)){if("W461MFL8H"===Object(y.b)(r))Object(R.a)({state:r}).info("UNREAD-COUNTS","onUnreadChanged",a);Object(v.a)(n,"unread_cnt")?Object(M.c)(i):Object(v.a)(n,"unread_highlight_cnt")&&Object(M.d)(i)}});function Ee(e){return function(t){t(Object(S.B)(e))}}ke.propTypes={id:_.b.string.isRequired,unread_cnt:_.b.number,unread_highlight_cnt:_.b.number};var Ce=Object(g.b)(Q.a.CHANNEL_UPDATED,function(e,t,n){var r=t(),a=Object(R.a)({state:r,label:Q.b});if(n&&n.channel){var i=n.channel;if(i&&i.id){var o=i.id,s=Object(z.d)(r,o,!1);if(s&&!Object(w.V)(s)){if(!s.unlinked&&i.unlinked&&e(re({channelId:o})),!Object(w.xb)(s)&&Object(w.xb)(i)&&!Object(w.kb)(s))return a.info("Handling channel_updated, channel "+o+" was converted to private and you aren\u2019t a member of it, removing it."),void e(Object(W.d)({ids:[o],reason:Q.a.CHANNEL_UPDATED}));a.info("Handling channel_updated, upserting channel "+o+"."),e(Object(Y.a)({channel:i,reason:Q.a.CHANNEL_UPDATED})),Object(B.a)()||Object(w.Ab)(r,s)===Object(w.Ab)(r,i)&&Object(w.Gb)(r,s)===Object(w.Gb)(r,i)||Object(L.a)()}else a.info("Handling channel_updated, but "+o+" is not known or is archived, ignoring.")}}});Ce.propTypes={channel:_.b.shape({id:_.b.string.isRequired}).isRequired};var Ie=Object(g.b)(Q.a.CONVERT_TO_SHARED,function(e,t,n){if(n){var r=n.channel;if(r&&r.id){var a=t(),i=Object(z.d)(a,r.id,!1);if(i&&!Object(w.V)(i)){var o=c()({},r,{is_member:i.is_member});e(Object(Y.a)({channel:o,reason:Q.a.CONVERT_TO_SHARED}));var s=Object(z.a)(a);s&&s.id===r.id&&Object(P.c)(o)}else Object(R.a)({getState:t}).warn("convertToShared: Channel "+r.id+" not known, or channel is archived - ignoring")}else Object(R.a)({getState:t}).warn("convertToShared: Channel and/or channel ID missing - ignoring")}else Object(R.a)({getState:t}).warn("convertToShared: Payload not provided - ignoring")});Ie.propTypes={channel:_.b.shape({id:_.b.string.isRequired}).isRequired};var we=Object(g.b)("Remove or leave channels",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channels;if(n&&Object(p.a)(n)){var r=t(),a=!1;Object(l.a)(Object(z.s)(r),n,"id").forEach(function(t){Object(w.xb)(t)?e(Object(W.d)({ids:[t.id]})):(e(Z(t)),Object(P.f)(t)),a=!0}),a&&Object(D.d)()}});we.propTypes={channels:_.b.arrayOf(_.b.shape({id:_.b.string.isRequired}))};var Se=Object(g.b)("Create a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.isPrivate;return a||e(Object(F.b)({name:r,needsCreatedMessage:!0})),e(Object(S.G)({name:r,isPrivate:a})).then(function(t){return e(Object(Y.a)({channel:t.channel}))}).catch(function(t){throw e(Object(F.b)({name:r,needsCreatedMessage:!1})),t})});Se.propTypes={name:_.b.string,isPrivate:_.b.bool};var Te=Object(g.b)("Archives a private channel, creates and upserts a new one with the same name, then adds users",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.users;return e(Object(S.b)({channelId:r,reason:Q.a.CHILD_CHANNEL_CREATED})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;return e(Object(Y.a)({channel:t,reason:Q.a.CHILD_CHANNEL_CREATED})),e(Object(q.a)({id:t.id})),e(Object(S.J)({channelId:t.id,users:a})),Promise.resolve()}).catch(function(e){throw e})});Te.propTypes={channelId:_.b.string.isRequired}},nuYo:function(e,t,n){},o4CG:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("TSYQ"),f=n.n(m),v=n("XHGt"),g=n("DtX9"),_=n("uf9I"),O=n("HO/Y"),y=n("tnk7"),j=n("Fdc0"),k=n("0sSB"),E=n("ynxK"),C=n("WTjW"),I=n("w6pt"),w=n("O/xh"),S=n("mOAw"),T=(h.b.string.isRequired,h.b.string,h.b.node,h.b.func,h.b.object,h.b.string,h.b.bool,h.b.func,{className:void 0,children:void 0,clogLinkClick:d.a,member:void 0,teamId:void 0,featureReactMemberProfileCard:!1,openAppProfileCard:d.a}),R=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u()(t,e),o()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.id,r=t.member,a=t.teamId,i=t.clogLinkClick,o=t.featureReactMemberProfileCard;if(e.preventDefault(),i({item_id:n,item_type:n.charAt(0),link_type:"user"}),!o){var s=Object(j.n)(r);if(s){var c=n,l=Object(k.b)(r,a),u=e.target&&e.target.getBoundingClientRect();this.props.openAppProfileCard({serviceId:s,memberId:c,homeWorkspaceId:l,coordinates:u})}else e.persist(),Object(S.a)(e,n)}}},{key:"renderContent",value:function(){var e=this.props,t=e.id,n=e.children;return n||p.a.createElement(C.a,{id:t})}},{key:"render",value:function(){var e=this.props,t=e.member,n=e.featureReactMemberProfileCard;if(Object(j.sb)(t))return p.a.createElement(I.a,{type:"non-existent"});if(Object(j.Fb)(t))return p.a.createElement(I.a,{type:"unknown"});var r=f()("c-member_link",this.props.className),a=n?null:this.onClick,i=p.a.createElement(E.a,{className:r,onClick:a},this.renderContent());return n?p.a.createElement(w.a,{userId:t.id,onClick:this.onClick},i):i}}]),t}(b.Component);R.displayName="MemberLink",R.defaultProps=T;var N={openAppProfileCard:function(){return y.a.apply(void 0,arguments)}};t.a=Object(v.b)(function(e,t){var n=t.id;return{teamId:Object(_.b)(e),member:Object(g.c)(e,n),featureReactMemberProfileCard:Object(O.j)(e,"feature_react_member_profile_card")}},N)(R)},oDBd:function(e,t,n){"use strict";var r=n("ifKl"),a=n("aK/h"),i=n("kxpR"),o=n.n(i),s=n("MnCE"),c=n("U3Q0"),l=n("lek6"),u=new(n("nNoG").b)("attachment_actions"),d=(a.b.bool,a.b.string,a.b.bool,a.b.string,a.b.func,a.b.func.isRequired,a.b.string,a.b.string,{dangerGoButton:!1,dismissText:void 0,isMrkdwnText:!0,okText:void 0,onCancel:r.a,text:"",title:""});function b(e){var t=e.dangerGoButton,n=e.dismissText,r=e.isMrkdwnText,a=e.okText,i=e.onCancel,s=e.onGo,d=e.text,b=e.title,p=void 0;return p=d||b?r?o.a.createElement(l.a,{text:d}):d:u.t("Are you sure?"),o.a.createElement(c.a,{cancelText:n||u.t("Cancel"),goButtonText:a||u.t("OK"),goButtonType:t?"danger":void 0,onCancel:i,onGo:s,title:b},p)}b.displayName="AttachmentActionConfirmDialog",b.defaultProps=d,t.a=Object(s.a)(b)},oIqc:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("ROZo"),a=Object(r.b)("TS.ims.getDisplayNameOfUserForIm",function(e){return e._display_name||e.name}),i=Object(r.b)("TS.ims.legacyStartImByMemberId"),o=Object(r.b)("TS.ims.legacyOnClose"),s=Object(r.b)("TS.ims.opened_sig.dispatch"),c=Object(r.b)("TS.ims.closed_sig.dispatch");Object(r.b)("TS.ims.legacyDisplayIm")},oJ6u:function(e,t,n){},oKDV:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i);t.a=function(e,t,n){var r=t.pinned_to,i=void 0===r?[]:r,s=[].concat(o()(i)),c=s.indexOf(n);return e?-1===c&&s.push(n):-1!==c&&s.splice(c,1),a()({},t,{pinned_to:s})}},oRxB:function(e,t,n){"use strict";var r=n("NFsq"),a=n("3Hq1"),i=n("aK/h"),o=n("XfeM"),s=n("HO/Y"),c=n("zfae"),l=n("Q+UV"),u=n("CsuD"),d=n("0fwO"),b=n("rzSx"),p=n("kxpR"),h=n.n(p),m=n("/Q0P"),f=h.a.lazy(function(){return Promise.resolve().then(n.bind(null,"OgdT"))}),v=Object(o.b)("Open the Reaction Error dialog component",function(e,t,n){e(Object(m.a)({element:h.a.createElement(f,n)}))});v.propTypes={error:i.b.oneOf(["too_many_emoji","too_many_reactions"]).isRequired};var g=v,_=Object(o.b)("Change a reaction from a user action, make an API call to commit that action, fetch and update reactions for that key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.key,o=n.name,p=n.adding;if(Object(a.a)(i))return!1;var h=t(),m=Object(l.a)(h,i,o),f=Object(c.f)(h,i,m),v=Object(s.b)(h),_={key:i,name:m,userId:v,url:f&&f.url||void 0,fromUserAction:!0},O=f&&Object(r.a)(f.users,v),y=Object(s.j)(h,"feature_sonic_emoji"),j=p;if(y&&(j=!O),j&&!O){var k=Object(b.e)(m),E=!(!f||!f.url);if(!k&&!E)return Promise.reject(new Error("invalid_name"));var C=Object(c.e)(h,i);if(!f&&C&&C.length>=50)return e(g({error:"too_many_emoji"})),Promise.resolve();if((C||[]).filter(function(e){return e.users.indexOf(v)>-1}).length>=23)return e(g({error:"too_many_reactions"})),Promise.resolve();e(Object(c.a)(_))}else e(Object(c.h)(_));return Object(d.b)({key:i,name:m,userId:v}),e(Object(u.b)({reactionKey:i,name:m,add:j,reason:"changeReactionFromUserAction"})).catch(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(t&&t.error&&"no_reaction"!==t.error)throw _.fromUserAction=!1,e(j?Object(c.h)(_):Object(c.a)(_)),Object(d.b)({key:i,name:m,userId:v}),new Error(t.error)})});_.propTypes={key:i.b.string.isRequired,name:i.b.string.isRequired,adding:i.b.bool};t.a=_},oRzC:function(e,t,n){"use strict";n.d(t,"b",function(){return q}),n.d(t,"l",function(){return V}),n.d(t,"e",function(){return ne}),n.d(t,"f",function(){return ae}),n.d(t,"a",function(){return ie}),n.d(t,"g",function(){return ce}),n.d(t,"h",function(){return le}),n.d(t,"d",function(){return ue}),n.d(t,"i",function(){return de}),n.d(t,"j",function(){return me}),n.d(t,"k",function(){return fe});var r,a=n("m1cH"),i=n.n(a),o=n("sk9p"),s=n.n(o),c=n("jo6Y"),l=n.n(c),u=n("YEIV"),d=n.n(u),b=n("QbLZ"),p=n.n(b),h=n("m8R6"),m=n("oTSI"),f=n("7EGn"),v=n("CpTu"),g=n("XIp8"),_=n("aK/h"),O=n("EzZj"),y=n("MNvw"),j=n("U/ze"),k=n("XfeM"),E=n("yHhI"),C=n("dCAd"),I=n("6kok"),w=n("Fdc0"),S=n("HO/Y"),T=n("clTI"),R=n("4hnu"),N=n("0KSM"),x=n("jYCR"),M=n("1zbP"),P=n("btvA"),A=n("lhZz"),D=n("uf9I"),L=Object(O.b)("add app permission related data to the store keyed by serviceId");L.propTypes={appPermissions:_.b.object.isRequired,serviceId:_.b.string.isRequired};var q=Object(O.b)("removes all app permission related data from the store");q.propTypes=null;var F=Object(O.b)("add public channel ID to app permission data");F.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var B=Object(O.b)("add private channel ID to app permission data");B.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var U=Object(O.b)("add excluded channel ID to app permission data");U.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var H=Object(O.b)("remove public channel ID from app permission data");H.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var K=Object(O.b)("remove private channel ID from app permission data");K.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var G=Object(O.b)("remove excluded channel ID from app permission data");G.propTypes={channelId:_.b.string.isRequired,serviceId:_.b.string.isRequired};var V=Object(O.b)("updates public channel count in app permission data");V.propTypes={countDelta:_.b.number.isRequired,serviceId:_.b.string.isRequired};var z=Object(O.b)("updates private channel count in app permission data");z.propTypes={countDelta:_.b.number.isRequired,serviceId:_.b.string.isRequired};var Y=Object(O.b)("remove currentUserScopeInfo and decrements count in app permissions data");Y.propTypes=_.b.string.isRequired;var W=Object(O.b)("toggles the wildcard flag and clears out public channels and exclusions");W.propTypes={serviceId:_.b.string.isRequired,wildcardEnabled:_.b.bool.isRequired};var Q=Object(O.b)("sets results for user search");Q.propTypes={isLoading:_.b.bool,nextCursor:_.b.string,query:_.b.string,results:_.b.arrayOf(_.b.shape({user_id:_.b.string.isRequired,scopes:_.b.arrayOf(_.b.string).isRequired})),serviceId:_.b.string.isRequired,total:_.b.number};var X=Object(O.b)("removes user from user search results");X.propTypes={serviceId:_.b.string.isRequired,userId:_.b.string.isRequired};var Z=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.serviceId,a=n.channelId;if(!r||!a||!t[r])return t;var i=t[r];return i[e][a]?t:p()({},t,d()({},r,p()({},i,d()({},e,p()({},i[e],d()({},a,!0))))))}},J=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.serviceId,a=n.channelId;if(!r||!a||!t[r])return t;var i=t[r];return i[e][a]?p()({},t,d()({},r,p()({},i,d()({},e,Object(h.a)(i[e],a))))):t}},$=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.serviceId,a=n.countDelta;if(!r||!a||!t[r])return t;var i=t[r];return p()({},t,d()({},r,p()({},i,d()({},e,i[e]+a))))}},ee={},te=Object(y.b)((r={},d()(r,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.serviceId,r=t.appPermissions;return n&&r?p()({},e,d()({},n,r)):e}),d()(r,F,Z("publicChannelIds")),d()(r,B,Z("privateChannelIds")),d()(r,U,Z("exclusionIds")),d()(r,H,J("publicChannelIds")),d()(r,K,J("privateChannelIds")),d()(r,G,J("exclusionIds")),d()(r,V,$("publicChannelCount")),d()(r,z,$("privateChannelCount")),d()(r,Y,function(e,t){if(!t||!e[t])return e;var n=e[t];return p()({},e,d()({},t,p()({},n,{currentUserScopeInfo:[],userCount:n.userCount-1})))}),d()(r,W,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.serviceId,r=t.wildcardEnabled;if(!n||!e[n])return e;var a=e[n];return a.wildcardEnabled===r?e:p()({},e,d()({},n,p()({},a,{wildcardEnabled:r,exclusionIds:{},publicChannelIds:{},publicChannelCount:0})))}),d()(r,Q,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.serviceId,r=l()(t,["serviceId"]);if(!n)return e;var a=e[n];return a?p()({},e,d()({},n,p()({},a,{userSearchResults:p()({},a.userSearchResults,r)}))):e}),d()(r,X,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.serviceId,r=t.userId;if(!(r&&n&&e[n]&&e[n].userSearchResults))return e;var a=e[n].userSearchResults;return p()({},e,d()({},n,p()({},e[n],{userSearchResults:p()({},a,{results:a.results.filter(function(e){return e.user_id!==r})})})))}),d()(r,q,function(){return ee}),r),ee,{persistenceEnabled:!0});te.propTypes=_.b.objectOf(_.b.shape({id:_.b.string,appUserId:_.b.string,channelScopeInfo:_.b.array,currentUserScopeInfo:_.b.array,exclusionIds:_.b.object,hiddenChannelCount:_.b.number,privateChannelCount:_.b.number,privateChannelIds:_.b.object,publicChannelCount:_.b.number,publicChannelIds:_.b.object,resourceTypeAccess:_.b.object,serviceId:_.b.string,userCount:_.b.number,userScopeInfo:_.b.array,userSearchResults:_.b.shape({isLoading:_.b.bool,nextCursor:_.b.any,query:_.b.string,results:_.b.array,total:_.b.number}),wildcardEnabled:_.b.bool,workspaceScopeInfo:_.b.array}));var ne=Object(j.b)(function(e,t){var n=e&&e.appPermissions&&e.appPermissions[t],r=Object(D.b)(e);return n?(je().maybeRefetch(r,t),n):ye().fetchObjectWithId(r,t)}),re=Object(j.b)(function(e,t){return e&&e.appPermissions&&Object(v.a)(e.appPermissions,{appUserId:t})||null}),ae=Object(j.b)(function(e,t){var n=ne(e,t);return Object(M.b)(n)&&n.userSearchResults||null}),ie=function(e,t){return!(!Object(M.b)(e)||!t)&&!!e.resourceTypeAccess[t]},oe=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t},se=Object(k.b)("Fetches app permission related data and adds it to store",function(e,t,n){return Promise.all([e(Object(C.f)({serviceId:n})),e(Object(C.e)({serviceId:n})),e(Object(C.g)({serviceId:n,userId:Object(S.b)(t())}))]).then(function(e){var t=s()(e,3),r=t[0],a=t[1],i=t[2],o=Object(f.a)(a,"group.resources.ids",[]),c=Object(f.a)(a,"im.resources.ids",[]),l=Object(f.a)(a,"mpim.resources.ids",[]),u=oe(Object(f.a)(a,"channel.resources.ids",[])),d=oe(o.concat(l,c)),b=oe(Object(f.a)(a,"channel.resources.excluded_ids",[])),p={};Object(f.a)(r,"resource_type_access",[]).forEach(function(e){p["group"===e?"private":e]=!0});var h=Object(f.a)(r,"user_count",0);return{id:n,appUserId:Object(f.a)(r,"app_user_id"),channelScopeInfo:Object(f.a)(r,"channel_scope_info",[]),currentUserScopeInfo:i||[],exclusionIds:b,hiddenChannelCount:Object(f.a)(r,"hidden_channel_count",0),privateChannelCount:Object(f.a)(r,"private_channel_count",0),privateChannelIds:d,publicChannelCount:Object(f.a)(r,"public_channel_count",0),publicChannelIds:u,resourceTypeAccess:p,serviceId:n,userCount:h,userScopeInfo:Object(f.a)(r,"user_scope_info",[]),userSearchResults:{isLoading:!1,nextCursor:null,query:"",results:[],total:h},wildcardEnabled:Object(f.a)(r,"wildcard_enabled",!1),workspaceScopeInfo:Object(f.a)(r,"team_scope_info",[])}})});se.propTypes=_.b.string;var ce=Object(k.b)("Updates channel related permission data after an app user is added to a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.channelId,i=t(),o=re(i,r);if(o){var s=o.serviceId,c=o.wildcardEnabled,l=Object(T.d)(i,a),u=Object(I.yb)(l);if(c&&u){if(!o.exclusionIds[a])return;e(G({serviceId:s,channelId:a})),e(V({serviceId:s,countDelta:1}))}else{if(o[u?"publicChannelIds":"privateChannelIds"][a])return;var d=u?V:z;e((u?F:B)({channelId:a,serviceId:s})),e(d({serviceId:s,countDelta:1}))}}});ce.propTypes={appUserId:_.b.string.isRequired,channelId:_.b.string.isRequired};var le=Object(k.b)("Updates channel related permission data after an app user is removed from a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.channelId,i=t(),o=re(i,r);if(o){var s=o.serviceId,c=o.wildcardEnabled,l=Object(T.d)(i,a),u=Object(I.yb)(l);if(c&&u){if(o.exclusionIds[a])return;e(U({serviceId:s,channelId:a})),e(V({serviceId:s,countDelta:-1}))}else{if(!o[u?"publicChannelIds":"privateChannelIds"][a])return;var d=u?V:z;e((u?H:K)({channelId:a,serviceId:s})),e(d({serviceId:s,countDelta:-1}))}}});le.propTypes={appUserId:_.b.string.isRequired,channelId:_.b.string.isRequired};var ue=Object(k.b)("Calls API to revoke an app\u2018s access to the current user\u2018s data and updates store accordingly",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).serviceId,r=t(),a=Object(S.b)(r);return e(Object(C.i)({serviceId:n,userId:a})).then(function(){e(Y(n)),e(X({serviceId:n,userId:a}))})});ue.propTypes={serviceId:_.b.string.isRequired};var de=Object(k.b)("Updates channel related permission data after a the wildcard is changed",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appUserId,a=n.wildcardEnabled,i=t(),o=re(i,r);if(o){var s=o.serviceId;e(W({serviceId:s,wildcardEnabled:a}))}});de.propTypes={appUserId:_.b.string.isRequired};var be={limit:24,channels:{include_archived:!1},groups:{include_archived:!1},mpims:!0,members:{include_self:!0,include_bots:!1,include_slackbot:!1},sort:!1},pe={prefer_exact_match:!0,frecency:!0,prefer_channels_user_belongs_to:!0,allow_empty_query:!0},he={entities:{channels:{includeArchived:!1,includeFromAnotherTeam:!1,includePrivate:!0,includePublic:!0,includeMpims:!0,onlyIfMember:!1,onlyVisibleMpims:!0},members:{includeBots:!1,includeDeleted:!1,includeSelf:!0,includeSlackbot:!1,onlyAdmins:!1,onlyLocalTeam:!1}},limit:24,allowEmptyQuery:!0,sort:{frecency:!0,preferChannelsUserBelongsTo:!0,preferExactMatch:!0}},me=Object(k.b)("Search for channels based on query and return model objects for channels to be displayed in the selectors",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,a=n.query,o=n.forExclusions,s=t(),c=ne(s,r);if(Object(M.b)(c)){var l=c.resourceTypeAccess,u=c.publicChannelIds,d=c.privateChannelIds,b=c.exclusionIds,p=c.wildcardEnabled,h=void 0,m=Object(S.j)(s,"feature_wta_modal_m11n");if(m){var f=Object(g.a)(he);o?(f.entities.channels.includePrivate=!1,delete f.entities.mpims,delete f.entities.members):(l.channel||(f.entities.channels.includePublic=!1),l.private||(f.entities.channels.includePrivate=!1),l.mpim||delete f.entities.mpims,l.im||delete f.entities.members),h=e(Object(x.c)({query:a,options:f}))}else{var v=Object(g.a)(be);o?(delete v.groups,delete v.mpims,delete v.members):(l.channel||delete v.channels,l.private||delete v.groups,l.mpim||delete v.mpims,l.im||delete v.members),h=Object(R.a)(a,v).then(function(e){return Object(N.a)(a,e,pe)})}return h.then(function(e){return e.reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m?t:t.model_ob;if(!n)return e;var r=n;if(Object(w.qb)(n)){var a=Object(T.j)(s,n.id);if(!a)return e;r=a}var c=r.id,l=[].concat(i()(e),[r]);return p?o?b[c]?e:l:Object(I.yb)(r)?b[c]?l:e:d[c]?e:l:u[c]||d[c]?e:l},[])})}return Promise.resolve([])});me.propTypes={forExclusions:_.b.bool.isRequired,serviceId:_.b.string.isRequired,query:_.b.string.isRequired};var fe=Object(k.b)("Search for users based on a query and updates permissions store with user IDs and theirs scopes",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,a=n.query,o=void 0===a?"":a,s=n.nextPage,c=void 0!==s&&s,l=t(),u=ne(l,r);if(!u)return Promise.resolve();var d=u.userSearchResults,b=u.currentUserScopeInfo;return d&&(!d.results.length||d.query!==o||c&&d.nextCursor)?(e(Q({isLoading:!0,query:o,results:c?d.results:[],serviceId:r,total:c?d.total:0})),e(Object(C.j)({cursor:c?d.nextCursor:"",limit:50,query:c?d.query:o,serviceId:r})).then(function(){var t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.user_info,s=a.next_cursor,u=a.total,p=o;if(b.length>0){var h=Object(S.b)(l);p=o.filter(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).user_id!==h}),c||(p=[(t=h,n=b,{user_id:t,scopes:n.map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).scopes[0]})})].concat(i()(p)))}e(Q({isLoading:!1,results:c?[].concat(i()(d.results),i()(p)):p,nextCursor:s,serviceId:r,total:u}))}).catch(function(){e(Q({isLoading:!1,serviceId:r})),Object(E.a)({getState:t}).error("Error fetching users for app with service ID: "+r)})):Promise.resolve()});fe.propTypes={nextPage:_.b.bool,serviceId:_.b.string.isRequired};var ve=Object(k.b)("Fetches app permissions for multiple apps given an array of service IDs",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Promise.map(n,function(t){return e(se(t))})});ve.propTypes=_.b.arrayOf(_.b.string).isRequired;var ge=Object(k.b)("Upserts app permissions for multiple apps given an array of app permissions objects",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.forEach(function(t){return e(L({serviceId:t.id,appPermissions:t}))});var r=n.filter(M.b).map(function(e){return e.id});return je().markObjectsAsFresh(Object(D.b)(t()),r),n});ge.propTypes=_.b.arrayOf(_.b.object).isRequired;var _e=Object(k.b)("Fetchs and upserts app permissions for multiple apps given an array of serviceIds",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e(ve(n)).then(function(t){return e(ge(t))})});_e.propTypes=_.b.arrayOf(_.b.string).isRequired;var Oe=function(e){return function(t,n){return Object(A.dispatchForTeamId)(t,e(n))}},ye=Object(m.a)(function(){return new M.a({fetch:Oe(ve),upsertKnown:Oe(ge),upsertNonExistent:Oe(ge)})}),je=Object(m.a)(function(){return new P.b({fetch:Oe(_e),isEnabled:function(){return!0}})});t.c=te},oUPN:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("tfYw"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("QbLZ"),h=n.n(p),m=n("ukIz"),f=n("ifKl"),v=n("kxpR"),g=n.n(v),_=n("aK/h"),O=n("Smdl"),y=n("rWF5"),j=n("k0G2"),k=n("VymY"),E=n("RMmo"),C=n("yt6e"),I=n("LxWA"),w=n("tQ8E"),S=n("nUcG"),T=h()({},w.a.propTypes,{activeItem:_.b.string,initialActiveItem:_.b.string,isFocusableItem:_.b.func,shouldIgnoreScrollKeys:_.b.func,shouldIgnoreArrowKeys:_.b.func,onFocusEnter:_.b.func,onFocusLeave:_.b.func,onPageUp:_.b.func,onPageDown:_.b.func,onHome:_.b.func,onEnd:_.b.func,onItemTabWithin:_.b.func,keyCommands:_.b.array,useAriaApplicationMode:_.b.bool,hideHiddenStopTabs:_.b.bool,pageHeight:_.b.number}),R=h()({},w.a.defaultProps,{activeItem:void 0,initialActiveItem:void 0,isFocusableItem:function(){return!0},onFocusEnter:f.a,onFocusLeave:f.a,onPageUp:f.a,onPageDown:f.a,onHome:f.a,onEnd:f.a,onItemTabWithin:f.a,keyCommands:void 0,useAriaApplicationMode:!1,hideHiddenStopTabs:!1,shouldIgnoreScrollKeys:function(e){return!this.node||!this.node.scroller.contains(e.target)},shouldIgnoreArrowKeys:function(e){return!this.node||!this.node.scroller.contains(e.target)},pageHeight:void 0}),N=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocusEnter=n.onFocusEnter.bind(n),n.onFocusLeave=n.onFocusLeave.bind(n),n.onItemMouseOver=n.onItemMouseOver.bind(n),n.onItemFocusEnter=n.onItemFocusEnter.bind(n),n.onItemFocusLeave=n.onItemFocusLeave.bind(n),n.onItemTabWithin=n.onItemTabWithin.bind(n),n.onItemMouseLeave=n.onItemMouseLeave.bind(n),n.onItemMouseDown=n.onItemMouseDown.bind(n),n.onItemMouseUp=n.onItemMouseUp.bind(n),n.onMouseInterceptorMouseMove=n.onMouseInterceptorMouseMove.bind(n),n.focus=n.focus.bind(n),n.setFirstHiddenTabStopRef=n.setFirstHiddenTabStopRef.bind(n),n.setLastHiddenTabStopRef=n.setLastHiddenTabStopRef.bind(n),n.debouncedUpdateTabIndexes=Object(I.a)(n.updateTabIndexes.bind(n),500),n.previousActiveItem=null,n.state=h()({},n.state,{initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,hoveredItem:null,mouseDownTargetItem:null}),n}return b()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.possiblyUpdateInitialActiveItem(e)}},{key:"componentDidMount",value:function(){u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e=this.props.shouldIgnoreScrollKeys.bind(this),n=[{keys:["pageup"],handler:this.onKeyDownPageUp.bind(this),filter:e},{keys:["pageup"],handler:this.onKeyUpPageUp.bind(this),filter:e,action:"keyup"},{keys:["shift+space"],ignoreInputs:!0,handler:this.onKeyDownPageUp.bind(this),filter:e},{keys:["pagedown"],handler:this.onKeyDownPageDown.bind(this),filter:e},{keys:["pagedown"],handler:this.onKeyUpPageDown.bind(this),filter:e,action:"keyup"},{keys:["space"],ignoreInputs:!0,handler:this.onKeyDownPageDown.bind(this),filter:e},{keys:["home"],handler:this.onKeyDownHome.bind(this),action:"keydown",filter:e},{keys:["end"],handler:this.onKeyDownEnd.bind(this),action:"keydown",filter:e},{keys:["home"],handler:this.onKeyUpHome.bind(this),action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd.bind(this),action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown.bind(this),ignoreInputs:!0,filter:this.props.shouldIgnoreArrowKeys.bind(this)},{keys:["up","down"],handler:this.onArrowKeyUp.bind(this),ignoreInputs:!0,filter:this.props.shouldIgnoreArrowKeys.bind(this),action:"keyup"}],r=this.props.keyCommands?n.concat(this.props.keyCommands):n;this.keyCommands=new E.a,this.keyCommands.bindAll(r)}},{key:"componentWillUnmount",value:function(){u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.keyCommands.reset(),this.keyCommands=null,this.node=null,clearTimeout(this.focusTimerId)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.activeItem;if(n&&n!==e.activeItem&&(this.setActiveItem(n),this.isItemInView(n)||this.scrollToKey(n)),this.state.hasKeyboardFocus&&!this.isScrolling()&&(this.updateTabIndexes(),!t.hasKeyboardFocus&&this.state.hasKeyboardFocus)){if(this.focusFirstTabStopInView)return this.moveFocusToFirstTabStopInView(),void(this.focusFirstTabStopInView=!1);this.focusFirstLastStopInView&&(this.moveFocusToLastTabStopInView(),this.focusFirstLastStopInView=!1)}}},{key:"possiblyUpdateInitialActiveItem",value:function(e){this.state.hasKeyboardFocus||e.initialActiveItem!==this.props.initialActiveItem&&e.initialActiveItem!==this.state.initialActiveItem&&this.setState(function(){return{initialActiveItem:e.initialActiveItem}})}},{key:"onScrollEnd",value:function(){this.state.hasKeyboardFocus&&!this.isScrolling()&&this.debouncedUpdateTabIndexes(),u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onScrollEnd",this).call(this)}},{key:"getPageHeight",value:function(){var e=this.props,t=e.pageHeight,n=e.height;return t||n-21}},{key:"getKeysForFocusableItems",value:function(){var e=this.props,t=e.keys,n=e.isFocusableItem;return t.filter(function(e){return n({index:Object(m.a)(t,e),key:e})})}},{key:"getListItemTabIndex",value:function(){var e=this.state.initialActiveItem;return null!==e&&null!==this.previousActiveItem&&this.previousActiveItem===e?0:-1}},{key:"onKeyDownPageUp",value:function(e){if(this.isPageUpKeyPressed=!0,e.preventDefault(),!1!==this.props.onPageUp(e)){var t=this.getScrollTop()-this.getPageHeight();this.state.hasKeyboardFocus?this.isScrolledToTop()?this.focusFirstItemInView():this.scrollToAndFocusFirstItemInView(t):this.scrollToOffset(t)}}},{key:"onKeyUpPageUp",value:function(){this.isPageUpKeyPressed=!1}},{key:"onKeyDownPageDown",value:function(e){if(this.isPageDownKeyPressed=!0,e.preventDefault(),!1!==this.props.onPageDown(e)){var t=this.getScrollTop()+this.getPageHeight();if(this.state.hasKeyboardFocus)if(this.isScrolledToBottom())this.focusLastItemInView();else{var n=this.getNextLastFocusableItemInView(t);this.setActiveItem(n),this.scrollToOffset(t)}else this.scrollToOffset(t)}}},{key:"onKeyUpPageDown",value:function(){this.isPageDownKeyPressed=!1}},{key:"onKeyDownHome",value:function(e){if(!this.isHomeKeyPressed&&(this.isHomeKeyPressed=!0,e.preventDefault(),!1!==this.props.onHome(e)))if(this.state.hasKeyboardFocus)if(this.isScrolledToTop())this.focusFirstItemInView();else{var t=this.getKeysForFocusableItems()[0];this.setActiveItem(t),this.scrollToKey(t)}else this.scrollToOffset(0,{absolute:!0})}},{key:"onKeyDownEnd",value:function(e){if(!this.isEndKeyPressed&&(this.isEndKeyPressed=!0,e.preventDefault(),!1!==this.props.onEnd(e)))if(this.state.hasKeyboardFocus)if(this.isScrolledToBottom())this.focusLastItemInView();else{var t=this.getKeysForFocusableItems(),n=t[t.length-1];this.setActiveItem(n),this.scrollToKey(n)}else this.scrollToOffset(1/0,{absolute:!0})}},{key:"onArrowKeyDown",value:function(e){e.preventDefault(),this.isArrowKeyPressed=!0,this.focusNextItem(e.keyCode)}},{key:"onArrowKeyUp",value:function(){this.isArrowKeyPressed=!1}},{key:"onKeyUpHome",value:function(){this.isHomeKeyPressed=!1}},{key:"onKeyUpEnd",value:function(){this.isEndKeyPressed=!1}},{key:"onItemFocusEnter",value:function(e){var t=e.id,n=e.relatedEvent,r=e.currentTarget,a=e.target;if(!this.haveActiveItem()&&!n&&a===r)this.setActiveItem(t);else{var i=!this.haveActiveItem()&&!n&&r.contains(a),o=this.props,s=o.keys,c=(0,o.isFocusableItem)({index:Object(m.a)(s,t),id:t})?t:null;i&&this.setState(function(){return{activeItem:null,initialActiveItem:c,hasKeyboardFocus:!0}})}}},{key:"onItemFocusLeave",value:function(){this.previousActiveItem=null}},{key:"onItemTabWithin",value:function(e){var t=e.id,n=e.relatedEvent,r=e.currentTarget,a=e.target,i=this.state.activeItem;if(n.shiftKey&&r===a&&!i&&this.state.initialActiveItem===t)return this.setActiveItem(t),void this.props.onItemTabWithin(e);this.previousActiveItem=null!==i&&i;var o=this.props,s=o.keys,c=(0,o.isFocusableItem)({index:Object(m.a)(s,t),id:t})?t:null;this.setState(function(){return{activeItem:null,initialActiveItem:c,hasKeyboardFocus:!0}}),this.props.onItemTabWithin(e)}},{key:"onFocusEnter",value:function(e){var t=e.relatedEvent,n=e.target;if(!(t&&"mousedown"===t.type||n&&(n instanceof HTMLMediaElement||n.dataset.mediaFocusContainer))){var r=n===this.firstHiddenTabStop,a=n===this.lastHiddenTabStop,i=!t,o=!i&&(r||a);t&&"keydown"===t.type||i?(o&&(r&&(this.setState(function(){return{hasKeyboardFocus:!0}}),this.focusFirstTabStopInView=!0),a&&(this.setState(function(){return{hasKeyboardFocus:!0}}),this.focusLastTabStopInView=!0)),this.props.onFocusEnter(h()({isKeyboardFocus:!0},e))):this.props.onFocusEnter(e)}}},{key:"onFocusLeave",value:function(e){var t=this,n=this.state.activeItem,r=this.haveActiveItem()?{activeItem:null,hasKeyboardFocus:!1,initialActiveItem:n}:{activeItem:null,hasKeyboardFocus:!1},a=h()({activeItem:n},e);this.setState(function(){return r},function(){t.props.onFocusLeave(a)})}},{key:"onItemMouseOver",value:function(e){var t=e.id;this.setState(function(){return{hoveredItem:t}})}},{key:"onItemMouseLeave",value:function(){this.setState(function(){return{hoveredItem:null,mouseDownTargetItem:null}})}},{key:"onItemMouseDown",value:function(e){var t=e.id;this.setState(function(){return{mouseDownTargetItem:t}})}},{key:"onItemMouseUp",value:function(){this.setState(function(){return{mouseDownTargetItem:null}})}},{key:"focus",value:function(){var e=this.state.initialActiveItem;(!e||this.isItemInView(e))&&e?this.setActiveItem(e):this.scrollToAndFocusFirstItemInView()}},{key:"scrollToAndFocusFirstItemInView",value:function(e){var t=this.getNextFirstFocusableItemInView(e);t&&(this.setActiveItem(t),this.scrollToKey(t))}},{key:"blur",value:function(){var e=document.activeElement;this.node.scroller.contains(e)&&e.blur()}},{key:"getActiveItem",value:function(){return this.state.activeItem}},{key:"setFirstHiddenTabStopRef",value:function(e){this.firstHiddenTabStop=e}},{key:"setLastHiddenTabStopRef",value:function(e){this.lastHiddenTabStop=e}},{key:"moveFocusToFirstTabStopInView",value:function(){if(this.node){var e=this.node.scroller,t=Object(k.b)(e);t&&(t.focus(),t.classList.add("focus-ring"))}}},{key:"moveFocusToLastTabStopInView",value:function(){if(this.node){var e=this.node.scroller,t=Object(k.c)(e);t&&(t.focus(),t.classList.add("focus-ring"))}}},{key:"isNodeScrolledOutOfView",value:function(e,t,n){var r=e.getBoundingClientRect();return!(r.top>=t&&r.bottom<=n)}},{key:"updateTabIndexes",value:function(){var e=this;if(!(this.isArrowKeyPressed||this.isPageDownKeyPressed||this.isPageUpKeyPressed)&&this.state.hasKeyboardFocus&&this.node){var t=this.node.scroller,n=t.getBoundingClientRect(),r=n.top,a=n.bottom;t.querySelectorAll("[data-remove-tab-index]").forEach(function(e){e.removeAttribute("tabindex"),delete e.dataset.removeTabIndex}),Object(k.a)(t).forEach(function(t){e.isNodeScrolledOutOfView(t,r,a)&&(t.setAttribute("tabindex","-1"),t.dataset.removeTabIndex="true")})}}},{key:"setActiveItem",value:function(e){this.setState(function(){return{hasKeyboardFocus:!0,hoveredItem:null,activeItem:e,initialActiveItem:e}})}},{key:"haveActiveItem",value:function(){return null!==this.state.activeItem}},{key:"focusFirstItemInView",value:function(){var e=this.getFocusableItemsInView()[0];this.state.activeItem!==e&&this.setActiveItem(e)}},{key:"focusLastItemInView",value:function(){var e=this.getFocusableItemsInView(),t=e[e.length-1];this.state.activeItem!==t&&this.setActiveItem(t)}},{key:"focusNextItem",value:function(e){var t=this.getNextActiveItem(e,this.state.activeItem);t&&(this.setActiveItem(t),this.isItemInView(t)||this.scrollToKey(t))}},{key:"getFocusableItemsInView",value:function(e){var t=this.props,n=t.keys,r=t.isFocusableItem,a=this.getVisibleRange(e),i=a.start,o=a.end;return(i===o?n.slice(i,i+1):n.slice(i,o)).filter(function(e){return r({index:Object(m.a)(n,e),key:e})})}},{key:"getNextFirstFocusableItemInView",value:function(e){var t=this.state.activeItem,n=this.getFocusableItemsInView(e)[0];return n&&n===t||!n&&t?this.getNextActiveItem(j.l,t):n}},{key:"getNextLastFocusableItemInView",value:function(e){var t=this.state.activeItem,n=this.getFocusableItemsInView(e),r=n[n.length-1];return r&&r===t||!r&&t?this.getNextActiveItem(j.c,t):r}},{key:"getInitialActiveItem",value:function(){return this.state.initialActiveItem}},{key:"getNextActiveItem",value:function(e,t){var n=this.state.initialActiveItem;if(!this.haveActiveItem())return n&&!this.isItemInView(n)?this.getNextFirstFocusableItemInView():n||this.getNextFirstFocusableItemInView();var r=t,a=Object(m.a)(this.props.keys,r),i=e===j.l?a-1:a+1,o=this.props.keys[i];return o&&!this.props.isFocusableItem({index:i,key:o})?this.getNextActiveItem(e,o):o}},{key:"renderItem",value:function(e,t){var n=this.getTop(e),r=this.layout.getHeight(e),a=this.state.activeItem===e,i=null===this.state.activeItem&&this.state.hasKeyboardFocus&&this.state.initialActiveItem===e,o=this.state.mouseDownTargetItem===e,s=this.state.hoveredItem===e,c=this.props,l=c.getAriaLabelForRow,u=c.isItemAriaExpanded,d=l&&l(t,{hasFocus:a}),b=u&&u(e,t),p=!0===b?this.props.itemAriaControls:void 0;return g.a.createElement(S.a,{id:e,key:e,height:r,style:{top:n},role:this.props.itemRole,ariaLabel:d,ariaExpanded:b,ariaControls:p,hasFocus:a,hasFocusWithin:i,isMouseDownOnItem:o,onFocusEnter:this.onItemFocusEnter,onFocusLeave:this.onItemFocusLeave,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseOver:this.onItemMouseOver,onMouseLeave:this.onItemMouseLeave,onMouseDown:this.onItemMouseDown,onMouseUp:this.onItemMouseup,onClick:this.props.onItemClick,shouldHorizontallyScroll:this.props.shouldHorizontallyScroll,tabIndex:this.getListItemTabIndex()},this.props.rowRenderer(t,{key:e,hasFocus:a,isHovered:s,isExpanded:b}))}},{key:"renderHiddenTabStop",value:function(e){var t=e.key,n=e.tabIndex,r=e.ref;if(this.props.hideHiddenStopTabs)return null;return g.a.createElement("div",{key:t,ref:r,tabIndex:n,style:{position:"absolute",width:"1px",height:"1px",outline:"none",boxShadow:"none"}})}},{key:"onMouseInterceptorMouseMove",value:function(e){var t=this,n=e.screenX,r=e.screenY;if(this.lastMouseCoords){var a=this.lastMouseCoords,i=a.screenX,o=a.screenY;this.lastMouseCoords={screenX:n,screenY:r};var s=Math.abs(i-n),c=Math.abs(o-r);0===s&&0===c||this.setState(function(e){return{activeItem:null,initialActiveItem:e.activeItem,hasKeyboardFocus:!1}},function(){t.lastMouseCoords=null})}else this.lastMouseCoords={screenX:n,screenY:r}}},{key:"renderMouseInterceptor",value:function(){var e=this.props,t={position:"absolute",top:"0",left:"0",height:e.height,width:e.width,zIndex:201};return this.state.hasKeyboardFocus?g.a.createElement("div",{style:t,onMouseMove:this.onMouseInterceptorMouseMove,"data-qa":"kb_list_mouse_interceptor"}):null}},{key:"render",value:function(){var e=this.state.hasKeyboardFocus?"-1":"0",n=this.renderHiddenTabStop({key:"first-hidden-tab-stop",tabIndex:e,ref:this.setFirstHiddenTabStopRef}),r=this.renderHiddenTabStop({key:"last-hidden-tab-stop",tabIndex:e,ref:this.setLastHiddenTabStopRef}),a=Object(y.B)()&&(Object(O.a)()||this.props.useAriaApplicationMode)?"application":"presentation",i=this.state.hasKeyboardFocus?{position:"relative"}:void 0;return g.a.createElement(C.a,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},g.a.createElement("div",{role:a,style:i},n,u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),r,this.renderMouseInterceptor()))}}]),t}(w.a);N.displayName="KeyboardNavigableList",t.a=N,N.propTypes=T,N.defaultProps=R},oW4N:function(e,t,n){"use strict";var r=n("QLyv"),a=n("VyaM"),i=n("VGIp"),o=n("j/30");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.compact,s=void 0!==n&&n,c=t.alwaysAgo,l=void 0!==c&&c,u=t.left,d=void 0!==u&&u,b=Object(a.a)(e,{returnMoment:!0}),p=Object(r.a)(),h=Object(i.a)(p,b),m=!l&&h<0,f=Math.abs(h),v=f/60,g=v/60,_=g/24,O=_/(365/12),y=_/365,j=m?"future":"past";j=m&&d?"futureLeft":j;var k=r.a.localeData(r.a.locale()).timeAgo();return f<45?s?k.compact.sec45:k[j].sec45:f<90?s?k.compact.sec90:k[j].sec90:v<45?s?k.compact.min45.replace(/%d/,Math.round(v)):k[j].min45.replace(/%d/,Math.round(v)):v<90?s?k.compact.min90:k[j].min90:g<24?s?k.compact.hrs24.replace(/%d/,Math.round(g)):k[j].hrs24.replace(/%d/,Math.round(g)):_<2?s?k.compact.day:k[j].day:_<30?s?k.compact.days.replace(/%d/,Math.round(_)):k[j].days.replace(/%d/,Math.round(_)):_<365?s&&!m?Object(o.a)(e,{shortenDay:!0,shortenMonth:!0,excludeYear:!0}):O<1.5?k[j].month.replace(/%d/,Math.round(O)):k[j].months.replace(/%d/,Math.round(O)):y<1.5?s?k.compact.year:k[j].year:s?k.compact.years.replace(/%d/,Math.round(y)):k[j].years.replace(/%d/,Math.round(y))}},oZiQ:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("/1FC"),c=n("CpTu"),l=n("ifKl"),u=n("7EGn"),d=n("aK/h"),b=n("EzZj"),p=n("MNvw"),h=n("U/ze"),m=n("XfeM"),f=n("HO/Y"),v=n("D4L/"),g=n("DtX9"),_=n("FN36"),O=n("VjHM"),y=n("nNoG"),j=n("yHhI"),k=n("cErB"),E=/([a-zA-Z\s]+<)*(([a-zA-Z0-9_.+-]+)@([a-zA-Z0-9-.]+)(\.[a-zA-Z0-9]{2,4}))+>*\b,*$/i;function C(e){return e?function(e){var t=[],n=[];if(!e)return Promise.resolve({done:!1,result:!1});var r=e.split("\n").join(", ");r=e.split(",");for(var a=0;a<r.length;a++){var i=r[a].trim(),o=i.match(E);o?n.push(o[2]):t.push(i)}var s=t.filter(function(e){return!!e}).length;if(s){var c=new Error;return 1===s&&1===r.length?c.name="one_invalid_email":c.name="multiple_invalid_emails",Promise.reject(c)}return Promise.resolve({result:n,done:!0})}(e).then(function(e){return e.done?Promise.resolve({validatedEmails:e.result}):Promise.resolve()}):Promise.resolve()}var I,w=n("6kok"),S=n("5mKg"),T=n("clTI"),R=n("CPJ1"),N=n("F7O2"),x=n("k00g"),M=n("AfrZ"),P=n("cqED"),A=n("zBEu"),D=n("clNh"),L=Object(m.b)("Cancels onboarding",function(e,t){var n=t();Object(O.g)(n,"tractor_enabled")?e(Object(D.a)(!1)):Object(A.a)()}),q=n("ROZo"),F=(Object(q.b)("TS.validation.firstalphanumeric",function(){return!0}),Object(q.b)("TS.validation.required",function(){return!0}),Object(q.b)("TS.validation.team_name_with_errors",function(){return!0}),Object(q.b)("TS.validation.pattern",function(){return!0}),Object(q.b)("TS.validation.isurl",function(){return!0}),Object(q.b)("TS.ui.validation.getErrorMessage",function(){return null}));Object(q.b)("TS.ui.validation.maybeConvertNameErrorCode",function(){return null});n.d(t,"z",function(){return W}),n.d(t,"B",function(){return $}),n.d(t,"D",function(){return ee}),n.d(t,"C",function(){return te}),n.d(t,"E",function(){return oe}),n.d(t,"q",function(){return le}),n.d(t,"m",function(){return ue}),n.d(t,"l",function(){return de}),n.d(t,"x",function(){return be}),n.d(t,"w",function(){return pe}),n.d(t,"n",function(){return he}),n.d(t,"k",function(){return me}),n.d(t,"h",function(){return fe}),n.d(t,"s",function(){return ve}),n.d(t,"r",function(){return ge}),n.d(t,"p",function(){return _e}),n.d(t,"u",function(){return Oe}),n.d(t,"t",function(){return ye}),n.d(t,"j",function(){return je}),n.d(t,"o",function(){return ke}),n.d(t,"i",function(){return Ee}),n.d(t,"v",function(){return Ce}),n.d(t,"g",function(){return Ie}),n.d(t,"c",function(){return we}),n.d(t,"f",function(){return Se}),n.d(t,"K",function(){return Te}),n.d(t,"d",function(){return Re}),n.d(t,"N",function(){return Ne}),n.d(t,"y",function(){return xe}),n.d(t,"J",function(){return Me}),n.d(t,"I",function(){return Pe}),n.d(t,"H",function(){return Ae}),n.d(t,"A",function(){return De}),n.d(t,"M",function(){return Le}),n.d(t,"L",function(){return qe}),n.d(t,"G",function(){return Fe}),n.d(t,"e",function(){return Be}),n.d(t,"a",function(){return Ue}),n.d(t,"F",function(){return He});var B=new y.b("team_creation"),U=Object(j.b)(),H="TEAM_CREATOR_ONBOARDING",K=Object(b.b)("Set the primary owner's real name name");K.propTypes=d.b.string;var G=Object(b.b)("Set what region we're in, for initial GDPR pref setting");G.propTypes=d.b.bool;var V=Object(b.b)("Set the primary owner's GDPR pref");V.propTypes=d.b.bool;var z=Object(b.b)("Set workspace name");z.propTypes=d.b.string;var Y=Object(b.b)("Set workspace domain");Y.propTypes=d.b.string;var W=Object(b.b)("Set domain whitelisting pref");W.propTypes=d.b.bool;var Q=Object(b.b)("Set whether or not we can set domain whitelist signups for primary owner's email domain");Q.propTypes=d.b.bool;var X=Object(b.b)("Set shared invite link");X.propTypes=d.b.string;var Z=Object(b.b)("Set signup domain for signup domain whitelisting");Z.propTypes=d.b.string;var J=Object(b.b)("Set which emails to send invites to");J.propTypes=d.b.array;var $=Object(b.b)("Set modal title");$.propTypes=d.b.string;var ee=Object(b.b)("Set step number");ee.propTypes=d.b.number;var te=Object(b.b)("Set the callback that's fired when 'next' is clicked");te.propTypes=d.b.func;var ne=Object(b.b)("Set the validity of the current step.");ne.propTypes=d.b.bool;var re=Object(b.b)("Set the whether or not we have an active promise awaiting resolution");re.propTypes=d.b.bool;var ae=Object(b.b)("store the channel name corresponding to the onboarding-created channel");ae.propTypes=d.b.string;var ie=Object(b.b)("store the channel ID corresponding to the onboarding-created channel");ie.propTypes=d.b.string;var oe=Object(b.b)("Set the active team creation workflow for this user");oe.propTypes=d.b.object;var se={realName:"",inEU:!0,gdprPref:!1,workspaceName:"",workspaceDomain:"",invites:[],domainWhitelistingPref:!1,canWhitelistOwnerEmailDomain:!1,modalTitle:"",stepNumber:0,stepCallback:l.a,isCurrentStepValid:!1,isPromiseRunning:!1,channelName:"",channelId:null,workflow:null},ce=Object(p.b)((I={},a()(I,K,function(e,t){return o()({},e,{realName:t})}),a()(I,G,function(e,t){return o()({},e,{inEU:t})}),a()(I,V,function(e,t){return o()({},e,{gdprPref:t})}),a()(I,z,function(e,t){return o()({},e,{workspaceName:t})}),a()(I,Y,function(e,t){return o()({},e,{workspaceDomain:t})}),a()(I,J,function(e,t){return o()({},e,{invites:t})}),a()(I,Z,function(e,t){return o()({},e,{signupDomain:t})}),a()(I,W,function(e,t){return o()({},e,{domainWhitelistingPref:t})}),a()(I,Q,function(e,t){return o()({},e,{canWhitelistOwnerEmailDomain:t})}),a()(I,X,function(e,t){return o()({},e,{sharedInviteLink:t})}),a()(I,$,function(e,t){return o()({},e,{modalTitle:t})}),a()(I,ee,function(e,t){return o()({},e,{stepNumber:t})}),a()(I,te,function(e,t){return o()({},e,{stepCallback:t})}),a()(I,ne,function(e,t){return o()({},e,{isCurrentStepValid:t})}),a()(I,re,function(e,t){return o()({},e,{isPromiseRunning:t})}),a()(I,ae,function(e,t){return o()({},e,{channelName:t})}),a()(I,ie,function(e,t){return o()({},e,{channelId:t})}),a()(I,oe,function(e,t){return o()({},e,{workflow:t})}),I),se,{persistenceEnabled:!1});ce.propTypes={realName:d.b.string,gdprPref:d.b.bool,workspaceName:d.b.string,workspaceDomain:d.b.string,invites:d.b.array,domainWhitelistingPref:d.b.bool,modalTitle:d.b.string,stepNumber:d.b.number,stepCallback:d.b.func,isCurrentStepValid:d.b.bool,isPromiseRunning:d.b.bool,channelName:d.b.string,channelId:d.b.string,workflow:d.b.object};t.b=ce;var le=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.realName}),ue=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.inEU}),de=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.gdprPref}),be=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.workspaceName}),pe=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.workspaceDomain}),he=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.invites}),me=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.domainWhitelistingPref}),fe=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.canWhitelistOwnerEmailDomain}),ve=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.signupDomain}),ge=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.sharedInviteLink}),_e=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.modalTitle}),Oe=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.stepNumber}),ye=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.stepCallback}),je=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.isCurrentStepValid}),ke=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.isPromiseRunning}),Ee=Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.channelName}),Ce=(Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.channelId}),Object(h.b)(function(e){return e&&e.teamCreation&&e.teamCreation.workflow})),Ie=Object(h.b)(function(e){if(!(e&&e.teamCreation&&e.teamCreation.workflow&&e.teamCreation.workflow.tasks))return null;var t=e.teamCreation.workflow;if("completed"===t.state)return null;var n=Object(c.a)(t.tasks,{state:"pending"});return n?n.subtype:null}),we=Object(m.b)("Grab channel ID and channel name for the team creator onboarding dialog",function(e,t){var n=t(),r=Object(_.a)(n,"default_channels"),a=r.map(function(e){return Object(T.d)(n,e)}).filter(function(e){return"general"!==Object(w.x)(n,e,{publicChannelIncludeHashSign:!1})&&"random"!==Object(w.x)(n,e,{publicChannelIncludeHashSign:!1})&&!Object(w.eb)(e)});if(!Object(s.a)(a)||void 0===a[0]||null===a[0]){var i={workflow:Ce(n),hasInvited:Object(O.g)(n,"has_invited"),needsPasswordSet:Object(O.g)(n,"needs_initial_password_set"),defaultChannels:r};return Object(j.a)({getState:t}).error(i,"TRACTOR_CHANNEL_MISSING"),e(ae("")),Promise.resolve()}var o=a[0],c=o.name,l=o.id;return e(ae(c)),e(ie(l)),Promise.resolve({name:c,id:l})}),Se=Object(m.b)("Grab workspace name and domain from boot data",function(e,t){var n=t(),r=Object(v.d)(n),a=Object(v.i)(n,r.id),i=Object(S.e)(a),o=Object(S.o)(a),s=Object(k.f)(o);e(z(i)),e(Y(s))}),Te=Object(m.b)("Update the state of a step",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.number,a=n.validated,i=n.forceValidation,o=t(),s=je(o),c=a||(i?a:s);return c&&r?(e(ne(null)),e(ee(r)),Promise.resolve({isValid:c})):(e(ne(c)),Promise.resolve({isValid:c}))});Te.propTypes={number:d.b.number,validated:d.b.bool};var Re=Object(m.b)("Create a shared invite link",function(e){return e(Object(P.c)(o()({},{expiration:30,maxSignups:2e3,disableEmail:!0}))).then(function(t){var n=t.url;n&&e(X(n))}).catch(function(e){return Promise.reject(e)})}),Ne=Object(m.b)("validate emails to send invites to",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).invites;return n&&n.length?C(n).then(function(t){var n=t.validatedEmails;return e(J(n)),Promise.resolve(t)}).catch(function(e){U.info(H,e);var t={one_invalid_email:B.t("It looks like that email address isn\u2019t valid. Try again?"),multiple_invalid_emails:B.t("It looks like at least one of these addresses isn\u2019t valid. Try checking your list?")},n=e.name||"generic_validate_invites_error",r=Object(u.a)(t,n)||null,a=new Error(r);return a.name=n,Promise.reject(a)}):(e(J([])),Promise.resolve())});Ne.propTypes={invites:d.b.string};var xe=Object(m.b)("update the list of emails to send invites to",function(e,t){var n=t(),r=he(n);if(!r||!r.length)return Promise.resolve();e(re(!0));var a=r.map(function(e){return{email:e,type:"regular"}});return e(Object(P.i)({invites:a,source:"team_creation_account_setup_dialog",mode:"manual"})).then(function(e){U.info(H,e)}).catch(function(e){var t=Object(u.a)(e,"data.error","generic_send_invites_error"),n=new Error(t);return n.name="email_send_failure",Promise.reject(n)}).finally(function(){return e(re(!1))})}),Me=Object(m.b)("update real name field in profile",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).realName;return e(re(!0)),e(Object(R.j)({profile:{real_name:n}})).then(function(t){return t.ok&&e(K(n)),Promise.resolve(t)}).catch(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t={invalid_name_required:F("name_invalid_name_required"),invalid_starts_with_at:F("invalid_starts_with_at"),too_long:F("too_long"),invalid_reserved_word:F("invalid_reserved_word"),invalid_name_specials:F("name_invalid_name_specials"),invalid_emoji_not_allowed:F("invalid_emoji_not_allowed",{name:n}),ratelimited:B.t("Sorry, you\u2019ve hit the rate limit. You\u2019ll be able to try again soon.")},r=e.error||"generic_real_name_error",a=t[r]||B.t("For some reason, that didn\u2019t work. Please try again to continue."),i=new Error(a);return i.name=r,Promise.reject(i)}).finally(function(){return e(re(!1))})});Me.propTypes={realName:d.b.string};var Pe=Object(m.b)("update Primary Owner account password",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).password;return e(re(!0)),e(Object(N.a)({password:n})).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)}).finally(function(){return e(re(!1))})});Pe.propTypes={password:d.b.string.isRequired};var Ae=Object(m.b)("update Primary Owners GDPR pref",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).gdprPref;return e(Object(M.e)({email_weekly:n,email_tips:n,email_offers:n,email_research:n,email_developer:n,email_changelog:n})).then(function(t){return t&&!t.ok||e(V(n)),Promise.resolve(t)}).catch(function(e){var t=Object(u.a)(e,"data.error","generic_gdpr_error"),n=new Error(t);return n.name="generic_gdpr_error",Promise.reject(n)})});Ae.propTypes={gdprPref:d.b.bool};var De=Object(m.b)("Set initial marketing email pref based on region",function(e,t){var n=t(),r=!!Object(f.d)(n,"is_europe");e(G(r)),r||e(Ae({gdprPref:!0}))}),Le=Object(m.b)("update workspace name",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).workspaceName;return e(Object(N.c)({workspaceName:n})).then(function(t){return t.ok&&n&&e(z(n)),Promise.resolve(t)}).catch(function(e){var t={denied:B.t("For some reason, that didn\u2019t work. Please try again to continue.")},n=Object(u.a)(e,"data.error","generic_workspace_name_error"),r=Object(u.a)(t,n)||B.t("For some reason, that didn\u2019t work. Please try again to continue."),a=new Error(r);return a.name=n,Promise.reject(a)})});Le.propTypes={workspaceName:d.b.string};var qe=Object(m.b)("update workspace domain",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).workspaceDomain;return e(Object(N.b)({workspaceDomain:n})).then(function(t){return t.ok&&e(Y(n)),Promise.resolve(t)}).catch(function(e){var t={denied:B.t("For some reason, that didn\u2019t work. Please try again to continue."),bad_url:B.t("Workspace URLs can only have letters, numbers, and dashes."),long_url:B.t("Please enter up to 21 characters for your Workspace URL."),taken_url:B.t("This URL is not available. Sorry!")},n=Object(u.a)(e,"data.error","generic_workspace_domain_error"),r=t[n]||B.t("For some reason, that didn\u2019t work. Please try again to continue."),a=new Error(r);return a.name=n,Promise.reject(a)})});qe.propTypes={workspaceDomain:d.b.string};var Fe=Object(m.b)("submit domain whitelisting pref",function(e,t){var n=t(),r=me(n),a={signup_mode:"invites"};if(r){var i=ve(n);a.signup_mode="email",a.signup_domains=i}e(Object(N.f)({prefs:a})).then(function(t){return t.ok&&e(W(r)),Promise.resolve(t)}).catch(function(e){var t=Object(u.a)(e,"data.error","generic_domain_whitelisting_error"),n=new Error(t);return n.name="generic_domainwhitelisting_error",Promise.reject(n)})}),Be=Object(m.b)("Grab primary owner email domain for domain whitelisting",function(e,t){var n=t(),r=Object(g.b)(n),a=Object(u.a)(r,"profile.email").split("@")[1];e(Object(N.e)({domain:a})).then(function(t){return t.ok?(e(Z(a)),e(Q(!0))):e(Q(!1))}).catch(function(e){return U.info(H,"Failed to check if email domain can be whitelisted for signups."),Promise.reject(e)})});Object(m.b)("Fetch the team creation workflow for this user",function(e){return e(Object(x.a)({onlyActive:!1})).then(function(t){var n=t.user_workflows,r=Object(c.a)(n,function(e){return"account_setup"===e.type&&"team_creation"===e.subtype});return r&&e(oe(r)),Promise.resolve(r)}).catch(function(e){return U.info(H,"Failed to fetch workflows list."),Promise.reject(e)})}).propTypes=d.b.object;var Ue=Object(m.b)("Complete team creation workflow for this user",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).taskSubtype,r=Ce(t());if(!r||!r.tasks.length)return Promise.reject(new Error("No workflow or tasks found for this user."));var a=Object(c.a)(r.tasks,function(e){return"account_setup"===e.type&&e.subtype===n});return a?(e(re(!0)),e(Object(x.b)({userTaskId:a.user_task_id})).then(function(t){if(t.ok&&"complete_team_creator_account_setup"===n){var a=o()({},r,{state:"completed"});e(oe(a)),e(Object(x.c)(r.user_workflow_id)),e(L())}return Promise.resolve(t)}).catch(function(e){return U.info(H,"Failed to complete workflow task."),Promise.reject(e)}).finally(function(){return e(re(!1))})):Promise.reject(new Error("Could not find task of subtype "+n+"."))});Ue.propTypes={taskSubtype:d.b.string.isRequired};var He=Object(m.b)("Display the second team creation account setup banner for this user",function(e,t){var n=Ce(t());if(!n)return Promise.resolve();var r=Object(c.a)(n.tasks,function(e){return"account_setup"===e.type&&"start_team_creator_account_setup"===e.subtype});if(!r)return Promise.reject(new Error("Could not find initial account setup task."));var a=[o()({},r,{state:"completed"}),o()({},n.tasks[1])],i=o()({},n,{tasks:a});return e(oe(i))});Ue.propTypes=d.b.object},obKG:function(e,t,n){},od5y:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("ifKl"),g=n("aK/h"),_=n("kxpR"),O=n.n(_),y=n("TSYQ"),j=n.n(y),k=n("P9LH"),E=(n("7tIL"),g.b.string,g.b.oneOf(["spin"]),g.b.oneOf(["top","bottom","baseline"]),g.b.string,g.b.bool,g.b.oneOf([!0,"small","tiny"]),g.b.bool,g.b.func,g.b.func,{type:null,animation:null,align:null,className:null,inherit:!1,file:null,danger:!1,onMouseEnter:v.a,onMouseLeave:v.a}),C=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e,t=this.props,n=t.align,r=t.animation,i=t.className,s=t.danger,l=t.inherit,u=t.file,d=c()(t,["align","animation","className","danger","inherit","file"]),b=this.props.type;b=b?b.replace(/_/g,"-"):null,u&&(b=Object(k.r)(b)||"file-"+b),"small"===u&&(b+="-small"),"tiny"===u&&(b+="-tiny");var p=j()("c-deprecated-icon",i,(e={},o()(e,"c-icon--"+b,!!b),o()(e,"c-icon--filetype",!!u),o()(e,"c-icon--filetype-small","small"===u),o()(e,"c-deprecated-icon--danger",s),o()(e,"c-icon--"+r,!!r),o()(e,"c-deprecated-icon--vertical-align-"+n,n),o()(e,"c-deprecated-icon--inherit",!!l),e));return O.a.createElement("i",a()({className:p},d,{"aria-hidden":"true"}))}}]),t}(_.PureComponent);C.displayName="DeprecatedIcon",C.defaultProps=E;var I=C,w=n("c8iJ");n.d(t,"a",function(){return I});t.b=w.a},"ohM/":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("vJtL"),h=n("ifKl"),m=n("hbEN"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("Qaea"),O=n("TSYQ"),y=n.n(O),j=n("XHGt"),k=n("wfZy"),E=n("O2xR"),C=150,I=(f.b.func.isRequired,f.b.node.isRequired,f.b.bool,f.b.shape({top:f.b.number,left:f.b.number,right:f.b.number,bottom:f.b.number,height:f.b.number,width:f.b.number}),f.b.func,f.b.func,f.b.bool,f.b.bool,f.b.bool,f.b.bool,f.b.func,f.b.func,{startsOpen:!1,targetBounds:void 0,onClick:h.a,onClose:h.a,useMouseCoordinatesAsTargetBounds:!1,ariaHasPopup:null,customTrigger:!1,forceOpen:!1,incrementOpenPopoverCount:h.a,decrementOpenPopoverCount:h.a}),w=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:n.props.startsOpen,openedWithKeyboard:null,targetBounds:void 0},n.listenerInstalled=!1,n.closePopover=n.closePopover.bind(n),n.onTrigger=n.onTrigger.bind(n),n.setTargetBounds=n.setTargetBounds.bind(n),n.onResize=Object(m.a)(n.setTargetBounds,C,{maxWait:C,trailing:!0}),n.setTriggerRef=n.setTriggerRef.bind(n),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.state.isOpen?this.props.incrementOpenPopoverCount():this.installOrUninstallListener()}},{key:"componentDidUpdate",value:function(e,t){this.installOrUninstallListener(),!e.forceOpen&&this.props.forceOpen&&this.onTrigger(),!this.state.isOpen||t.isOpen?!this.state.isOpen&&t.isOpen&&this.props.decrementOpenPopoverCount():this.props.incrementOpenPopoverCount()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.props.decrementOpenPopoverCount(),this.onResize.cancel(),this.listenerInstalled&&window.removeEventListener("resize",this.onResize)}},{key:"onTrigger",value:function(e){var t=this,n=this.props.useMouseCoordinatesAsTargetBounds;if(e&&e.stopPropagation(),n&&e&&e.nativeEvent){e.preventDefault();var r=e.nativeEvent;this.setTargetBounds(r.x,r.y)}else this.setTargetBounds();var a=Object(k.a)(e);this.setState(function(e){return{isOpen:!e.isOpen,openedWithKeyboard:a}},function(){t.state.isOpen||t.props.onClose()}),this.props.onClick(e)}},{key:"getTargetBounds",value:function(){return this.props.targetBounds||this.target&&Object(_.findDOMNode)(this.target).getBoundingClientRect()}},{key:"setTargetBounds",value:function(e,t){var n=e&&t?{left:e,top:t}:this.getTargetBounds();this.setState(function(){return{targetBounds:n}})}},{key:"setTriggerRef",value:function(e){this.target=e;var t=this.props.children.ref;t&&(Object(p.a)(t)?t(e):t.current=e)}},{key:"installOrUninstallListener",value:function(){this.state.isOpen&&!this.listenerInstalled&&(window.addEventListener("resize",this.onResize),this.listenerInstalled=!0),!this.state.isOpen&&this.listenerInstalled&&(this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.listenerInstalled=!1)}},{key:"closePopover",value:function(){var e=this;this.state.isOpen&&this.setState(function(){return{isOpen:!1,openedWithKeyboard:null}},function(){e.props.onClose(),e.onResize.cancel(),window.removeEventListener("resize",e.onResize),e.listenerInstalled=!1})}},{key:"render",value:function(){var e=this.props.children,t={ref:this.setTriggerRef,className:y()(e.props.className,{active:this.state.isOpen}),"aria-haspopup":this.props.ariaHasPopup};this.props.customTrigger?t.onTrigger=this.onTrigger:this.props.useMouseCoordinatesAsTargetBounds?t.onContextMenu=this.onTrigger:t.onClick=this.onTrigger;var n=g.a.cloneElement(e,t),r=this.state.isOpen&&this.props.renderPopover(a()({},this.props,{useTargetBoundsAsPosition:this.props.useMouseCoordinatesAsTargetBounds,isOpen:this.state.isOpen,onClose:this.closePopover,targetBounds:this.state.targetBounds,openedWithKeyboard:this.state.openedWithKeyboard}));return g.a.createElement(v.Fragment,null,n,r)}}]),t}(v.Component);w.displayName="BasePopoverTrigger",w.defaultProps=I;var S=Object(j.b)(null,function(e){return{incrementOpenPopoverCount:function(){return e(Object(E.c)())},decrementOpenPopoverCount:function(){return e(Object(E.a)())}}},null,{withRef:!0})(w);t.a=S},osDY:function(e,t,n){},oxKW:function(e,t,n){"use strict";var r=n("BHBM");n("Agr2"),n("0e3b"),n("MOyV"),n("QZia");t.a=r.a},"p+j0":function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return v});var r=n("YEIV"),a=n.n(r),i=n("QEec"),o=n("aK/h"),s=n("U/ze"),c=n("MNvw"),l=n("HO/Y"),u=n("CaXY"),d=Object(c.b)({},{},{persistenceEnabled:!0});d.propTypes=o.b.object,t.a=d;var b={expandable:"feature_block_kit_expandable_block",event:"feature_block_kit_event_block"},p={user:"feature_block_kit_user_block"},h=a()({},u.a.share_dialog,"feature_show_block_kit_in_share_dialogs"),m=Object(s.b)(function(e){var t={};return Object(i.a)(b,function(n,r){t["featureFlag__"+r]=Object(l.j)(e,n)}),t}),f=Object(s.b)(function(e){var t={};return Object(i.a)(p,function(n,r){t["featureFlag__"+r]=Object(l.j)(e,n)}),t}),v=Object(s.b)(function(e){var t={};return Object(i.a)(h,function(n,r){t["featureFlag__"+r]=Object(l.j)(e,n)}),t})},p2Go:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("UXvI"),b=n("ifKl"),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("XHGt"),v=n("TSYQ"),g=n.n(v),_=n("+wAm"),O=n("kOzZ"),y=n("cErB"),j=n("aZzC"),k=n("XLFM"),E=n("lek6"),C=n("85z6"),I=n("57p7"),w=["","default","primary","danger","tractor"],S=(p.b.string,p.b.string,p.b.shape({title:p.b.string,text:p.b.string,ok_text:p.b.string,dismiss_text:p.b.string}),p.b.string,p.b.bool,p.b.bool,p.b.func,p.b.func,p.b.func,p.b.func,p.b.func,p.b.func.isRequired,p.b.object.isRequired,{text:void 0,variant:"",confirm:void 0,url:void 0,isLoading:!1,isDisabled:!1,triggerAction:b.a,clogLinkClick:b.a,onClick:void 0,showConfirmDialog:b.a,hideConfirmDialog:b.a}),T=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.throttledOnClick=Object(d.a)(n.onClick.bind(n),250,{trailing:!1}),n}return u()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.hideConfirmDialog;t.isLoading&&!e.isLoading&&n(!0)}},{key:"onClick",value:function(e){var t=this,n=this.props,r=n.clogLinkClick,a=n.confirm,i=n.url,o=n.onClick,s=n.showConfirmDialog,c=n.triggerAction,l=n.clogger,u=!!i,d=e.currentTarget.href,b=!!a,p=Object(j.a)(i);if(u){r({link_attachment_field:"attachment_link_button",url:i});var h=Object(y.b)(i);if(h&&h.is_external_auth_url){var m="auto"===h.ask?"PLATFORM_APPS_TARGETED_SUGGESTIONS_SELECTED":"PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE_SELECTED";l.track(m,{app_id:h.service_type_id})}}else r();if(o)o(e);else{var f=c;u&&(e.preventDefault(),f=p?function(){t.props.doSlackAction(i)}:function(){window.open(d,"_blank")}),b?s({onConfirmDialogGo:f}):f()}}},{key:"isValidVariant",value:function(){return w.includes(this.props.variant)}},{key:"isDefaultVariant",value:function(){return["","default"].includes(this.props.variant)}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.variant,r=e.isLoading,a=e.isDisabled,i=e.url,o=g()("c-message_attachment__button",{"c-message_attachment__button--loading":r,"c-message_attachment__button--disabled":!r&&a}),s=this.isDefaultVariant()||!this.isValidVariant()?"outline":"outline-"+n,c="message_attachment_button"+(this.isDefaultVariant()||!this.isValidVariant()?"":"_"+n);return m.a.createElement(k.d,{className:o,href:i,key:"attachment-action-button",onClick:this.throttledOnClick,size:"small",type:s,disabled:a,"data-qa":c},m.a.createElement(E.a,{className:"overflow_ellipsis",text:t,noJumbomoji:!0,emojiSize:C.a.SMALL}))}}]),t}(h.PureComponent);T.displayName="AttachmentActionButton",T.defaultProps=S;var R=Object(f.b)(function(e){return{clogger:Object(O.a)({state:e})}},function(e){return{doSlackAction:function(){return e(_.a.apply(void 0,arguments))}}})(T);t.a=Object(I.a)(R)},p3uO:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("kxpR"),s=n.n(o),c=n("XHGt"),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=n("A+cF"),p=n("kd6D"),h=n("clTI"),m=n("6kok"),f=n("yHhI"),v=n("xE6W"),g=n("HO/Y"),_=n("od5y"),O=n("ukeO"),y=n("qYhC"),j=(n("OUnl"),d.b.string.isRequired,d.b.bool.isRequired,d.b.bool.isRequired,d.b.oneOf(Object(i.a)(p.a)),d.b.object,d.b.string,d.b.bool,{size:p.a.medium,className:void 0,channel:void 0,forceSkBaseIcon:!1});function k(e){var t=e.type,n=e.isUnknownChannel,r=e.featureSkBaseIcon,a=e.forceSkBaseIcon,i=e.size,o=e.className,c=e.channel;if(r||a){var l=n?void 0:t;return i===p.a.small?s.a.createElement(_.b,{className:u()("c-channel_icon--small",o,{"c-channel_icon--unknown":n,"c-channel_icon--non-existent":Object(m.nb)(c),"c-channel_icon--archived":Object(m.V)(c)}),type:t,size:i,inline:!0}):s.a.createElement(O.a,{classes:"c-channel_icon",icon:l,size:i,ariaHidden:!0})}return n?s.a.createElement("div",{className:"c-channel_icon c-channel_icon--unknown"}):s.a.createElement(_.b,{className:"c-channel_icon",type:t,size:p.a.small,inline:!0})}k.defaultProps=j;var E=Object(c.b)(function(e,t){var n=t.channel,r=t.channelId,a=n||Object(h.d)(e,r);return{type:Object(y.a)(a),isUnknownChannel:Object(m.Ib)(a),featureSkBaseIcon:Object(g.j)(e,"feature_sk_base_icon")}})(k),C=n("rkyv"),I=(n("fMsH"),p.a.small),w=(d.b.string,d.b.string,d.b.func,d.b.bool,d.b.node,d.b.node,d.b.node,d.b.string,d.b.oneOf(Object(i.a)(p.d)),d.b.bool,d.b.number,d.b.object.isRequired,d.b.object.isRequired,{channelId:void 0,className:void 0,onClick:void 0,showUnreadBadge:!1,metadata:void 0,inlineNameSuffix:void 0,nameSuffix:void 0,bestFormerName:void 0,displayFormerNames:p.d.false,badgeCount:void 0,invert:!1}),S="SMALL-CHANNEL-ENTITY";function T(e){var t=e.className,n=e.channel,r=e.bestFormerName,i=e.inlineNameSuffix,o=e.invert,c=e.onClick,l=e.logger,d=e.displayFormerNames;if(Object(m.eb)(n)||Object(m.lb)(n))return l.warn(S,"SmallChannelEntity should not display IMs or MPIMs"),null;var h=u()(t,"c-small_channel_entity"),f=Object(m.Ib)(n),g=Object(m.nb)(n),_=Object(m.V)(n)?p.c.dim:null;return o&&(_=p.c.highlightDark),s.a.createElement(b.d,{avatar:function(e){return s.a.createElement(E,a()({},e,{className:"c-small_channel_entity__icon",channel:n,size:I,forceSkBaseIcon:!0}))},className:h,size:"small",style:_,text:s.a.createElement(b.c,null,f||g?s.a.createElement(v.a,{type:f?"unknown":"non-existent",invert:o,size:"small"}):s.a.createElement("span",{className:"c-small_channel_entity__content"},s.a.createElement(C.a,{channel:n,bestFormerName:r,inlineNameSuffix:i,onClick:c,displayFormerNames:d}),i&&s.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},i)))})}T.displayName="SmallChannelEntity",T.defaultProps=w;t.a=Object(c.b)(function(e,t){return{channel:t.channel||Object(h.d)(e,t.channelId),logger:Object(f.a)({state:e,label:S})}})(T)},pGee:function(e,t,n){"use strict";var r=n("CpTu"),a=n("oTSI"),i=n("Wy5O"),o=n("vFlG"),s=n("Z0Cl"),c=n("NFsq"),l=n("U/ze"),u=n("1zbP"),d=n("uf9I"),b=n("lhZz"),p=n("DQNL");function h(e){return{id:e,name:e,isUnknown:!0,handle:e}}function m(e){return{id:e,isNonExistent:!0}}var f=n("uqAm"),v=n("Fdc0"),g=n("DtX9"),_=n("BYHq"),O=n("kpmE"),y=n("uFGw"),j=n("BtFA"),k=n("sJR0");n.d(t,"e",function(){return C}),n.d(t,"j",function(){return I}),n.d(t,"a",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"i",function(){return T}),n.d(t,"c",function(){return R}),n.d(t,"g",function(){return x}),n.d(t,"f",function(){return M}),n.d(t,"h",function(){return P}),n.d(t,"b",function(){return A});var E=Object(a.a)(function(){return new u.a({fetch:function(e,t){return function(e,t,n){if(!n)throw new Error("fetchUserGroupsForTeamId requires a reason");var r=Object(b.getStateByTeamId)(e),a=t.filter(function(e){return r&&r.userGroups&&r.userGroups[e]&&!Object(p.t)(r.userGroups[e])}),o=Object(i.a)(t,a);return Object(b.dispatchForTeamId)(e,Object(O.g)({ids:o,reason:n})).catch(function(){return{userGroups:[]}}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userGroups,i=void 0===n?[]:n;r=Object(b.getStateByTeamId)(e);var o=a.map(function(e){return r.userGroups[e]});return i.concat(o)})}(e,t,"UnknownFetchManager")},upsertKnown:D,upsertNonExistent:D,makeUnknownObject:h,makeNonExistentObject:m,metricsName:"userGroups"})}),C=Object(l.b)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return!1;var r=e&&e.userGroups&&e.userGroups[t];if(Object(v.ob)(Object(g.b)(e)))return m(t);var a=Object(d.b)(e);return r?Object(j.b)(a,r.id):Object(y.a)(t)?n&&(r=E().fetchObjectWithId(a,t)):r=m(t),r}),I=Object(l.b)(function(e,t){var n=C(e,t),r=Object(d.b)(e);return Object(p.j)(n)!==r}),w=Object(l.b)(function(e){return!!e&&!!e.userGroups&&e.userGroups}),S=Object(l.b)(function(e,t){return e&&e.userGroups&&e.userGroups[t]}),T=Object(l.b)(function(e,t){return!(!e||!t)&&(!!e&&!!e.userGroups&&Object(p.q)(e.userGroups[t]))}),R=Object(l.b)(function(e){return e&&e.userGroups?Object(s.a)(e.userGroups,p.q):[]}),N=Object(l.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberId,r=t.groupId;return!!e&&!!e.userGroups&&!!e.userGroups[r]&&Object(c.a)(e.userGroups[r].users,n)}),x=Object(l.b)(function(e,t){return Object(o.a)(e,["userGroups",t])}),M=Object(l.b)(function(e,t){return!!e&&Object(r.a)(e.userGroups,{name:t})}),P=Object(l.b)(function(e,t,n){if(!e||!t||!n)return!1;if(!x(e,t))return!1;var r=e.userGroups[t];return Object(p.k)(r)===n}),A=(Object(l.b)(function(e,t){if(!t)return[];var n=w(e);return Object(s.a)(n,function(n){return N(e,{memberId:t,groupId:n.id})})}),Object(l.b)(function(e){return Object(_.d)(e).map(function(t){return C(e,t)})}));Object(l.b)(function(e,t){return Object(s.a)(w(e),function(e){return t?!e.date_delete:!e.date_delete&&e.team_id})});function D(e,t){var n=Object(b.dispatchForTeamId)(e,Object(k.o)({userGroups:t}));Object(f.a)(n)}},pKt5:function(e,t,n){},pPF3:function(e,t,n){},pQRS:function(e,t,n){},pRVB:function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"g",function(){return b}),n.d(t,"k",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var r=n("uf9I"),a=n("Smdl"),i=n("kLJo"),o=function(e){if(Object(a.a)()){var t=Object(i.e)(),n=t.path.split("/"),r=t.params&&t.params.timestamp?5:4;return n&&n[r]}return e&&e.workspace&&e.workspace.flexName},s=function(e){if(Object(a.a)()){var t=Object(i.e)(),n=window.location.pathname.split("/"),r=t.params&&t.params.timestamp?6:5;return n&&n.slice(r)||[]}return e&&e.workspace&&e.workspace.flexParams||[]},c=function(e){return e&&e.workspace&&e.workspace.flexOrigin},l=function(e){return e&&e.workspace&&e.workspace.flexOriginId},u=function(e){return e&&e.workspace&&e.workspace.flexRestore},d=function(e){return e&&e.workspace&&e.workspace.focusedWorkspaces},b=function(e){var t=d(e);return t&&t.length>0&&t[0]},p=function(e){return b(e)===Object(r.b)(e)},h=function(e){return e&&e.workspace&&{prevRouteName:e.workspace.prevRouteName,prevFlexName:e.workspace.prevFlexName,prevFlexParams:e.workspace.prevFlexParams}},m=function(e){return e&&e.workspace&&e.workspace.channelDetailsOpen},f=function(e){return e&&e.workspace&&e.workspace.channelDetailsSection}},"pW9/":function(e,t,n){"use strict";var r=n("96kD");t.a=r.a},pWPO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("owWc"),a=n("Jqqi");function i(e){return e.contents?Object(r.a)(e.contents,function(e,t){if(t.attributes&&t.attributes.slackmention)return e+t.attributes.slackmention.label;if(t.insert.slackemoji)return e+t.insert.slackemoji.text;if(Object(a.a)(t)){var n=t.insert.workflowtoken,r=n.id,i=n.property;return e+"{{"+r+(i?"."+i:"")+"}}"}return e+t.insert},"").replace(/\n$/,""):""}},pXKq:function(e,t,n){},pfQy:function(e,t,n){"use strict";n.d(t,"m",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"i",function(){return b}),n.d(t,"e",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"o",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"l",function(){return _}),n.d(t,"s",function(){return O}),n.d(t,"w",function(){return y}),n.d(t,"v",function(){return j}),n.d(t,"t",function(){return k}),n.d(t,"x",function(){return E}),n.d(t,"j",function(){return C}),n.d(t,"u",function(){return I}),n.d(t,"q",function(){return w}),n.d(t,"p",function(){return S}),n.d(t,"r",function(){return T});var r=n("U/ze"),a=Object(r.b)(function(e){return!!(e&&e.checkoutFlow&&e.checkoutFlow.companyAddress&&e.checkoutFlow.companyAddress.validationErrors)&&Object.values(e.checkoutFlow.companyAddress.validationErrors).some(function(e){return e})}),i=Object(r.b)(function(e){return e&&e.checkoutFlow&&e.checkoutFlow.companyAddress?e.checkoutFlow.companyAddress:null}),o=Object(r.b)(function(e){var t=i(e);return t?t.country:null}),s=(Object(r.b)(function(e){var t=i(e);return t&&t.validationErrors&&t.validationErrors.country?t.validationErrors.country.errorText:null}),Object(r.b)(function(e){var t=i(e);return t?t.postalCode:null}),Object(r.b)(function(e){return e&&e.checkoutFlow&&e.checkoutFlow.config?e.checkoutFlow.config:null})),c=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.isCheckoutAddressFormDataLoaded:null}),l=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.isCheckoutCreditCardFormLoaded:null}),u=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.creditCardData:null}),d=Object(r.b)(function(e){var t=u(e);return t?t.token:null}),b=Object(r.b)(function(e){var t=d(e);return t?t.id:null}),p=Object(r.b)(function(e){var t=d(e);return t&&t.card?t.card.brand:null}),h=Object(r.b)(function(e){var t=d(e);return t&&t.card?t.card.last4:null}),m=Object(r.b)(function(e){var t=u(e);return t?t.formError:null}),f=(Object(r.b)(function(e){var t=u(e);return t?t.tokenError:null}),Object(r.b)(function(e){return!(!e||!e.checkoutFlow)&&e.checkoutFlow.isCreatingCreditCardToken})),v=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.paymentStatus:null}),g=Object(r.b)(function(e){var t=v(e);return!!t&&(!0===t.ok&&!t.error)}),_=Object(r.b)(function(e){var t=v(e);return t?t.error&&t.msg?t.msg:t.error:""}),O=Object(r.b)(function(e){var t=v(e);return!!t&&t.isProcessingPayment}),y=Object(r.b)(function(e){var t=s(e);return t?t.stripeApiKey:null}),j=Object(r.b)(function(e){var t=s(e);return t?t.sourcesPayable:null}),k=Object(r.b)(function(e){var t=s(e);return!(!t||!t.user)&&t.user.is_owner}),E=Object(r.b)(function(e){var t=s(e);return t&&t.vatCountries?t.vatCountries:null}),C=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.invoiceData:null}),I=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.paymentMethodSelected:null}),w=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.isAppDisconnectedDialogShown:null}),S=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.activeCheckoutStep:null}),T=Object(r.b)(function(e){return e&&e.checkoutFlow?e.checkoutFlow.isCheckoutFlowAPIError:null})},pl9z:function(e,t,n){},plEq:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("jo6Y"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("TGBA"),g=n("ifKl"),_=n("7EGn"),O=n("aK/h"),y=n("kxpR"),j=n.n(y),k=n("TSYQ"),E=n.n(k),C=n("sJy+"),I=n("w0ce"),w=n("dI1W"),S=n("qEEt"),T=(n("zYj7"),O.b.oneOf(Object(v.a)(S.a)),O.b.string,O.b.string,O.b.string,O.b.string,O.b.node.isRequired,{placeholder:null,size:S.a.medium,value:"",prefix:"",suffix:""}),R=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"getOverlayText",value:function(){return this.props.value||this.props.placeholder}},{key:"renderOverlay",value:function(){var e=this.props,t=e.size,n=e.prefix,r=e.suffix,a=E()("c-input_text_overlay",{"c-input_text_overlay--large":t===S.a.large});return j.a.createElement("div",{className:a,"data-overlay-prefix":n,"data-overlay-suffix":r,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.suffix;return j.a.createElement("div",{className:"position_relative","aria-describedby":"Text input with "+n+" appended to the text value."},this.renderOverlay(),t)}}]),t}(y.PureComponent);R.displayName="TextOverlay",R.defaultProps=T;var N=R,x=n("od5y"),M=(n("sNFA"),"large"),P=(O.b.string.isRequired,O.b.string.isRequired,O.b.node.isRequired,function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.size,a=E()("c-input_text_icon",{"c-input_text_icon--large":r===M}),i=E()("c-input_text_icon__icon",{"c-input_text_icon__icon--large":r===M});return j.a.createElement("div",{className:a},j.a.createElement(x.b,{type:n,className:i,size:"inherit"}),t)}}]),t}(y.PureComponent));P.displayName="TextIcon";var A=P,D=n("5VWh"),L=n("e4Fz"),q=(O.b.string,O.b.string,O.b.oneOf(Object(v.a)(C.b)),O.b.string,O.b.oneOf(Object(v.a)(C.c)),O.b.bool,O.b.string,O.b.node,O.b.string.isRequired,O.b.bool,O.b.bool,O.b.string,O.b.number,O.b.number,O.b.number,O.b.string.isRequired,O.b.func,O.b.func,O.b.func,O.b.string,O.b.oneOf(Object(v.a)(S.a)),O.b.string,O.b.string,O.b.string,O.b.string,O.b.bool,O.b.bool,O.b.bool,{className:null,errorId:void 0,errorLevel:C.b.error,errorText:null,errorType:C.c.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,onBlur:g.a,onChange:g.a,onFocus:g.a,placeholder:null,size:S.a.medium,prefix:null,suffix:null,value:"",icon:null,focusOnMount:!1,featureAppViewsV1:!1,showError:!0}),F=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.id;return n.state={errorId:Object(_.a)(n.props,"errorId",Object(L.a)(r,"error")),hintId:Object(_.a)(n.props,"hintId",Object(L.a)(r,"hint")),inputLengthIsTooShort:!1,inputLengthIsTooLong:!1,isFocused:!1,textStyle:{}},n.props.maxCharacterLimit&&(n.characterCounterId=Object(L.a)(r,"character-count")),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.getPrefixStyle=n.getPrefixStyle.bind(n),n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.input&&this.input.focus()}},{key:"componentWillReceiveProps",value:function(e){e.maxCharacterLimit&&e.value!==this.props.value&&this.setInputLengthTooLong(e.value.length>e.maxCharacterLimit),e.minCharacterLimit&&e.value!==this.props.value&&this.setInputLengthTooShort(e.value.length<e.minCharacterLimit)}},{key:"componentDidUpdate",value:function(e,t){this.props.value===e.value&&this.state.isFocused===t.isFocused||this.getTextStyle()}},{key:"onFocus",value:function(){this.setFocus(!0),this.props.onFocus()}},{key:"onBlur",value:function(){this.setFocus(!1),this.props.onBlur()}},{key:"setInputLengthTooLong",value:function(e){this.setState(function(){return{inputLengthIsTooLong:e}})}},{key:"setInputLengthTooShort",value:function(e){this.setState(function(){return{inputLengthIsTooShort:e}})}},{key:"setFocus",value:function(e){this.setState(function(){return{isFocused:e}})}},{key:"setTextStyle",value:function(e){this.setState(function(){return{textStyle:e}})}},{key:"getTextStyle",value:function(){var e=this.props,t=e.minCharacterLimit,n=e.maxCharacterLimit;if((t||n)&&this.state.isFocused){var r={paddingRight:this.characterCount.getCharacterCountWidth()};this.setTextStyle(r)}else this.setTextStyle({})}},{key:"getPrefixStyle",value:function(){var e=this.props,t=e.size,n=e.prefix;if(!n)return null;var r=void 0,a=document.createElement("canvas").getContext("2d");return t===S.a.medium?(a.font="15px Slack-Lato",r=a.measureText(n).width+12):(a.font="18px Slack-Lato",r=a.measureText(n).width+12),{paddingLeft:r}}},{key:"focus",value:function(){this.input.focus()}},{key:"renderDeprecatedErrorMaybe",value:function(){var e=this.props,t=e.errorLevel,n=e.errorText,r=e.errorType,a=e.minCharacterLimit,i=e.maxCharacterLimit,o=e.featureAppViewsV1;return n?j.a.createElement(C.d,{id:this.state.errorId,level:t,type:r,className:"margin_bottom_100"},n):this.state.inputLengthIsTooLong&&i?j.a.createElement(C.d,{id:this.state.errorId,level:C.b.error,type:r,className:"margin_bottom_100"},Object(L.b)(i,o)):this.state.inputLengthIsTooShort&&a?j.a.createElement(C.d,{id:this.state.errorId,level:C.b.error,type:r,className:"margin_bottom_100"},Object(L.c)(a,o)):null}},{key:"renderErrorMaybe",value:function(){var e=this.props,t=e.errorText,n=e.maxCharacterLimit,r=e.featureAppViewsV1;return t?j.a.createElement(I.a,{id:this.state.errorId,className:"margin_bottom_100"},t):this.state.inputLengthIsTooLong&&n?j.a.createElement(I.a,{id:this.state.errorId,className:"margin_bottom_100"},Object(L.b)(n,r)):null}},{key:"renderHintMaybe",value:function(){var e=this.props.hintText;return e?j.a.createElement(w.a,{id:this.state.hintId},e):null}},{key:"renderTextInput",value:function(){var e,t=this,n=this.props,r=n.className,i=(n.errorId,n.errorLevel),s=n.errorText,l=(n.errorType,n.hintId,n.hintText),u=n.id,d=n.isRequired,b=n.labelId,p=n.name,h=(n.onBlur,n.onChange),m=(n.onFocus,n.size),f=(n.prefix,n.suffix,n.maxCharacterLimit),v=n.minCharacterLimit,g=(n.counterMinimumCharacters,n.icon),_=(n.focusOnMount,n.useInlineAlert),O=(n.featureAppViewsV1,n.showError,c()(n,["className","errorId","errorLevel","errorText","errorType","hintId","hintText","id","isRequired","labelId","name","onBlur","onChange","onFocus","size","prefix","suffix","maxCharacterLimit","minCharacterLimit","counterMinimumCharacters","icon","focusOnMount","useInlineAlert","featureAppViewsV1","showError"])),y=this.state,k=y.inputLengthIsTooShort,C=y.inputLengthIsTooLong,I=!!s||C&&!!f||k&&!!v,w=E()((e={},o()(e,"c-input_text--with_"+i,I),o()(e,"c-input_text--with_inline_alert",_),o()(e,"c-input_text--with_hint",l),o()(e,"c-input_text--with_icon",g),e),r),T=Object(L.e)([b,I?this.state.errorId:null]),R=Object(L.e)([this.state.hintId,this.characterCounterId]),N=a()({},this.state.textStyle,this.getPrefixStyle());return j.a.createElement(S.b,a()({},O,{style:N,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:R,ariaInvalid:I,ariaLabelledby:T,ariaRequired:d,className:w,id:u,name:p,onChange:h,ref:function(e){t.input=e},size:m}))}},{key:"renderWrappedTextMaybe",value:function(){var e=this,t=this.props,n=t.prefix,r=t.suffix,a=t.value,i=t.placeholder,o=t.maxCharacterLimit,s=t.counterMinimumCharacters,c=t.size,l=t.isDisabled,u=t.icon,d=this.renderTextInput();return o&&(d=j.a.createElement(D.a,{id:this.characterCounterId,currentCount:a.length,isDisabled:l,maxCharacterLimit:o,counterMinimumCharacters:s,size:c,ref:function(t){e.characterCount=t}},d)),(n||r)&&(d=j.a.createElement(N,{placeholder:i,size:c,prefix:n,suffix:r,value:a},d)),u&&(d=j.a.createElement(A,{icon:u,size:c},d)),d}},{key:"render",value:function(){var e=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return j.a.createElement("div",{"data-qa-formtext":!0},this.renderWrappedTextMaybe(),this.props.showError&&e,this.renderHintMaybe())}}]),t}(j.a.Component);F.displayName="FormText",F.defaultProps=q;t.a=F},pmOY:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=(n("w2zL"),d.b.node,d.b.string,function(e){var t=e.children,n=e.className,r=o()(e,["children","className"]);return c.a.createElement("div",a()({},r,{className:u()("c-sk-modal_header",n)}),t)});b.displayName="ModalHeader",b.defaultProps={children:null,className:null},t.a=b},psEQ:function(e,t,n){},ptIs:function(e,t,n){},q4bl:function(e,t,n){"use strict";n.d(t,"c",function(){return O}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return k});var r=n("OZf9"),a=n("TGBA"),i=n("7EGn"),o=n("aK/h"),s=n("ntJl"),c=n("clTI"),l=n("uf9I"),u=n("XfeM"),d=n("6kok"),b=n("hOQf"),p=n("wfE8"),h=n("yHhI"),m=n("MhQa"),f="SET-LAST-READ",v={},g={};function _(e,t){Object(i.a)(g,[e,t])&&(Object(h.a)({teamId:e}).info(f,"cancelling delayed mark for "+t),g[e][t].cancel(),delete g[e][t])}var O=Object(u.b)("Locally set the last read cursor on a conversation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.ts,o=t(),u=Object(c.d)(o,r,!1);if(!u)return!1;var p=Object(d.D)(u),h=Object(l.b)(o);return Object(i.a)(v,[h,r,a])?(delete v[h][r][a],!1):!Object(b.pb)(a)&&(a!==p&&(_(h,r),e(Object(s.updateOneKeyForChannel)({id:r,last_read:a})),Object(m.a)(u),!0))});O.propTypes={id:o.b.string.isRequired,ts:o.b.string.isRequired};var y=Object(u.b)("Mark a conversation through the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.ts,i=n.reason,o=n.retries,s=void 0===o?0:o;if(s>2)throw new Error("markWithAPI tried too many times!");var c=Object(l.b)(t());return v[c]||(v[c]={}),v[c][r]||(v[c][r]={}),v[c][r][a]=!0,e(Object(p.q)({id:r,ts:a,reason:i})).catch(function(t){if(t&&t.data){if(!t.data.error)return!0;if(["not_in_channel","is_archived","channel_not_found"].includes(t.data.error))return!0}return e(y({id:r,ts:a,reason:i,retries:s+1}))})});y.propTypes={id:o.b.string.isRequired,ts:o.b.string.isRequired,reason:o.b.string,retries:o.b.number};Object(u.b)("Sends all delayed marks to the API",function(e,t){var n=Object(l.b)(t()),r=Object(a.a)(g[n]);return r.forEach(function(e){return e.resolve()}),Promise.all(r)});var j=Object(u.b)("Mark and update a conversation (locally and through API)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.ts,i=n.reason,o=n.immediate,s=t(),c=Object(l.b)(s);return Object(h.a)({teamId:c}).info(f,"markLastRead "+r+":"+a+", immediate: "+o),_(c,r),e(O({id:r,ts:a})),o?e(y({id:r,ts:a,reason:i})):(g[c]||(g[c]={}),new Promise(function(e){var t=5e3*Math.random(),n=Promise.delay(t);n.then(e),Object(h.a)({teamId:c}).info(f,"delaying "+r+" mark by "+t+"ms"),g[c][r]={resolve:e,cancel:n.cancel.bind(n)}}).then(function(){return Object(h.a)({teamId:c}).info(f,"delay resolved, marking "+r+" with API"),delete g[c][r],e(y({id:r,ts:a,reason:i}))}))});j.propTypes={id:o.b.string.isRequired,ts:o.b.string.isRequired,reason:o.b.string,immediate:o.b.bool};var k=Object(u.b)("Mark many conversations (locally and through API)",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.markers,i=n.reason;Object(r.a)(a,function(t,n){e(O({id:n,ts:t}))}),e(Object(p.r)({markers:a,reason:i}))});k.propTypes={markers:o.b.object.isRequired,reason:o.b.string}},q5MM:function(e,t,n){"use strict";t.a={no_expiration:0,"30_minutes":1800,"1_hour":3600,"4_hours":14400,all_day:"all_day",week:"week",custom:"custom"}},qEEt:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("TGBA"),f=n("ifKl"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("TSYQ"),y=n.n(O),j=(n("1Elb"),{medium:"medium",large:"large"}),k=(v.b.string,v.b.bool,v.b.string,v.b.bool,v.b.string,v.b.string.isRequired,v.b.bool,v.b.string.isRequired,v.b.func,v.b.string,v.b.oneOf(Object(m.a)(j)),v.b.string,v.b.oneOf(["email","password","tel","text","url","number"]),v.b.oneOfType([v.b.object,v.b.func]).isRequired,{ariaDescribedby:"",ariaInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:f.a,placeholder:"",size:j.medium,value:"",type:"text"}),E=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return h()(t,e),u()(t,[{key:"onChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.ariaDescribedby,n=e.ariaInvalid,r=e.ariaLabelledby,i=e.ariaRequired,s=e.className,c=e.id,l=e.isDisabled,u=e.name,d=e.placeholder,b=e.size,p=e.type,h=e.forwardedRef,m=o()(e,["ariaDescribedby","ariaInvalid","ariaLabelledby","ariaRequired","className","id","isDisabled","name","placeholder","size","type","forwardedRef"]),f=y()("c-input_text",{"c-input_text--large":b===j.large},s);return _.a.createElement("input",a()({},m,{"aria-describedby":t,"aria-invalid":n,"aria-labelledby":r,"aria-required":i,className:f,disabled:l,id:c,name:u,onChange:this.onChange,placeholder:d,ref:h,type:p}))}}]),t}(_.a.Component);E.displayName="Text",E.defaultProps=k,t.b=_.a.forwardRef(function(e,t){return _.a.createElement(E,a()({},e,{forwardedRef:t||_.a.createRef()}))})},qGgp:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("aK/h"),u=n("VMwU"),d=n("LpuC"),b=(n("RMJC"),function(e){return"linear-gradient(to right,rgba(0,0,0,0),#"+Object(u.j)(e,!1)+")"});l.b.string;function p(e){var t=e.color,n=o()(e,["color"]);return c.a.createElement("span",{className:"c-color_slider"},c.a.createElement("span",{className:"c-color_slider__opacity_checkerboard_track"}),c.a.createElement("span",{className:"c-color_slider__opacity_gradient_track",style:{background:b(t)}}),c.a.createElement("span",{className:"c-color_slider__opacity_right_fill_track",style:{background:"#"+t}}),c.a.createElement(d.a,a()({className:"c-color_slider__slider",min:0,max:1,step:.01},n)))}p.displayName="OpacitySlider",p.defaultProps={color:"FFFFFF"},t.a=p},qIoO:function(e,t,n){"use strict";var r=n("IzLi"),a=n("U/ze"),i=n("ntJl"),o=n("clTI"),s=n("6kok"),c=n("uf9I"),l=n("lhZz"),u=n("aW/o"),d=n("yHhI"),b=n("wdjV"),p=Object(a.b)(function(e){if(!Object(r.a)(e)||!e.messagePane)return"";var t=Object(b.k)(e);if(function(e,t){var n=Object(u.a)(e),r=Object(o.d)(e,t,!1);return t&&t!==n&&Object(o.u)(e,t)&&Object(s.kb)(r)&&(!Object(s.gb)(r)||Object(s.ob)(r))}(e,t))return t;var n=Object(o.f)(e),a=n&&1===n.length&&n[0];if(a)return a.id;var p=Object(l.dispatchForTeamId)(Object(c.b)(e),Object(i.getGeneralChannel)());if(p)return p.id;var h=Object(o.k)(e,"USLACKBOT");if(h)return h;Object(d.a)({state:e}).error("failed to find previous channel id or a suitable fallback")});t.a=p},qKnh:function(e,t,n){},qLl3:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return S});var r=n("sk9p"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("fujP"),c=n("TGBA"),l=n("N52Z"),u=n("P2f5"),d=n("7dvU"),b=n("M1dg"),p=n("zfae"),h=n("aM/h"),m=n("HO/Y"),f=n("Iq6W"),v=n("Ypgw"),g=n("St+r"),_=n("Q+UV"),O=n("hOQf"),y=n("yHhI"),j=n("Smdl"),k=n("0fwO"),E=n("7Ztl"),C=n("ukhC"),I="PREPROCESS-IMSG-SLURP";function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsgs,i=n.channelId;r&&i&&(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;n.forEach(function(n){if(n&&Object(m.j)(t(),"feature_attachments_v2")){if(n.attachments){var r=n.attachments.map(function(n){return n.blocks&&S(e,t,n.blocks),n});n.attachments=r}n.blocks&&S(e,t,n.blocks)}})}(e,t,{imsgs:r}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r=[];n.forEach(function(e){e&&e.bot_profile&&r.push(e.bot_profile)}),r.length&&e(Object(l.a)({bots:r}))}(e,t,{imsgs:r}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r={},i=null;n.forEach(function(e){if(e&&e.ts&&e.custom_emojis&&e.source_team&&Object(m.j)(t(),"feature_shared_channels_custom_emojis_url_client")){var n=e.source_team;i=e.ts;var a={};e.custom_emojis.forEach(function(e){a[e.name]=e.url}),r[n]=o()({},r[n],a)}}),Object.entries(r).forEach(function(t){var n=a()(t,2),r=n[0],o=n[1];e(Object(h.a)({teamId:r,cacheTs:i,emojis:o}))})}(e,t,{imsgs:r}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsgs,a=n.channelId;if(!r||!a)return;var i={},o=[],s=t();r.forEach(function(e){if(e){var t=void 0;t=Object(_.c)("message",e.ts,a),e.reactions?i[t]={key:t,reactions:e.reactions}:Object(p.e)(s,t)&&o.push(t),Object(j.a)()&&(e.file&&(t=Object(_.c)("file",e.file.id),e.file.reactions?i[t]={key:t,reactions:e.file.reactions}:Object(p.e)(s,t)&&o.push(t)),e.comment&&(t=Object(_.c)("file_comment",e.comment.id),e.comment.reactions?i[t]={key:t,reactions:e.comment.reactions}:Object(p.e)(s,t)&&o.push(t)))}}),e(Object(p.b)(Object(c.a)(i))),Object(m.j)(s,"feature_degraded_send")&&!Object(g.i)(s)&&e(Object(p.d)({keys:o}));Object(j.a)()||Object(c.a)(i).forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key;return Object(k.b)({key:t,type:"message",shouldThrottle:!0})})}(e,t,{imsgs:r,channelId:i}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r=t(),a={};n.forEach(function(e){e&&(Object(O.ab)(e)||(e.files&&e.files.forEach(function(e){a[e.id]=e}),e.file&&Object(y.a)({state:r}).warn(I,"imsg has both a files array and file object on it. It should only have one or the other.")))}),e(Object(d.b)({files:Object(c.a)(a),reason:"slurpFileThreadsModern"}))}(e,t,{imsgs:r}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r=t(),a={},i=Object(y.a)({state:r});n.forEach(function(e){if(e&&["file_share","file_mention","file_comment"].includes(e.subtype)&&e.file)if(e.file.id){var t=e.file,n=a[e.file.id];if("file_comment"===e.subtype){var o=n&&n.comments,s=o&&n||Object(u.h)(r,e.file.id)||t;e.comment?t=Object(b.a)(e.comment,s):i.error(I,"no comment in imsg.subtype:file_comment "+e.ts)}else t=n||t;a[t.id]=t}else i.error(I,"no file ID on file in imsg.subtype:"+e.subtype+" "+e.ts)}),e(Object(d.b)({files:Object(c.a)(a),reason:"slurpFilesFromMessagesModern"}))}(e,t,{imsgs:r}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r=Object(y.a)({getState:t});n.forEach(function(t){if(t&&["sh_room_created","sh_room_shared"].includes(t.subtype)){var n=t.room;n?n.id?e(Object(E.j)(Object(C.b)(n))):r.error(I,"no room id on room imsg.subtype:"+t.subtype+" "+t.ts):r.error(I,"no room on imsg.subtype:"+t.subtype+" "+t.ts)}})}(e,t,{imsgs:r}),function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).imsgs;if(!n)return;var r={};n.forEach(function(e){e&&"pinned_item"===e.subtype&&"F"===e.item_type&&e.item&&e.item.id&&!e.item.is_deleted&&(r[e.item.id]=e.item)}),e(Object(d.b)({files:Object(c.a)(r),reason:"slurpPinnedFilesModern"}))}(e,t,{imsgs:r}),Object(m.j)(t(),"feature_react_threads")&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.imsgs,a=n.channelId;if(!r||!a)return;r.forEach(function(t){if(t&&t.ts&&Object.prototype.hasOwnProperty.call(t,"subscribed")){var n={channelId:a,ts:t.ts,subscribed:t.subscribed,lastRead:t.last_read};e(Object(v.i)(n))}})}(e,t,{imsgs:r,channelId:i}))}function S(e,t,n){var r={},a=[];n.forEach(function(n){switch(n.type){case"file":n.file&&n.file_id&&Object(m.j)(t(),"feature_remote_files_api")&&(r[n.file.id]=n.file);break;case"message":if(Object(m.j)(t(),"feature_message_blocks")&&n.message&&n.timestamp&&n.channel_id){var i=n.message;i.ts=n.timestamp,i.channel=n.channel_id,a.push(i),delete n.message}break;case"call":n.call&&n.call_id&&Object(m.j)(t(),"feature_platform_calls_api")&&(e(Object(E.j)(Object(C.a)(n.call.v1))),delete n.call)}}),Object(s.a)(r)||e(Object(d.b)({files:Object(c.a)(r),reason:"slurpFilesFromAttachments"})),a.length&&e(Object(f.a)(a))}},qMFv:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.client.ui.app_space.updateLegacyAppSpaceData",r.a),o=Object(a.b)("TS.client.ui.app_space.toggleView",r.a)},"qN/r":function(e,t,n){"use strict";var r=n("zmn3"),a=n("kxpR"),i=n.n(a),o=n("aK/h"),s=n("XfeM"),c=n("DTT0"),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("Z0Cl"),g=n("XHGt"),_=n("TSYQ"),O=n.n(_),y=n("tn36"),j=n("nNoG"),k=n("yHhI"),E=n("HO/Y"),C=n("U/ze"),I=Object(C.b)(function(e){return e&&e.prefs&&e.prefs.uiState&&e.prefs.uiState.showOpenTransition}),w=Object(C.b)(function(e){return e&&e.prefs&&e.prefs.uiState&&e.prefs.uiState.lastActiveSection}),S=n("Ecd5"),T=n("D4L/"),R=n("5mKg"),N=n("KXvl"),x=n("rJQH"),M=n("aolG"),P=n("FXuT"),A=n("2jER"),D=n("ifKl"),L=n("+Lv6"),q=n("VymY"),F=n("qAkX"),B=n("hbEN"),U=n("CpTu"),H=n("kOzZ"),K=n("VjHM"),G=n("FN36"),V=n("V/Wy"),z=n("AfrZ"),Y=n("wuO/"),W=n("DtX9"),Q=n("Fdc0"),X=n("iqSe"),Z=n("7nxQ"),J=n("81nI"),$=n("9ToC"),ee=n("Fp75"),te=n("r31G"),ne=n("Smdl"),re=n("jUSB"),ae=n("n8ZX"),ie=n("jyiZ"),oe=n("g5qt");var se=n("rWF5"),ce=n("YEIV"),le=n.n(ce),ue=n("0f2Y"),de=n("O0RF"),be=n("E4aE"),pe=n("m1cH"),he=n.n(pe),me=n("fp5s"),fe=n("nKoU"),ve=n("mkut"),ge=n("1aDv"),_e=n("sk9p"),Oe=n.n(_e),ye=n("3Hq1"),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.time,n=e.time24;if(!t||Object(ye.a)(n))return"";if(n)return t;var r=t.split(":"),a=Oe()(r,2),i=a[0],o=a[1],s=parseInt(i,10);return s>12?s-12+":"+o+" PM":s>9?t+" AM":0===s?"12:"+o+" AM":s+":"+o+" AM"},ke="every_day",Ee="weekdays",Ce="custom",Ie="all_day",we="disabled",Se="partial",Te={DND_DAYS:"dnd_days",DND_ENABLED:"dnd_enabled",DND_START_HOUR:"dnd_start_hour",DND_END_HOUR:"dnd_end_hour",DND_BEFORE_MONDAY:"dnd_before_monday",DND_BEFORE_TUESDAY:"dnd_before_tuesday",DND_BEFORE_WEDNESDAY:"dnd_before_wednesday",DND_BEFORE_THURSDAY:"dnd_before_thursday",DND_BEFORE_FRIDAY:"dnd_before_friday",DND_BEFORE_SATURDAY:"dnd_before_saturday",DND_BEFORE_SUNDAY:"dnd_before_sunday",DND_AFTER_MONDAY:"dnd_after_monday",DND_AFTER_TUESDAY:"dnd_after_tuesday",DND_AFTER_WEDNESDAY:"dnd_after_wednesday",DND_AFTER_THURSDAY:"dnd_after_thursday",DND_AFTER_FRIDAY:"dnd_after_friday",DND_AFTER_SATURDAY:"dnd_after_saturday",DND_AFTER_SUNDAY:"dnd_after_sunday",DND_ENABLED_MONDAY:"dnd_enabled_monday",DND_ENABLED_TUESDAY:"dnd_enabled_tuesday",DND_ENABLED_WEDNESDAY:"dnd_enabled_wednesday",DND_ENABLED_THURSDAY:"dnd_enabled_thursday",DND_ENABLED_FRIDAY:"dnd_enabled_friday",DND_ENABLED_SATURDAY:"dnd_enabled_saturday",DND_ENABLED_SUNDAY:"dnd_enabled_sunday"},Re=new j.b("prefs"),Ne=(o.b.func.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.string,o.b.string,o.b.string,o.b.string,o.b.string,o.b.string,o.b.bool,{dndBaseBeforeTime:void 0,dndBaseAfterTime:void 0,dndBeforePref:void 0,dndBeforePrefValue:void 0,dndAfterPref:void 0,dndAfterPrefValue:void 0,featureGranularDnd:!1}),xe=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.dndBaseBeforeTime,r=e.dndBaseAfterTime,a=e.dndBeforePref,o=e.dndAfterPref,s=e.dndBeforePrefValue,c=e.dndAfterPrefValue,l=e.time24,u=e.isDisabled,d=e.handleTimeChange;if(!t)return null;var b=Object(ve.a)(ge.a).map(function(e){return{label:l?e:ge.a[e],value:e}}),p=[].concat(he()(b),[{label:Re.t("Midnight"),value:"23:59"}]),h=s||n,m=c||r,f=Object(fe.a)(h,5,"0"),v=Object(fe.a)(m,5,"0"),g=p.filter(function(e){return"23:59"!==e.value}),_=Object(U.a)(p,{value:f}),O=p.filter(function(e){return e.value>f}),y=Object(U.a)(p,{value:v}),j=void 0,k=void 0;return _||(j=je({time:f,time24:l})),y||(k=je({time:v,time24:l})),i.a.createElement("div",{className:"p-dnd_preferences__time_select_wrapper"},i.a.createElement(be.a,{selectId:Object(me.a)("start_notifications_select"),ariaLabel:Re.t("Select the time to start receiving notifications"),options:g,selectedOption:_,onOptionSelected:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return d({value:e,type:"BEFORE",pref:a})},placeholderText:j,width:120,isDisabled:u}),i.a.createElement("span",{className:"p-dnd_preferences__time_select_to"},Re.t("to")),i.a.createElement(be.a,{selectId:Object(me.a)("end_notifications_select"),ariaLabel:Re.t("Select the time to stop receiving notifications"),options:O,selectedOption:y,onOptionSelected:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return d({value:e,type:"AFTER",pref:o})},key:O&&_.label,placeholderText:k,width:120,isDisabled:u}))}}]),t}(a.Component);xe.displayName="DndTimeSelect",xe.defaultProps=Ne;var Me=Object(g.b)(function(e){return{featureGranularDnd:Object(E.j)(e,"feature_granular_dnd"),time24:Object(K.g)(e,"time24")}})(xe),Pe=n("Rszm"),Ae=new j.b("prefs"),De=(o.b.bool.isRequired,o.b.func.isRequired,o.b.string,o.b.bool,o.b.string,{dndEnabledPref:void 0,featureGranularDnd:!1,className:void 0}),Le=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.className,r=e.isChecked,a=e.handleAllDayChange,o=e.dndEnabledPref;if(!t)return null;var s=Object(me.a)("all_day_checkbox"),c=O()("p-dnd_preferences__all_day_label",n);return i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Ae.t("All day"),htmlFor:s,className:c},i.a.createElement(Pe.a,{id:s,checked:r,onChange:function(e){return a(e,{pref:o})}}))}}]),t}(a.Component);Le.displayName="DndAllDayCheckbox",Le.defaultProps=De;var qe=Le,Fe=n("TGBA"),Be=n("Fsnq"),Ue=n("RAhH"),He=new j.b("prefs"),Ke=(o.b.string.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.string.isRequired,o.b.bool,function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.day,r=e.isChecked,a=e.isDisabled,o=e.handleDayChange,s=e.dndEnabledPref;if(!t)return null;var c=Object(me.a)("day_checkbox"),l=i.a.createElement(Pe.a,{id:c,checked:r,disabled:a,onChange:function(e){return o(e,{pref:s})}}),u=i.a.createElement(Ue.c,{tip:He.t("To turn off notifications entirely, adjust your Notification Preferences."),zIndex:"above_fs"},i.a.createElement("span",null,l));return i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:n,htmlFor:c,className:"p-dnd_preferences__day_label",isDisabled:a},a?u:l)}}]),t}(a.Component));Ke.displayName="DndDayCheckbox",Ke.defaultProps={featureGranularDnd:!1};var Ge=Ke,Ve=new j.b("prefs"),ze=(o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.bool,function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.dndEnabledDays,r=e.dndBeforeDays,o=e.dndAfterDays,s=e.handleTimeChange,c=e.handleAllDayChange,l=e.handleDayChange;if(!t)return null;var u=[{day:Ve.t("Monday"),id:"monday",message:Ve.t("You won't receive notifications on Monday.")},{day:Ve.t("Tuesday"),id:"tuesday",message:Ve.t("You won't receive notifications on Tuesday.")},{day:Ve.t("Wednesday"),id:"wednesday",message:Ve.t("You won't receive notifications on Wednesday.")},{day:Ve.t("Thursday"),id:"thursday",message:Ve.t("You won't receive notifications on Thursday.")},{day:Ve.t("Friday"),id:"friday",message:Ve.t("You won't receive notifications on Friday.")},{day:Ve.t("Saturday"),id:"saturday",message:Ve.t("You won't receive notifications on Saturday.")},{day:Ve.t("Sunday"),id:"sunday",message:Ve.t("You won't receive notifications on Sunday.")}],d=Object(Be.a)(Object(Fe.a)(n).filter(function(e){return e===Ie}));return i.a.createElement(a.Fragment,null,u.map(function(e){var u=e.id,b=e.day,p=e.message,h=u.toUpperCase(),m=n[u]!==Ie,f=n[u]===we;return i.a.createElement("div",{key:u,className:"p-dnd_preferences__custom_day_section"},i.a.createElement(Ge,{day:b,isChecked:m,isDisabled:m&&6===d,handleDayChange:l,dndEnabledPref:Te["DND_ENABLED_"+h],featureGranularDnd:t}),!m&&i.a.createElement("p",{className:"p-dnd_preferences__notifs_disabled"},p),m&&i.a.createElement(a.Fragment,null,i.a.createElement(Me,{isDisabled:f,handleTimeChange:s,dndBeforePref:Te["DND_BEFORE_"+h],dndAfterPref:Te["DND_AFTER_"+h],dndBeforePrefValue:r[u],dndAfterPrefValue:o[u]}),i.a.createElement(qe,{isChecked:f,handleAllDayChange:c,dndEnabledPref:Te["DND_ENABLED_"+h],className:"p-dnd_preferences__checkbox_label",featureGranularDnd:t})))}))}}]),t}(a.Component));ze.displayName="DndCustomPreferences",ze.defaultProps={featureGranularDnd:!1};var Ye=ze,We=n("m8R6"),Qe=n("c8Bs"),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dndDays,n=e.dndEnabledDays,r=void 0===n?{}:n,a=e.dndEnabledPrefValue;if(!t)return!1;if(t===ke)return Object(Qe.a)(r,function(e){return e===we});if(t===Ee){var i=Object(We.a)(r,["saturday","sunday"]);return Object(Qe.a)(i,function(e){return e===we})}return a===we},Ze=new j.b("prefs"),Je=(o.b.string.isRequired,o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.bool,function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"renderDndDaysSelect",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.dndDays,r=e.handleDndDaysChange;if(!t)return null;var a=[{label:Ze.t("Every day"),value:ke},{label:Ze.t("Weekdays"),value:Ee},{label:Ze.t("Custom"),value:Ce}],o=Object(U.a)(a,{value:n});return i.a.createElement(de.a,{className:"p-dnd_preferences__dnd_days_label",text:Ze.t("Allow notifications:")},i.a.createElement(be.a,{selectId:"dnd_days",options:a,selectedOption:o,onOptionSelected:r,width:160}))}},{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.dndDays,r=e.dndEnabledDays,o=e.dndBeforeDays,s=e.dndAfterDays,c=e.dndBaseBeforeTime,l=e.dndBaseAfterTime,u=e.handleTimeChange,d=e.handleAllDayChange,b=e.handleDayChange;if(!t)return null;var p=n===Ce,h=Xe({dndDays:n,dndEnabledDays:r});return i.a.createElement(a.Fragment,null,this.renderDndDaysSelect(),!p&&i.a.createElement(a.Fragment,null,i.a.createElement(Me,{isDisabled:h,handleTimeChange:u,dndBaseBeforeTime:c,dndBaseAfterTime:l}),i.a.createElement(qe,{isChecked:h,handleAllDayChange:d,featureGranularDnd:t}),n===Ee&&i.a.createElement("p",{className:"p-dnd_preferences__subtext"},Ze.t("You won't receive notifications on Saturday or Sunday."))),p&&i.a.createElement(Ye,{featureGranularDnd:t,dndEnabledDays:r,dndBeforeDays:o,dndAfterDays:s,handleTimeChange:u,handleAllDayChange:d,handleDayChange:b}))}}]),t}(a.Component));Je.displayName="DndPreferences",Je.defaultProps={featureGranularDnd:!1};var $e=Je,et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.value,r=e.endTime;return"BEFORE"===t&&n>=Object(fe.a)(r,5,"0")},tt=function(e){if(!e)return null;var t=Object.keys(ge.a);return Object(U.a)(t,function(t){return t>e})||"23:59"},nt=(n("EAGK"),new j.b("prefs")),rt=(o.b.string.isRequired,o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.objectOf(o.b.string).isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.string,o.b.func,o.b.bool,{tzLabel:"",changePrefsActiveSection:D.a,featureGranularDnd:!1}),at=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openTzPreferences=n.openTzPreferences.bind(n),n.handleDndDaysChange=n.handleDndDaysChange.bind(n),n.handleTimeChange=n.handleTimeChange.bind(n),n.handleAllDayChange=n.handleAllDayChange.bind(n),n.handleDayChange=n.handleDayChange.bind(n),n}return f()(t,e),b()(t,[{key:"openTzPreferences",value:function(){(0,this.props.changePrefsActiveSection)({sectionId:"language_region",subsectionId:"prefs_timezone"})}},{key:"handleDndDaysChange",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value,n=this.props,r=n.dndBaseBeforeTime,a=n.dndBaseAfterTime,i=n.dndEnabledDays;if(t!==Ce){var o=Xe({dndDays:t,dndEnabledDays:i})?we:Se,s=t===Ee;this.props.setMultipleUserPrefsByApi((e={},le()(e,Te.DND_DAYS,t),le()(e,Te.DND_BEFORE_MONDAY,r),le()(e,Te.DND_BEFORE_TUESDAY,r),le()(e,Te.DND_BEFORE_WEDNESDAY,r),le()(e,Te.DND_BEFORE_THURSDAY,r),le()(e,Te.DND_BEFORE_FRIDAY,r),le()(e,Te.DND_BEFORE_SATURDAY,r),le()(e,Te.DND_BEFORE_SUNDAY,r),le()(e,Te.DND_AFTER_MONDAY,a),le()(e,Te.DND_AFTER_TUESDAY,a),le()(e,Te.DND_AFTER_WEDNESDAY,a),le()(e,Te.DND_AFTER_THURSDAY,a),le()(e,Te.DND_AFTER_FRIDAY,a),le()(e,Te.DND_AFTER_SATURDAY,a),le()(e,Te.DND_AFTER_SUNDAY,a),le()(e,Te.DND_ENABLED_MONDAY,o),le()(e,Te.DND_ENABLED_TUESDAY,o),le()(e,Te.DND_ENABLED_WEDNESDAY,o),le()(e,Te.DND_ENABLED_THURSDAY,o),le()(e,Te.DND_ENABLED_FRIDAY,o),le()(e,Te.DND_ENABLED_SATURDAY,s?Ie:o),le()(e,Te.DND_ENABLED_SUNDAY,s?Ie:o),e))}else this.props.setUserPrefByApi({pref:Te.DND_DAYS,value:t})}},{key:"handleTimeChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.type,r=e.pref,a=this.props,i=a.dndDays,o=a.dndBaseAfterTime,s=a.dndAfterDays;if(i!==Ce)if(et({type:n,value:t,endTime:o})){var c,l=tt(t);this.props.setMultipleUserPrefsByApi((c={},le()(c,Te.DND_BEFORE_MONDAY,t),le()(c,Te.DND_BEFORE_TUESDAY,t),le()(c,Te.DND_BEFORE_WEDNESDAY,t),le()(c,Te.DND_BEFORE_THURSDAY,t),le()(c,Te.DND_BEFORE_FRIDAY,t),le()(c,Te.DND_BEFORE_SATURDAY,t),le()(c,Te.DND_BEFORE_SUNDAY,t),le()(c,Te.DND_AFTER_MONDAY,l),le()(c,Te.DND_AFTER_TUESDAY,l),le()(c,Te.DND_AFTER_WEDNESDAY,l),le()(c,Te.DND_AFTER_THURSDAY,l),le()(c,Te.DND_AFTER_FRIDAY,l),le()(c,Te.DND_AFTER_SATURDAY,l),le()(c,Te.DND_AFTER_SUNDAY,l),c))}else{var u;this.props.setMultipleUserPrefsByApi((u={},le()(u,Te["DND_"+n+"_MONDAY"],t),le()(u,Te["DND_"+n+"_TUESDAY"],t),le()(u,Te["DND_"+n+"_WEDNESDAY"],t),le()(u,Te["DND_"+n+"_THURSDAY"],t),le()(u,Te["DND_"+n+"_FRIDAY"],t),le()(u,Te["DND_"+n+"_SATURDAY"],t),le()(u,Te["DND_"+n+"_SUNDAY"],t),u))}else{var d=function(e){return e?e.split("_")[2]:null}(r);if(et({type:n,value:t,endTime:s[d]})){var b,p=tt(t),h=Te["DND_AFTER_"+d.toUpperCase()];this.props.setMultipleUserPrefsByApi((b={},le()(b,r,t),le()(b,h,p),b))}else this.props.setUserPrefByApi({pref:r,value:t})}}},{key:"handleAllDayChange",value:function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).pref,r=this.props.dndDays,a=e.target.checked?we:Se;if(r!==Ce){var i=r===Ee;this.props.setMultipleUserPrefsByApi((t={},le()(t,Te.DND_ENABLED_MONDAY,a),le()(t,Te.DND_ENABLED_TUESDAY,a),le()(t,Te.DND_ENABLED_WEDNESDAY,a),le()(t,Te.DND_ENABLED_THURSDAY,a),le()(t,Te.DND_ENABLED_FRIDAY,a),le()(t,Te.DND_ENABLED_SATURDAY,i?Ie:a),le()(t,Te.DND_ENABLED_SUNDAY,i?Ie:a),t))}else this.props.setUserPrefByApi({pref:n,value:a})}},{key:"handleDayChange",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).pref,n=e.target.checked?Se:Ie;this.props.setUserPrefByApi({pref:t,value:n})}},{key:"render",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.dndDays,r=e.dndEnabledDays,o=e.dndBeforeDays,s=e.dndAfterDays,c=e.dndBaseBeforeTime,l=e.dndBaseAfterTime,u=e.tzLabel;return t?i.a.createElement(a.Fragment,null,i.a.createElement("p",null,nt.rt("Slack will only allow notifications during the times you choose. Outside those hours, you'll be in {doNotDisturb}.",{doNotDisturb:i.a.createElement(ue.a,{href:"https://get.slack.help/hc/en-us/articles/214908388-Pause-notifications-with-Do-Not-Disturb"},nt.t("Do Not Disturb"))})),i.a.createElement($e,{dndDays:n,dndEnabledDays:r,dndBeforeDays:o,dndAfterDays:s,dndBaseBeforeTime:c,dndBaseAfterTime:l,handleDndDaysChange:this.handleDndDaysChange,handleTimeChange:this.handleTimeChange,handleAllDayChange:this.handleAllDayChange,handleDayChange:this.handleDayChange,featureGranularDnd:t}),i.a.createElement("p",null,u+" | ",i.a.createElement(ue.a,{onClick:this.openTzPreferences},nt.t("Change")))):null}}]),t}(a.Component);at.displayName="DndUserPreferences",at.defaultProps=rt;var it=Object(g.b)(function(e){var t=Object(E.b)(e),n=Object(W.c)(e,t);return{featureGranularDnd:Object(E.j)(e,"feature_granular_dnd"),tzLabel:Object(Q.N)(n),dndDays:Object(K.g)(e,"dnd_days"),dndEnabledDays:{monday:Object(K.g)(e,"dnd_enabled_monday"),tuesday:Object(K.g)(e,"dnd_enabled_tuesday"),wednesday:Object(K.g)(e,"dnd_enabled_wednesday"),thursday:Object(K.g)(e,"dnd_enabled_thursday"),friday:Object(K.g)(e,"dnd_enabled_friday"),saturday:Object(K.g)(e,"dnd_enabled_saturday"),sunday:Object(K.g)(e,"dnd_enabled_sunday")},dndBeforeDays:{monday:Object(K.g)(e,"dnd_before_monday"),tuesday:Object(K.g)(e,"dnd_before_tuesday"),wednesday:Object(K.g)(e,"dnd_before_wednesday"),thursday:Object(K.g)(e,"dnd_before_thursday"),friday:Object(K.g)(e,"dnd_before_friday"),saturday:Object(K.g)(e,"dnd_before_saturday"),sunday:Object(K.g)(e,"dnd_before_sunday")},dndAfterDays:{monday:Object(K.g)(e,"dnd_after_monday"),tuesday:Object(K.g)(e,"dnd_after_tuesday"),wednesday:Object(K.g)(e,"dnd_after_wednesday"),thursday:Object(K.g)(e,"dnd_after_thursday"),friday:Object(K.g)(e,"dnd_after_friday"),saturday:Object(K.g)(e,"dnd_after_saturday"),sunday:Object(K.g)(e,"dnd_after_sunday")},dndBaseBeforeTime:Object(K.g)(e,"dnd_before_monday"),dndBaseAfterTime:Object(K.g)(e,"dnd_after_monday")}},function(e){return{setUserPrefByApi:function(t){return e(Object(z.f)(t))},setMultipleUserPrefsByApi:function(t){return e(Object(z.e)(t))}}})(at),ot=new j.b("prefs"),st=(o.b.bool.isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.string.isRequired,o.b.object.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeDndEnabled=n.onChangeDndEnabled.bind(n),n.handleTimeChange=n.handleTimeChange.bind(n),n.openTzPreferences=n.openTzPreferences.bind(n),n}return f()(t,e),b()(t,[{key:"onChangeDndEnabled",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed dnd_enabled: "+n),this.props.setUserPrefByApi({pref:"dnd_enabled",value:n})}},{key:"handleTimeChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.pref;this.props.logger.action("Changed "+n+": "+t),this.props.setUserPrefByApi({pref:n,value:t})}},{key:"openTzPreferences",value:function(){(0,this.props.changePrefsActiveSection)({sectionId:"language_region",subsectionId:"prefs_timezone"})}},{key:"renderTimeSelects",value:function(){var e=this,t=this.props,n=t.dndEnabled,r=t.dndStartHour,a=t.dndEndHour,o=t.time24,s=Object.keys(ge.a).map(function(e){return{label:o?e:ge.a[e],value:e}}),c=s.filter(function(e){return e.value!==a}),l=s.filter(function(e){return e.value!==r}),u=Object(U.a)(s,{value:r}),d=Object(U.a)(s,{value:a}),b=void 0,p=void 0;return u||(b=je({time:r,time24:o})),d||(p=je({time:a,time24:o})),i.a.createElement("div",{className:"p-dnd_preferences__time_select_wrapper margin_top_50"},i.a.createElement(be.a,{selectId:"dnd_start_hour_select",ariaLabel:ot.t("Select the time you want Do Not Disturb to begin"),options:c,selectedOption:u,onOptionSelected:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return e.handleTimeChange({value:t,pref:"dnd_start_hour"})},key:d&&d.label||p,placeholderText:b,width:120,isDisabled:!n}),i.a.createElement("span",{className:"p-dnd_preferences__time_select_to"},ot.t("to")),i.a.createElement(be.a,{selectId:"dnd_end_hour_select",ariaLabel:ot.t("Select the time you want Do Not Disturb to end"),options:l,selectedOption:d,onOptionSelected:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return e.handleTimeChange({value:t,pref:"dnd_end_hour"})},key:u&&u.label||b,placeholderText:p,width:120,isDisabled:!n}))}},{key:"render",value:function(){var e=this.props,t=e.dndEnabled,n=e.tzLabel;return i.a.createElement(a.Fragment,null,i.a.createElement("p",null,ot.rt("When {doNotDisturb} is turned on, Slack won't send you any notifications. Your fellow Slack users can override this if necessary.",{doNotDisturb:i.a.createElement(ue.a,{href:"https://get.slack.help/hc/en-us/articles/214908388-Pause-notifications-with-Do-Not-Disturb"},ot.t("Do Not Disturb"))})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ot.t("Automatically disable notifications from:"),htmlFor:"dnd_enabled_checkbox"},i.a.createElement(Pe.a,{id:"dnd_enabled_checkbox",checked:t,onChange:this.onChangeDndEnabled})),this.renderTimeSelects(),i.a.createElement("p",{className:"p-dnd_preferences__tz_label"},n+" ","(",i.a.createElement(ue.a,{onClick:this.openTzPreferences},ot.t("change")),")"))}}]),t}(a.Component));st.displayName="BasicDndUserPreferences";var ct=Object(g.b)(function(e){var t=Object(E.b)(e),n=Object(W.c)(e,t),r=Object(K.g)(e,"dnd_start_hour"),a=Object(K.g)(e,"dnd_end_hour");return{dndEnabled:Object(K.g)(e,"dnd_enabled"),dndStartHour:Object(fe.a)(r,5,"0"),dndEndHour:Object(fe.a)(a,5,"0"),time24:Object(K.g)(e,"time24"),tzLabel:Object(Q.N)(n),logger:Object(k.a)({state:e,label:"PREFS"})}},function(e){return{setUserPrefByApi:function(t){return e(Object(z.f)(t))}}})(st),lt=(o.b.string.isRequired,o.b.node.isRequired,o.b.bool.isRequired,o.b.node.isRequired,function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.description,r=e.selected,o=e.children,s=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0 bold"},t),i.a.createElement("p",{className:"margin_bottom_0"},n));return i.a.createElement(de.a,{text:s,type:"inline",cursor:"pointer",className:r?"p-prefs_modal__radiogroup--selected":""},o)}}]),t}(a.PureComponent));lt.displayName="PrefsRadioLabel";var ut=lt,dt=n("qkTT"),bt=n("EetU"),pt=n("od5y"),ht=n("WD4z"),mt=n("KEK+"),ft=n("nWao"),vt=n("P3Po"),gt=n("XLFM"),_t=n("ynxK"),Ot=n("QbLZ"),yt=n.n(Ot),jt=new j.b("desktop"),kt=(o.b.string.isRequired,Object(k.b)({label:"NOTIF_WARNINGS"})),Et=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),b()(t,[{key:"render",value:function(){var e=this.props.id,t=Object(J.b)({articleId:201355156,zdLocale:Object(Z.a)(),hash:"windows-1"}),n=void 0;switch(e){case"QUIET_TIME":n=jt.t("During your first hour using a new Windows operating system, you won\u2019t receive any notifications.");break;case"AC_USER":n=jt.rt("You\u2019ve disabled notifications for Slack from the Windows Action Center. <a>Visit our Help Center to learn how to enable them.</a>",null,function(e){var n=e.text;return i.a.createElement(ue.a,{href:t},n)});break;case"AC_GROUP":n=jt.t("Your system administrator has disabled Windows Action Center notifications for Slack.");break;case"CORRUPTION":n=jt.rt("Your system\u2019s notification settings seem to be corrupt. To fix the issue, <a>please contact us</a>.",null,function(e){var t=e.text;return i.a.createElement(ue.a,{href:"https://my.slack.com/help/requests/new"},t)});break;case"FULL_SCREEN":n=jt.t("If you currently have a full-screen application running, you\u2019ll have to close it to receive notifications.");break;case"AERO_GLASS_UNAVAILABLE":n=jt.rt("The Desktop Window Manager has been disabled because you\u2019re using a Windows Classic Theme. This means that Slack is delivering notifications through a secondary system, which might not look that great. To learn how to enable better notifications from Slack, <a>visit our Help Center</a>.",null,function(e){var n=e.text;return i.a.createElement(ue.a,{href:t},n)});break;case"GPU_COMPOSITION_UNAVAILABLE":n=jt.t("Since built-in notifications cannot be supported, you\u2019re seeing a version of notifications that can be displayed with your current graphics card driver.");break;case"QUIET_HOURS":n=jt.t("You\u2019ve turned on \u201cFocus Assist\u201d in your Windows settings, meaning you won\u2019t receive notifications from any application. If you turn this feature off, you\u2019ll receive notifications again.");break;case"FAILOVER_WITHIN_LAST_WEEK":n=jt.t("Some time in the past week, the Windows Action Center was unable to deliver your notifications. To ensure that you still receive notifications, Slack automatically switched to its built-in notifications.");break;default:kt.warn("Unable to match Desktop Notification Warning with id:",e),n=null}return n}}]),t}(a.PureComponent);Et.displayName="NotificationWarning";var Ct=n("clTI"),It=n("6kok"),wt=n("4Twu"),St=n("18Pa"),Tt=n("ITcr"),Rt=new j.b("prefs"),Nt=(o.b.string.isRequired,o.b.bool,o.b.func,o.b.string,o.b.bool,o.b.bool,o.b.string,o.b.string,o.b.string,o.b.string,o.b.func,{last:!1,changePrefsActiveSection:D.a,channelName:void 0,isMuted:!1,isSuppressed:!1,desktopSetting:void 0,mobileSetting:void 0,desktopDefault:void 0,mobileDefault:void 0,resetChannelNotificationOverrideAndCallApi:D.a}),xt=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openChannelSettings=n.openChannelSettings.bind(n),n.resetToDefaults=n.resetToDefaults.bind(n),n}return f()(t,e),b()(t,[{key:"openChannelSettings",value:function(){var e=this.props;(0,e.changePrefsActiveSection)({sectionId:"channel",channelId:e.channelId})}},{key:"resetToDefaults",value:function(){var e=this.props.channelId;this.props.resetChannelNotificationOverrideAndCallApi({channelId:e})}},{key:"renderReadableSetting",value:function(){var e=this.props,t=e.desktopSetting,n=e.mobileSetting,r=e.desktopDefault,a=e.mobileDefault;if(!t&&!n)return null;if(t===n)return"everything"===t?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop and Mobile:</span> All new messages'):"mentions_dms"===t?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop and Mobile:</span> Direct messages, mentions & keywords'):Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop and Mobile:</span> Nothing');var o=void 0,s=void 0;return t!==r&&(o="everything"===t?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop:</span> All new messages'):"mentions_dms"===t?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop:</span> Direct messages, mentions & keywords'):Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Desktop:</span> Nothing')),n!==a&&(s="everything"===n?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Mobile:</span> All new messages'):"mentions_dms"===n?Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Mobile:</span> Direct messages, mentions & keywords'):Rt.rt('<span className="p-prefs_modal__channel_overrides_row__platform">Mobile:</span> Nothing')),o&&s?i.a.createElement(i.a.Fragment,null,o,i.a.createElement("br",null),s):o||s}},{key:"render",value:function(){var e=this.props,t=e.isMuted,n=e.isSuppressed,r=e.last,a=e.channelName,o=O()("p-prefs_modal__channel_overrides_row",{"p-prefs_modal__channel_overrides_row--last":r}),s=O()("p-prefs_modal__channel_overrides_row__name",{"p-prefs_modal__channel_overrides_row__name--muted":t}),c=Rt.t("Reset {channelName} to default settings",{channelName:Object(j.n)(a)});return i.a.createElement("div",{className:o,role:"listitem"},i.a.createElement(gt.c,{className:"p-prefs_modal__channel_overrides_row__details",onClick:this.openChannelSettings},i.a.createElement("div",{className:s},i.a.createElement(wt.a,{channelId:this.props.channelId,iconProps:{inherit:!0,align:"baseline"}})," ",t?i.a.createElement(pt.b,{type:"bell-slash",size:"inherit"}):null),t?i.a.createElement("div",{className:"p-prefs_modal__channel_overrides_row__setting"},Rt.t("Muted")):i.a.createElement("div",{className:"p-prefs_modal__channel_overrides_row__setting"},this.renderReadableSetting()),n?i.a.createElement("div",{className:"p-prefs_modal__channel_overrides_row__setting"},Rt.rt('No notifications for <span className="p-prefs_modal__channel_overrides_row__keyword">{atChannel}</span> and <span className="p-prefs_modal__channel_overrides_row__keyword">{atHere}</span>',{atChannel:"@"+Object(Tt.b)({ms_name:"channel"}),atHere:"@"+Object(Tt.b)({ms_name:"here"})})):null),i.a.createElement("div",{className:"p-prefs_modal__channel_overrides_row__reset"},i.a.createElement(Ue.c,{tip:c},i.a.createElement("span",null,i.a.createElement(St.a,{className:"p-prefs_modal__channel_overrides_row__reset_button",icon:"times-circle",onClick:this.resetToDefaults,"aria-label":c})))))}}]),t}(a.Component);xt.displayName="ChannelOverridesRow",xt.defaultProps=Nt;var Mt=Object(g.b)(function(e,t){var n=t.channelId,r=Object(Ct.d)(e,n);return{channelName:Object(It.x)(e,r),isMuted:Object(V.c)(e,n,"muted"),isSuppressed:Object(V.c)(e,n,"suppress_at_channel"),desktopSetting:Object(V.c)(e,n,"desktop"),mobileSetting:Object(V.c)(e,n,"mobile"),desktopDefault:Object(ee.j)(e,n),mobileDefault:Object(ee.k)(e,n)}},function(e){return{resetChannelNotificationOverrideAndCallApi:function(){return e(Y.a.apply(void 0,arguments))}}})(xt),Pt=n("fujP"),At=n("yU6Y"),Dt=n.n(At),Lt=new j.b("prefs"),qt="idle",Ft=function(){return"Windows"===Dt.a.osname&&"10"===Dt.a.osversion?Object(Pt.a)(Object(oe.B)())||Object(oe.B)().isGpuCompositionAvailable?"winrt":null:"html"},Bt={corner:"bottom_right",display:"same_as_app"},Ut=[{value:"html",label:function(){return Lt.t("Slack\u2019s built-in notifications")},enabled:function(){return Object(Pt.a)(Object(oe.B)())?"Windows"===Dt.a.osname:Object(oe.B)().isGpuCompositionAvailable}},{value:"winrt",label:function(){return Lt.t("Windows Action Center")},enabled:function(){return"Windows"===Dt.a.osname&&"10"===Dt.a.osversion}},{value:"window",label:function(){return Lt.t("Windows Action Center (abbreviated)")},enabled:function(){return"Windows"===Dt.a.osname&&"10"===Dt.a.osversion}},{value:"window",label:function(){return Lt.t("Windows Action Center")},enabled:function(){return"Windows"===Dt.a.osname&&("8"===Dt.a.osversion||"8.1"===Dt.a.osversion)}},{value:"window",label:function(){return Lt.t("Windows\u2019 notifications")},enabled:function(){return"Windows"===Dt.a.osname&&"7"===Dt.a.osversion}}],Ht=[{value:"bottom_right",label:function(){return Lt.t("bottom-right")}},{value:"top_right",label:function(){return Lt.t("top-right")}},{value:"top_left",label:function(){return Lt.t("top-left")}},{value:"bottom_left",label:function(){return Lt.t("bottom-left")}}],Kt=[{value:"same_as_app",label:function(){return Lt.t("same display as app")}},{value:"primary",label:function(){return Lt.t("primary display")}}],Gt=[],Vt=new j.b("prefs"),zt=1e3,Yt=100,Wt="instant",Qt=["0","1","2","5","10","15","20","30"],Xt=(o.b.object.isRequired,o.b.object.isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.bool.isRequired,o.b.arrayOf(o.b.string).isRequired,o.b.string,o.b.string.isRequired,o.b.string.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.string.isRequired,o.b.objectOf(o.b.shape({display:o.b.func.isRequired,url:o.b.oneOfType([o.b.object,o.b.string]).isRequired})).isRequired,o.b.oneOf(Qt).isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.oneOf(["none","instant","hourly"]).isRequired,o.b.bool,o.b.oneOf(["","short","long"]),o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func,o.b.func.isRequired,o.b.bool,o.b.bool,{globalKeywords:"",macSSBBullet:!0,macSSBBounce:"",changePrefsActiveSection:D.a,featureGranularDnd:!1,hasHipaaCompliance:!1}),Zt=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(y.a)(n,["onChangeThreadsEverything","onChangeNotificationsBehaviorGlobalDesktop","onChangeNotificationsBehaviorGlobalMobile","onChangeSyncGlobalMobileDesktop","onChangeGlobalKeywords","onChangeNoTextInNotifications","onChangePlaySounds","onChangeMuteSounds","onChangeNewMsgSnd","onChangeWindowFlashBehavior","onChangeWindowFlashBehaviorOnlyInactive","onChangeNotificationMethod","onChangeNotifyPositionCorner","onChangeNotifyPositionDisplay","onChangeEmailAlerts","onChangeEmailAlertsDelay","onChangePushIdleWait","onChangeMacDockBadge","onChangeMacDockBounce","onChangeMacDockBounceDuration","onClickShowExampleNotification","onClickPromptForPermission","onClickJumpToOverrides"]);var r=n.props,a=r.notificationsBehaviorGlobalDesktop,o=r.notificationsBehaviorGlobalMobile,s=r.globalKeywords,c=r.newMsgSnd,l=r.emailAlerts,d=r.macSSBBounce,b=Object(oe.S)("notificationMethod")&&Object(oe.J)("notificationMethod")||Ft(),p=Object($.b)({csv:s,max:Yt});return n.state={syncGlobalMobileDesktop:a===o,globalKeywords:s.replace(/,/g,", "),globalKeywordsMaxReached:p.maxViolation,lastNewMsgSnd:"none"===c?ie.a:c,lastEmailAlertsDelay:"none"===l?Wt:l,macSSBBounceDuration:""===d?"short":d,promptForPermissionActive:!1,windowFlashBehavior:Object(oe.S)("windowFlashBehavior")&&Object(oe.J)("windowFlashBehavior")||qt,initialNotificationMethod:b,notificationMethod:b,notifyPosition:Object(oe.S)("notifyPosition")&&Object(oe.J)("notifyPosition")||Bt},n.zdLocale=Object(Z.a)(),n.setGlobalKeywordsByApi=Object(B.a)(n.setGlobalKeywordsByApi,zt),n.overridesListRef=i.a.createRef(),n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){new Promise(function(e){return Object(oe.I)().then(function(t){return e(t)}).catch(function(t){return Object(k.b)().error("Tried to grab notification warnings, but failed"),Object(k.b)().error(t.message),Object(k.b)().error(t.stack),e([])})}).then(function(e){var t,n,r=(t={QUIET_TIME:i.a.createElement(Et,{id:"QUIET_TIME"}),AC_USER:i.a.createElement(Et,{id:"AC_USER"}),AC_GROUP:i.a.createElement(Et,{id:"AC_GROUP"}),FULL_SCREEN:i.a.createElement(Et,{id:"FULL_SCREEN"}),CORRUPTION:i.a.createElement(Et,{id:"CORRUPTION"}),AERO_GLASS_UNAVAILABLE:i.a.createElement(Et,{id:"AERO_GLASS_UNAVAILABLE"}),GPU_COMPOSITION_UNAVAILABLE:i.a.createElement(Et,{id:"GPU_COMPOSITION_UNAVAILABLE"}),QUIET_HOURS:i.a.createElement(Et,{id:"QUIET_HOURS"}),FAILOVER_WITHIN_LAST_WEEK:i.a.createElement(Et,{id:"FAILOVER_WITHIN_LAST_WEEK"})},n={UNKNOWN_HTML_STYLE:t.CORRUPTION,UNKNOWN_METHOD:t.CORRUPTION,ZERO_MAX_NOTIFICATIONS:t.CORRUPTION,ZERO_TIMEOUT:t.CORRUPTION},Object(se.B)()?yt()({},n,{AC_DISABLED_BY_GROUP_POLICY:t.AC_GROUP,AC_DISABLED_BY_MANIFEST:t.AC_USER,AC_DISABLED_FOR_APPLICATION:t.AC_GROUP,AC_DISABLED_FOR_USER:t.AC_GROUP,AERO_GLASS_UNAVAILABLE:t.AERO_GLASS_UNAVAILABLE,FAILOVER_WITHIN_LAST_WEEK:t.FAILOVER_WITHIN_LAST_WEEK,PRESENTATION_BUSY:t.FULL_SCREEN,PRESENTATION_D3D_FULL_SCREEN:t.FULL_SCREEN,PRESENTATION_MODE:t.FULL_SCREEN,PRESENTATION_QUIET_TIME:t.QUIET_TIME,QUIET_HOURS:t.QUIET_HOURS}):n);Gt=e.filter(function(e){return!!r[e]}).map(function(e){return r[e]})})}},{key:"onChangeNotificationsBehaviorGlobalDesktop",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed notificationsBehaviorGlobalDesktop: "+n),this.setGlobalDesktopNotificationByApi(n,this.state.syncGlobalMobileDesktop),this.clogDesktopNotificationsChange(n)}},{key:"onChangeNotificationsBehaviorGlobalMobile",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed notificationsBehaviorGlobalMobile: "+n),this.props.setNotificationsGlobalPrefByApi({name:"global_mobile",value:n,sync:!1,reason:"prefs_dialog_open"})}},{key:"onChangeThreadsEverything",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed threads_everything: "+n),this.props.setNotificationsGlobalPrefByApi({name:"threads_everything",value:n})}},{key:"onChangeSyncGlobalMobileDesktop",value:function(e){var t=!e.target.checked,n=this.props.notificationsBehaviorGlobalDesktop;this.setState(function(){return{syncGlobalMobileDesktop:t}}),t&&this.setGlobalDesktopNotificationByApi(n,t)}},{key:"onChangeGlobalKeywords",value:function(e){var t=Object($.b)({csv:e,max:Yt});this.setState(function(){return{globalKeywords:e,globalKeywordsMaxReached:t.maxViolation}}),t.maxViolation||this.setGlobalKeywordsByApi(e.replace(/, /g,","))}},{key:"onChangeNoTextInNotifications",value:function(e){var t=this.props.logger,n=!e.target.checked;t.action("Changed no_text_in_notifications: "+n),this.props.setNotificationsGlobalPrefByApi({name:"no_text_in_notifications",value:n})}},{key:"onChangePlaySounds",value:function(e){var t=this.props.logger,n=e.target.checked?this.state.lastNewMsgSnd:"none";t.action("Changed desktop_sound: "+n),this.props.setNotificationsGlobalPrefByApi({name:"desktop_sound",value:n})}},{key:"onChangeMuteSounds",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed mute_sounds: "+n),this.props.setUserPrefByApi({pref:"mute_sounds",value:n})}},{key:"onChangeNewMsgSnd",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed desktop_sound: "+n),Object(ne.a)()?Object(re.a)(this.props.allNotificationSounds[n].url):Object(ae.c)(n,{ignore_mute:!0}),this.setState(function(){return{lastNewMsgSnd:n}}),this.props.setNotificationsGlobalPrefByApi({name:"desktop_sound",value:n})}},{key:"onChangeWindowFlashBehavior",value:function(e){var t=this.props.logger,n=e.target.checked?"always":"never";t.action("Changed windowFlashBehavior: "+n),Object(oe.wb)({name:"windowFlashBehavior",value:n}),this.setState(function(){return{windowFlashBehavior:n}})}},{key:"onChangeWindowFlashBehaviorOnlyInactive",value:function(e){var t=this.props.logger,n=e.target.checked?"idle":"always";t.action("Changed windowFlashBehavior: "+n),Object(oe.wb)({name:"windowFlashBehavior",value:n}),this.setState(function(){return{windowFlashBehavior:n}})}},{key:"onChangeNotificationMethod",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed notificationMethod: "+n),Object(oe.wb)({name:"notificationMethod",value:n}),this.setState(function(){return{notificationMethod:n}})}},{key:"onChangeNotifyPositionCorner",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed notifyPosition.corner: "+n);var r={corner:n,display:this.state.notifyPosition.display};Object(oe.wb)({name:"notifyPosition",value:r}),this.setState(function(){return{notifyPosition:r}})}},{key:"onChangeNotifyPositionDisplay",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed notifyPosition.display: "+n);var r={corner:this.state.notifyPosition.corner,display:n};Object(oe.wb)({name:"notifyPosition",value:r}),this.setState(function(){return{notifyPosition:r}})}},{key:"onChangeEmailAlerts",value:function(e){var t=this.props.logger,n=e.target.checked?this.state.lastEmailAlertsDelay:"none";t.action("Changed emailAlerts: "+n),this.props.setUserPrefByApi({pref:"email_alerts",value:n})}},{key:"onChangeEmailAlertsDelay",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed emailAlerts: "+n),this.setState(function(){return{lastEmailAlertsDelay:n}}),this.props.setUserPrefByApi({pref:"email_alerts",value:n})}},{key:"onChangePushIdleWait",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed push_idle_wait: "+n),this.props.setNotificationsGlobalPrefByApi({name:"push_idle_wait",value:n})}},{key:"onChangeMacDockBadge",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed mac_ssb_bullet: "+n),this.props.setUserPrefByApi({pref:"mac_ssb_bullet",value:n})}},{key:"onChangeMacDockBounce",value:function(e){var t=this.props.logger,n=this.state.macSSBBounceDuration,r=e.target.checked?n:"";t.action("Changed mac_ssb_bounce: "+r),this.props.setUserPrefByApi({pref:"mac_ssb_bounce",value:r})}},{key:"onChangeMacDockBounceDuration",value:function(e){var t=this.props.logger,n=e.target.checked?"short":"long";t.action("Changed mac_ssb_bounce: "+n),this.setState(function(){return{macSSBBounceDuration:n}}),this.props.setUserPrefByApi({pref:"mac_ssb_bounce",value:n})}},{key:"onClickShowExampleNotification",value:function(){this.props.sendTestNotification({text:Vt.t("What do you know, it works?")})}},{key:"onClickPromptForPermission",value:function(){var e=this,t=this.props.logger;this.setState(function(){return{promptForPermissionActive:!0}}),this.props.promptForPermission({callback:function(n,r){e.setState(function(){return{promptForPermissionActive:!1}}),n&&"granted"===r?(t.action("Enabled desktop notifications"),e.props.setUserPrefByApi({pref:"growls_enabled",value:!0})):(t.action("Disabled desktop notifications"),e.props.setUserPrefByApi({pref:"growls_enabled",value:!1}))}})}},{key:"onClickJumpToOverrides",value:function(){var e=this.overridesListRef.current;e&&e.scrollIntoView({behavior:"smooth"})}},{key:"setGlobalKeywordsByApi",value:function(e){this.props.logger.action("Changed global_keywords"),this.props.setNotificationsGlobalPrefByApi({name:"global_keywords",value:e})}},{key:"setGlobalDesktopNotificationByApi",value:function(e,t){this.props.setNotificationsGlobalPrefByApi({name:"global_desktop",value:e,sync:t,reason:"prefs_dialog_open"})}},{key:"clogDesktopNotificationsChange",value:function(e){var t="never";"everything"===e?t="all":"mentions_dms"===e&&(t="mentions"),this.props.clogger.track("PREF_USER_CLIENT_UPDATE",{updated_user_client_prefs:{desktop_notifications:t}})}},{key:"renderNotificationExample",value:function(e){var t=this.props,n=t.teamName,r=t.memberName,a=O()("p-prefs_modal__notification_example",{"p-prefs_modal__notification_example--mac":Object(se.p)(),"p-prefs_modal__notification_example--windows":Object(se.B)(),"p-prefs_modal__notification_example--linux":Object(se.o)(),"p-prefs_modal__notification_example--none":"nothing"===e}),o=n;Object(se.p)()||(o=Vt.t("from {team_name}",{team_name:n}));var s=void 0;return"nothing"===e&&(s=Vt.t("Hi!")),"everything"===e&&(s=Vt.t("Good morning everyone!")),"mentions_dms"===e&&(s=i.a.createElement("span",null,Vt.rt("{wave_emoji} Hi <strong>@{username}</strong>",{wave_emoji:i.a.createElement(dt.b,{text:":wave:",emojiSize:dt.a.SMALL}),username:r}))),i.a.createElement("div",{className:a},i.a.createElement("div",{className:"p-prefs_modal__notification_example__slack_app_icon"}),i.a.createElement("div",{className:"bold overflow_ellipsis"},o),s)}},{key:"renderNotificationsPrompt",value:function(){var e=this.state.promptForPermissionActive,t=i.a.createElement("h3",{className:"margin_bottom_50 inline_block"},Vt.t("Desktop notifications are currently disabled"));return Object(ee.r)()?i.a.createElement(a.Fragment,null,t,e?i.a.createElement(ht.a,{level:"info",icon:"info-circle",className:"margin_bottom_100"},Vt.rt("Click <strong>Allow</strong> in your browser's pop-up to enable notifications.")):i.a.createElement(a.Fragment,null,i.a.createElement("p",null,Vt.t("We strongly recommend enabling notifications so that you'll know when important activity happens in your Slack workspace.")),i.a.createElement(gt.d,{onClick:this.onClickPromptForPermission,className:"margin_bottom_100"},i.a.createElement(pt.b,{type:"bell",className:"margin_right_50"}),Vt.t("Enable desktop notifications")))):i.a.createElement(a.Fragment,null,t,i.a.createElement(ht.a,{level:"error",icon:"warning",className:"margin_bottom_100"},Vt.t("You've disallowed notifications in your browser. You'll need to open your browser preferences to change that.")))}},{key:"renderGlobalPrefs",value:function(){var e=this,t=this.props,n=t.helpCenterTrackingToken,r=t.notificationsBehaviorGlobalDesktop,o=t.notificationsBehaviorGlobalMobile,s=t.threadsEverything,c=t.globalNotificationsDisabled,l=t.channelsWithOverrides,u=this.state.syncGlobalMobileDesktop,d=Object(J.a)("https://get.slack.help/hc/"+this.zdLocale+"/articles/201355156-Desktop-notifications",n),b=[{label:Vt.t("All new messages"),value:"everything"},{label:Vt.t("Direct messages, mentions and keywords"),value:"mentions_dms"},{label:Vt.t("Nothing"),value:"nothing"}],p=Object(U.a)(b,["value",o]),h=l.length,m=h>0;return i.a.createElement(a.Fragment,null,i.a.createElement(ue.a,{href:d,target:"_blank",className:"float_right sk_light_gray"},Vt.t("About notifications")," ",i.a.createElement(pt.b,{type:"question_circle"})),Object(ee.f)()?i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50 inline_block"},Vt.t("Notify me about\u2026")),i.a.createElement(ft.a,{className:"p-prefs_modal__radiogroup"},i.a.createElement(ut,{text:Vt.t("All new messages"),description:Vt.t("You'll be notified for every new message"),selected:"everything"===r},i.a.createElement(mt.a,{name:"notifications",value:"everything",checked:"everything"===r,onChange:this.onChangeNotificationsBehaviorGlobalDesktop}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderNotificationExample("everything"))),i.a.createElement(ut,{text:Vt.t("Direct messages, mentions & keywords"),description:Vt.t("You'll be notified when a teammate mentions you, sends you a direct message, or uses one of your keywords"),selected:"mentions_dms"===r},i.a.createElement(mt.a,{name:"notifications",value:"mentions_dms",checked:"mentions_dms"===r,onChange:this.onChangeNotificationsBehaviorGlobalDesktop}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderNotificationExample("mentions_dms"))),i.a.createElement(ut,{text:Vt.t("Nothing"),description:Vt.rt("You won't receive notifications from Slack. Note: you will still see badges ({mentionBadge}) within Slack",{mentionBadge:i.a.createElement(bt.b,{count:1,className:"margin_left_0"})}),selected:"nothing"===r},i.a.createElement(mt.a,{name:"notifications",value:"nothing",checked:"nothing"===r,onChange:this.onChangeNotificationsBehaviorGlobalDesktop}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderNotificationExample("nothing"))))):this.renderNotificationsPrompt(),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Notify me about replies to threads I'm following"),isDisabled:c,id:"prefs_threads_everything"},i.a.createElement(Pe.a,{onChange:this.onChangeThreadsEverything,name:"threads_everything",checked:s&&!c,disabled:c})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Use different settings for my mobile devices")},i.a.createElement(Pe.a,{onChange:this.onChangeSyncGlobalMobileDesktop,name:"sync_global_mobile_desktop",checked:!u})),u?null:i.a.createElement(be.a,{selectId:"keyboard",selectedOption:p,onOptionSelected:this.onChangeNotificationsBehaviorGlobalMobile,options:b,width:345}),m?i.a.createElement("p",{className:"margin_top_100"},Vt.rt("You've also set notification preferences for <a>{allNotificationOverridesCount, plural, =1 {# channel} other {# channels}}</a>.",{allNotificationOverridesCount:h},function(t){var n=t.text;return i.a.createElement(_t.a,{onClick:e.onClickJumpToOverrides},n)})):null)}},{key:"renderKeywords",value:function(){var e=this.state,t=e.globalKeywords,n=e.globalKeywordsMaxReached;return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50"},Vt.t("My keywords")),i.a.createElement("p",null,Vt.rt("Show a badge ({mentionBadge}) in my channel list when someone uses one of my keywords:",{mentionBadge:i.a.createElement(bt.b,{count:1,className:"margin_left_0"})})),i.a.createElement(vt.a,{name:"global_keywords",id:"global_keywords",value:t,hintText:Vt.t("Use commas to separate each keyword. Keywords are not case sensitive."),errorLevel:"error",errorText:n?Vt.t("A maximum of {MAX_KEYWORDS_COUNT} keywords are allowed.",{MAX_KEYWORDS_COUNT:Yt,fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"}):"",onChange:this.onChangeGlobalKeywords}))}},{key:"renderNotificationWarnings",value:function(){return 0===Gt.length?null:i.a.createElement(ht.a,{level:"warning",type:"boxed",icon:"warning",heading:Vt.t("Looks like there might be an issue with your notifications"),className:"margin_bottom_100"},i.a.createElement("p",{className:"margin_bottom_50"},Vt.t("The following conditions might be preventing them from appearing how they should:")),i.a.createElement("ul",{className:"margin_bottom_50"},Gt.map(function(e,t){return i.a.createElement("li",{key:"warning_"+t},e)})))}},{key:"renderSoundPrefs",value:function(){var e=this,t=this.props,n=t.noTextInNotifications,o=t.muteSounds,s=t.allNotificationSounds,c=t.newMsgSnd,l=t.globalDesktopNotificationsDisabled,u=Object(r.a)(s,function(t,n){return i.a.createElement(de.a,{text:t.display(),type:"inline",cursor:"pointer",className:"p-prefs_modal__sound_label",key:n},i.a.createElement(mt.a,{name:"desktop_sound",value:n,checked:n===c,onChange:e.onChangeNewMsgSnd}))}),d=i.a.createElement(ft.a,{className:"p-prefs_modal__inset_radiogroup nudge_left_3"},u);return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50"},Vt.t("Sound & appearance")),Object(se.v)("3.3")?this.renderNotificationWarnings():null,i.a.createElement("p",null,Vt.t("Choose how notifications look, sound, and behave.")," ",Object(ee.f)()?i.a.createElement(_t.a,{onClick:this.onClickShowExampleNotification},Vt.t("Show me an example notification.")):null),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.rt('<strong>Include a preview of the message in each notification</strong> <span class="sk_light_gray">(disable this for extra privacy)</span>'),isDisabled:l},i.a.createElement(Pe.a,{onChange:this.onChangeNoTextInNotifications,name:"no_text_in_notifications",checked:!n,disabled:l})),i.a.createElement("div",null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Play a sound when receiving a notification"),isDisabled:o||l||Object(ee.r)(),className:"inline_flex"},i.a.createElement(Pe.a,{onChange:this.onChangePlaySounds,name:"play_sound",checked:"none"!==c,disabled:o||l||Object(ee.r)()})),"none"===c||o||l||Object(ee.r)()?null:d),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Mute all sounds from Slack")},i.a.createElement(Pe.a,{onChange:this.onChangeMuteSounds,name:"mute_sounds",checked:o})))}},{key:"renderMobileEmailPrefs",value:function(){var e=this.props,t=e.pushIdleWait,n=e.emailAlerts,o=e.globalMobileNotificationsDisabled,s=e.hasHipaaCompliance,c=Object(r.a)(Qt,function(e){return{label:"0"===e?Vt.t("as soon as I'm inactive"):Vt.t("after I've been inactive for {value, plural, =1 {# minute} other {# minutes}}",{value:e}),value:e}}),l=Object(U.a)(c,["value",t])||Object(U.a)(c,["value","2"]),u=i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50"},Vt.t("When I'm not active on desktop ...")),i.a.createElement(de.a,{text:Vt.t("Send notifications to my mobile devices:"),className:"margin_bottom_100",isDisabled:o},i.a.createElement(be.a,{selectId:"push_idle_wait",selectedOption:l,onOptionSelected:this.onChangePushIdleWait,options:c,width:300,isDisabled:o}))),d=s?null:i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Send me email notifications for mentions and direct messages")},i.a.createElement(Pe.a,{onChange:this.onChangeEmailAlerts,name:"email_alerts",checked:"none"!==n})),"none"===n?null:i.a.createElement(ft.a,{className:"p-prefs_modal__inset_radiogroup nudge_left_3"},i.a.createElement(de.a,{text:Vt.t("once every 15 minutes"),type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"email_alerts_delay",value:"instant",checked:"instant"===n,onChange:this.onChangeEmailAlertsDelay})),i.a.createElement(de.a,{text:Vt.t("once an hour"),type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"email_alerts_delay",value:"hourly",checked:"hourly"===n,onChange:this.onChangeEmailAlertsDelay}))));return i.a.createElement(a.Fragment,null,u,d)}},{key:"renderMacAppearancePrefs",value:function(){var e=this.props,t=e.macSSBBullet,n=e.macSSBBounce,r=e.globalDesktopNotificationsDisabled,o=this.state.macSSBBounceDuration;return i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.rt("<strong>Show a badge {imgMacDockBadge} on Slack's icon to indicate new activity</strong>",{imgMacDockBadge:i.a.createElement("img",{src:cdn_url+"/9135/img/prefs_mac_dock_badge@2x.png",alt:Vt.t("A dock badge on Mac"),className:"p-prefs_modal__img_mac_dock_badge"})})},i.a.createElement(Pe.a,{onChange:this.onChangeMacDockBadge,name:"mac_ssb_bullet",checked:t})),i.a.createElement("div",{className:"inline_flex margin_right_150"},i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Bounce Slack's icon when receiving a notification"),isDisabled:r},i.a.createElement(Pe.a,{onChange:this.onChangeMacDockBounce,name:"mac_ssb_bounce",checked:""!==n,disabled:r}))),i.a.createElement("div",{className:"inline_flex"},i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.rt('<span className="sk_light_gray normal">Only bounce it once</span>'),isDisabled:""===n||r},i.a.createElement(Pe.a,{onChange:this.onChangeMacDockBounceDuration,name:"mac_ssb_bounce_short",checked:"short"===o,disabled:""===n||r}))))}},{key:"renderWindowsAppearancePrefs",value:function(){var e=this.state,t=e.windowFlashBehavior,n=e.initialNotificationMethod,o=e.notificationMethod,s=e.notifyPosition,c=i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Vt.t("Flash window when receiving a notification")},i.a.createElement(Pe.a,{onChange:this.onChangeWindowFlashBehavior,name:"winssb_window_flash_behavior",checked:"never"!==t})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",className:"margin_left_150",text:Vt.t("Only flash window when I'm not actively using my computer"),isDisabled:"never"===t},i.a.createElement(Pe.a,{onChange:this.onChangeWindowFlashBehaviorOnlyInactive,name:"winssb_window_flash_behavior",checked:"idle"===t,disabled:"never"===t}))),l=Object(r.a)(Object(v.a)(Ut,function(e){return e.enabled()}),function(e){return{label:e.label(),value:e.value}}),u=Object(U.a)(l,["value",o]),d=n!==o?i.a.createElement("p",{className:"margin_top_50"},Vt.t("You'll need to restart Slack for this to take effect.")):null,b=i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{text:Vt.t("Deliver notifications via..."),className:"margin_top_100"},i.a.createElement(be.a,{selectId:"winssb_notification_method",selectedOption:u,onOptionSelected:this.onChangeNotificationMethod,options:l,width:400})),d),p=null;if("html"===o){var h=Object(r.a)(Ht,function(e){return{label:e.label(),value:e.value}}),m=Object(U.a)(h,["value",s.corner]),f=Object(r.a)(Kt,function(e){return{label:e.label(),value:e.value}}),g=Object(U.a)(f,["value",s.display]);p=i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{text:Vt.t("Notification position"),className:"inline_block margin_right_100 margin_top_100"},i.a.createElement(be.a,{selectId:"winssb_notify_corner",selectedOption:m,onOptionSelected:this.onChangeNotifyPositionCorner,options:h,width:300})),i.a.createElement(de.a,{text:Vt.t("Display"),className:"inline_block margin_top_100"},i.a.createElement(be.a,{selectId:"winssb_notify_display",selectedOption:g,onOptionSelected:this.onChangeNotifyPositionDisplay,options:f,width:300})))}return i.a.createElement(a.Fragment,null,c,b,p)}},{key:"renderChannelOverridesList",value:function(){var e=this.props,t=e.channelsWithOverrides,n=e.changePrefsActiveSection;if(!t||!t.length)return null;var r=Object(F.a)(t),o=t.map(function(e){return i.a.createElement(Mt,{channelId:e,key:e,last:e===r,changePrefsActiveSection:n})});return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50",ref:this.overridesListRef},Vt.t("Channel-specific notifications")),i.a.createElement("div",{role:"list","aria-label":Vt.t("Channel-specific notifications")},o))}},{key:"renderDndPreferences",value:function(){var e=this.props,t=e.featureGranularDnd,n=e.changePrefsActiveSection;return t?i.a.createElement("div",{id:"prefs_dnd"},i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50"},Vt.t("Notification schedule")),i.a.createElement(it,{changePrefsActiveSection:n})):i.a.createElement("div",{id:"prefs_dnd"},i.a.createElement("h3",{className:"margin_top_200 margin_bottom_50"},Vt.t("Do Not Disturb")),i.a.createElement(ct,{changePrefsActiveSection:n}))}},{key:"render",value:function(){return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},Vt.t("Notifications")),this.renderGlobalPrefs(),this.renderKeywords(),this.renderDndPreferences(),this.renderSoundPrefs(),oe.X&&Object(se.p)()?this.renderMacAppearancePrefs():null,oe.X&&Object(se.B)()?this.renderWindowsAppearancePrefs():null,this.renderMobileEmailPrefs(),this.renderChannelOverridesList())}}]),t}(a.Component);Zt.displayName="BasePrefsSectionNotifications",Zt.defaultProps=Xt;var Jt={setNotificationsGlobalPrefByApi:Y.c,setUserPrefByApi:z.f,sendTestNotification:te.d,promptForPermission:te.b},$t=Object(g.b)(function(e){var t=Object(W.b)(e),n=Object(V.d)(e,"push_idle_wait");return{featureGranularDnd:Object(E.j)(e,"feature_granular_dnd"),clogger:Object(H.a)({state:e}),logger:Object(k.a)({state:e,label:"PREFS"}),notificationsBehaviorGlobalDesktop:Object(V.d)(e,"global_desktop"),notificationsBehaviorGlobalMobile:Object(V.d)(e,"global_mobile"),helpCenterTrackingToken:Object(X.b)(e),threadsEverything:Object(V.d)(e,"threads_everything"),globalKeywords:Object(V.d)(e,"global_keywords"),teamName:Object(R.e)(Object(T.d)(e)),memberName:Object(Q.P)(e,t),noTextInNotifications:Object(V.d)(e,"no_text_in_notifications"),muteSounds:Object(K.g)(e,"mute_sounds"),newMsgSnd:Object(V.d)(e,"desktop_sound"),allNotificationSounds:Object(ie.b)(),pushIdleWait:null==n?"2":n.toString(),globalNotificationsDisabled:Object(ee.d)(e),globalDesktopNotificationsDisabled:Object(ee.b)(e),globalMobileNotificationsDisabled:Object(ee.c)(e),emailAlerts:Object(K.g)(e,"email_alerts"),macSSBBullet:Object(K.g)(e,"mac_ssb_bullet"),macSSBBounce:Object(K.g)(e,"mac_ssb_bounce"),channelsWithOverrides:Object(ee.i)(e),hasHipaaCompliance:Object(G.a)(e,"has_hipaa_compliance")}},Jt)(Zt),en=n("1myf"),tn=n("x3CK"),nn=n("vKOW"),rn=n("K+2G"),an=new j.b("prefs"),on=(o.b.string,o.b.string.isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.object.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeLocale","onChangeTZ","onChangeAutoTZ","onChangeKeyboard","renderLocalePref","renderTZPref","renderAutoTZPref","maybeRenderKeyboardPref"]),n}return f()(t,e),b()(t,[{key:"onChangeLocale",value:function(e){var t=this.props,n=t.teamId,r=t.logger,a=e.value;r.action("Changed locale: "+a),Object(ne.a)()?(this.props.setShowOpenTransition(!1),this.props.setLocaleForTeam({locale:a,teamId:n})):this.props.openChangeLanguageDialog({locale:a})}},{key:"onChangeTZ",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed tz: "+n),this.props.setUserPrefByApi({pref:"tz",value:n})}},{key:"onChangeAutoTZ",value:function(e){var t=this.props.logger,n=e.target.checked;if(t.action("Changed auto tz: "+n),this.props.setUserPrefByApi({pref:"set_tz_automatically",value:n}),n)try{var r=Intl.DateTimeFormat().resolvedOptions().timeZone;this.props.setUserPrefByApi({pref:"tz",value:r})}catch(e){t.error("Cannot set timezone automatically",e)}}},{key:"onChangeKeyboard",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed keyboard: "+n),this.props.setUserPrefByApi({pref:"keyboard",value:n})}},{key:"maybeRenderKeyboardPref",value:function(){if(Object(oe.e)())return null;var e=this.props.keyboard,t=Object(r.a)(Object(tn.e)(),function(e,t){return{label:e,value:t}}),n=Object(U.a)(t,["value",e])||Object(U.a)(t,["value",tn.a]);return i.a.createElement(de.a,{text:an.t("Keyboard layout")},i.a.createElement(be.a,{selectId:"keyboard",selectedOption:n,onOptionSelected:this.onChangeKeyboard,options:t,size:"large",width:"100%"}))}},{key:"renderLocalePref",value:function(){var e=this.props.locale,t=Object(r.a)(Object(Z.e)(),function(e,t){return{label:e,value:t}}),n=Object(en.a)(t,"label"),o=Object(U.a)(t,["value",e])||Object(U.a)(t,["value",j.b.DEFAULT_LOCALE]);return i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{text:an.t("Language"),className:"margin_bottom_50"},i.a.createElement(be.a,{selectId:"locale",selectedOption:o,onOptionSelected:this.onChangeLocale,options:n,size:"large",width:"100%",selectDataQa:"locale"})),i.a.createElement("p",{className:"sk_dark_gray margin_bottom_200"},an.t("Choose the language you\u2019d like to use with Slack.")))}},{key:"renderTZPref",value:function(){var e=this.props,t=e.tz,n=e.locale,a=e.setTzAutomatically,o=e.featureSetTzAutomatically,s=Object(nn.a)(n),c=Object(r.a)(s,function(e){return{label:e[0],value:e[1]}}),l=Object(U.a)(c,["value",t])||Object(U.a)(c,["value",j.b.DEFAULT_TZ]),u=a&&o;return i.a.createElement(de.a,{text:an.t("Time zone"),className:"margin_bottom_50",id:"prefs_timezone"},this.renderAutoTZPref(),i.a.createElement(be.a,{selectId:"tz",isDisabled:u,selectedOption:l,onOptionSelected:this.onChangeTZ,options:c,size:"large",width:"100%"}))}},{key:"renderAutoTZPref",value:function(){var e=this.props,t=e.setTzAutomatically;return e.featureSetTzAutomatically?i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:an.t("Set timezone automatically")},i.a.createElement(Pe.a,{name:"set_tz_automatically",checked:t,onChange:this.onChangeAutoTZ})):null}},{key:"render",value:function(){return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},an.t("Language & Region")),this.renderLocalePref(),this.renderTZPref(),this.maybeRenderKeyboardPref())}}]),t}(a.Component));on.displayName="PrefsSectionLanguageRegion",on.defaultProps={keyboard:null};var sn={setUserPrefByApi:function(){return z.f.apply(void 0,arguments)},setShowOpenTransition:function(){return S.b.apply(void 0,arguments)},openChangeLanguageDialog:function(){return rn.a.apply(void 0,arguments)},setLocaleForTeam:function(){return z.d.apply(void 0,arguments)}},cn=Object(g.b)(function(e){var t=Object(T.d)(e).id;return{featureSetTzAutomatically:Object(E.j)(e,"feature_set_tz_automatically"),keyboard:Object(K.g)(e,"keyboard"),tz:Object(K.g)(e,"tz"),locale:Object(K.a)(e),teamId:t,logger:Object(k.a)({state:e,label:"PREFS"}),setTzAutomatically:Object(K.g)(e,"set_tz_automatically")}},sn)(on),ln=n("K7CU"),un=n("om+M"),dn=n("4zXV"),bn=Object(un.a)("Get the user's email token, if it exists.",function(e){return e(Object(dn.a)({method:"users.emailtoken.get",reason:"users.emailtoken.get"}))}),pn=Object(un.a)("Create a new token, replacing an existing one if it exists.",function(e){return e(Object(dn.a)({method:"users.emailtoken.create",reason:"users.emailtoken.create"}))}),hn=Object(un.a)("Delete the user's email token",function(e){return e(Object(dn.a)({method:"users.emailtoken.delete",reason:"users.emailtoken.delete"}))}),mn=n("jK7E"),fn=n("ICFZ"),vn=n("CSaH"),gn=n("qEEt"),_n=n("fL8H"),On=new j.b("prefs"),yn=(o.b.string.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.string.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func,o.b.func,o.b.func,o.b.func,o.b.func.isRequired,o.b.object.isRequired,{getEmailToken:D.a,createEmailToken:D.a,deleteEmailToken:D.a,openModal:D.a}),jn=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(y.a)(n,["onChangeMessagesTheme","onChangeDisplayRealNamesOverride","onChangeShowTyping","onChangeTime24","onChangeHideHexSwatch","onChangeEmojiMode","onChangeJumbomoji","onChangeConvertEmoticons","onChangeExpandInternalInlineImgs","onChangeExpandInlineImgs","onChangeObeyInlineImageLimit","onClickProfileLink","onClickCreateEmailForwardingAddress","onClickCopyEmailForwardingAddress","onClickDeleteEmailForwardingAddress","onConfirmDeleteEmailForwardingAddress","onLeaveCopyButton","onChangeExpandNonMediaAttachments"]),n.state={emailForwardingAddress:"",emailAddressCopied:!1};var r=Date.now();return n.currentTimestamp=Math.floor(r/1e3),n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getEmailToken().then(function(t){if(t.email_address){var n=t.email_address;e.setState(function(){return{emailForwardingAddress:n}})}}).catch(function(t){t&&t.data&&"no_emailtoken"===t.data.error||e.props.logger.error("Unable to get email token",t)})}},{key:"onChangeMessagesTheme",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed messages_theme: "+n),this.props.setUserPrefByApi({pref:"messages_theme",value:n})}},{key:"onChangeDisplayRealNamesOverride",value:function(e){var t=this.props,n=t.displayRealNames,r=t.logger,a="real_names"===e.target.value,i=void 0;i=n?a?0:-1:a?1:0,r.action("Changed display_real_names_override: "+i),this.props.setUserPrefByApi({pref:"display_real_names_override",value:i})}},{key:"onChangeShowTyping",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed show_typing: "+n),this.props.setUserPrefByApi({pref:"show_typing",value:n})}},{key:"onChangeTime24",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed time24: "+n),this.props.setUserPrefByApi({pref:"time24",value:n})}},{key:"onChangeHideHexSwatch",value:function(e){var t=this.props.logger,n=!e.target.checked;t.action("Changed hide_hex_swatch: "+n),this.props.setUserPrefByApi({pref:"hide_hex_swatch",value:n})}},{key:"onChangeEmojiMode",value:function(e){var t=this.props.logger,n=e.target.checked?"as_text":"default";t.action("Changed emoji_mode: "+n),this.props.setUserPrefByApi({pref:"emoji_mode",value:n})}},{key:"onChangeJumbomoji",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed jumbomoji: "+n),this.props.setUserPrefByApi({pref:"jumbomoji",value:n})}},{key:"onChangeConvertEmoticons",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed convert_emoticons: "+n),this.props.setUserPrefByApi({pref:"convert_emoticons",value:n})}},{key:"onChangeExpandInternalInlineImgs",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed expand_internal_inline_imgs: "+n),this.props.setUserPrefByApi({pref:"expand_internal_inline_imgs",value:n})}},{key:"onChangeExpandInlineImgs",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed expand_inline_imgs: "+n),this.props.setUserPrefByApi({pref:"expand_inline_imgs",value:n})}},{key:"onChangeObeyInlineImageLimit",value:function(e){var t=this.props.logger,n=!e.target.checked;t.action("Changed obey_inline_img_limit: "+n),this.props.setUserPrefByApi({pref:"obey_inline_img_limit",value:n})}},{key:"onChangeExpandNonMediaAttachments",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed expand_non_media_attachments: "+n),this.props.setUserPrefByApi({pref:"expand_non_media_attachments",value:n})}},{key:"onClickProfileLink",value:function(e){e.preventDefault(),this.props.closeModal(),Object(ne.a)()||Object(mn.a)()}},{key:"onClickCreateEmailForwardingAddress",value:function(){var e=this,t=this.props.logger;this.props.createEmailToken().then(function(n){var r=n.email_address;e.setState(function(){return{emailForwardingAddress:r}}),t.action("Created email forwarding address")}).catch(function(e){t.error("Unable to create email token",e)})}},{key:"onClickCopyEmailForwardingAddress",value:function(){var e=this.props.logger,t=this.state.emailForwardingAddress;Object(fn.b)(On.t("Send to Slack <{emailForwardingAddress}>",{emailForwardingAddress:t})),e.action("Copied email forwarding address"),this.setState(function(){return{emailAddressCopied:!0}})}},{key:"onLeaveCopyButton",value:function(){this.state.emailAddressCopied&&this.setState(function(){return{emailAddressCopied:!1}})}},{key:"onClickDeleteEmailForwardingAddress",value:function(){var e=this.state.emailForwardingAddress;this.props.openModal({element:i.a.createElement(_n.a,{title:On.t("This address will be permanently deleted"),goButtonType:"danger",goButtonText:On.t("Disable Address"),onGo:this.onConfirmDeleteEmailForwardingAddress,showCancelButton:!0},i.a.createElement("p",null,On.rt("The address <strong>{emailForwardingAddress}</strong> will no longer work. If you'd like, you can always request a new forwarding address.",{emailForwardingAddress:e}))),isStackable:!0})}},{key:"onConfirmDeleteEmailForwardingAddress",value:function(){var e=this,t=this.props.logger;this.props.deleteEmailToken().then(function(){e.setState(function(){return{emailForwardingAddress:""}}),t.action("Deleted email forwarding address")}).catch(function(e){t.error("Unable to delete email token",e)})}},{key:"renderEmailForwarding",value:function(){var e=this.state,t=e.emailForwardingAddress,n=e.emailAddressCopied;return i.a.createElement(a.Fragment,null,i.a.createElement("hr",{className:"margin_top_150 margin_bottom_150"}),i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},On.t("Bring Emails into Slack")),i.a.createElement("p",null,On.t("You can upload any important email to Slack by forwarding it to a unique email address. Slackbot will deliver the email, and you can keep it private or share it with your team.")),t?i.a.createElement(a.Fragment,null,i.a.createElement("p",null,i.a.createElement(gn.b,{id:"email_forwarding_address",name:"email_forwarding_address",value:t,className:"p-prefs_modal__email_forwarding_address_input"}),i.a.createElement(Ue.c,{tip:n?On.t("Copied!"):On.t("Copy email address"),onMouseLeave:this.onLeaveCopyButton},i.a.createElement(gt.d,{type:"outline",onClick:this.onClickCopyEmailForwardingAddress},On.t("Copy")))),i.a.createElement("p",null,i.a.createElement(_t.a,{onClick:this.onClickDeleteEmailForwardingAddress},On.t("Disable this address")))):i.a.createElement("p",null,i.a.createElement(gt.d,{type:"outline",onClick:this.onClickCreateEmailForwardingAddress},On.t("Get a Forwarding Address"))))}},{key:"renderAvatar",value:function(e){var t=cdn_url+"/2b909/img/name_pref/avatar_meg@2x.png";return"slackbot"===e&&(t=cdn_url+"/16510/img/slackbot_72.png"),i.a.createElement("div",{className:"p-prefs_modal__message_example__avatar"},i.a.createElement("img",{className:"c-avatar__image",src:t,alt:"user avatar"}))}},{key:"renderMessage",value:function(e,t){return i.a.createElement("div",{className:"p-prefs_modal__message_example"},this.renderAvatar(e),i.a.createElement("div",{className:"p-prefs_modal__message_example__message_body"},i.a.createElement("span",{className:"c-message__sender"},e),i.a.createElement("span",{className:"c-timestamp"},Object(vn.a)(this.currentTimestamp,"{time}")),i.a.createElement("br",null),i.a.createElement("span",null,t)))}},{key:"renderCompactMessage",value:function(e,t){return i.a.createElement("div",{className:"p-prefs_modal__message_example p-prefs_modal__message_example--compact"},i.a.createElement("div",{className:"p-prefs_modal__message_example__gutter"},i.a.createElement("span",{className:"c-timestamp"},Object(vn.a)(this.currentTimestamp,"{time}"))),i.a.createElement("div",{className:"p-prefs_modal__message_example__message_content"},i.a.createElement("span",{className:"c-message__sender"},e),i.a.createElement("span",{className:""},t)))}},{key:"renderMessageThemeExample",value:function(e){var t=On.t("Feeling great!");return"dense"===e?this.renderCompactMessage("slackbot",t):this.renderMessage("slackbot",t)}},{key:"renderMessageExampleForNames",value:function(e){var t=this.props,n=t.messagesTheme,r=t.shouldRenderEmojiAsText,a=On.t("Meg");"real_names"===e&&(a=On.t("Megan Anne"));var o=On.rt("{wave_emoji} Hi, I'm <span>{name}</span>",{wave_emoji:i.a.createElement(dt.b,{text:":wave:",emojiSize:dt.a.MEDIUM,emojiMode:r?"as_text":"default"}),name:"@Meg"},function(e){var t=e.text;return i.a.createElement("span",{className:"c-member_slug c-member_slug--link"},t)});return"dense"===n?this.renderCompactMessage(a,o):this.renderMessage(a,o)}},{key:"render",value:function(){var e=this.props,t=e.messagesTheme,n=e.showTyping,r=e.time24,o=e.locale,s=e.hideHexSwatch,c=e.jumbomoji,l=e.convertEmoticons,u=e.expandInternalInlineImgs,d=e.expandInlineImgs,b=e.obeyInlineImgLimit,p=e.expandNonMediaAttachments,h=e.displayRealNames,m=e.shouldDisplayRealNames,f=e.shouldRenderEmojiAsText,v=e.emailForwardingEnabled,g=i.a.createElement(dt.b,{text:":smile:",emojiMode:f?"as_text":"default"}),_=i.a.createElement(_t.a,{onClick:this.onClickProfileLink},On.t("your profile")),O=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,On.t("Show JUMBOMOJI"))),i.a.createElement("p",{className:"normal margin_bottom_0"},On.t("Display the jumbo versions of emoji (up to 23 at a time!) in messages without text."))),y=o===j.b.DEFAULT_LOCALE;return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},On.t("Messages")),i.a.createElement("h3",{className:"margin_bottom_50"},On.t("Theme")),i.a.createElement(ft.a,{className:"p-prefs_modal__radiogroup"},i.a.createElement(ut,{text:On.t("Clean"),description:On.t("Clear, friendly, and focused"),selected:"light_with_avatars"===t||"default"===t},i.a.createElement(mt.a,{name:"messages_theme_set",value:"light_with_avatars",checked:"light_with_avatars"===t||"default"===t,onChange:this.onChangeMessagesTheme}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderMessageThemeExample("clean"))),i.a.createElement(ut,{text:On.t("Compact"),description:On.t("The most messages you can fit on screen at once"),selected:"dense"===t},i.a.createElement(mt.a,{name:"messages_theme_set",value:"dense",checked:"dense"===t,onChange:this.onChangeMessagesTheme}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderMessageThemeExample("dense")))),i.a.createElement("h3",{className:"margin_bottom_50"},On.t("Names")),i.a.createElement(ft.a,{className:"p-prefs_modal__radiogroup margin_bottom_50"},i.a.createElement(ut,{text:On.t("Full & display names"),description:On.rt("Show display names in conversation and full names everywhere else <strong>{workspaceDefault}</strong>",{workspaceDefault:h?"(workspace default)":""}),selected:m},i.a.createElement(mt.a,{name:"display_real_names_override_set",value:"real_names",checked:m,onChange:this.onChangeDisplayRealNamesOverride}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderMessageExampleForNames("real_names"))),i.a.createElement(ut,{text:On.t("Just display names"),description:On.rt("Always show display names <strong>{workspaceDefault}</strong>",{workspaceDefault:h?"":"(workspace default)"}),selected:!m},i.a.createElement(mt.a,{name:"display_real_names_override_set",value:"display_names",checked:!m,onChange:this.onChangeDisplayRealNamesOverride}),i.a.createElement("div",{className:"p-prefs_modal__radio_decorator"},this.renderMessageExampleForNames("display_names")))),i.a.createElement("p",null,On.rt("To change your full or display name, head to {profileLink}.",{profileLink:_})),i.a.createElement("h3",{className:"margin_bottom_50"},On.t("Additional options")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Display information about who is currently typing a message")},i.a.createElement(Pe.a,{onChange:this.onChangeShowTyping,name:"show_typing",checked:n})),y?i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.rt('<strong>Show times with 24-hour clock</strong> <span class="normal">(16:00 rather than 4:00 PM)</span>')},i.a.createElement(Pe.a,{onChange:this.onChangeTime24,name:"time24",checked:r})):null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Display color swatches next to hexadecimal values"),className:"margin_bottom_100"},i.a.createElement(Pe.a,{onChange:this.onChangeHideHexSwatch,name:"hide_hex_swatch",checked:!s})),i.a.createElement("h3",{className:"margin_bottom_50"},On.t("Emoji")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Display emoji as plain text")},i.a.createElement(Pe.a,{onChange:this.onChangeEmojiMode,name:"emoji_mode",checked:f})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:O,isDisabled:f||"dense"===t},i.a.createElement(Pe.a,{onChange:this.onChangeJumbomoji,name:"jumbomoji",checked:c,disabled:f||"dense"===t})),"dense"===t?On.rt('<p className="margin_bottom_50 margin_left_150"><strong>Note:</strong> In compact mode, all emoji remain at a smaller, more sensible size.</p>'):"",i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.rt("Convert my typed emoticons to emoji, so :D becomes {smileEmoji}",{smileEmoji:g}),isDisabled:f,className:"margin_bottom_150 bold"},i.a.createElement(Pe.a,{onChange:this.onChangeConvertEmoticons,name:"convert_emoticons",checked:l,disabled:f})),i.a.createElement("hr",{className:"margin_bottom_150"}),i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},On.t("Inline Media & Links")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Show images and files uploaded to Slack")},i.a.createElement(Pe.a,{onChange:this.onChangeExpandInternalInlineImgs,name:"expand_internal_inline_imgs",checked:u})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Show images and files from linked websites")},i.a.createElement(Pe.a,{onChange:this.onChangeExpandInlineImgs,name:"expand_inline_imgs",checked:d})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Even if they're larger than 2MB"),className:"margin_left_150",isDisabled:!d,id:"prefs_inline_media"},i.a.createElement(Pe.a,{onChange:this.onChangeObeyInlineImageLimit,name:"obey_inline_img_limit",checked:!b,disabled:!d})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:On.t("Show text previews of linked websites")},i.a.createElement(Pe.a,{onChange:this.onChangeExpandNonMediaAttachments,name:"expand_non_media_attachments",checked:p})),v?this.renderEmailForwarding():null)}}]),t}(a.Component);jn.displayName="PrefsSectionMessagesMedia",jn.defaultProps=yn;var kn={setUserPrefByApi:z.f,openModal:c.e,closeModal:c.a,getEmailToken:bn,createEmailToken:pn,deleteEmailToken:hn},En=Object(g.b)(function(e){return{messagesTheme:Object(K.g)(e,"messages_theme"),showTyping:Object(K.g)(e,"show_typing"),time24:Object(K.g)(e,"time24"),locale:Object(K.a)(e),hideHexSwatch:Object(K.g)(e,"hide_hex_swatch"),jumbomoji:Object(K.g)(e,"jumbomoji"),convertEmoticons:Object(K.g)(e,"convert_emoticons"),expandInternalInlineImgs:Object(K.g)(e,"expand_internal_inline_imgs"),expandInlineImgs:Object(K.g)(e,"expand_inline_imgs"),expandNonMediaAttachments:Object(K.g)(e,"expand_non_media_attachments"),obeyInlineImgLimit:Object(K.g)(e,"obey_inline_img_limit"),displayRealNames:Object(G.a)(e,"display_real_names"),shouldDisplayRealNames:Object(K.h)(e),shouldRenderEmojiAsText:Object(ln.m)(e),emailForwardingEnabled:Object(Q.gb)(e),logger:Object(k.a)({state:e,label:"PREFS"})}},kn)(jn),Cn=n("W+QA"),In=n("VMwU"),wn=n("tVnY"),Sn=n("hW7K"),Tn=n("Dpde"),Rn=n("udbT"),Nn=new j.b("prefs"),xn=150,Mn=[{name:"default_theme",label:function(){return Nn.t("Aubergine")},thumb:cdn_url+"/d65d3/img/themes/aubergine.png"},{name:"aubergine_classic_theme",label:function(){return Nn.t("Aubergine Classic")},thumb:cdn_url+"/d65d3/img/themes/aubergine_classic.png"},{name:"hoth_theme",label:function(){return Nn.t("Hoth")},thumb:cdn_url+"/c41f9/img/themes/hoth.png"},{name:"monument_theme",label:function(){return Nn.t("Monument")},thumb:cdn_url+"/c41f9/img/themes/monument.png"},{name:"chocolate_theme",label:function(){return Nn.t("Choco Mint")},thumb:cdn_url+"/c41f9/img/themes/chocolate.png"},{name:"ocean_theme",label:function(){return Nn.t("Ochin")},thumb:cdn_url+"/c41f9/img/themes/ocean.png"},{name:"workhard_theme",label:function(){return Nn.t("Work Hard")},thumb:cdn_url+"/c41f9/img/themes/workhard.png"},{name:"nocturne_theme",label:function(){return Nn.t("Nocturne")},thumb:cdn_url+"/c1d2/img/themes/nocturne.png"}],Pn=[{name:"midnight_theme",label:function(){return Nn.t("Midnight")},thumb:cdn_url+"/33aef/img/themes/midnight.png"},{name:"stark_theme",label:function(){return Nn.t("Stark")},thumb:cdn_url+"/af3644/img/themes/stark.png"},{name:"cloud_theme",label:function(){return Nn.t("Cloud")},thumb:cdn_url+"/cbe92/img/themes/cloud.png"},{name:"kaiyo_theme",label:function(){return Nn.t("Kaiyo")},thumb:cdn_url+"/cbe92/img/themes/kaiyo.png"}],An=[{name:"brinjal_theme",label:function(){return Nn.t("Tritanopia")},thumb:cdn_url+"/c41f9/img/themes/brinjal.png"},{name:"solanum_theme",label:function(){return Nn.t("Protanopia & Deuteranopia",{fallbackHash:"fc1efd15a53303d74c9c5f779ced7e1d47a756d6"})},thumb:cdn_url+"/c41f9/img/themes/solanum.png"}],Dn=[{id:"column_bg",label:function(){return Nn.t("Column BG")}},{id:"nav_bar_bg",label:function(){return Nn.t("Nav Bar BG")}},{id:"nav_bar_text",label:function(){return Nn.t("Nav Bar Text")}},{id:"menu_bg",label:function(){return Nn.t("Menu BG Hover")}},{id:"active_item",label:function(){return Nn.t("Active Item")}},{id:"active_item_text",label:function(){return Nn.t("Active Item Text")}},{id:"hover_item",label:function(){return Nn.t("Hover Item")}},{id:"text_color",label:function(){return Nn.t("Text Color")}},{id:"active_presence",label:function(){return Nn.t("Active Presence")}},{id:"badge",label:function(){return Nn.t("Mention Badge")}}],Ln=(o.b.bool.isRequired,o.b.string.isRequired,o.b.string,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool,o.b.bool.isRequired,o.b.bool.isRequired,o.b.string,o.b.shape({column_bg:o.b.string.isRequired,nav_bar_bg:o.b.string,nav_bar_text:o.b.string,menu_bg:o.b.string,active_item:o.b.string.isRequired,active_item_text:o.b.string.isRequired,hover_item:o.b.string.isRequired,text_color:o.b.string.isRequired,active_presence:o.b.string.isRequired,badge:o.b.string.isRequired}),o.b.bool.isRequired,o.b.string.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.object.isRequired,o.b.bool,{channelSort:"default",separateOrgChannels:!0,sidebarTheme:"default_theme",customTheme:In.a,historyNavigationEnabled:!1}),qn=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeSidebarBehavior","onChangeChannelSort","onChangeSeparatePrivateChannels","onChangeSeparateOrgChannels","onChangeSeparateSharedChannels","onChangeEnableAllUnreadView","onChangeShowSidebarQuickswitcherButton","onChangeSidebarTheme","onClickOpenCustomThemes","onChangeCustomThemePicker","onChangeCustomThemeValues","onClickCopyCustomTheme"]),n.state={customThemesOpen:"custom_theme"===n.props.sidebarTheme,customTheme:n.props.customTheme},n.setCustomThemeByAPI=Object(B.a)(n.setCustomThemeByAPI,xn),n}return f()(t,e),b()(t,[{key:"onChangeSidebarBehavior",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed sidebar_behavior: "+n),this.props.setUserPrefByApi({pref:"sidebar_behavior",value:n})}},{key:"onChangeChannelSort",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed channel_sort: "+n),this.props.setUserPrefByApi({pref:"channel_sort",value:n})}},{key:"onChangeSeparatePrivateChannels",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed separate_private_channels: "+n),this.props.setUserPrefByApi({pref:"separate_private_channels",value:n})}},{key:"onChangeSeparateSharedChannels",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed separate_shared_channels: "+n),this.props.setUserPrefByApi({pref:"separate_shared_channels",value:n})}},{key:"onChangeSeparateOrgChannels",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed ent_org_wide_channels_sidebar: "+n),this.props.setUserPrefByApi({pref:"ent_org_wide_channels_sidebar",value:n})}},{key:"onChangeEnableAllUnreadView",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed enable_unread_view: "+n),this.props.setUserPrefByApi({pref:"enable_unread_view",value:n})}},{key:"onChangeShowSidebarQuickswitcherButton",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed show_sidebar_quickswitcher_button: "+n),this.props.setUserPrefByApi({pref:"show_sidebar_quickswitcher_button",value:n})}},{key:"onChangeSidebarTheme",value:function(e){var t=this.props,n=t.useGlobalNav,r=t.logger,a=e.target.value;r.action("Changed sidebarTheme: "+a);var i=Object(Cn.e)(a,null,{useGlobalNav:n});this.setState(function(){return{customTheme:yt()({},i)}}),this.props.setMultipleUserPrefsByApi({sidebar_theme:a,sidebar_theme_custom_values:JSON.stringify(i)})}},{key:"onClickOpenCustomThemes",value:function(){this.setState(function(){return{customThemesOpen:!0}})}},{key:"onChangeCustomThemePicker",value:function(e,t){var n=this.state.customTheme;n[e]="#"+t,this.setCustomTheme(n)}},{key:"onChangeCustomThemeValues",value:function(e){var t=this.props.useGlobalNav,n=Object(Cn.c)(t,e.replace(/ /g,"").split(","));n&&this.setCustomTheme(n)}},{key:"onClickCopyCustomTheme",value:function(){var e=this.state.customTheme,t=this.props.useGlobalNav,n=Object(Cn.d)(e,t);Object(fn.b)(n)}},{key:"setCustomTheme",value:function(e){this.setState(function(){return{customTheme:e}}),this.setCustomThemeByAPI(e)}},{key:"setCustomThemeByAPI",value:function(e){var t=this.props.logger,n=JSON.stringify(e);t.action("Changed customTheme: "+n),this.props.setMultipleUserPrefsByApi({sidebar_theme:"custom_theme",sidebar_theme_custom_values:n})}},{key:"renderSidebarBehavior",value:function(){var e=this.props.sidebarBehavior,t=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Everything"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("All of your conversations."))),n=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Unreads and starred conversations"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("Your unread conversations and conversations you've starred."))),r=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Unreads only"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("Only your unread conversations.")));return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50"},Nn.t("Appearance")),i.a.createElement("p",null,Nn.t("Choose what is visible in your sidebar.")),i.a.createElement(ft.a,null,i.a.createElement(de.a,{text:t,type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"sidebar_behavior_set",value:"",checked:""===e,onChange:this.onChangeSidebarBehavior})),i.a.createElement(de.a,{text:n,type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"sidebar_behavior_set",value:"hide_read_channels_unless_starred",checked:"hide_read_channels_unless_starred"===e,onChange:this.onChangeSidebarBehavior})),i.a.createElement(de.a,{text:r,type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"sidebar_behavior_set",value:"hide_read_channels",checked:"hide_read_channels"===e,onChange:this.onChangeSidebarBehavior}))))}},{key:"renderChannelSort",value:function(){var e=this.props.channelSort,t=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Alphabetical"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("Sort conversations alphabetically (default)"))),n=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Priority"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("Sort conversations scientifically (based on how you use Slack)")));return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50"},Nn.t("Sorting and grouping")),i.a.createElement("p",null,Nn.t("Choose how channels in your sidebar are sorted.")),i.a.createElement(ft.a,null,i.a.createElement(de.a,{text:t,type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"channel_sort_set",value:"default",checked:"default"===e,onChange:this.onChangeChannelSort})),i.a.createElement(de.a,{text:n,type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"channel_sort_set",value:"priority",checked:"priority"===e,onChange:this.onChangeChannelSort}))))}},{key:"renderChannelGroupings",value:function(){var e=this.props,t=e.featureChannelIsRemoveCreateSharedChannel,n=e.separatePrivateChannels,r=e.separateSharedChannels,o=e.sharedChannelsEnabled,s=e.enterpriseTeam,c=e.separateOrgChannels,l=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Nn.t("List organization channels separately")},i.a.createElement(Pe.a,{onChange:this.onChangeSeparateOrgChannels,name:"ent_org_wide_channels_sidebar",checked:c})),u=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Nn.t("List shared channels separately")},i.a.createElement(Pe.a,{onChange:this.onChangeSeparateSharedChannels,name:"separate_shared_channels",checked:r})),d=!t&&o;return i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Nn.t("List private channels separately")},i.a.createElement(Pe.a,{onChange:this.onChangeSeparatePrivateChannels,name:"separate_private_channels",checked:n})),d?u:null,s?l:null)}},{key:"renderAdditionalOptions",value:function(){var e=this.props,t=e.enableUnreadView,n=e.showSidebarQuickswitcherButton,r=e.historyNavigationEnabled,o=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Show All Unreads"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("This collects all the messages you've missed in one handy place."))),s=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:o},i.a.createElement(Pe.a,{onChange:this.onChangeEnableAllUnreadView,name:"enable_unread_view",checked:t})),c=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(se.p)()?Nn.t("Cmd"):Nn.t("Ctrl")),l=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"K"),u=i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},i.a.createElement("strong",null,Nn.t("Show the Quick Switcher"))),i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("This lets you jump to conversations in a snap.")),i.a.createElement("p",{className:"margin_bottom_0"},Nn.rt("(You can also use {modKey}{kKey})",{modKey:c,kKey:l}))),d=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:u},i.a.createElement(Pe.a,{onChange:this.onChangeShowSidebarQuickswitcherButton,name:"show_sidebar_quickswitcher_button",checked:n}));return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50 margin_top_200"},Nn.t("Additional Options")),s,!r&&d)}},{key:"renderThemeOption",value:function(e){var t=this.props.sidebarTheme,n=i.a.createElement(a.Fragment,null,e.label(),i.a.createElement("br",null),i.a.createElement("img",{alt:Nn.t("Switch to the {themeName} theme",{themeName:e.label()}),src:e.thumb,className:"p-prefs_modal__theme_thumb"}));return i.a.createElement(de.a,{text:n,type:"inline",cursor:"pointer",key:e.name,className:"p-prefs_modal__theme_label"},i.a.createElement(mt.a,{name:"sidebar_theme",value:e.name,checked:t===e.name,onChange:this.onChangeSidebarTheme}))}},{key:"renderThemeSection",value:function(){var e=this,t=this.props,n=t.teamName,r=t.useGlobalNav,o=r&&Pn.map(function(t){return e.renderThemeOption(t)}),s=Mn.map(function(t){return e.renderThemeOption(t)}),c=An.map(function(t){return e.renderThemeOption(t)});return i.a.createElement(a.Fragment,null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},Nn.t("Theme")),i.a.createElement("p",null,Nn.rt("Customize the look of the <strong>{teamName}</strong> workspace. Only you will see this.",{teamName:n})),i.a.createElement(ft.a,null,r?i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_100"},Nn.t("Fresh New Themes")),o,i.a.createElement("h3",{className:"margin_top_100 margin_bottom_100"},Nn.t("Classic Themes"))):null,s,i.a.createElement("h3",{className:"margin_top_100 margin_bottom_100"},Nn.t("Accessible Themes")),c))}},{key:"renderCustomThemePickers",value:function(){var e=this,t=this.props,n=t.useGlobalNav,r=t.sidebarTheme,a=this.state.customTheme,o=Object(Cn.e)(r,yt()({},a),{useGlobalNav:n});return n&&(o=Object(wn.a)(o)),Dn.map(function(t){if(!n&&Cn.a.includes(t.id))return null;if(n&&Cn.b.includes(t.id))return null;var r=o[t.id]?o[t.id].replace(/#/,""):"FFFFFF";return i.a.createElement("div",{className:"p-prefs_modal__custom_theme_picker",key:t.id},i.a.createElement("span",{className:"bold"},t.label()),i.a.createElement("br",null),i.a.createElement(Rn.a,{value:r,onChange:function(n){return e.onChangeCustomThemePicker(t.id,n)}}))})}},{key:"renderCustomThemeSection",value:function(){var e=this.props,t=e.sidebarTheme,n=e.useGlobalNav,r=this.state,o=r.customThemesOpen,s=r.customTheme,c=Object(Cn.d)(s,n);return o||"custom_theme"===t?i.a.createElement("div",{className:"margin_bottom_400"},i.a.createElement("h3",{className:"margin_bottom_100"},Nn.t("Custom Theme")),this.renderCustomThemePickers(),i.a.createElement(de.a,{text:Nn.t("Copy and paste these values to share your custom theme with others"),htmlFor:"custom_theme_input",cursor:"pointer",className:"clear_left"},i.a.createElement(gn.b,{name:"custom_theme_input",id:"custom_theme_input",className:"p-prefs_modal__custom_theme_input",value:c,onChange:this.onChangeCustomThemeValues}),i.a.createElement(gt.d,{type:"outline",onClick:this.onClickCopyCustomTheme},Nn.t("Copy")))):i.a.createElement(a.Fragment,null,i.a.createElement("p",{className:"margin_bottom_0"},Nn.t("Feeling adventurous?")),i.a.createElement("p",null,i.a.createElement(_t.a,{onClick:this.onClickOpenCustomThemes,className:"bold"},Nn.t("Customize your theme and share it with others"))))}},{key:"render",value:function(){var e=this.props.paidTeam;return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},Nn.t("Sidebar Settings")),this.renderSidebarBehavior(),e?this.renderChannelSort():null,this.renderChannelGroupings(),this.renderAdditionalOptions(),i.a.createElement("hr",{className:"margin_top_200 margin_bottom_200"}),this.renderThemeSection(),this.renderCustomThemeSection())}}]),t}(a.Component);qn.displayName="PrefsSectionSidebar",qn.defaultProps=Ln;var Fn={setUserPrefByApi:function(){return z.f.apply(void 0,arguments)},setMultipleUserPrefsByApi:function(){return z.e.apply(void 0,arguments)}},Bn=Object(g.b)(function(e){var t=Object(T.d)(e),n=Object(wn.b)(e),r=Object(K.g)(e,"sidebar_theme");"default"===r&&(r="default_theme");var a=Object(K.g)(e,"sidebar_theme_custom_values"),i=Object(Sn.a)(a);return""===a&&(i=Object(Cn.e)(r,null,{useGlobalNav:n})),{featureChannelIsRemoveCreateSharedChannel:Object(E.j)(e,"feature_channel_is_remove_create_shared_channel"),sidebarBehavior:Object(K.g)(e,"sidebar_behavior"),channelSort:Object(K.g)(e,"channel_sort"),separatePrivateChannels:Object(K.g)(e,"separate_private_channels"),separateSharedChannels:Object(K.g)(e,"separate_shared_channels"),sharedChannelsEnabled:Object(R.C)(e,t),separateOrgChannels:Object(K.g)(e,"ent_org_wide_channels_sidebar"),enableUnreadView:Object(K.g)(e,"enable_unread_view"),showSidebarQuickswitcherButton:Object(K.g)(e,"show_sidebar_quickswitcher_button"),sidebarTheme:r,customTheme:i,useGlobalNav:n,teamName:Object(R.e)(t),paidTeam:Object(R.B)(t),enterpriseTeam:Object(R.q)(t),logger:Object(k.a)({state:e,label:"PREFS"}),historyNavigationEnabled:Object(Tn.a)(e)}},Fn)(qn),Un=function(e){return Object(K.g)(e,"mark_msgs_read_immediately")&&Object(K.g)(e,"start_scroll_at_oldest")?"immediate_scroll":Object(K.g)(e,"mark_msgs_read_immediately")?"immediate":"default"},Hn=new j.b("prefs"),Kn=(o.b.bool.isRequired,o.b.bool.isRequired,o.b.string.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.object.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeReadStateTracking","onChangeConfirmClearAllUnreads"]),n}return f()(t,e),b()(t,[{key:"onChangeReadStateTracking",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed read_state_tracking: "+n),this.props.setMultipleUserPrefsByApi({mark_msgs_read_immediately:"immediate_scroll"===n||"immediate"===n,start_scroll_at_oldest:"immediate_scroll"===n})}},{key:"onChangeConfirmClearAllUnreads",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed confirm_clear_all_unreads: "+n),this.props.setUserPrefByApi({pref:"confirm_clear_all_unreads",value:n})}},{key:"renderConfirmClearAllUnreadsPref",value:function(){var e=this.props,t=e.confirmClearAllUnreads;return e.featureConfirmClearAllUnreadsPref?i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50"},Hn.t("When I mark everything as read:")),i.a.createElement(de.a,{className:"margin_bottom_100",type:"inline",cursor:"pointer",text:Hn.t("Prompt to confirm")},i.a.createElement(Pe.a,{name:"confirm_clear_all_unreads",checked:t,onChange:this.onChangeConfirmClearAllUnreads}))):null}},{key:"render",value:function(){var e=this.props.readStateTrackingPref,t=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Hn.t("Esc")),n=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Hn.t("Shift")),r=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(se.p)()?Hn.t("Option",{fallbackHash:"e31d972229de381b461860014dd710856361917a",fallbackHashNs:"keys"}):Hn.t("Alt",{fallbackHash:"e30eff925100b7c3e119ed678e39009e962455b0",fallbackHashNs:"keys"}));return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},Hn.t("Mark as Read")),i.a.createElement("p",null,Hn.t("Slack marks a channel read as soon as you view it. You can change this if you\u2019d like.")),i.a.createElement("h3",{className:"margin_bottom_50"},Hn.t("When I view a channel:")),i.a.createElement(ft.a,{className:"margin_bottom_100"},i.a.createElement(de.a,{text:Hn.t("Start me where I left off, and mark the channel read"),type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"read_state_tracking",value:"immediate_scroll",checked:"immediate_scroll"===e,onChange:this.onChangeReadStateTracking})),i.a.createElement(de.a,{text:Hn.t("Start me at the newest message, and mark the channel read"),type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"read_state_tracking",value:"immediate",checked:"immediate"===e,onChange:this.onChangeReadStateTracking})),i.a.createElement(de.a,{text:Hn.t("Start me at the newest message, but leave unseen messages unread"),type:"inline",cursor:"pointer"},i.a.createElement(mt.a,{name:"read_state_tracking",value:"default",checked:"default"===e,onChange:this.onChangeReadStateTracking}))),this.renderConfirmClearAllUnreadsPref(),i.a.createElement("h3",{className:"margin_bottom_50"},Hn.t("Shortcuts")),i.a.createElement("p",{className:"margin_bottom_50"},i.a.createElement(dt.b,{text:":information_desk_person::skin-tone-2:",className:"margin_right_50"}),Hn.rt("<strong>Mark a channel as read</strong> by hitting the {escKey} key.",{escKey:t})),i.a.createElement("p",{className:"margin_bottom_50"},i.a.createElement(dt.b,{text:":ok_woman::skin-tone-4:",className:"margin_right_50"}),Hn.rt("<strong>Mark everything as read</strong> by pressing {shiftKey}{escKey}.",{shiftKey:n,escKey:t})),i.a.createElement("p",{className:"margin_bottom_50"},i.a.createElement(dt.b,{text:":raising_hand::skin-tone-6:",className:"margin_right_50 float_left margin_bottom_100"}),Hn.rt("<strong>Mark a message unread</strong> by selecting \u201cMark unread\u201d from the message's menu. Or simply hold down the {modifierKey} key and click on it.",{modifierKey:r})))}}]),t}(a.Component));Kn.displayName="PrefsSectionMarkAsRead";var Gn={setUserPrefByApi:z.f,setMultipleUserPrefsByApi:z.e},Vn=Object(g.b)(function(e){return{featureConfirmClearAllUnreadsPref:Object(E.j)(e,"feature_confirm_clear_all_unreads_pref"),readStateTrackingPref:Un(e),confirmClearAllUnreads:Object(K.g)(e,"confirm_clear_all_unreads"),logger:Object(k.a)({state:e,label:"PREFS"})}},Gn)(Kn),zn=n("HvGc"),Yn=n("KDee"),Wn=n("RMmo"),Qn=new j.b("prefs"),Xn=(o.b.bool.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.func.isRequired,o.b.object.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeZoom","onChangeA11yAnimations","onClickKeyboardShortcutsLink","onKeyPressCmdPlus","onKeyPressCmdMinus"]),n.state={currentZoomLevel:Object(oe.Q)()},n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){oe.X&&(this.keyCommands=new Wn.a,this.keyCommands.bindAll([{keys:["mod+="],handler:this.onKeyPressCmdPlus},{keys:["mod+-"],handler:this.onKeyPressCmdMinus}]))}},{key:"componentWillUnmount",value:function(){oe.X&&this.keyCommands.reset()}},{key:"onKeyPressCmdPlus",value:function(){var e=this.state.currentZoomLevel;e<3&&this.setState(function(){return{currentZoomLevel:e+1}})}},{key:"onKeyPressCmdMinus",value:function(){var e=this.state.currentZoomLevel;e>-3&&this.setState(function(){return{currentZoomLevel:e-1}})}},{key:"onChangeZoom",value:function(e){var t=this.props.logger,n=e.target.value;t.action("Changed zoomLevel: "+n),Object(oe.yb)(n),this.setState(function(){return{currentZoomLevel:n}})}},{key:"onChangeA11yAnimations",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed a11y_animations: "+n),this.props.setUserPrefByApi({pref:"a11y_animations",value:n})}},{key:"onClickKeyboardShortcutsLink",value:function(e){e.preventDefault(),this.props.closeModal(),Object(ne.a)()?this.props.showKeyboardShortcuts():Object(Yn.c)("shortcuts")}},{key:"getZoomOptions",value:function(){return[{value:-3,label:function(){return Qn.t("70%")}},{value:-2,label:function(){return Qn.t("80%")}},{value:-1,label:function(){return Qn.t("90%")}},{value:0,label:function(){return Qn.rt("<strong>100%</strong> Default")}},{value:1,label:function(){return Qn.t("110%")}},{value:2,label:function(){return Qn.t("125%")}},{value:3,label:function(){return Qn.t("150%")}}]}},{key:"renderZoomSection",value:function(){var e=this;if(!oe.X)return null;var t=Object(se.p)()?Qn.t("Cmd"):Qn.t("Ctrl"),n=parseInt(this.state.currentZoomLevel,10),r=this.getZoomOptions().map(function(t){return i.a.createElement(de.a,{text:t.label(),type:"inline",cursor:"pointer",key:"zoom_option_"+t.value},i.a.createElement(mt.a,{name:"zoom_set",value:t.value,checked:n===t.value,onChange:e.onChangeZoom}))});return i.a.createElement(a.Fragment,null,i.a.createElement("h3",{className:"margin_bottom_50"},Qn.t("Zoom")),i.a.createElement(ft.a,null,r),i.a.createElement("p",{className:"sk_dark_gray margin_bottom_200"},Qn.t("You can also change the zoom level by pressing {cmdKey} +/-",{cmdKey:t})))}},{key:"render",value:function(){var e=this.props.a11yAnimations,t=i.a.createElement(_t.a,{onClick:this.onClickKeyboardShortcutsLink},Qn.t("handy keyboard shortcuts"));return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},Qn.t("Accessibility")),this.renderZoomSection(),i.a.createElement("h3",{className:"margin_bottom_50"},Qn.t("Animation")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:Qn.t("Allow animated images and emoji"),className:"margin_bottom_200"},i.a.createElement(Pe.a,{onChange:this.onChangeA11yAnimations,name:"a11y_animations",checked:e})),i.a.createElement("h3",{className:"margin_bottom_50"},Qn.t("Keyboard")),i.a.createElement("p",null,Qn.rt("You can improve the way you use Slack by learning our {keyboardShortcutsLink}.",{keyboardShortcutsLink:t})))}}]),t}(a.Component));Xn.displayName="PrefsSectionAccessibility";var Zn={setUserPrefByApi:z.f,closeModal:c.a,showKeyboardShortcuts:function(){return zn.h.apply(void 0,arguments)}},Jn=Object(g.b)(function(e){return{a11yAnimations:Object(K.g)(e,"a11y_animations"),logger:Object(k.a)({state:e,label:"PREFS"})}},Zn)(Xn),$n=new j.b("prefs"),er={PROD:"prod",BETA:"beta",PILOT:"pilot",ALPHA:"alpha",ETA:"eta",NIGHTLY:"nightly",SONIC_PILOT:"sonic-pilot"},tr=[er.PROD,er.BETA],nr=[er.PROD,er.BETA,er.ALPHA,er.NIGHTLY,er.ETA];function rr(e){switch(e){case er.PROD:return $n.t("Production");case er.BETA:return $n.t("Beta");case er.PILOT:return $n.t("Pilot");case er.ALPHA:return $n.t("Alpha");case er.ETA:return $n.t("Electron Prerelease");case er.NIGHTLY:return $n.t("Nightly");case er.SONIC_PILOT:return $n.t("Sonic Pilot");default:return $n.t("Unknown")}}function ar(){return oe.X&&!Object(oe.V)()&&!Object(se.o)()}var ir=n("1zbP"),or=n("g9w/"),sr=n("20gP"),cr=n("Zhly"),lr=n("+6YQ"),ur=new j.b("prefs"),dr="automatic",br=!1,pr=!1,hr=(o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.array.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.object.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeHideOnStartup","onChangeAllowCallsToSetCurrentStatus","onChangeArrowHistory","onChangeConfirmUserMarkedAway","onChangeEnterIsSpecial","onChangeFKeySearch","onChangeInProdSurveysEnabled","onChangeKKeyOmnibox","onChangeLaunchOnStartup","onChangeMsgInputSendBtn","onChangeOverloadedMessageEnabled","onChangePageKeysHandled","onChangeReleaseChannel","onChangeRunFromTray","onChangeSearchExcludeChannels","onChangeUseHwAcceleration","onChangeWebappSpellCheck","onChangeWebappSpellCheckLanguage","onClickAppDownloadPathBtn"]),n.state={appDownloadPath:Object(oe.S)("PrefSSBFileDownloadPath")&&Object(oe.J)("PrefSSBFileDownloadPath")||null,launchOnStartup:Object(oe.J)("launchOnStartup"),runFromTray:Object(oe.J)("runFromTray"),useHwAcceleration:Object(oe.S)("useHwAcceleration")&&Object(oe.J)("useHwAcceleration")||br,spellcheckerLanguage:Object(oe.S)("spellcheckerLanguage")&&Object(oe.J)("spellcheckerLanguage")||dr,hideOnStartup:Object(oe.S)("hideOnStartup")&&Object(oe.J)("hideOnStartup")||pr},n}return f()(t,e),b()(t,[{key:"onChangeWebappSpellCheck",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed webapp_spellcheck: "+n),this.props.setUserPrefByApi({pref:"webapp_spellcheck",value:n})}},{key:"onChangeWebappSpellCheckLanguage",value:function(e){var t=this.props.logger,n=e.value===dr?null:e.value;t.action("Changed spellcheckerLanguage: "+n),Object(oe.wb)({name:"spellcheckerLanguage",value:n}),this.setState(function(t){return yt()({},t,{spellcheckerLanguage:e.value})})}},{key:"onChangeEnterIsSpecial",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed enter_is_special_in_tbt: "+n),this.props.setUserPrefByApi({pref:"enter_is_special_in_tbt",value:n})}},{key:"onChangeArrowHistory",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed arrow_history: "+n),this.props.setUserPrefByApi({pref:"arrow_history",value:n})}},{key:"onChangeMsgInputSendBtn",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed msg_input_send_btn: "+n),this.props.setUserPrefByApi({pref:"msg_input_send_btn",value:n})}},{key:"onChangePageKeysHandled",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed pagekeys_handled: "+n),this.props.setUserPrefByApi({pref:"pagekeys_handled",value:n})}},{key:"onChangeFKeySearch",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed f_key_search: "+n),this.props.setUserPrefByApi({pref:"f_key_search",value:n})}},{key:"onChangeKKeyOmnibox",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed k_key_omnibox: "+n),this.props.setUserPrefByApi({pref:"k_key_omnibox",value:n})}},{key:"onChangeReleaseChannel",value:function(e){this.props.logger.action("Changed desktop_release_channels: "+e.value),Object(oe.wb)({name:"releaseChannelOverride",value:e.value})}},{key:"onChangeSearchExcludeChannels",value:function(e){var t=this.props.logger,n=Object(r.a)(e,function(e){return e.value}).join(",");t.action("Changed search_exclude_channels: "+n),this.props.setUserPrefByApi({pref:"search_exclude_channels",value:n})}},{key:"onClickAppDownloadPathBtn",value:function(){var e=this,t=this.props.logger,n=Object(oe.J)("PrefSSBFileDownloadPath")||"",r={type:"openDirectory",title:ur.t("Select a download location"),defaultPath:n};Object(oe.Db)(r,function(n){if(n){var r=n[0];t.action("Changed PrefSSBFileDownloadPath"),Object(oe.wb)({name:"PrefSSBFileDownloadPath",value:r}),e.setState(function(e){return yt()({},e,{appDownloadPath:r})})}})}},{key:"onChangeConfirmUserMarkedAway",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed confirm_user_marked_away: "+n),this.props.setUserPrefByApi({pref:"confirm_user_marked_away",value:n})}},{key:"onChangeOverloadedMessageEnabled",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed overloaded_message_enabled: "+n),this.props.setUserPrefByApi({pref:"overloaded_message_enabled",value:n})}},{key:"onChangeInProdSurveysEnabled",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed in_prod_surveys_enabled: "+n),this.props.setUserPrefByApi({pref:"in_prod_surveys_enabled",value:n})}},{key:"onChangeAllowCallsToSetCurrentStatus",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed allow_calls_to_set_current_status: "+n),this.props.setUserPrefByApi({pref:"allow_calls_to_set_current_status",value:n})}},{key:"onChangeUseHwAcceleration",value:function(e){var t=this.props.logger,n=!e.target.checked;t.action("Changed useHwAcceleration: "+n),Object(oe.wb)({name:"useHwAcceleration",value:n}),this.setState(function(e){return yt()({},e,{useHwAcceleration:n})})}},{key:"onChangeLaunchOnStartup",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed launchOnStartup: "+n),Object(oe.wb)({name:"launchOnStartup",value:n}),this.setState(function(e){return yt()({},e,{launchOnStartup:n})})}},{key:"onChangeHideOnStartup",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed hideOnStartup: "+n),Object(oe.wb)({name:"hideOnStartup",value:n}),this.setState(function(e){return yt()({},e,{hideOnStartup:n})})}},{key:"onChangeRunFromTray",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed runFromTray: "+n),Object(oe.wb)({name:"runFromTray",value:n}),this.setState(function(e){return yt()({},e,{runFromTray:n})})}},{key:"renderSpellCheckLanguages",value:function(){var e=this.props.webappSpellcheck,t=this.state.spellcheckerLanguage;if(!Object(oe.f)())return null;var n=Object(oe.N)(),a=Object(r.a)(n,function(e){return{label:e.label,value:e.key}});a.unshift({label:ur.t("Automatic by language"),value:dr});var o=Object(U.a)(a,["value",t]);return i.a.createElement("div",{className:"margin_bottom_100"},i.a.createElement(or.a,{selectId:"spellchecker_languages",selectedOption:o,onOptionSelected:this.onChangeWebappSpellCheckLanguage,options:a,isDisabled:!e}))}},{key:"renderKeyboardShortcutPrefs",value:function(){var e=this.props,t=e.fKeySearch,n=e.kKeyOmnibox,r=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(se.p)()?ur.t("Cmd"):ur.t("Ctrl")),o=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"F"),s=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"K"),c=i.a.createElement(a.Fragment,null,ur.rt("<strong>{modKey}{fKey} starts a Slack search</strong>",{modKey:r,fKey:o}),i.a.createElement("br",null),i.a.createElement("span",{className:"sk_light_gray"},ur.t("Overrides normal browser search behavior"))),l=i.a.createElement(a.Fragment,null,ur.rt("<strong>{modKey}{kKey} starts the Quick Switcher</strong>",{modKey:r,kKey:s}),i.a.createElement("br",null),i.a.createElement("span",{className:"sk_light_gray"},ur.t("Overrides normal behavior in some browsers")));return i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:c},i.a.createElement(Pe.a,{onChange:this.onChangeFKeySearch,checked:t})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:l},i.a.createElement(Pe.a,{onChange:this.onChangeKKeyOmnibox,checked:n,"data-qa":"quickswitcher_checkbox"})))}},{key:"renderReleaseChannelPref",value:function(){var e=Object(oe.K)(),t=(this.props.featureTinyspeck?nr:tr).map(function(e){return{value:e,label:rr(e)}}),n=Object(U.a)(t,["value",e]);return i.a.createElement(a.Fragment,null,i.a.createElement("h2",{className:"margin_bottom_100"},ur.t("Release Channel")),i.a.createElement("div",{className:"margin_bottom_50"},i.a.createElement(or.a,{selectId:"desktop_release_channel",selectedOption:n,onOptionSelected:this.onChangeReleaseChannel,options:t,isDisabled:!(ar()&&["MSI","SlackSonic","SlackPilot"].every(function(e){return!navigator.userAgent.includes(e)}))})),i.a.createElement("span",{className:"sk_light_gray"},ur.t("Note: this setting is for this computer only. You may need to restart Slack to receive app updates.")),i.a.createElement("hr",{className:"margin_bottom_150 margin_top_150"}))}},{key:"renderSearchPrefs",value:function(){var e=this.props.excludedChannels;return i.a.createElement(a.Fragment,null,i.a.createElement("h2",{className:"margin_bottom_100"},ur.t("Search Options")),oe.X?null:this.renderKeyboardShortcutPrefs(),i.a.createElement(de.a,{text:ur.t("Exclude these channels from search results:"),cursor:"pointer",className:"margin_top_50"},i.a.createElement(sr.b,{selectedOptions:e,renderOption:function(e){return i.a.createElement(cr.a,{channelId:e.value,displayFormerNames:!0})},width:"100%",onSelectedItemsChange:this.onChangeSearchExcludeChannels,selectId:"search_exclude_channels_picker",placeholderText:ur.t("Type a channel name ..."),searcherOptions:{entities:{channels:{includePrivate:!1},members:!1,userGroups:!1},limit:24,sort:{frecency:!1,preferChannelsUserBelongsTo:!1}}})))}},{key:"renderDownloadLocationPref",value:function(){var e=this.state.appDownloadPath;return i.a.createElement(a.Fragment,null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},ur.t("Download Location")),i.a.createElement(gn.b,{name:"app_download_path",id:"app_download_path_input",type:"text",value:e,isDisabled:!0,className:"p-prefs_modal__downloads_input"}),i.a.createElement(lr.a,{onClick:this.onClickAppDownloadPathBtn,type:"outline",className:"p-prefs_modal__downloads_button"},ur.t("Change ...")),i.a.createElement("p",{className:"sk_light_gray"},ur.t("Note: this setting is for this computer only and affects all workspaces you are signed in to.")),i.a.createElement("hr",{className:"margin_top_150 margin_bottom_150"}))}},{key:"renderDesktopPrefs",value:function(){var e=this.state,t=e.launchOnStartup,n=e.hideOnStartup,r=e.runFromTray,o=e.useHwAcceleration,s=null,c=null,l=null,u=null;if(Object(oe.S)("useHwAcceleration")){var d=i.a.createElement(a.Fragment,null,i.a.createElement("strong",null,ur.t("Disable hardware acceleration")),i.a.createElement("br",null),i.a.createElement("span",{className:"sk_light_gray"},ur.t("Restart Slack for this preference to take effect.")));s=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:d},i.a.createElement(Pe.a,{onChange:this.onChangeUseHwAcceleration,checked:!o}))}return(Object(se.B)()||Object(se.o)())&&(c=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.t("Launch app on login")},i.a.createElement(Pe.a,{onChange:this.onChangeLaunchOnStartup,checked:t})),u=this.props.featureHideOnStartup?i.a.createElement("div",{className:"margin_left_150"},i.a.createElement(de.a,{type:"inline",cursor:"pointer",isDisabled:!t,text:ur.t("Hide on startup")},i.a.createElement(Pe.a,{onChange:this.onChangeHideOnStartup,checked:n&&t,disabled:!t}))):null,l=i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.t("Leave app running in notification area when the window is closed")},i.a.createElement(Pe.a,{onChange:this.onChangeRunFromTray,checked:r}))),i.a.createElement(a.Fragment,null,s,c,u,l)}},{key:"render",value:function(){var e=this.props,t=e.featureSonicInputs,n=e.webappSpellcheck,r=e.enterIsSpecialInTbt,o=e.arrowHistory,s=e.msgInputSendBtn,c=e.pagekeysHandled,l=e.confirmUserMarkedAway,u=e.overloadedMessageEnabled,d=e.inProdSurveysEnabled,b=e.allowCallsToSetCurrentStatus,p=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("Shift")),h=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(se.p)()?ur.t("Cmd"):ur.t("Ctrl")),m=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("Enter")),f=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("Page Up")),v=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("Page Down")),g=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"\u2191"),_=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"\u2193"),O=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("Home")),y=i.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},ur.t("End")),j=i.a.createElement(a.Fragment,null,ur.rt("<strong>When typing code with ```, {enterKey} should not send the message.</strong>",{enterKey:m}),i.a.createElement("br",null),ur.rt('<span className="sk_light_gray">With this checked use {shiftKey}{enterKey} to send.</span>',{shiftKey:p,enterKey:m})),k=i.a.createElement(a.Fragment,null,ur.rt("<strong>Use {upKey} and {downKey} to cycle through your typed history.</strong>",{upKey:g,downKey:_}),i.a.createElement("br",null),ur.rt('<span className="sk_light_gray">With this checked use {modKey}{upKey} to edit your last message.</span>',{modKey:h,upKey:g})),E=i.a.createElement(a.Fragment,null,ur.rt("<strong>Show send button</strong>"),i.a.createElement("br",null),ur.rt('<span className="sk_light_gray">Press {enterKey} to add a new line.</span>',{enterKey:m})),C=i.a.createElement(a.Fragment,null,i.a.createElement("strong",null,ur.t("Send me occasional surveys via Slackbot")),i.a.createElement("br",null),i.a.createElement("span",{className:"sk_light_gray"},ur.t("We\u2019re always working to make Slack better, and we\u2019d love your thoughts."))),I=i.a.createElement(a.Fragment,null,ur.rt("<strong>Set my status to \u201c{callEmoji} On a call\u201d when I join a Slack call</strong>",{callEmoji:i.a.createElement(dt.b,{text:":telephone_receiver:"})}),i.a.createElement("br",null),ur.rt('<span className="sk_light_gray">If you already have a status set, Slack won\u2019t change it.</span>'));return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},ur.t("Input Options")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.t("Enable spellcheck on your messages")},i.a.createElement(Pe.a,{onChange:this.onChangeWebappSpellCheck,checked:n})),oe.X?this.renderSpellCheckLanguages():null,i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:j},i.a.createElement(Pe.a,{onChange:this.onChangeEnterIsSpecial,checked:r})),t?null:i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:k},i.a.createElement(Pe.a,{onChange:this.onChangeArrowHistory,checked:o})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:E,className:"margin_bottom_150",id:"msg_input_send_btn_label"},i.a.createElement(Pe.a,{onChange:this.onChangeMsgInputSendBtn,checked:s})),i.a.createElement("hr",{className:"margin_bottom_150 margin_top_150"}),ar()?this.renderReleaseChannelPref():null,this.renderSearchPrefs(),i.a.createElement("hr",{className:"margin_bottom_150 margin_top_150"}),oe.X&&Object(oe.S)("PrefSSBFileDownloadPath")?this.renderDownloadLocationPref():null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},ur.t("Other Options")),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.rt("<strong>{pageUpKey}, {pageDownKey}, {homeKey}, and {endKey} keys always scroll messages</strong>",{pageUpKey:f,pageDownKey:v,homeKey:O,endKey:y})},i.a.createElement(Pe.a,{onChange:this.onChangePageKeysHandled,checked:c})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.t("Ask if I want to toggle my away status when I log in after having set myself away")},i.a.createElement(Pe.a,{onChange:this.onChangeConfirmUserMarkedAway,checked:l})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:ur.t("Send me occasional channel suggestions via Slackbot")},i.a.createElement(Pe.a,{onChange:this.onChangeOverloadedMessageEnabled,checked:u})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:C},i.a.createElement(Pe.a,{onChange:this.onChangeInProdSurveysEnabled,checked:d})),i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:I},i.a.createElement(Pe.a,{onChange:this.onChangeAllowCallsToSetCurrentStatus,checked:b})),oe.X?this.renderDesktopPrefs():null)}}]),t}(a.Component));hr.displayName="PrefsSectionAdvanced";var mr={setUserPrefByApi:z.f},fr=Object(g.b)(function(e){var t=Object(K.g)(e,"search_exclude_channels"),n=[];return t&&(n=t.split(",").map(function(t){return Object(Ct.d)(e,t)}).filter(function(e){return Object(ir.b)(e)}).map(function(t){return{label:Object(It.x)(e,t),value:t.id}})),{featureHideOnStartup:Object(E.j)(e,"feature_hide_on_startup"),featureSonicInputs:Object(E.j)(e,"feature_sonic_inputs"),featureTinyspeck:Object(E.j)(e,"feature_tinyspeck"),webappSpellcheck:Object(K.g)(e,"webapp_spellcheck"),arrowHistory:Object(K.g)(e,"arrow_history"),fKeySearch:Object(K.g)(e,"f_key_search"),kKeyOmnibox:Object(K.g)(e,"k_key_omnibox"),excludedChannels:n,enterIsSpecialInTbt:Object(K.g)(e,"enter_is_special_in_tbt"),msgInputSendBtn:Object(K.g)(e,"msg_input_send_btn"),pagekeysHandled:Object(K.g)(e,"pagekeys_handled"),confirmUserMarkedAway:Object(K.g)(e,"confirm_user_marked_away"),overloadedMessageEnabled:Object(K.g)(e,"overloaded_message_enabled"),inProdSurveysEnabled:Object(K.g)(e,"in_prod_surveys_enabled"),allowCallsToSetCurrentStatus:Object(K.g)(e,"allow_calls_to_set_current_status"),logger:Object(k.a)({state:e,label:"PREFS"})}},mr)(hr),vr=n("XzsM"),gr=new j.b("prefs"),_r=(o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,o.b.func.isRequired,o.b.object.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["onChangeFoldersEnabled","onChangeMemoryInstrument","onChangeBootSonic"]),n.state={bootSonic:Object(oe.F)("bootSonic")||"unset"},n}return f()(t,e),b()(t,[{key:"onChangeFoldersEnabled",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed folders_enabled: "+n),this.props.setUserPrefByApi({pref:"folders_enabled",value:n})}},{key:"onChangeMemoryInstrument",value:function(e){var t=this.props.logger,n=e.target.checked;t.action("Changed show_memory_instrument: "+n),this.props.setUserPrefByApi({pref:"show_memory_instrument",value:n})}},{key:"onChangeBootSonic",value:function(e){var t=this.props.logger,n=e.value;t.action("Changed bootSonic: "+n),this.setState(function(e){return yt()({},e,{bootSonic:n})}),Object(oe.vb)({name:"bootSonic",value:n})}},{key:"renderFoldersEnabledPref",value:function(){var e=this.props,t=e.foldersExperimentOn,n=e.foldersEnabled;return t?i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:gr.t("Make custom collections of channels in your sidebar")},i.a.createElement(Pe.a,{onChange:this.onChangeFoldersEnabled,checked:n})):null}},{key:"renderMemoryInstrumentPref",value:function(){var e=this.props,t=e.featureElectronMemoryLogging,n=e.showMemoryInstrument;return t&&oe.X&&!Object(ne.a)()?i.a.createElement(de.a,{type:"inline",cursor:"pointer",text:gr.t("Output memory usage in lower right corner")},i.a.createElement(Pe.a,{onChange:this.onChangeMemoryInstrument,checked:n})):null}},{key:"renderBootSonicPref",value:function(){if(!Object(oe.d)())return null;var e=Object(se.f)();if(4!==e.desktopAppVersion.major||0!==e.desktopAppVersion.minor)return null;var t=this.state.bootSonic,n=[{label:"Sonic",value:"always"},{label:"Legacy",value:"never"},{label:"Default",value:"unset"}],r=Object(U.a)(n,["value",t])||Object(U.a)(n,["value","unset"]);return i.a.createElement(a.Fragment,null,i.a.createElement(de.a,{text:"Client Version",className:"margin_top_200 margin_bottom_50"},i.a.createElement(be.a,{selectId:"bootSonic",options:n,selectedOption:r,onOptionSelected:this.onChangeBootSonic,size:"large",width:"100%"})),i.a.createElement("p",{className:"sk_dark_gray margin_bottom_200"},gr.t("Restart Slack for this preference to take effect.")))}},{key:"render",value:function(){return i.a.createElement("section",null,i.a.createElement("h2",{className:"margin_bottom_100","data-qa":"prefs_section_heading"},gr.t("Labs")),i.a.createElement("p",null,gr.t("These prefs are internal to Slack Corp. They are not available to customers.")),this.renderFoldersEnabledPref(),this.renderMemoryInstrumentPref(),this.renderBootSonicPref())}}]),t}(a.Component));_r.displayName="PrefsSectionLabs";var Or={setUserPrefByApi:z.f},yr=Object(g.b)(function(e){return{foldersEnabled:Object(K.g)(e,"folders_enabled"),foldersExperimentOn:"enabled"===Object(vr.c)(e,"folders_sidebar"),showMemoryInstrument:Object(K.g)(e,"show_memory_instrument"),featureElectronMemoryLogging:Object(E.j)(e,"feature_electron_memory_logging"),logger:Object(k.a)({state:e,label:"PREFS"})}},Or)(_r),jr=n("D3dR"),kr=new j.b("prefs"),Er=(o.b.string.isRequired,o.b.func.isRequired,o.b.func.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onReset=n.onReset.bind(n),n.onGo=n.onGo.bind(n),n}return f()(t,e),b()(t,[{key:"onReset",value:function(){this.props.resetChannelNotificationOverrideAndCallApi({channelId:this.props.channelId})}},{key:"onGo",value:function(){this.props.changePrefsActiveSection({sectionId:"notifications"})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(jr.a,{channelId:this.props.channelId,openPrefsModal:this.onGo}),i.a.createElement("div",{className:"p-prefs_modal__channel_prefs_footer"},i.a.createElement(_t.a,{onClick:this.onReset},kr.t("Reset to your default notification settings")),i.a.createElement(lr.a,{type:"primary",onClick:this.onGo},kr.t("Done"))))}}]),t}(a.Component));Er.displayName="ChannelNotifications";var Cr=Object(g.b)(null,function(e){return{resetChannelNotificationOverrideAndCallApi:function(){return e(Y.a.apply(void 0,arguments))}}})(Er),Ir=n("Uj4I"),wr=(o.b.oneOf(Object(r.a)(Ir.a,"id")),o.b.func,o.b.string,{activeSection:null,setActiveSection:D.a,channelId:void 0}),Sr=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(y.a)(n,["focus","onFocus"]),n.content=i.a.createRef(),n}return f()(t,e),b()(t,[{key:"componentDidUpdate",value:function(e){this.activeElement&&e.activeSection!==this.props.activeSection&&(this.activeElement=null)}},{key:"componentWillUnmount",value:function(){this.activeElement=null}},{key:"onFocus",value:function(e){this.activeElement=e.target}},{key:"focus",value:function(){var e=this.activeElement;if(e)e.focus();else{var t=this.content.current;if(t){var n=Object(q.a)(t)[0];n&&n.focus()}}}},{key:"renderActiveSection",value:function(){var e=this.props,t=e.activeSection,n=e.channelId,r=e.setActiveSection;switch(t){case"notifications":return i.a.createElement($t,{changePrefsActiveSection:r});case"language_region":return i.a.createElement(cn,null);case"messages_media":return i.a.createElement(En,null);case"sidebar":return i.a.createElement(Bn,null);case"mark_as_read":return i.a.createElement(Vn,null);case"accessibility":return i.a.createElement(Jn,null);case"advanced":return i.a.createElement(fr,null);case"labs":return i.a.createElement(yr,null);case"channel":return i.a.createElement(Cr,{channelId:n,changePrefsActiveSection:r});default:return i.a.createElement($t,null)}}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.content,className:"p-prefs_modal__content_container",onFocus:this.onFocus},i.a.createElement(L.b,{key:this.props.activeSection,subtype:"prefs_modal",icon:"\ud83d\udc13"},this.renderActiveSection()))}}]),t}(a.PureComponent);Sr.displayName="PrefsContent",Sr.defaultProps=wr;var Tr=Sr,Rr=(n("P+5D"),Object(A.a)(x.b,"SidebarMenuSection",{order:0})),Nr=Object(A.a)(Tr,"PrefsContentSection",{order:1}),xr=new j.b("prefs"),Mr=(o.b.bool.isRequired,o.b.string.isRequired,o.b.string.isRequired,o.b.oneOf(Object(r.a)(Ir.a,"id")),o.b.string,o.b.func.isRequired,o.b.bool.isRequired,o.b.bool.isRequired,function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeSection:e.activeSection,activeSubsection:e.activeSubsection,channelId:null},n.savedScrollTop=0,n.bodyRef=null,Object(y.a)(n,["renderSidebarItems","setActiveSection","onBack","setBodyRef","setContentRef"]),n}return f()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.maybeHighlightSubsection()}},{key:"componentDidUpdate",value:function(e,t){this.maybeHighlightSubsection(),t.activeSection!==this.state.activeSection&&document.activeElement===document.body&&this.contentRef&&this.contentRef.focus()}},{key:"onBack",value:function(){this.setActiveSection({sectionId:"notifications"})}},{key:"setBodyRef",value:function(e){this.bodyRef=e}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"setActiveSection",value:function(e){var t=this,n=e.sectionId,r=e.subsectionId,a=e.channelId,i=this.state.activeSection;n&&n!==i&&("channel"===n?this.bodyRef&&(this.savedScrollTop=this.bodyRef.scrollTop):this.props.setLastActiveSection(n),this.setState(function(){return{activeSection:n,activeSubsection:r,channelId:a}},function(){"channel"===i&&"notifications"===n&&t.bodyRef&&t.savedScrollTop&&(t.bodyRef.scrollTop=t.savedScrollTop,t.savedScrollTop=0)}))}},{key:"maybeHighlightSubsection",value:function(){var e=this;if(this.state.activeSubsection){var t=this.state,n=t.activeSection,r=t.activeSubsection,a=this.props.teamId;requestAnimationFrame(function(){var t=e.bodyRef.querySelector("#"+r);t?(t.scrollIntoView({behavior:"smooth"}),t.classList.add("c-highlight"),e.setState(function(){return{activeSubsection:""}})):Object(k.a)({teamId:a}).warn("Unable to scroll to element #"+r+" in section "+n+". This is a programming error.")})}}},{key:"renderSidebarItems",value:function(){var e=this,t=this.props.featureTinyspeck;return Object(v.a)(Ir.a,function(e){return(!e.tsOnly||e.tsOnly&&t)&&"channel"!==e.id}).map(function(t){return i.a.createElement(x.a,{itemId:t.id,onClick:function(){return e.setActiveSection({sectionId:t.id})},key:t.id,"data-qa":"prefs_modal_"+t.id},t.name())})}},{key:"render",value:function(){var e=this.props,t=e.teamName,n=e.showOpenTransition,r=e.teamSidebarVisible,a=this.state,o=a.activeSection,s=a.channelId,c="channel"===o?xr.rt("Notification Preferences: {channelName}",{channelName:i.a.createElement(P.a,{channelId:s,inline:!0})}):xr.rt("Your preferences for {teamName}",{teamName:t});return i.a.createElement(M.a,{title:c,withHeader:!0,showGoButton:!1,showCancelButton:!1,showOpenTransition:n,modalClasses:O()("p-prefs_modal",{"p-prefs_modal--sidebar-open":"sidebar"===o&&!r,"p-prefs_modal--sidebar-open-multi-team":"sidebar"===o&&r}),contentLabel:"prefs-modal","data-qa":"prefs_modal",fullBleedModalBodyContent:!0,showBackButton:"channel"===o,onBack:this.onBack,setBodyRef:this.setBodyRef,setContentRef:this.setContentRef},i.a.createElement("div",{className:"p-prefs_modal__sidebar_overlay"}),"channel"===o?null:i.a.createElement("div",{className:"p-prefs_modal__sidebar_container"},i.a.createElement(Rr,{activeItemId:o},this.renderSidebarItems())),i.a.createElement(Nr,{activeSection:this.state.activeSection,setActiveSection:this.setActiveSection,channelId:s}))}}]),t}(a.Component));Mr.displayName="PrefsModal",Mr.defaultProps={activeSection:null,activeSubsection:null};var Pr={setLastActiveSection:function(){return S.a.apply(void 0,arguments)}},Ar=Object(g.b)(function(e,t){var n=Object(T.d)(e);return{featureTinyspeck:Object(E.j)(e,"feature_tinyspeck"),teamId:n.id,teamName:Object(R.e)(n),showOpenTransition:I(e),activeSection:t.activeSection||w(e),teamSidebarVisible:Object(N.b)(e)}},Pr)(Mr),Dr=Object(s.b)("Opens the prefs modal",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(Object(c.e)({element:i.a.createElement(Ar,n)}))});Dr.propTypes={activeSection:o.b.oneOf(Object(r.a)(Ir.a,"id")),activeSubsection:o.b.string};t.a=Dr},qPro:function(e,t,n){"use strict";var r=n("ZHrX");t.a=r.a},qYhC:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("6kok");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:!1,bold:!1,disableArchived:!1},n=t.filled,a=t.bold,i=t.disableArchived;return Object(r.V)(e)&&!i?"archive":Object(r.xb)(e)?n?"lock-medium":"lock-o":a?"hash-medium-bold":"hash-medium"}},"qa/k":function(e,t,n){},qafc:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("9rZX"),y=n.n(O),j=n("clTI"),k=n("aW/o"),E=n("7WZX"),C=n("pRVB"),I=n("Qrgz"),w=n("6kok"),S=n("+1yX"),T=n("DD2j"),R=n("od5y"),N=n("XLFM"),x=n("nNoG"),M=n("Smdl"),P=(n("s5T/"),new x.b("toast")),A=function(){return document.getElementById("toasts_mount_point")||document.body},D=(h.b.node,h.b.number,h.b.func,h.b.func,h.b.func,h.b.number,h.b.number,h.b.string,h.b.bool,h.b.bool,h.b.string,h.b.string,h.b.string,h.b.string,h.b.bool,h.b.bool,h.b.bool,h.b.func.isRequired,{children:null,fadeDelay:3e3,icon:null,iconClassName:null,offsetX:20,offsetY:20,onCloseClick:p.a,onClose:p.a,onCloseComplete:p.a,position:"bottom-right",shouldAutoFade:!0,showCloseButton:!0,toastClasses:"",closeButtonClasses:"",ariaAssertive:!1,isFlexpaneOpen:!1,isInputVisible:!1}),L=function(e){function t(){o()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isShowing:!0},e.hideToast=e.hideToast.bind(e),e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e.onCloseClick=e.onCloseClick.bind(e),e.onCloseComplete=e.onCloseComplete.bind(e),e}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.shouldAutoFade&&this.setFadeTimeout()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.fadeTimeout)}},{key:"onMouseEnter",value:function(){this.props.shouldAutoFade&&clearTimeout(this.fadeTimeout)}},{key:"onMouseLeave",value:function(){this.props.shouldAutoFade&&this.setFadeTimeout()}},{key:"onCloseClick",value:function(){this.props.onCloseClick(),this.hideToast()}},{key:"onCloseComplete",value:function(){this.props.dismissCurrentToast(),this.props.onCloseComplete()}},{key:"setFadeTimeout",value:function(){var e=this.props.fadeDelay;clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(this.hideToast,e)}},{key:"getStyle",value:function(){var e=this.props.position,t=this.props,n=t.offsetX,r=t.offsetY,i={position:null,right:null,bottom:null,top:null,left:null,outline:"none"};!Object(M.a)()||"top-left"!==e&&"top-right"!==e||(20===r&&(r=70),20===n&&(n=14),r+=Object(T.a)());var o=this.shouldOffsetToast()?80:r;switch(e){case"top-left":return{overlay:a()({},i),content:{top:r,left:n}};case"top-right":return{overlay:a()({},i),content:{top:r,right:n}};case"bottom-left":return{overlay:a()({},i),content:{bottom:r,left:n}};case"bottom-right":return{overlay:a()({},i),content:{bottom:o,right:n}};default:return{overlay:a()({},i),content:{bottom:r,right:n}}}}},{key:"shouldOffsetToast",value:function(){var e=this.props,t=e.position,n=e.offsetX,r=e.offsetY,a=e.isFlexpaneOpen,i=e.isInputVisible;return"bottom-right"===t&&(20===n&&20===r&&(!a&&!!i))}},{key:"hideToast",value:function(){this.props.onClose(),clearTimeout(this.fadeTimeout),this.setState(function(){return{isShowing:!1}}),setTimeout(this.onCloseComplete,200)}},{key:"renderCloseButton",value:function(){var e=P.t("Close"),t=_()("c-toast__close-button",this.props.closeButtonClasses);return f.a.createElement(N.c,{"aria-label":e,onClick:this.onCloseClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:"c-toast__close-button-wrapper"},f.a.createElement(R.b,{className:t,type:"times"}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.showCloseButton,r=e.shouldAutoFade,a=e.toastClasses,i=e.icon,o=e.iconClassName,s=e.ariaAssertive,c=this.state.isShowing,l=!1;n&&!r&&(document.querySelector(".focus-ring")||document.querySelector(".c-virtual_list__item--focus"))&&(l=!0);var u=_()("c-toast","c-toast--fade",a,{"c-toast--persistent":!r}),d=_()("c-toast__icon",o);return f.a.createElement(y.a,{className:u,isOpen:c,onRequestClose:this.hideToast,closeTimeoutMS:200,shouldFocusAfterRender:l,contentLabel:"toast",style:this.getStyle(),aria:{live:s?"assertive":"polite"},parentSelector:A},f.a.createElement("span",{className:"c-toast__wrapper",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),i&&f.a.createElement(R.b,{type:i,className:d}),t,n&&this.renderCloseButton())}}]),t}(m.PureComponent);L.displayName="Toast",L.defaultProps=D;var q={dismissCurrentToast:function(){return E.b.apply(void 0,arguments)}},F=Object(v.b)(function(e){var t=Object(k.a)(e),n=Object(S.a)(t)&&Object(j.d)(e,t),r=n&&Object(w.kb)(n)&&Object(I.q)(e,t);return{isFlexpaneOpen:!!Object(C.j)(e),isInputVisible:r}},q,null,{withRef:!0})(L),B=n("c4EP");n.d(t,"a",function(){return B.a});t.b=F},qc8s:function(e,t,n){"use strict";var r=n("QLyv"),a=n("VyaM");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.do24hrTime,i=void 0===n?"en-us"!==r.a.locale():n,o=t.includeMeridiem,s=void 0===o?!i:o,c=t.includeSeconds,l=void 0!==c&&c,u=t.timeFormat,d=void 0===u?void 0:u,b=r.a.isMoment(e)?e:Object(a.a)(e,{returnMoment:!0}),p=b.minute(),h=r.a.locale();if(d)return b.format(d);if(i){if("fr-fr"===h)return 0===p?b.format("H")+" h":l?b.format("H")+" h "+b.format("mm")+" min "+b.format("ss")+" s":b.format("H")+" h "+b.format("mm");if("de-de"===h)return l?b.format("HH:mm:ss")+" Uhr":b.format("HH:mm")+" Uhr";if("pt-br"===h){var m=void 0;return m=l&&b.second()>0?b.format("HH[h]mm[min]ss[s]"):0===b.minute()?b.format("HH[h]"):b.format("HH[h]mm"),b.hour()<10?m.substr(1):m}if("es-la"===h){var f=l?b.format("HH:mm:ss"):b.format("HH:mm");return b.hour()<10?f.substr(1):f}return l?b.format("HH:mm:ss"):b.format("HH:mm")}return s?l?b.format("h:mm:ss A"):b.format("h:mm A"):l?b.format("h:mm:ss"):b.format("h:mm")}},qdew:function(e,t,n){},qgNY:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("cTgs"),o=n("uf9I"),s=Object(a.b)("Display model or view by id",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,a=n.cancelUnsavedEdits,s=void 0!==a&&a,c=n.from_history,l=void 0!==c&&c,u=n.replace_history_state,d=void 0!==u&&u;return e(Object(i.a)({id:r,teamId:Object(o.b)(t()),cancelUnsavedEdits:s,fromHistory:l,replaceHistoryState:d}))});s.propTypes={id:r.b.string.isRequired,cancelUnsavedEdits:r.b.bool,from_history:r.b.bool,replace_history_state:r.b.bool},t.a=s},qhBG:function(e,t,n){"use strict";var r=n("V/Wy"),a=n("FN36"),i=n("59Je"),o=n("Fp75"),s=n("6kok");t.a=function(e,t){if(Object(s.eb)(t))return!1;var n=Object(a.a)(e,"who_can_at_channel");if("admin"===n||"owner"===n)return!0;var c=Object(a.a)(e,"who_can_at_everyone");if(Object(s.Bb)(t)&&("admin"===c||"owner"===c))return!0;var l=Object(a.a)(e,"who_can_post_general");if(Object(s.cb)(t)&&("admin"===l||"owner"===l))return!0;var u=Object(o.g)(e,t.id),d=Object(i.c)(e,t.id);return"everything"===u&&!d||!Object(r.c)(e,t.id,"suppress_at_channel")}},qhon:function(e,t,n){},qjdt:function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return w});var r=n("m1cH"),a=n.n(r),i=n("owWc"),o=n("oTSI"),s=n("zmn3"),c=n("OZf9"),l=n("Z0Cl"),u=n("aK/h"),d=n("vhAc"),b=n("btvA"),p=n("1zbP"),h=n("XfeM"),m=n("uf9I"),f=n("lhZz"),v=n("cLE1"),g=n("9gxL"),_="_all_actions";function O(e){return Object(f.dispatchForTeamId)(e,Object(d.a)()).then(function(e){return Object(i.a)(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.app_id,r=t.actions;return e.push.apply(e,a()(Object(s.a)(r,function(e){return{appId:n,id:e.action_id,type:e.type,name:e.name,description:e.description}}))),e},[{id:_}])})}function y(e,t){C().markObjectsAsFresh(e,Object(s.a)(t,"id"));var n=Object(l.a)(t,function(e){return e.id!==_});return Object(f.dispatchForTeamId)(e,Object(v.a)(n))}var j=Object(o.a)(function(){return new p.a({fetch:O,upsertKnown:y,upsertNonExistent:y})}),k=function(e){return j().fetchObjectWithId(e,_)},E=function(e){return O(e).then(function(t){return Object(f.dispatchForTeamId)(e,Object(v.f)()),y(e,t)})},C=Object(o.a)(function(){return new b.b({fetch:E,isEnabled:function(){return!0}})}),I=function(e){C().maybeRefetch(e,_)},w=Object(h.b)("Mark actions for appIds as stale",function(e,t,n){var r=C(),a=t(),i=Object(m.b)(a),o=Object(g.a)(a),s=o.actionIdsByAppId,l=o.actionsByAppId;Object(c.a)(n,function(e){var t=(s||l)[e]||[];r.markObjectsAsStale(i,t)}),r.markObjectsAsStale(i,[_])});w.propTypes=u.b.arrayOf(u.b.string).isRequired},"qk+D":function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("QbLZ"),o=n.n(i),s=n("yPgC"),c=n("om+M"),l=n("4zXV"),u=n("hOQf"),d=n("OqoL"),b=n("a+Oh"),p=Object(c.a)("Commit message edit text to the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.text,i=n.blocks,s=n.ts,c=n.attempts,h=void 0===c?0:c,m=n.reason,f=t(),v={channel:r,ts:s};return Object(b.a)(t())&&i?v.blocks=JSON.stringify(i):v.text=Object(d.b)(f,a),Object(u.pb)(s)?Promise.reject(new Error("message_not_found")):e(Object(l.a)({method:"chat.update",args:v,reason:m})).catch(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=void 0===t?{}:t;if("message_not_found"===r.error&&h<10){return Promise.delay(175).then(function(){return e(p(o()({},n,{attempts:h+1})))})}return Promise.reject(new Error(r.error||"unknown_error"))})});p.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,text:r.b.string,blocks:s.a.BlockKitBlocks,reason:r.b.string.isRequired};var h=p,m=n("Iq6W"),f=n("smxp"),v=n("HO/Y"),g=n("hAjP"),_=n("XRnC"),O=n("aLpA"),y=n("u8wn"),j=n("X/Nq"),k=n("YaVv"),E=new Error("unknown_error"),C=Object(a.b)("Optimistically save edits to a message",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.text,i=n.ts,o=n.viewContext,s=n.delta,c=t(),l=Object(b.a)(c);e(Object(g.g)({channelId:r,ts:i,viewContext:o}));var u=o===O.C.THREADS_FLEXPANE||o===O.C.THREADS_VIEW,d=Object(v.b)(c),p=Object(f.a)(c,r,i)||{},C=Object(_.b)(c,{channelId:r,text:a,delta:s,inThread:u,featureWysiwygComposer:l}),I=C.rawText,w=C.processedDelta;if(l){var S=Object(y.a)(c,p,{featureWysiwygComposer:l});if(Object(j.a)(S,w))return Promise.resolve()}else if(p.text===I)return Promise.resolve();var T=l?Object(k.a)(c,w).blocks:null;return e(l?Object(m.c)({ts:i,channelId:r,blocks:T,memberId:d}):Object(m.c)({ts:i,channelId:r,text:I,memberId:d})),e(h({channelId:r,text:I,blocks:T,ts:i,reason:"saveMessageEdit"})).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;if("message_not_found"===t.message)e(Object(m.h)({channel:r,ts:i}));else{var n=p.edited||{};e(l?Object(m.c)({ts:i,channelId:r,text:p.text,blocks:p.blocks,memberId:n.user,editTs:n.ts}):Object(m.c)({ts:i,channelId:r,text:p.text,memberId:n.user,editTs:n.ts}))}throw t})});C.propTypes={channelId:r.b.string.isRequired,ts:r.b.string.isRequired,viewContext:r.b.string,text:r.b.string,delta:r.b.object};t.a=C},qkTT:function(e,t,n){"use strict";var r=n("85z6");n.d(t,"a",function(){return r.a}),t.b=r.b},qlK9:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("YEIV"),o=n.n(i),s=n("m8R6"),c=n("Bw5p"),l=n("CpTu"),u=n("NFsq"),d=n("7EGn"),b=n("aK/h"),p=n("6kok"),h=n("2HDu"),m=n("HO/Y"),f=n("uf9I"),v=n("TcTh"),g=n("clTI"),_=n("Iq6W"),O=n("b+9+"),y=n("XfeM"),j=n("St+r"),k=n("M46C"),E=n("MhQa"),C=n("yHhI"),I=n("Zr7G"),w=n("ifKl"),S=n("ROZo"),T=Object(S.b)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",w.a),R=n("oLrU"),N=n("a+Oh"),x=n("0wDQ"),M=n("Cbpi"),P=n("iCc5"),A=n.n(P),D=n("V7oC"),L=n.n(D),q=n("TwEf"),F=n("lhZz"),B={},U=function(){function e(t){A()(this,e),this._teamId=t,this._activeRequest=null,this._queue=[],this._store=Object(F.getStoreInstanceByTeamId)(t)}return L()(e,[{key:"_send",value:function(){var e=this,t=this._activeRequest.message;return Object(C.a)({teamId:this._teamId}).action("MESSAGE-Q","Sending message with clientMsgId "+t.client_msg_id),this._store.dispatch(Object(q.a)(t)).then(this._activeRequest.resolve).catch(this._activeRequest.reject).finally(function(){return e.resolve(t)})}},{key:"_next",value:function(){return!this._activeRequest&&(!!this._queue.length&&(this._activeRequest=this._queue.shift(),this._send(),Object(C.a)({teamId:this._teamId}).action("MESSAGE-Q","Shifting queue, now has "+this._queue.length+" messages"),!0))}},{key:"enqueue",value:function(e){var t=this;return new Promise(function(n,r){t._queue.push({message:e,resolve:n,reject:r}),Object(C.a)({teamId:t._teamId}).action("MESSAGE-Q","Enqueueing message with clientMsgId "+e.client_msg_id+", queue has "+t._queue.length+" messages"),t._next()})}},{key:"resolve",value:function(e){return!!(e&&this._activeRequest&&this._activeRequest.message)&&(e.client_msg_id===this._activeRequest.message.client_msg_id&&(Object(C.a)({teamId:this._teamId}).action("MESSAGE-Q","Resolving active request with clientMsgId "+e.client_msg_id),this._activeRequest=null,this._next()))}}]),e}();function H(e){return B[e]?B[e]:(B[e]=new U(e),B[e])}var K,G=n("PxLB");n.d(t,"b",function(){return Q});var V=(K={},o()(K,"restricted_action_read_only_channel",6),o()(K,"restricted_action_thread_only_channel",7),o()(K,"restricted_action_non_threadable_channel",8),K);function z(e,t,n){if(n.thread_ts&&!Object(m.j)(e(),"feature_react_threads")){var r=Object(g.d)(e(),n.channel);Object(E.f)(r,a()({},n))}else{if(n.thread_ts&&Object(m.j)(e(),"feature_react_threads")){var i=Object(g.d)(e(),n.channel);Object(E.f)(i,a()({},n))}t(Object(_.a)([n]));var o={channelId:n.channel,timestamps:[n.ts],oldest:n.ts,hasMore:!1,append:!0};if(t(Object(v.b)(o)),Object(m.j)(e(),"feature_react_threads")&&n.thread_ts){var s=Object(h.c)(n.channel,n.thread_ts);t(Object(v.b)(a()({},o,{channelId:s})))}}}var Y={};function W(e,t){if(Y[e])return Y[e][t]}function Q(e,t,n,r){var a=Object(f.b)(e()),i=W(a,r.client_msg_id);i&&(Object(C.a)({getState:e}).action("MESSAGE","Resolved a message with clientMsgId "+r.client_msg_id+" in "+n.channel),function(e,t){Y[e]&&delete Y[e][t.client_msg_id]}(a,i),function(e,t,n){if(n.thread_ts&&!Object(m.j)(e(),"feature_react_threads")){var r=Object(g.d)(e(),n.channel),a=Object(l.a)(r.msgs,function(e){return e.ts===n.ts});Object(E.i)(r,a)}else{if(n.thread_ts&&Object(m.j)(e(),"feature_react_threads")){var i=Object(g.d)(e(),n.channel),o=Object(l.a)(i.msgs,function(e){return e.ts===n.ts});Object(E.i)(i,o)}t(Object(x.a)({channelId:n.channel,ts:n.ts}))}}(e,t,i),function(e,t,n,r){var a=Object(g.d)(e(),n,!1);if(a){if(Object(k.a)()){var i=Object(I.c)({getState:e}),o=void 0;Object(p.Db)(a)?o="slackbot":Object(p.lb)(a)?o="mpim":Object(p.eb)(a)?o="im":Object(p.xb)(a)?o="group":Object(p.yb)(a)&&(o="channel"),i.measureAndClear("msg_input_try_to_submit","send_msg_"+o)}t(Object(G.a)({channelId:n,msg:r})),Object(E.b)(a,r)}}(e,t,n.channel,n)),H(a).resolve(r)}var X=Object(y.b)("Send a message",function(e,t,n){var r=n.channel,i=n.reply_broadcast,o=n.text,l=n.thread_ts,b=Object(C.a)({getState:t}),p=Object(f.b)(t()),h=Object(N.a)(t()),v=l?{_hidden_reply:!0,_was_reply_broadcast:i}:null,y=Object(R.a)(),k=a()({},n,v,{user:Object(m.b)(t()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:y});h?b.action("MESSAGE","Sent a message to "+r+" via HTTP, clientMsgId: "+y):b.action("MESSAGE","Sent a message of length "+o.length+" to "+r+" via HTTP, clientMsgId: "+y);var I=a()({},n,{include_channel_perm_error:!0,client_msg_id:y}),w=H(Object(f.b)(t())).enqueue(I);return z(t,e,k),function(e,t){Y[e]||(Y[e]={}),Y[e][t.client_msg_id]=t}(p,k),l||e(Object(O.c)({ts:null})),w.then(function(){var n=t();Object(m.j)(n,"feature_degraded_send")&&!Object(j.i)(n)&&(e(Object(M.a)({channelId:r,threadTs:l})),i&&e(Object(M.a)({channelId:r})))}).catch(function(n){var i=Object(d.a)(n,"data.error"),o="ekm_access_denied"===i;if(l&&!Object(m.j)(t(),"feature_react_threads")){var h=Object(g.d)(t(),r);Object(E.h)(h,a()({},k,{isEKMError:o}),n.msg)}if(i||W(p,k.client_msg_id)){var f=V[i],v=!0,O=[6,7,8,"restricted_action_read_only_channel","restricted_action_thread_only_channel","restricted_action_non_threadable_channel"];if(Object(u.a)(O,i)&&(Object(m.j)(t(),"feature_announce_only")||Object(m.d)(t(),"page_needs_enterprise")&&Object(m.j)(t(),"feature_default_shared_channels"))){T(r,f,"send-message/sendMessage.catch"),v=!1}o&&(v=!1);var j=Object(c.a)(n,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);j.client_msg_id=y,j.channel=r,j.thread_ts=l;var C=n&&429===n.status?"message_send_ratelimit":"message_send_fail";b.error(j instanceof Error?j:new Error("Message failed to send"),"Message failed to send: "+i+" | "+JSON.stringify(j),{subtype:C});var I=i?Object(s.a)(j,["response"]):n;b.error("MESSAGE","Message failed to send",i,I);var w=a()({},k,{showResend:v,showCancel:!0,isEKMError:o});W(p,k.client_msg_id)?e(Object(_.a)([w])):z(t,e,w)}else b.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket")})});X.propTypes={params:b.b.shape({channel:b.b.string.isRequired,reply_broadcast:b.b.bool,text:b.b.string.isRequired,thread_ts:b.b.string,ts:b.b.string.isRequired,type:b.b.string.isRequired})};t.a=X},qm5R:function(e,t,n){"use strict";function r(e){return!!(e&&e.attributes&&e.attributes["code-block"])}n.d(t,"a",function(){return r})},qpF8:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("wYji"),o=n("nNoG"),s=n("0F/N"),c=n("clTI"),l=n("6kok"),u=n("hOQf"),d=n("smxp"),b=n("a3KO"),p=new o.b("cmd_handlers"),h=function(e,t,n,r){if(r)return t?p.t("Ok, I starred this thread"):p.t("Ok, I unstarred this thread");var a=Object(c.d)(e,n),i=Object(l.x)(e,a);return t?p.t("Ok, I starred {channel}",{channel:i}):p.t("Ok, {channel} is unstarred",{channel:i})},m=Object(a.b)("/star slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,o=t(),p=!function(e,t,n){if(n){var r=Object(d.a)(e,t,n);return Object(u.nb)(r)}var a=Object(c.d)(e,t);return Object(l.Eb)(a)}(o,r,a),m=a?b.a.threadsTempSlashCmdFeedback:b.a.tempSlashCmdFeedback;return e(Object(i.b)({ephemeralType:m,message:{text:h(o,p,r,a),channel:r,thread_ts:a}})),e(Object(s.a)(p,{channel:r,timestamp:a})).catch(function(t){throw e(Object(b.e)({ephemeralType:m})),t})});m.propTypes={channelId:r.b.string.isRequired,threadTs:r.b.string},t.default=m},qvNt:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("yHhI"),a=function(e,t,n,a){var i=document.querySelector(e);i?i.addEventListener(t,function(t){for(var r=t.target;r&&r!==e&&"function"==typeof r.matches;){if(r.matches(n))return a.call(r,t);r=r.parentNode}return null}):Object(r.b)().warn("'on' could not find the target element - events will not be delegated")},i=function(e,t,n){e.addEventListener(t,function r(a){e.removeEventListener(t,r,!0),n.call(a.target,a)},!0)}},qx17:function(e,t,n){},qxkA:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("JWn9"),h=n("X6iR"),m=n("ifKl"),f=n("yIs4"),v=n("fujP"),g=n("HA5h"),_=n("Cjy0"),O=n.n(_),y=n("mM05"),j=n.n(y),k=n("nNoG"),E=n("K7CU"),C=n("bHK9"),I=n("lhZz"),w=n("Qv4Q"),S=n("rWF5"),T=n("rqfA"),R=n("WKJn"),N=n("C20x"),x=n("k0G2"),M=n("9PC1"),P=O.a.import("core/module"),A="tab_complete_ui_item",D=/\stitle\s*=\s*"[^"]+?"/gim,L="TABCOMPLETE",q={searchOptions:{},matchOptions:{},shouldCompleteOnTab:function(){return!0},onClose:m.a,appendMenu:m.a,onInit:m.a,isModern:!1,logger:{error:m.a,info:m.a,warn:m.a}},F=function(e){var t=e.map(function(e){return"\\"+e}).join("");return new RegExp("["+t+"]$")},B=[":","*","_","~"];function U(e){Object(M.l)(e.target,"."+A)&&(e.preventDefault(),e.stopPropagation())}var H=function(e){function t(e,n){o()(this,t);var r=Object(g.a)({},q,n),a=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.onEscape=a.onEscape.bind(a),a.onCompositionStart=a.onCompositionStart.bind(a),a.onCompositionEnd=a.onCompositionEnd.bind(a),a.onTextChange=a.onTextChange.bind(a),a.onMenuClick=a.onMenuClick.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.onWindowResize=a.onWindowResize.bind(a),a.onMenuMouseOver=a.onMenuMouseOver.bind(a),a.onMenuMouseMove=a.onMenuMouseMove.bind(a),a.onTab=a.onTab.bind(a),a.maybeCompleteAtCursor=a.maybeCompleteAtCursor.bind(a),a.setSelectedIndex=a.setSelectedIndex.bind(a),a.hideMenu=a.hideMenu.bind(a),a.selectIndex=a.selectIndex.bind(a),a.trailingPunctuationRegex=F(a.options.trailingPunctuationChars),a.state={selectedIndex:0,prevMousePosition:null,isInKeyboardMode:!1,prevInsertObject:null,prevMatch:null,menu:null,searchInFlight:null,isInComposition:!1,isMakingSelection:!1,selectionJustHappened:!1,didJustPressUp:!1,isShowing:!1,compositionTimer:null},a.listen(),a.options.onInit({setSelectedIndex:a.setSelectedIndex,hideMenu:a.hideMenu,selectIndex:a.selectIndex}),a}return b()(t,e),c()(t,[{key:"unload",value:function(){var e=this;this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.hideMenu(),setTimeout(function(){e.state=null},0)}},{key:"listen",value:function(){var e=this;this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd),[x.l,x.c,x.h,x.i].forEach(function(t){e.quill.keyboard.addBinding({key:t,handler:function(){return e.onArrow({keyCode:t})}})}),Object(S.p)(navigator)&&[x.l,x.c].forEach(function(t){e.quill.keyboard.addBinding({key:t,shortKey:!0,handler:function(){return e.onArrow({keyCode:t,metaKey:!0})}})}),[x.g,x.d].forEach(function(t){e.quill.keyboard.addBinding({key:t,handler:function(){return e.onArrow({keyCode:t})}})})}},{key:"getNextSelectedIndex",value:function(e){var t=e.keyCode,n=e.shiftKey,r=void 0!==n&&n,a=e.metaKey,i=void 0!==a&&a;if(this.state.prevMatch&&Object(f.a)(t)&&this.isShowing()){if(this.state.prevMatch.completer.getNextSelectedIndex){var o=this.state.prevMatch.completer.getNextSelectedIndex({keyCode:t,metaKey:i,menu:this.state.menu,selectedIndex:this.state.selectedIndex});if(Object(f.a)(o))return o}return t===x.g||t===x.l&&i?0:t===x.d||t===x.c&&i?this.getNumResults()-1:t===x.c||t===x.k&&!r?this.state.selectedIndex+1:t===x.l||t===x.k&&r?this.state.selectedIndex-1:void(t!==x.h&&t!==x.i?this.options.logger.warn(L,"unable to find next selected index (keyCode="+t+")"):this.hideMenu())}}},{key:"onArrow",value:function(e){var t=e.keyCode,n=e.metaKey,r=void 0!==n&&n;if(!this.isShowing())return!0;if((t===x.h||t===x.i)&&this.options.useMentions&&this.quill.getFormat(this.quill.getSelection()).slackmention)return!0;this.options.isModern||this.startKeyboardMode(),this.state.searchInFlight=null;var a=this.getNextSelectedIndex({keyCode:t,metaKey:r});return this.state.didJustPressUp=t===x.l,this.setSelectedIndex(a),!Object(f.a)(a)}},{key:"onEscape",value:function(){return!!this.isShowing()&&(this.hideMenu(),!0)}},{key:"onTab",value:function(e){var t=e.shiftKey;if(this.isShowing()){if(this.options.isModern||1===this.getNumResults())return this.onEnter(null,!0),!0;if(this.options.isModern||this.state.prevInsertObject){var n=this.getNextSelectedIndex({keyCode:x.k,shiftKey:t});this.state.didJustPressUp=t,this.setSelectedIndex(n)}else this.options.isModern||this.onEnter(null,!1);return!0}if(this.state.searchInFlight=null,1===this.quill.getLength())return!1;var r=this.getCurrentMatchAtCursor(!0),a=this.state.prevMatch&&this.state.prevMatch.text;return(!r||a!==r.text)&&(this.completeAtCursor({isUserSolicited:!0,insertFirstResult:this.options.shouldCompleteOnTab()},r),this.options.shouldCompleteOnTab()?!!r:!!r&&r.completer&&"members"!==r.completer.type)}},{key:"onCompositionStart",value:function(){this.state.isInComposition=!0,this.state.compositionTimer&&clearTimeout(this.state.compositionTimer)}},{key:"onCompositionEnd",value:function(){var e=this;this.state.compositionTimer=setTimeout(function(){e.state.isInComposition=!1,e.isShowing()||e.maybeCompleteAtCursor("user")},0)}},{key:"onTextChange",value:function(e,t,n){var r=this;if(this.state&&!Object(N.a)(e)){var a=this.quill.getSelection();if(1===e.length()&&e.ops[0].insert&&a&&0===a.index&&0===a.length){var i=this.quill.getLength()-1;1===i&&(this.quill.setSelection(i,0),this.options.logger.info(L,"manually adjusted index for Safari"))}this.state.selectionJustHappened&&!this.state.isInComposition&&(this.state.selectionJustHappened=!1,function(e,t,n){var r=n.concat([" "]);if(t&&t.index>=4){var a=e.getText(t.index-2,2),i=e.getFormat(t.index-3),o=a.charAt(1);if(-1===B.indexOf(o)&&(-1!==r.indexOf(o)||Object(k.d)(o))&&" "===a.charAt(0)&&i&&i.slackmention&&!i.slackmention.unverified)return!0}return!1}(this.quill,a,this.options.trailingPunctuationChars))?setTimeout(function(){r.quill.deleteText(a.index-2,1),r.quill.setSelection(a.index-1,0),r.hideMenu()},0):!function(e,t){if(t&&t.index>=5){var n=e.getText(t.index-3,3),r=e.getFormat(t.index-4);if(" : "===n&&r&&r.slackmention&&!r.slackmention.unverified)return!0}return!1}(this.quill,a)?!function(e,t){if(t&&t.index>=6){var n=e.getText(t.index-4,4),r=e.getFormat(t.index-5);if(-1!==n.search(/ ['\u2018\u2019]s /)&&r&&r.slackmention&&!r.slackmention.unverified)return!0}return!1}(this.quill,a)?this.state.isMakingSelection||this.maybeCompleteAtCursor(n):setTimeout(function(){r.quill.deleteText(a.index-4,2),r.quill.insertText(a.index-4,"\u2019"),r.quill.setSelection(a.index-1,0),r.hideMenu()},0):setTimeout(function(){r.quill.deleteText(a.index-3,1),r.quill.setSelection(a.index-1,0),r.hideMenu()},0)}}},{key:"maybeCompleteAtCursor",value:function(e){this.state.searchInFlight=null,this.quill.getLength()<=1?this.hideMenu():"user"===e&&this.completeAtCursor({isUserSolicited:!1,insertFirstResult:!1})}},{key:"isCursorWithinMention",value:function(e){if(e.length>0)return!1;if(0===e.index)return!1;var t=this.quill.getFormat(e).slackmention;if(t&&0!==e.index&&e.index<this.quill.getLength()-1&&this.quill.getFormat(e.index+1).slackmention)return!0;var n=this.quill.getFormat(e.index+1).slackmention;return!(!t||!n||t.id!==n.id)}},{key:"maybeShowTooltip",value:function(e,t){if(!this.isShowing()){var n=this.isCursorWithinMention(e);if(n||!this.options.tooltipIsShowing()){var r=this.quill.selection.getNativeRange(),a=r&&r.start&&r.start.node&&r.start.node.parentNode,i=a&&a.classList;if(i&&i.contains("c-member_slug--unverified")&&0===e.length)this.maybeCompleteAtCursor(t);else{var o=i&&i.contains("ts_tip_texty");n&&o&&!this.options.tooltipIsShowing()&&this.options.tooltipShow(a)}}else this.options.tooltipHide()}}},{key:"hideAndReset",value:function(){this.onEscape(),this.resetPrevMatchState()}},{key:"onSelectionChange",value:function(e,t,n){if(this.state){var r=this.state.isMakingSelection;!r&&e&&this.options.useMentions?this.maybeShowTooltip(e,n):(!e||this.state.isInComposition||r||(this.state.searchInFlight=null,this.hideMenu()),e||(this.onEscape(),this.resetPrevMatchState()))}}},{key:"getCurrentMatchAtCursor",value:function(e){var t=this.quill.getSelection();if(t){var n=t.index+t.length;if(0===t.length&&this.options.useMentions&&this.quill.getFormat(t).slackmention){for(var r=this.quill.getFormat(t).slackmention.label;this.quill.getFormat(n).slackmention&&this.quill.getFormat(n).slackmention.label===r;)n+=1;n-=1}var a=this.textBetweenLastTokenAndIndex(n),i=a.searchText,o=a.searchTextIndex;return this.getMatch(i,o,e)}}},{key:"completeAtCursor",value:function(e,t){var n=e.isUserSolicited,r=void 0!==n&&n,a=e.insertFirstResult,i=void 0!==a&&a,o=t||this.getCurrentMatchAtCursor(r);if(!o)return this.resetPrevMatchState(),void this.hideMenu();this.search({match:o,insertFirstResult:i,isUserSolicited:r})}},{key:"search",value:function(e){var t=this,n=e.match,r=e.insertFirstResult,a=void 0!==r&&r,i=e.isUserSolicited,o=void 0!==i&&i;if(this.state.searchInFlight!==n.text){this.state.selectedIndex=0,this.state.prevInsertObject=null,this.state.searchInFlight=n.text,this.options.logger.info(L,"start search with "+n.text.length+" char query");var s=Object(g.a)({index:n.index,include_deleted:this.options.include_deleted,no_model_ob:this.options.no_model_ob,isUserSolicited:o,enableBroadcastKeywords:this.options.enableBroadcastKeywords},this.options.searchOptions);n.completer.search(n.text,s,function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.state)if(t.options.logger.info(L,"end search with "+n.text.length+" char query"),n.text===t.state.searchInFlight){t.state.prevMatch=Object(g.a)({results:r},n);var i=!t.state.prevInsertObject&&a;t.handleSearchResults(e,r,i,o)}else t.options.logger.info(L,"ignoring stale search for "+n.text.length+" char query")})}else this.options.logger.info(L,"duplicate search for "+n.text.length+" char query")}},{key:"handleSearchResults",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.state.prevMatch)if(e||Object(v.a)(t))this.hideMenu();else{if(this.options.logger.info(L,"received "+t.length+" results for "+this.state.prevMatch.text.length+" char query"),n){var a=this.getResultAtIndex(0),i=this.getInsertDataFromResult(a);this.onSelect(i)}if(this.state.prevMatch.completer.shouldDisplayResults)if(!this.state.prevMatch.completer.shouldDisplayResults(this.state.prevMatch.text,t,r))return this.options.logger.info(L,"completer decided to hide results"),void this.hideMenu();this.showResults(this.state.prevMatch.completer,t,this.state.prevMatch.text)}}},{key:"setSelectedIndex",value:function(e){var t=e;if(Object(f.a)(t)){if(this.isShowing()){if((t=function(e,t){return Object(f.a)(e)?e>=t?0:e<0?t-1:e:e}(t,this.getNumResults()))===this.state.selectedIndex)return!0;if(this.state.prevMatch.completer.getIndexForPopulatingInput&&this.options.isSearchInput?t=this.state.prevMatch.completer.getIndexForPopulatingInput(t,this.state.didJustPressUp):this.state.prevMatch.completer.onSelectedIndexChange&&this.state.prevMatch.completer.onSelectedIndexChange(t),this.state.selectedIndex=t,this.options.ariaExpand(t),!this.options.isModern){var n=this.getResultAtIndex(t),r=this.getInsertDataFromResult(n);this.onSelect(r)}return this.options.logger.info(L,"set new index to "+t),!0}}else this.options.logger.warn(L,'invalid index "'+t+'"')}},{key:"isShowing",value:function(){return this.state.isShowing}},{key:"onEnter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.shiftKey)return!1;if(!this.isShowing())return!1;if(this.state.isInComposition)return!0;var n=this.state,r=n.selectedIndex,a=n.prevMatch,i=this.getResultAtIndex(r),o=this.getInsertDataFromResult(i);return this.onSelect(o),t&&(a.completer.onSelect&&a.completer.onSelect(i,a.text,{fromKeyboard:!0}),this.state.prevMatch=null,this.hideMenu()),this.options.onEnter&&this.options.onEnter(),!0}},{key:"onSelect",value:function(e,t){if(e)if(this.state.prevMatch){if(this.options.logger.info(L,"selected index "+this.state.selectedIndex),e.contents)return this.state.isMakingSelection=!0,this.quill.setContents(e.contents),this.state.prevInsertObject={text:this.quill.getText()},this.quill.setSelection(this.state.prevInsertObject.text.length,0),this.state.isMakingSelection=!1,void(this.state.searchInFlight=null);var n=e.slackemoji,r=e.text;n&&(r=""+e.text+e.slackemoji.text);var i=this.state.searchInFlight||this.state.prevMatch.text,o=i.length;!this.state.searchInFlight&&this.state.prevInsertObject&&(i=this.state.prevInsertObject.text,o=this.state.prevInsertObject.length||this.state.prevInsertObject.text.length);var s=this.state.prevMatch.text,c=function(e,t,n){if(-1!==n.indexOf(t))return"";var r=e.exec(t);return r?r[0]:""}(this.trailingPunctuationRegex,s,r);Object(h.a)(e.text,this.state.prevMatch.text)||(r+=c);var l=this.state.prevMatch.index+o,u=this.quill.getText(l,1),d=-1===this.options.trailingPunctuationChars.concat([" "]).indexOf(u)&&!t,b=this.quill.getText(this.state.prevMatch.index-1,1),p=this.state.prevMatch.index>0&&e.ensure_preceding_space&&Object(k.d)(b),m=new j.a,f=this.state.prevMatch.index,v=this.quill.getFormat(f+1);v.slackmention&&delete v.slackmention;var g=this.options.useWysiwyg?v.code||v["code-block"]:Object(M.j)(this.quill.getText(0,f));if(n&&g&&(n=null),this.state.prevMatch.index>0&&!p&&!e.text&&n&&n.text.match(/^(:skin-tone-[2-6]:)$/)){var _=this.quill.getContents(this.state.prevMatch.index-1,1);if(_.ops&&Object(R.a)(_.ops[0])){var O=Object(w.g)(_.ops[0].insert.slackemoji.text),y=this.options.teamId&&Object(I.getStateByTeamId)(this.options.teamId);(y&&Object(C.k)(y,{text:O.name,teamId:this.options.teamId})||Object(E.d)(O.name))&&(f-=1,o+=1,n.text=":"+O.name+":"+n.text)}}m.retain(f);var S=this.state.prevMatch?this.state.prevMatch.index:0,T=r.toLowerCase(),N=i.toLowerCase(),x=this.quill.getText(S,r.length).toLowerCase();n||T===N||x!==T?m.delete(o):m.delete(Math.max(r.length,o)),p&&m.insert(" ",v),n?(e.text&&m.insert(e.text),m.insert({slackemoji:n},v)):this.options.useWysiwyg&&g?m.insert(r,a()({},v)):m.insert(r,a()({},v,e.format)),d&&m.insert(" ",v),this.state.isMakingSelection=!0,this.quill.updateContents(m,"user");var P=1;p||d||" "===u?p&&(d||" "===u)&&(P=2):P=0;var A=e.text?e.text.length:0;this.quill.setSelection(S+(n?A+1:r.length)+P,0),this.state.isMakingSelection=!1,this.state.searchInFlight=null,this.state.prevInsertObject={text:r},n&&(this.state.prevInsertObject.length=A+1),p&&this.state.prevMatch&&(this.state.prevMatch.index+=1),this.state.selectionJustHappened=!0}else this.options.logger.error("onSelect missing previous match");else this.options.logger.error('onSelect missing "data" param')}},{key:"textBetweenLastTokenAndIndex",value:function(e){var t=void 0,n=this.quill.getContents(0,e).ops;t=this.options.useMentions&&this.quill.getFormat(e).slackmention?n.slice(-1):Object(p.a)(n,function(e){return Object(T.a)(e)});var r=Object(M.e)(t,"insert"),a=this.quill.getLength()-e-1;return{searchText:r,searchTextIndex:this.quill.getLength()-new j.a(t).length()-a-1}}},{key:"getMatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)for(var r=0;r<this.options.completers.length;r++){var a=this.options.completers[r],i=a.getMatch(e,n,t,this.options.matchOptions);if(i)return{completer:a,text:i.match,index:i.index+t}}}},{key:"showResults",value:function(e,t,n){var r=Object(g.a)({no_model_ob:this.options.no_model_ob},this.options.searchOptions),a=this.options.render(e.type,n,t,r);a?this.showMenu(a):this.hideMenu()}},{key:"showMenu",value:function(e){var t;if(this.options.tooltipHide(),this.state.menu||(this.state.menu=((t=document.createElement("div")).id="chat_input_tab_ui",t.className="tab_complete_ui",t),this.options.isModern||this.bindEvents()),this.state.menu.innerHTML=e.replace(D,""),this.options.onRender&&this.options.onRender(),this.isShowing()||(this.options.logger.info(L,"opening menu"),this.options.appendMenu(this.state.menu),this.options.isModern||(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize))),this.options.positionMenu)if(this.options.isModern){var n=this.state.prevMatch.index,r=this.quill.getBounds(n),a=this.quill.container.getBoundingClientRect(),i=r.left+a.left,o=r.top+a.top,s=o+r.height;this.options.positionMenu({top:o,left:i,bottom:s,right:i})}else this.options.positionMenu(this.state.menu);this.state.prevMatch.completer.onSelectedIndexChange&&this.state.prevMatch.completer.onSelectedIndexChange(this.state.selectedIndex),this.options.ariaExpand(this.state.selectedIndex),this.options.isModern||this.startKeyboardMode(),this.state.isShowing=!0}},{key:"hideMenu",value:function(){this.isShowing()&&(this.options.logger.info(L,"closing menu"),this.state.isShowing=!1,this.options.onClose(),this.state.menu&&this.state.menu.parentNode&&this.state.menu.parentNode.removeChild(this.state.menu),this.options.ariaCollapse(),this.options.isModern||(this.stopKeyboardMode(),window.removeEventListener("resize",this.onWindowResize)),this.state.isInComposition||this.quill.hasFocus()&&(this.quill.blur(),this.quill.focus()))}},{key:"resetPrevMatchState",value:function(){this.state.prevMatch=null,this.state.searchInFlight=null,this.state.prevInsertObject=null}},{key:"bindEvents",value:function(){this.state.menu&&(this.state.menu.addEventListener("mousedown",U),this.state.menu.addEventListener("click",this.onMenuClick),window.addEventListener("resize",this.onWindowResize))}},{key:"onWindowResize",value:function(){this.hideMenu(),window.removeEventListener("resize",this.onWindowResize)}},{key:"onMenuClick",value:function(e){var t=Object(M.l)(e.target,"."+A),n=this.getResultElementIndex(t);this.selectIndex(n),t&&(e.preventDefault(),e.stopPropagation())}},{key:"selectIndex",value:function(e){var t=this.getResultAtIndex(e),n=this.getInsertDataFromResult(t);this.onSelect(n),this.state.prevMatch.completer.onSelect&&this.state.prevMatch.completer.onSelect(t,this.state.prevMatch.text),this.state.prevMatch=null,this.hideMenu()}},{key:"onMenuMouseOver",value:function(e){var t=Object(M.l)(e.target,"."+A),n=this.getResultElementIndex(t);this.state.didJustPressUp=void 0,this.setSelectedIndex(n)}},{key:"onMenuMouseMove",value:function(e){var t=e.screenX,n=e.screenY;if(this.state.prevMousePosition){var r=this.state.prevMousePosition,a=r.x,i=r.y;(a!==t||i!==n)&&this.stopKeyboardMode()}this.state.prevMousePosition={x:t,y:n}}},{key:"startKeyboardMode",value:function(){this.state.isInKeyboardMode||(this.state.isInKeyboardMode=!0,this.state.menu&&(this.state.menu.addEventListener("mousemove",this.onMenuMouseMove),this.state.menu.removeEventListener("mouseover",this.onMenuMouseOver)))}},{key:"stopKeyboardMode",value:function(){this.state.isInKeyboardMode&&(this.state.isInKeyboardMode=!1,this.state.menu&&(this.state.menu.removeEventListener("mousemove",this.onMenuMouseMove),this.state.menu.addEventListener("mouseover",this.onMenuMouseOver)))}},{key:"getNumResults",value:function(){if(!this.state.prevMatch||!this.state.prevMatch.results)return 0;if(this.state.prevMatch.completer.getNumResults){var e=this.state.prevMatch.completer.getNumResults(this.state.prevMatch.results);if(Object(f.a)(e))return e}return this.state.prevMatch.results.length}},{key:"getResultElementIndex",value:function(e){if(e){var t=parseInt(e.getAttribute("data-index"),10);if(Object(f.a)(t))return t;this.options.logger.warn(L,'missing "data-index" attribute')}}},{key:"getInsertDataFromResult",value:function(e){if(e&&this.state.prevMatch)return this.state.prevMatch.completer.getInsertData(e,this.state.prevMatch.text)}},{key:"getResultAtIndex",value:function(e){if(Object(f.a)(e)&&this.state.prevMatch)return this.state.prevMatch.completer.getResultAtIndex(this.state.prevMatch.results,e)}}]),t}(P);t.a=H},"qy+J":function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=Object(r.b)("/slackaccessibility slash command",function(){window.open("chrome://accessibility/")});t.default=a},r31G:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("HO/Y"),s=n("DtX9"),c=n("D4L/"),l=n("uf9I"),u=n("6kok"),d=n("Fdc0"),b=n("hOQf"),p=n("5mKg"),h=n("g5qt"),m=n("rWF5"),f=n("nNoG"),v=n("n8ZX"),g=n("F294"),_=n("Dpjh"),O=n("VjHM"),y=n("K7CU"),j=n("M4yy"),k=n("+z37"),E=n("pWPO"),C=n("Owxj"),I=n("Smdl"),w=n("2TYC"),S=n("a+Oh"),T=n("UOab"),R=n("n3t6"),N=new f.b("growl");function x(e,t,n){var r=Object(O.g)(e,"no_text_in_notifications"),a=(r?"":function(e,t){if(!t)return"";var n=Object(g.a)(t.files);return n&&!t.text||Object(j.a)(t.subtype)?Object(w.b)(e,t,n):Object(S.b)(e)&&Object(b.jb)(t)?Object(T.a)(e,t.blocks,{convertEmoji:Object(y.m)(e)?"text":"unicode"}):t.text?t.text:t.attachments&&t.attachments.length?function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(n.fallback)return n.fallback;if(n.text)return n.text;if(n.pretext)return n.pretext;if(n.footer)return n.footer}return""}(t.attachments):t.type+" "+t.subtype+" "+N.t("(message missing text)")}(e,t)).replace(":simple_smile:",":)");if(n)return a;var i=Object(d.Q)(e,t.user)||"",o="";return i&&(o+=r?N.t("a message from {name}",{name:i}):i+": "),o+=a}var M=function(e,t,n){if(!Object(I.a)())return Object(R.b)(x(e,t,n),t,{for_growl:!0});var r=void 0;if(Object(S.b)(e)&&Object(b.jb)(t))r=x(e,t,n);else{var a=x(e,t,n),i=Object(k.a)(e,{text:a,tsfMode:"GROWL"}),o=Object(E.a)(i);r=Object(y.m)(e)?o:Object(C.a)(e,{messageText:o,teamId:Object(l.b)(e)})}return h.X&&Object(h.h)()?Object(_.a)(r):r},P=new f.b("growl");function A(e,t,n,r){return{title:function(e,t,n){if(!t)return"";var r=Object(f.n)(Object(u.x)(e,t,{imIncludeAtSign:!1}));if(Object(o.s)(e)&&h.X){var a=Object(c.d)(e);return Object(m.p)()?Object(p.e)(a):Object(u.eb)(t)?n?P.t("{name} is trying to reach you",{name:r}):P.t("[{team_domain}] from {name}",{team_domain:a.domain,name:r}):P.t("[{team_domain}] in {channel}",{team_domain:a.domain,channel:r})}if(Object(u.eb)(t))return n?P.t("{name} is trying to reach you",{name:r}):P.t("New message from {name}",{name:r});return P.t("New message in {channel}",{channel:r})}(e,t,n._ignore_dnd),subtitle:function(e,t){if(!(t&&Object(m.p)()&&h.X&&Object(o.s)(e)))return"";return Object(u.x)(e,t,{imIncludeAtSign:!1})}(e,t),content:r.skip_formatting?n.content:M(e,n,Object(u.eb)(t))}}function D(e){return e&&(e.ts||e.msg)||""}function L(e,t,n){return t&&n&&n.ts?["slack://channel","?id="+t.id,"&message="+n.ts,"&team="+Object(l.b)(e),n.thread_ts?"&thread_ts="+n.thread_ts:""].join(""):null}var q=n("yHhI"),F=n("qgNY"),B=n("HvGc"),U=n("clTI"),H=n("XfeM"),K=n("B0Wu"),G=n("AfrZ"),V=n("Fp75"),z=n("jUSB"),Y=n("n74X"),W=n("tt0d"),Q=n("GdsW");n.d(t,"a",function(){return ee}),n.d(t,"e",function(){return te}),n.d(t,"d",function(){return ne}),n.d(t,"b",function(){return re}),n.d(t,"c",function(){return ae});var X={DEFAULT:5e3,LONG:1e4},Z=80,J=Object(q.b)(),$=new f.b("notifications"),ee=Object(H.b)("Switch primary or secondary view on notification click",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTs,i=n.threadTs;"launch_uri"===r&&i?Object(Q.f)(i):e(i&&i!==a?Object(B.l)({channelId:r,threadTs:i,highlightTs:a}):Object(F.a)({id:r}))});ee.propTypes={channelId:i.b.string.isRequired,messageTs:i.b.string.isRequired,threadTs:i.b.string};var te=Object(H.b)("Show a desktop notification",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.message,i=n.modelObject,c=n.options;if(r&&i&&!Object(u.nb)(i))if(Object(V.f)())if(!Object(Y.c)()||c.is_call_notification){var p=t(),f=c||{},g=Object(o.j)(p,"feature_modern_sounds");!function(e){if(!h.X)return;if(!Object(O.g)(e,"mac_ssb_bounce"))return;"long"===Object(O.g)(e,"mac_ssb_bounce")?Object(h.b)():Object(h.c)()}(p),Object(Y.a)().then(function(t){var n="new_message";if(t?n="none":Object(I.a)()&&g?(Object(V.e)(p)&&Object(z.a)(Object(V.l)(p)),n="none"):Object(h.zb)()||(Object(v.c)("new_message"),n="none"),h.X)Object(h.hb)(a()({},A(p,i,r,f),function(e,t,n,r,a){var i={teamId:Object(l.b)(e),msg:D(n),channel:t.id||"",thread_ts:n&&n.thread_ts,ssbFilename:Object(v.a)(a),launchUri:r.launch_uri||L(e,t,n),imageUri:r.image_uri||Object(b.D)(e,n)};return!i.ssbFilename&&Object(m.v)("3.0.0")&&(i.silent=!0),Object(m.v)("3.3.0")?(i.channelName=Object(u.x)(e,t,{imIncludeAtSign:!1})||"",i.authorName=n&&Object(d.Q)(e,n.user),i.avatarImage=Object(s.g)(e,n.user,192)||r.avatar_image):i.avatarImage=r.avatar_image||Object(s.g)(e,n.user),i}(p,i,r,f,n)));else{!function(e,t){var n=e.title,r=e.content,a=e.icon,i=e.tag;if(!window.Notification)return void J.warn("NOTIFICATIONS","window.Notification is not supported");var o=new Notification(n,{body:r,icon:a,tag:i}),s=function(){setTimeout(function(){return o.close()},r&&r.length>Z?X.LONG:X.DEFAULT)};try{o.onclick=function(){window.focus(),t&&t();o.close()},o.onshow=s}catch(e){J.error("NOTIFICATIONS","Unable to assign Notification event handlers",e),s()}}(a()({},A(p,i,r,f),function(e,t){var n="tag_"+(t&&(t.id||t.ts)||Date.now()),r=Object(o.d)(e,"img");return{icon:r&&r.app_icon,tag:n}}(p,r)),function(){e(ee({channelId:i.id,messageTs:D(r),threadTs:r.thread_ts}))})}})}else J.warn("NOTIFICATIONS","Cannot show notification while screen-sharing");else J.warn("NOTIFICATIONS","Cannot show notification, permission denied");else J.warn("NOTIFICATIONS","Cannot show notification, missing arguments")});te.propTypes={modelObject:i.b.object.isRequired,message:i.b.object.isRequired,options:i.b.object};var ne=Object(H.b)("Show a desktop notification",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).text,r=t(),a=Object(U.j)(r,"USLACKBOT");e(te({message:{channel:a.id,user:"USLACKBOT",text:n,ts:Object(W.a)()},modelObject:a}))});ne.propTypes={text:i.b.string.isRequired};var re=Object(H.b)("Prompt for permission to send desktop notifications",function(e,t,n){var r=n.callback;if(V.a){var a=function(){r&&r(Object(V.f)(),Object(V.n)()),e(Object(K.c)(Object(V.n)()))};window.webkitNotifications&&window.webkitNotifications.requestPermission&&window.webkitNotifications.checkPermission?window.webkitNotifications.requestPermission(a):window.Notification&&window.Notification.requestPermission(a)}else r&&r(!1,-1)});re.propTypes={callback:i.b.func};var ae=Object(H.b)("Prompt the browser for permission and set the user pref on the backend",function(e){return new Promise(function(t){e(re({callback:function(n,r){n&&"granted"===r?(e(Object(G.f)({pref:"growls_enabled",value:!0})),e(ne({text:$.t("Nice, notifications are enabled!")}))):e(Object(G.f)({pref:"growls_enabled",value:!1})),t()}}))})});ae.propTypes={}},r6oD:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("NZ+B"),o=n("kxpR"),s=n.n(o),c=n("XHGt"),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=n("1zbP"),p=n("clTI"),h=n("DtX9"),m=n("6kok"),f=n("Fdc0"),v=n("3dqR"),g=n("A+cF"),_=n("3tRM"),O=n("6avh"),y=n("od5y"),j=n("Cudy"),k=n("WeBd"),E=n("/3PZ"),C=n("ZYn4"),I=n("gJjA"),w=n("kd6D"),S=(n("A4tE"),20),T=16,R=(d.b.string,d.b.string.isRequired,d.b.bool,d.b.bool,d.b.bool,d.b.bool,d.b.bool,d.b.bool,d.b.bool,d.b.bool,d.b.object,d.b.string,d.b.string,d.b.bool,d.b.bool,d.b.number,{className:void 0,member:void 0,memberPrimaryName:void 0,memberSecondaryName:void 0,invert:!1,showAvatar:!0,showDraftIcon:!1,showPresence:!0,showStatus:!0,showTooltip:!0,showUnreadCount:!1,isDeactivated:!1,unreadCount:void 0,useShortMode:!1,forceRealName:!1});function N(e){var t=e.className,n=e.id,r=e.invert,i=e.member,o=e.memberPrimaryName,c=e.memberSecondaryName,l=e.showAvatar,d=e.showDraftIcon,p=e.showPresence,h=e.showStatus,m=e.showTooltip,R=e.showUnreadCount,N=e.isDeactivated,x=e.unreadCount,M=e.useShortMode,P=e.forceRealName,A=Object(f.J)(i),D=Object(f.ab)(i),L=Object(f.eb)(i),q=Object(f.lb)(i),F=Object(f.yb)(i),B=Object(b.c)(i),U=Object(b.d)(i),H=B||U,K=r&&!N,G=s.a.createElement(j.a,{"data-qa":"member-entity__primary-name",name:P?Object(f.E)(i):o,invert:K,isAppOrBot:D,isDeleted:L,isSelf:F,isNonExistent:B,isUnknown:U}),V=s.a.createElement(_.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},c),z=void 0;z=H?function(e){return s.a.createElement(E.a,a()({},e,{isNonExistent:B,size:S}))}:d?function(){return s.a.createElement(y.b,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft"})}:function(e){return s.a.createElement(v.b,a()({},e,{"data-qa":"member-entity__avatar",size:w.a.small,userId:n,tabIndex:-1,isInteractive:!1}))};var Y=s.a.createElement(I.b,a()({},e,{"data-qa":"member-entity__team-icon",id:A,size:T,className:"c-member__team_icon"})),W=!L&&s.a.createElement(C.a,{memberId:n,className:"c-member__presence",invert:K}),Q=s.a.createElement(O.b,{memberId:n,tooltip:m,animated:M,className:"c-member__current-status c-member__current-status--small","data-qa":"member-entity__status"}),X=s.a.createElement(k.b,{className:"c-member__unread_count",count:x,style:K?"white":"red","data-qa":"member-entity__mention-badge"}),Z=s.a.createElement("span",{className:"c-member__primary_content"},G,p&&!H&&W,!M&&V,h&&Q),J=s.a.createElement("span",{className:"c-member__secondary_content"},q&&Y,R&&x&&X),$=L&&!r?w.c.dim:null,ee=u()(t,"c-member","c-member--small",{"c-member--with-presence":p});return s.a.createElement(g.d,{"data-qa":"small_member_entity",avatar:l&&z,className:ee,text:Z,size:"small",style:$,subtext:J})}N.displayName="SmallMemberEntity",N.defaultProps=R,t.a=Object(c.b)(function(e,t){var n=t.id,r=t.isDraftContext,a=t.showStatus,o=t.isUnknown,s=Object(h.c)(e,n),c=void 0;if(r){var l=Object(p.j)(e,n);c=!(!l||!Object(m.y)(e,l.id))}return{member:s,memberPrimaryName:Object(f.P)(e,s,!1,!1),memberSecondaryName:Object(f.G)(e,s),unreadCount:Object(f.p)(e,s),showDraftIcon:c,showStatus:a&&Object(f.T)(s),isUnknown:Object(i.a)(o)?o:Object(b.d)(s)}})(N)},rJQH:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("TSYQ"),h=n.n(p),m=n("aK/h"),f=n("tn36"),v=(n("Oko8"),m.b.string,m.b.string,m.b.any.isRequired,{activeItemId:void 0,className:void 0}),g=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(f.a)(n,["onItemActivate","focus"]),n}return u()(t,e),o()(t,[{key:"onItemActivate",value:function(e){this.activeLink=e}},{key:"focus",value:function(){var e=this.activeLink;e&&e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,a=t.activeItemId;return b.a.createElement("div",{className:h()("c-sidebar_menu",n)},b.a.createElement("ul",{className:"c-sidebar_menu__list"},b.a.Children.map(r,function(t){return t?b.a.cloneElement(t,{isActive:a&&t.props.itemId===a,onActivate:e.onItemActivate}):null})))}}]),t}(d.PureComponent);g.displayName="SidebarMenu",g.displayName="SidebarMenu",g.defaultProps=v;var _=g,O=n("ifKl"),y=n("od5y"),j=n("0f2Y"),k=(m.b.any,m.b.string,m.b.bool,m.b.func,m.b.string,m.b.bool,m.b.bool,m.b.bool,m.b.string,m.b.func,{children:void 0,itemId:void 0,isActive:!1,onClick:void 0,href:void 0,isExternalLink:!1,isHeader:!1,isDivider:!1,"data-qa":"sidebar_menu_item",onActivate:O.a}),E=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleItemClick=n.handleItemClick.bind(n),n.link=b.a.createRef(),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.isActive&&this.props.onActivate(this.link.current)}},{key:"componentDidUpdate",value:function(e){!e.isActive&&this.props.isActive&&this.props.onActivate(this.link.current)}},{key:"handleItemClick",value:function(e){var t=this.props,n=t.onClick,r=t.itemId,a=t.href;n&&(a||e.preventDefault(),n(r))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.href,a=e.isExternalLink,i=e.isHeader,o=e.isDivider,s=e["data-qa"];if(o)return b.a.createElement("hr",{className:"c-sidebar_menu__divider"});if(i)return b.a.createElement("h3",{className:"c-sidebar_menu__header"},t);var c=h()("c-sidebar_menu__list_item",{is_active:n});return b.a.createElement("li",null,b.a.createElement(j.a,{href:r,className:c,onClick:this.handleItemClick,"data-qa":s,ref:this.link},t,a&&b.a.createElement(y.b,{className:"sk_light_grey",type:"external-link-small",inline:!0})))}}]),t}(d.PureComponent);E.displayName="SidebarMenuItem",E.displayName="SidebarMenuItem",E.defaultProps=k;var C=E;n.d(t,"a",function(){return C});t.b=_},rMey:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return x});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("H0/5"),c=n("aK/h"),l=n("HvGc"),u=n("hhak"),d=n("QOdn"),b=n("UYUI"),p=n("6Jf9"),h=n("qN/r"),m=n("iZHp"),f=n("DTT0"),v=n("cTgs"),g=n("uf9I"),_=n("XfeM"),O=n("DtX9"),y=n("lhZz"),j=n("Fdc0"),k=n("yHhI"),E=n("cErB"),C=n("k2C/"),I=n("Smdl"),w=n("DlLn"),S=n("s5Is"),T="[DEEP-LINK]",R=Object(_.b)("Performs deep link handling for arguments parsed from a slack: URI",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(k.a)({getState:t,label:T});r.info("handleParsedDeepLink: received "+n);var a=n.cmd,i=o()(n,["cmd"]);if(!a)return r.warn("Missing command in payload, skipping deep link"),Promise.resolve(!1);var s=i.id,c=i.item,_=i.team;if(!_)return r.warn("Missing team in payload, skipping deep link"),Promise.resolve(!1);if(Object(I.a)()&&Object(g.b)(t())!==_)return r.warn("Deeplink dispatched to the wrong team "+_+", redirecting"),Object(y.getClientStoreInstance)().dispatch(Object(S.setFocusedWorkspace)({teamId:_})).then(function(){var e=Object(y.getStoreInstanceByTeamId)(_);return!!e&&e.dispatch(R(n))});var E=Object(O.b)(t());e(Object(f.a)()),r.info("About to handle '"+a+"' command\u2026");var C="'"+a+"' is not yet implemented!";switch(a){case"browse":return"channels"===c?e(Object(d.a)()):(r.warn("No 'browse' command for item: "+c),Promise.resolve(!1));case"channel":return e(Object(u.a)({teamId:_,channelId:s,ts:i.message,threadTs:i.thread_ts}));case"create":return"channel"===c?e(Object(b.a)()):(r.warn("No 'create' command for item: "+c),Promise.resolve(!1));case"file":return e(Object(l.c)({fileId:s}));case"files":return e(Object(l.g)({filetype:i.file_type,user:i.user_id}));case"invite":return Object(j.X)(E)?e(Object(p.a)()):(r.warn("User does not have access to invites"),Promise.resolve(!1));case"notifications":return e(Object(h.a)({activeSection:"notifications"}));case"preferences":return e(Object(h.a)({activeSection:i.section}));case"share-file":return e(Object(m.a)({fileId:s,showFileType:!0})),e(Object(l.c)({fileId:s}));case"team":return e(s?Object(l.j)({memberId:s}):Object(l.i)());case"user":return e(Object(v.a)({id:s}));default:return r.warn(C),Promise.resolve(!1)}});R.propTypes={cmd:c.b.string.isRequired,team:c.b.string.isRequired,id:c.b.string,message:c.b.string,thread_ts:c.b.string};var N=Object(_.b)("Performs deep link handling for a slack: URI",function(e,t,n){var r=Object(k.a)({getState:t,label:T});if(r.info("handleDeepLink: received "+n),!n||!n.startsWith("slack://"))return r.warn("Deep link is empty or not a slack: link"),Promise.resolve(!1);var i=Object(E.j)(n),o=i.protocol,c=i.pathname,l=Object(s.a)(c,"/");if("slack:"!==o)return r.warn("Parsed link is not a slack: link"),Promise.resolve(!1);var u=Object(E.q)(n);return r.info("Parsed arguments from deep link",a()({cmd:l},u)),e(R(a()({cmd:l},u)))});N.propTypes=c.b.string.isRequired;var x=Object(_.b)("Performs deep link handling for serialized JSON from the SSB",function(e,t,n){var r=Object(k.a)({getState:t,label:T});r.info("handleDeepLinkFromDesktop: received deep link from desktop: "+n);var a=function(e){try{return JSON.parse(e)}catch(e){return null}}(n);return a?!a.team&&Object(I.a)()&&Object(C.a)(a.cmd.toUpperCase())?Promise.resolve(Object(w.e)(a.cmd.toUpperCase())):Object(I.a)()&&a.team===Object(g.b)(t())?Object(y.getClientStoreInstance)().dispatch(Object(S.setFocusedWorkspace)({teamId:a.team})).then(function(){return e(R(a))}):e(R(a)):(r.warn("Failed to parse the payload, skipping deep link"),Promise.resolve(!1))});x.propTypes=c.b.string.isRequired},rMl1:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("TGBA"),h=n("CpTu"),m=n("hbEN"),f=n("ifKl"),v=n("kxpR"),g=n.n(v),_=n("XHGt"),O=n("tn36"),y=n("aK/h"),j=n("nNoG"),k=n("HO/Y"),E=n("apxm"),C=n("Qrgz"),I=n("XfeM"),w=n("om+M"),S=n("4zXV"),T=Object(w.a)("Fetch IMs from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.latest,a=void 0===r||r,i=n.reason;return e(Object(S.a)({method:"im.list",args:{get_latest:a},reason:i}))});T.propTypes={latest:y.b.bool,reason:y.b.string.isRequired};var R=n("CJqQ"),N=Object(I.b)("Fetch a list of all IMs",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.latest,a=n.reason;return e(T({latest:r,reason:a})).then(function(e){return e&&e.ims||[]}).then(function(t){return e(Object(R.b)({channels:t,reason:a}))})});N.propTypes={latest:y.b.bool,reason:y.b.string.isRequired};var x=N,M=Object(w.a)("Fetch MPIMs from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.latest,a=void 0===r||r,i=n.reason;return e(Object(S.a)({method:"mpim.list",args:{get_latest:a},reason:i}))});M.propTypes={latest:y.b.bool,reason:y.b.string.isRequired};var P=Object(I.b)("Fetch a list of all MPIMs",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.latest,a=n.reason;return e(M({latest:r,reason:a})).then(function(e){return e&&e.groups||[]}).then(function(t){return e(Object(R.b)({channels:t,reason:a}))})});P.propTypes={latest:y.b.bool,reason:y.b.string.isRequired};var A=P,D=n("ntJl"),L=n("a3KO"),q=n("wYji"),F=n("7WZX"),B=n("DTT0"),U=n("Fdc0"),H=n("6kok"),K=n("5mKg"),G=n("kOzZ"),V=n("yHhI"),z=n("Zr7G"),Y=n("negh"),W=n("jYCR"),Q=n("VjHM"),X=n("DtX9"),Z=n("rtjy"),J=n("aJY5"),$=n("iH/p"),ee=n("qafc"),te=n("lhZz"),ne=n("D4L/"),re=n("+j2t"),ae=n("Smdl"),ie=n("UYUI"),oe=n("9oTK"),se=n("m1cH"),ce=n.n(se),le=n("zmn3"),ue=n("HiDb"),de=n("FHcd"),be=n("clTI"),pe=n("TcTh"),he=n("1zbP"),me=n("sk9p"),fe=n.n(me),ve=n("BeL+"),ge=n("S1sa"),_e=n("CPJ1"),Oe=n("St+r"),ye=Object(I.b)('Ensures members with corresponding ids are "known"',function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberIds,r=t(),a=Object(X.a)(r),i=Object(ve.a)(n).filter(function(e){return Object(de.a)(e)}),o=Object(ge.a)(i,function(e){return a[e]&&!Object(he.d)(a[e])}),s=fe()(o,2),c=s[0],l=s[1];function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resolved;return c.map(function(e){return a[e]}).concat(e||[])}return Object(k.k)(r)&&!Object(Oe.j)(r)||!Object(k.r)(r)?e(Object(_e.b)({ids:l,reason:"ensureMembersArePresent isEarlyCallsBoot"})).then(u):e(Object(_e.a)({ids:l,reason:"ensureMembersArePresent"})).then(u)});ye.propTypes={memberIds:y.b.arrayOf(y.b.string)};var je,ke=ye,Ee=function(e,t){return Object(be.l)(e).filter(function(n){var r=Object(H.G)(n);if(!Object(de.a)(r))return!1;var a=Object(X.c)(e,r);return!Object(he.c)(a)&&(!Object(U.eb)(a)&&(!t||Object(U.X)(a)))})},Ce=function(e,t,n){var r=Date.now()/1e3,a=24*n*60*60;return t.map(function(t){var n=Object(pe.h)(e,t.id)||{},i=Object(H.E)(t,n.timestamps),o=void 0;if(i){var s=parseFloat(i);r-s<=a&&(o=i)}var c=void 0;return o||(c=Object(H.x)(e,t,{imIncludeAtSign:!1})),{channel:t,latestTs:o,name:c}})},Ie=function(e,t){return e.latestTs&&!t.latestTs?-1:!e.latestTs&&t.latestTs?1:e.latestTs&&t.latestTs?t.latestTs-e.latestTs:Object(H.eb)(e.channel)&&!Object(H.eb)(t.channel)?-1:!Object(H.eb)(e.channel)&&Object(H.eb)(t.channel)?1:Object(j.o)(e.name,t.name)},we=function(e,t){var n=[],r=Object(be.l)(e),a=Object(le.a)(r,function(e){return Object(H.G)(e)});if(n.push.apply(n,ce()(a)),!t){var i=Object(be.n)(e),o=Object(ue.a)(i,function(e){return Object(H.H)(e)});n.push.apply(n,ce()(o))}return n},Se=Object(I.b)("Return a promise to get a list of recent conversations",(je=Object(oe.coroutine)(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,s,c,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=l.isAdminMode,d=l.maxDays,b=l.ensureKnownMembers;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=5;break}return r=n(),a=we(r,u),e.next=5,Object(oe.resolve)(t(ke({memberIds:a})));case 5:return i=n(),o=Ee(i,u),u||(l=i,s=Object(be.n)(l).filter(function(e){return!Object(he.c)(e)&&!!Object(H.Ob)(e)}),o.push.apply(o,ce()(s))),(c=Ce(i,o,d)).sort(Ie),e.abrupt("return",c);case 11:case"end":return e.stop()}var l},e,void 0)})),function(e,t,n){return je.apply(this,arguments)}));Se.propTypes={ensureKnownMembers:y.b.bool,isAdminMode:y.b.bool,maxDays:y.b.number};var Te=Se,Re=function(e,t){if(!t)return!1;if(Object(H.eb)(t)){var n=Object(H.G)(t),r=Object(X.c)(e,n);return Object(U.yb)(r)||Object(U.zb)(r)||Object(U.eb)(r)||Object(U.bb)(r)}return!!Object(H.lb)(t)&&function(e,t){return!!t&&Object(H.H)(t).some(function(t){var n=Object(X.c)(e,t);return Object(U.eb)(n)})}(e,t)},Ne=function(e,t,n){return n||!!(r=t.member)&&(Object(U.yb)(r)||Object(U.zb)(r)||Object(U.eb)(r)||Object(U.bb)(r))||Re(e,t.channel);var r},xe=Object(I.b)("Return a promise to indicate if the selected option should open directly in IM",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectedOption,a=void 0===r?{}:r,i=n.isCurrentUserUltraRestricted,o=void 0!==i&&i;return Promise.resolve(Ne(t(),a,o))});xe.propTypes={isCurrentUserUltraRestricted:y.b.bool,selectedOption:y.b.shape({value:y.b.string,channel:y.b.object,member:y.b.object})};var Me=xe,Pe=n("xWuZ"),Ae=n("lE2N"),De=function(e){var t=e.selectedOptions,n=e.currentUserId,r=t.map(function(e){if(e.member)return{value:e.member.id};if(!e.channel)return e;var t=e.channel;return(Object(H.lb)(t)?Object(H.H)(t).filter(function(e){return e!==n}):[Object(H.G)(t)]).map(function(e){return{value:e}})});return Object(Ae.a)(Object(Pe.a)(r),"value")},Le=n("Yk7g"),qe=function(e){var t=e.option,n=e.selectedOptions,r=e.currentUserId;if(n&&n.length){var a=function(e){return!e||e&&!e.length?[]:e.map(function(e){return e.value})}(n);if(Object(H.lb)(t)&&!function(e){var t=e.mpim,n=e.selectedMemberIds,r=e.currentUserId,a=Object(H.H)(t);return!(!a||a&&!a.length)&&(a=a.filter(function(e){return e!==r}),n.every(function(e){return-1!==a.indexOf(e)})&&a.length>n.length)}({mpim:t,selectedMemberIds:a,currentUserId:r}))return!1;if(Object(U.bb)(t))return!1}return!0},Fe=function(e,t){var n=e.member;return!!(t&&n&&Object(U.lb)(n))&&Object(U.J)(n)!==t},Be=function(e){var t=e.isAdminMode,n=e.selectedOptions,r=e.currentUserId;if(t)return{entities:{members:{includeBots:!0,includeSlackbot:!0,includeSelf:!1,includeDeleted:!0,onlyAdmins:!0,onlyLocalTeam:!1}},limit:24,allowEmptyQuery:!0,sort:{frecency:!0},fuzzyLimit:3,returnMetadata:!0};var a=n&&n.length;return{entities:{members:{includeBots:!0,includeSlackbot:!a,includeSelf:!a,includeDeleted:!a,onlyAdmins:!1,onlyLocalTeam:!1},channels:{includeArchived:!0,includeFromAnotherTeam:!1,includeMpims:!0,onlyIfMember:!1,onlyVisibleMpims:!0,includePublic:!1,includePrivate:!1}},limit:24,filter:function(e){return qe({option:e,selectedOptions:n,currentUserId:r})},allowEmptyQuery:!0,fuzzyLimit:3,returnMetadata:!0,sort:{frecency:!0,normalize:!0,preferChannelsUserBelongsTo:!0,preferExactMatch:!0,preferMpimsWithActiveMembers:!0}}},Ue=Object(I.b)("Return a promise with the options list filtered",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.options,i=void 0===r?[]:r,o=n.selectedOptions,s=void 0===o?[]:o,c=n.currentUserId,l=n.showMpims,u=void 0===l||l,d=n.skipSearcherFilter,b=void 0!==d&&d,p=n.adminMode,h=void 0===p?null:p,m=i.filter(function(e){var n=e.channel,r=e.member,a=s&&s.length,i=!(!u&&n)||!Object(H.lb)(e.channel),o=!0;b||(o=qe(r?{option:r,selectedOptions:s,currentUserId:c}:{option:n,selectedOptions:s,currentUserId:c}));var l=!0;if(a)if(r)l=!Object(U.yb)(r)&&!Object(U.zb)(r);else if(n&&Object(H.eb)(n)){var d=Object(H.G)(n),p=Object(X.c)(t(),d);l=!Object(U.yb)(p)&&!Object(U.zb)(p)}var m=!0;if(h&&r)switch(h){case re.a.disconnectChannel:m=Object(C.f)(t(),{member:r});break;case re.a.createChannel:case re.a.acceptInvite:case re.a.convertChannel:case re.a.archiveChannel:default:m=Object(U.e)(t(),{member:r})}return i&&o&&l&&m}),f=function(e,t){var n=null;return t.forEach(function(t){var r=Object(X.c)(e,t.value);Object(U.lb)(r)&&(n=Object(U.J)(r))}),n}(t(),s),v=m.map(function(e){return a()({},e,{isDisabled:Fe(e,f)})});return Promise.resolve(v)});Ue.propTypes={options:y.b.array,selectedOptions:y.b.arrayOf(y.b.shape({value:y.b.string})),currentUserId:y.b.string,showMpims:y.b.bool,adminMode:y.b.string};var He=n("fujP"),Ke=n("icQl"),Ge=n("aolG"),Ve=n("WD4z"),ze=n("0f2Y"),Ye=n("+Vvh"),We=n("yIs4"),Qe=n("k0G2"),Xe=n("TBq9"),Ze=n("XLFM"),Je=n("od5y"),$e=new j.b("im_browser"),et=(y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.number,y.b.func,y.b.shape({options:y.b.arrayOf(y.b.object),filterQuery:y.b.string,selectedOptions:y.b.arrayOf(y.b.object.isRequired)}),y.b.func,{featureSonicDmBrowser:!1,isDisabled:!1,isLoading:!1,isSubmitting:!1,maxSelections:0,onSubmit:f.a,selectState:{options:void 0,filterQuery:void 0,selectedOptions:void 0},setSelectState:f.a}),tt=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onControlsKeyDown=n.onControlsKeyDown.bind(n),n}return b()(t,e),c()(t,[{key:"onControlsKeyDown",value:function(e){var t=this.props,n=t.isDisabled,r=t.selectState,a=t.onSubmit;if(e.keyCode===Qe.e){if(n)return;if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;if(Object(We.a)(r.activeRowIndex))return;a()}}},{key:"renderMeta",value:function(){var e=this.props,t=e.featureSonicDmBrowser,n=e.maxSelections,r=e.selectState;if(!t)return null;var a=r.options,i=r.filterQuery,o=r.selectedOptions,s=void 0;if(i)Object(He.a)(a)||(s=g.a.createElement(g.a.Fragment,null,$e.rt("Tab or {up}{down} to navigate",{up:g.a.createElement(Je.b,{type:"arrow-large-up",size:"inherit"}),down:g.a.createElement(Je.b,{type:"arrow-large-down",size:"inherit"})}),g.a.createElement("span",{className:"margin_left_100"},$e.rt("Return {enter} to add selection",{enter:g.a.createElement(Je.b,{type:"enter",size:"inherit"})}))));else if(!Object(He.a)(o)){var c=n-o.length;1===c?s=$e.t("You can add 1 more person"):c>1&&(s=$e.t("You can add {numRemaining} more people",{numRemaining:c}))}return s&&g.a.createElement("div",{className:"p-dm_browser_modal__controls_meta",role:"alert"},s)}},{key:"render",value:function(){var e=this.props,t=e.featureSonicDmBrowser,n=e.isDisabled,r=e.isLoading,a=e.isSubmitting,i=e.onSubmit,o=e.selectState,s=e.setSelectState;return t?g.a.createElement("div",{className:"margin_bottom_150"},g.a.createElement("div",{className:"p-dm_browser_modal__controls"},g.a.createElement(Xe.a,{selectState:o,setSelectState:s,size:"large",width:"100%",placeholderText:$e.t("Find or start a conversation"),onKeyDown:this.onControlsKeyDown,focusOnMount:!0,isLoading:r,classPrefix:"p-dm_browser_modal",maxHeight:150}),g.a.createElement(Ze.b,{disabled:n,loading:a,onClick:i,size:"large"},$e.t("Go"))),this.renderMeta()):null}}]),t}(v.PureComponent);tt.displayName="DmBrowserControls",tt.defaultProps=et;var nt=tt,rt=n("uPpK"),at=n("Py5X"),it=n("TSYQ"),ot=n.n(it),st=n("fyoz"),ct=n("j4ta"),lt=n("82mD"),ut=n("WeBd"),dt={count:y.b.number,type:y.b.oneOf(["member","channel"]).isRequired,id:y.b.string.isRequired},bt={count:void 0},pt=function(e){var t=e.count;return t?g.a.createElement(ut.b,{count:t,className:"p-dm_browser_modal__list_row_badge"}):null};pt.displayName="DmBrowserRowBadge",pt.defaultProps=bt;var ht=Object(_.b)(function(e,t){var n=t.type,r=t.id,a="member"===n?Object(be.j)(e,r):Object(be.d)(e,r);return a?{count:Object(be.c)(e,a)}:{}})(pt);ht.propTypes=dt,ht.defaultProps=bt;var mt=ht,ft=new j.b("im_browser"),vt=(y.b.object,y.b.object,y.b.string,y.b.bool,y.b.bool,y.b.bool,{channel:void 0,member:void 0,latestTs:void 0,isActive:!1,isDisabled:!1,featureSonicDmBrowser:!1}),gt=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderSecondaryContent",value:function(){var e=this.props,t=e.channel,n=e.isActive,r=e.latestTs,a=e.member,i=e.isDisabled;if(!e.featureSonicDmBrowser)return null;var o=void 0;return o=i?ft.t("From another organization"):n?g.a.createElement(g.a.Fragment,null,ft.t("enter")," ",g.a.createElement(Je.b,{type:"enter",inline:!0})):g.a.createElement(g.a.Fragment,null,g.a.createElement("div",null,r&&parseFloat(r)>Date.now()/1e3-15768e4&&Object(lt.q)(r)),g.a.createElement(mt,{type:a?"member":"channel",id:a?a.id:t.id})),g.a.createElement("div",{className:"p-dm_browser_modal__list_row_meta"},o)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.isActive,r=e.member,i=e.isDisabled,o={className:ot()({"p-dm_browser_modal__list_row--active":n}),secondaryContent:this.renderSecondaryContent(),isDeactivated:!!i};if(r){var s=g.a.createElement(st.b,a()({},o,{id:r.id,size:"medium",maxLines:1,forceModern:!0}));return i?g.a.createElement("div",{className:"p-dm_browser_modal__list_row--disabled"},s):s}if(Object(H.lb)(t))return g.a.createElement(ct.a,a()({},o,{id:t.id}));if(Object(H.eb)(t)){var c=Object(H.G)(t);if(c)return g.a.createElement(st.b,a()({},o,{id:c,size:"medium",forceModern:!0,showStatus:!0,noStatusText:!0,maxLines:1}))}return null}}]),t}(v.PureComponent);gt.displayName="DmBrowserListRow",gt.defaultProps=vt;var _t=gt,Ot=function(e){var t=e.listOption,n=e.selectedOption,r=t.member,a=t.channel;if(r)return n.value===t.value;if(a&&Object(H.eb)(a)){var i=Object(H.G)(a);return n.value===i}return!1},yt=(y.b.shape({options:y.b.arrayOf(y.b.oneOfType([y.b.shape({channel:y.b.object.isRequired,latestTs:y.b.string,value:y.b.string,isDisabled:y.b.bool}),y.b.shape({member:y.b.object.isRequired,value:y.b.string,isDisabled:y.b.bool})])).isRequired,selectId:y.b.string}).isRequired,y.b.func.isRequired,y.b.bool.isRequired,function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(O.a)(n,["renderOption"]),n}return b()(t,e),c()(t,[{key:"renderOption",value:function(e,t){var n=e.channel,r=e.latestTs,a=e.member,i=e.isDisabled,o=t.isActive;return g.a.createElement(_t,{channel:n,latestTs:r,member:a,isActive:o,isDisabled:i,featureSonicDmBrowser:this.props.featureSonicDmBrowser})}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectState,r=t.setSelectState;return g.a.createElement("div",{className:"p-dm_browser_modal__list"},g.a.createElement(rt.a,null,function(t){var a=t.width,i=t.height;return g.a.createElement(at.a,{multiSelectMode:!0,includeWrapper:!1,includePadding:!1,selectState:n,setSelectState:r,renderOption:e.renderOption,classPrefix:"p-dm_browser_modal",width:a,maxListHeight:i,optionsRowHeight:60,position:"below",customOptionCompare:Ot,unstyled:!0,emptyStateMessage:f.a})}))}}]),t}(g.a.Component));yt.displayName="DmBrowserList";yt.defaultProps={};var jt=Object(_.b)(function(){return{}})(yt),kt=n("rWF5"),Et=new j.b("im_browser"),Ct=(y.b.bool,function(e){return e.featureSonicDmBrowser?g.a.createElement(Ve.a,{className:"p-dm_browser_modal__tip",icon:"magic",level:"info"},Et.rt("<r1>Tip:</r1> Jump easily from one channel or DM to another with the Quick Switcher ({shortcut}).",{shortcut:Object(kt.p)()?"\u2318K":"Ctrl+K"},function(e){var t=e.text;return g.a.createElement("strong",null,t)})):null});Ct.displayName="DmBrowserShortcutTip",Ct.defaultProps={featureSonicDmBrowser:!1};var It=Ct,wt=n("hUMe"),St={GUEST:Symbol("guest"),GUESTS:Symbol("guests"),EXTERNAL:Symbol("external_team")},Tt=new j.b("im_browser"),Rt=(y.b.string,y.b.bool,y.b.string,y.b.oneOf(Object(p.a)(St)),{externalTeamId:void 0,featureSonicDmBrowser:!1,guestMemberId:void 0,type:void 0}),Nt=function(e){var t=e.externalTeamId,n=e.featureSonicDmBrowser,r=e.guestMemberId,a=e.type;if(!n)return null;var i=void 0;return a===St.GUEST&&r?i=Tt.rt("{member} is a guest of your team, so share files and information with care.",{member:g.a.createElement("strong",null,g.a.createElement(st.a,{id:r}))}):a===St.GUESTS?i=Tt.t("Some participants have guest accounts, so share files and information with care."):a===St.EXTERNAL&&t&&(i=Tt.rt("You\u2019re starting a conversation with {team}. Be sure to share files and information with care.",{team:g.a.createElement("strong",null,g.a.createElement(wt.a,{id:t}))})),i?g.a.createElement(Ve.a,{className:"p-dm_browser_modal__alert",level:"warning"},i):null};Nt.displayName="DmBrowserWarning",Nt.defaultProps=Rt;var xt=Object(_.b)(function(e,t){var n=t.selectedMemberIds;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isUserRestricted,n=e.selectedMembers;if(Object(He.a)(n))return null;var r=Object(h.a)(n,function(e){return Object(U.lb)(e)});if(r)return{type:St.EXTERNAL,externalTeamId:Object(U.J)(r)};if(t)return null;var a=n.filter(function(e){return Object(U.xb)(e)});return 1===a.length?{type:St.GUEST,guestMemberId:a[0].id}:a.length>1?{type:St.GUESTS}:null}({isUserRestricted:Object(U.xb)(Object(X.b)(e)),selectedMembers:Object(le.a)(n,function(t){return Object(X.c)(e,t)})})||{}})(Nt),Mt=(n("Vfth"),new j.b("im_browser")),Pt=(y.b.string.isRequired,y.b.node,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.bool,y.b.number,y.b.func,y.b.func,y.b.func,y.b.shape({options:y.b.arrayOf(y.b.oneOfType([y.b.shape({channel:y.b.object.isRequired,latestTs:y.b.string}),y.b.shape({member:y.b.object.isRequired,value:y.b.string.isRequired})])).isRequired,filterQuery:y.b.string,selectedOptions:y.b.arrayOf(y.b.object.isRequired)}),y.b.func,y.b.oneOf(Object(p.a)(re.b)),y.b.bool,y.b.bool,y.b.func,y.b.bool,y.b.func,{subtitle:"",canCreateChannels:!1,featureSonicDmBrowser:!1,isAdminMode:!1,isLoading:!1,isSubmitting:!1,hasError:!1,maxSelections:8,onClose:f.a,onCreatePrivateChannel:f.a,onSubmit:f.a,selectState:{options:[],filterQuery:void 0,selectedOptions:void 0},setSelectState:f.a,source:re.b.DEFAULT,showOpenTransition:!0,featureSteepleChurch:!1,openFromDmBrowser:f.a,seenPeopleSearch:!0,closeModal:f.a}),At=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getOptionValues=Object(Ke.a)(function(e){return e.map(function(e){return e.value})}),n.onInProductEducationClick=n.onInProductEducationClick.bind(n),n}return b()(t,e),c()(t,[{key:"onInProductEducationClick",value:function(){this.props.closeModal(),this.props.onClose(),this.props.openFromDmBrowser({query:this.props.selectState.filterQuery||""})}},{key:"renderWrapper",value:function(e){var t=this,n=this.props,r=n.featureSonicDmBrowser,a=n.isLoading,i=n.isSubmitting,o=n.hasError,s=n.maxSelections,c=n.onClose,l=n.onSubmit,u=n.selectState,d=n.setSelectState,b=n.source,p=n.onCreatePrivateChannel,h=n.showOpenTransition,m=n.title,f=n.subtitle,v=n.canCreateChannels,_=n.seenPeopleSearch;if(!r)return null;var O=b===re.b.MPIM,y=!_;return g.a.createElement(Ge.a,{modalBodyClasses:"p-dm_browser_modal__body",onCancel:c,showCancelButton:!1,showGoButton:!1,title:m,showOpenTransition:h},f&&g.a.createElement("div",{className:"p-dm_browser_modal__subtitle"},f),O&&v&&g.a.createElement(Ve.a,{className:"margin_bottom_100",level:"info"},Mt.rt("This will start a new conversation. If you need to add a lot more people, you can <a>create a private channel</a> instead.",null,function(e){var t=e.key,n=e.text;return g.a.createElement(ze.a,{key:t,onClick:p},n)})),g.a.createElement("div",{className:"p-dm_browser_modal__alerts"},g.a.createElement(xt,{featureSonicDmBrowser:r,selectedMemberIds:this.getOptionValues(u.selectedOptions)}),o&&g.a.createElement(Ve.a,{className:"p-dm_browser_modal__alert",level:"error"},Mt.t("Oops! Something went wrong. Please try again in a moment."))),g.a.createElement(nt,{featureSonicDmBrowser:r,isDisabled:Object(He.a)(u.selectedOptions),isLoading:a,isSubmitting:i,maxSelections:s,onSubmit:l,selectState:u,setSelectState:d}),y&&this.props.featureSteepleChurch&&g.a.createElement(Ve.a,{"data-qa":"dm-browser-search-education",className:"margin_bottom_100",level:"info"},Mt.rt("Looking for someone but can\u2019t remember their name? Switch to search to find people based on title, profile info, or topics they talk about. <a>Search for people</a>",null,function(e){var n=e.text,r=e.key;return g.a.createElement(ze.a,{key:r,onClick:t.onInProductEducationClick},n)},{ns:"search"})),e)}},{key:"render",value:function(){var e=this.props,t=e.canCreateChannels,n=e.featureSonicDmBrowser,r=e.isAdminMode,a=e.maxSelections,i=e.onCreatePrivateChannel,o=e.selectState,s=e.setSelectState,c=e.seenPeopleSearch,l=e.featureSteepleChurch,u=o.options,d=o.selectedOptions,b=o.filterQuery;if(!n)return null;if(d&&d.length>=a)return this.renderWrapper(t&&g.a.createElement("div",{className:"display_flex justify_content_center full_width"},g.a.createElement(Ye.a,{className:"p-dm_browser_modal__max_reached",title:Mt.t("You have reached the maximum number of participants"),description:Mt.t("Need to add more people?"),primaryActionText:Mt.t("Create a private channel instead"),onClickPrimaryAction:i})));if(b){if(Object(He.a)(u))return this.renderWrapper(g.a.createElement("div",{"data-qa":"no_results_match_query",className:"p-dm_browser_modal__centered_content",role:"alert"},Mt.rt("No one found matching {query}",{query:g.a.createElement("strong",null,b)})));var p=!l||c;return this.renderWrapper(g.a.createElement(g.a.Fragment,null,p&&g.a.createElement(It,{featureSonicDmBrowser:n}),g.a.createElement(jt,{featureSonicDmBrowser:n,onOptionSelected:this.handleOptionSelected,selectState:o,setSelectState:s})))}var h=r?Mt.t("Admins"):Mt.t("Recent conversations");return this.renderWrapper(g.a.createElement(g.a.Fragment,null,u.length?g.a.createElement("div",{className:"p-dm_browser_modal__list_heading"},h):null,g.a.createElement(jt,{featureSonicDmBrowser:n,onOptionSelected:this.handleOptionSelected,selectState:o,setSelectState:s})))}}]),t}(g.a.Component);At.displayName="DmBrowserModal",At.defaultProps=Pt;var Dt=At,Lt=new j.b("im_browser"),qt=new j.b("shared_channels"),Ft=(y.b.bool,y.b.object,y.b.object.isRequired,y.b.func,y.b.bool,y.b.func,y.b.func,y.b.arrayOf(y.b.string.isRequired),y.b.arrayOf(y.b.string),y.b.oneOf([re.a.createChannel,re.a.acceptInvite,re.a.convertChannel,re.a.disconnectChannel,re.a.archiveChannel]),y.b.string,y.b.node,y.b.func,y.b.func.isRequired,y.b.func.isRequired,y.b.string.isRequired,y.b.func,y.b.func,y.b.func,y.b.bool.isRequired,y.b.func.isRequired,y.b.func.isRequired,y.b.object,y.b.string.isRequired,y.b.bool,y.b.oneOf(Object(p.a)(re.b)),y.b.bool,y.b.func,y.b.func,y.b.func.isRequired,y.b.func.isRequired,y.b.bool,y.b.func,y.b.bool,{canCreateChannels:!1,clogger:{track:f.a},closeModal:f.a,featureSonicDmBrowser:!1,featureEscGridMigrationsClient:!1,fetchImList:f.a,fetchMpimList:f.a,initialSelectedMemberIds:void 0,adminMode:void 0,adminModeChannelName:null,adminModeTeamName:null,startMpimByMemberIds:f.a,recordFrecencyEvent:f.a,onSubmit:f.a,enqueueToast:f.a,filteredInitialSelectedMemberIds:void 0,telemeter:{mark:f.a,measureAndClear:f.a},source:re.b.DEFAULT,showOpenTransition:!0,addEphemeralFeedback:f.a,openChannelCreateModal:f.a,featureSteepleChurch:!1,openFromDmBrowser:f.a,seenPeopleSearch:!0}),Bt=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(O.a)(n,["setSelectState","handleClose","handleSubmit","handleCreatePrivateChannel"]),n.state={isLoading:!1,isSubmitting:!1,hasError:!1,selectState:{options:[],filterQuery:void 0,selectedOptions:(e.filteredInitialSelectedMemberIds||[]).map(function(e){return{value:e}}),selectId:"dm-browser"},recentConversations:[],admins:[]},n.numOfSearchRequests=0,n.search=Object(m.a)(n.search,100),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clogger,n=e.adminMode;t.track(Y.k.IM_BROWSER_OPEN);n?this.search(""):this.getInitialRecentConversations("dm-browser-modal-container_mount")}},{key:"componentWillUnmount",value:function(){this.closeTimer&&clearTimeout(this.closeTimer)}},{key:"getInitialRecentConversations",value:function(e){var t=this;this.getRecentConversations().then(function(){return Promise.all([t.props.fetchImList({reason:e}),t.props.fetchMpimList({reason:e})])}).then(function(){return t.getRecentConversations({ensureKnownMembers:!0})}).finally(function(){t.setState(function(){return{isLoading:!1}})})}},{key:"getRecentConversations",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ensureKnownMembers,n=this.props,r=n.adminMode,i=n.currentUserId;return this.props.getRecentConversations({isAdminMode:!!r,maxDays:365,ensureKnownMembers:t}).then(function(t){var n=e.state.selectState,r=n.selectedOptions,o=function(e){return e.map(function(e){return a()({},e,{value:e.channel.id})})}(t);if(r&&r.length){var s={options:o,selectedOptions:r,currentUserId:i,showMpims:!r.length};e.filterOptions(s)}else e.setState(function(){return{recentConversations:o,selectState:a()({},n,{options:o})}})})}},{key:"setSelectState",value:function(e){var t=e(),n=t.filterQuery,r=t.selectedOptions,i=this.state,o=i.selectState,s=i.recentConversations,c=i.admins,l=o.selectedOptions,u=o.filterQuery,d=this.props,b=d.clogger,p=d.currentUserId,h=d.adminMode,m=this.hasNewQuery(n,u),f=this.hasNewSelection(r,l),v=this.hasModifiedSelections(r,l),g=a()({},o,t);if(f){var _=g.selectedOptions,O=_[_.length-1];u&&!this.props.adminMode&&this.props.clogSearcherAccept({data:{query:u,selectedItem:O,results:o.options,source:"dm-browser",selectedType:O.member||O.channel&&Object(H.eb)(O.channel)?"member":"mpim"}}),this.maybeOpenDirectly(O)}v&&(g=a()({},g,{selectedOptions:De({selectedOptions:r,currentUserId:p})}));var y=!g.filterQuery&&(m||v);if(m&&b.track(Y.k.IM_BROWSER_QUERY),m&&n&&this.search(n),u||n||!h||(g=a()({},g,{options:c})),y){var j=g.filterQuery||!g.selectedOptions.length;this.filterOptions({options:s,selectedOptions:g.selectedOptions,currentUserId:p,showMpims:j})}this.setState(function(e){return{selectState:g,isLoading:!(!m||!n)||e.isLoading}})}},{key:"getModalCopy",value:function(){var e=this.props,t=e.adminMode,n=e.adminModeChannelName,r=e.adminModeTeamName,a=void 0,i=void 0;return t?t===re.a.createChannel||t===re.a.convertChannel||t===re.a.archiveChannel||t===re.a.acceptInvite?(a=Lt.t("Find an admin"),i=qt.t("Only admins can share and unshare channels. If you\u2019d like to share a channel, you\u2019ll need to ask one of the admins below.")):t===re.a.disconnectChannel&&(a=Lt.t("Find an admin"),i=qt.rt("Only admins can share and unshare channels. If you\u2019d like to stop sharing <strong>{channel_name}</strong> with <strong>{team_name}</strong>, you\u2019ll need to ask one of the admins below.",{channel_name:n,team_name:r})):(a=Lt.t("Direct Messages"),i=null),{title:a,subtitle:i}}},{key:"hasNewSelection",value:function(e,t){return void 0!==e&&e.length>t.length}},{key:"hasModifiedSelections",value:function(e,t){return void 0!==e&&e!==t}},{key:"hasNewQuery",value:function(e,t){return void 0!==e&&e!==t}},{key:"filterOptions",value:function(e){var t=this;this.props.filterOptions(e).then(function(n){t.setState(function(t){return{selectState:a()({},t.selectState,{options:n}),recentConversations:e.options||t.recentConversations}})})}},{key:"maybeOpenDirectly",value:function(e){var t=this,n=this.props.isCurrentUserUltraRestricted,r=this.state.selectState.filterQuery;this.recordOptionInFrecency(r,e),this.props.shouldOpenDirectlyInIm({selectedOption:e,isCurrentUserUltraRestricted:n}).then(function(n){n&&t.openImWithSelectedOption(e)})}},{key:"openImWithSelectedOption",value:function(e){var t=this.props.currentUserId;if(e)if(e.channel&&Object(H.lb)(e.channel)){var n=De({selectedOptions:[e],currentUserId:t}).map(function(e){return e.value});this.startConversation(n)}else if(e.channel&&Object(H.eb)(e.channel)){var r=e.channel.user;this.startConversation([r])}else{var a=e.value;this.startConversation([a])}}},{key:"recordOptionInFrecency",value:function(e,t){e&&this.props.recordFrecencyEvent({id:t.value,text:e})}},{key:"search",value:function(e){var t=this,n=this.props,r=n.adminMode,i=n.currentUserId,o=n.telemeter,s=this.state.selectState.selectedOptions,c=!!r;o.mark("im_browser_search_start"),this.numOfSearchRequests+=1,this.props.search({query:e,options:Be({isAdminMode:c,selectedOptions:s,currentUserId:i})}).then(function(n){o.measureAndClear("im_browser_search_start","im_browser_search_searcher");var l=function(e,t){return e.map(function(e){var n=e.item;return Object(de.a)(n.id)?{member:n,value:n.id,score:e.score}:(Object(H.lb)(n)&&(n=a()({},n,{members:n.members.filter(function(e){return e.id!==t})})),{channel:n,value:n.id,score:e.score})})}(function(e){return Object(Pe.a)(Object(Le.a)(Object(ge.a)(e,function(e){return Object(U.eb)(e.item)})))}(n),i);if(s&&s.length||c){var u={options:l,selectedOptions:s,currentUserId:i,skipSearcherFilter:!0,adminMode:r};t.props.filterOptions(u).then(function(n){t.setState(function(t){if(!t.selectState.filterQuery&&!c)return{};if(!e&&c){var r=t.admins.length?t.admins:n;return{selectState:a()({},t.selectState,{options:r}),admins:r}}return{selectState:a()({},t.selectState,{options:n})}})})}else t.setState(function(e){return e.selectState.filterQuery?{selectState:a()({},e.selectState,{options:l})}:{}})}).catch(function(e){t.props.logger.error(e,"Error occurred when searching in the IM browser",{subtype:"im_browser_search_error"}),o.measureAndClear("im_browser_search_start","im_browser_search_searcher")}).finally(function(){t.numOfSearchRequests-=1,0===t.numOfSearchRequests&&t.setState(function(){return{isLoading:!1}})})}},{key:"handleClose",value:function(){this.props.clogger.track(Y.k.IM_BROWSER_END);var e=this.state.selectState.filterQuery;e&&!this.props.adminMode&&this.props.clogSearcherReject({data:{query:e,source:"dm-browser",results:this.state.selectState.options}})}},{key:"maybeRenderUnavailableToast",value:function(e){var t=this.props,n=t.featureEscGridMigrationsClient,r=t.currentTeamId,a=Object(te.getStateByTeamId)(r),i=void 0,o=void 0;if(n&&e&&(Object(h.a)(e,function(e){e&&e.team_id&&Object(K.K)(a,e.team_id)&&(o=Object(ne.i)(a,e.team_id),i=Object(K.e)(o))}),o&&i)){var s=Lt.rt("{teamName} is making some changes to their workspace, so content and conversations shared with them are temporarily unavailable.",{teamName:i},"unavailable_channel");this.props.enqueueToast({element:g.a.createElement(ee.b,null,s)})}}},{key:"handleSubmit",value:function(){var e=this.props,t=e.clogger,n=e.featureEscGridMigrationsClient,r=e.currentTeamId,a=this.state.selectState.selectedOptions.map(function(e){return e.value}),i=Object(te.getStateByTeamId)(r),o=Object(X.f)(i,a);Object(U.d)(i,o)&&n?this.maybeRenderUnavailableToast(o):(t.track(Y.k.IM_BROWSER_GO),this.startConversation(a))}},{key:"startConversation",value:function(e){var t=this,n=this.props,r=n.clogger,a=n.logger,i=n.onSubmit,o=n.adminMode;this.setState(function(){return{isSubmitting:!0,hasError:!1}}),this.props.startMpimByMemberIds({memberIds:e}).then(function(e){r.track(Y.k.IM_BROWSER_END),i(),o&&t.postEphemeralMessage(e),t.props.closeModal()}).catch(function(e){a.error("DM-BROWSER","Error trying to open IM/MPIM: ",e),t.setState(function(){return{isSubmitting:!1,hasError:!0}})})}},{key:"handleCreatePrivateChannel",value:function(){var e=this,t=this.state.selectState.selectedOptions,n=t.map(function(e){return e.value});if(Object(ae.a)()){var r={defaultToPrivate:!0,selectedOptions:t};this.props.openChannelCreateModal(r)}else Object(J.a)(null,!1,n);this.closeTimer=setTimeout(function(){return e.props.closeModal()},250)}},{key:"postEphemeralMessage",value:function(e){var t=this.props,n=t.adminMode,r=t.adminModeChannelName,a=void 0;n===re.a.createChannel||n===re.a.acceptInvite?a=qt.t("To share a channel, your admin needs a few pieces of info:\n\u2022 Who you want to share with, and why.\n\u2022 The email address of an admin at the other workspace.\n\u2022 The other workspace\u2019s Slack URL."):n===re.a.convertChannel?a=qt.t("To share this channel, your admin will need:\n\u2022 An invitation to the channel, if they\u2019re not in it already.\n\u2022 The name of the workspace you want to share with, and why.\n\u2022 The email address of an admin at the other workspace.\n\u2022 The other workspace\u2019s Slack URL."):n===re.a.disconnectChannel&&(a=qt.t("Be sure to let your admin know the name of the channel (*{channel_name}*) you\u2019d like to stop sharing.",{channel_name:r})),this.props.addEphemeralFeedback({ephemeralType:L.a.findAnAdminPrompt,message:{text:a,channel:e.id}})}},{key:"render",value:function(){var e=this.props,t=e.canCreateChannels,n=e.featureSonicDmBrowser,r=e.featureSteepleChurch,a=e.adminMode,i=e.showOpenTransition,o=e.source,s=e.seenPeopleSearch,c=this.state,l=c.isLoading,u=c.isSubmitting,d=c.hasError,b=c.selectState,p=this.getModalCopy(),h=p.title,m=p.subtitle;return g.a.createElement(Dt,{title:h,subtitle:m,canCreateChannels:t,featureSonicDmBrowser:n,isAdminMode:!!a,isLoading:l,isSubmitting:u,hasError:d,onClose:this.handleClose,onCreatePrivateChannel:this.handleCreatePrivateChannel,onSubmit:this.handleSubmit,selectState:b,setSelectState:this.setSelectState,source:o,showOpenTransition:i,featureSteepleChurch:r,openFromDmBrowser:this.props.openFromDmBrowser,seenPeopleSearch:s,closeModal:this.props.closeModal})}}]),t}(g.a.Component);Bt.displayName="DmBrowserModalContainer",Bt.defaultProps=Ft;var Ut={closeModal:function(){return B.a.apply(void 0,arguments)},fetchImList:function(){return x.apply(void 0,arguments)},fetchMpimList:function(){return A.apply(void 0,arguments)},startMpimByMemberIds:function(){return D.startMpimByMemberIds.apply(void 0,arguments)},search:function(){return W.c.apply(void 0,arguments)},recordFrecencyEvent:function(){return Z.c.apply(void 0,arguments)},getRecentConversations:function(){return Te.apply(void 0,arguments)},shouldOpenDirectlyInIm:function(){return Me.apply(void 0,arguments)},filterOptions:function(){return Ue.apply(void 0,arguments)},addEphemeralFeedback:function(){return q.b.apply(void 0,arguments)},openChannelCreateModal:function(){return ie.a.apply(void 0,arguments)},clogSearcherAccept:function(){return W.a.apply(void 0,arguments)},clogSearcherReject:function(){return W.b.apply(void 0,arguments)},enqueueToast:F.c,openFromDmBrowser:function(){return $.d.apply(void 0,arguments)}};t.a=Object(_.b)(function(e,t){var n=t.initialSelectedMemberIds,r=Object(k.b)(e),a=Object(X.c)(e,r),i=n?n.filter(function(t){var n=Object(X.c)(e,t);return!Object(U.zb)(n)&&!Object(U.yb)(n)&&!Object(U.eb)(n)}):void 0,o=Object(ne.d)(e).id;return{canCreateChannels:Object(C.B)(e),clogger:Object(G.a)({state:e}),logger:Object(V.a)({state:e}),featureSonicDmBrowser:Object(k.j)(e,"feature_sonic_dm_browser"),featureEscGridMigrationsClient:Object(k.j)(e,"feature_esc_grid_migrations_client"),currentUserId:r,isCurrentUserUltraRestricted:Object(U.Db)(a),filteredInitialSelectedMemberIds:i,telemeter:Object(z.c)({state:e}),currentTeamId:o,featureSteepleChurch:Object(E.a)(e),seenPeopleSearch:Object(Q.g)(e,"seen_people_search")}},Ut)(Bt)},rO6I:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("aK/h"),a=n("XfeM"),i=n("N0/W"),o=n("Tg3t"),s=n("yHhI"),c=6e4,l=Object(a.b)("Refresh a file by id",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fileId,r=Object(o.d)(t(),n);r&&clearTimeout(r);var a=function(){return setTimeout(function(){return e(Object(o.g)({fileId:n}))},c)};e(Object(i.j)({fileId:n})).then(function(t){return t&&t.ok&&!t.will_refresh?e(Object(o.e)({fileId:n,timeout:a()})):t&&t.ok?e(Object(o.h)({fileId:n})):e(Object(o.f)({fileId:n,timeout:a()}))}).catch(function(r){return Object(s.a)({getState:t}).error("File refresh failed",r),e(Object(o.f)({fileId:n,timeout:a()}))})});l.propTypes={fileId:r.b.string.isRequired},t.b=l},rUi3:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("TSYQ"),o=n.n(i),s=n("XHGt"),c=n("aK/h"),l=n("1zbP"),u=n("hOQf"),d=n("clTI"),b=n("IWeC"),p=n("iCc5"),h=n.n(p),m=n("V7oC"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("mRg0"),O=n.n(_),y=n("ifKl"),j=n("nNoG"),k=n("6kok"),E=n("5mKg"),C=n("uf9I"),I=n("D4L/"),w=n("HvGc"),S=n("0f2Y"),T=new j.b("attachments"),R=(c.b.string,c.b.string,c.b.string,c.b.bool,c.b.object.isRequired,c.b.func,c.b.string,{className:void 0,flexOrigin:void 0,flexOriginId:void 0,isImOrMpim:!1,showThread:y.a,teamDomain:void 0}),N=function(e){function t(){return h()(this,t),g()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.flexOrigin,i=t.flexOriginId,o=t.isImOrMpim,s=t.msg,c=t.teamDomain,l=Object(u.F)(s),d=Object(u.P)(s),b=Object(u.N)(s),p=void 0;p=Object(u.ib)(s)?T.t("View reply"):o?T.t("View conversation"):T.t("View message");var h=void 0,m=void 0;return Object(u.ib)(s)?m=function(){return e.props.showThread({channelId:l,threadTs:b,highlightTs:d,origin:r,originId:i})}:h=Object(u.u)({channelId:l,teamDomain:c,ts:d,threadTs:b}),a.a.createElement(S.a,{className:n,href:h,onClick:m},p)}}]),t}(a.a.PureComponent);N.displayName="Permalink",N.defaultProps=R;var x={showThread:function(){return w.l.apply(void 0,arguments)}},M=Object(s.b)(function(e,t){var n=t.msg,r=Object(d.d)(e,n.channel,!0),a=Object(k.v)(r),i="im"===a||"mpim"===a,o=Object(u.U)(n)||Object(C.b)(e),s=Object(I.i)(e,o);return{isImOrMpim:i,teamDomain:Object(E.f)(s)}},x)(N),P=(n("pQRS"),c.b.object,c.b.string,c.b.string,c.b.string,c.b.object.isRequired,{channel:void 0,className:void 0,flexOrigin:void 0,flexOriginId:void 0});function A(e){var t=e.msg,n=e.channel,r=e.className,i=e.flexOrigin,s=e.flexOriginId;return Object(u.F)(t)?Object(l.e)(n)?null:a.a.createElement("div",{className:o()("c-message_kit__footer",r)},a.a.createElement(b.a,{className:"c-message_kit__footer_channel",msg:t,flexOrigin:i,flexOriginId:s}),a.a.createElement("span",{className:"c-message_kit__footer_spacer"}),a.a.createElement(M,{className:"c-message_kit__footer_permalink",flexOrigin:i,flexOriginId:s,msg:t})):null}A.displayName="Footer",A.defaultProps=P;t.a=Object(s.b)(function(e,t){var n=t.msg;return{channel:Object(d.d)(e,n.channel)}})(A)},rVFV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("gSGL"),a=n("pl4z"),i=new(n.n(a).a);function o(e){return!!Object(r.a)(e)&&i.countGraphemes(e)}},raPK:function(e,t,n){"use strict";n.d(t,"d",function(){return B}),n.d(t,"b",function(){return U}),n.d(t,"a",function(){return H});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("QbLZ"),b=n.n(d),p=n("OtLZ"),h=n("hbEN"),m=n("CpTu"),f=n("BeL+"),v=n("bPB8"),g=n("zmn3"),_=n("Cjy0"),O=n.n(_),y=n("mM05"),j=n.n(y),k=n("mly0"),E=n("yHhI"),C=n("kOzZ"),I=n("TmhL"),w=n("0SSD"),S=n("rqfA"),T=n("bHo4"),R=n("hWsQ"),N=n("qm5R"),x=n("+u8r"),M=n("9PC1"),P=O.a.import("core/module"),A=M.b.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]).filter(function(e){return"."!==e}).map(function(e){return"\\"+e}).join("|"),D=new RegExp("(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|\"|\u201c|\u2018|'|:]?)([@\uff20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|"+A+"|$)","g"),L=new RegExp("[\\.|\\s|"+A+"]+$"),q=["'",".","_","-","\u2018","\u2019"].map(function(e){return"\\"+e}).join(""),F=new RegExp("^["+q+"]+$","g");function B(e){var t=0,n=[];return Object(x.a)(e,function(e,r){Object(N.a)(r)||!Object(S.a)(e)||Object(R.a)(e)?t+=Object(M.g)(e):(e.insert.replace(D,function(r,a,i){var o=i,s=a,c=r.indexOf("@");c>0&&(o+=c);var l=r.indexOf("\uff20");l>0&&(o+=l);var u=a.length;(s=a.replace(L,"")).replace(/^[@\uff20]/,"").length&&n.push({text:e.insert,matchLength:u,label:s,localIndex:o,globalIndex:o+t})}),t+=Object(M.g)(e))}),n}function U(e){var t=e.text,n=e.label,r=e.globalIndex,a=e.localIndex,i=e.results,o=e.matchLength,s=e.formats,c=void 0,l=void 0,u={id:"UNVERIFIED",label:n,globalIndex:r,length:n.length,formats:s};if(1===i.length&&i[0].is_broadcast_keyword)return Object(E.b)().info("AUTOSLUG","Creating broadcast keyword mention ("+i[0].id+")"),c=Object(T.a)(i[0]),{id:i[0].id,label:c,globalIndex:r,length:o,formats:s};var d=Object(g.a)(i,function(e){return Object(w.d)(Object(T.a)(e))});d=d.concat(Object(g.a)(i,function(e){return Object(w.d)(Object(T.b)(e))})),(d=Object(v.a)(Object(f.a)(d))).sort(function(e,t){return t.length-e.length});for(var b=0;b<d.length&&(l=d[b],!(n.length>l.length));b+=1){var p=Object(w.c)(l,t,a);if(p||i.length<=1){var h=i.filter(Object(T.c)(l));if(Object(w.b)(l,n)&&1===h.length&&(p||!h[0].is_usergroup))return Object(E.b)().info("AUTOSLUG","Inserting real mention, only a single matching result ("+h[0].id+"). "+i.length+" total results"),c=Object(T.a)(h[0]),{id:h[0].id,label:c,globalIndex:r,length:1!==i.length||p?l.length:u.length,formats:s};if(Object(w.b)(l,n)&&h.length>1){Object(E.b)().info("AUTOSLUG",h.length+" matching results, trying to break tie using frecency");var _=Object(k.b)(h,n,null,{normalize:!0});if(_&&_.length>1&&_[0].score-_[1].score>=30){var O=Object(m.a)(h,{id:_[0].id});return c=Object(T.a)(O),Object(E.b)().info("AUTOSLUG","Inserting real mention, tie was broken using frecency ("+_[0].id+"="+_[0].score+";"+_[1].id+"="+_[1].score+")"),{id:O.id,label:c,globalIndex:r,length:1!==i.length||p?l.length:u.length,formats:s}}}if(p)return Object(E.b)().info("AUTOSLUG","Inserting maybe-mention mention, expanded mention to cover name ("+i.length+" total results)"),u.label=t.substr(a,l.length),u.length=l.length,u}}return Object(E.b)().info("AUTOSLUG","Fallback: Inserting maybe-mention ("+i.length+" total results)"),u}function H(e,t){var n=0,r=new j.a,a=Object(C.a)();return e.forEach(function(e){var i=e.globalIndex-n;i>0&&r.retain(i),r.delete(e.length);var o={};"UNVERIFIED"===e.id?(o={id:e.id,label:e.label,unverified:!0},a.track("MSG_AUTO_POTENTIAL_MENTION_CREATED",{})):(o={id:e.id,label:e.label,unverified:!1},a.track("MSG_AUTO_MENTION_CREATED",{})),o.mention=Object(I.a)(o.id,o.label,t),r.insert(e.label,b()({},e.formats,{slackmention:o})),n=e.globalIndex+e.length}),r}var K=function(e){function t(e,n){a()(this,t);var r=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.processPotentionalMentionsDebounced=Object(h.a)(r.processPotentialMentions,100),r.asyncResultCount=0,r.searchesInFlight=[],r.searchesWithoutResults=[],r}return u()(t,e),o()(t,[{key:"afterTextChangeQueue",value:function(){this.processPotentionalMentionsDebounced(this.quill)}},{key:"processPotentialMentions",value:function(){var e=this;if(!this.options.isAutocompleteOpen()){var t=this.quill.getContents(),n=this.quill.getSelection(),r=n?n.index:0;if(!(t.length()<=1)){var a=this.options.enableBroadcastKeywords?this.options.getBroadcastKeywords():[],i=[],o=[];B(t).forEach(function(n){var s=n.label.replace(/^[@\uff20]/,"");if(s.length){var c=!e.options.useWysiwyg&&Object(M.j)(Object(M.f)(t,0,n.globalIndex));if(!(r>n.globalIndex&&r<=n.globalIndex+n.matchLength||-1!==s.search(F)||c)){var l=Object(w.a)(a,s);if(l){var u=e.quill.getFormat(n.globalIndex,n.matchLength);if(u.slackmention&&delete u.slackmention,u.code||u["code-block"])return;var d=U(b()({results:[l],formats:u},n));i.push(d)}else o.push(n.label)}}});var s=Object(f.a)(o);this.asyncResultCount=s.length,this.replacePotentialMentions({replacements:i,hasPendingReplacements:this.asyncResultCount>0||i.length>1}),this.searchAndReplaceMentions(s)}}}},{key:"replacePotentialMentions",value:function(e){var t=e.replacements,n=e.hasPendingReplacements;if(t.length){var r=H(t,this.options.getUserHighlightWords());this.quill.updateContents(r),this.options.onMentionReplace({replacements:t,isLastReplacement:1===this.asyncResultCount&&!n})}}},{key:"clearSearchCache",value:function(){this.searchesInFlight=[],this.searchesWithoutResults=[]}},{key:"searchAndReplaceMentions",value:function(e){var t=this,n=e.filter(function(e){return-1===t.searchesInFlight.indexOf(e)&&-1===t.searchesWithoutResults.indexOf(e)});n.length&&n.forEach(function(e){t.searchesInFlight.push(e),t.options.promiseToSearchMembers(e,t.options.searchOptions).then(function(n){if(n.length){var r=t.quill.getContents(),a=t.quill.getSelection(),i=a?a.index:0;if(!(r.length()<=1)){var o=[];B(r).forEach(function(a){if(a.label===e&&a.label.replace(/^[@\uff20]/,"").length){var s=!t.options.useWysiwyg&&Object(M.j)(Object(M.f)(r,0,a.globalIndex));if(!(i>a.globalIndex&&i<=a.globalIndex+a.matchLength||s)){var c=t.quill.getFormat(a.globalIndex,a.matchLength);if(c.slackmention&&delete c.slackmention,c.code||c["code-block"])return;var l=U(b()({results:n,formats:c},a));o.push(l)}}});var s=!(1===t.searchesInFlight.length&&-1!==t.searchesInFlight.indexOf(e));t.replacePotentialMentions({replacements:o,hasPendingReplacements:s}),t.searchesInFlight=Object(p.a)(t.searchesInFlight,e),s||(t.asyncResultCount=0)}}else t.searchesWithoutResults.push(e)})})}}]),t}(P);t.c=K},"rg/R":function(e,t,n){},rjL9:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("TSYQ"),v=n.n(f),g=n("lwWk"),_=n("yPgC"),O=n("HO/Y"),y=n("VjHM"),j=n("13mM"),k=n("XfeM"),E=n("P2f5"),C=n("4phY"),I=n("N0/W"),w=n("P9LH"),S=n("HvGc"),T=n("NgwH"),R=n("2HDu"),N=Object(k.b)("Ensure a file exists and open it in the full screen file viewer",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.ts,i=n.channelId,o=n.threadTs,s=n.viewContext;x(e,t,{fileId:r,ts:a,channelId:i,threadTs:o,viewContext:s})||e(Object(I.e)({fileId:r,reason:"file-image-thumbnail.ensureFileAndOpenViewer"})).then(function(){x(e,t,{fileId:r,ts:a,channelId:i,threadTs:o,viewContext:s})})});function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fileId,a=n.ts,i=n.channelId,o=n.threadTs,s=n.viewContext,c=Object(E.h)(t(),r);return!!c&&(Object(w.M)(c)?(e(Object(S.c)({fileId:r})),!0):(Object(O.j)(t(),"feature_react_file_viewer")?e(Object(C.a)({fileId:r,ts:a,channelId:i,threadTs:o,viewContext:s})):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileId,n=e.ts,r=e.channelId,a=e.threadTs,i=e.viewContext;Object(T.a)({modal_class:"fs_modal_file_viewer",current_file_id:t,show_control_btns:!0,ts:n,channel_id:r,thread_ts:a,is_in_thread:Object(R.d)(i)})}({fileId:r,ts:a,channelId:i,threadTs:o,viewContext:s}),!0))}N.propTypes={fileId:b.b.string};var M=N,P=n("EHyS"),A=n("yHhI"),D=n("Zr7G"),L=(n("QYyl"),_.a.File(["permalink","title","thumb_360_w","thumb_360_h"]).isRequired,b.b.number,b.b.bool,b.b.func,b.b.bool,b.b.bool,b.b.bool,b.b.bool,b.b.object.isRequired,b.b.object.isRequired,b.b.string,b.b.string,b.b.string,b.b.string,b.b.func,{maxSize:null,stretch:!0,clogLinkClick:d.a,suppressAnimations:!1,featurePjpeg:!1,featureRetryNewImages:!1,isOnline:!0,ts:void 0,channelId:void 0,threadTs:void 0,viewContext:void 0,openViewer:d.a}),q=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.previewImage=n.previewImage.bind(n),n.onImgError=n.onImgError.bind(n),n.onImgLoad=n.onImgLoad.bind(n),n.state={broken:!1},n.failedAttempts=0,n}return u()(t,e),o()(t,[{key:"componentWillUnmount",value:function(){this.retryTimer&&clearTimeout(this.retryTimer)}},{key:"onImgError",value:function(e){var t=this;this.failedAttempts+=1,this.failedUrl=e&&e.target&&e.target.src,this.setState(function(){return{broken:!0}},function(){var e=t.props,n=e.file,r=e.isOnline,a=e.featureRetryNewImages,i=e.logger,o=e.telemeter;if(a&&r){if(t.failedAttempts>1)return i.info("FILE-IMAGE-THUMB","retry failed "+n.id),void o.count("file_image_thumbnail_retry_failed");var s=Math.floor(Date.now()/1e3)-n.created;s&&s<60&&(t.retryTimer=setTimeout(function(){t.retryTimer=null,t.setState(function(){return{broken:!1}})},2e3))}})}},{key:"onImgLoad",value:function(e){var t=this.props,n=t.logger,r=t.telemeter,a=t.file;this.failedAttempts>0&&(n.info("FILE-IMAGE-THUMB","retry fixed "+a.id),r.count("file_image_thumbnail_retry_success"),(e&&e.target&&e.target.src)!==this.failedUrl&&r.count("file_image_thumbnail_retry_success_url_changed"))}},{key:"previewImage",value:function(e){if(!Object(P.a)(e)){var t=this.props,n=t.file,r=t.ts,a=t.channelId,i=t.threadTs,o=t.viewContext,s=t.clogLinkClick,c=t.openViewer;e.preventDefault(),s({subtype:"msg_photo_expand",link_action:"file_viewer_link"}),c({fileId:n.id,ts:r,channelId:a,threadTs:i,viewContext:o})}}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.maxSize,r=e.stretch,a=e.suppressAnimations,i=e.featurePjpeg,o=this.state.broken,s=Object(w.y)(t,{maxSize:n,featurePjpeg:i,suppressAnimations:a}),c=v()("p-file_image_thumbnail__wrapper",{"p-file_image_thumbnail__wrapper--broken":!!o}),l=r?void 0:t.thumb_360_w,u=r?void 0:t.thumb_360_h;return h.a.createElement(g.a,{className:c,"data-file-id":t.id,href:t.url_private,target:"_blank",rel:"noopener noreferrer",onClick:this.previewImage},!o&&h.a.createElement("img",{className:"p-file_image_thumbnail__image",alt:t.title,src:s,width:l,height:u,onError:this.onImgError,onLoad:this.onImgLoad}))}}]),t}(p.Component);q.displayName="FileImageThumbnail",q.defaultProps=L;var F={openViewer:M},B=Object(m.b)(function(e){return{suppressAnimations:!Object(y.g)(e,"a11y_animations"),featurePjpeg:Object(O.j)(e,"feature_pjpeg"),featureRetryNewImages:Object(O.j)(e,"feature_retry_new_images"),isOnline:Object(j.c)(e),logger:Object(A.a)({state:e}),telemeter:Object(D.c)({state:e})}},F)(q);t.a=B},rkyv:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("fujP"),s=n("kxpR"),c=n.n(s),l=n("XHGt"),u=n("TSYQ"),d=n.n(u),b=n("aK/h"),p=n("nNoG"),h=n("6kok"),m=n("Ov61"),f=n("Qc6J"),v=n("Sq1r"),g=n("lek6"),_=n("lQgN"),O=n("kd6D"),y=(n("fMsH"),new p.b("search")),j=new p.b("inline_channel"),k=(b.b.object.isRequired,b.b.string,b.b.oneOf(Object(i.a)(O.d)),b.b.bool,b.b.bool,b.b.oneOfType([b.b.string,b.b.number]),b.b.string.isRequired,{bestFormerName:void 0,displayFormerNames:O.d.true,bold:!0,inline:!1,width:void 0});function E(e){var t=e.bestFormerName,n=e.bold,r=e.channel,i=e.channelName,l=e.inline,u=e.width,b=e.displayFormerNames,k=i+(Object(h.V)(r)?" "+y.t("(archived)",{note:'This will come after a channel name to indicate that it is archived, e.g. "#feat-old-project (archived)" or "#dogs (archived) (formerly #cats)"'}):""),E=void 0,C=c.a.createElement(v.a,{bold:n,className:"c-channel_name__former_channel_icon",channel:r,size:O.a.small});if(b)if(t)E=t&&c.a.createElement("span",{className:"c-channel_name__suffix"},j.rt(" (formerly {icon}{name})",{icon:C,name:t,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}));else{var I=void 0,w=Object(h.s)(r);if(!Object(o.a)(w)){var S=w.map(function(e){return"#"+e});I=Object(p.h)(S,{noConj:!0}).join("")}I&&(k+=" "+j.t("(formerly {names})",{names:I,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'}))}var T=d()("c-channel_entity__name",{"c-channel_entity__name--bold":n});return c.a.createElement(s.Fragment,null,c.a.createElement("span",a()({className:T},Object(_.a)(e)),c.a.createElement(g.a,{text:k,noJumbomoji:!0,noLinking:!0,noSpecials:!0,noEmojiText:!0,noHexColors:!0,noCode:!0,noQuotes:!0}),b&&E),!u&&c.a.createElement(s.Fragment,null,c.a.createElement(m.a,{className:d()("c-channel_entity__shared_icon",{"c-inline_channel_entity__shared_icon":l}),channel:r,inherit:l,"data-qa":"channel_entity__shared_icon"}),c.a.createElement(f.a,{className:"c-channel_entity__team",iconSize:O.a.inline,channel:r,"data-qa":"channel_entity__team"})))}E.displayName="ChannelName",E.defaultProps=k,t.a=Object(l.b)(function(e,t){var n=t.channel;return{channelName:Object(h.x)(e,n,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1})}})(E)},rqfA:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("gSGL"),a=n("dG3r");function i(e){return!(!e||!Object(r.a)(e.insert)||Object(a.a)(e))}},rtjy:function(e,t,n){"use strict";var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("WgRr"),c=n("OZf9"),l=n("jF/p"),u=n("mkut"),d=n("aK/h"),b=n("peh1"),p=n("XfeM"),h=n("VjHM"),m=n("HO/Y"),f=n("IhRS"),v=n("AfrZ"),g=Object(p.b)("A wrapper around setUserPrefByApi meant for setting frecency data",function(e,t,n){var r=n.value;e(Object(v.f)({pref:Object(m.m)(t())?"frecency_ent_jumper":"frecency_jumper",value:r}))});g.propTypes={value:d.b.string.isRequired};var _=Object(f.a)(g,6e4),O=n("9hu3"),y=n("Z7Ay");n.d(t,"d",function(){return E}),n.d(t,"c",function(){return R}),n.d(t,"a",function(){return A}),n.d(t,"b",function(){return D});var j=.5,k=[{time:144e5,weight:100},{time:864e5,weight:80},{time:2592e5,weight:60},{time:6048e5,weight:40},{time:2592e6,weight:20},{time:7776e6,weight:10}];function E(e,t){var n=t.query,r=t.list,a=t.bonusPoints,i=void 0===a?w:a,s=T(e),c=function(e,t){return Object(u.a)(e).reduce(function(n,r){if(r.indexOf(t)>-1||t.indexOf(r)>-1)if(Array.isArray(e[r]))e[r].forEach(function(e){if(n[e.id]){var t=C(n[e.id]),r=C(e);r>t&&(n[e.id]=e)}else n[e.id]=e});else if(n[e[r].id]){var a=C(n[e[r].id]),i=C(e[r]);i>a&&(n[e[r].id]=e[r])}else n[e[r].id]=e[r];return n},{})}(s,n);return function(e){return e.sort(function(e,t){return e.frecencyScore===t.frecencyScore?e.frecencyOriginalIndex-t.frecencyOriginalIndex:t.frecencyScore-e.frecencyScore})}(function(e){var t=e.frecencyCache,n=e.hits,r=e.list,a=e.bonusPoints;if(0===r.length)return[];for(var i=r.map(function(e,r){var a=e.item?e.item.id:e.id;return o()({},e,{frecencyScore:C(n[a])+C(t[a]),frecencyOriginalIndex:r})}),s=Object(l.a)(i,"frecencyScore").frecencyScore,c=0;c<i.length;c++)i[c].frecencyScore>0&&(i[c].frecencyScore=i[c].frecencyScore/s*100),i[c].frecencyScore+=a(i[c]);return i}({frecencyCache:s,hits:c,list:r,bonusPoints:i}))}function C(e){if(!e||!e.visits)return 0;for(var t=0,n=Date.now(),r=e.visits.length-1;r>=0;r-=1)t+=I(n-e.visits[r]);return e._reduced&&(t*=j),e.count*t/e.visits.length}function I(e){for(var t=k.length,n=0;n<t;n+=1)if(e<k[n].time)return k[n].weight;return 0}function w(){return 0}function S(e){return Object(m.m)(e)?"frecency_ent_jumper":"frecency_jumper"}function T(e){return Object(h.g)(e,S(e))}var R=Object(p.b)("Update the frecency cache with the new recorded item, then save it to user prefs",function(e,t,n){var r=n.id,i=n.text,s=t(),c=T(s),l=o()({},c);if(l[i]&&!Array.isArray(l[i]))l[i].id===r?l[i]=x(l[i]):l[i]=[l[i],N(r)];else if(l[i]&&Array.isArray(l[i])){for(var u=!1,d=0;d<l[i].length;d+=1)if(l[i][d].id===r){l[i]=[].concat(a()(l[i])),l[i][d]=x(l[i][d]),u=!0;break}u||(l[i]=[].concat(a()(l[i]),[N(r)]))}else l[i]=N(r);l[r]?l[r]=x(l[r]):(l[r]=N(r),l[r]._reduced=!0);var b=JSON.stringify(l);e(Object(O.b)({pref:S(s),value:b})),e(_({value:b}))});function N(e){return{id:e,count:1,visits:[Date.now()]}}function x(e){var t=e.count+1,n=[].concat(a()(e.visits));return 10===n.length&&n.shift(),n.push(Date.now()),{id:e.id,count:t,visits:n}}function M(e,t,n){var r,a,i={};r=e,a=function(n){n&&n.id&&0===n.id.indexOf(t)&&(i[n.id]?i[n.id].score+=C(n):i[n.id]={id:n.id,score:C(n)+e[n.id]?C(e[n.id]):0})},Object(c.a)(r,function(e){e._reduced||(Array.isArray(e)?e.forEach(function(e){a(e)}):a(e))});var o=Object(s.a)(i);if(0===o.length)return o;o.sort(function(e,t){return t.score-e.score}),n&&(o=o.slice(0,n));for(var u=Object(l.a)(o,"score").score,d=0;d<o.length;d++)o[d].score>0&&(o[d].score=o[d].score/u*100);return o}function P(e,t,n){return M(T(e),t,n)}function A(e){return P(e,"E",arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)}R.propTypes={id:d.b.string.isRequired,text:d.b.string.isRequired};var D=Object(b.createSelector)([T,function(){return"MA"},function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:10}],M);Object(y.a)("frecency",{getFrecencyCache:T})},rxQj:function(e,t,n){},rz65:function(e,t,n){"use strict";t.a={default:"default",compactItem:"compact_item",separator:"separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child"}},rzSx:function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return b}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return h});var r=n("+Xah"),a=n("ROZo"),i=(Object(a.b)("TS.emoji.emojiMatchesTerm",function(){return!1}),Object(a.b)("TS.emoji.findByKeyword",function(){return[]}),Object(a.b)("TS.emoji.nameToBaseName",function(){return""})),o=Object(a.b)("TS.emoji.stripLocalizedSkinTone",function(){return""}),s=Object(a.b)("TS.emoji.graphicReplace",function(e){return e}),c=Object(a.b)("TS.emoji.getEmojiMap",function(){return""}),l=(Object(a.b)("TS.emoji.getEmojiByName",function(){return""}),Object(a.b)("TS.emoji.maybeGetLocalizedEmojiString",r.a)),u=Object(a.b)("TS.emoji.maybeGetCanonicalEmojiString",r.a),d=Object(a.b)("TS.emoji.isNameSkinToneModifiable",function(){return!1}),b=(Object(a.b)("TS.emoji.hasUnifiedEmoji",function(){return!1}),Object(a.b)("TS.emoji.nameToCanonicalName",r.a)),p=Object(a.b)("TS.emoji.getObsoletedEmojiNameFromModernEmojiName",r.a),h=Object(a.b)("TS.emoji.isValidName",function(){return!0})},"s+EY":function(e,t,n){},"s/st":function(e,t,n){"use strict";n.d(t,"g",function(){return x}),n.d(t,"a",function(){return P}),n.d(t,"e",function(){return L}),n.d(t,"f",function(){return F}),n.d(t,"d",function(){return B}),n.d(t,"h",function(){return U}),n.d(t,"c",function(){return H}),n.d(t,"b",function(){return K});var r=n("FYw3"),a=n.n(r),i=n("tfYw"),o=n.n(i),s=n("mRg0"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("Z0Cl"),h=n("X6iR"),m=n("XhtD"),f=n("zmn3"),v=n("OZf9"),g=n("xWuZ"),_=n("1myf"),O=n("mX9+"),y=n("YfG3"),j=n("6kok"),k=n("uwE/"),E=n("clTI"),C=n("Fdc0"),I=n("DtX9"),w=n("WZ56"),S=n("+1yX"),T=n("iiF8"),R=n("Fjja"),N=function(e){return function(){var e={},t=Object(k.f)();return Object(v.a)(t,function(t,n){e[t.toLocaleLowerCase()]=n,e[n.toLocaleLowerCase()]=n}),e}()[(e||"").toLocaleLowerCase()]},x=function(){function e(){u()(this,e)}return b()(e,[{key:"toString",value:function(){return""}},{key:"toTextyString",value:function(){return this.toString()}},{key:"toMap",value:function(e){return{string:this.toString(e)}}},{key:"getRawIdAndNameForXwsChannelWorkaround",value:function(){return{id:this._id,name:this._name}}},{key:"type",get:function(){return k.a.UNKNOWN}},{key:"logId",get:function(){return""}}],[{key:"tokenListFromString",value:function(e,t){for(var n=/^\s*(("([^"]*)")|([^\s:]+:(([^<>\s]+)|(<[^>]+>)))|(@[^\s]+|<[^>]+>)|([^\s]+))(.*)$/,r=[],a=t.replace(/[\r\n]+/g," "),i=n.exec(a);null!==i;){var o=i[3],s=i[4],c=i[8],l=i[9];if(i[10]&&a.length===i[10].length)break;if(a=i[10],o)r.push({is_phrase:!0,string:o});else if(c)r.push({is_member:!0,string:c});else if(s)r.push({is_filter:!0,string:s});else if(l){var u=r.length>0?r.slice(-1)[0]:null;u&&u.is_word?u.string=u.string+" "+l:r.push({is_word:!0,string:l})}i=n.exec(a)}return Object(f.a)(r,function(t){if(t.is_phrase)return new A(t.string);if(t.is_filter){var n=t.string.indexOf(":"),r=N(t.string.substring(0,n)),a=t.string.substring(n+1),i=Object(k.f)()[r]+":"+a;switch(r){case"in":return L.fromString(e,i);case"from":return F.fromString(e,i,k.d.FROM);case"to":return F.fromString(e,i,k.d.TO);case"has":return B.fromString(i);case"type":return U.fromString(i);case"before":return H.fromString(i,k.d.BEFORE);case"during":return H.fromString(i,k.d.DURING);case"on":return H.fromString(i,k.d.ON);case"after":return H.fromString(i,k.d.AFTER)}}else if(t.is_member)return q.fromString(e,t.string);return new M(t.string)})}}]),e}(),M=function(e){function t(e){u()(this,t);var n=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.string=e,n}return c()(t,e),b()(t,[{key:"toString",value:function(){return this.string?this.string:""}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_string:!0})}},{key:"type",get:function(){return k.a.STRING}},{key:"logId",get:function(){return Object(R.a)(this.string)}}]),t}(x),P=function(e){function t(e,n){u()(this,t);var r=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._querySuggestionScore=e,r.string=n,r}return c()(t,e),b()(t,[{key:"querySuggestionScore",get:function(){return this._querySuggestionScore}},{key:"type",get:function(){return k.a.API}}]),t}(M),A=function(e){function t(e){u()(this,t);var n=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.phrase=e,n}return c()(t,e),b()(t,[{key:"toString",value:function(){return'"'+this.phrase+'"'}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_phrase:!0,phrase:this.phrase})}},{key:"type",get:function(){return k.a.PHRASE}},{key:"logId",get:function(){return Object(R.a)(this.phrase)}}]),t}(x),D=function(e){function t(e){u()(this,t);var n=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._frecencyScore=e,n}return c()(t,e),b()(t,[{key:"frecencyScore",get:function(){return this._frecencyScore}}]),t}(x),L=function(e){function t(e,n,r,i){u()(this,t);var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state=n,o._id=r,o._name=i,o}return c()(t,e),b()(t,[{key:"toString",value:function(){return this._toStringInternal({formatChannel:function(e,t){return Object(k.f)().in+":<#"+e+"|"+t+">"},formatMpim:function(e){return Object(k.f)().in+":<#"+e.id+">"},formatMember:function(e){return Object(k.f)().in+":<@"+e+">"}})}},{key:"toTextyString",value:function(){var e=this;return this._toStringInternal({formatChannel:function(e,t){return Object(k.f)().in+":#"+t},formatMpim:function(t){return Object(k.f)().in+":"+Object(j.Rb)(e.state,t)},formatMember:function(e,t){return Object(k.f)().in+":<@"+e+"|@"+t+">"}})}},{key:"_toStringInternal",value:function(e){var t=e.formatChannel,n=e.formatMpim,r=e.formatMember,a=Object(T.a)(this.state),i=this._id?Object(w.a)(a,this._id)||Object(E.d)(a,this._id):Object(w.b)(a,this._name)||Object(E.e)(a,this._name);if(i&&Object(j.v)(i)&&!Object(j.Jb)(i)&&!Object(j.eb)(i)){if(Object(j.lb)(i))return n(i);var o=Object(j.x)(a,i,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}).replace(/^#/,"");return t(i.id,o)}if(this._name&&Object(S.a)(this._id))return t(this._id,this._name);var s=this._id?Object(I.c)(a,this._id):Object(I.d)(a,this._name);if(s){var c=Object(C.Q)(a,s.id);return r(s.id,c)}if(this._id){var l=Object(C.Q)(a,this._id);return r(this._id,l)}return Object(k.f)().in+":"+this._name}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_in_filter:!0,string:this.toString(),channel:this.channelOrNull,fallbackChannelName:this._name,user:this.memberOrNull})}},{key:"type",get:function(){return k.a.FILTER_IN}},{key:"entityId",get:function(){if(this._id)return this._id;var e=this.channelOrNull;if(e)return e.id;var t=this.memberOrNull;return t?t.id:null}},{key:"channelOrNull",get:function(){var e=Object(T.a)(this.state);return this._id?Object(E.d)(e,this._id)||Object(w.a)(e,this._id):Object(E.e)(e,this._name)||Object(w.b)(e,this._name)}},{key:"memberOrNull",get:function(){var e=Object(T.a)(this.state);return this._id?Object(I.c)(e,this._id):Object(I.d)(e,this._name)}},{key:"logId",get:function(){return this._id}}],[{key:"channelExistsById",value:function(e,t){var n=Object(E.d)(e,t);return n&&!Object(j.Jb)(n)||!!Object(w.a)(e,t)}},{key:"entityExistsById",value:function(e,t){var n=Object(I.c)(e,t);return this.channelExistsById(e,t)||n&&!Object(C.Gb)(n)}},{key:"channelExistsByName",value:function(e,t){var n=Object(E.e)(e,t);return n&&!Object(j.Jb)(n)||!!Object(w.b)(e,t)}},{key:"entityExistsByName",value:function(e,t){var n=Object(I.d)(e,t);return this.channelExistsByName(e,t)||n&&!Object(C.Gb)(n)}},{key:"fromString",value:function(e,n){var r=new RegExp("^("+Object(k.f)().in+"|in):((<[@#]?([A-Z0-9a-z]+)(\\|[\\s]?([#@]?([^>]+)))?>)|([#@]?([^\\s]+)))$").exec(n);return r&&r[4]&&this.entityExistsById(e,r[4])?new t(1,e,r[4],r[6]):r&&r[9]&&this.entityExistsByName(e,r[9])?new t(1,e,null,r[9]):r&&r[2]&&this.channelExistsByName(e,r[2])?new t(1,e,null,r[2]):r&&r[8]?new t(1,e,null,r[8]):new M(n)}}]),t}(D),q=function(e){function t(e,n,r,i){u()(this,t);var o=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state=n,o._id=r,o._name=i,o}return c()(t,e),b()(t,[{key:"toString",value:function(){return this._id?"<@"+this._id+">":"@"+this._name}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_member:!0,user:this.memberOrNull})}},{key:"toTextyString",value:function(){var e=Object(T.a)(this.state);if(!this._id){var t=Object(I.d)(e,this._name);if(t){var n=Object(C.Q)(e,t.id);return"<@"+t.id+"|@"+n+">"}return"@"+this._name}var r=Object(C.Q)(e,this._id);return"<@"+this._id+"|@"+r+">"}},{key:"type",get:function(){return k.a.MEMBER}},{key:"entityId",get:function(){var e=Object(T.a)(this.state);if(this._id)return this._id;var t=Object(I.d)(e,this._name);return t?t.id:null}},{key:"memberOrNull",get:function(){var e=Object(T.a)(this.state);return this._id?Object(I.c)(e,this._id):Object(I.d)(e,this._name)}},{key:"logId",get:function(){return this.entityId}}],[{key:"fromString",value:function(e,t){var n=/^((<@?([^\s|>]+)(\|[\s]?@?([^>]+))?>)|(@?([^\s]+)))$/.exec(t),r=void 0;return n&&n[3]&&(r=Object(I.c)(e,n[3])),(!r||Object(C.Gb)(r))&&n&&n[7]&&(r=Object(I.d)(e,n[7])),r&&!Object(C.Gb)(r)?new this(1,e,r.id,r.name):new M(t)}}]),t}(D),F=function(e){function t(e,n,r,i,o){u()(this,t);var s=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i));return s.cleanModifierType=[k.d.FROM,k.d.TO].includes(o)?o:"",s}return c()(t,e),b()(t,[{key:"toString",value:function(){return this.modifierName+":"+o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toString",this).call(this)}},{key:"toMap",value:function(e){var n={};return n["is_type_"+this.cleanModifierType+"_filter"]=!0,Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_member_filter:!0,modifier:this.cleanModifierType,modifier_name:this.modifierName},n)}},{key:"toTextyString",value:function(){return this.modifierName+":"+o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toTextyString",this).call(this)}},{key:"type",get:function(){switch(this.cleanModifierType){case k.d.FROM:return k.a.FILTER_FROM;case k.d.TO:return k.a.FILTER_TO;default:return k.a.UNKNOWN}}},{key:"modifierName",get:function(){return Object(k.f)()[this.cleanModifierType]}}],[{key:"fromString",value:function(e,t,n){var r=[k.d.FROM,k.d.TO].includes(n)?n:"",a=Object(k.f)()[r],i=new RegExp("^("+a+"|"+r+"):((<@?([^\\s|>]+)(\\|@?([^>]+))?>)|(@?([^\\s]+)))$").exec(t),o=void 0;return i&&i[4]&&(o=Object(I.c)(e,i[4])),!o&&i&&i[8]&&(o=Object(I.d)(e,i[8])),o&&!Object(C.Gb)(o)?new this(1,e,o.id,o.name,r):new M(t)}}]),t}(q),B=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u()(this,t);var r=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.thing=e,r.canLog=n,r}return c()(t,e),b()(t,[{key:"toString",value:function(){return Object(k.f)().has+":"+this.thingName}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_has_filter:!0,thing:this.thingName})}},{key:"type",get:function(){return k.a.FILTER_HAS}},{key:"thingName",get:function(){var e=Object(k.e)();return e[this.thing]?e[this.thing]:this.thing}},{key:"logId",get:function(){return!0===this.canLog?this.thingName:""}}],[{key:"fromString",value:function(e){var n=new RegExp("("+Object(k.f)().has+"|has):([^\\s]+)").exec(e);return n&&n[2]?new t(n[2],!1):new M(e)}}]),t}(x),U=function(e){function t(e){u()(this,t);var n=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._fileType=e,n}return c()(t,e),b()(t,[{key:"toString",value:function(){return Object(k.f)().type+":"+this.fileType}},{key:"toMap",value:function(e){return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_type_filter:!0,file_type:this.fileType})}},{key:"type",get:function(){return k.a.FILTER_TYPE}},{key:"fileType",get:function(){return this._fileType}},{key:"logId",get:function(){return this.fileType}}],[{key:"fromString",value:function(e){var n=new RegExp("("+Object(k.f)().type+"|type):([^\\s]+)").exec(e);return n&&n[2]?new t(n[2]):new M(e)}}]),t}(x),H=function(e){function t(e,n){u()(this,t);var r=a()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.dateString=e,r.cleanModifierType=[k.d.BEFORE,k.d.DURING,k.d.ON,k.d.AFTER].includes(n)?n:"",r}return c()(t,e),b()(t,[{key:"toString",value:function(){return this.modifierName+":"+this.dateString}},{key:"toMap",value:function(e){var n={};n["is_"+this.dateString]=!0;var r=Object(k.g)(),a=Object(k.h)(),i=r[this.dateString]||a[this.dateString]||this.dateString;return Object(y.a)(o()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,e),{is_type_date_filter:!0,date_string:this.dateString,date_string_normalized:i,modifier:this.cleanModifierType,modifier_name:this.modifierName},n)}},{key:"type",get:function(){switch(this.cleanModifierType){case"before":return k.a.FILTER_BEFORE;case"during":return k.a.FILTER_DURING;case"on":return k.a.FILTER_ON;case"after":return k.a.FILTER_AFTER;default:return k.a.UNKNOWN}}},{key:"modifierName",get:function(){return Object(k.f)()[this.cleanModifierType]}},{key:"logId",get:function(){return this.dateString}}],[{key:"fromString",value:function(e,n){var r=[k.d.BEFORE,k.d.DURING,k.d.ON,k.d.AFTER].includes(n)?n:"",a=Object(k.f)()[r],i=new RegExp("("+r+"|"+a+"):([^\\s]+)").exec(e);return i&&i[2]?new t(i[2],r):new M(e)}}]),t}(x),K=function(){function e(t){u()(this,e),this.date=t}return b()(e,[{key:"suggestionsPromise",value:function(e,t,n){return Promise.resolve(this.suggestions(e,t,n))}},{key:"suggestions",value:function(e,t,n){return Object(O.a)(Object(_.a)(Object(g.a)([this.suggestionsRelativeDates(e,t,n),this.suggestionsMonths(e,t,n),this.suggestionsYears(e,t,n)]),function(e){return-e.score}),0,t)}},{key:"suggestionsRelativeDates",value:function(e,t,n){var r=Object(k.h)(),a=[r.yesterday];return n!==k.d.AFTER&&a.push(r.today),Object(f.a)(Object(O.a)(Object(p.a)(a,function(t){return Object(h.a)(t.toLowerCase(),e.toLowerCase())}),0,t),function(e,t){return{model_ob:e,score:.95-.01*t}})}},{key:"suggestionsMonths",value:function(e,t,n){return n===k.d.ON?[]:Object(f.a)(Object(O.a)(Object(p.a)(this.orderedMonthNames(),function(t){return Object(h.a)(t.toLowerCase(),e.toLowerCase())}),0,t),function(e,t){return{model_ob:e,score:(12-t)/12}})}},{key:"suggestionsYears",value:function(e,t,n){if(n===k.d.ON)return[];var r=1900+(n===k.d.AFTER?this.date.getYear()-1:this.date.getYear());return Object(f.a)(Object(O.a)(Object(p.a)(Object(m.a)(r,r-5,-1),function(t){return Object(h.a)(t.toString(),e)}),0,t),function(e,n){return{model_ob:e.toString(),score:(t-n)/t}})}},{key:"monthNameFromInt",value:function(e){var t=Object(k.g)();return[t.January,t.February,t.March,t.April,t.May,t.June,t.July,t.August,t.September,t.October,t.November,t.December][e]}},{key:"orderedMonthNames",value:function(){var e=this;return Object(f.a)(Object(m.a)(0,12),function(t){return e.monthNameFromInt((e.date.getMonth()-t+12)%12)})}}]),e}()},s0EC:function(e,t,n){},s19S:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return h}),n.d(t,"n",function(){return m}),n.d(t,"o",function(){return f}),n.d(t,"p",function(){return v}),n.d(t,"q",function(){return g}),n.d(t,"g",function(){return _}),n.d(t,"d",function(){return O});var r=n("ROZo"),a=Object(r.b)("TS.client.ui.addOrFlashEphemeralBotMsg"),i=(Object(r.b)("TS.client.ui.checkForEditing"),Object(r.b)("TS.client.ui.teamSelectionChanged")),o=Object(r.b)("TS.client.ui.currentUserAttention",function(){return""}),s=(Object(r.b)("TS.client.ui.files.filterFileList"),Object(r.b)("TS.client.ui.isMessageInputFocused")),c=Object(r.b)("TS.client.ui.isUserAttentionOnChat",function(){return!0}),l=Object(r.b)("TS.client.ui.files.previewFile"),u=Object(r.b)("TS.client.ui.previewMember"),d=Object(r.b)("TS.client.ui.previewUserGroup"),b=Object(r.b)("TS.client.ui.sendSlashCommand"),p=Object(r.b)("TS.client.ui.showGroupsList"),h=Object(r.b)("TS.client.ui.showTeamList"),m=Object(r.b)("TS.client.ui.showView"),f=Object(r.b)("TS.client.ui.pages.startPageView"),v=Object(r.b)("TS.client.ui.files.toggleFileList"),g=Object(r.b)("TS.client.ui.tryToJump"),_=Object(r.b)("TS.client.ui.app_space.openLegacyInteropScreenshotModal"),O=Object(r.b)("TS.client.ui._debugSwitchLog")},s5Is:function(e,t,n){"use strict";n.r(t);var r=n("m1cH"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("9oTK"),c=n("OtLZ"),l=n("S1sa"),u=n("NFsq"),d=n("aK/h"),b=n("XfeM"),p=n("lhZz"),h=n("yHhI"),m=n("g5qt"),f=n("DlLn"),v=n("om+M"),g=n("uf9I"),_=n("1PKr"),O=n("8Az7"),y=Object(v.a)("Sign out of the current session",function(e,t){var n=t(),r=Object(g.b)(n);return _.b.fetch({method:"auth.signout",args:{token:Object(O.b)(r)},teamId:r}).catch(function(e){throw Object(h.a)({getState:t}).error("got error when trying to sign out: "+e),e})}),j=Object(v.a)("Sign out of the org and all of the workspaces in it",function(e,t){var n=t(),r=Object(g.b)(n);return _.b.fetch({method:"auth.enterpriseSignout",args:{token:Object(O.b)(r)},teamId:r}).catch(function(e){throw Object(h.a)({getState:t}).error("got error when trying to sign out of org: "+e),e})}),k=n("qe1s"),E=n("Z7Ay"),C=n("xtGC"),I=n("zNK5"),w=n("BeG2"),S=n("EKWK"),T=n("q2TN"),R=n("kLJo"),N=n("toaU"),x=n("iTOt"),M=n("dFG7"),P=n("eoGz"),A=n("Gogr"),D=n("KXvl"),L=n("wR6u"),q=n("JtEI"),F=n("AfrZ"),B=n("zbZx"),U=n("YB7p"),H=n("/Rx2"),K=n("IY6O"),G=n("HuaI");n.d(t,"addWorkspace",function(){return V}),n.d(t,"setFocusedWorkspace",function(){return z}),n.d(t,"focusNextWorkspace",function(){return Y}),n.d(t,"focusPreviousWorkspace",function(){return W}),n.d(t,"removeWorkspaceFromPreviousWorkspaces",function(){return Q}),n.d(t,"removeWorkspace",function(){return Z}),n.d(t,"removeOrg",function(){return $});var V=Object(b.b)("Starts the signin process for an additional team",function(){Object(h.b)({label:"WORKSPACES"}).action("Add workspace"),Object(P.a)()});V.propTypes=null;var z=Object(b.b)("Set the currently focused workspace",function(e,t){var n,r=(n=Object(s.method)(function(){f&&Object(p.dispatchForTeamId)(f,Object(T.a)()),Object(p.dispatchForTeamId)(i,Object(I.c)()),Object(C.c)(),e(Object(G.internalSetFocusedWorkspace)(i)),Object(A.h)("lastActiveTeamId",i);var t=Object(p.getStoreInstanceByTeamId)(i).getState(),n=l||Object(x.b)(t)||N.a,r=b||o()({teamId:i},Object(x.c)(t));return Object(R.g)(n,r,{reason:"workspaces-store/dispatchFocusActions"})}),function(){return n.apply(this,arguments)}),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.teamId,c=a.routeName,l=void 0===c?null:c,d=a.params,b=void 0===d?null:d,m=t(),f=Object(K.getFocusedWorkspace)(m);if(f===i)return Promise.resolve();if(!Object(H.b)(Object(p.getStoreInstanceByTeamId)(f).getState()))return Object(h.b)().info("WORKSPACE-FOCUS","Cannot switch workspaces because canUserSwitchWorkspaces returned false."),Promise.resolve();var v=Object(K.getAllWorkspaces)(m);if(!Object(u.a)(v,i))return Object(h.b)().error("WORKSPACE-FOCUS","attempting to set focused workspace state for unknown teamId: "+i),Promise.resolve();if(Object(K.isWorkspaceExpired)(m,i))return Object(P.a)(i),Promise.resolve();if(Object(K.hasWorkspaceFailedToBoot)(m,i))return Promise.resolve(r());if(Object(K.isWorkspaceBooted)(m,i))return Promise.resolve(r());return Object(k.a)({teamId:i,shouldSetFocus:!0}).then(r)});z.propTypes=d.b.shape({teamId:d.b.string.isRequired,routeName:d.b.string,params:d.b.object}).isRequired;var Y=Object(b.b)("Switches focus to the next workspace",function(e,t){var n=t();return e(z({teamId:Object(K.getNextWorkspace)(n)}))});Y.propTypes=null;var W=Object(b.b)("Switches focus to the previous workspace",function(e,t){var n=t();return e(z({teamId:Object(K.getPreviousWorkspace)(n)}))});W.propTypes=null;var Q=Object(b.b)("Removes a workspace from the list of previously-known workspaces",function(e,t,n){var r=Object(A.c)("prevTeams")||{},a=Object(A.c)("orderedTeamIds");delete r[n],Object(A.h)("prevTeams",r),Object(A.h)("orderedTeamIds",Object(c.a)(a,n)),Object(U.b)({reason:"Removed expired workspace from team switcher",reasonKey:"remove_workspace_from_previous_workspaces"})});function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(K.getAllWorkspaces)(e);if(Array.isArray(r)){if(!Array.isArray(n))return X(e,t);var a=r.indexOf(t),i=Object(l.a)(r,function(e){return r.indexOf(e)<=a});return i[1].concat(i[0]).find(function(r){return r!==t&&!Object(K.isWorkspaceExpired)(e,r)&&!n.includes(r)})}}Q.propTypes=d.b.string;var Z=Object(b.b)("Signs out of the given workspace",function(e,t,n){var r=Object(h.b)({label:"WORKSPACES"});r.action("Remove workspace");var a=t(),i=Object(K.getAllWorkspaces)(a);if(!i||i.indexOf(n)<0)throw new Error("client-store:removeWorkspace cannot remove a workspace ("+n+") we are not signed into");var o=void 0;if(Object(K.getAllWorkspaces)(a).length>1)if(Object(K.getFocusedWorkspace)(a)===n){var s=X(a,n);s&&(o="/"+Object(q.c)()+"/"+s),r.info("Signing out of the currently focused workspace ("+n+"); will return to "+s+" after re-fetching auth"),o="/"+Object(q.c)()+"/"+s}else{var c=Object(K.getFocusedWorkspace)(a);r.info("Signing out of a non-focused workspace workspace ("+n+"); will return to the currently focused workspace "+c+" after re-fetching auth"),o="/"+Object(q.c)()+"/"+c}else Object(D.b)()?(r.info("Signing out of the only workspace we are signed into"),o="/"+Object(q.c)()):r.info("Signing out in single-team mode");Object(L.d)(!1);var l=Promise.resolve();if(Object(D.b)()&&Object(B.d)(Object(p.getStateByTeamId)(n))){l=Object(p.dispatchForTeamId)(n,Object(F.a)({teamId:n})).timeout(5e3).catch(function(){Object(h.a)({getState:t}).warn("Failed to add team to exclude list; continuing with signout")})}return l.then(function(){return J(n,y,o,[n])})});function J(e,t,n,r){var i=Object(h.a)({teamId:e});return Object(p.dispatchForTeamId)(e,Object(w.f)()),Object(p.dispatchForTeamId)(e,Object(I.e)()),Object(p.dispatchForTeamId)(e,t()).finally(function(){var e=Object(A.c)("orderedTeamIds");Object(A.h)("orderedTeamIds",c.a.apply(void 0,[e].concat(a()(r))))}).finally(function(){return Promise.map(r,function(e){return Object(S.b)({teamId:e,userId:Object(A.d)(e,"user_id")})})}).finally(function(){if(Object(m.q)(r),Object(p.dispatchForTeamId)(e,Object(G.internalWorkspacesRemoved)(r)),n){i.info("Signed out; re-fetching auth");Object(f.d)(n,!1)}else i.info("Signed out; redirecting to sign-in page"),window.location.assign(Object(M.a)())})}Z.propTypes=d.b.string.isRequired;var $=Object(b.b)("Signs out of the given org and all of its workspaces",function(e,t,n){Object(h.b)({label:"WORKSPACES"}).action("Remove organization");var r=t(),a=Object(K.getFocusedWorkspace)(r);if(Object(g.a)(Object(p.getStateByTeamId)(a))!==n)throw new Error("removeOrg can only remove the org associated with the currently focused workspace");Object(L.d)(!1);var i=Promise.resolve();if(Object(D.b)()){i=Object(p.dispatchForTeamId)(a,Object(F.c)()).timeout(5e3).catch(function(){Object(h.a)({getState:t}).warn("Failed to add team to exclude list; continuing with signout")})}var o=Object.values(Object(K.getWorkspacesMeta)(r)).filter(function(e){return e.enterprise_id===n}).map(function(e){return e.id}),s=void 0;if(Object(D.b)()&&Object(K.getAllWorkspaces)(r).length>1){var c=X(r,a,o);c&&(s="/"+Object(q.c)()+"/"+c)}return i.then(function(){return J(a,j,s,o)})});$.propTypes=d.b.string.isRequired,Object(E.a)("workspacesStoreActions",{addWorkspace:V,focusNextWorkspace:Y,focusPreviousWorkspace:W,removeWorkspace:Z,removeOrg:$,setFocusedWorkspace:z})},"s5T/":function(e,t,n){},"s8H+":function(e,t,n){"use strict";var r=n("VyaM"),a=n("gBC1");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fallbackString,i=void 0===n?void 0:n,o=t.uncapitalized,s=void 0!==o&&o,c=Object(r.a)(e,{returnMoment:!0}),l=Object(a.a)(c,{uncapitalized:s});return l||i}},sIuu:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=n("XHGt"),_=n("D4L/"),O=n("5mKg"),y=n("RAhH"),j=n("od5y"),k=n("46+D"),E=n("lQgN"),C=n("nNoG"),I=new C.b("shared_channels"),w=(p.b.string,p.b.arrayOf(p.b.node),p.b.bool,p.b.string,p.b.bool,p.b.bool,p.b.bool,{className:void 0,sharedTeamNames:[],tooltip:!1,tooltipPosition:"top",pending:!1,inherit:!1,inline:!1}),S=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.sharedTeamNames,r=e.tooltip,i=e.tooltipPosition,o=e.pending,s=e.inherit,c=e.inline,l=o?"shared_channels_pending":"shared_channels";c&&(l=o?"shared_channels_baseline_pending":"shared_channels_baseline");var u=m.a.createElement(j.b,a()({type:l,className:v()("p-shared_channels_icon",t),size:s?"inherit":void 0,inline:c},Object(E.a)(this.props)));if(r&&n&&n.length){var d=o?I.rt('<span className="sk_light_grey">Waiting for</span> {sharedTeamNames} <span className="sk_light_grey">to\xa0join</span>',{sharedTeamNames:Object(C.h)(n,{noEscape:!0,react:!0}),fallbackHash:"49c0f2d17da5452a88ed8ba9fa1c1ce127956478"}):I.rt('<span className="sk_light_grey">Shared with</span> {sharedTeamNames}',{sharedTeamNames:Object(C.h)(n,{noEscape:!0,react:!0})});return m.a.createElement(y.c,{tip:d,position:i},u)}return u}}]),t}(m.a.Component);S.displayName="SharedChannelsIcon";S.defaultProps=w;var T=Object(g.b)(function(e,t){var n=t.sharedTeamIds,r=t.tooltip,a=t.tooltipPosition;return{sharedTeamNames:n&&n.map(function(t){var n=Object(_.i)(e,t);return Object(O.L)(n)?m.a.createElement(k.a,{type:"unknown",subtler:!0}):Object(O.e)(n)}),tooltip:r,tooltipPosition:a}})(S);t.a=T},sJR0:function(e,t,n){"use strict";n.d(t,"a",function(){return I}),n.d(t,"j",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"d",function(){return R}),n.d(t,"k",function(){return N}),n.d(t,"o",function(){return P}),n.d(t,"i",function(){return A}),n.d(t,"m",function(){return D}),n.d(t,"n",function(){return L}),n.d(t,"l",function(){return q}),n.d(t,"e",function(){return F}),n.d(t,"f",function(){return B}),n.d(t,"h",function(){return U}),n.d(t,"g",function(){return H});var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("zmn3"),c=n("fujP"),l=n("OtLZ"),u=n("Z0Cl"),d=n("NFsq"),b=n("aK/h"),p=n("EzZj"),h=n("XfeM"),m=n("yHhI"),f=n("uf9I"),v=n("HO/Y"),g=n("kpmE"),_=n("Fdc0"),O=n("DtX9"),y=n("DQNL"),j=n("uqAm"),k=n("pGee"),E=n("BtFA"),C="USER_GROUPS",I=Object(p.b)("Add a user group, overwriting anything previously stored with the same id");I.propTypes=b.b.shape({id:b.b.string.isRequired,users:b.b.array}).isRequired;var w=Object(p.b)("Remove a user group");w.propTypes=b.b.string.isRequired;var S=Object(p.b)("Bulk add user groups, overwriting anything previously stored with the same id");S.propTypes=b.b.arrayOf(b.b.shape({id:b.b.string.isRequired,users:b.b.array})).isRequired;var T=Object(p.b)("Add a member to a group");T.propTypes={groupId:b.b.string.isRequired,memberId:b.b.string.isRequired};var R=Object(p.b)("Bulk add members to a user group, overwriting anything previously stored in the users field");R.propTypes={groupId:b.b.string.isRequired,users:b.b.arrayOf(b.b.string)};var N=Object(p.b)("Remove a member from a group");N.propTypes={groupId:b.b.string.isRequired,memberId:b.b.string.isRequired};var x=Object(h.b)("Upsert a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.userGroup,i=n.isBulkUpsert,s=void 0!==i&&i,c=t();if(!c)return null;if(!r)return null;if(!r.id)return null;if(Object(y.q)(r)&&!r.name&&!r.handle)return null;var l=Object(k.g)(c,r.id)?Object(k.e)(c,r.id):{},u=r.name,d=o()({},l,r,{user_count:Object(y.l)(r),_name_lc:u&&u.toLocaleLowerCase(),is_usergroup:!0});return d=o()({},function(e){e.isUnknown;var t=a()(e,["isUnknown"]);return Object(y.h)(e)?o()({},t,{isNonExistent:!1}):t}(d)),s||(e(S([d])),Object(v.j)(t(),"feature_sonic_user_groups")||Object(j.b)()),d});x.propTypes={userGroup:b.b.shape({id:b.b.string.isRequired}).isRequired,isBulkUpsert:b.b.bool,reason:b.b.string};var M=Object(h.b)("Upsert a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(O.b)(t());return!Object(_.ob)(r)&&e(x(n))});M.propTypes={userGroup:b.b.shape({id:b.b.string.isRequired}).isRequired,isBulkUpsert:b.b.bool,reason:b.b.string};var P=Object(h.b)("Upsert a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.userGroups,a=void 0===r?[]:r,i=n.reason,o=void 0===i?"Upsert a user group":i,c=Object(O.b)(t());if(Object(_.ob)(c))return!1;var l=a.map(function(t){return e(M({userGroup:t,isBulkUpsert:!0,reason:o}))}),d=Object(f.b)(t()),b=Object(s.a)(a,"id");return Object(E.a)(d,b),(l=Object(u.a)(l)).length?(e(S(l)),l):l});P.propTypes={userGroups:b.b.arrayOf(b.b.shape({id:b.b.string.isRequired})).isRequired,reason:b.b.string};var A=Object(h.b)("Fetch and upsert the members of a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.reason,i=void 0===a?"fetchAndUpsertUserGroupMembers":a,o=t(),s=Object(k.e)(o,r);return Object(y.t)(s)||!Object(y.u)(s)?Promise.resolve():e(Object(g.h)({subteam:r,reason:i})).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).users;return e(R({groupId:r,users:t})),t}).catch(function(e){throw Object(m.a)({getState:t}).error(C,"Error in fetchAndUpsertUserGroupMembers: "+JSON.stringify(e)),e})});A.propTypes={groupId:b.b.string.isRequired,reason:b.b.string};var D=Object(h.b)("Remove a group member from a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.memberId,i=n.reason,o=void 0===i?"removeUserGroupMember":i,s=Object(m.a)({getState:t}),c=Object(k.e)(t(),r),u=Object(y.g)(c);if(!Object(d.a)(u,a))return s.warn("removeUserGroupMember: No member with id "+a+" found in groupId "+r);var b=Object(l.a)(u,a);return e(Object(g.i)({subteam:r,users:b,reason:o})).catch(function(e){throw s.error(C,"Error in removeUserGroupMember: "+JSON.stringify(e)),e})});D.propTypes={groupId:b.b.string.isRequired,memberId:b.b.string.isRequired,reason:b.b.string};var L=Object(h.b)("Upsert changes to a user group\u2019s name, handle, description, or default channels.",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.channels,i=n.name,s=n.handle,c=n.description,l=n.reason,u={};return i&&(u.name=i),s&&(u.handle=s),c&&(u.description=c),a&&(u.channels=a),e(Object(g.j)(o()({subteam:r,reason:l},u))).catch(function(e){throw Object(m.a)({getState:t}).error(C,"Error in updateUserGroup: "+JSON.stringify(e)),e})});L.propTypes={groupId:b.b.string.isRequired,name:b.b.string,handle:b.b.string,description:b.b.string,channels:b.b.array,reason:b.b.string.isRequired};var q=Object(h.b)("Remove a default channel from a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.channelId,i=n.reason,o=void 0===i?"removeUserGroupChannel":i,s=Object(m.a)({getState:t}),c=Object(k.e)(t(),r),u=Object(y.d)(t(),c);if(!Object(d.a)(u,a))return s.warn("removeUserGroupChannel: No channel with id "+a+" found in groupId "+r);var b=Object(l.a)(u,a);return e(L({groupId:r,channels:b,reason:o})).catch(function(e){throw s.error(C,"Error in removeUserGroupChannel: "+JSON.stringify(e)),e})});q.propTypes={groupId:b.b.string.isRequired,channelId:b.b.string.isRequired,reason:b.b.string};var F=Object(h.b)("Fetch and upsert the members of a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.users,i=n.reason,o=void 0===i?"bulkUpsertUserGroupMembers":i;return e(Object(g.i)({subteam:r,users:a,reason:o})).catch(function(e){throw Object(m.a)({getState:t}).error(C,"Error in bulkUpsertUserGroupMembers: "+JSON.stringify(e)),e})});F.propTypes={groupId:b.b.string.isRequired,users:b.b.arrayOf(b.b.string).isRequired,reason:b.b.string};var B=Object(h.b)("Create a new user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channels,a=n.name,i=n.handle,s=n.description,l=n.users,u=n.reason,d={};return a&&(d.name=a),i&&(d.handle=i),s&&(d.description=s),r&&(d.channels=r),e(Object(g.a)(o()({},d))).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subteam;return Object(c.a)(l)||e(Object(g.i)({subteam:t.id,users:l,reason:u})),t}).catch(function(e){throw Object(m.a)({getState:t}).error(C,"Error in createUserGroup: "+JSON.stringify(e)),e})});B.propTypes={name:b.b.string,handle:b.b.string,description:b.b.string,channels:b.b.array,users:b.b.array,reason:b.b.string.isRequired};var U=Object(h.b)("Fetch and upsert the members of a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.reason,i=void 0===a?"enableAndUpdateUserGroup":a;return e(Object(g.c)({subteam:r,reason:i})).catch(function(e){throw Object(m.a)({getState:t}).error(C,"Error in enableAndUpdateUserGroup: "+JSON.stringify(e)),e})});U.propTypes={groupId:b.b.string.isRequired,reason:b.b.string};var H=Object(h.b)("Fetch and upsert the members of a user group",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.groupId,a=n.reason,i=void 0===a?"disableAndUpdateUserGroup":a;return e(Object(g.b)({subteam:r,reason:i})).catch(function(e){throw Object(m.a)({getState:t}).error("Error in disableAndUpdateUserGroup: "+JSON.stringify(e)),e})});H.propTypes={groupId:b.b.string.isRequired,reason:b.b.string}},"sJy+":function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return O});var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("od5y"),g=(n("E95i"),{default:"default",boxed:"boxed",nestedBox:"nested_box",inline:"inline"}),_={default:"default",info:"info",success:"success",warning:"warning",error:"error"},O={left:"left",center:"center"},y=(b.b.oneOf(Object(d.a)(O)),b.b.node.isRequired,b.b.string,b.b.string,b.b.string,b.b.string,b.b.oneOf(Object(d.a)(_)),b.b.oneOf(Object(d.a)(g)),{align:O.left,className:null,heading:null,icon:null,id:null,level:_.default,type:g.boxed}),j=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.align,a=e.heading,i=e.icon,o=e.id,s=e.level,c=e.type,l=f()("c-alert","c-alert--"+c,"c-alert--level_"+s,"c-alert--align_"+r,{"c-alert--multiline":a},n),u=i;return i||(u="default"===s?"slack-pillow":"info"===s?"info-circle":"success"===s?"check-circle-o-large":"warning"),h.a.createElement("div",{className:l,id:o,"data-qa-alert":!0,"data-qa-alert-level":s,"data-qa-alert-type":c,"data-qa-alert-align":r,role:"alert"},"inline"!==c&&h.a.createElement(v.b,{type:u,className:"c-alert__icon",size:c===g.nestedBox?"inherit":void 0,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":u}),h.a.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},a&&h.a.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},a),t))}}]),t}(p.PureComponent);j.displayName="Alert",j.defaultProps=y,t.d=j},sK36:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var r=n("ROZo"),a=Object(r.b)("TS.view.onUserGroupReferenceClick"),i=Object(r.b)("TS.view.checkIfInputShouldBeDisabledAndPopulate"),o=Object(r.b)("TS.view.members.memberTypingStarted"),s=Object(r.b)("TS.view.members.memberTypingEnded")},sKU9:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("m1cH"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("FYw3"),h=n.n(p),m=n("mRg0"),f=n.n(m),v=n("ifKl"),g=n("7EGn"),_=n("HI9p"),O=n("hjf3"),y=n("hbEN"),j=n("TSYQ"),k=n.n(j),E=n("XHGt"),C=n("tn36"),I=n("aK/h"),w=n("kxpR"),S=n.n(w),T=n("HDnS"),R=n("nNoG"),N=n("RbWr"),x=n("HO/Y"),M=n("RMmo"),P=n("od5y"),A=n("e4Fz"),D=n("HL/o"),L=(n("4l1r"),new R.b("form")),q="above-target",F="below-target",B=I.b.arrayOf(I.b.shape({description:I.b.string,isPlaceholder:I.b.bool,label:I.b.node.isRequired,value:I.b.string.isRequired})),U={autoSelectFirstOption:I.b.bool,"data-qa":I.b.string,"aria-label":I.b.string,emptyStateMessage:I.b.node,isAlwaysOpen:I.b.bool,isLoading:I.b.bool,maxListHeight:I.b.number,onActiveOptionUpdated:I.b.func,onOptionSelected:I.b.func,onScroll:I.b.func,optionClassName:I.b.string,optionGroups:I.b.arrayOf(I.b.shape({isPlaceholder:I.b.bool,label:I.b.node,options:B})),options:B,optionsRowHeight:I.b.number,pillarClassName:I.b.string,selectId:I.b.string,targetMeasurements:I.b.shape({bottom:I.b.number.isRequired,offsetBottom:I.b.number.isRequired,offsetTop:I.b.number.isRequired,relativeBottom:I.b.number.isRequired,relativeLeft:I.b.number.isRequired,relativeTop:I.b.number.isRequired,top:I.b.number.isRequired,width:I.b.number.isRequired}).isRequired,useFullWidthOptions:I.b.bool,value:I.b.string,featureNewUnifiedListEntities:I.b.bool},H={autoSelectFirstOption:!1,"data-qa":"options_list",emptyStateMessage:void 0,isAlwaysOpen:!1,maxListHeight:240,onActiveOptionUpdated:v.a,onOptionSelected:v.a,onScroll:v.a,optionClassName:void 0,optionGroups:void 0,options:void 0,optionsRowHeight:28,selectId:void 0,useFullWidthOptions:!1,value:void 0,featureNewUnifiedListEntities:!1},K=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isMouseMoveEnabled=!0,n.buildListRowsCache(n.props);var r=null;if(n.props.autoSelectFirstOption)r=0;else if(n.props.value){var a=Object(_.a)(n.listRows,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).option;return e&&e.value===n.props.value});a>=0&&(r=a)}return n.state={activeRowIndex:r},Object(C.a)(n,["onKeyPressedDown","onKeyPressedEnter","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","setRef"]),n.debouncedEnableMouseMove=Object(y.a)(n.enableMouseMove,200),n.debouncedOnScroll=Object(y.a)(n.onScroll,200),n}return f()(t,e),b()(t,[{key:"componentWillReceiveProps",value:function(e){this.buildListRowsCache(e)}},{key:"componentDidMount",value:function(){this.keyCommands=this.initKeyCommands(),this.sizeAndPosition(),this.list&&"number"==typeof this.state.activeRowIndex&&(this.list.forceUpdateGrid(),this.list.scrollToRow(this.state.activeRowIndex))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeRowIndex,r=this.props.onActiveOptionUpdated;this.sizeAndPosition(),t.activeRowIndex!==n&&r(this.listRows[n])}},{key:"componentWillUnmount",value:function(){this.keyCommands&&this.keyCommands.reset()}},{key:"clearActive",value:function(){this.setState(function(){return{activeRowIndex:null}}),this.list&&this.list.forceUpdateGrid()}},{key:"onKeyPressedDown",value:function(){this.isMouseMoveEnabled=!1;var e=this.getNextActiveRowIndex(this.state.activeRowIndex);this.setState(function(){return{activeRowIndex:e}}),this.debouncedEnableMouseMove(),this.list&&(this.list.forceUpdateGrid(),this.list.scrollToRow(e))}},{key:"onKeyPressedEnter",value:function(e){var t=this.listRows[this.state.activeRowIndex];t&&this.props.onOptionSelected(t.option,e)}},{key:"onKeyPressedUp",value:function(){this.isMouseMoveEnabled=!1;var e=this.getPreviousActiveRowIndex(this.state.activeRowIndex);this.setState(function(){return{activeRowIndex:e}}),this.debouncedEnableMouseMove(),this.list&&(this.list.forceUpdateGrid(),this.list.scrollToRow(e))}},{key:"onMouseEnteredOption",value:function(e){this.isMouseMoveEnabled&&(this.setState(function(){return{activeRowIndex:e}}),this.list&&this.list.forceUpdateGrid())}},{key:"onMouseLeftOption",value:function(){this.isMouseMoveEnabled&&this.clearActive()}},{key:"onOptionClicked",value:function(e,t){this.isMouseMoveEnabled&&this.props.onOptionSelected(e,t)}},{key:"onScroll",value:function(e){this.props.onScroll(e)}},{key:"buildListRowsCache",value:function(e){var t=e.options,n=e.optionGroups;this.listRows=[],n?this.listRows=Object(O.a)(n.map(function(e){return[e.isPlaceholder?[]:{type:"group",group:e}].concat(c()((e.options||[]).map(function(e){return{type:"option",option:e}})))})):t&&(this.listRows=t.map(function(e){return{type:"option",option:e}}))}},{key:"setRef",value:function(e){var t=this;return function(n){t[e]=n}}},{key:"initKeyCommands",value:function(){var e=new M.a;return e.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:["enter"],handler:this.onKeyPressedEnter},{keys:["up"],handler:this.onKeyPressedUp}]),e}},{key:"getDataQaTag",value:function(e){var t=e.value;return this.props["data-qa"]+"_option_"+t.replace(/[^\w\s]/g,"").replace(/\s/g,"_")}},{key:"getNextActiveRowIndex",value:function(e){if(null===e)return 0;for(var t=e+1;this.listRows[t]&&"option"!==this.listRows[t].type;)t+=1;return this.listRows[t]?t:0}},{key:"getPreviousActiveRowIndex",value:function(e){for(var t=e-1;this.listRows[t]&&"option"!==this.listRows[t].type;)t-=1;return this.listRows[t]?t:this.listRows.length-1}},{key:"enableMouseMove",value:function(){this.isMouseMoveEnabled=!0}},{key:"sizeAndPosition",value:function(){if(this.listContainer){o()(this.listContainer.style,{height:null});var e=this.props.targetMeasurements,t=e.bottom,n=e.offsetBottom,r=e.offsetTop,a=e.relativeBottom,i=e.relativeLeft,s=e.relativeTop,c=e.top,l=e.width,u=window.getComputedStyle(this.listContainer),d=u.marginBottom,b=u.marginTop,p=parseFloat(b,10)+parseFloat(d),h=this.listContainer.offsetHeight+p,m=c-r,f=window.innerHeight-t-n,v=h<f,g={left:i+"px",width:l+"px"},_=void 0;if(this._initialPosition)_=this._initialPosition;else{_=m>f&&!v?q:F;var O=this.props,y=O.options,j=O.optionGroups;(y&&y.length||j&&j.length)&&(this._initialPosition=_)}_===q?(g.top=null,g.bottom=s+"px",g.height=Math.min(h,m)-p+"px"):(g.bottom=null,g.top=a+"px",g.height=Math.min(h,f)-p+"px"),o()(this.listContainer.style,g)}}},{key:"getEmptyStateMessage",value:function(){return this.props.emptyStateMessage||L.t("No items")}},{key:"renderEmptyState",value:function(){var e=this.props.pillarClassName,t=k()("c-input_select_options_list__empty_state",a()({},e+"_options_list__empty_state",e));return S.a.createElement("div",{className:t},this.getEmptyStateMessage())}},{key:"renderGroupRow",value:function(e,t,n){var r=this.props.pillarClassName,i=n.label,o=k()("c-input_select_options_list__option_group_label",a()({},r+"__option_group_label",r));return S.a.createElement("div",{className:o,key:e,style:t,"data-qa":"option-group"},i)}},{key:"renderList",value:function(){var e=this.props,t=e.maxListHeight,n=e.optionsRowHeight,r=e.selectId,a=e.useFullWidthOptions,i=e.featureNewUnifiedListEntities,o=e["aria-label"],s=t||240,c=this.listRows.length*n,l=n;i&&28===n&&(c=30*this.listRows.length,l=30);var u=c<s?c:s,d=a?2:10;return S.a.createElement(T.a,{"aria-label":o,containerRole:"presentation",height:u,id:Object(A.a)(r,"listbox"),noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.setRef("list"),role:"listbox",rowCount:this.listRows.length,rowHeight:l,rowRenderer:this.renderRow,width:this.props.targetMeasurements.width-d,tabIndex:null})}},{key:"renderListBody",value:function(){return this.props.isLoading?this.renderLoadingState():this.listRows&&this.listRows.length&&(this.listRows.length>1||!Object(g.a)(this.listRows[0],"option.isPlaceholder"))?this.renderList():this.renderEmptyState()}},{key:"renderLoadingState",value:function(){var e=L.t("Loading results\u2026");return S.a.createElement("div",{className:"c-input_select_options_list__loading_state"},S.a.createElement(P.a,{type:"spinner",animation:"spin"}),S.a.createElement("div",{className:"c-input_select_options_list__loading_state_message"},e))}},{key:"renderOptionBody",value:function(e){var t=e.label,n=e.description;if(Object(w.isValidElement)(t))return t;var r=!!n;return S.a.createElement(S.a.Fragment,null,Object(D.a)(t),r&&Object(D.a)(n,{className:"c-input_select_options_list__option_description"}))}},{key:"renderOptionRow",value:function(e,t,n,r){var i,o=this,s=this.props,c=s.optionClassName,l=s.pillarClassName,u=s.selectId,d=s.value,b=s.featureNewUnifiedListEntities,p=r.isPlaceholder,h=r.value,m=this.listRows[this.state.activeRowIndex],f=m&&m.option===r,v=h===d,g=k()("c-input_select_options_list__option",{"c-input_select_options_list__option--sans_unified":!b,"c-input_select_options_list__option--active":f,"c-input_select_options_list__option--placeholder":p,"c-input_select_options_list__option--selected":v},(i={},a()(i,l+"__option",l),a()(i,l+"__option--active",f&&l),a()(i,l+"__option--placeholder",p&&l),a()(i,l+"__option--selected",v&&l),i),c);return S.a.createElement("div",{"aria-selected":f,className:g,"data-qa":this.getDataQaTag(r),id:Object(A.a)(u,h),key:t,style:n,onClick:function(e){o.onOptionClicked(r,e)},onMouseEnter:function(){o.onMouseEnteredOption(e)},onMouseLeave:this.onMouseLeftOption,role:"option",tabIndex:"-1","data-is-active":f},this.renderOptionBody(r))}},{key:"renderRow",value:function(e){var t=e.index,n=e.key,r=e.style,a=this.listRows[t];return"group"===a.type?this.renderGroupRow(n,r,a.group):"option"===a.type?this.renderOptionRow(t,n,r,a.option):null}},{key:"render",value:function(){var e,t=this.props,n=t.pillarClassName,r=t.featureNewUnifiedListEntities,i=k()("c-input_select_options_list_container",{"c-input_select_options_list_container--grouped":!!this.props.optionGroups,"c-input_select_options_list_container--grouped_sans_unified":!!this.props.optionGroups&&!r,"c-input_select_options_list_container--always-open":this.props.isAlwaysOpen},(e={},a()(e,n+"_container--grouped",!!this.props.optionGroups&&n),a()(e,n+"_container--always-open",this.props.isAlwaysOpen&&n),e)),o=k()("c-input_select_options_list",a()({},n+"_options_list",n));return S.a.createElement("div",{className:i,ref:this.setRef("listContainer"),role:"presentation"},S.a.createElement("div",{className:o,role:"presentation"},this.renderListBody()))}}]),t}(N.a);K.displayName="OptionsList",K.propTypes=U,K.defaultProps=H;t.a=Object(E.b)(function(e){return{featureNewUnifiedListEntities:Object(x.j)(e,"feature_new_unified_list_entities")}},null,null,{withRef:!0})(K)},sNFA:function(e,t,n){},sRJn:function(e,t,n){"use strict";n.d(t,"d",function(){return j}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return T});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("OtLZ"),l=n("oTSI"),u=n("aK/h"),d=n("EzZj"),b=n("MNvw"),p=n("U/ze"),h=n("XfeM"),m=n("1zbP"),f=n("btvA"),v=n("lhZz"),g=n("uf9I"),_=n("CPJ1"),O=u.b.shape({id:u.b.string.isRequired,userIds:u.b.arrayOf(u.b.string).isRequired}).isRequired,y=Object(d.b)("adds array of user IDs corresponding to apps in the channel to the store");y.propTypes={channelId:u.b.string.isRequired,channelApps:O};var j=Object(d.b)("removes user id from store");j.propTypes={channelId:u.b.string.isRequired,userId:u.b.string.isRequired};var k=Object(b.b)((r={},i()(r,y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.channelApps;return n&&r?s()({},e,i()({},n,r)):e}),i()(r,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.userId;if(!n||!r)return e;var a=e[n];return a?s()({},e,i()({},n,s()({},a,{userIds:Object(c.a)(a.userIds,r)}))):e}),r),{},{persistenceEnabled:!0});k.propTypes=u.b.objectOf(O),t.a=k;var E=Object(p.b)(function(e,t){var n=e&&e.appsInChannels&&e.appsInChannels[t],r=Object(g.b)(e);return n?(x().maybeRefetch(r,t),n):N().fetchObjectWithId(r,t)}),C=Object(h.b)("Fetches apps in the channel",function(e,t,n){return e(Object(_.c)({query:{count:50,channels:[n],filter:"apps",index:"users_by_realname"}})).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{members:[]}).members;return{id:n,userIds:e.map(function(e){return e.id})}})});C.propTypes=u.b.string;var I=Object(h.b)("Fetches channel apps for multiple channels given an array of channel IDs",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Promise.map(n,function(t){return e(C(t))})});I.propTypes=u.b.arrayOf(u.b.string).isRequired;var w=Object(h.b)("Upserts channel apps for multiple channels given an array of channel Ids",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.forEach(function(t){return e(y({channelId:t.id,channelApps:t}))});var r=n.filter(m.b).map(function(e){return e.id});return x().markObjectsAsFresh(Object(g.b)(t()),r),n});w.propTypes=u.b.arrayOf(u.b.object).isRequired;var S=Object(h.b)("Fetchs and upserts channel apps for multiple channels given an array of channelIds",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e(I(n)).then(function(t){return e(w(t))})});S.propTypes=u.b.arrayOf(u.b.string).isRequired;var T=Object(h.b)("Marks apps in channel as stale so they will be refetched when needed",function(e,t,n){var r=t(),a=Object(g.b)(r);x().markObjectsAsStale(a,[n])});T.propTypes=u.b.string.isRequired;var R=function(e){return function(t,n){return Object(v.dispatchForTeamId)(t,e(n))}},N=Object(l.a)(function(){return new m.a({fetch:R(I),upsertKnown:R(w),upsertNonExistent:R(w)})}),x=Object(l.a)(function(){return new f.b({fetch:R(S),isEnabled:function(){return!0}})})},"sg/O":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("NFsq"),a=n("F294"),i=n("fujP"),o=n("FN36"),s=n("Fdc0"),c=function(e){if(e)return"<@"+e.replace(/^@/,"")},l=function(e){if(e)return"<!subteam^"+e},u=function(e,t){var n=t.prefName,r=t.user,a=t.dflt,i=void 0===a||a;return Object(s.xb)(r)?"ra"===Object(o.a)(e,n):"ra"===Object(o.a)(e,n)||("regular"===Object(o.a)(e,n)||("admin"===Object(o.a)(e,n)?Object(s.X)(r):"owner"===Object(o.a)(e,n)?Object(s.vb)(r):i))},d=function(e,t){var n=t.prefValue,o=t.user,c=t.dflt,l=void 0===c||c;if(Object(i.a)(n)||Object(s.sb)(o))return!1;if(Object(r.a)(n.user,o.id))return!0;var u=n.role||n.type;switch(Object(a.a)(u)){case"ra":case"all":return!0;case"regular":return!Object(s.xb)(o);case"admin":return Object(s.X)(o);case"org_admin":return Object(s.ib)(o);default:return l}}},smh8:function(e,t,n){"use strict";var r=n("XfeM"),a=n("Smdl"),i=n("tVnY"),o=n("2Y1Y"),s=Object(r.b)("Clear the search legacy input",function(e,t){if(!Object(i.b)(t())&&!Object(a.a)()){var n=window.$&&window.$("#search_terms");n&&Object(o.j)(n,"")}});s.propTypes=null,t.a=s},smxp:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return p});var r=n("xWuZ"),a=n("zmn3"),i=n("mkut"),o=n("Z0Cl"),s=n("U/ze"),c=Object(s.b)(function(e,t,n){return e&&e.messages&&e.messages[t]&&e.messages[t][n]}),l=Object(s.b)(function(e,t){return e&&e.messages&&e.messages[t]||{}}),u=Object(s.b)(function(e,t,n){if(!e||!e.messages)return[];if(t){var s=l(e,t);return Object(o.a)(s,n)}var c=Object(i.a)(e.messages),d=Object(a.a)(c,function(t){return t?u(e,t,n):[]});return Object(r.a)(d)}),d=Object(s.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId;if(!(e&&e.messages&&e.messages[n]&&e.messages[n][r]&&e.messages[n][r].__meta__))return!1;var i="attachment-"+a+"-isPending";return e.messages[n][r].__meta__[i]}),b=Object(s.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId,i=t.actionId;if(!(e&&e.messages&&e.messages[n]&&e.messages[n][r]&&e.messages[n][r].__meta__))return!1;var o="attachment-"+a+"-action-"+i+"-isPending";return e.messages[n][r].__meta__[o]}),p=Object(s.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=t.attachmentId;if(!(e&&e.messages&&e.messages[n]&&e.messages[n][r]&&e.messages[n][r].__meta__))return!1;if(!d(e,{channelId:n,messageTs:r,attachmentId:a}))return!1;var i="attachment-"+a+"-loaderIsShowing";return e.messages[n][r].__meta__[i]})},soCq:function(e,t,n){},swWY:function(e,t,n){"use strict";var r=n("lCmp"),a=n("GzZI"),i=n("kxpR"),o=n.n(i),s=n("XHGt"),c=n("aK/h"),l=n("6kok"),u=n("DtX9"),d=n("clTI"),b=n("1zbP"),p=n("A+cF"),h=n("hCvz"),m=4,f=(c.b.string,c.b.object,c.b.bool,c.b.string,c.b.bool,c.b.bool,{className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1});function v(e){var t=e.className,n=e.mpim,r=e.multiline,i=e.name,s=e.invert,c=e.isAnyMemberUnknown,u=Object(b.c)(n),d=Object(b.d)(n),f=Object(l.K)(n),v=void 0;return v=d||u||c?Object(a.a)(f||m).map(function(e){return o.a.createElement(h.b,{key:e,className:"c-mpim_entity__missing_text",isNonExistent:u,size:"random",invert:s})}):o.a.createElement("strong",null,i),o.a.createElement(p.c,{className:t,multiline:r},v)}v.displayName="MpimName",v.defaultProps=f;t.a=Object(s.b)(function(e,t){var n=t.id,a=Object(d.d)(e,n),i=Object(l.H)(a),o=i&&i.map(function(t){return Object(u.c)(e,t)}),s=Object(r.a)(o,b.e);return{mpim:a,name:Object(l.J)(e,a),isAnyMemberUnknown:s}})(v)},sxa1:function(e,t,n){},sxiy:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("TGBA"),o=n("3Hq1"),s=n("fujP"),c=n("CpTu"),l=n("aK/h"),u=n("4zXV"),d=n("om+M"),b=n("Y/4G"),p=Object(d.a)("Send a slash command to the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.displayName,i=n.text,o=n.channelId,s=n.threadTs,c=n.reason;if(!r||!a||!o)return Promise.reject(new Error("Missing required params"));var l={command:r,disp:a,text:i,channel:o,client_token:b.a.generateAndEnqueue()};return s&&(l.thread_ts=s),e(Object(u.a)({method:"chat.command",args:l,reason:c}))});p.propTypes={name:l.b.string.isRequired,displayName:l.b.string.isRequired,channelId:l.b.string.isRequired,text:l.b.string,threadTs:l.b.string,reason:l.b.string.isRequired};var h=p,m=Object(d.a)("Fetch a list of Slash Commands",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(u.a)({method:"commands.list",SET_ACTIVE:!1,reason:n})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{commands:e.commands,cacheTs:e.cache_ts}})});m.propTypes={reason:l.b.string.isRequired};var f=n("Cbpi"),v=n("eJId"),g=n("HO/Y"),_=n("XYkb"),O=n("St+r"),y=n("XfeM"),j=n("uf9I"),k=n("KPXh"),E=n("aLpA"),C=n("kOzZ"),I=n("yHhI"),w=n("nNoG"),S=n("9tyN"),T=n("UQEz"),R=n("e5MT"),N=n("GkXS");n.d(t,"a",function(){return L}),n.d(t,"b",function(){return F}),n.d(t,"c",function(){return B});var x=E.P.INVALID_PARAMS,M=E.P.RESTRICTED_COMMAND,P=E.P.UNKNOWN_API_ERROR,A=E.P.UNKNOWN_COMMAND,D="SLASH-COMMAND",L=Object(y.b)("Run a local or server slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.args,i=n.channelId,o=n.threadTs,s=n.delta;if(!r||!i)return Promise.reject(new Error(x));var l=r.cmd,u=r.disp,d=r.originalRest,b=t(),p=Object(I.a)({state:b});p.info(D,'Command "'+l+'" is PENDING');var m=Object(N.b)(b),y=Object(c.a)(m,function(e){return Object(S.a)(e,l)}),j=Object(k.g)(y)||l,E=Object(k.d)(y);if(y){var R=Object(k.k)(b,y,{channelId:i,isThread:!!o}),L=R.isEnabled,q=R.reason,F=R.feedback;if(!L){p.info(D,'Command "'+j+'" FAILED (disabled)');var B=new Error(q);return B.feedback=F,Promise.reject(B)}e(Object(_.c)({canonicalName:E,delta:s}))}var U=Object(v.b)(b,E),H=U&&U.action;if(H)return Object(C.a)().track("BUILTIN_CHAT_COMMAND_CALLED",{locale:w.p,slash_command_canonical_name:y.name,slash_command_name:j}),Promise.resolve(e(H(a()({channelId:i,threadTs:o},r)))).tap(function(){p.info(D,'Command "'+j+'" RESOLVED')}).catch(function(e){throw p.info(D,'Command "'+j+'" FAILED (local error "'+e.message+'")'),e});var K=Object(T.a)(d);return e(h({channelId:i,threadTs:o,text:K,name:j,displayName:u,reason:"executeCommand"})).tap(function(){p.info(D,'Command "'+j+'" RESOLVED'),Object(g.j)(b,"feature_degraded_send")&&!Object(O.i)(b)&&e(Object(f.a)({channelId:i,threadTs:o}))}).catch(function(e){var t=e&&e.data||{};if(!t.silence_error){var n=t.error||e.message;p.info(D,'Command "'+j+'" FAILED (server error "'+n+'")');var r=void 0;throw"restricted_action"===n?r=new Error(M):"unknown_command"===n?r=new Error(A):(r=new Error(P)).feedback=n,r}})});L.propTypes={args:l.b.shape({cmd:l.b.string.isRequired,disp:l.b.string,originalRest:l.b.string}).isRequired,channelId:l.b.string.isRequired,threadTs:l.b.string};var q={},F=Object(y.b)("Load local and remote Slash commands into Redux",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).resetPreviousCommands,r=void 0!==n&&n,a=Object(j.b)(t());return q[a]=e(m({reason:"loadSlashCommands"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.commands,a=t.cacheTs;r&&e(Object(R.c)()),e(Object(R.a)({commands:Object(i.a)(n),cacheTs:a}))}),q[a]});F.propTypes={resetPreviousCommands:l.b.bool};var B=Object(y.b)("Reload local and remote slash commands if we are out of sync with the server",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serverCacheTs,a=n.localeChanged,i=void 0!==a&&a,c=t(),l=Object(j.b)(c),u=c.slashCommand,d=u.commands,b=u.cacheTs,p=Object(s.a)(d),h=Object(o.a)(b)||parseFloat(b,10)<parseFloat(r,10),m=p||h||i,f=function(e){return!(!q[e]||!q[e].isPending())}(l);return m&&!f?e(F({resetPreviousCommands:!0})):Promise.resolve()});B.propTypes={serverCacheTs:l.b.string}},"t+Pu":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("aLpA");function a(e){return-1!==r.B.indexOf(e)}},t1Oe:function(e,t,n){"use strict";var r=n("1Ji4");t.a=r.a},t3QL:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("owWc"),c=n("zmn3"),l=n("/1FC"),u=n("IzLi"),d=n("xnu4");function b(e){return Object(s.a)(e,function(e,t,n){return o()({},e,a()({},Object(d.a)(n),t))},{})}var p=5;function h(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Object(u.a)(e)&&!Object(l.a)(e)||t>p)return e;var n=void 0;Object(l.a)(e)?Object(l.a)(e)&&(n=Object(c.a)(e,function(e){return h(e)})):n=Object(s.a)(e,function(e,t,n){return o()({},e,a()({},Object(d.a)(n),h(t)))},{});return n}(e,0)}},t4nz:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=(n("PsO1"),p.b.node.isRequired,p.b.string,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.className,t=v()("c-legend",e);return m.a.createElement("legend",a()({},this.props,{className:t}),this.props.children)}}]),t}(h.PureComponent));g.displayName="Legend",g.defaultProps={className:null},t.a=g},tA4R:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("m8R6"),l=n("aK/h"),u=n("EzZj"),d=n("MNvw"),b=n("5mKg"),p=n("Q9r6"),h=["","std","plus","compliance","enterprise"],m=Object(u.b)("Add team");m.propTypes=l.b.shape({id:l.b.string.isRequired,plan:l.b.oneOf(h),over_storage_limit:l.b.bool,is_migrating:l.b.bool,externalOrgMigrated:l.b.bool}).isRequired;var f=Object(u.b)("Remove team");f.propTypes=l.b.shape({id:l.b.string.isRequired}).isRequired;var v=Object(d.b)((r={},i()(r,m,function(e,t){if(!t||!t.id)return e;var n=s()({},e),r=t;return Object(b.q)(r)&&(r=Object(p.a)(r)),n[r.id]=r,n}),i()(r,f,function(e,t){return t&&t.id&&e[t.id]?Object(c.a)(e,t.id):e}),r),{},{persistenceEnabled:!0});v.propTypes=l.b.objectOf(l.b.shape({id:l.b.string.isRequired,domain:l.b.string,name:l.b.string,url:l.b.string,plan:l.b.oneOf(h),can_add_ura:l.b.bool,over_storage_limit:l.b.bool,is_migrating:l.b.bool,externalOrgMigrated:l.b.bool})),t.b=v},tBeP:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("DTT0"),s=n("XfeM"),c=n("iCc5"),l=n.n(c),u=n("V7oC"),d=n.n(u),b=n("FYw3"),p=n.n(b),h=n("mRg0"),m=n.n(h),f=n("ifKl"),v=n("fujP"),g=n("TSYQ"),_=n.n(g),O=n("nNoG"),y=n("aolG"),j=n("0f2Y"),k=n("XLFM"),E=n("rJQH"),C=n("P8Y3"),I=n("O0RF"),w=n("Rszm"),S=n("RAhH"),T=n("cD5Y"),R=n("g0Ht"),N=n("QbLZ"),x=n.n(N),M=n("bPB8"),P=n("XHGt"),A=n("tn36"),D=n("81jb"),L=n("4qCO"),q=n("clTI"),F=n("oRzC"),B=n("HO/Y"),U=n("6kok"),H=n("aW/o"),K=n("DtX9"),G=n("Qrgz"),V=n("od5y"),z=n("4Twu"),Y=new O.b("app_management_modal"),W=(i.b.object.isRequired,i.b.func.isRequired,i.b.string,i.b.bool,i.b.bool,function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRemove=n.handleRemove.bind(n),n}return m()(t,e),d()(t,[{key:"handleRemove",value:function(){var e=this.props,t=e.channel.id;(0,e.onRemove)(t)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e["data-qa"],r=e.featureWtaModalM11n,i=e.canBeRemovedFromChannel;return r?a.a.createElement("li",{className:"p-app_management_modal__channel_list_item padding_top_50 padding_bottom_50","data-qa":n},a.a.createElement(z.a,{className:"flex_one",channel:t,inheritPresenceIconSize:!0}),i&&a.a.createElement(k.c,{className:"p-app_management_modal__channel_list_item_remove position_relative","aria-label":Y.t("Remove app from channel"),onClick:this.handleRemove,"data-qa":n+"_remove"},a.a.createElement(V.b,{inline:!0,type:"times-circle"}))):a.a.createElement("li",{className:"p-app_management_modal__channel_list_item","data-qa":n},a.a.createElement(z.a,{className:"flex_one",channel:t,inheritPresenceIconSize:!0}),i&&a.a.createElement(V.a,{className:"p-app_management_modal__channel_list_item_remove position_relative justify_content_end cursor_pointer",type:"times-circle",onClick:this.handleRemove,"data-qa":n+"_remove"}))}}]),t}(r.PureComponent));W.displayName="AppChannelListItem",W.displayName="AppChannelListItem",W.defaultProps={"data-qa":"app_channel_list_item",featureWtaModalM11n:!1,canBeRemovedFromChannel:!1};var Q=W,X=n("jo6Y"),Z=n.n(X),J=n("kX2h"),$=new O.b("app_management_modal"),ee=(i.b.bool,i.b.bool,i.b.func.isRequired,i.b.string.isRequired,function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(A.a)(n,["buildChannelOptions","optionsFetcher","setSelectorReference","scrollSelectorIntoView"]),n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(this.selector){var e=this.selector.focusSelectInput;e&&e()}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.mobileKeyboardTimeout)}},{key:"setSelectorReference",value:function(e){this.selector=e}},{key:"buildChannelOption",value:function(e){return{label:a.a.createElement(z.a,{className:"p-app_management_modal__channel_selector_item",channel:e,inheritPresenceIconSize:!0}),value:e.id}}},{key:"buildChannelOptions",value:function(e){return{options:e.map(this.buildChannelOption)}}},{key:"scrollSelectorIntoView",value:function(){if(this.selector){var e=this.selector.select;e&&e.wrapper&&(this.mobileKeyboardTimeout=setTimeout(function(){e.wrapper.scrollIntoView()},this.props.isMobile?200:0))}}},{key:"optionsFetcher",value:function(e){var t=this.props,n=t.forExclusions,r=t.serviceId;return this.props.searchChannelsForApp({query:e,forExclusions:n,serviceId:r}).then(this.buildChannelOptions).tap(this.scrollSelectorIntoView)}},{key:"render",value:function(){var e=this.props,t=(e.serviceId,e.forExclusions,e.searchChannelsForApp,e.isMobile),n=Z()(e,["serviceId","forExclusions","searchChannelsForApp","isMobile"]),r=t?36:28;return a.a.createElement(J.a,x()({},n,{innerRef:this.setSelectorReference,optionsFetcher:this.optionsFetcher,prefetchOptions:!0,className:"p-app_management_modal__channel_selector_input",isAlwaysOpen:!0,optionsListWidth:220,optionsRowHeight:r,placeholder:$.t("Find a channel"),type:"short",usePlaceholderOption:!1,wrapperClassName:"p-app_management_modal__channel_selector"}))}}]),t}(r.PureComponent));ee.displayName="AppChannelListSelector";var te={searchChannelsForApp:F.j};ee.defaultProps={forExclusions:!1,isMobile:!1};var ne=Object(P.b)(null,te)(ee),re=new O.b("app_management_modal"),ae=(i.b.string.isRequired,i.b.string.isRequired,i.b.string.isRequired,i.b.array,i.b.number,i.b.func.isRequired,i.b.func.isRequired,i.b.string,i.b.bool,i.b.bool,i.b.string.isRequired,i.b.bool,i.b.bool,function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showChannelSelector:!1},Object(A.a)(n,["handleAddChannel","toggleChannelSelector"]),n}return m()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"setSelectorInputReference",value:function(e){this.selectorInput=e}},{key:"toggleChannelSelector",value:function(){this.setState(function(e){return{showChannelSelector:!e.showChannelSelector}})}},{key:"handleAddChannel",value:function(e){(0,this.props.onAddChannel)(e),this.toggleChannelSelector()}},{key:"renderHiddenChannelCountText",value:function(){var e=this.props,t=e.channels,n=e.hiddenChannelCount;return t.length>0?re.t("...and {hiddenChannelCount, plural, =1 {# other private conversation} other {# other private conversations}}",{hiddenChannelCount:n}):re.t("{hiddenChannelCount, plural, =1 {# private conversation} other {# private conversations}}",{hiddenChannelCount:n})}},{key:"renderListItems",value:function(){var e=this.props,t=e.channels,n=e.emptyListText,r=e.featureWtaModalM11n,i=e.hiddenChannelCount,o=e.canBeRemovedFromChannel,s=e.onRemoveChannel,c=e["data-qa"];if(0===t.length&&0===i)return a.a.createElement("li",{className:"p-app_management_modal__channel_list_item sk_light_grey","data-qa":c+"_empty_message"},n);var l=Object(M.a)(t).map(function(e){return a.a.createElement(Q,{key:e.id,channel:e,canBeRemovedFromChannel:o,onRemove:s,"data-qa":c+"_channel_"+e.id,featureWtaModalM11n:r})});return i>0&&l.push(a.a.createElement("li",{key:"0",className:"p-app_management_modal__channel_list_item","data-qa":c+"_hidden_channels_message"},this.renderHiddenChannelCountText())),l}},{key:"renderChannelSelector",value:function(){var e=this.props,t=e.buttonText,n=e["data-qa"],r=e.isMobile,i=e.forExclusions,o=e.serviceId,s=this.state.showChannelSelector;return a.a.createElement("div",{className:"position_relative"},a.a.createElement(k.d,{className:"p-app_management_modal__channel_list_add",type:"outline",size:"small",onClick:this.toggleChannelSelector,"data-qa":n+"_button"},t),s&&a.a.createElement(ne,{onChange:this.handleAddChannel,onOutsideClick:this.toggleChannelSelector,"data-qa":n+"_selector",isMobile:r,forExclusions:i,serviceId:o}))}},{key:"render",value:function(){var e=this.props,t=e.headerText,n=e["data-qa"];return a.a.createElement(D.a,{className:"p-app_management_modal__card","data-qa":n},a.a.createElement(D.b,{className:"p-app_management_modal__card_header"},a.a.createElement("strong",{className:"flex_one align_self_center margin_right_50"},t),this.renderChannelSelector()),a.a.createElement(D.c,{className:"no_margin no_padding"},a.a.createElement("ul",{className:"no_margin p-app_management_modal__channel_list"},this.renderListItems())))}}]),t}(r.PureComponent));ae.displayName="AppChannelList";var ie=function(e,t){return Object(L.a)(Object(U.w)(e),Object(U.w)(t))},oe=function(e,t){return Object.keys(e).map(function(e){return Object(q.d)(t,e)}).filter(function(e){return!Object(U.V)(e)&&!Object(U.Ib)(e)}).sort(ie)};ae.defaultProps={channels:[],hiddenChannelCount:0,"data-qa":"app_channel_list",isMobile:!1,forExclusions:!1,featureWtaModalM11n:!1,canBeRemovedFromChannel:!1};var se=Object(P.b)(function(e,t){var n=t.forExclusions,r=t.serviceId,a=t.memberId,i=Object(F.e)(e,r),o=i.exclusionIds,s=i.hiddenChannelCount,c=i.privateChannelIds,l=i.publicChannelIds,u=Object(B.j)(e,"feature_wta_modal_m11n");if(n)return{channels:oe(o,e),featureWtaModalM11n:u};var d=Object(H.a)(e),b=Object(K.c)(e,a),p=Object(G.s)(e,d,b);return{channels:oe(x()({},l,c),e),hiddenChannelCount:s,featureWtaModalM11n:u,canBeRemovedFromChannel:p}})(ae),ce=n("hbEN"),le=n("uQWY"),ue=function(e){return a.a.createElement(r.Fragment,null,a.a.createElement(T.a,{size:"small",className:"c-infinite_spinner--inline"}),a.a.createElement("span",{className:"c-infinite_spinner__loading_msg"},e.children))};ue.displayName="InlineInfiniteSpinner";var de=ue,be=n("qPro"),pe=n("mIgp"),he=n("3dqR"),me=n("MREy"),fe=n("w6pt"),ve=n("ZYn4"),ge=n("Fdc0"),_e=new O.b("app_management_modal"),Oe=(i.b.string.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.bool.isRequired,i.b.string.isRequired,i.b.string,function(e){function t(){return l()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),d()(t,[{key:"renderIsYou",value:function(){return this.props.isYou?a.a.createElement("span",null,_e.t("(you)")):null}},{key:"renderPrimaryName",value:function(){return a.a.createElement("span",{className:"p-app_management_modal__member_list_primary_name"},this.props.memberPrimaryName," ",this.renderIsYou())}},{key:"renderSecondaryName",value:function(){var e=this.props.memberSecondaryName;return e?a.a.createElement("span",{className:"p-app_management_modal__member_list_secondary_name"},e):null}},{key:"render",value:function(){return this.props.isUnknown?a.a.createElement(fe.a,{type:"unknown"}):this.props.isNonExistent?a.a.createElement(fe.a,{type:"non-existent"}):a.a.createElement("span",{className:"p-app_member_name"},this.renderPrimaryName(),a.a.createElement(ve.a,{memberId:this.props.memberId}),this.renderSecondaryName())}}]),t}(r.PureComponent));Oe.displayName="AppMemberName",Oe.defaultProps={memberSecondaryName:""};var ye=Object(P.b)(function(e,t){var n=t.memberId,r=Object(K.c)(e,n);return{isYou:Object(B.b)(e)===n,isUnknown:Object(ge.Fb)(r),isNonExistent:Object(ge.sb)(r),memberPrimaryName:Object(ge.P)(e,r,!1,!1),memberSecondaryName:Object(ge.G)(e,r)}})(Oe),je=new O.b("app_management_modal"),ke=(i.b.string,i.b.bool.isRequired,i.b.func,i.b.func,i.b.string.isRequired,i.b.arrayOf(i.b.string).isRequired,{"data-qa":"app_member_list_item",onRevokeButtonClick:f.a,onViewUserPermissionsClick:f.a}),Ee=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(A.a)(n,["handleViewUserPermissionsClick","renderMenu"]),n}return m()(t,e),d()(t,[{key:"handleViewUserPermissionsClick",value:function(){var e=this.props;(0,e.onViewUserPermissionsClick)(e.userId,e.scopes)}},{key:"renderAvatar",value:function(){var e=this.props.userId;return a.a.createElement(he.b,{className:"p-app_management_modal__member_list_avatar",userId:e,size:36,isInteractive:!1,showCard:!1,showTooltip:!1,tabIndex:"-1"})}},{key:"renderUserName",value:function(){var e=this.props.userId;return a.a.createElement(ye,{memberId:e})}},{key:"renderScopeInfo",value:function(){var e=this.props.scopes;return a.a.createElement("div",null,a.a.createElement(j.a,{className:"p-app_management_modal__member_list_scope_info","data-qa":this.props["data-qa"]+"_permissions_link",onClick:this.handleViewUserPermissionsClick},je.t("{scopeCount, plural, =1 {# permission} other {# permissions}} granted",{scopeCount:e.length})))}},{key:"renderMenu",value:function(e){var t=this.props,n=t.isYou,r=t.onRevokeButtonClick;return a.a.createElement(me.f,e,a.a.createElement(me.b,{"data-qa":this.props["data-qa"]+"_menu_permissions",onSelected:this.handleViewUserPermissionsClick,label:je.t("View permissions")}),n&&a.a.createElement(me.b,{"data-qa":this.props["data-qa"]+"_menu_revoke",onSelected:r,label:je.t("Revoke authorization")}))}},{key:"renderMenuTrigger",value:function(){return a.a.createElement(me.e,{renderMenu:this.renderMenu,position:"bottom-right"},a.a.createElement(k.c,{"data-qa":this.props["data-qa"]+"_menu_trigger"},a.a.createElement(V.b,{type:"ellipsis"})))}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"p-app_management_modal__member_list_gutter"},this.renderAvatar()),a.a.createElement("div",{className:"p-app_management_modal__member_list_content"},this.renderUserName(),this.renderScopeInfo()),this.renderMenuTrigger())}}]),t}(r.PureComponent);Ee.displayName="AppMemberListItem",Ee.displayName="AppMemberListItem",Ee.defaultProps=ke;var Ce=Object(P.b)(function(e,t){var n=t.userId;return{isYou:Object(B.b)(e)===n}})(Ee),Ie=new O.b("app_management_modal"),we=(i.b.string,i.b.bool.isRequired,i.b.arrayOf(i.b.shape({user_id:i.b.string.isRequired,scopes:i.b.arrayOf(i.b.string).isRequired})).isRequired,i.b.string,i.b.any,i.b.func,i.b.func,i.b.func,i.b.string.isRequired,i.b.number,i.b.number,i.b.bool,{"data-qa":"app_member_list",memberQuery:"",modalBodyRef:void 0,onAppSearchUsers:f.a,onRevokeButtonClick:f.a,onViewUserPermissionsClick:f.a,totalResultsCount:0,userCount:0,useVirtualizedList:!0}),Se=300,Te=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(A.a)(n,["handleScroll","renderListItem","setListRef","setMemberQuery","handleScrollToTopButtonClick"]),n.state={searchValue:"",showScrollToTopButton:!1},n.debouncedFetchMemberList=Object(ce.a)(n.fetchMemberList,Se),n}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.fetchMemberList()}},{key:"getMemberListKeys",value:function(){var e=this.props,t=e.memberResults,n=e.isLoading,r=t.map(function(e){return e.user_id});return n?r.concat("loading"):r}},{key:"setListRef",value:function(e){this.list=e}},{key:"setMemberQuery",value:function(e){var t=e.target.value;this.setState(function(){return{searchValue:t}}),this.debouncedFetchMemberList(t)}},{key:"fetchMemberList",value:function(e,t){var n=this.props;(0,n.onAppSearchUsers)({serviceId:n.serviceId,query:e,nextPage:t})}},{key:"handleScroll",value:function(e){var t=e.scrollTop,n=this.props,r=n.isLoading,a=n.memberResults,i=n.totalResultsCount,o=n.memberQuery,s=this.state.showScrollToTopButton;if(t>0&&!s?this.setState(function(){return{showScrollToTopButton:!0}}):0===t&&s&&this.setState(function(){return{showScrollToTopButton:!1}}),!r){var c=a.length;if(c!==i)c-(this.list&&this.list.getVisibleRange&&this.list.getVisibleRange().end||0)>5||this.fetchMemberList(o,!0)}}},{key:"handleScrollToTopButtonClick",value:function(){this.props.modalBodyRef.scrollTo(0,0)}},{key:"renderHeader",value:function(){var e=this.props,t=e.memberQuery,n=e.totalResultsCount,r=e.userCount,i=Ie.t("Member Results");return t?n&&(i=Ie.t("{totalResultsCount} Member Results",{totalResultsCount:n})):i=Ie.t("{userCount, plural, =1 {# Member} other {# Members}}",{userCount:r}),a.a.createElement(D.b,{className:"p-app_management_modal__card_header"},a.a.createElement("strong",{className:"flex_one align_self_center margin_right_50","data-qa":this.props["data-qa"]+"_count"},i),a.a.createElement(be.a,{className:"p-app_management_modal__member_search","data-qa":this.props["data-qa"]+"_search",icon:"search",onChange:this.setMemberQuery,placeholder:Ie.t("Search members"),value:this.state.searchValue}))}},{key:"renderListItem",value:function(e){var t=this.props.memberResults;if(e===t.length)return this.renderLoadingItem();var n=t[e];return this.renderMemberItem(n)}},{key:"renderMemberItem",value:function(e){var t=this.props,n=t.onRevokeButtonClick,r=t.onViewUserPermissionsClick,i=this.props["data-qa"]+"_item_"+e.user_id;return a.a.createElement("li",{key:e.user_id,className:"p-app_management_modal__member_list_item p-app_management_modal__member_list_item--member","data-qa":i},a.a.createElement(Ce,{"data-qa":i,userId:e.user_id,scopes:e.scopes,onRevokeButtonClick:n,onViewUserPermissionsClick:r}))}},{key:"renderLoadingItem",value:function(){var e=this.props.memberQuery;return a.a.createElement("li",{key:"loading",className:"p-app_management_modal__member_list_item p-app_management_modal__member_list_item--loading","data-qa":this.props["data-qa"]+"_loading"},a.a.createElement(de,null,e?Ie.t("Loading member results\u2026"):Ie.t("Loading members\u2026")))}},{key:"renderEmptyItem",value:function(){return a.a.createElement("li",{key:"empty_message",className:"p-app_management_modal__member_list_item p-app_management_modal__member_list_item--empty_message","data-qa":this.props["data-qa"]+"_empty_message"},Ie.t("No matching members found."))}},{key:"renderScrollToTopButton",value:function(){return this.state.showScrollToTopButton?a.a.createElement(k.d,{type:"outline",size:"small",className:"p-app_management_modal__member_list_scroll_button",onClick:this.handleScrollToTopButtonClick,"data-qa":this.props["data-qa"]+"_scroll_button"},a.a.createElement(V.b,{type:"arrow-up-medium"}),"\xa0",Ie.t("Back to top")):null}},{key:"renderListItems",value:function(){var e=this,t=this.props,n=t.totalResultsCount,r=t.isLoading,i=t.modalBodyRef,o=t.useVirtualizedList;return n||r?o?a.a.createElement(le.a,{scrollElement:i,onScroll:this.handleScroll},function(t){var n=t.height,r=t.isScrolling,o=t.onChildScroll,s=t.scrollTop;return a.a.createElement(pe.a,{height:n,rowRenderer:e.renderListItem,keys:e.getMemberListKeys(),onScroll:o,isScrolling:r,ref:e.setListRef,scrollTop:s,scrollElement:i})}):this.getMemberListKeys().map(function(t,n){return e.renderListItem(n)}):this.renderEmptyItem()}},{key:"renderBody",value:function(){return a.a.createElement(D.c,{className:"no_margin no_padding"},a.a.createElement("ul",{className:"p-app_management_modal__card_list"},this.renderListItems(),this.renderScrollToTopButton()))}},{key:"render",value:function(){var e=this.props["data-qa"];return a.a.createElement(D.a,{className:"p-app_management_modal__card","data-qa":e},this.renderHeader(),this.renderBody())}}]),t}(r.PureComponent);Te.displayName="AppMemberList";Te.defaultProps=we;var Re=Object(P.b)(function(e,t){var n=t.serviceId,r=Object(F.f)(e,n);return r?{isLoading:r.isLoading,memberQuery:r.query,memberResults:r.results,totalResultsCount:r.total}:{}})(Te),Ne=n("uI5u"),xe=new O.b("app_management_modal"),Me=(i.b.oneOf(["error","addSuccess","removeSuccess","addError","removeError","wildcardAddError","wildcardRemoveError","uninstallError","revokeSuccess","revokeError"]),i.b.string.isRequired,i.b.string,i.b.func,{alertBannerType:void 0,channelId:void 0,onClose:f.a}),Pe=function(e){var t=e.alertBannerType,n=e.appName,r=e.channelId,i=e.onClose;if(!t)return null;var o=void 0,s="error",c=r?a.a.createElement(z.a,{channelId:r,inline:!0}):null;switch(t){case"addSuccess":o=xe.rt("{appName} was added to {channelName}",{appName:n,channelName:c}),s="success";break;case"addError":o=xe.rt("Adding {appName} to {channelName} failed. Try again?",{appName:n,channelName:c});break;case"removeSuccess":o=xe.rt("{appName} was removed from {channelName}",{appName:n,channelName:c}),s="success";break;case"removeError":o=xe.rt("Removing {appName} from {channelName} failed. Try again?",{appName:n,channelName:c});break;case"wildcardAddError":o=xe.rt("Adding {appName} to all public channels failed. Try again?",{appName:n,channelName:c});break;case"wildcardRemoveError":o=xe.rt("Removing {appName} from all public channels failed. Try again?",{appName:n,channelName:c});break;case"uninstallError":o=xe.rt("Uninstalling {appName} failed. Try again?",{appName:n});break;case"revokeSuccess":o=xe.rt("Access successfully revoked."),s="success";break;case"revokeError":o=xe.rt("Revoking access to your member data failed. Try again?");break;default:o=xe.t("Hmm, something went wrong. Try again?")}return a.a.createElement(Ne.a,{type:s,topOffset:60,"data-qa":"app_management_modal_alert_banner",showCloseButton:!1,autoFadeout:!0,onClose:i},o)};Pe.displayName="AppManagementAlertBanner",Pe.defaultProps=Me;var Ae=Pe,De=(n("TBaU"),new O.b("app_management_modal")),Le=(i.b.bool,i.b.bool,i.b.string.isRequired,i.b.string.isRequired,i.b.string.isRequired,i.b.string,i.b.string,i.b.oneOf(["channel","workspace","user"]).isRequired,i.b.func,i.b.arrayOf(R.a),i.b.arrayOf(R.a),i.b.arrayOf(R.a),i.b.arrayOf(R.a),i.b.string,i.b.string,i.b.bool,i.b.number,i.b.func.isRequired,i.b.func,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.bool,i.b.oneOf(["error","addSuccess","removeSuccess","addError","removeError","wildcardAddError","wildcardRemoveError","uninstallError","revokeSuccess","revokeError"]),i.b.string,i.b.bool,i.b.bool,i.b.func.isRequired,i.b.func.isRequired,i.b.bool,i.b.func,i.b.bool,i.b.bool,{showModal:!1,isLoading:!0,workspaceScopeInfo:[],channelScopeInfo:[],userScopeInfo:[],currentUserScopeInfo:[],userCount:0,appHomepageUrl:void 0,appSupportUrl:void 0,showAppDirectoryLink:!0,appIconLarge:void 0,showWildcardToggle:!0,alertBannerType:void 0,activeDialogChannelId:void 0,wildcardEnabled:!1,workspaceName:void 0,userIsAppmin:!1,isMobile:!1,onClose:f.a,onAppSearchUsers:f.a,onSidebarMenuLinkClick:f.a,hasError:!1,featureWtaModalM11n:!1}),qe=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setModalBodyRef=n.setModalBodyRef.bind(n),n}return m()(t,e),d()(t,[{key:"setModalBodyRef",value:function(e){this.modalBodyRef=e}},{key:"renderUserAccessSidebarMenuItem",value:function(){var e=this.props,t=e.currentUserScopeInfo,n=e.userCount,r=e.userIsAppmin,i=e.onSidebarMenuItemClick;return(r?0===n:Object(v.a)(t))?null:a.a.createElement(E.a,{itemId:"user",onClick:i,"data-qa":"app_management_modal_user_access_link"},r?De.t("Member data access",{fallbackHash:"54485606f08a3c5d7e73fe0730e62de7b3fe9ea2"}):De.t("Access to your data",{fallbackHash:"7284a962539fd4edca8ba9beccf1501937e2f49e"}))}},{key:"renderSidebarMenu",value:function(){var e=this.props,t=e.activeSection,n=e.appId,r=e.appHomepageUrl,i=e.appSupportUrl,o=e.showAppDirectoryLink,s=e.onSidebarMenuItemClick,c=e.onSidebarMenuLinkClick;return a.a.createElement(E.b,{activeItemId:t},a.a.createElement(E.a,{itemId:"channel",onClick:s,"data-qa":"app_management_modal_channel_access_link"},De.t("Channel access",{fallbackHash:"93f2f019560a491cf643b739cc7027f2a62c1d38"})),a.a.createElement(E.a,{itemId:"workspace",onClick:s,"data-qa":"app_management_modal_workspace_access_link"},De.t("Workspace access",{fallbackHash:"a976c398ad6ec00251f8f90209b8393dd1b68b3a"})),this.renderUserAccessSidebarMenuItem(),r||o||i?a.a.createElement(E.a,{isDivider:!0}):null,r&&a.a.createElement(E.a,{itemId:"homepage",onClick:c,isExternalLink:!0,href:r,"data-qa":"app_management_modal_homepage_link"},De.t("App homepage",{fallbackHash:"ee2dbe71c27837ecd0a10d866992e1b3ff0d9b2f"})),o&&a.a.createElement(E.a,{itemId:"directory",onClick:c,isExternalLink:!0,href:"/apps/"+n+"?utm_source=in-prod&utm_medium=inprod-view_in_app_directory-user_profile-click","data-qa":"app_management_modal_directory_link"},De.t("View in App Directory")),i&&a.a.createElement(E.a,{itemId:"support",onClick:c,isExternalLink:!0,href:i,"data-qa":"app_management_modal_support_link"},De.t("Support for this App")))}},{key:"renderChannelAccessSection",value:function(){var e=this.props,t=e.activeSection,n=e.appName,r=e.channelScopeInfo,i=e.onWorkspaceSectionLinkClick,o=e.onExclusionListAdd,s=e.onExclusionListRemove,c=e.onGrantListAdd,l=e.onGrantListRemove,u=e.wildcardEnabled,d=e.onWildcardCheckboxChange,b=e.userIsAppmin,p=e.showWildcardToggle,h=e.isMobile,m=e.serviceId;if("channel"!==t)return null;var f=Object(O.n)(n),g=a.a.createElement("h3",null,De.t("What can {appName} do in a channel?",{appName:f}));if(Object(v.a)(r)){var _=De.rt("This app can\u2019t be added to individual channels \u2014 it has access to your entire workspace. Check <Link>Workspace Access</Link> for more.",null,function(e){var t=e.text;return a.a.createElement(j.a,{onClick:i,"data-qa":"app_management_modal_empty_channel_section_link"},t)});return a.a.createElement("div",null,g,a.a.createElement("p",{className:"margin_top_50 sk_dark_gray"},_))}var y=a.a.createElement(w.a,{className:"p-app_management_modal__wildcard_checkbox",checked:u,onChange:d,disabled:!b,"data-qa":"app_management_modal_wildcard_checkbox"});return a.a.createElement("div",null,a.a.createElement("div",null,g,a.a.createElement("p",{className:"margin_top_50 margin_bottom_150"},De.t("In channels it\u2019s added to, {appName} can:",{appName:f})),a.a.createElement(C.a,{scopeInfo:r,"data-qa":"app_management_modal_channel_scope_info"})),a.a.createElement("div",{className:"margin_top_250"},a.a.createElement("h3",null,De.t("Which channels can {appName} access?",{appName:f})),p&&a.a.createElement("div",{className:"margin_top_50"},a.a.createElement(I.a,{text:De.t("All public channels"),cursor:"pointer",type:"inline",subtext:De.t("{appName} will join all public channels, in addition to other conversations it\u2019s added to.",{appName:f})},b?y:a.a.createElement(S.c,{offsetX:-5,tip:De.t("Only an app admin can change this setting."),"data-qa":"app_management_modal_wilcard_checkbox_tooltip"},a.a.createElement("span",null,y)))),u&&a.a.createElement(se,{isMobile:h,headerText:De.t("Excluded Public Channels"),buttonText:De.t("Add Excluded Channel"),emptyListText:De.t("No public channels excluded."),onAddChannel:o,onRemoveChannel:s,"data-qa":"app_management_modal_exclusion_list",serviceId:m,forExclusions:!0}),a.a.createElement(se,{isMobile:h,headerText:De.t("{appName} was individually added to:",{appName:f}),buttonText:De.t("Add App to channel",{fallbackHash:"b15a7b87166cf757534bf619b95f1e9b49b6f92a"}),emptyListText:De.t("{appName} has not been individually added to any channels.",{appName:f}),onAddChannel:c,onRemoveChannel:l,"data-qa":"app_management_modal_grant_list",serviceId:m})))}},{key:"renderWorkspaceAccessSection",value:function(){var e=this.props,t=e.activeSection,n=e.appName,r=e.workspaceName,i=e.workspaceScopeInfo;if("workspace"!==t)return null;var o=Object(O.n)(n),s=Object(O.n)(r);return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h3",null,De.t("What can {appName} do in this workspace?",{appName:o})),a.a.createElement("p",{className:"margin_top_50 margin_bottom_150"},De.t("On {workspaceName}, {appName} can:",{appName:o,workspaceName:s})),a.a.createElement(C.a,{scopeInfo:i,"data-qa":"app_management_modal_workspace_scope_info"})),a.a.createElement("div",{className:"margin_top_250"},a.a.createElement("h3",null,De.t("Uninstall {appName}",{appName:o})),a.a.createElement("p",{className:"margin_top_50 margin_bottom_100"},De.t("Remove this app from the {workspaceName} workspace and revoke all access and authorizations.",{workspaceName:s})),this.renderUninstallButton()))}},{key:"renderAppminUserAccessSection",value:function(){var e=this.props,t=e.activeSection,n=e.appName,r=e.serviceId,i=e.userCount,o=e.userScopeInfo,s=e.workspaceName,c=e.onAppSearchUsers,l=e.onMemberListRevokeClick,u=e.onViewUserPermissionsClick;if("user"!==t||0===i||Object(v.a)(o))return null;var d=Object(O.n)(n),b=De.t("{workspaceName} members have allowed {appName} to:",{appName:d,workspaceName:Object(O.n)(s)});return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h3",null,De.t("What can {appName} do with member data?",{appName:d})),a.a.createElement("p",{className:"margin_top_50 margin_bottom_150"},b),a.a.createElement(C.a,{scopeInfo:o,"data-qa":"app_management_modal_member_appmin_scope_info"})),a.a.createElement("div",{className:"margin_top_250"},a.a.createElement("h3",null,De.t("Which members have authorized {appName} to access their data?",{appName:d})),a.a.createElement(Re,{modalBodyRef:this.modalBodyRef,onAppSearchUsers:c,onRevokeButtonClick:l,onViewUserPermissionsClick:u,serviceId:r,userCount:i})))}},{key:"renderUserAccessSection",value:function(){var e=this.props,t=e.activeSection,n=e.appName,r=e.currentUserScopeInfo,i=e.onRevokeButtonClick;if("user"!==t||Object(v.a)(r))return null;var o=Object(O.n)(n);return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h3",null,De.t("What can {appName} do with your data?",{appName:o})),a.a.createElement("p",{className:"margin_top_50 margin_bottom_150"},De.t("You\u2019ve allowed {appName} to:",{appName:o,fallbackHash:"7313b20011628c3948a6a709c3e227ae089e2c81"})),a.a.createElement(C.a,{scopeInfo:r,"data-qa":"app_management_modal_member_scope_info"})),a.a.createElement("div",{className:"margin_top_250"},a.a.createElement("h3",null,De.t("Revoke access")),a.a.createElement("p",{className:"margin_top_50 margin_bottom_100"},De.t("{appName} will no longer be able to access your data or take actions for you.",{appName:o})),a.a.createElement(k.d,{"data-qa":"app_management_modal_revoke_button",type:"outline",onClick:i},De.t("Revoke"))))}},{key:"renderUninstallButton",value:function(){var e=this.props,t=e.userIsAppmin,n=e.onUninstallButtonClick;return a.a.createElement("div",null,a.a.createElement(k.d,{type:"outline",disabled:!t,onClick:n,"data-qa":"app_management_modal_uninstall_button"},De.t("Uninstall App")),!t&&a.a.createElement("span",{className:"margin_left_100 sk_dark_gray"},De.t("Only an app admin can uninstall this app.")))}},{key:"renderAlertBanner",value:function(){var e=this.props,t=e.appName,n=e.activeDialogChannelId,r=e.alertBannerType,i=e.onAlertBannerClose;return r?a.a.createElement(Ae,{alertBannerType:r,appName:t,channelId:n,onClose:i}):null}},{key:"renderModalContents",value:function(){var e=this.props,t=e.featureWtaModalM11n,n=e.isLoading,i=e.userIsAppmin;return t&&n?a.a.createElement(T.a,null):a.a.createElement(r.Fragment,null,this.renderAlertBanner(),a.a.createElement("div",{className:"p-app_management_modal__sidebar_container"},this.renderSidebarMenu()),a.a.createElement("div",{className:"p-app_management_modal__content_container"},this.renderChannelAccessSection(),this.renderWorkspaceAccessSection(),i?this.renderAppminUserAccessSection():this.renderUserAccessSection()))}},{key:"render",value:function(){var e=this.props,t=e.appIconLarge,n=e.appName,r=e.featureWtaModalM11n,i=e.hasError,o=e.isMobile,s=e.onClose,c=e.showModal;if(r?i:!c)return null;var l=n?De.t("{appName} Settings",{appName:Object(O.n)(n)}):n;return a.a.createElement(y.a,{onCancel:s,showCancelButton:!1,showGoButton:!1,title:l,modalClasses:_()("p-app_management_modal",{"p-app_management_modal--mobile":o}),modalBodyOpenClassName:"p-app_management_modal__ReactModal__Body--open",position:"fixed",withHeader:!0,headerImage:t,setBodyRef:this.setModalBodyRef},this.renderModalContents())}}]),t}(r.PureComponent);qe.displayName="AppManagementModal",qe.defaultProps=Le;var Fe=qe,Be=n("YEIV"),Ue=n.n(Be),He=n("syB0"),Ke=n("7EGn"),Ge=n("qafc"),Ve=n("dCAd"),ze=n("7WZX"),Ye=n("D4L/"),We=n("1zbP"),Qe=n("V/As"),Xe=n("Ddh9"),Ze=n("FN36"),Je=n("5mKg"),$e=n("NV5S"),et=n("1Oc4"),tt=n("f8fv"),nt=n("U3Q0"),rt=new O.b("app_management_modal"),at=(i.b.string.isRequired,i.b.string.isRequired,i.b.string,i.b.string,i.b.oneOfType([i.b.string,i.b.object]),i.b.oneOfType([i.b.string,i.b.object]),i.b.func.isRequired,i.b.func,{workspaceName:void 0,title:void 0,workspaceAccessCheckboxText:void 0,channelAccessCheckboxText:void 0,onCancel:f.a}),it=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={workspaceConfirmChecked:!1,channelConfirmChecked:!e.channelAccessCheckboxText,confirmInProgress:!1},Object(A.a)(n,["handleConfirm","handleCheckboxChange"]),n}return m()(t,e),d()(t,[{key:"handleConfirm",value:function(){var e=this.props.onGo;return this.setState(function(){return{confirmInProgress:!0}}),e()}},{key:"handleCheckboxChange",value:function(e){var t=e.target,n=t.name,r=t.checked;this.setState(function(){return Ue()({},n+"Checked",r)})}},{key:"renderCheckbox",value:function(e,t){return a.a.createElement(I.a,{type:"inline",cursor:"pointer",text:t},a.a.createElement(w.a,{onChange:this.handleCheckboxChange,name:e,isRequired:!0,"data-qa":"app_uninstall_dialog_"+Object(tt.a)(e)+"_checkbox"}))}},{key:"renderWorkspaceAccessConfirmCheckbox",value:function(){var e=this.props,t=e.appName,n=e.workspaceName,r=e.workspaceAccessCheckboxText||rt.rt("I understand members of the <strong>{workspaceName}</strong> workspace will no longer be able to use {appName}.",{appName:t,workspaceName:n});return this.renderCheckbox("workspaceConfirm",r)}},{key:"renderChannelAccessConfirmCheckbox",value:function(){var e=this.props.channelAccessCheckboxText;return e?this.renderCheckbox("channelConfirm",e):null}},{key:"renderTitle",value:function(){var e=this.props,t=e.appName,n=e.workspaceName;return e.title||rt.t("Uninstall {appName} from {workspaceName}?",{appName:Object(O.n)(t),workspaceName:Object(O.n)(n)})}},{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.appIcon,r=this.state,i=r.workspaceConfirmChecked,o=r.channelConfirmChecked,s=r.confirmInProgress,c=!(i&&o)||s;return a.a.createElement(nt.a,{contentLabel:this.renderTitle(),title:this.renderTitle(),titleImage:n,truncateTitle:!1,goButtonText:rt.t("Uninstall App"),onGo:this.handleConfirm,goButtonType:"danger",goButtonIsDisabled:c,goButtonIsPending:s,showCancelButton:!0,onCancel:t,"data-qa":"app_uninstall_dialog"},this.renderWorkspaceAccessConfirmCheckbox(),this.renderChannelAccessConfirmCheckbox())}}]),t}(r.PureComponent);it.displayName="AppUninstallDialog",it.displayName="AppUninstallDialog",it.defaultProps=at;var ot=it,st=n("negh"),ct=n("kOzZ"),lt=n("1VpL"),ut=new O.b("app_management_modal"),dt=(i.b.string.isRequired,i.b.func.isRequired,i.b.func,i.b.bool.isRequired,{onCancel:f.a}),bt=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={confirmInProgress:!1},n.handleConfirm=n.handleConfirm.bind(n),n}return m()(t,e),d()(t,[{key:"handleConfirm",value:function(){var e=this.props.onGo;return this.setState(function(){return{confirmInProgress:!0}}),e()}},{key:"render",value:function(){var e=this.props,t=e.appName,n=e.wildcardEnabled,r=e.onCancel,i=this.state.confirmInProgress,o=Object(O.n)(t),s=void 0,c=void 0;return n?(s={title:ut.t("Remove {appName} from all public channels?",{appName:o}),goButtonText:ut.t("Remove"),goButtonType:"danger","data-qa":"app_wildcard_disable_dialog"},c=ut.t("{appName} will only be able to post in channels it\u2019s individually added to.",{appName:o})):(s={title:ut.t("Allow {appName} access to all public channels?",{appName:o}),goButtonText:ut.t("Allow"),"data-qa":"app_wildcard_enable_dialog"},c=ut.t("{appName} will be added to all public channels (quietly, of course).",{appName:o})),a.a.createElement(nt.a,x()({showCancelButton:!0,contentLabel:s.title,truncateTitle:!1,onGo:this.handleConfirm,onCancel:r,goButtonIsPending:i,goButtonIsDisabled:i},s),a.a.createElement("p",{className:"margin_bottom_0"},c))}}]),t}(r.PureComponent);bt.displayName="AppWildcardDialog",bt.defaultProps=dt,bt.displayName="AppWildcardDialog";var pt=bt,ht=new O.b("app_management_modal"),mt=(i.b.string.isRequired,i.b.func,i.b.func.isRequired,i.b.string.isRequired,{onCancel:f.a}),ft=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={confirmInProgress:!1},n.handleConfirm=n.handleConfirm.bind(n),n}return m()(t,e),d()(t,[{key:"handleConfirm",value:function(){var e=this.props.onGo;return this.setState(function(){return{confirmInProgress:!0}}),e()}},{key:"render",value:function(){var e=this.props,t=e.appName,n=e.onCancel,r=e.workspaceName,i=this.state.confirmInProgress,o=ht.t("Revoke access to your member data?"),s=ht.t("{appName} will remain installed on {workspaceName}, but will no longer be able to access your member data.",{appName:Object(O.n)(t),workspaceName:Object(O.n)(r)});return a.a.createElement(nt.a,{"data-qa":"app_revoke_dialog",goButtonIsDisabled:i,goButtonIsPending:i,goButtonText:ht.t("Revoke"),goButtonType:"danger",onCancel:n,onGo:this.handleConfirm,showCancelButton:!0,title:o,truncateTitle:!1},a.a.createElement("p",{className:"margin_bottom_0"},s))}}]),t}(r.PureComponent);ft.displayName="AppRevokeDialog",ft.defaultProps=mt,ft.displayName="AppRevokeDialog";var vt=ft,gt=n("CpTu"),_t=new O.b("app_management_modal"),Ot=(i.b.string.isRequired,i.b.arrayOf(R.a),i.b.bool,i.b.string,i.b.func,i.b.func,i.b.arrayOf(i.b.string),i.b.arrayOf(R.a),{currentUserScopeInfo:[],isMemberCurrentUser:!1,memberName:void 0,onGo:f.a,onClose:f.a,scopes:[],userScopeInfo:[]}),yt={memberId:i.b.string.isRequired},jt=function(e,t){return t.map(function(t){return function(e,t){return Object(gt.a)(e,function(e){return e.scopes[0]===t})}(e,t)})},kt=function(e){var t=e.appName,n=e.currentUserScopeInfo,r=e.isMemberCurrentUser,i=e.memberName,o=e.onGo,s=e.onClose,c=e.scopes,l=e.userScopeInfo,u=void 0;u=r?n:jt(l,c);var d=Object(O.n)(t),b=r?_t.t("You\u2019ve allowed {appName} to:",{appName:d,fallbackHash:"7313b20011628c3948a6a709c3e227ae089e2c81"}):_t.t("{memberName} has allowed {appName} to:",{appName:d,memberName:Object(O.n)(i)});return a.a.createElement(nt.a,{cancelText:_t.t("Done"),"data-qa":"app_user_permissions_dialog",goButtonType:"outline",goButtonText:_t.t("Revoke All"),showGoButton:r,reverseButtons:!0,truncateTitle:!1,onGo:o,onCancel:s,title:b},a.a.createElement("div",{className:"margin_bottom_400"},a.a.createElement(C.a,{scopeInfo:u})))};kt.displayName="AppUserPermissionsDialog",kt.defaultProps=Ot;var Et=Object(P.b)(function(e,t){var n=t.memberId;return{isMemberCurrentUser:n===Object(B.b)(e),memberName:Object(ge.Q)(e,n)}})(kt);Et.propTypes=yt;var Ct=Et,It=new O.b("app_management_modal"),wt=(i.b.string,i.b.object,i.b.func,i.b.bool,i.b.func,i.b.bool,i.b.string,i.b.object,i.b.string,i.b.func,i.b.string,i.b.string,i.b.string,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,i.b.bool,i.b.string,i.b.number,i.b.number,i.b.func,i.b.func,i.b.arrayOf(R.a),i.b.arrayOf(R.a),i.b.bool,i.b.number,i.b.bool,i.b.bool,i.b.bool,i.b.bool,i.b.object.isRequired,{onUninstall:f.a,showAppDirectoryLink:!0,isMobile:!1,workspaceName:"",enqueueToast:f.a,serviceId:void 0,appProfile:void 0,appId:void 0,appUserId:void 0,appName:void 0,wildcardEnabled:!1,onClose:f.a,appIcon:void 0,privateChannelCount:0,publicChannelCount:0,openModal:f.a,closeModal:f.a,currentUserScopeInfo:[],userScopeInfo:[],userCount:0,userIsAppmin:!1,referringEventId:void 0,referringUiContext:void 0,showModal:!1,isLoading:!0,hasError:!1,featureWtaModalM11n:!1}),St=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={alertBannerType:null,activeDialogChannelId:null,addChannelScopeInfo:null,activeSection:"channel"},Object(A.a)(n,["handleSidebarMenuItemClick","handleWorkspaceSectionLinkClick","handleUninstallButtonClick","handleAlertBannerClose","handleWildcardCheckboxChange","handleAppSearchUsers","handleExclusionListAdd","handleExclusionListRemove","handleGrantListAdd","handleGrantListRemove","handleRevokeButtonClick","handleMemberListRevokeClick","handleViewUserPermissionsClick"]),n.referringEventId=e.referringEventId,n.referringUiContext=e.referringUiContext,n}return m()(t,e),d()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.currentUserScopeInfo,r=e.userIsAppmin,a=e.userCount;return"user"===t.activeSection&&(r?0===a:Object(v.a)(n))?{activeSection:"channel"}:null}}]),d()(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.featureWtaModalM11n,a=n.isLoading,i=n.hasError,o=n.showModal,s=this.state.activeSection;r&&!e.hasError&&i?this.handleError():(r?!e.isLoading||a:e.showModal||!o)&&t.activeSection===s||this.trackClog(Ue()({},st.x.action,st.v.IMPRESSION))}},{key:"componentWillUnmount",value:function(){this.props.clearAppPermissions(),this.trackClog(Ue()({},st.x.action,st.v.CLOSE))}},{key:"getClogStep",value:function(){var e=this.props.userIsAppmin;switch(this.state.activeSection){case"workspace":return st.z.WORKSPACE_ACCESS_SECTION;case"user":return e?st.z.APPMIN_MEMBER_ACCESS_SECTION:st.z.MEMBER_ACCESS_SECTION;default:return st.z.CHANNEL_ACCESS_SECTION}}},{key:"trackClog",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"APP_SETTINGS_MODAL",a=this.props,i=a.appId,o=a.clogger,s=x()(Ue()({},st.x.step,"APP_SETTINGS_MODAL"===r?this.getClogStep():void 0),t);o.track(r,Ue()({contexts:(e={},Ue()(e,st.c.ui_context,s),Ue()(e,st.c.referring_ui_context,this.referringUiContext),Ue()(e,st.c.core,x()(Ue()({},st.d.app_id,i),n)),e)},st.c.referring_event_id,this.referringEventId)),this.referringEventId=r,this.referringUiContext=s}},{key:"trackClogForSidebarMenuClick",value:function(e){var t,n=void 0;switch(e){case"workspace":n=st.y.LINK_WORKSPACE_ACCESS_SECTION;break;case"channel":n=st.y.LINK_CHANNEL_ACCESS_SECTION;break;case"user":n=this.props.userIsAppmin?st.y.LINK_APPMIN_MEMBER_ACCESS_SECTION:st.y.LINK_MEMBER_ACCESS_SECTION;break;case"homepage":n=st.y.LINK_APP_HOMEPAGE;break;case"directory":n=st.y.LINK_APP_DIRECTORY;break;case"support":n=st.y.LINK_APP_SUPPORT;break;default:n=void 0}this.trackClog((t={},Ue()(t,st.x.action,st.v.CLICK),Ue()(t,st.x.ui_element,n),t))}},{key:"handleError",value:function(){this.props.featureWtaModalM11n&&(this.props.closeModal(),this.props.enqueueToast({element:a.a.createElement(Ge.b,{offsetY:80,icon:"warning-filled",iconClassName:"sk_warning_red margin_right_75"},a.a.createElement("span",{"data-qa":"app_management_modal_error_toast"},It.t("Hmm, something went wrong. Try again?")))}))}},{key:"handleSidebarMenuItemClick",value:function(e){this.trackClogForSidebarMenuClick(e),e!==this.state.activeSection&&this.setState(function(){return{activeSection:e}})}},{key:"handleWorkspaceSectionLinkClick",value:function(){this.handleSidebarMenuItemClick("workspace")}},{key:"showUninstallToast",value:function(){var e=this.props,t=e.appName,n=e.workspaceName;this.props.enqueueToast({element:a.a.createElement(Ge.b,{offsetY:80},a.a.createElement("span",{"data-qa":"app_management_modal_uninstall_toast"},It.t("{appName} was removed from {workspaceName}",{appName:Object(O.n)(t),workspaceName:Object(O.n)(n)})))})}},{key:"handleUninstallConfirm",value:function(){var e=this,t=this.props,n=t.onUninstall,r=t.appId,a=t.onClose;return this.props.fetchAppUninstall({appId:r}).then(function(){n(),e.showUninstallToast(),a(),e.props.closeModal()}).catch(function(){e.setState(function(){return{alertBannerType:"uninstallError"}})})}},{key:"toggleWildcardEnabled",value:function(){var e=this,t=this.props,n=t.appUserId,r=t.wildcardEnabled,a=t.serviceId,i="fetchAppWildcard"+(r?"Disable":"Enable");return this.props[i]({appUserId:n}).then(function(t){e.props.maybeUpdateAppPermissionsAfterWildcardChange({appUserId:n,wildcardEnabled:!r}),r||e.props.updatePublicChannelCount({countDelta:t,serviceId:a})}).catch(function(t){var n=Object(Ke.a)(t,"data.error");"permission_exists"===n||"no_resource_to_remove"===n||e.setState(function(){return{alertBannerType:r?"wildcardRemoveError":"wildcardAddError"}})})}},{key:"handleChannelAddOrRemove",value:function(e,t,n){var r;this.trackClog((r={},Ue()(r,st.x.action,st.v.CLICK),Ue()(r,st.x.ui_element,n),r),Ue()({},st.d.channel_id,e)),this[t](e)}},{key:"handleExclusionListAdd",value:function(e){this.handleChannelAddOrRemove(e,"showRemoveDialog",st.y.BTN_APP_ADD_EXCLUSION)}},{key:"handleExclusionListRemove",value:function(e){this.handleChannelAddOrRemove(e,"showAddDialog",st.y.BTN_APP_REMOVE_EXCLUSION)}},{key:"handleGrantListAdd",value:function(e){this.handleChannelAddOrRemove(e,"showAddDialog",st.y.BTN_APP_ADD_CHANNEL)}},{key:"handleGrantListRemove",value:function(e){this.handleChannelAddOrRemove(e,"showRemoveDialog",st.y.BTN_APP_REMOVE_CHANNEL)}},{key:"showRemoveDialog",value:function(e){var t=this,n=this.props.appName;this.setState(function(){return{activeDialogChannelId:e,alertBannerType:null}});var r={appName:n,channelId:e,onConfirm:function(){return t.trackClog(Ue()({},st.x.action,st.v.OK),Ue()({},st.d.channel_id,e),"APP_CHANNEL_REMOVE_DIALOG"),t.handleRemoveChannel()},onCancel:function(){return t.trackClog(Ue()({},st.x.action,st.v.CLOSE),Ue()({},st.d.channel_id,e),"APP_CHANNEL_REMOVE_DIALOG")}};this.props.openModal({element:a.a.createElement(et.a,r),isStackable:!0}),this.trackClog(Ue()({},st.x.action,st.v.IMPRESSION),Ue()({},st.d.channel_id,e),"APP_CHANNEL_REMOVE_DIALOG")}},{key:"handleRemoveChannel",value:function(){var e=this,t=this.props.appUserId,n=this.state.activeDialogChannelId,r={alertBannerType:"removeSuccess"};return this.props.fetchAppRemoveResource({appUserId:t,channelId:n}).then(function(){e.props.maybeUpdateAppPermissionsAfterChannelRemove({appUserId:t,channelId:n}),e.setState(function(){return r})}).catch(function(t){"no_resource_to_remove"===Object(Ke.a)(t,"data.error")?e.setState(function(){return r}):e.setState(function(){return{alertBannerType:"removeError"}})})}},{key:"showAddDialog",value:function(e){var t=this,n=this.props,r=n.appUserId,i=n.appName,o=n.appIcon;return this.props.fetchAppAddResource({appUserId:r,channelId:e,didConfirm:!1}).then(function(n){t.setState(function(){return{activeDialogChannelId:e,addChannelScopeInfo:n,alertBannerType:null}});var r={channelId:e,appName:i,appIcon:o,scopeInfo:n,onAuthorize:function(){t.trackClog(Ue()({},st.x.action,st.v.ALLOW),Ue()({},st.d.channel_id,e),"APP_CHANNEL_ADD_DIALOG"),t.handleAddChannel()},onDismiss:function(){t.trackClog(Ue()({},st.x.action,st.v.DO_NOT_ALLOW),Ue()({},st.d.channel_id,e),"APP_CHANNEL_ADD_DIALOG")},onClose:function(){t.trackClog(Ue()({},st.x.action,st.v.CLOSE),Ue()({},st.d.channel_id,e),"APP_CHANNEL_ADD_DIALOG")}};t.props.openModal({element:a.a.createElement($e.b,r),isStackable:!0}),t.trackClog(Ue()({},st.x.action,st.v.IMPRESSION),Ue()({},st.d.channel_id,e),"APP_CHANNEL_ADD_DIALOG")}).catch(function(n){"already_has_resource"===Object(Ke.a)(n,"data.error")?t.setState(function(){return{addChannelScopeInfo:null,alertBannerType:"addSuccess"}}):t.setState(function(){return{activeDialogChannelId:e,alertBannerType:"addError"}})})}},{key:"handleAddChannel",value:function(){var e=this,t=this.props.appUserId,n=this.state.activeDialogChannelId;return this.props.fetchAppAddResource({appUserId:t,channelId:n,didConfirm:!0}).then(function(){e.props.maybeUpdateAppPermissionsAfterChannelAdd({appUserId:t,channelId:n}),e.setState(function(){return{addChannelScopeInfo:null,alertBannerType:"addSuccess"}})}).catch(function(){e.setState(function(){return{alertBannerType:"addError"}})})}},{key:"handleAlertBannerClose",value:function(){this.setState(function(){return{alertBannerType:null}})}},{key:"handleWildcardCheckboxChange",value:function(){var e;this.trackClog((e={},Ue()(e,st.x.action,st.v.CLICK),Ue()(e,st.x.ui_element,st.y.APP_WILDCARD_CHECKBOX),e)),this.showWildcardDialog()}},{key:"showWildcardDialog",value:function(){var e,t=this,n=this.props,r=n.wildcardEnabled,i=n.appName,o=r?st.y.APP_WILDCARD_DISABLE_DIALOG:st.y.APP_WILDCARD_ENABLE_DIALOG,s={appName:i,wildcardEnabled:r,onGo:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.OK),Ue()(e,st.x.ui_element,o),e)),t.toggleWildcardEnabled()},onCancel:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.CLOSE),Ue()(e,st.x.ui_element,o),e))}};this.props.openModal({element:a.a.createElement(pt,s),isStackable:!0}),this.trackClog((e={},Ue()(e,st.x.action,st.v.IMPRESSION),Ue()(e,st.x.ui_element,o),e))}},{key:"handleUninstallButtonClick",value:function(){var e;this.trackClog((e={},Ue()(e,st.x.action,st.v.CLICK),Ue()(e,st.x.ui_element,st.y.BTN_APP_UNINSTALL),e)),this.showUninstallDialog()}},{key:"showUninstallDialog",value:function(){var e,t=this,n=this.props,r=n.appName,i=n.appIcon,o=n.workspaceName,s=n.publicChannelCount,c=n.privateChannelCount,l={appName:r,appIcon:i,workspaceName:o,publicChannelCount:s,privateChannelCount:c,onGo:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.ALLOW),Ue()(e,st.x.ui_element,st.y.APP_UNINSTALL_DIALOG),e)),t.handleUninstallConfirm()},onCancel:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.CLOSE),Ue()(e,st.x.ui_element,st.y.APP_UNINSTALL_DIALOG),e))}},u=void 0;s>0?u=c>0?It.rt("I understand {appName} will no longer be able to access <strong>{publicChannelCount, plural, =1 {# public channel} other {# public channels}} and {privateChannelCount, plural, =1 {# other private conversation} other {# other private conversations}}</strong>.",{appName:r,publicChannelCount:s,privateChannelCount:c}):It.rt("I understand {appName} will no longer be able to access <strong>{publicChannelCount, plural, =1 {# public channel} other {# public channels}}</strong>.",{appName:r,publicChannelCount:s}):c>0&&(u=It.rt("I understand {appName} will no longer be able to access <strong>{privateChannelCount, plural, =1 {# private conversation} other {# private conversations}}</strong>.",{appName:r,privateChannelCount:c})),l.channelAccessCheckboxText=u,this.props.openModal({element:a.a.createElement(ot,l),isStackable:!0}),this.trackClog((e={},Ue()(e,st.x.action,st.v.IMPRESSION),Ue()(e,st.x.ui_element,st.y.APP_UNINSTALL_DIALOG),e))}},{key:"handleRevokeButtonClick",value:function(){var e;this.trackClog((e={},Ue()(e,st.x.action,st.v.CLICK),Ue()(e,st.x.ui_element,st.y.BTN_APP_REVOKE),e)),this.showRevokeDialog()}},{key:"handleMemberListRevokeClick",value:function(){var e;this.trackClog((e={},Ue()(e,st.x.action,st.v.CLICK),Ue()(e,st.x.ui_element,st.y.APP_MEMBER_LIST_MENU_REVOKE),e)),this.showRevokeDialog()}},{key:"showRevokeDialog",value:function(){var e,t=this,n=this.props,r=n.appName,i=n.workspaceName;this.setState(function(){return{alertBannerType:null}});var o={appName:r,onGo:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.OK),Ue()(e,st.x.ui_element,st.y.APP_REVOKE_DIALOG),e)),t.handleRevokeConfirm()},onCancel:function(){var e;return t.trackClog((e={},Ue()(e,st.x.action,st.v.CLOSE),Ue()(e,st.x.ui_element,st.y.APP_REVOKE_DIALOG),e))},workspaceName:i};this.props.openModal({element:a.a.createElement(vt,o),isStackable:!0}),this.trackClog((e={},Ue()(e,st.x.action,st.v.IMPRESSION),Ue()(e,st.x.ui_element,st.y.APP_REVOKE_DIALOG),e))}},{key:"handleRevokeConfirm",value:function(){var e=this,t=this.props.serviceId;return this.props.fetchAppRevokeUserAndUpdateAppPermissions({serviceId:t}).then(function(){e.setState(function(){return{alertBannerType:"revokeSuccess"}})}).catch(function(){e.setState(function(){return{alertBannerType:"revokeError"}})})}},{key:"handleViewUserPermissionsClick",value:function(e,t){var n;this.trackClog((n={},Ue()(n,st.x.action,st.v.CLICK),Ue()(n,st.x.ui_element,st.y.LINK_APP_VIEW_PERMISSIONS),n)),this.showUserPermissionsDialog(e,t)}},{key:"showUserPermissionsDialog",value:function(e,t){var n,r=this,i=this.props,o={appName:i.appName,currentUserScopeInfo:i.currentUserScopeInfo,memberId:e,onGo:function(){return Object(He.a)(function(){return r.showRevokeDialog()})},onClose:function(){var e;return r.trackClog((e={},Ue()(e,st.x.action,st.v.CLOSE),Ue()(e,st.x.ui_element,st.y.APP_USER_PERMISSIONS_DIALOG),e))},scopes:t,userScopeInfo:i.userScopeInfo};this.props.openModal({element:a.a.createElement(Ct,o),isStackable:!0}),this.trackClog((n={},Ue()(n,st.x.action,st.v.IMPRESSION),Ue()(n,st.x.ui_element,st.y.APP_USER_PERMISSIONS_DIALOG),n))}},{key:"handleAppSearchUsers",value:function(e){var t,n=this;e.query&&this.trackClog((t={},Ue()(t,st.x.action,st.v.SEARCH),Ue()(t,st.x.ui_element,st.y.APP_MEMBER_LIST_SEARCH),t));return this.props.searchUsersForApp(e).catch(function(){n.setState(function(){return{alertBannerType:"error"}})})}},{key:"render",value:function(){var e=x()({onSidebarMenuItemClick:this.handleSidebarMenuItemClick,onSidebarMenuLinkClick:this.trackClogForSidebarMenuClick,onWorkspaceSectionLinkClick:this.handleWorkspaceSectionLinkClick,onRevokeButtonClick:this.handleRevokeButtonClick,onMemberListRevokeClick:this.handleMemberListRevokeClick,onUninstallButtonClick:this.handleUninstallButtonClick,onExclusionListAdd:this.handleExclusionListAdd,onExclusionListRemove:this.handleExclusionListRemove,onGrantListAdd:this.handleGrantListAdd,onGrantListRemove:this.handleGrantListRemove,onWildcardCheckboxChange:this.handleWildcardCheckboxChange,onAlertBannerClose:this.handleAlertBannerClose,onViewUserPermissionsClick:this.handleViewUserPermissionsClick,onAppSearchUsers:this.handleAppSearchUsers},this.props,this.state);return a.a.createElement(Fe,e)}}]),t}(r.PureComponent);St.displayName="AppManagementModalContainer",St.displayName="AppManagementModalContainer",St.defaultProps=wt;var Tt={clearAppPermissions:F.b,enqueueToast:ze.c,fetchAppAddResource:Ve.a,fetchAppRemoveResource:Ve.h,fetchAppUninstall:Ve.k,fetchAppWildcardDisable:Ve.l,fetchAppWildcardEnable:Ve.m,fetchAppRevokeUserAndUpdateAppPermissions:F.d,maybeUpdateAppPermissionsAfterChannelAdd:F.g,maybeUpdateAppPermissionsAfterChannelRemove:F.h,maybeUpdateAppPermissionsAfterWildcardChange:F.i,searchUsersForApp:F.k,updatePublicChannelCount:F.l,openModal:o.e,closeModal:o.a},Rt=Object(P.b)(function(e,t){var n=t.appProfile,r=t.serviceId,a=Object(Ye.d)(e),i=a?Object(Je.e)(a):"",o={},s=Object(lt.f)(e);if(n)o=function(e){var t=e.app_user_id,n=e.id,r=e.name,a=e.support_url,i=e.url;return{appUserId:t,appIcon:Object(Qe.a)(e,48),appIconLarge:Object(Qe.a)(e,88),appId:n,appName:r,appSupportUrl:a,appHomepageUrl:i}}(n);else if(r){var c=Object(Xe.c)(e,{serviceId:r});c&&(o=function(e,t){var n=e.app_user,r=e.app_id,a=e.profile,i=e.directory_profile;return{appUserId:n.id,appIcon:Object(Qe.a)(a,48,t),appIconLarge:Object(Qe.a)(a,88,t),appId:r,appName:a.name,appSupportUrl:i.support_url,appHomepageUrl:i.home_url}}(c,s))}var l=Object(F.e)(e,r);return x()({workspaceName:i,userIsAppmin:!Object(Ze.a)(e,"app_whitelist_enabled")||Object(K.j)(e),showModal:Object(We.b)(l),isLoading:Object(We.d)(l),hasError:Object(We.c)(l)||Object(v.a)(o),showWildcardToggle:Object(F.a)(l,"channel"),featureWtaModalM11n:Object(B.j)(e,"feature_wta_modal_m11n")},o,l,{clogger:Object(ct.a)({state:e})})},Tt)(St),Nt=Object(s.b)("Opens app app management modal in client",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.a.createElement(Rt,n);e(Object(o.e)({element:r}))});Nt.propTypes={serviceId:i.b.string,appProfile:i.b.object,onClose:i.b.func,showAppDirectoryLink:i.b.bool,onUninstall:i.b.func,isMobile:i.b.bool,referringEventId:i.b.string,referringUiContext:i.b.object};t.a=Nt},tGxD:function(e,t,n){},tP3m:function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"b",function(){return k});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("TGBA"),l=n("DKof"),u=n("/1FC"),d=n("8vnj"),b=n("aK/h"),p=n("EzZj"),h=n("MNvw"),m=n("U/ze"),f=Object(p.b)("Update the all unreads state");f.propTypes=b.b.bool.isRequired;var v=Object(p.b)("Update the all threads state");v.propTypes=b.b.bool.isRequired;var g=Object(p.b)("Update the threads mention count");g.propTypes=b.b.number.isRequired;var _=Object(p.b)("Update all the threads state values");_.propTypes={hasUnreads:b.b.bool.isRequired,mentionCountByChannel:b.b.object.isRequired};var O=Object(h.b)((r={},i()(r,f,function(e,t){return"boolean"!=typeof t?e:s()({},e,{hasUnreads:t})}),i()(r,v,function(e,t){return"boolean"!=typeof t?e:s()({},e,{hasUnreadThreads:t})}),i()(r,g,function(e,t){return Object(d.a)(t)?s()({},e,{threadsMentionCount:t}):e}),i()(r,_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasUnreads,r=t.mentionCountByChannel,a=Object(u.a)(r)?{}:r,i=Object(l.a)(Object(c.a)(a));return!n&&i&&(i=0),s()({},e,{hasUnreadThreads:n,threadsMentionCount:i,threadsMentionCountByChannel:a})}),r),{hasUnreads:!1,hasUnreadThreads:!1,threadsMentionCount:0,threadsMentionCountByChannel:{}},{persistenceEnabled:!0});O.propTypes={hasUnreads:b.b.bool.isRequired,hasUnreadThreads:b.b.bool.isRequired,threadsMentionCount:b.b.number.isRequired,threadsMentionCountByChannel:b.b.objectOf(b.b.number)},t.a=O;var y=Object(m.b)(function(e){return e&&e.allUnreads&&e.allUnreads.hasUnreads}),j=Object(m.b)(function(e){return e&&e.allUnreads&&e.allUnreads.hasUnreadThreads}),k=Object(m.b)(function(e){return e&&e.allUnreads&&e.allUnreads.threadsMentionCount})},tQ8E:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("LxWA"),g=n("iGrU"),_=n("nUcG"),O=n("z0G2"),y=(n("58KB"),50),j=(b.b.number.isRequired,b.b.number.isRequired,b.b.string,b.b.string,b.b.arrayOf(b.b.string).isRequired,b.b.instanceOf(O.a),b.b.func.isRequired,b.b.func,b.b.string,b.b.string,b.b.string,b.b.string,b.b.func,b.b.arrayOf(b.b.string),b.b.bool,b.b.func,b.b.func,b.b.func,b.b.func,b.b.bool,b.b.string,{className:"",containerClassName:"",layout:void 0,role:"list",itemRole:"listitem",itemAriaControls:void 0,ariaLabel:null,persistentKeys:[],fadeScrollbar:!1,onScroll:d.a,onContentScroll:d.a,onSelectionChange:d.a,onItemClick:d.a,getAriaLabelForRow:void 0,shouldHorizontallyScroll:!1,isItemAriaExpanded:void 0,id:void 0}),k=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onScroll=n.onScroll.bind(n),n.onContentScroll=n.onContentScroll.bind(n),n.onSelectionChange=n.onSelectionChange.bind(n),n.setRef=n.setRef.bind(n),n.setContentRef=n.setContentRef.bind(n),n.setHeight=n.setHeight.bind(n),n.getScrollTop=n.getScrollTop.bind(n),n.getVisibleRange=n.getVisibleRange.bind(n),n.isItemInView=n.isItemInView.bind(n),n.onScrollStart=n.onScrollStart.bind(n),n.onScrollEnd=Object(v.a)(n.onScrollEnd.bind(n),y),n.layout=e.layout||new O.a,n.node=null,n.contentNode=null,n.isSelecting=!1,n.selectionStart=null,n.selectionEnd=null,n.scrollStartTimeout=null,n.layout.setKeys(e.keys);var r=n.getBounds(0,e.height),i=r.start,o=r.end;return n.state={start:i,end:o,scrolling:!1},n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"componentWillReceiveProps",value:function(e){e.width!==this.props.width&&this.layout.heightCache.invalidate(),this.layout.setKeys(e.keys),this.relayout()}},{key:"componentWillUnmount",value:function(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout),document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"onScroll",value:function(e){this.onScrollEnd(),this.scrollStartTimeout||this.isScrolling()||e.target!==this.node.scroller||(this.scrollStartTimeout=setTimeout(this.onScrollStart,2*y)),this.relayout(),this.props.onScroll(e,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}},{key:"onContentScroll",value:function(e){this.props.onContentScroll(e)}},{key:"onScrollStart",value:function(){this.setState(function(){return{scrolling:!0}},this.onScrollEnd),this.scrollStartTimeout=null}},{key:"onScrollEnd",value:function(){this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.setState(function(e){return e.scrolling?{scrolling:!1}:null})}},{key:"onSelectionChange",value:function(){this.node&&(window.getSelection&&"Range"===window.getSelection().type&&this.contentNode&&this.contentNode.contains(window.getSelection().anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting))}},{key:"setRef",value:function(e){this.node=e}},{key:"setContentRef",value:function(e){this.contentNode=e}},{key:"getTop",value:function(e){return this.layout.getTop(e)}},{key:"getBottom",value:function(e){return this.layout.getBottom(e)}},{key:"getScrollTop",value:function(){return this.node?this.node.scrollTop():null}},{key:"setHeight",value:function(e,t){e&&(Math.abs(t-this.layout.getHeight(e))<.5||(this.layout.setHeight(e,t),this.relayout()))}},{key:"setScrollTop",value:function(e){this.node&&this.node.scrollTop(Math.ceil(e))}},{key:"getClassName",value:function(){return f()("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}},{key:"getContentsClassName",value:function(){return f()("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}},{key:"getVisibleRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollTop(),t=this.props,n=t.keys,r=t.height,a=this.layout.getBounds(e,e+r),i=a.start,o=a.end,s=this.layout.getTop(n[i])<e-1?i+1:i,c=this.layout.getBottom(n[o-1])>e+r+1?o-1:o,l=Math.min(s,n.length-1);return{start:l,end:Math.max(c,l)}}},{key:"getContentHeight",value:function(){return this.layout.getTotalHeight()}},{key:"getContainerHeight",value:function(){return this.props.height}},{key:"getBounds",value:function(e,t){this.onSelectionChange();var n=e,r=t;return this.selectionStart&&(n=Math.min(n,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(r=Math.max(r,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(n,r)}},{key:"isScrolling",value:function(){return this.state.scrolling}},{key:"isItemInView",value:function(e){var t=this.getScrollTop(),n=this.layout.getTop(e);return n>=t&&n<=t+this.props.height}},{key:"isScrolledToTop",value:function(){return Math.floor(this.getScrollTop())<=1}},{key:"isScrolledToBottom",value:function(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}},{key:"scrollToKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lazy,r=t.animate;if(!n||!this.isItemInView(e)){var a=this.layout.getOffsetForKey(e);this.scrollToOffset(a,{animate:r})}}},{key:"scrollToOffset",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).animate;if(this.node){var n=this.bracketScrollTop(e);t?this.node.scrollWithAnimation(n):(this.scrollTop=n,this.setScrollTop(n))}}},{key:"bracketScrollTop",value:function(e){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,e))}},{key:"relayout",value:function(){var e=this;this.setState(function(t,n){var r=e.getScrollTop(),a=n.height/2,i=r-a,o=r+n.height+a,s=e.getBounds(i,o),c=s.start,l=s.end,u=e.layout.getTops();return c===t.start&&l===t.end&&u===t.tops?null:{start:c,end:l,tops:u}})}},{key:"renderItem",value:function(e,t){var n=this.getTop(e),r=this.layout.getHeight(e),a=this.layout.getHeightValidity(e),i=this.props,o=i.getAriaLabelForRow,s=i.isItemAriaExpanded,c=o&&o(t),l=s&&s(e,t),u=!0===l?this.props.itemAriaControls:void 0;return h.a.createElement(_.a,{id:e,key:e,height:r,style:{top:n},role:this.props.itemRole,onHeightChange:this.setHeight,onClick:this.props.onItemClick,validity:a,ariaLabel:c,ariaExpanded:l,ariaControls:u,shouldHorizontallyScroll:this.props.shouldHorizontallyScroll},this.props.rowRenderer(t,{key:e,isExpanded:l}))}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.keys,r=t.persistentKeys,a=this.state,i=a.start,o=a.end,s=[],c=i;c<o;c++){var l=n[c];l&&s.push(this.renderItem(l,c))}return r.forEach(function(t){var r=n.indexOf(t);r<0||r>=i&&r<o||s.push(e.renderItem(t,r))}),s}},{key:"renderContents",value:function(){var e=this.getContentsClassName(),t=this.getContentHeight(),n=this.renderItems();return h.a.createElement("div",{ref:this.setContentRef,className:e,role:"presentation",style:{position:"relative",height:t}},n)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;if(0===t||0===n)return null;var r=this.getClassName(),a=this.renderContents();return h.a.createElement(g.b,{className:r,width:t,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),onTrackClick:g.b.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:this.props.role,id:this.props.id,ref:this.setRef,ariaLabel:this.props.ariaLabel,fade:this.props.fadeScrollbar,alwaysVisible:this.state.hasKeyboardFocus},a)}}]),t}(p.PureComponent);k.displayName="List",t.a=k,k.defaultProps=j},tRvn:function(e,t,n){"use strict";t.a=function(e){return!!e&&("INPUT"===e.nodeName||("SELECT"===e.nodeName||("TEXTAREA"===e.nodeName||function(e){if(!e)return!1;var t=e.getAttribute("data-contenteditable-override");return t?"true"===t:"true"===e.contentEditable}(e))))}},"tV/K":function(e,t,n){},tVnY:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var r=n("HO/Y"),a=n("XzsM"),i=n("VMwU"),o=n("g5qt"),s=n("Smdl"),c=function(e){return Object(s.a)()?!Object(r.j)(e,"feature_classic_nav"):Object(r.j)(e,"feature_global_nav")&&"treatment"===Object(a.c)(e,"global_nav")},l=function(){return o.X&&!Object(s.a)()},u=function(e){var t=e.nav_bar_bg||Object(i.c)(e.column_bg,20,{outputHex:!0}),n=e.nav_bar_text||e.text_color,r=e.desktop_chrome_bg||Object(i.c)(t,20,{outputHex:!0});return{nav_bar_bg:t,nav_bar_text:n,desktop_chrome_bg:r,desktop_chrome_sidebar:t,desktop_chrome_titlebar:r,menu_bg:t}}},tZRu:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Marks topics as desynced");i.propTypes=r.b.arrayOf(r.b.string).isRequired;var o=Object(a.b)("Marks topics as resynced");o.propTypes=r.b.arrayOf(r.b.string).isRequired;var s=Object(a.b)("Clear all topics");s.propTypes=null;var c=Object(a.b)("Notify resynced");c.propTypes=null;var l=Object(a.b)("Notify Sonic resynced");l.propTypes=null},tafa:function(e,t,n){},tbBR:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=(n("aK/h"),Object(i.createContext)()),c=function(e){var t=e.id,n=e.children;return o.a.createElement(s.Provider,{value:t},n)};c.displayName="View",c.defaultProps={id:void 0,children:void 0};var l=c;function u(e){return function(t){return o.a.createElement(s.Consumer,null,function(n){return o.a.createElement(e,a()({},t,{viewContext:n}))})}}n.d(t,"b",function(){return u});t.a=l},tjIJ:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("bPB8"),c=n("aK/h"),l=n("XfeM"),u=n("clTI"),d=n("D4L/"),b=n("2ILS"),p=n("DtX9"),h=n("cTgs"),m=n("HvGc"),f=n("hhak"),v=n("kxpR"),g=n.n(v),_=n("DTT0"),O=n("0nhw"),y=n("nNoG"),j=n("U3Q0"),k=n("vSXf"),E=new y.b("permalink-dialog");c.b.bool;function C(e){if(!e.featureModernizedXwsPermalinkDialogs)return null;var t=E.t("Can\u2019t view message"),n=E.t("Got it"),r=E.t("This message may be from a workspace you\u2019re not a member of, or it may have been deleted.");return g.a.createElement(j.a,{title:t,goButtonText:n,showCancelButton:!1},r)}C.displayName="RestrictedWorkspacePermalinkDialog",C.defaultProps={featureModernizedXwsPermalinkDialogs:!1};var I=Object(k.a)("feature_modernized_xws_permalink_dialogs")(C),w=n("iCc5"),S=n.n(w),T=n("V7oC"),R=n.n(T),N=n("FYw3"),x=n.n(N),M=n("mRg0"),P=n.n(M),A=n("5mKg"),D=new y.b("permalink-dialog"),L=(c.b.object.isRequired,c.b.bool,function(e){function t(){return S()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),R()(t,[{key:"getDialogText",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props.team,t=Object(A.e)(e);return D.rt("Your request to join the <strong>{teamName}</strong> workspace is pending. You\u2019ll receive a message from Slackbot when your request has been approved.",{teamName:t})}},{key:"getTitleImage",value:function(){var e=this.props.team,t=Object(A.h)(e);return t?t.image_34:void 0}},{key:"render",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=D.t("Request sent"),t=D.t("Got it");return g.a.createElement(j.a,{title:e,titleImage:this.getTitleImage(),goButtonText:t,showCancelButton:!1},this.getDialogText())}}]),t}(g.a.Component));L.displayName="RequestPendingPermalinkDialog",L.defaultProps={featureModernizedXwsPermalinkDialogs:!1};var q=Object(k.a)("feature_modernized_xws_permalink_dialogs")(L),F=n("ifKl"),B=n("XHGt"),U=n("6kok"),H=n("7WZX"),K=n("qafc"),G=new y.b("permalink-dialogs"),V=(c.b.string.isRequired,c.b.oneOf(["success","failure"]),c.b.bool,function(e){function t(){return S()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),R()(t,[{key:"render",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props,t=e.type,n=e.teamName,r=a()(e,["type","teamName"]),i="success"===t,s=i?G.t("Request sent to the {teamName} workspace!",{teamName:n}):G.t("Couldn\u2019t request to join the {teamName} workspace",{teamName:n}),c=i?void 0:"warning";return g.a.createElement(K.b,o()({icon:c},r),g.a.createElement("span",null,s))}}]),t}(v.PureComponent));V.displayName="RequestToJoinWorkspaceToast",V.defaultProps={type:"success",featureModernizedXwsPermalinkDialogs:!1};var z=Object(k.a)("feature_modernized_xws_permalink_dialogs")(V),Y=Object(l.b)("Request to join a workspace, then show a toast",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId,r=t(),a=Object(d.i)(r,n),i=Object(A.e)(a);return e(Object(O.d)({teamId:n})).then(function(){return e(Object(H.c)({element:g.a.createElement(z,{type:"success",teamName:i})}))}).catch(function(){return e(Object(H.c)({element:g.a.createElement(z,{type:"failure",teamName:i})}))})}),W=n("HO/Y"),Q=n("4Twu"),X=new y.b("permalink-dialog"),Z=(c.b.object,c.b.object.isRequired,c.b.func,c.b.bool,{channel:null,requestToJoinWorkspaceAction:F.a,featureModernizedXwsPermalinkDialogs:!1}),J=function(e){function t(e){S()(this,t);var n=x()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onGo=n.onGo.bind(n),n}return P()(t,e),R()(t,[{key:"onGo",value:function(){var e=this.props,t=e.team;(0,e.requestToJoinWorkspaceAction)({teamId:Object(A.i)(t)})}},{key:"getTitleText",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props.team,t=Object(A.e)(e);return X.rt("Request to join {teamName}?",{teamName:t})}},{key:"getDialogText",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props,t=e.channel,n=e.team,r=Object(A.e)(n);return!t||Object(U.Jb)(t)?X.rt("This message was posted in the <strong>{teamName}</strong> workspace. To view this message, you\u2019ll need to request to join that workspace.",{teamName:r}):X.rt("This message was posted in <strong>{channelName}</strong> in the <strong>{teamName}</strong> workspace. To view this message, you\u2019ll need to request to join that workspace.",{channelName:g.a.createElement(Q.a,{channel:t,inline:!0}),teamName:r})}},{key:"getTitleImage",value:function(){var e=this.props.team,t=Object(A.h)(e);return t?t.image_34:void 0}},{key:"render",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=X.t("Request to Join");return g.a.createElement(j.a,{title:this.getTitleText(),titleImage:this.getTitleImage(),goButtonText:e,goButtonType:"primary",onGo:this.onGo},this.getDialogText())}}]),t}(g.a.Component);J.displayName="RequestToJoinWorkspacePermalinkDialog",J.defaultProps=Z;var $=Object(B.b)(function(e){return{featureModernizedXwsPermalinkDialogs:Object(W.j)(e,"feature_modernized_xws_permalink_dialogs")}},function(e){return{requestToJoinWorkspaceAction:function(){return e(Y.apply(void 0,arguments))}}})(J),ee=new y.b("permalink-dialog"),te=(c.b.object,c.b.object.isRequired,c.b.func,c.b.bool,{channel:null,featureModernizedXwsPermalinkDialogs:!1,onGo:F.a}),ne=function(e){function t(){return S()(this,t),x()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P()(t,e),R()(t,[{key:"getTitleText",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props.team,t=Object(A.e)(e);return ee.rt("Join {teamName}?",{teamName:t})}},{key:"getDialogText",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=this.props,t=e.channel,n=e.team,r=Object(A.e)(n);return!t||Object(U.Jb)(t)?ee.rt("This message was posted in the <strong>{teamName}</strong> workspace. To view this message, you\u2019ll need to join that workspace.",{teamName:r}):ee.rt("This message was posted in <strong>{channelName}</strong> in the <strong>{teamName}</strong> workspace. To view this message, you\u2019ll need to join that workspace.",{channelName:g.a.createElement(Q.a,{channel:t,inline:!0}),teamName:r})}},{key:"getTitleImage",value:function(){var e=this.props.team,t=Object(A.h)(e);return t?t.image_34:void 0}},{key:"render",value:function(){if(!this.props.featureModernizedXwsPermalinkDialogs)return null;var e=ee.t("Join Workspace");return g.a.createElement(j.a,{title:this.getTitleText(),titleImage:this.getTitleImage(),goButtonText:e,onGo:this.props.onGo},this.getDialogText())}}]),t}(g.a.Component);ne.displayName="JoinWorkspacePermalinkDialog",ne.defaultProps=te;var re=Object(k.a)("feature_modernized_xws_permalink_dialogs")(ne),ae=Object(l.b)("Opens the restricted workspace permalink dialog",function(e){e(Object(_.e)({element:g.a.createElement(I)}))}),ie=Object(l.b)("Opens the request to join workspace permalink dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).teamId,r=t(),a=Object(d.i)(r,n);e(Object(_.e)({element:g.a.createElement(q,{team:a})}))});ie.propTypes={teamId:c.b.string.isRequired};var oe=Object(l.b)("Opens the request to join workspace permalink dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.channelId,i=t(),o=Object(d.i)(i,r),s=Object(u.d)(i,a);e(Object(_.e)({element:g.a.createElement($,{team:o,channel:s})}))});oe.propTypes={teamId:c.b.string.isRequired,channelId:c.b.string.isRequired};var se=Object(l.b)("Opens the request to join workspace permalink dialog",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.teamId,a=n.channelId,i=n.onGo,o=t(),s=Object(d.i)(o,r),c=Object(u.d)(o,a);e(Object(_.e)({element:g.a.createElement(re,{team:s,channel:c,onGo:function(){var t=e(Object(O.b)({teamId:r}));i&&i(t)}})}))});se.propTypes={teamId:c.b.string.isRequired,channelId:c.b.string.isRequired,onGo:c.b.func};var ce=n("Fdc0"),le=n("zbZx"),ue=n("cewN"),de=n("cErB"),be=n("UUlk"),pe=n("FHcd"),he=n("V6fv"),me=n("uf9I"),fe=n("wR6u"),ve=n("hjTk"),ge=n("yHhI"),_e=n("Smdl"),Oe=n("KXvl"),ye=n("kLJo"),je=n("sDWr"),ke=n("rWF5"),Ee=n("lhZz"),Ce=n("IY6O");function Ie(e,t){var n=Object(Ee.getClientStoreInstance)();if(n){var r=n.getState(),a=Object(Ce.getWorkspaceMetaBySubdomain)(r,t);if(a)return a.id}var i=Object(d.h)(e,t);if(i)return i.id}var we=n("DlLn");n.d(t,"c",function(){return Re}),n.d(t,"b",function(){return Ne});var Se={MESSAGE:"message",FILE:"file",MEMBER:"member"};function Te(e,t,n){var r=Object(s.a)(t.split("/")),a=function(e){switch(e){case"archives":case"messages":case"conversation":return Se.MESSAGE;case"file":case"files":return Se.FILE;case"team":return Se.MEMBER;default:return null}}(r[0]),i=Object(ue.d)(n);switch(a){case Se.MESSAGE:var o=r[1],c=function(e,t){return t?Object(u.d)(e,t,!1)||Object(u.j)(e,t.replace(/^@/,""))||Object(u.e)(e,t):null}(e,o),l=c&&c.id||o;return l?{type:a,channelId:l,ts:Object(he.a)(r[2]),threadTs:Object(he.a)(i.thread_ts)}:null;case Se.FILE:var d=r[2];return Object(be.a)(d)?{type:a,fileId:d}:null;case Se.MEMBER:var b=r[1];return Object(pe.a)(b)?{type:a,memberId:b}:null;default:return null}}function Re(e,t){if(!t)return null;var n=Object(de.j)(t),r=n.hostname,a=n.pathname,i=n.search;if(!r||!a)return null;if(!Object(de.h)(r))return null;var s=Te(e,a,i);if(!s)return null;var c=r.split(".")[0];return c?o()({subdomain:c},s):null}function Ne(e,t){var n={channel:null,team:null};if(!e||!t)return n;var r=Re(e,t);if(!r)return n;var a=r.subdomain,i=r.channelId;return{channel:Object(u.d)(e,i),team:Object(d.h)(e,a)}}var xe=Object(l.b)("Opens a permalink in the client",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).parsedPermalink,r=n.type,i=a()(n,["type"]);switch(r){case Se.MESSAGE:return i.ts?e(Object(f.a)(i)):e(Object(h.a)({id:i.channelId}));case Se.FILE:return Promise.resolve(e(Object(m.c)({fileId:i.fileId})));case Se.MEMBER:return Promise.resolve(e(Object(m.j)({memberId:i.memberId})));default:return Promise.reject(new Error("openPermalinkInClient: Unknown permalink type "+r))}});function Me(e,t){var n=Ie(e,t.subdomain);if(n)switch(t.type){case Se.FILE:if(t.channelId&&t.fileId)return Object(ye.i)(je.g,{teamId:n,entityId:t.channelId,fileId:t.fileId});break;case Se.MEMBER:if(t.channelId&&t.memberId)return t.ts?Object(ye.i)(je.o,{teamId:n,entityId:t.channelId,memberId:t.memberId,timestamp:t.ts}):Object(ye.i)(je.o,{teamId:n,entityId:t.channelId,memberId:t.memberId});break;case Se.MESSAGE:if(t.channelId)return t.ts&&t.threadTs?Object(ye.i)(je.k,{teamId:n,entityId:t.channelId,threadId:t.channelId+"-"+t.threadTs,replyTs:t.threadTs}):t.ts?Object(ye.i)(je.a,{teamId:n,entityId:t.channelId,timestamp:t.ts}):Object(ye.i)(je.a,{teamId:n,entityId:t.channelId})}}xe.propTypes={parsedPermalink:c.b.object};var Pe=Object(l.b)("Opens the appropriate XWS permalink dialog for a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.permalink,a=n.parsedPermalink,i=a.subdomain,o=a.channelId,s=t();return Object(le.d)(s)?i?e(Object(b.b)(i)).then(function(n){var i=Object(p.b)(t()),s=n.id;if(Object(ce.rb)(i,s))return Promise.reject(new Error("maybeOpenXWSPermalinkDialog: Already a member"));if(Object(ce.ob)(i))return e(ae()),Promise.resolve();if(n.is_closed)return n.has_join_request?(e(ie({teamId:s})),Promise.resolve()):(e(oe({teamId:s,channelId:o})),Promise.resolve());if(n.is_open){if(Object(_e.a)()){var c=Me(t(),a);return e(se({teamId:s,channelId:o,onGo:function(e){Object(fe.d)(!1),e.then(function(){Object(we.d)(c)}).catch(function(e){Object(ge.a)({getState:t}).error(e,"openJoinWorkspacePermalinkDialog failed"),Object(fe.d)(!0)})}})),Promise.resolve()}return e(se({teamId:s,channelId:o,onGo:function(t){t.then(function(){return e(Ae({permalink:r}))})}})),Promise.resolve()}return e(ae()),Promise.resolve()}):Promise.reject(new Error("maybeOpenXWSPermalinkDialog: No subdomain provided")):Promise.reject(new Error("maybeOpenXWSPermalinkDialog: Not an enterprise"))});Pe.propTypes={permalink:c.b.string,parsedPermalink:c.b.object};var Ae=Object(l.b)("Opens a permalink in the client or the browser",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).permalink;if(!n)return Promise.reject(new Error("openPermalink: No permalink provided"));var r=Object(ge.a)({getState:t,label:"PERMALINK"});function a(){var e=Object(ke.h)(Object(de.d)(n)),t=Object(Oe.a)(e.subdomain)||"_blank";Object(ve.a)(n,t)}var i=Re(t(),n);return i?e(xe({parsedPermalink:i})).catch(function(t){return r.warn("openPermalinkInClient rejected, maybe opening XWS dialog",t),e(Pe({permalink:n,parsedPermalink:i}))}).catch(function(e){if(!_e.a)throw e;var n=Ie(t(),i.subdomain),a=n!==Object(me.b)(t());if(n&&a&&!Object(Oe.b)()){var o=Me(t(),i);if(o){r.info("Opening permalink in new tab",o);var s=Object(Oe.a)(i.subdomain);return void Object(ve.a)(o,s)}}throw e}).catch(function(e){r.warn("failed to open permalink in client, opening in new tab",e),a()}):(r.warn("openPermalink: Unable to parse permalink, opening in new tab"),a(),Promise.resolve())});Ae.propTypes={permalink:c.b.string};t.a=Ae},tjle:function(e,t,n){},tk7L:function(e,t,n){},tnk7:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("uf9I"),o=n("QbLZ"),s=n.n(o),c=n("kxpR"),l=n.n(c),u=n("XHGt"),d=n("wvq5"),b=n("lhZz"),p=n("nP9x"),h=n("cMxN"),m=n("yg0S"),f=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!t)throw new Error("mountAppProfileCard must be called with a teamId parameter");var o=Object(b.getStoreInstanceByTeamId)(t),c=function(){e(t,n,{},{},{isOpen:!1})},f={onMenuItemSelected:c,onTriggerClose:c};Object(d.a)(l.a.createElement(u.a,{store:o},l.a.createElement(m.a,null,l.a.createElement(h.a,s()({isOpen:!0,onClose:c,position:"right-bottom",targetBounds:a,allowanceX:24,offsetX:10},i),l.a.createElement(p.a,s()({},r,{menuProps:f}))))),n)},v=Object(a.b)("Opens app profile card",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,a=n.homeWorkspaceId,o=n.coordinates,s=n.popoverProps,c=t(),l=Object(i.b)(c),u=document.getElementById("app_profile_card_mount_point");f(l,u,{homeWorkspaceId:a,serviceId:r},o,s)});v.propTypes={serviceId:r.b.string.isRequired,homeWorkspaceId:r.b.string,memberId:r.b.string,coordinates:r.b.object.isRequired,popoverProps:r.b.object};t.a=v},"tqA/":function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("Gxzu"),o=n("BrU6"),s=n("3MJR"),c=n("AcCB"),l=n("iW0Y"),u=n("hu7Z"),d=n("XZOc"),b=n("Hh47"),p=n("OZtQ"),h=n("kyuO"),m=n("smh8"),f=n("yHhI"),v=Object(a.b)("Set whether or not Search is visible",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).visible;Object(f.a)({getState:t}).info("IMPROVED_SEARCH",n?"Open Search":"Close Search");var r=t(),a=Object(s.s)(r);if(e(Object(c.o)({visible:n})),Object(i.b)(r)&&n&&Object(s.q)(r))Object(f.a)({getState:t}).info("IMPROVED_SEARCH","Search is opening and session is already active: Clearing timer"),clearTimeout(Object(s.q)(r)),e(Object(c.B)({sessionTimeoutId:null}));else if(!Object(i.b)(r)&&n)Object(f.a)({getState:t}).info("IMPROVED_SEARCH","Search is opening without query: Starting new search session"),e(Object(b.b)());else if(Object(i.b)(r)&&!n){Object(f.a)({getState:t}).info("IMPROVED_SEARCH","Search closing with active query: Starting timeout to clear session");var v=setTimeout(function(){var n=t();Object(s.s)(n)||Object(s.q)(n)!==v||(e(Object(c.B)({sessionTimeoutId:null})),e(Object(d.c)()),e(Object(p.q)()),e(Object(o.a)({textyString:""})),e(Object(c.k)()),e(Object(l.a)({interfaceMode:u.a.EDIT})),e(Object(m.a)()))},d.a);e(Object(c.B)({sessionTimeoutId:v})),a!==n&&e(Object(h.d)())}else Object(i.b)(r)||n||(Object(f.a)({getState:t}).info("IMPROVED_SEARCH","Search is closing without query: Clear search session immediately"),a!==n&&e(Object(h.d)()),e(Object(d.c)()));n?a!==n&&e(Object(h.i)({})):e(Object(c.q)({lastOpenMethod:null}))});v.propTypes={visible:r.b.bool.isRequired},t.a=v},tt0d:function(e,t,n){"use strict";var r=n("nKoU"),a=n("QLyv"),i=1;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.padder,o=void 0===n?null:n,s=t.uniqueNum,c=void 0===s?null:s,l=e||Date.now(),u=o||"x",d=null==c?((i+=1)>=1e5&&(i=1),i):c;return Object(a.a)(l).unix()+"."+Object(r.a)(d,6,u)}},tvJC:function(e,t,n){"use strict";function r(e){return"UNVERIFIED"===e}n.d(t,"a",function(){return r})},twaS:function(e,t,n){},tyNn:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("lE2N"),c=n("1Lli"),l=n("lCmp"),u=n("uXhx"),d=n("oTSI"),b=n("zmn3"),p=n("fujP"),h=n("bPB8"),m=n("aK/h"),f=n("btvA"),v=n("lhZz"),g=n("EzZj"),_=n("MNvw"),O=n("XfeM"),y=n("U/ze"),j=n("yHhI"),k=n("om+M"),E=n("4zXV"),C=Object(k.a)("Fetch user activity from the API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.afterTs,a=n.includeAtChannel,i=void 0===a||a,o=n.includeReactions,s=void 0===o||o,c=n.includeUserGroups,l=void 0===c||c,u=n.limit,d=void 0===u?20:u,b=n.reason,p=[];return i||(p.push("channel"),p.push("everyone")),l||p.push("user_group"),e(Object(E.a)({method:"activity.mentions",args:{after_ts:r,count:d,exclude:p.join(","),reactions:s?1:0},reason:b}))});C.propTypes={includeAtChannel:m.b.bool,includeReactions:m.b.bool,includeUserGroups:m.b.bool,limit:m.b.number,reason:m.b.string.isRequired};var I,w=n("uf9I"),S=n("VjHM"),T=n("WcGV"),R=n("hOQf");n.d(t,"g",function(){return A}),n.d(t,"h",function(){return D}),n.d(t,"d",function(){return U}),n.d(t,"f",function(){return H}),n.d(t,"e",function(){return K}),n.d(t,"c",function(){return G}),n.d(t,"b",function(){return V});var N=Object(d.a)(function(){return new f.b({fetch:function(e){Object(v.dispatchForTeamId)(e,q());var t=Object(v.getStateByTeamId)(e),n=Object(S.g)(t,"mentions_exclude_at_channels"),r=Object(S.g)(t,"mentions_exclude_reactions"),a=Object(S.g)(t,"mentions_exclude_at_user_groups");return Object(v.dispatchForTeamId)(e,G({includeAtChannel:!n,includeReactions:!r,includeUserGroups:!a}))},isEnabled:function(){return!0},metricsName:"activity"})}),x=function(e){switch(e.type){case"at":case"channel":case"everyone":case"user_group":case"word":return{channelId:e.channel,message:e.message,ts:e.message.ts,type:e.type};case"reaction":return{channelId:e.item.channel,message:e.item.message,ts:e.ts,type:e.type};default:return Object(j.b)().error("bulkAddActivityItems: unknown item type",e),null}},M=function(e,t,n){return Object(l.a)(e,function(e){return!!e&&(e.message?e.message.ts===n&&e.message.channel===t:e.messageTs===n&&e.channelId===t)})},P=Object(g.b)("Adds multiple activity items");P.propTypes={hasMore:m.b.bool,items:m.b.arrayOf(m.b.object).isRequired};var A=Object(g.b)("Remove an item by messageTs");A.propTypes={channelId:m.b.string.isRequired,messageTs:m.b.string.isRequired};var D=Object(g.b)("Remove all items that match type");D.propTypes=m.b.string.isRequired;var L=Object(g.b)("Sets if activity is loading");L.propTypes=m.b.bool.isRequired;var q=Object(g.b)("Reset the activity store");q.propTypes=null;var F={hasMore:!1,items:[],isLoading:!1},B=Object(_.b)((I={},a()(I,P,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasMore,r=t.items;if(Object(p.a)(r))return e;var a=r.filter(function(e){return!!e&&(!e.message||!Object(R.sb)(e.message))}).map(function(e){var t=x(e),n=t.channelId,r=t.message,a=t.ts,i=t.type;return{channelId:n,messageTs:r.ts,threadTs:r.thread_ts,ts:a,type:i}}),i=Object(h.a)(e.items.concat(a)),l=Object(c.a)(i,"ts",["desc"]),u=Object(s.a)(l,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageTs;return"reaction"===e.type?"reaction-"+t:"mention-"+t});return o()({},e,{hasMore:n,items:u})}),a()(I,A,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTs,a=Object(u.a)(e.items,{channelId:n,messageTs:r});return a.length===e.items.length?e:o()({},e,{items:a})}),a()(I,D,function(e,t){var n=e.items.filter(function(e){return e.type!==t});return n.length===e.items.length?e:o()({},e,{items:n})}),a()(I,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.isLoading===t?e:o()({},e,{isLoading:t})}),a()(I,q,function(){return F}),I),F,{persistenceEnabled:!0});B.propTypes={items:m.b.arrayOf(m.b.shape({channelId:m.b.string.isRequired,messageTs:m.b.string.isRequired,threadTs:m.b.string,ts:m.b.string.isRequired,type:m.b.string.isRequired})),isLoading:m.b.bool};t.a=B;var U=Object(y.b)(function(e){var t=Object(w.b)(e);return N().maybeRefetch(t,"activity"),e&&e.activity&&e.activity.items}),H=Object(y.b)(function(e){return e&&e.activity&&!!e.activity.isLoading}),K=Object(y.b)(function(e){return e&&e.activity&&!!e.activity.hasMore}),G=Object(O.b)("Fetch user activity",function(e,t,n){return e(L(!0)),e(C(o()({reason:"fetchActivityMentions"},n))).then(function(n){e(P({hasMore:n.has_more,items:n.mentions}));var r=Object(b.a)(n.mentions,x);r.forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelId,r=t.message;e(Object(T.a)({channelId:n,message:r}))});var a=t(),i=Object(w.b)(a);return N().markObjectsAsFresh(i,["activity"]),r}).finally(function(){e(L(!1))})});G.propTypes={afterTs:m.b.string,includeAtChannel:m.b.bool,includeReactions:m.b.bool,includeUserGroups:m.b.bool,limit:m.b.number};var V=Object(O.b)("Fetch a specific activity mention item by timestamp",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTs,i=n.retryNum,o=void 0===i?0:i,s=n.maxRetries,c=void 0===s?5:s,l=t(),u=Object(j.a)({state:l,label:"ACTIVITY_STORE"});if(!a)return u.info("no messageTs provided"),Promise.reject(new Error("no messageTs provided"));if(M(U(l),r,a))return u.info("Fetch "+a+": already have item"),Promise.resolve();if(o>=c)return u.info("Fetch "+a+": aborted after max retries"),Promise.reject(new Error("aborted after max retries"));var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return Promise.delay(1e3*(t||1)).then(function(){return e(V({channelId:r,maxRetries:c,messageTs:a,retryNum:t}))})};return H(l)?d():(u.info("Fetch "+a+": fetching activity (retry "+o+")"),e(G({limit:10})).then(function(e){return M(e,r,a)?(u.info("Fetch "+a+": found item"),Promise.resolve()):d(o+1)}))});V.propTypes={channelId:m.b.string.isRequired,maxRetries:m.b.number,messageTs:m.b.string.isRequired,retryNum:m.b.number}},u2vH:function(e,t,n){"use strict";var r=n("1zbP"),a=n("5mKg"),i=n("D4L/"),o=n("DtX9"),s=n("uf9I");var c=function(e,t){if(e.length<=t)return e;var n=e.substring(0,t),r=n.lastIndexOf(" ");return r>0&&r>t-15?n.substring(0,r)+"\u2026":n.substring(0,n.length-1)+"\u2026"},l=function(e){return e.trim().split(/\s+/).length},u=n("Fdc0"),d=n("bHK9"),b=n("K7CU"),p=n("qkTT"),h=n("V/As");n.d(t,"H",function(){return m}),n.d(t,"G",function(){return f}),n.d(t,"C",function(){return v}),n.d(t,"F",function(){return g}),n.d(t,"D",function(){return _}),n.d(t,"l",function(){return O}),n.d(t,"n",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"r",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"t",function(){return C}),n.d(t,"p",function(){return I}),n.d(t,"w",function(){return w}),n.d(t,"m",function(){return S}),n.d(t,"a",function(){return T}),n.d(t,"f",function(){return R}),n.d(t,"h",function(){return x}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return P}),n.d(t,"o",function(){return A}),n.d(t,"k",function(){return D}),n.d(t,"u",function(){return L}),n.d(t,"q",function(){return q}),n.d(t,"B",function(){return F}),n.d(t,"g",function(){return B}),n.d(t,"i",function(){return U}),n.d(t,"j",function(){return H}),n.d(t,"s",function(){return K}),n.d(t,"x",function(){return G}),n.d(t,"I",function(){return V}),n.d(t,"z",function(){return z}),n.d(t,"y",function(){return Y}),n.d(t,"E",function(){return W}),n.d(t,"A",function(){return Q}),n.d(t,"v",function(){return X});var m=function(e){return!(!e||"xoxa"!==e.app_type)},f=function(e){return!(!e||"slack"!==e.app_type)},v=function(e){return!(!e||"custom_integration"!==e.app_type)},g=function(e){return!!(e&&e.directory_profile&&e.directory_profile.is_published)},_=function(e){return!!(e&&e.directory_profile&&e.directory_profile.is_distributed)},O=function(e){return e&&e.app_id},y=function(e){return e&&e.profile&&e.profile.name},j=function(e){return e&&e.profile&&e.profile.color},k=function(e){return e&&e.profile&&e.profile.tagline},E=function(e){return e&&e.profile&&e.profile.custom_integration_type},C=function(e){return e&&e.app_type},I=function(e){return e&&e.service_id},w=function(e){return e&&e.installation&&e.installation.installer_user_id},S=function(e){return e&&e.installation&&e.installation.memberships_count||0},T=function(e){return e&&e.auth_summary_list},R=function(e){return e&&e.installation&&e.installation.date_created},N=function(e){return e&&e.home_workspace_id},x=function(e){return e&&"custom_integration"===C(e)&&e.profile&&e.profile.icons&&e.profile.icons.emoji?e.profile.icons.emoji:null},M=function(e,t){var n=N(t)||Object(i.d)(e).id,r=x(t);return r?Object(d.g)(e,{text:r,teamId:n,emojiMode:Object(b.h)(e,{forceDisplay:!0}),emojiSize:p.a.LARGE}):Object(h.a)(t.profile,192)},P=function(e){return e&&e.commands||[]},A=function(e){return e&&e.directory_profile&&e.directory_profile.screenshots||[]},D=function(e){return e&&e.directory_profile&&e.directory_profile.home_url},L=function(e){return e&&e.directory_profile&&e.directory_profile.youtube_url},q=function(e){return e&&e.directory_profile&&e.directory_profile.support_url},F=function(e){var t=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);return void 0!==t[2]?t[2].split(/[^0-9a-z_-]/i)[0]:""},B=function(e){return e&&e.profile&&e.profile.description||""},U=function(e){return e&&e.profile&&e.profile.formattedDescription||""},H=function(e,t){var n=N(t);if(n){var o=Object(i.i)(e,n);return Object(r.b)(o)?Object(a.e)(o):void 0}},K=function(e){return c(B(e),350)};function G(e,t){var n=Object(o.b)(e),r=w(t);return n&&n.id===r}function V(e){var t=!P(e),n=A(e)&&L(e);return f(e)&&t||l(B(e)||"")<350||!n&&t}function z(e,t){if(!t)return"";var n=O(t),r=N(t),o=I(t),s=Object(i.i)(e,r),c=Object(a.o)(s,"/apps/"+n);return o&&(c=Object(a.o)(s,"/services/"+o)),c}function Y(e,t){if(!t)return"";var n=O(t),r=N(t),o=Object(i.i)(e,r);return o&&n&&Object(a.o)(o,"/apps/"+n)}function W(e,t){return Object(s.b)(e)!==N(t)}function Q(e,t){if(!t)return!1;var n=W(e,t),r=I(t),a=f(t),i=!(n||!r&&a),s=Object(o.b)(e);return(Object(u.xb)(s)||Object(u.Db)(s))&&(i=!1),r&&S(t)<1&&a&&(i=!1),i}function X(e,t){if(!t)return null;var n=W(e,t),r=N(t);return n?Object(i.i)(e,r):null}},u4Vc:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="ConnectedKeyboardShortcutPrompt"},u7Kl:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("oTSI"),a=n("peh1"),i=n("clTI"),o=n("DtX9"),s=n("VjHM"),c=n("FN36"),l=n("HO/Y"),u=n("aW/o"),d=n("P9LH"),b=n("Fdc0"),p=n("ICFZ"),h=n("0iF4"),m=Object(a.createSelector)([function(e){return Object(l.i)(e)},function(e){return Object(l.l)(e)},function(e){return Object(i.d)(e,Object(u.a)(e))},function(e){return Object(o.b)(e)},function(e,t){return t&&t.user&&Object(b.mb)(e,t.user)},function(e){return Object(c.a)(e,"disallow_public_file_urls")},function(e){return Object(c.a)(e,"disable_file_deleting")},function(e){return Object(c.a)(e,"disable_file_editing")},function(e){return Object(s.g)(e,"dropbox_enabled")}],function(e,t,n,a,i,o,s,c,l){return Object(r.a)(function(r){if(!r)return null;if(!a)return null;var u=a.id,m=r.user===u,f=r.is_public||m;return{share:f,share_private_file:!f,comment:!0,create_public_link:!r.public_url_shared&&"external"!==r.mode&&!Object(b.xb)(a)&&!o&&(r.is_public||m),revoke_public_link:r.public_url_shared&&!Object(b.xb)(a)&&!o&&(Object(b.X)(a)||m),download:"hosted"===r.mode||"snippet"===r.mode,open_original:Object(d.e)(r)||"pdf"===r.filetype||"external"===r.mode||"snippet"===r.mode||"email"===r.mode,print:t&&["post","snippet","space","email","docs"].includes(r.mode),learn_more:"space"===r.mode&&!("USLACKBOT"===r.user&&"Getting_Started_with_Posts"===r.name),new_window:"space"===r.mode||"docs"===r.mode,delete_file:(m||Object(b.X)(a)&&!i)&&!s&&!r.is_tombstoned,edit:["snippet","post","space","docs"].includes(r.mode)&&(m||"space"===r.mode&&"locked"!==r.state)&&!c&&!r.is_tombstoned,edit_title:m&&("hosted"===r.mode||"email"===r.mode)&&!c&&!r.is_tombstoned,copy_file_link:Object(p.a)(),refresh:Object(d.h)(r)&&(m||Object(b.X)(a)),save_to_dropbox:"hosted"===r.mode&&window.Dropbox&&window.Dropbox.isBrowserSupported()&&l,unpin_file:n&&e&&Object(h.a)(n)&&r.pinned_to&&r.pinned_to.includes(n.id),pin_file:n&&e&&Object(h.a)(n)&&!(r.pinned_to&&r.pinned_to.includes(n.id))&&(r.channels&&r.channels.includes(n.id)||r.groups&&r.groups.includes(n.id)||r.ims&&r.ims.includes(n.id)),rxn_file:!0,remove_pdf_preview:Object(d.b)(r)&&m}})});function f(e,t){return m(e,t)(t)}},u8wn:function(e,t,n){"use strict";var r=n("mM05"),a=n.n(r),i=n("+z37"),o=n("c72F"),s=n("hOQf"),c=n("YEIV"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("NFsq"),p=n("x91h"),h=n("qAkX"),m=n("DtX9"),f=n("pGee"),v=n("clTI"),g=n("Y+74"),_=n("Fdc0"),O=n("DQNL"),y=n("6kok"),j=n("ITcr"),k=n("fCVm"),E=n("rqfA"),C=n("TmhL");function I(e,t){var n=e.inlineStyles;return"<B:START>"===t?n.bold=!0:"<B:END>"===t?delete n.bold:"<I:START>"===t?n.italic=!0:"<I:END>"===t?delete n.italic:"<CODE:START>"===t?n.code=!0:"<CODE:END>"===t?delete n.code:"<STRIKE:START>"===t?n.strike=!0:"<STRIKE:END>"===t?delete n.strike:"<LINK:START"===t.slice(0,11)?n.link=t.slice(12,-1):"<LINK:END>"===t&&delete n.link,d()({},e,{inlineStyles:n})}function w(e,t,n){return n.insert("\n",e.blockStyle?l()({},e.blockStyle,!0):{}),"<PARA:BREAK>"===t&&n.insert("\n",e.blockStyle&&!e.endBlockStyleOnNextLineBreak?l()({},e.blockStyle,!0):{}),n}function S(e,t,n,r){var a=Object(g.a)(e),i=n.slice(2,-1),o=Object(m.c)(e,i),s="@"+Object(_.w)(o);return r.insert(s,d()({},t.inlineStyles,{slackmention:{id:i,label:s,mention:Object(C.a)(i,s,a)}})),r}function T(e,t,n,r){var a=n.slice(2,-1).split("|"),i=Object(v.d)(e,a[0]);return r.insert("#"+Object(y.x)(e,i,{publicChannelIncludeHashSign:!1}),t.inlineStyles),r}function R(e,t,n,r){var a=n.slice(2,-1).split("|")[0].split("^"),i=a[0];if(Object(b.a)(["here","channel","everyone"],i)){var o=Object(j.a)("BK"+i),s="@"+Object(j.b)(o);r.insert(s,d()({},t.inlineStyles,{slackmention:{id:"BK"+i,label:s,mention:!0}}))}else if("subteam"===i){var c=Object(g.a)(e),l=Object(f.e)(e,a[1]),u=Object(O.f)(l);r.insert(u,d()({},t.inlineStyles,{slackmention:{id:l.id,label:u,mention:Object(C.a)(l.id,u,c)}}))}return r}function N(e){return"<PRE:START>"===e?"code-block":"<QUOTE:START>"===e||"<LONGQUOTE:PREFIX>"===e?"blockquote":null}function x(e,t,n){var r=n.featureWysiwygComposer;return r&&Object(s.jb)(t)?Object(o.a)(e,t.blocks):r&&!Object(s.jb)(t)?function(e,t){var n=new a.a;if(!t)return n;for(var r=Object(k.b)(t,"NORMAL"),i=["<LINE:BREAK>","<PARA:BREAK>"],o=["<PRE:START>","<QUOTE:START>","<LONGQUOTE:PREFIX>"],s=["<PRE:END>","<QUOTE:END>"],c={inlineStyles:{},blockStyle:null,endBlockStyleOnNextLineBreak:!1},l=0;l<r.length;l++){var u=r[l],d=l===r.length-1;"<"===u.slice(0,1)?(c=I(c,u),Object(b.a)(i,u)&&(n=w(c,u,n),c.endBlockStyleOnNextLineBreak&&(c.endBlockStyleOnNextLineBreak=!1,c.blockStyle=null),Object(b.a)(s,r[l+1])&&(c.blockStyle=null)),Object(b.a)(o,u)&&(l>0&&!Object(b.a)(i,r[l-1])&&!Object(b.a)(s,r[l-1])&&(n=w(c,"<LINE:BREAK>",n)),c.blockStyle=N(u)),Object(b.a)(s,u)&&(Object(b.a)(i,r[l-1])||Object(b.a)(i,r[l+1])?d||(c.endBlockStyleOnNextLineBreak=!0):(n=w(c,"<LINE:BREAK>",n),c.blockStyle=null)),"<SPACE:HARD>"===u&&n.insert(" ",c.inlineStyles),"<EMOJI:COLONS"===u.slice(0,13)&&n.insert({slackemoji:{text:u.slice(14,-1)}},c.inlineStyles),"<@"===u.slice(0,2)&&(n=S(e,c,u,n)),"<#"===u.slice(0,2)&&(n=T(e,c,u,n)),"<!"===u.slice(0,2)&&(n=R(e,c,u,n))):n.insert(Object(p.a)(u),c.inlineStyles)}var m=Object(h.a)(n.ops);return Object(E.a)(m)&&"\n"===m.insert.slice(-1)||(n=w(c,"<LINE:BREAK>",n)),n}(e,t.text||""):new a.a(Object(i.a)(e,{text:t.text||""}).contents)}n.d(t,"a",function(){return x})},u97G:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=new(n("nNoG").b)("threads");function a(){return r.t("replied to a thread:")}},u9my:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.menu.app.startWithApp",r.a)},"uA1+":function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("DTT0"),c=n("iCc5"),l=n.n(c),u=n("V7oC"),d=n.n(u),b=n("FYw3"),p=n.n(b),h=n("mRg0"),m=n.n(h),f=n("ifKl"),v=n("7EGn"),g=n("tn36"),_=n("XHGt"),O=n("nNoG"),y=n("clTI"),j=n("6kok"),k=n("wfE8"),E=n("Fdc0"),C=n("HO/Y"),I=n("DtX9"),w=n("U3Q0"),S=n("WD4z"),T=new O.b("channels"),R=(i.b.string.isRequired,i.b.bool,i.b.string.isRequired,i.b.oneOf(["im","mpim","private","channel"]),i.b.object,i.b.func,i.b.func,i.b.bool,{closeModal:f.a,channelType:"channel",currentMember:f.a,submitArchive:f.a,andLeave:!1,featureSonicInputs:!1}),N=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(g.a)(n,["handleGo"]),n.state={error:null,isPending:!1},n}return m()(t,e),d()(t,[{key:"handleGo",value:function(){var e=this,t=this.props.channelId;this.setState(function(){return{isPending:!0}}),this.props.submitArchive({channelId:t}).then(function(){return e.props.closeModal()}).catch(function(t){e.setState(function(){return{error:Object(v.a)(t,"data.error")||t.message,isPending:!1}})})}},{key:"renderError",value:function(){var e=this.props,t=e.andLeave,n=e.channelType,r=e.currentMember,a=e.featureSonicInputs,i=this.state.error;switch(i){case"last_ra_channel":return Object(E.X)(r)?T.t("Sorry, you can\u2019t archive this channel because it is the only channel one of the guest account members belongs to. If you first disable the guest account, you will then be able to archive the channel."):T.t("Sorry, you can\u2019t archive this channel because it is the only channel one of the guest account members belongs to.");case"restricted_action":case"user_is_restricted":return t?a?T.t("Since you\u2019re the last one here, you\u2019ll need to invite an admin and ask them to archive the channel."):"":"private"===n?a?T.t("You don\u2019t have permission to archive private channels. Talk to your Workspace Owner."):"":T.t("You don\u2019t have permission to archive channels. Talk to your Workspace Owner.");case"already_archived":return T.t("This channel was already archived.");case"cant_archive_general":return T.t("This channel cannot be archived.");default:return T.t("Archiving failed with error: {error}",{error:i})}}},{key:"render",value:function(){var e=this.props,t=e.andLeave,n=e.channelName,r=e.featureSonicInputs,i=this.state,o=i.error,s=i.isPending,c=T.t("Archive {channelName}",{channelName:n});t&&r&&(c=T.t("Leave and archive {channelName}",{channelName:n}));var l=T.t("Yes, archive the channel");return t&&r&&(l=T.t("Yes, leave & archive the channel")),a.a.createElement(w.a,{goButtonIsDisabled:!!o,goButtonIsPending:s,goButtonText:l,onGo:this.handleGo,shouldCloseOnGo:!1,title:c},a.a.createElement("p",null,T.t("Archiving is useful if you don\u2019t think you\u2019ll need this channel any longer. Here\u2019s what will happen when you archive this channel:")),a.a.createElement("ul",null,a.a.createElement("li",null,T.t("No one will be able to send messages to it")),a.a.createElement("li",null,T.t("Apps installed in this channel will be disabled")),a.a.createElement("li",null,T.t("A message will be posted that you archived the channel"))),a.a.createElement("p",null,T.t("Messages from archived channels will still show up in search and archives, the same way they do today. You can always un-archive an archived channel later, if you need it again.")),a.a.createElement("p",{className:"no_margin"},T.t("Are you sure you want to archive {channelName}?",{channelName:n})),o&&a.a.createElement(S.a,{className:"margin_top_100 margin_bottom_0",level:"error"},this.renderError()))}}]),t}(a.a.Component);N.displayName="ArchiveDialog",N.defaultProps=R;var x={closeModal:function(){return s.a.apply(void 0,arguments)},submitArchive:function(){return k.z.apply(void 0,arguments)}},M=Object(_.b)(function(e,t){var n=t.channelId,r=Object(y.d)(e,n);return{channelName:Object(j.x)(e,r),channelType:Object(j.v)(r),currentMember:Object(I.b)(e),featureSonicInputs:Object(C.j)(e,"feature_sonic_inputs")}},x)(N),P=Object(o.b)("Open the ArchiveDialog component",function(e,t,n){e(Object(s.e)({element:a.a.createElement(M,n)}))});P.propTypes={channelId:i.b.string.isRequired};t.a=P},uI5u:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("kxpR"),m=n.n(h),f=n("aK/h"),v=n("nNoG"),g=n("TSYQ"),_=n.n(g),O=n("tn36"),y=n("VymY"),j=n("18Pa"),k=n("lfjV"),E=(n("K1NN"),new v.b("sk_banner")),C=(f.b.oneOf(["info","success","warning","urgent","neutral"]),f.b.any.isRequired,f.b.bool,f.b.bool,f.b.number,f.b.string,f.b.bool,f.b.string,f.b.func,f.b.func,f.b.func,{type:"success",showCloseButton:!0,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:p.a,onFocus:p.a,onBlur:p.a}),I=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isShowing:!0,opacity:1},Object(O.a)(n,["handleCloseButtonClick","focus"]),n.handleCloseButtonClick=n.handleCloseButtonClick.bind(n),n.cancelAnimation=p.a,n.banner=m.a.createRef(),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.fadeOutMaybe()}},{key:"componentWillUnmount",value:function(){this.cancelAnimation()}},{key:"handleCloseButtonClick",value:function(){var e=this.props.onClose;this.setState(function(){return{isShowing:!1}}),e()}},{key:"fadeOutMaybe",value:function(){var e=this,t=this.props,n=t.autoFadeout,r=t.onClose;if(n){var a=Object(k.a)({delay:2e3,fromValue:1,toValue:0,duration:2e3,easing:"easeOutQuad",onTick:function(t){var n=t.value,r=t.nextTick;e.setState(function(){return{opacity:n}}),r()},onComplete:function(){e.setState(function(){return{isShowing:!1}}),r()}});this.cancelAnimation=a.cancel}}},{key:"focus",value:function(){var e=Object(y.b)(this.banner.current);e&&e.focus()}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.children,i=t.showCloseButton,o=t.topOffset,s=t.className,c=t.isFixedPosition,l=t["data-qa"],u=this.state,d=u.isShowing,b=u.opacity;if(!d)return!1;var p=_()("c-banner",(e={},a()(e,"c-banner--"+n,!!n),a()(e,"c-banner--fixed",c),e),s),h="warning"!==n?"dark":void 0;return m.a.createElement("div",{role:"alert",className:p,style:{top:o,opacity:b},"data-qa":l,ref:this.banner,onFocus:this.props.onFocus,onBlur:this.props.onBlur},m.a.createElement("div",{className:"c-banner__text"},r),i&&m.a.createElement(j.a,{className:"c-banner__close",icon:"times",onClick:this.handleCloseButtonClick,backgroundStyle:h,"aria-label":E.t("Dismiss")}))}}]),t}(h.PureComponent);I.displayName="Banner",I.defaultProps=C,I.displayName="Banner";var w=I;t.a=w},uLbz:function(e,t){},uOc9:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HO/Y"),a=n("TM4O");function i(e){return Object(r.j)(e,"feature_flannel_xhr")||Object(a.a)()}},uWmS:function(e,t,n){"use strict";n.d(t,"k",function(){return E}),n.d(t,"i",function(){return C}),n.d(t,"j",function(){return I}),n.d(t,"g",function(){return w}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return R}),n.d(t,"f",function(){return N}),n.d(t,"h",function(){return x}),n.d(t,"e",function(){return A}),n.d(t,"d",function(){return D});var r,a=n("YEIV"),i=n.n(a),o=n("m1cH"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("CpTu"),d=n("NFsq"),b=n("HI9p"),p=n("aK/h"),h=n("EzZj"),m=n("MNvw"),f=n("U/ze"),v=n("XfeM"),g=n("VjHM"),_=n("AfrZ"),O=n("yHhI"),y=!1,j="folder_data",k={list:[],currentlyRenamingFolder:null},E=Object(h.b)("Toggle between collapse and showing channels");E.propTypes={name:p.b.string.isRequired};var C=Object(h.b)("Set collapsed state for all folders");C.propTypes={isCollapsed:p.b.bool.isRequired};var I=Object(h.b)("Set a folder's renaming state to true");I.propTypes={name:p.b.string.isRequired};var w=Object(h.b)("Rename a folder");w.propTypes={oldName:p.b.string.isRequired,newName:p.b.string.isRequired};var S=Object(h.b)("Create a new folder");S.propTypes=null;var T=Object(h.b)("Set all folder data (from storage)");T.propTypes=p.b.array.isRequired;var R=Object(h.b)("Drag a folder or channel onto a folder or channel");R.propTypes={src:p.b.object.isRequired,dest:p.b.object};var N=Object(v.b)("Set Folder Data From LocalStorage",function(e,t){var n=Object(g.g)(t(),j);n||(y=!0,n=localStorage.getItem(j));var r=void 0;try{r=JSON.parse(n)}catch(e){r=null}r&&0!==r.length||(r=k.list),e(T(r))});N.propTypes=null;var x=Object(v.b)("Set Folder Data From LocalStorage",function(e,t){var n=t().channelSidebarFolders.list,r=JSON.stringify(n);if(y)try{localStorage.setItem(j,r)}catch(e){Object(O.a)({getState:t}).error("CHANNEL_SIDEBAR_FOLDERS","Unable to store channel sidebar folder data to localStorage because localStorage is full")}else e(Object(_.f)({pref:j,value:r}))});x.propTypes=null;var M=function(e,t){for(var n=!0,r=1,a=void 0,i=function(e){return e.name===a};n;)a=1===r?t:t+" ("+r+")",n=e.list.find(i),r+=1;return a},P=Object(m.b)((r={},i()(r,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l()({},e,{list:t})}),i()(r,E,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name;return l()({},e,{list:e.list.map(function(e){return e.name===t?l()({},e,{isCollapsed:!e.isCollapsed}):e}),currentlyRenamingFolder:null})}),i()(r,C,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isCollapsed;return l()({},e,{list:e.list.map(function(e){return l()({},e,{isCollapsed:t})}),currentlyRenamingFolder:null})}),i()(r,w,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.oldName,r=t.newName;return l()({},e,{list:r?e.list.map(function(t){return t.name===n&&n!==r?l()({},t,{name:M(e,r)}):t}):e.list.filter(function(e){return e.name!==n}),currentlyRenamingFolder:null})}),i()(r,I,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name;return l()({},e,{currentlyRenamingFolder:t})}),i()(r,S,function(e){return l()({},e,{currentlyRenamingFolder:M(e,"New Collection"),list:[{name:M(e,"New Collection"),isCollapsed:!0,channelIds:[]}].concat(s()(e.list))})}),i()(r,R,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,r=t.dest;if("channel"===n.type){if(r&&"channel"===r.type&&n.id===r.id)return e;var a=Object(b.a)(e.list,function(e){return Object(d.a)(e.channelIds,n.id)}),i=-1===a?-1:e.list[a].channelIds.indexOf(n.id),o=-1,c=-1;if(r&&"folder"===r.type?(o=Object(b.a)(e.list,{name:r.id}),c=0):r&&"channel"===r.type&&(o=Object(b.a)(e.list,function(e){return Object(d.a)(e.channelIds,r.id)}),c=-1===o?-1:e.list[o].channelIds.indexOf(r.id)),a===o&&i===c)return e;var u=l()({},e,{list:e.list.map(function(e){return l()({},e,{channelIds:e.channelIds.filter(function(e){return e!==n.id})})})});return-1===o?u:l()({},u,{list:u.list.map(function(e,t){return t!==o?e:l()({},e,{isCollapsed:0!==e.channelIds.length&&e.isCollapsed,channelIds:[].concat(s()(e.channelIds.slice(0,c)),[n.id],s()(e.channelIds.slice(c)))})})})}if("folder"===n.type&&r){var p=void 0;if(-1===(p="folder"===r.type?Object(b.a)(e.list,{name:r.id}):Object(b.a)(e.list,function(e){return Object(d.a)(e.channelIds,r.id)})))return e;var h=Object(b.a)(e.list,{name:n.id});if(h===p)return e;var m=l()({},e,{list:[].concat(s()(e.list.slice(0,h)),s()(e.list.slice(h+1)))});return m.list=[].concat(s()(m.list.slice(0,p)),[e.list[h]],s()(m.list.slice(p))),m}return e}),r),k,{persistenceEnabled:!0});P.propTypes={list:p.b.arrayOf(p.b.shape({name:p.b.string.isRequired,isCollapsed:p.b.bool.isRequired,channelIds:p.b.arrayOf(p.b.string).isRequired})),currentlyRenamingFolder:p.b.string},t.b=P;var A=Object(f.b)(function(e){return e&&e.channelSidebarFolders&&e.channelSidebarFolders.list}),D=Object(f.b)(function(e,t){return e&&e.channelSidebarFolders&&l()({},Object(u.a)(e.channelSidebarFolders.list,{name:t}),{isRenaming:e.channelSidebarFolders.currentlyRenamingFolder===t})})},uXCg:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("QbLZ"),a=n.n(r),i=n("zmn3"),o=n("ifKl"),s=n("XIp8"),c=n("GQZf").a.LIST;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;if(!e||!e.length)return e;var n=Object(s.a)(e);return Object(i.a)(n,function(e){if(!e)return e;if(e.type===c){var n=e.elements,r=Object(i.a)(n,function(e){return t(e)});return a()({},e,{elements:r})}return t(e)})}},ubOb:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("kxpR"),v=n.n(f),g=(n("aK/h"),n("NcDR"));t.a=function(e){var t=function(t){function n(e){c()(this,n);var t=b()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onFocus=t.onFocus.bind(t),t.onBlur=t.onBlur.bind(t),t.onMutation=t.onMutation.bind(t),t.state={hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1},t.mutationObserver=null,t}return h()(n,t),u()(n,[{key:"componentDidUpdate",value:function(e,t){if(this.focusedElement){var n=this.props.hasKeyboardFocus;!n||t.hasKeyboardFocus||t.hasKeyboardFocusWithin||this.setFocus(),n||!t.hasKeyboardFocus&&!t.hasKeyboardFocusWithin||this.clearFocus()}}},{key:"componentWillUnmount",value:function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}},{key:"onMutation",value:function(e){var t=this;e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e.contains(t.focusedElement)})})&&(this.focusedElement=null,this.setState(function(){return{hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1}}))}},{key:"onFocus",value:function(e){var t=e.target,n=e.currentTarget;this.node=n,this.focusedElement=t,this.props.hasKeyboardFocus&&this.setFocus(),this.props.onFocus&&(e.persist(),this.props.onFocus(e))}},{key:"onBlur",value:function(e){var t=e.currentTarget,n=e.relatedTarget;t.contains(n)||this.clearFocus(),this.props.onBlur&&(e.persist(),this.props.onBlur(e))}},{key:"setFocus",value:function(){var e=this.node===this.focusedElement,t=this.node!==this.focusedElement&&this.node.contains(this.focusedElement);this.setState(function(){return{hasKeyboardFocus:e,hasKeyboardFocusWithin:t}}),this.mutationObserver||(this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.node,{childList:!0,subtree:!0}))}},{key:"clearFocus",value:function(){this.focusedElement=null,this.setState(function(){return{hasKeyboardFocus:!1,hasKeyboardFocusWithin:!1}}),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}},{key:"render",value:function(){var t=this.state,n=t.hasKeyboardFocus,r=t.hasKeyboardFocusWithin,i=this.props,s=i.forwardedRef,c=o()(i,["forwardedRef"]);return v.a.createElement(e,a()({ref:s},c,{hasKeyboardFocus:n,hasKeyboardFocusWithin:r,onFocus:this.onFocus,onBlur:this.onBlur}))}}]),n}(f.PureComponent);return t.displayName="KeboardFocusPropsProvider",t.defaultProps={children:null,hasKeyboardFocus:!1,forwardedRef:void 0,onFocus:m.a,onBlur:m.a},Object(g.a)(v.a.forwardRef(function(e,n){return v.a.createElement(t,a()({},e,{forwardedRef:n}))}))}},ucyx:function(e,t,n){},udbT:function(e,t,n){"use strict";var r=n("jo6Y"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("aK/h"),v=n("kxpR"),g=n.n(v),_=n("tn36"),O=n("TSYQ"),y=n.n(O),j=n("llxT"),k=n("vakV"),E=n("ohM/"),C=n("VMwU"),I=n("i7LB"),w=n("sk9p"),S=n.n(w),T=n("vht4"),R=n("frt6"),N=n("qGgp"),x=(f.b.string,f.b.string.isRequired,f.b.bool,f.b.func.isRequired,function(e){function t(e){c()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStateFromHex(e.value),Object(_.a)(n,["handleSVChange","handleHueChange","handleOpacityChange"]),n}return h()(t,e),b()(t,[{key:"getStateFromHex",value:function(e){var t=this.props.alpha,n=Object(C.e)(e),r=S()(n,4),a=r[0],i=r[1],o=r[2],s=r[3];return{hue:a,saturation:i,brightness:o,opacity:t?s:1}}},{key:"getHexFromState",value:function(e){var t=this.props.alpha,n=e.hue,r=e.saturation,a=e.brightness,i=e.opacity,o=[n,r,a];return Object(C.g)(t?[].concat(o,[i]):o).substr(1)}},{key:"handleChange",value:function(e){var t=this;this.setState(function(t){return o()({},t,e)},function(){var e=t.getHexFromState(t.state);t.props.onChange(e)})}},{key:"handleSVChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.saturation,n=e.brightness;this.handleChange({saturation:t,brightness:n})}},{key:"handleHueChange",value:function(e){this.handleChange({hue:e})}},{key:"handleOpacityChange",value:function(e){this.handleChange({opacity:e})}},{key:"maybeRenderOpacitySlider",value:function(){if(!this.props.alpha)return null;var e=this.state,t=e.hue,n=e.saturation,r=e.brightness,a=e.opacity,i=Object(C.g)([t,n,r]).slice(1);return g.a.createElement(N.a,{color:i,value:a,onChange:this.handleOpacityChange})}},{key:"render",value:function(){var e=this.props.className,t=this.state,n=t.hue,r=t.saturation,a=t.brightness;return g.a.createElement("div",{className:e},g.a.createElement(T.a,{hue:n,value:{saturation:r,brightness:a},onChange:this.handleSVChange}),g.a.createElement(R.a,{value:n,onChange:this.handleHueChange}),this.maybeRenderOpacitySlider())}}]),t}(v.PureComponent));x.displayName="HSVPicker",x.defaultProps={className:"",alpha:!1};var M=x,P=(n("yhoe"),"FFFFFF00"),A=-4,D=-4,L=(f.b.string.isRequired,f.b.bool,f.b.func,f.b.func,f.b.func,f.b.func,f.b.string,f.b.string,{alpha:!1,onChange:m.a,onClose:m.a,onBlur:m.a,onFocus:m.a,"data-qa":"color_picker",position:"bottom-left"}),q=function(e){return e&&e.stopPropagation()},F=function(e){function t(e){c()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.value,a=e.alpha,i=Object(C.j)(r,a)||Object(C.j)(P,a);return n.state={inputValue:i,lastNormalizedValue:i,invalid:!1,focused:!1},n.inputRef=g.a.createRef(),Object(_.a)(n,["focus","handleContainerClick","handleInputFocus","handleInputBlur","handleInputChange","handleHSVChange","renderPopover"]),n}return h()(t,e),b()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value,r=e.alpha;if(t.focused)return null;var a=Object(C.j)(n,r);return a?{inputValue:a,lastNormalizedValue:a}:null}}]),b()(t,[{key:"focus",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"maybeTriggerOnChange",value:function(e){var t=this.props.value;e&&t!==e&&this.props.onChange(e)}},{key:"handleContainerClick",value:function(){this.state.focused||this.setState(function(){return{focused:!0}},this.focus)}},{key:"handleInputFocus",value:function(e){this.state.focused||(this.setState(function(){return{focused:!0}}),this.props.onFocus&&(e.persist(),this.props.onFocus(e)))}},{key:"handleInputBlur",value:function(e){this.setState(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).lastNormalizedValue;return{inputValue:e,invalid:!e,focused:!1}}),this.props.onBlur&&(e.persist(),this.props.onBlur(e))}},{key:"handleInputChange",value:function(e){var t=e.target.value,n=Object(C.j)(t);this.setState(function(e){return{inputValue:t,lastNormalizedValue:n||e.lastNormalizedValue,invalid:!n}}),this.maybeTriggerOnChange(n)}},{key:"handleHSVChange",value:function(e){var t=Object(C.j)(e);this.setState(function(){return{lastNormalizedValue:t,inputValue:t,invalid:!t}}),this.maybeTriggerOnChange(t)}},{key:"renderPopover",value:function(e){var t=this.props,n=t.alpha,r=t.value,a=this.props.position.includes("top")?-D:D;return g.a.createElement(k.a,o()({},e,{position:this.props.position,offsetX:A,offsetY:a}),g.a.createElement(M,{className:"c-color_picker__popover",value:r,alpha:n,onChange:this.handleHSVChange}))}},{key:"renderColorBlock",value:function(){var e={background:"#"+this.state.lastNormalizedValue},t=this.props["data-qa"]&&this.props["data-qa"]+"_color_block";return g.a.createElement("span",{className:"c-color_picker__color_block_container",role:"presentation",onClick:q},g.a.createElement(E.a,{onClose:this.props.onClose,renderPopover:this.renderPopover,onClick:this.setHSVFromValue},g.a.createElement(j.a,{className:"c-color_picker__color_block",style:e,"data-qa":t})))}},{key:"render",value:function(){var e=this.props,t=(e["data-qa"],e.value,e.alpha),n=(e.onChange,e.onClose,e.onBlur,e.onFocus,e.position,a()(e,["data-qa","value","alpha","onChange","onClose","onBlur","onFocus","position"])),r=this.state,i=r.focused,s=r.invalid,c=y()("c-color_picker__container",{"c-color_picker__container--alpha":t,"c-color_picker__container--focus-within":i,"c-color_picker__container--invalid":s});return g.a.createElement("div",{className:c,"data-qa":this.props["data-qa"],onClick:this.handleContainerClick,role:"presentation"},this.renderColorBlock(),g.a.createElement("span",{className:"c-color_picker__hex_hash"},"#"),g.a.createElement("input",o()({className:"c-color_picker__input","data-qa":this.props["data-qa"]?this.props["data-qa"]+"_input":void 0,ref:this.inputRef,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onChange:this.handleInputChange,type:"text",value:this.state.inputValue,"aria-invalid":!!this.state.invalid},Object(I.a)(n))))}}]),t}(v.PureComponent);F.displayName="ColorPicker",F.defaultProps=L;t.a=F},uf7e:function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"a",function(){return p});var r,a=n("YEIV"),i=n.n(a),o=n("QbLZ"),s=n.n(o),c=n("aK/h"),l=n("EzZj"),u=n("MNvw"),d=n("U/ze"),b=Object(l.b)("Persists a request payload by key");b.propTypes={persistKey:c.b.string,payload:c.b.object};var p=Object(l.b)("Clears the persisted apiCall payload at the key");p.propTypes={persistKey:c.b.string};var h=Object(u.b)((r={},i()(r,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.persistKey,r=t.payload;return s()({},e,i()({},n,s()({},r,{persistKey:n})))}),i()(r,p,function(e,t){var n=s()({},e);return delete n[t],n}),r),{},{persistenceEnabled:!0,persistImmediately:!0});h.propTypes=c.b.object,t.b=h;Object(d.b)(function(e){return e&&e.persistedApiCalls})},uhZy:function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"h",function(){return C}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return w}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return P}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return L});var r,a=n("jo6Y"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("oTSI"),d=n("cZF4"),b=n("aK/h"),p=n("EzZj"),h=n("MNvw"),m=n("U/ze"),f=n("XfeM"),v=n("jYCR"),g=n("lhZz"),_=n("btvA"),O=n("uf9I"),y=n("sJR0"),j=n("kpmE"),k=Object(u.a)(function(){return new _.b({fetch:function(e){return Object(g.dispatchForTeamId)(e,S()),Object(g.dispatchForTeamId)(e,D())},isEnabled:function(){return!0},metricsName:"user_groups"})}),E=Object(p.b)("Add user group IDs to the flexpane");E.propTypes=b.b.arrayOf(b.b.string).isRequired;var C=Object(p.b)("Set the user groups flexpane scroll offset");C.propTypes=b.b.object;var I=Object(p.b)("Set the cursor mark");I.propTypes=b.b.string;var w=Object(p.b)("Set the search query");w.propTypes=b.b.string;var S=Object(p.b)("Resets user groups flexpane list to initial state");S.propTypes=null;var T={searchQuery:"",cursorMark:null,scrollmark:null,userGroupIds:[]},R=Object(h.b)((r={},s()(r,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&t.length?l()({},e,{userGroupIds:Object(d.a)(e.userGroupIds,t)}):e}),s()(r,C,function(e,t){return l()({},e,{scrollmark:t})}),s()(r,I,function(e,t){return l()({},e,{cursorMark:t})}),s()(r,w,function(e,t){if(t===e.searchQuery)return e;var n=T.userGroupIds,r=T.scrollmark,a=T.cursorMark;return l()({},e,{userGroupIds:n,scrollmark:r,cursorMark:a,searchQuery:t})}),s()(r,S,function(){return T}),r),T,{persistenceEnabled:!0});R.propTypes={searchQuery:b.b.string,cursorMark:b.b.string,scrollmark:b.b.shape({key:b.b.string,offset:b.b.number}),userGroupIds:b.b.arrayOf(b.b.string)},t.b=R;var N=Object(m.b)(function(e){var t=Object(O.b)(e);return k().maybeRefetch(t,"user_groups"),e&&e.userGroupsFlexpane&&e.userGroupsFlexpane.userGroupIds}),x=Object(m.b)(function(e){return e&&e.userGroupsFlexpane&&e.userGroupsFlexpane.scrollmark}),M=Object(m.b)(function(e){return e&&e.userGroupsFlexpane&&e.userGroupsFlexpane.cursorMark}),P=Object(m.b)(function(e){return e&&e.userGroupsFlexpane&&e.userGroupsFlexpane.searchQuery}),A=Object(f.b)("Fetch and upsert user groups",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.searchQuery,a=void 0===r?"":r,o=n.cursorMark,s=n.includeDeleted,c=i()(n,["searchQuery","cursorMark","includeDeleted"]),u=l()({query:a,cursor_mark:o,include_deleted:s,reason:"user-groups-flexpane-store/listAndUpsertUserGroups"},c);return e(Object(j.f)(u)).then(function(n){var r=n.items,a=void 0===r?[]:r,i=n.next_cursor_mark,o=a.map(function(e){return e.id});e(E(o)),e(Object(y.o)({userGroups:a})),e(I(i));var s=Object(O.b)(t());return k().markObjectsAsFresh(s,["user_groups"]),n})});A.propTypes={searchQuery:b.b.string,cursorMark:b.b.string,count:b.b.number,reason:b.b.string},Object(f.b)("Fetch local user groups",function(e,t){var n=t(),r=P(n),a=Object(v.d)(l()({},n),{query:r,options:{allowEmptyQuery:!0,entities:{userGroups:!0}}}).map(function(e){return e.id});e(E(a))}).propTypes=null;var D=Object(f.b)("Fetch user groups",function(e,t,n){var r=t(),a=M(r),i=P(r);return e(A(l()({count:10},n,{cursorMark:a,searchQuery:i,reason:"fetchUserGroupsPost"})))});D.propTypes={searchQuery:b.b.string,count:b.b.number};var L=Object(f.b)("Fetch deactivated user groups",function(e,t,n){var r=t(),a=M(r),i=P(r);return e(A(l()({count:10,includeDeleted:2},n,{cursorMark:a,searchQuery:i,reason:"fetchUserGroupsPost"})))});L.propTypes={searchQuery:b.b.string,count:b.b.number}},ukTK:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("tfYw"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.validity={},n}return b()(t,e),o()(t,[{key:"getValidity",value:function(e){return!!this.validity[e]}},{key:"set",value:function(e,n){u()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n),this.validity[e]=!0}},{key:"invalidate",value:function(e){e?delete this.validity[e]:this.validity={}}}]),t}(function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).DEFAULT_HEIGHT,n=void 0===t?50:t;a()(this,e),this.heights={},this.DEFAULT_HEIGHT=n}return o()(e,[{key:"get",value:function(e){return e in this.heights?this.heights[e]:this.DEFAULT_HEIGHT}},{key:"set",value:function(e,t){this.heights[e]=t}},{key:"getValidity",value:function(e){return e in this.heights}}]),e}());t.a=p},ukeO:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("TSYQ"),s=n.n(o),c=n("od5y"),l=(n("IwIE"),r.b.string,r.b.string,r.b.number,r.b.bool,r.b.string,r.b.string,{icon:null,classes:null,size:20,ariaHidden:void 0,ariaRole:"img",ariaLabel:void 0});function u(e){var t=e.icon,n=e.classes,r=e.size,a=e.ariaHidden,o=e.ariaRole,l=e.ariaLabel,u=s()("c-base_font_icon",n),d={height:r+"px",width:r+"px"};return i.a.createElement("div",{className:u,style:d,"aria-hidden":a,role:o,"aria-label":l},i.a.createElement(c.b,{type:t}))}u.displayName="BaseFontIcon",u.defaultProps=l;var d=u,b=(n("/022"),r.b.string,r.b.number,r.b.string,r.b.string,r.b.bool,r.b.string,r.b.string,{image:null,icon:null,size:20,classes:null,ariaHidden:!1,ariaRole:"img",ariaLabel:void 0});function p(e){var t=e.image,n=e.size,r=e.classes,a=e.icon,o=e.ariaHidden,c=e.ariaRole,l=e.ariaLabel;if(t&&a)throw Error("Cannot pass in both image and icon!");if(!o&&!l)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");var u=s()("c-base_icon",r,{"c-base_icon--unknown":!t&&!a,"c-base_icon--image":t}),b={height:n+"px",width:n+"px"};return a?i.a.createElement(d,{icon:a,classes:u,style:b,size:n,ariaHidden:o,ariaRole:c,ariaLabel:l}):(t&&(b.backgroundImage="url("+t+")"),i.a.createElement("div",{className:u,style:b,"aria-hidden":o,role:c,"aria-label":l}))}p.displayName="BaseIcon",p.defaultProps=b;t.a=p},ukhC:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var r=n("QbLZ"),a=n.n(r),i=n("zmn3"),o=n("3Hq1"),s=n("LrWZ"),c=n("jeQL"),l=n("1YQg"),u=n("k55U");function d(e){return e.was_accepted?l.c.Accept:e.was_rejected?l.c.Reject:e.was_missed?l.c.Missed:void 0}function b(e){return Object(i.a)(e,function(e){return Object(l.d)(e)?{slackId:e.slack_id}:{externalId:e.external_id,displayName:e.display_name,avatarUrl:e.avatar_url}})}function p(e){return Object(i.a)(e,function(e){return{slackId:e}})}function h(e){return{id:e.id,name:e.name,createdBy:e.created_by,isDmCall:!!e.is_dm_call,callObjectInviteResponse:d(e),channels:e.channels||[]}}function m(e){Object(u.f)(!Object(o.a)(e.id),"Rtm room message needs an id");var t=a()({},h(e),{dateStart:Number(e.date_start),dateEnd:e.date_end?Number(e.date_end):void 0,activeParticipants:p(e.participants||[]),allParticipants:p(e.participant_history||[])});return Object(c.a)(t,s.a)}function f(e){return Object(u.f)(!Object(o.a)(e.id),"Expected block to have an id"),a()({},h(e),{callObjectInviteResponse:d(e),dateStart:e.date_start,dateEnd:e.date_end,activeParticipants:b(e.active_participants),allParticipants:b(e.all_participants),displayId:e.display_id,joinUrl:e.join_url,appId:e.app_id})}},uksu:function(e,t,n){"use strict";var r=n("XfeM"),a=n("aK/h"),i=n("Smdl"),o=n("1VpL"),s=n("HO/Y"),c=n("ntJl"),l=n("b+9+"),u=n("fWmQ"),d=n("HvGc"),b=n("ROZo"),p=Object(b.b)("TS.client.ui.app_profile.openWithApp"),h=Object(b.b)("TS.client.ui.app_profile.openWithAppModernInFlexpane"),m=n("oIqc"),f=n("D4L/"),v=n("Ddh9"),g=n("DtX9"),_=n("Fdc0"),O=n("uf9I"),y=n("0sSB"),j=n("DTT0");n.d(t,"a",function(){return C}),n.d(t,"b",function(){return I}),n.d(t,"c",function(){return w});var k=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).memberId,t=arguments[1];return Object(i.a)()?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).memberId,t=arguments[1];return t(Object(c.startImByMemberId)({memberId:e})).then(function(){return t(Object(l.g)(!0))})}({memberId:e},t):function(e){return Object(m.e)(e).then(function(){return Object(u.b)("about")})}(e)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.legacyApp,n=e.serviceId,r=e.homeWorkspaceId,a=arguments[1];return Object(i.a)()?a(Object(d.d)({appOrServiceId:n})):p(t,n,r,!1)},C=Object(r.b)("Open the about information for a given app",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.serviceId,a=n.homeWorkspaceId,i=n.memberId;return e(Object(v.f)({serviceId:r})).then(function(){var n=t(),s=Object(v.c)(n,{serviceId:r,homeWorkspaceId:a,memberId:i}),c=s.app_user,l=s.legacy_app,u=Object(f.d)(n),d=u.id!==s.home_workspace_id,b=u.enterprise_id&&s.home_enterprise_id&&u.enterprise_id===s.home_enterprise_id;return Object(o.g)(n)&&c&&(!d||b)?k({memberId:c.id},e):E({serviceId:r,legacyApp:l,homeWorkspaceId:a},e)})});C.propTypes={serviceId:a.b.string.isRequired,memberId:a.b.string,homeWorkspaceId:a.b.string};var I=Object(r.b)("Open the about information for a given app from the apps browser",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appId,a=n.serviceId,o=n.memberId,l=t();if(Object(s.j)(l,"feature_m11n_apps_browser")&&e(Object(j.a)()),o)return Object(i.a)()?e(Object(c.startImByMemberId)({memberId:o})):Object(m.e)(o);if(a){var u=Object(v.c)(l,{serviceId:a});return E({serviceId:a,legacyApp:u},e)}return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).appId,t=arguments[1];return Object(i.a)()?t(Object(d.d)({appOrServiceId:e})):h(e)}({appId:r},e)});I.propTypes={appId:a.b.string,serviceId:a.b.string,memberId:a.b.string,homeWorkspaceId:a.b.string};var w=Object(r.b)("Open the about information for a given app with memberId",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId,r=t(),a=Object(g.c)(r,n),i=Object(_.n)(a),o=Object(O.b)(r),s=Object(y.b)(a,o);return e(C({serviceId:i,homeWorkspaceId:s,memberId:n}))});w.propTypes={memberId:a.b.string}},uqAm:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("ifKl"),a=n("ROZo"),i=Object(a.b)("TS.ui.admin_user_groups.interopFunctions",r.a),o=Object(a.b)("TS.user_groups.updated_sig.dispatch",r.a),s=Object(a.b)("TS.user_groups.changed_is_unknown_sig.dispatch",r.a)},utBT:function(e,t,n){"use strict";n.d(t,"n",function(){return x}),n.d(t,"l",function(){return M}),n.d(t,"a",function(){return P}),n.d(t,"k",function(){return A}),n.d(t,"p",function(){return D}),n.d(t,"e",function(){return q}),n.d(t,"g",function(){return F}),n.d(t,"h",function(){return B}),n.d(t,"f",function(){return U}),n.d(t,"j",function(){return K}),n.d(t,"i",function(){return G}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return z}),n.d(t,"o",function(){return W}),n.d(t,"m",function(){return Q}),n.d(t,"q",function(){return X});var r,a=n("hhQR"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("m1cH"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("fujP"),p=n("F294"),h=n("qAkX"),m=n("1myf"),f=n("lE2N"),v=n("aK/h"),g=n("EzZj"),_=n("MNvw"),O=n("U/ze"),y=n("XfeM"),j=n("izWf"),k=n("Ypgw"),E=n("CXsT"),C=n("JHHQ"),I=n("hOQf"),w=n("2HDu"),S=n("yHhI"),T=v.b.shape({threadKey:v.b.string,sortTs:v.b.string,hasUnreads:v.b.bool}),R=Object(g.b)("Set the thread root keys");R.propTypes={threads:v.b.arrayOf(T).isRequired,hasMore:v.b.bool,cursorTs:v.b.string,maxTs:v.b.string,refreshId:v.b.string,totalUnreadReplies:v.b.number};var N=Object(g.b)("Append more thread root keys");N.propTypes={threads:v.b.arrayOf(T).isRequired,hasMore:v.b.bool,cursorTs:v.b.string};var x=Object(g.b)("Insert a thread at the beginning");x.propTypes={thread:T};var M=Object(g.b)("Increments totalUnreadReplies");M.propTypes=null;var P=Object(g.b)("Sets totalNewThreads to 0");P.propTypes=null;var A=Object(g.b)("Increments allThreadsRefreshCounter");A.propTypes=null;var D=Object(g.b)("Set the thread that should be focused");D.propTypes=v.b.string;var L=Object(_.b)((r={},s()(r,R,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.threads,r=t.hasMore,a=t.cursorTs,i=t.maxTs,o=t.refreshId,s=t.totalUnreadReplies,c=t.totalNewThreads;return e.threads===n?e:d()({},e,{threads:n,hasMore:r,cursorTs:a,maxTs:i,refreshId:o,totalUnreadReplies:s,totalNewThreads:c})}),s()(r,N,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.threads,r=t.hasMore,a=t.cursorTs,i=Object(f.a)([].concat(l()(e.threads),l()(n)),"threadKey");return d()({},e,{threads:i,hasMore:r,cursorTs:a})}),s()(r,x,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).thread,n=e.totalNewThreads||0,r=Object(f.a)([t].concat(l()(e.threads)),"threadKey");return d()({},e,{threads:r,totalNewThreads:n+1})}),s()(r,M,function(e){var t=e.totalUnreadReplies||0;return d()({},e,{totalUnreadReplies:t+1})}),s()(r,P,function(e){return d()({},e,{totalNewThreads:0})}),s()(r,A,function(e){var t=e.allThreadsRefreshCounter||0;return d()({},e,{allThreadsRefreshCounter:t+1})}),s()(r,D,function(e,t){return e.focusRequestedThreadKey===t?e:d()({},e,{focusRequestedThreadKey:t})}),r),{threads:void 0,hasMore:!0,cursorTs:void 0,maxTs:void 0,refreshId:void 0,totalUnreadReplies:void 0,totalNewThreads:void 0,allThreadsRefreshCounter:0,focusRequestedThreadKey:void 0},{persistenceEnabled:!0});L.propTypes={threads:v.b.arrayOf(T),hasMore:v.b.bool,cursorTs:v.b.string,maxTs:v.b.string,refreshId:v.b.string,totalUnreadReplies:v.b.number,totalNewThreads:v.b.number,allThreadsRefreshCounter:v.b.number,focusRequestedThreadKey:v.b.string},t.b=L;var q=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.threads}),F=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.hasMore}),B=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.refreshId}),U=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.cursorTs}),H=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.maxTs}),K=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.totalUnreadReplies}),G=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.totalNewThreads}),V=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.allThreadsRefreshCounter}),z=Object(O.b)(function(e){return e&&e.allThreads&&e.allThreads.focusRequestedThreadKey}),Y=Object(y.b)("Add threads and messages to the relevant stores",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threads,r=Object(S.a)({getState:t,label:"ALL-THREADS-STORE"}),a=[];n?n.forEach(function(t){if(t.root_msg)if(t.root_msg.thread_ts)if(t.root_msg.channel)if(t.root_msg.subscribed){var n=t.unread_replies||[],o=t.latest_replies||[],s=t.root_msg,c=Object(w.c)(s.channel,s.ts),u=n.concat(o);if(Object(b.a)(u))r.error("subscriptions.thread.getView: no replies for "+c);else{if(u.length){var d=Object(f.a)(u,"ts");d.length!==u.length&&(r.error("subscriptions.thread.getView: duplicate replies to "+t.root_msg.channel+"-"+t.root_msg.ts),u=d),u=Object(m.a)(u,"ts")}var v=e(Object(E.a)({imsgs:[s].concat(l()(u)),channelId:s.channel})),g=i()(v),_=g[0],O=g.slice(1);Object(I.R)(s)>u.length?(e(Object(C.a)({msgs:[_],channelId:c,oldest:s.ts,hasMore:{hasMoreStart:!1,hasMoreEnd:!0}})),e(Object(C.a)({msgs:O,channelId:c,latest:Object(h.a)(u).ts,oldest:Object(p.a)(u).ts,hasMore:{hasMoreStart:!0,hasMoreEnd:!1}}))):e(Object(C.a)({msgs:[_].concat(l()(O)),channelId:c,latest:Object(h.a)(u).ts,hasMore:{hasMoreStart:!1,hasMoreEnd:!1}})),a.push({threadKey:Object(w.c)(s.channel,s.ts),sortTs:(Object(h.a)(O)||s).ts,hasUnreads:n.length>0})}}else r.error("subscriptions.thread.getView: not subscribed to "+t.root_msg.channel+"-"+t.root_msg.ts);else r.error("subscriptions.thread.getView: no channel ID on root message");else r.error("subscriptions.thread.getView: root_msg has no thread_ts");else r.error("subscriptions.thread.getView: missing root_msg")}):r.error("subscriptions.thread.getView: missing threads");var o=Object(m.a)(a,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortTs;return(e.hasUnreads?1:0)+"-"+t}).reverse();return Object(b.a)(o)?{allThreads:[],cursorTs:void 0,maxTs:void 0}:{allThreads:o,cursorTs:Object(h.a)(o).sortTs,maxTs:Object(p.a)(o).sortTs}});Y.propTypes={threads:v.b.array};var W=Object(y.b)("Call subscriptions.thread.getView and merge in results",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.currentTs,a=n.limit,i=n.refreshId;return e(Object(j.b)({currentTs:r,limit:a,reason:"fetch-threads-view-via-refresh"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.threads,r=t.has_more,a=t.total_unread_replies,o=e(Y({threads:n})),s=o.allThreads,c=o.cursorTs,l=o.maxTs,u={threads:s,refreshId:i,hasMore:r,cursorTs:c,maxTs:l,totalUnreadReplies:a,totalNewThreads:0};return e(R(u)),u})});W.propTypes={currentTs:v.b.oneOfType([v.b.number,v.b.string]),limit:v.b.number,refreshId:v.b.string};var Q=Object(y.b)("Like refreshThreads but appends",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.currentTs,a=n.limit;return e(Object(j.b)({currentTs:r,limit:a,reason:"fetch-threads-view-via-load-more"})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.threads,r=t.has_more,a=e(Y({threads:n})),i={threads:a.allThreads,hasMore:r,cursorTs:a.cursorTs};return e(N(i)),i})});Q.propTypes={currentTs:v.b.oneOfType([v.b.number,v.b.string]),limit:v.b.number};var X=Object(y.b)("Removes unsubscribed threads after leaving All Threads",function(e,t){var n=q(t());if(n){var r=n.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).threadKey,n=Object(w.a)(e),r=n.channelId,a=n.threadTs;return Object(k.b)(t(),{channelId:r,ts:a})});e(R({threads:r,hasMore:F(t()),cursorTs:U(t()),maxTs:H(t()),refreshId:B(t()),totalUnreadReplies:void 0,totalNewThreads:void 0}))}})},"uwE/":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return d});var r=new(n("nNoG").b)("search"),a={HAS:"has",TYPE:"type",FROM:"from",TO:"to",IN:"in",BEFORE:"before",DURING:"during",ON:"on",AFTER:"after"},i=function(){return{has:r.t("has"),type:r.t("type"),from:r.t("from"),to:r.t("to"),in:r.t("in"),before:r.t("before"),during:r.t("during"),on:r.t("on"),after:r.t("after")}},o={STAR:"star",PIN:"pin",LINK:"link",REACTION:"reaction"},s=function(){return{star:r.t("star"),pin:r.t("pin"),link:r.t("link"),reaction:r.t("reaction")}},c={FILTER_IN:"filter-in",FILTER_FROM:"filter-from",FILTER_TO:"filter-to",FILTER_BEFORE:"filter-before",FILTER_DURING:"filter-during",FILTER_ON:"filter-on",FILTER_AFTER:"filter-after",FILTER_HAS:"filter-has",FILTER_TYPE:"filter-type",MEMBER:"member",STRING:"string",PHRASE:"phrase",API:"api-suggestion",UNKNOWN:"unknown"},l={CHANNEL_NAVIGATION:"channel-navigation",EXPERT_CHANNEL_NAVIGATION:"expert-channel-navigation",FILE_NAVIGATION:"file-navigation",MPIM_NAVIGATION:"mpim-navigation",QUERY:"query",QUERY_HISTORY:"query-history",QUERY_USER:"query-user",TEAM_NAVIGATION:"team-navigation",UNKNOWN:"unknown",USER_NAVIGATION:"user-navigation",VIEW_NAVIGATION:"view-navigation"},u=function(){return{January:r.t("January"),February:r.t("February"),March:r.t("March"),April:r.t("April"),May:r.t("May"),June:r.t("June"),July:r.t("July"),August:r.t("August"),September:r.t("September"),October:r.t("October"),November:r.t("November"),December:r.t("December")}},d=function(){return{today:r.t("Today"),yesterday:r.t("Yesterday")}}},ux1c:function(e,t,n){"use strict";n.r(t);var r=n("aK/h"),a=n("XfeM"),i=n("wYji"),o=n("Z7Ay");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.api,n=e.flannel;Object(o.a)("networkDelay.api",t),Object(o.a)("networkDelay.flannel",n)}var c=Object(a.b)("/slackdebuglag slash command",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.threadTs,c=void 0;Object(o.d)("networkDelay.api")||Object(o.d)("networkDelay.flannel")?(s({api:0,flannel:0}),c="*Lag disabled:* network requests are no longer delayed :speedboat:"):(s({api:2e3,flannel:1e3}),c="*Lag enabled:* network requests are now delayed :snail:"),e(Object(i.b)({ephemeralType:"slack_debug_lag_command",message:{channel:r,text:c,thread_ts:a}}))});c.propTypes={channelId:r.b.string.isRequired,threadTs:r.b.string},t.default=c},uxhc:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("sk9p"),c=n.n(s),l=n("iCc5"),u=n.n(l),d=n("V7oC"),b=n.n(d),p=n("lE2N"),h=n("X6iR"),m=n("mX9+"),f=n("1myf"),v=n("owWc"),g=n("zmn3"),_=n("NFsq"),O=n("xWuZ"),y=n("HiDb"),j=n("Z0Cl"),k=n("HA5h"),E=n("DtX9"),C=n("Fdc0"),I=n("uf9I"),w=n("s/st"),S=n("i26o"),T=n("FYw3"),R=n.n(T),N=n("tfYw"),x=n.n(N),M=n("mRg0"),P=n.n(M),A=n("XhtD"),D=n("TSHB"),L=n("Rjjz"),q=n("Zr7G"),F=n("lhZz"),B=n("mkut"),U=n("OZf9"),H=function(){function e(t,n,r,a){u()(this,e),this.bucketIdForKey=n,this.keyForDoc=r,this.scoreForDoc=a,this.size=t.length,this.index=function(e,t,n,r){var a={};return Object(U.a)(e,function(e){var r=t(n(e));a[r]||(a[r]=[]),a[r].push(e)}),Object(U.a)(a,function(e){e.sort(function(e,t){return r(t)-r(e)})}),a}(t,n,r,a)}return b()(e,[{key:"search",value:function(e,t){var n=this,r=this.bucketIdForKey(e);if(!r)return[];var a=Object(B.a)(this.index).filter(function(e){return Object(h.a)(e,r)});return 1===a.length?this._searchBucket(a[0],e,t):Object(O.a)(Object(g.a)(a,function(r){return n._searchBucket(r,e,t)})).sort(function(e,t){return n.scoreForDoc(t)-n.scoreForDoc(e)})}},{key:"_searchBucket",value:function(e,t,n){var r=this,a=[];return Object(U.a)(this.index[e]||[],function(e){var i=r.keyForDoc(e);return Object(h.a)(i,t)&&i!==t&&a.push(e),a.length<n}),a}}]),e}();var K=n("6i9J"),G=function(e){function t(e){u()(this,t);var n=Math.ceil(4),r=R()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return Promise.all(Object(A.a)(n).map(function(e){return r._searchAutocompleteQuerySuggestions(e).then(function(e){return e.data.map(function(e){return[(t=e)[0].toString().replace(/_/g," "),parseInt(t[1],10)/1e4,Object(D.a)(t[2],function(e){return parseInt(e,10)/100})];var t})})})).then(function(e){var t=Object(O.a)(e.filter(function(e){return e.length>0}));return new H(t,function(e){return e.slice(0,3)},function(e){return e[0]},function(e){return e[1]})})},576e5));return r.teamId=e,r}return P()(t,e),b()(t,[{key:"_searchAutocompleteQuerySuggestions",value:function(e){var t="autocomplete_query_suggestions_response_time_batch_"+e,n=t+"_mark",r=Object(F.getStateByTeamId)(this.teamId),a=Object(q.c)({state:r});return a.mark(n),Object(F.dispatchForTeamId)(this.teamId,Object(L.l)({limit:1e5,version:"new_term_frequency",returnExperts:!1,batchMin:e||0,batches:1})).then(function(e){return a.measureAndClear(n,t),{data:e.query_suggestion_list,exception:void 0}}).catch(function(e){return a.measureAndClear(n,t),{data:[],exception:e}})}}]),b()(t,[{key:"onCacheData",value:function(e){var n=this;x()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCacheData",this).call(this,e);var r=Math.max(this.timeoutMs/2,144e5);this.querySuggestionCacheRefreshTimer&&clearTimeout(this.querySuggestionCacheRefreshTimer),this.querySuggestionCacheRefreshTimer=null,this.querySuggestionCacheRefreshTimer=setTimeout(function(){n._callCacheGet()},this.timeoutMs/2+Math.random()*r)}}]),t}(K.a),V={};function z(e){return V[e]||(V[e]=new G(e)),V[e]}var Y=n("QrSv"),W=n("YfG3"),Q=function(e){function t(e){u()(this,t);var n=R()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return n._searchAutocompleteFileSuggestions(1e4).then(function(e){var t={};return Object(U.a)(e.file_suggestion_list,function(e){var n=e.title.toLowerCase().replace(/[^a-z0-9\s]/,"").replace(/\s+/," ").trim(),r=n.split(/\s+/).slice(0,6),a=Object(W.a)(e,{normalTitle:n,titleTerms:r,score:e.score/65536*400});Object(U.a)(n.split(/ /).slice(0,3),function(e){var n=e[0];t[n]||(t[n]=[]),t[n].push(a)})}),t})},1008e5));return n.teamId=e,n}return P()(t,e),b()(t,[{key:"_searchAutocompleteFileSuggestions",value:function(e){return Object(F.dispatchForTeamId)(this.teamId,Object(L.k)({limit:e,version:"new_term_frequency"})).catch(function(e){return{data:[],exception:e}})}}]),b()(t,[{key:"onCacheData",value:function(e){var n=this;x()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCacheData",this).call(this,e);this.fileSuggestionCacheRefreshTimer&&clearTimeout(this.fileSuggestionCacheRefreshTimer),this.fileSuggestionCacheRefreshTimer=null,this.fileSuggestionCacheRefreshTimer=setTimeout(function(){n._callCacheGet()},this.timeoutMs+144e5*Math.random())}}]),t}(K.a),X={};function Z(e){return X[e]||(X[e]=new Q(e)),X[e]}var J=n("60Se"),$=n("iiF8"),ee=n("1+fu"),te=n("TGBA"),ne=n("P2f5"),re=n("4hnu"),ae=n("jYCR"),ie=n("6kok"),oe=n("uwE/"),se=n("8aKK"),ce=n("jeHR");function le(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=function(e){return!(Object(ie.lb)(e.model_ob)&&Object(ie.V)(e.model_ob))};return Object(se.a)(t)?e(Object(ae.c)({query:n,options:Object(ee.a)({},i,{entities:{members:{includeSlackbot:!0,includeSelf:!0,includeDeleted:!0},channels:{includeArchived:!1,includeMpims:!0,includeFromAnotherTeam:!1,searchPreviousNames:!1},views:!1,teams:!1},allowEmptyQuery:!0,sort:{frecency:!0},returnMetadata:!0,tiered:!1,limit:r,filter:function(e){return!(Object(ie.lb)(e)&&Object(ie.V)(e))}})})).then(function(e){var t=e.map(function(e){var t=e.item,n=e.frecencyScore,r=e.bestPreviousNameMatch;return{model_ob:a()({},t,{_jumper_previous_name_match:r}),score:n}});return e.promise&&(t.promise=e.promise),t}):Object(re.a)(n,{members:{include_slackbot:!0,include_self:!0,include_deleted:!0},channels:{include_archived:!!(i.entities&&i.entities.channels&&i.entities.channels.includeArchived),include_from_another_team:!!(i.entities&&i.entities.channels&&i.entities.channels.includeFromAnotherTeam)},groups:{include_archived:!!(i.entities&&i.entities.channels&&i.entities.channels.includeArchived),include_from_another_team:!!(i.entities&&i.entities.channels&&i.entities.channels.includeFromAnotherTeam)},mpims:!0,all_mpims:!0,limit:r,sort:{allow_empty_query:!0,search_previous_channel_names:!!(i.entities&&i.entities.channels&&i.entities.channels.searchPreviousNames)},tiered:!!i.tiered,views:!(!i.entities||!i.entities.views),teams:!(!i.entities||!i.entities.teams)}).then(function(e){var t=Object(j.a)(e,o);return e.promise&&(t.promise=e.promise),t})}var ue=n("5mKg");var de=n("yHhI"),be=n("oLrU"),pe=n("clTI"),he=n("5tH5");n.d(t,"a",function(){return fe}),n.d(t,"b",function(){return ve}),n.d(t,"c",function(){return ge}),n.d(t,"e",function(){return _e}),n.d(t,"d",function(){return ye});var me=Object(de.b)();function fe(e){return Object(ce.c)(e)?Object(ce.f)(e)?"omni_switchy_6":"omni_searchy_6":Object(ce.f)(e)?"omni_switchy_4":"omni_searchy_4"}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!n)return t.filter(function(e){return!e.is_type_user_query});var r=t.filter(function(e){return!e.is_type_user_query}),a=Object(k.a)(S.h.fromString(e,n).toMap(fe(e)),{is_type_user_query:!0}),i=Object(p.a)([a].concat(r),function(e){return e.key});if(Object(ce.f)(e)){var o=r.find(function(e){return e.is_type_navigational});if(o)return Object(p.a)([o].concat(r).concat([a]),function(e){return e.key})}return i}function ge(e,t,n,r,a){return new Oe(e,t).suggestions(n,r,a)}function _e(e){return Promise.all([z(e).get(),Z(e).get(),Object(Y.b)(e).get()])}var Oe=function(){function e(t,n){u()(this,e),this.dispatch=t,this.state=n}return b()(e,[{key:"combineResponses",value:function(e,t,n,r,a){if(a)return Object(g.a)(Object(p.a)(Object(O.a)(Object(g.a)(e,function(e){return Object(f.a)(e,function(e){return-e.score(r)}).slice(0,t)})),function(e){return e.toString()||e.toTextyString()}),function(e){return e.toMap(r)});var i=Object(q.c)({state:this.state});i.mark("omniswitcher-model-collate-mark");var o=Object(g.a)(Object(f.a)(Object(p.a)(Object(O.a)(Object(g.a)(e,function(e){return e.slice(n,t)})),function(e){return e.toString()||e.toTextyString()}),function(e){return-e.score(r)}),function(e){return e.toMap(r)}),s=Object(g.a)(Object(f.a)(Object(p.a)(Object(O.a)(Object(g.a)(e,function(e){return e.slice(0,n)})),function(e){return e.toString()||e.toTextyString()}),function(e){return-e.score(r)}),function(e){return e.toMap(r)}).concat(o);return i.measureAndClear("omniswitcher-model-collate-mark","omniswitcher-model-collate"),s.slice(0,t)}},{key:"suggestions",value:function(e,t,n){var r=this,i=Object(q.c)({state:this.state}),s=Object(be.a)();e.length&&i.mark("omniswitcher-suggestions-mark-"+s);var l=Object(I.b)(this.state),u=new J.a(e),d={stable:[]};if(u.isEmpty())d.stable.push(this.suggestionsBlankSlateQueryHistory(l,5));else{d.stable.push(this.suggestionsInFilter(u,t)),d.stable.push(this.suggestionsHasFilter(u,t)),d.stable.push(this.suggestionsMemberFilter(u,t,oe.d.FROM)),d.stable.push(this.suggestionsMemberFilter(u,t,oe.d.TO)),d.stable.push(this.suggestionsDateFilter(u,t,oe.d.BEFORE)),d.stable.push(this.suggestionsDateFilter(u,t,oe.d.DURING)),d.stable.push(this.suggestionsDateFilter(u,t,oe.d.ON)),d.stable.push(this.suggestionsDateFilter(u,t,oe.d.AFTER)),je(this.state)&&(d.stable.push(this.suggestionsQueryHistory(l,u,t)),d.stable.push(this.suggestionsFiles(u,t,n)));var b=Object($.a)(this.state),p=Object(E.b)(b);if(!Object(C.xb)(p)&&!Object(C.Db)(p)&&!Object(C.cb)(p)&&je(this.state)){var h=Object(F.getStateByTeamId)(l);Object(q.c)({state:h}).mark("start_autocomplete_query_suggestions"),d.stable.push(this.suggestionsQueries(u,t).finally(function(){return i.measureAndClear("start_autocomplete_query_suggestions","autocomplete_query_suggestions")}))}var m=24;Object(ce.a)(this.state)&&(m=30),d.tiered=this.suggestionsFromSearcher(u,m,this.state,n)}var f=t;return Promise.all([Promise.all(d.stable),d.tiered]).then(function(e){var l=c()(e,2),d=l[0],b=l[1],p=b?[].concat(o()(d),[b]):d,h=r.combineResponses(p,t,f,n,u.isEmpty()),m=void 0;return b&&b.promise&&(m=b.promise.then(function(e){var i=e;Object(se.a)(r.state)&&(i=e.map(function(e){var t=e.item,n=e.frecencyScore,r=e.bestPreviousNameMatch;return{model_ob:a()({},t,{_jumper_previous_name_match:r}),score:n}}));var s=r._makeSuggestionsFromSearcherResults(u,t,i,n);return r.combineResponses([].concat(o()(d),[s]),t,f,n,u.isEmpty())}).finally(function(){u.isEmpty()||i.measureAndClear("omniswitcher-suggestions-mark-"+s,"omniswitcher-suggestions-tiered")})),u.isEmpty()||(m?i.measure("omniswitcher-suggestions-mark-"+s,"omniswitcher-suggestions-untiered"):i.measureAndClear("omniswitcher-suggestions-mark-"+s,"omniswitcher-suggestions-untiered")),{suggestions:h,promise:m}}).catch(function(e){return me.error("SEARCH","suggestions failure",e),[]})}},{key:"suggestionsBlankSlateQueryHistory",value:function(e,t){var n=this;return Object(Y.b)(e).get().then(function(e){return e.slice(0,t).map(function(e,t){return new S.e(n.state,"",e,t)})})}},{key:"suggestionsQueryHistory",value:function(e,t,n){var r=this;return Object(Y.b)(e).getStaleWhileRevalidate([]).then(function(e){return Object(g.a)(Object(j.a)(e,function(e){return Object(h.a)(e.toLowerCase(),t.normalQuery().toString())}).slice(0,n),function(e){return S.f.fromString(r.state,e)})})}},{key:"suggestionsFromSearcher",value:function(e,t,n,r){var a=this,i={};return i={tiered:!0,entities:{channels:{includeArchived:!0,searchPreviousNames:!0},views:!0,teams:{runaway:!0}}},Object(ce.g)(n)&&(i.entities.channels.includeFromAnotherTeam=!0),le(this.dispatch,this.state,e.toString().trim(),t,i).then(function(n){return a._makeSuggestionsFromSearcherResults(e,t,n,r)})}},{key:"_makeSuggestionsFromSearcherResults",value:function(e,t,n,r){var a=this,i=Object(j.a)(Object(g.a)(n,function(t){return a._suggestionFromSearcherResult(t,e)}),function(e){return!!e}).sort(function(e,t){return t.score(r)-e.score(r)});i[0]&&i[0].type===oe.b.USER_NAVIGATION&&(i.push(new S.f(this.state,e,[new w.f(i[0].frecencyScore,this.state,i[0].getUser().id,null,oe.d.FROM)])),i.promise=n.promise);var o=i.slice(0,t);return n.promise&&(o.promise=n.promise),o}},{key:"_suggestionFromSearcherResult",value:function(e,t){return e.model_ob?Object(C.qb)(e.model_ob)?new S.i(this.state,e.score,e.model_ob,t.toString()):Object(ie.W)(e.model_ob)||Object(ie.xb)(e.model_ob)?new S.a(this.state,e.score,e.model_ob,t.toString()):Object(ie.lb)(e.model_ob)?new S.d(this.state,e.score,e.model_ob,t.toString()):(n=e.model_ob)&&n.is_view?new S.j(this.state,e.score,e.model_ob,t.toString()):Object(ue.F)(e.model_ob)?new S.g(this.state,e.score,e.model_ob,t.toString()):null:(me.error("SEARCH","falsy result with query "+t),null);var n}},{key:"_searchQueries",value:function(e,t){if(!e)return Promise.resolve([]);var n=Object(I.b)(this.state),r=e.toLowerCase();return z(n).getStaleWhileRevalidate(void 0).then(function(e){return e?e.search(r,t):[]})}},{key:"suggestionsQueries",value:function(e,t){var n=this;return e?this._searchQueries(e.toString(),t).then(function(t){return t.map(function(t){return new S.f(n.state,e.toString(),[new w.a(t[1],t[0])])})}):Promise.resolve([])}},{key:"suggestionsExpertChannels",value:function(e,t){var n=this;return e?this._searchQueries(e.toString(),t).then(function(t){var r=Object($.a)(n.state);return Object(y.a)(t,function(t){var n=t[0];if(e.toString()===n||e.toString().search(" ")>=0){var a=t[2]||{};return Object.keys(a).map(function(n){var i=Object(pe.d)(r,n);return new S.b(r,t[1],a[n],i,e)}).filter(function(e){return e.channel})}return[]})}):Promise.resolve([])}},{key:"_searchFiles",value:function(e,t,n){if(!t)return Promise.resolve([]);var r=t.toLowerCase().replace(/[^a-z0-9\s]/,"").replace(/\s+/," ").trim(),a=r.split(/\s+/).slice(0,-1),i=r.split(/\s+/).slice(-1)[0];return Z(Object(I.b)(this.state)).getStaleWhileRevalidate([]).then(function(e){return Object(g.a)(Object(m.a)(Object(j.a)(e[r[0]],function(e){return a.length<1?e.normalTitle.includes(r):!!Object(v.a)(a,function(t,n){return t&&Object(_.a)(e.titleTerms,n)},!0)&&Object(j.a)(e.titleTerms,function(e){return Object(h.a)(e,i)}).length>0}).sort(function(e,t){return t.score-e.score}),0,n),function(e){return{model_ob:e,score:e.score}})})}},{key:"suggestionsFiles",value:function(e,t,n){var r=[],a=Object($.a)(this.state),i=function(t){return t.map(function(t){return new S.c(a,t.score,t.model_ob,e.toString())})};return r.push(this._searchFiles(a,e.normalQuery().toString(),t).then(i)),r.push(function(e,t,n){var r=t?t.toLowerCase():"";return Promise.resolve(Object(g.a)(Object(j.a)(Object.values(Object(ne.f)(e)||{}).slice(0,512),function(e){return e.mimetype&&!e.mimetype.startsWith("image")&&(t=e.title,n=r,(t||"").toLowerCase().includes(n.toLowerCase()));var t,n}).slice(0,n),function(e){return{model_ob:e,score:1}}))}(a,e.normalQuery().toString(),t).then(i)),Promise.all(r).then(function(e){return Object(m.a)(Object(f.a)(Object(p.a)(Object(O.a)(e),function(e){return e.fileId}),function(e){return-e.score(n)}),0,t)})}},{key:"suggestionsFilter",value:function(e,t,n,r,a){var i=void 0,o=void 0;if(e.lastUnigramQuery().normalQuery().isModifierMatch(n))i=e.lastUnigramQuery().toString(),o=e.lastUnigramPrefixQuery().asQuerySuggestion(this.state);else{if(!e.lastBigramQuery().normalQuery().isModifierMatch(n))return Promise.resolve([]);i=e.lastBigramQuery().toString(),o=e.lastBigramPrefixQuery().asQuerySuggestion(this.state)}var s=Object(oe.f)()[n],c="";return Object(h.a)(i,s+":")||Object(h.a)(i,s+" ")?c=i.slice(s.length+1):(Object(h.a)(i,n+":")||Object(h.a)(i,n+" "))&&(c=i.slice(n.length+1)),r(c,t).then(function(e){return e.map(function(e){return o.withQuerySuggestionToken(a(e))})})}},{key:"suggestionsMemberFilter",value:function(e,t,n){var r=this;return this.suggestionsFilter(e,t,n,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n,r){var a=void 0;return a=Object(ce.a)(t)?30:r,Object(se.a)(t)?e(Object(ae.c)({query:n,options:{entities:{members:{includeSlackbot:!0,includeSelf:!0,includeDeleted:!0}},allowEmptyQuery:!0,sort:{frecency:!0},returnMetadata:!0,limit:a,tiered:!0}})).then(function(e){return e.map(function(e){return{model_ob:e.item,score:e.frecencyScore}})}):Object(re.a)(n,{members:{include_slackbot:!0,include_self:!0,include_deleted:!0},limit:r,sort:{allow_empty_query:!0},tiered:!0})}.apply(void 0,[r.dispatch,r.state].concat(t))},function(e){return new w.f(e.score,r.state,e.model_ob.id,e.model_ob.profile.real_name||e.model_ob.name||e.model_ob.profile.display_name,n)})}},{key:"suggestionsInFilter",value:function(e,t){var n=this,r={entities:{channels:{includeFromAnotherTeam:Object(ce.g)(this.state)}}};return this.suggestionsFilter(e,t,oe.d.IN,function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return le.apply(void 0,[n.dispatch,n.state].concat(t,[r]))},function(e){return new w.e(e.score,n.state,e.model_ob.id,e.model_ob.name)})}},{key:"suggestionsHasFilter",value:function(e,t){return this.suggestionsFilter(e,t,oe.d.HAS,function(e,t){return Promise.all([(n=e,r=t,a=Object(oe.e)(),Promise.resolve(Object(j.a)(Object(te.a)(oe.c),function(e){return Object(h.a)(e,n)||Object(h.a)(a[e],n)}).slice(0,r).map(function(e){return{model_ob:e,score:50,canLog:!0}})))]).then(function(e){return Object(O.a)(e)});var n,r,a},function(e){return new w.d(e.model_ob,e.canLog)})}},{key:"suggestionsDateFilter",value:function(e,t,n){var r=new w.b(new Date);return this.suggestionsFilter(e,t,n,function(e,t){return r.suggestionsPromise(e,t,n)},function(e){return new w.c(e.model_ob,n)})}}]),e}(),ye=function(e,t,n){var r=Object(q.c)({state:e});r.mark("get-draft-and-unread-suggestions-mark");var a=Object(pe.h)(e).map(function(t){if(!t)return me.error("SEARCH","falsy result in unreads and drafts"),null;if(Object(ie.W)(t)||Object(ie.xb)(t))return new S.a(e,void 0,t,"");if(Object(ie.eb)(t)){var n=Object(E.c)(e,Object(ie.G)(t));return new S.i(e,void 0,n,"")}return Object(ie.lb)(t)?new S.d(e,void 0,t,""):t.id===he.a.allThreads?new S.j(e,void 0,Object(he.c)(t.id),""):null}).filter(function(e){return!!e}).map(function(e){return e.toMap(n)});return r.measureAndClear("get-draft-and-unread-suggestions-mark","get-draft-and-unread-suggestions"),a};function je(e){return!(Object(ce.e)(e)&&Object(ce.f)(e))}},v1AT:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("kxpR"),p=n.n(b),h=n("aK/h"),m=n("XHGt"),f=n("nNoG"),v=n("HO/Y"),g=n("plEq"),_=n("0f2Y"),O=(n("xkK6"),new f.b("shared_channels")),y=(h.b.string.isRequired,h.b.string.isRequired,h.b.string,h.b.string,h.b.bool,h.b.func.isRequired,h.b.func,h.b.node,h.b.object,{placeholder:"",initialSlackURL:"",featureSonicEscCreation:!1,onSlackURLKeyDown:d.a,customErrorMessage:null,slackURLErrors:{}}),j=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={slackURL:e.initialSlackURL||""},n.onSlackURLChange=n.onSlackURLChange.bind(n),n}return u()(t,e),o()(t,[{key:"onSlackURLChange",value:function(e){var t=this.maybeFixSlackURLValue(e);this.setState(function(){return{slackURL:t}}),this.props.onSlackURLChange(t)}},{key:"getSlackURLErrorString",value:function(){var e=this.props,t=e.customErrorMessage,n=e.slackURLErrors;if(!e.featureSonicEscCreation)return null;if(t)return t;var r=n.slackURLWithError||"";return n.hasInvalidTargetDomainError?r?O.t("{slackURLWithError}.slack.com doesn\u2019t appear to be in use.",{slackURLWithError:r}):O.t("This workspace URL doesn\u2019t appear to be in use"):n.hasInvalidTargetDomainSameOrgError?r?O.t("{slackURLWithError} is a part of your organization.",{slackURLWithError:r}):O.t("This workspace is a part of your organization."):n.hasInvalidTargetDomainSelfError?O.t("You\u2019ll need to enter the Slack URL of the other organization."):null}},{key:"maybeFixSlackURLValue",value:function(e){if(!e.length)return e;var t=/^https?:\/\/|www\.|(\.dev(\d+)?)|\.staging|\.qa|(\.slack\.com.*$)/g,n=e.trim();return n&&t.test(n)?n.replace(t,""):e}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.featureSonicEscCreation,a=e.onSlackURLKeyDown,i=e.placeholder,o=this.state.slackURL;return r?p.a.createElement("label",{htmlFor:t,"data-qa":"slack_url_input_label"},p.a.createElement("div",{className:"p-slack_url_input__label_title"},p.a.createElement("strong",null,O.t("Invitee\u2019s workspace URL")),p.a.createElement(_.a,{className:"p-slack_url_input__help_link",href:"https://get.slack.help/hc/articles/221769328-Find-your-Slack-team-URL"},O.t("What\u2019s this?",{note:'Link next to shared channels "Invitee workspace URL" field that sends users to the Slack help article that tells them how to find a Slack team URL'}))),p.a.createElement("div",null,p.a.createElement(g.a,{value:o,placeholder:i||O.t("acme-corp",{note:"Placeholder Slack team domain for an external shared channel invitation. Pairs with the jane@acme-corp.com placeholder in the email field above (although, that string is in the ui_validation i18n namespace)"}),id:t,name:n,size:"large",onChange:this.onSlackURLChange,onKeyDown:a,suffix:".slack.com",autoComplete:"off",useInlineAlert:!0,errorText:this.getSlackURLErrorString()}))):null}}]),t}(b.Component);j.displayName="SlackURLInput",j.defaultProps=y;t.a=Object(m.b)(function(e){return{featureSonicEscCreation:Object(v.j)(e,"feature_sonic_esc_creation")}})(j)},v47e:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("9oTK"),o=n("aK/h"),s=n("Smdl"),c=n("XfeM"),l=n("ZAxE"),u=n("clNh"),d=n("GC45"),b=n("AfrZ"),p=n("om+M"),h=n("4zXV"),m=Object(p.a)("Get Welcome Place data for this user",function(e,t,n){var r=n.locale;return e(Object(h.a)({method:"onboarding.welcome",args:{locale:r},reason:"fetch-welcome-place-data"})).then(function(e){return{items:e.items}})});m.propTypes={locale:o.b.string};var f=n("k00g"),v=n("bcDH"),g=n("cTgs"),_=n("kOzZ"),O=n("negh"),y=n("ntJl"),j=n("clTI"),k=n("7nxQ"),E=n("P2LY"),C=n("m1cH"),I=n.n(C),w=n("7EGn"),S=n("wd/R"),T=n.n(S),R=n("j04V"),N=n("B/CG");n.d(t,"b",function(){return M}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return F}),n.d(t,"f",function(){return U}),n.d(t,"e",function(){return K}),n.d(t,"a",function(){return V});var x,M=Object(c.b)("Dismiss Welcome Place page",(x=Object(i.coroutine)(regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),t(Object(b.f)({pref:"welcome_place_state",value:"disabled"})),!Object(N.a)(r)){e.next=10;break}return e.next=5,Object(i.resolve)(t(Object(y.getGeneralChannel)()));case 5:if(a=e.sent,o=Object(j.k)(r,"USLACKBOT"),!(s=a&&a.id||o)){e.next=10;break}return e.abrupt("return",t(Object(g.a)({id:s,fromHistory:!1,replaceHistoryState:!0})));case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}},e,void 0)})),function(e,t){return x.apply(this,arguments)})),P=Object(c.b)("Mark Welcome Place as decayed",function(e){return e(Object(b.f)({pref:"welcome_place_state",value:"decayed"}))});Object(c.b)("Fetch messages for channel overview",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.messageTimestamps;if(!r||!a)return Promise.resolve();var i=a.map(function(t){return e(Object(l.b)({channelId:r,oldest:t,latest:t,limit:1}))});return Promise.all(i).then(function(t){var n={};t.forEach(function(e){(e&&e.msgs||[]).forEach(function(e){n[e.ts]=e})}),e(Object(E.d)({channelId:r,messages:n}))})}).propTypes={channelId:o.b.string.isRequired,messageTimestamps:o.b.arrayOf(o.b.string).isRequired};var A,D=Object(c.b)("Decay Welcome Place page if needed",(A=Object(i.method)(function(e,t){var n=t();return Object(N.a)(n)?Promise.resolve():function(e){var t=e.find(function(e){return"workflow"===e.type}),n=Object(w.a)(t,"content.workflow",null);if(!n)return!1;if("in_progress"===n.state&&n.date_start&&T()().diff(1e3*n.date_start,"days")>=14)return!0;if("completed"===n.state){var r=Math.max.apply(Math,I()(n.tasks.map(function(e){return e.date_complete})));if(r&&T()().diff(1e3*r,"days")>=7)return!0}return!1}(Object(R.c)(n))?e(P()):Promise.resolve()}),function(e,t){return A.apply(this,arguments)}));D.propTypes={};var L,q=Object(c.b)("Fetch and set welcome place data",(L=Object(i.coroutine)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.f)(),e.next=3,Object(i.resolve)(t(m({locale:n})));case 3:return r=e.sent,e.next=6,Object(i.resolve)(t(Object(E.f)(a()({},r,{locale:n}))));case 6:return e.next=8,Object(i.resolve)(t(D()));case 8:case"end":return e.stop()}},e,void 0)})),function(e){return L.apply(this,arguments)}));q.propTypes={};var F=Object(c.b)("Fetch and set welcome place data",function(e,t){var n=t(),r=Object(R.a)(n);return r&&Date.now()-r>9e5||0===Object(R.c)(n).length||Object(R.b)(n)!==Object(k.f)()?e(q()):Promise.resolve()});F.propTypes={};var B,U=Object(c.b)("Update the state of a workflow task and reload the welcome place data",(B=Object(i.coroutine)(regeneratorRuntime.mark(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.userTaskId,o=r.state;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("in_progress"!==o){e.next=5;break}return e.next=3,Object(i.resolve)(t(Object(f.d)({userTaskId:a})));case 3:e.next=10;break;case 5:if("completed"!==o){e.next=10;break}return e.next=8,Object(i.resolve)(t(Object(f.b)({userTaskId:a})));case 8:e.next=10;break;case 10:return e.next=12,Object(i.resolve)(t(q()));case 12:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return B.apply(this,arguments)}));U.propTypes={userTaskId:o.b.number,state:o.b.string};var H,K=Object(c.b)("Sends the user to #general and shows the workflow item coachmark if applicable",(H=Object(i.coroutine)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(Object(y.getGeneralChannel)()),e.next=3,Object(i.resolve)(n.promise||Promise.resolve(n));case 3:return r=e.sent,e.next=6,Object(i.resolve)(t(Object(v.a)({channelId:r.id})));case 6:Object(s.a)()?t(Object(u.c)(!0)):Object(d.b)();case 7:case"end":return e.stop()}},e,void 0)})),function(e){return H.apply(this,arguments)}));K.propTypes={};var G,V=Object(c.b)("Clog a click on Welcome Place sidebar close button",(G=Object(i.method)(function(e,t){var n=t();Object(_.a)({state:n}).track("WELCOME_PLACE",{contexts:{ui_context:{action:O.v.CLICK,ui_element:O.y.WELCOME_PLACE_SIDEBAR_DISMISS_BUTTON,ui_element_type:O.j.BUTTON},welcome_place:{welcome_session_id:Object(N.a)(n)?Object(R.e)(n):null}}})}),function(e,t){return G.apply(this,arguments)}));K.propTypes={}},v8Qo:function(e,t,n){"use strict";n.d(t,"e",function(){return y}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return C}),n.d(t,"f",function(){return I}),n.d(t,"d",function(){return w});var r=n("Bw5p"),a=n("7EGn"),i=n("aK/h"),o=n("g5qt"),s=n("HX+W"),c=n("uf9I"),l=n("9/DQ"),u=n("pRVB"),d=n("qgNY"),b=n("yHhI"),p=n("D4L/"),h=n("clTI"),m=n("5mKg"),f=n("Ejsr"),v=n("6kok"),g=n("tVnY"),_=n("x4bP"),O=n("XfeM"),y=Object(O.b)("Navigate to a view",function(e,t,n){var r=t();if(Object(s.c)(r)){var a=Object(s.b)(r),i=Object(f.d)(a,n);i!==a&&e(Object(s.e)({history:i}))}});y.propTypes={viewId:i.b.string,viewName:i.b.string,teamId:i.b.string,teamName:i.b.string,teamIcon:i.b.string};var j=function(e,t,n,r){if(r!==n){e(Object(s.e)({history:r}));var a=Object(c.b)(t),i=Object(f.e)(r),l=i.viewId,u=i.teamId;a===u?e(Object(d.a)({id:l})):o.X&&Object(o.s)(u,l)}},k=Object(O.b)("Go back one view",function(e,t){var n=t(),r=Object(s.b)(n),a=Object(f.c)(r,r.index-1);j(e,n,r,a)}),E=Object(O.b)("Go forward one view",function(e,t){var n=t(),r=Object(s.b)(n),a=Object(f.c)(r,r.index+1);j(e,n,r,a)}),C=Object(O.b)("Go to an index",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).target,r=t(),a=Object(s.b)(r),i=Object(f.c)(a,n);j(e,r,a,i)});C.propTypes={target:i.b.number};var I=Object(O.b)("Sync history stack",function(e,t){return Object(o.R)()?Object(o.D)("navigation-history").then(JSON.parse).then(function(e){if(!e)return null;var n={stack:e.stack.map(function(e){return Object(r.a)(e,["viewId","teamId"])}),index:e.index};return Object(b.a)({getState:t}).info("GLOBAL-NAV","Got persisted navigation history: "+JSON.stringify(n)),e}).then(function(t){return t&&e(Object(s.e)({history:t}))}).finally(function(){return e(Object(s.d)(!0))}):Promise.resolve()}),w=Object(O.b)("Navigation handler",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).viewId,r=t();if(Object(g.b)(r)&&n){var i=Object(p.d)(r);if(Object(_.a)()){if(!i||!Object(u.k)(r))return}else{var o=Object(l.e)(r);if(!i||o!==i.id)return}var s=Object(h.d)(r,n);e(y({viewId:n,viewName:Object(v.x)(r,s,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),teamId:i.id,teamName:Object(m.e)(i),teamIcon:Object(a.a)(i,"icon.image_44")}))}});w.propTypes={viewId:i.b.string.isRequired}},vCuu:function(e,t,n){},vDxo:function(e,t,n){},vFLu:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("iCc5"),c=n.n(s),l=n("V7oC"),u=n.n(l),d=n("FYw3"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("TGBA"),f=n("ifKl"),v=n("aK/h"),g=n("kxpR"),_=n.n(g),O=n("TSYQ"),y=n.n(O),j=(n("VSg/"),{medium:"medium",large:"large"}),k=(v.b.string,v.b.bool,v.b.string,v.b.bool,v.b.string,v.b.string.isRequired,v.b.bool,v.b.string.isRequired,v.b.func,v.b.string,v.b.string,v.b.oneOf(Object(m.a)(j)),v.b.string,{ariaDescribedby:"",ariaInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:f.a,placeholder:"",resize:null,size:j.medium,value:""}),E=function(e){function t(e){c()(this,t);var n=b()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.textAreaRef=_.a.createRef(),n}return h()(t,e),u()(t,[{key:"onChange",value:function(e){this.props.onChange(e.target.value)}},{key:"focus",value:function(){this.textAreaRef.current.focus()}},{key:"blur",value:function(){this.textAreaRef.current.blur()}},{key:"render",value:function(){var e=this.props,t=e.ariaDescribedby,n=e.ariaInvalid,r=e.ariaLabelledby,i=e.ariaRequired,s=e.className,c=e.placeholder,l=e.id,u=e.isDisabled,d=e.name,b=e.resize,p=e.size,h=o()(e,["ariaDescribedby","ariaInvalid","ariaLabelledby","ariaRequired","className","placeholder","id","isDisabled","name","resize","size"]),m=y()("c-input_textarea",{"c-input_textarea--large":p===j.large,"c-input_textarea--resize_none":"none"===b,"c-input_textarea--resize_both":"both"===b,"c-input_textarea--resize_h":"horizontal"===b},s);return _.a.createElement("textarea",a()({},h,{"aria-describedby":t,"aria-invalid":n,"aria-labelledby":r,"aria-required":i,className:m,disabled:u,id:l,name:d,onChange:this.onChange,placeholder:c,ref:this.textAreaRef,value:this.props.value}))}}]),t}(_.a.Component);E.displayName="Textarea",E.defaultProps=k,t.b=E},vKOW:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("x4bP"),a=n("bZHP"),i=void 0;function o(e){return Object(r.a)()?(!i&&a.TimezoneDetector&&(i=new a.TimezoneDetector),i.getList(e)):window.timezones_list(e)}},vMmh:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=new(n("nNoG").b)("countries"),a={Afghanistan:{name:r.t("Afghanistan"),code:"93",examplePhoneNumber:"701234567"},Albania:{name:r.t("Albania"),code:"355",examplePhoneNumber:"661234567"},Algeria:{name:r.t("Algeria"),code:"213",examplePhoneNumber:"561234567"},"American Samoa":{name:r.t("American Samoa"),code:"1684",examplePhoneNumber:"(201) 555-5555"},Andorra:{name:r.t("Andorra"),code:"376",examplePhoneNumber:"312 345"},Angola:{name:r.t("Angola"),code:"244",examplePhoneNumber:"923 123 456"},Anguilla:{name:r.t("Anguilla"),code:"1264",examplePhoneNumber:"(201) 555-5555"},Antarctica:{name:r.t("Antarctica"),code:"672",examplePhoneNumber:"(201) 555-5555"},"Antigua and Barbuda":{name:r.t("Antigua and Barbuda"),code:"1268",examplePhoneNumber:"(201) 555-5555"},Argentina:{name:r.t("Argentina"),code:"54",examplePhoneNumber:"91123456789"},Armenia:{name:r.t("Armenia"),code:"374",examplePhoneNumber:"77123456"},Aruba:{name:r.t("Aruba"),code:"297",examplePhoneNumber:"560 1234"},Australia:{name:r.t("Australia"),code:"61",examplePhoneNumber:"412345678"},Austria:{name:r.t("Austria"),code:"43",examplePhoneNumber:"664123456"},Azerbaijan:{name:r.t("Azerbaijan"),code:"994",examplePhoneNumber:"401234567"},Bahamas:{name:r.t("Bahamas"),code:"1242",examplePhoneNumber:"(201) 555-5555"},Bahrain:{name:r.t("Bahrain"),code:"973",examplePhoneNumber:"3600 1234"},Bangladesh:{name:r.t("Bangladesh"),code:"880",examplePhoneNumber:"1812345678"},Barbados:{name:r.t("Barbados"),code:"1246",examplePhoneNumber:"(201) 555-5555"},Belarus:{name:r.t("Belarus"),code:"375",examplePhoneNumber:"294911911"},Belgium:{name:r.t("Belgium"),code:"32",examplePhoneNumber:"470123456"},Belize:{name:r.t("Belize"),code:"501",examplePhoneNumber:"622-1234"},Benin:{name:r.t("Benin"),code:"229",examplePhoneNumber:"90 01 12 34"},Bermuda:{name:r.t("Bermuda"),code:"1441",examplePhoneNumber:"(201) 555-5555"},Bhutan:{name:r.t("Bhutan"),code:"975",examplePhoneNumber:"17 12 23 56"},Bolivia:{name:r.t("Bolivia"),code:"591",examplePhoneNumber:"71234567"},"Bosnia and Herzegovina":{name:r.t("Bosnia and Herzegovina"),code:"387",examplePhoneNumber:"61123456"},Botswana:{name:r.t("Botswana"),code:"267",examplePhoneNumber:"71123456"},"Bouvet Island":{name:r.t("Bouvet Island"),code:"55",examplePhoneNumber:"71123456"},Brazil:{name:r.t("Brazil"),code:"55",examplePhoneNumber:"1196123-4567"},"British Virgin Islands":{name:r.t("British Virgin Islands"),code:"1284",examplePhoneNumber:"(201) 555-5555"},Brunei:{name:r.t("Brunei"),code:"673",examplePhoneNumber:"7123456"},Bulgaria:{name:r.t("Bulgaria"),code:"359",examplePhoneNumber:"48123456"},"Burkina Faso":{name:r.t("Burkina Faso"),code:"226",examplePhoneNumber:"70123456"},Burundi:{name:r.t("Burundi"),code:"257",examplePhoneNumber:"79 56 12 34"},Cambodia:{name:r.t("Cambodia"),code:"855",examplePhoneNumber:"91234567"},Cameroon:{name:r.t("Cameroon"),code:"237",examplePhoneNumber:"6 71 23 45 67"},Canada:{name:r.t("Canada"),code:"1",examplePhoneNumber:"(201) 555-5555"},"Cape Verde":{name:r.t("Cape Verde"),code:"238",examplePhoneNumber:"991 12 34"},"Caribbean Netherlands":{name:r.t("Caribbean Netherlands"),code:"599",examplePhoneNumber:"9 518 1234"},"Cayman Islands":{name:r.t("Cayman Islands"),code:"1345",examplePhoneNumber:"(201) 555-5555"},"Central African Republic":{name:r.t("Central African Republic"),code:"236",examplePhoneNumber:"70 01 23 45"},Chad:{name:r.t("Chad"),code:"235",examplePhoneNumber:"63 01 23 45"},Chile:{name:r.t("Chile"),code:"56",examplePhoneNumber:"961234567"},China:{name:r.t("China"),code:"86",examplePhoneNumber:"131 2345 6789"},"Christmas Island":{name:r.t("Christmas Island"),code:"61",examplePhoneNumber:"412345678"},"Cocos [Keeling] Islands":{name:r.t("Cocos [Keeling] Islands"),code:"61",examplePhoneNumber:"412345678"},Colombia:{name:r.t("Colombia"),code:"57",examplePhoneNumber:"321 1234567"},Comoros:{name:r.t("Comoros"),code:"269",examplePhoneNumber:"321 23 45"},"Congo - Brazzaville":{name:r.t("Congo - Brazzaville"),code:"242",examplePhoneNumber:"61234567"},"Congo - Kinshasa":{name:r.t("Congo - Kinshasa"),code:"243",examplePhoneNumber:"991234567"},"Cook Islands":{name:r.t("Cook Islands"),code:"682",examplePhoneNumber:"71 234"},"Costa Rica":{name:r.t("Costa Rica"),code:"506",examplePhoneNumber:"8312 3456"},"C\xf4te d'Ivoire":{name:r.t("C\xf4te d'Ivoire"),code:"225",examplePhoneNumber:"12 34 56 7"},Croatia:{name:r.t("Croatia"),code:"385",examplePhoneNumber:"912345678"},"Cura\xe7ao":{name:r.t("Cura\xe7ao"),code:"5999",examplePhoneNumber:"9 518 1234"},Cyprus:{name:r.t("Cyprus"),code:"357",examplePhoneNumber:"96 123456"},"Czech Republic":{name:r.t("Czech Republic"),code:"420",examplePhoneNumber:"601 123 456"},Denmark:{name:r.t("Denmark"),code:"45",examplePhoneNumber:"20 12 34 56"},Djibouti:{name:r.t("Djibouti"),code:"253",examplePhoneNumber:"77 83 10 01"},Dominica:{name:r.t("Dominica"),code:"1767",examplePhoneNumber:"(201) 555-5555"},"Dominican Republic":{name:r.t("Dominican Republic"),code:"1",examplePhoneNumber:"(201) 555-5555"},Ecuador:{name:r.t("Ecuador"),code:"593",examplePhoneNumber:"991234567"},Egypt:{name:r.t("Egypt"),code:"20",examplePhoneNumber:"1001234567"},"El Salvador":{name:r.t("El Salvador"),code:"503",examplePhoneNumber:"7012 3456"},"Equatorial Guinea":{name:r.t("Equatorial Guinea"),code:"240",examplePhoneNumber:"222 123 456"},Eritrea:{name:r.t("Eritrea"),code:"291",examplePhoneNumber:"7123456"},Estonia:{name:r.t("Estonia"),code:"372",examplePhoneNumber:"5123 4567"},Ethiopia:{name:r.t("Ethiopia"),code:"251",examplePhoneNumber:"911234567"},"Falkland Islands":{name:r.t("Falkland Islands"),code:"500",examplePhoneNumber:"51234"},"Faroe Islands":{name:r.t("Faroe Islands"),code:"298",examplePhoneNumber:"211234"},Fiji:{name:r.t("Fiji"),code:"679",examplePhoneNumber:"701 2345"},Finland:{name:r.t("Finland"),code:"358",examplePhoneNumber:"412345678"},France:{name:r.t("France"),code:"33",examplePhoneNumber:"612345678"},"French Guiana":{name:r.t("French Guiana"),code:"594",examplePhoneNumber:"694201234"},"French Polynesia":{name:r.t("French Polynesia"),code:"689",examplePhoneNumber:"87 12 34 56"},Gabon:{name:r.t("Gabon"),code:"241",examplePhoneNumber:"6 03 12 34"},Gambia:{name:r.t("Gambia"),code:"220",examplePhoneNumber:"301 2345"},Georgia:{name:r.t("Georgia"),code:"995",examplePhoneNumber:"550 12 34 56"},Germany:{name:r.t("Germany"),code:"49",examplePhoneNumber:"15123456789"},Ghana:{name:r.t("Ghana"),code:"233",examplePhoneNumber:"231234567"},Gibraltar:{name:r.t("Gibraltar"),code:"350",examplePhoneNumber:"57123456"},Greece:{name:r.t("Greece"),code:"30",examplePhoneNumber:"691 234 5678"},Greenland:{name:r.t("Greenland"),code:"299",examplePhoneNumber:"22 12 34"},Grenada:{name:r.t("Grenada"),code:"1473",examplePhoneNumber:"(201) 555-5555"},Guadeloupe:{name:r.t("Guadeloupe"),code:"590",examplePhoneNumber:"690301234"},Guam:{name:r.t("Guam"),code:"1671",examplePhoneNumber:"(201) 555-5555"},Guatemala:{name:r.t("Guatemala"),code:"502",examplePhoneNumber:"5123 4567"},Guinea:{name:r.t("Guinea"),code:"224",examplePhoneNumber:"601 12 34 56"},"Guinea-Bissau":{name:r.t("Guinea-Bissau"),code:"245",examplePhoneNumber:"955 012 345"},Guyana:{name:r.t("Guyana"),code:"592",examplePhoneNumber:"609 1234"},Haiti:{name:r.t("Haiti"),code:"509",examplePhoneNumber:"34 10 1234"},Honduras:{name:r.t("Honduras"),code:"504",examplePhoneNumber:"9123-4567"},"Hong Kong":{name:r.t("Hong Kong"),code:"852",examplePhoneNumber:"5123 4567"},Hungary:{name:r.t("Hungary"),code:"36",examplePhoneNumber:"20 123 4567"},Iceland:{name:r.t("Iceland"),code:"354",examplePhoneNumber:"611 1234"},India:{name:r.t("India"),code:"91",examplePhoneNumber:"91234 56789"},Indonesia:{name:r.t("Indonesia"),code:"62",examplePhoneNumber:"812345678"},Iran:{name:r.t("Iran"),code:"98",examplePhoneNumber:"9123456789"},Iraq:{name:r.t("Iraq"),code:"964",examplePhoneNumber:"7912345678"},Ireland:{name:r.t("Ireland"),code:"353",examplePhoneNumber:"850123456"},"Isle of Man":{name:r.t("Isle of Man"),code:"44",examplePhoneNumber:"7400123456"},Israel:{name:r.t("Israel"),code:"972",examplePhoneNumber:"501234567"},Italy:{name:r.t("Italy"),code:"39",examplePhoneNumber:"312 345 6789"},Jamaica:{name:r.t("Jamaica"),code:"1876",examplePhoneNumber:"(201) 555-5555"},Japan:{name:r.t("Japan"),code:"81",examplePhoneNumber:"9012345678"},Jersey:{name:r.t("Jersey"),code:"44",examplePhoneNumber:"7400123456"},Jordan:{name:r.t("Jordan"),code:"962",examplePhoneNumber:"790123456"},Kazakhstan:{name:r.t("Kazakhstan"),code:"7",examplePhoneNumber:"912 345-67-89"},Kenya:{name:r.t("Kenya"),code:"254",examplePhoneNumber:"712123456"},Kiribati:{name:r.t("Kiribati"),code:"686",examplePhoneNumber:"72012345"},Kosovo:{name:r.t("Kosovo"),code:"383",examplePhoneNumber:"500 12345"},Kuwait:{name:r.t("Kuwait"),code:"965",examplePhoneNumber:"500 12345"},Kyrgyzstan:{name:r.t("Kyrgyzstan"),code:"996",examplePhoneNumber:"700123456"},Laos:{name:r.t("Laos"),code:"856",examplePhoneNumber:"2023123456"},Latvia:{name:r.t("Latvia"),code:"371",examplePhoneNumber:"21 234 567"},Lebanon:{name:r.t("Lebanon"),code:"961",examplePhoneNumber:"71 123 456"},Lesotho:{name:r.t("Lesotho"),code:"266",examplePhoneNumber:"5012 3456"},Liberia:{name:r.t("Liberia"),code:"231",examplePhoneNumber:"770123456"},Libya:{name:r.t("Libya"),code:"218",examplePhoneNumber:"912345678"},Liechtenstein:{name:r.t("Liechtenstein"),code:"423",examplePhoneNumber:"660 234 567"},Lithuania:{name:r.t("Lithuania"),code:"370",examplePhoneNumber:"612 34567"},Luxembourg:{name:r.t("Luxembourg"),code:"352",examplePhoneNumber:"628 123 456"},Macau:{name:r.t("Macau"),code:"853",examplePhoneNumber:"66123456"},Macedonia:{name:r.t("Macedonia"),code:"389",examplePhoneNumber:"72345678"},Madagascar:{name:r.t("Madagascar"),code:"261",examplePhoneNumber:"321234567"},Malawi:{name:r.t("Malawi"),code:"265",examplePhoneNumber:"991234567"},Malaysia:{name:r.t("Malaysia"),code:"60",examplePhoneNumber:"123456789"},Maldives:{name:r.t("Maldives"),code:"960",examplePhoneNumber:"771-2345"},Mali:{name:r.t("Mali"),code:"223",examplePhoneNumber:"65 01 23 45"},Malta:{name:r.t("Malta"),code:"356",examplePhoneNumber:"9696 1234"},"Marshall Islands":{name:r.t("Marshall Islands"),code:"692",examplePhoneNumber:"235-1234"},Martinique:{name:r.t("Martinique"),code:"596",examplePhoneNumber:"696201234"},Mauritania:{name:r.t("Mauritania"),code:"222",examplePhoneNumber:"22 12 34 56"},Mauritius:{name:r.t("Mauritius"),code:"230",examplePhoneNumber:"5251 2345"},Mayotte:{name:r.t("Mayotte"),code:"262",examplePhoneNumber:"692123456"},Mexico:{name:r.t("Mexico"),code:"52",examplePhoneNumber:"12221234567"},Micronesia:{name:r.t("Micronesia"),code:"691",examplePhoneNumber:"350 1234"},Moldova:{name:r.t("Moldova"),code:"373",examplePhoneNumber:"62112345"},Monaco:{name:r.t("Monaco"),code:"377",examplePhoneNumber:"612345678"},Mongolia:{name:r.t("Mongolia"),code:"976",examplePhoneNumber:"8812 3456"},Montenegro:{name:r.t("Montenegro"),code:"382",examplePhoneNumber:"067 222 123"},Montserrat:{name:r.t("Montserrat"),code:"1664",examplePhoneNumber:"(201) 555-5555"},Morocco:{name:r.t("Morocco"),code:"212",examplePhoneNumber:"650123456"},Mozambique:{name:r.t("Mozambique"),code:"258",examplePhoneNumber:"82 123 4567"},"Myanmar [Burma]":{name:r.t("Myanmar [Burma]"),code:"95",examplePhoneNumber:"92123456"},Namibia:{name:r.t("Namibia"),code:"264",examplePhoneNumber:"811234567"},Nauru:{name:r.t("Nauru"),code:"674",examplePhoneNumber:"555 1234"},Nepal:{name:r.t("Nepal"),code:"977",examplePhoneNumber:"984-1234567"},Netherlands:{name:r.t("Netherlands"),code:"31",examplePhoneNumber:"612345678"},"New Caledonia":{name:r.t("New Caledonia"),code:"687",examplePhoneNumber:"75.12.34"},"New Zealand":{name:r.t("New Zealand"),code:"64",examplePhoneNumber:"211234567"},Nicaragua:{name:r.t("Nicaragua"),code:"505",examplePhoneNumber:"8123 4567"},Niger:{name:r.t("Niger"),code:"227",examplePhoneNumber:"93 12 34 45"},Nigeria:{name:r.t("Nigeria"),code:"234",examplePhoneNumber:"8021234567"},Niue:{name:r.t("Niue"),code:"683",examplePhoneNumber:"1234"},"Norfolk Island":{name:r.t("Norfolk Island"),code:"672",examplePhoneNumber:"3 81234"},"Northern Mariana Islands":{name:r.t("Northern Mariana Islands"),code:"1670",examplePhoneNumber:"(201) 555-5555"},Norway:{name:r.t("Norway"),code:"47",examplePhoneNumber:"406 12 345"},Oman:{name:r.t("Oman"),code:"968",examplePhoneNumber:"9212 3456"},Pakistan:{name:r.t("Pakistan"),code:"92",examplePhoneNumber:"3012345678"},Palau:{name:r.t("Palau"),code:"680",examplePhoneNumber:"620 1234"},"Palestinian Territories":{name:r.t("Palestinian Territories"),code:"970",examplePhoneNumber:"599123456"},Panama:{name:r.t("Panama"),code:"507",examplePhoneNumber:"6001-2345"},"Papua New Guinea":{name:r.t("Papua New Guinea"),code:"675",examplePhoneNumber:"681 2345"},Paraguay:{name:r.t("Paraguay"),code:"595",examplePhoneNumber:"961345678"},Peru:{name:r.t("Peru"),code:"51",examplePhoneNumber:"912 345 678"},Philippines:{name:r.t("Philippines"),code:"63",examplePhoneNumber:"9051234567"},"Pitcairn Islands":{name:r.t("Pitcairn Islands"),code:"64",examplePhoneNumber:"712345678"},Poland:{name:r.t("Poland"),code:"48",examplePhoneNumber:"512 345 678"},Portugal:{name:r.t("Portugal"),code:"351",examplePhoneNumber:"912 345 678"},"Puerto Rico":{name:r.t("Puerto Rico"),code:"1",examplePhoneNumber:"(201) 555-5555"},Qatar:{name:r.t("Qatar"),code:"974",examplePhoneNumber:"3312 3456"},"R\xe9union":{name:r.t("R\xe9union"),code:"974",examplePhoneNumber:"692123456"},Romania:{name:r.t("Romania"),code:"40",examplePhoneNumber:"712345678"},Russia:{name:r.t("Russia"),code:"7",examplePhoneNumber:"912 345-67-89"},Rwanda:{name:r.t("Rwanda"),code:"250",examplePhoneNumber:"720123456"},"Saint Barth\xe9lemy":{name:r.t("Saint Barth\xe9lemy"),code:"590",examplePhoneNumber:"690301234"},"Saint Helena":{name:r.t("Saint Helena"),code:"290",examplePhoneNumber:"21234"},"Saint Kitts and Nevis":{name:r.t("Saint Kitts and Nevis"),code:"1869",examplePhoneNumber:"(201) 555-5555"},"Saint Lucia":{name:r.t("Saint Lucia"),code:"1758",examplePhoneNumber:"(201) 555-5555"},"Saint Martin":{name:r.t("Saint Martin"),code:"599",examplePhoneNumber:"690301234"},"Saint Pierre and Miquelon":{name:r.t("Saint Pierre and Miquelon"),code:"508",examplePhoneNumber:"551234"},"Saint Vincent and the Grenadines":{name:r.t("Saint Vincent and the Grenadines"),code:"1784",examplePhoneNumber:"(201) 555-5555"},Samoa:{name:r.t("Samoa"),code:"685",examplePhoneNumber:"601234"},"San Marino":{name:r.t("San Marino"),code:"378",examplePhoneNumber:"66 66 12 12"},"S\xe3o Tom\xe9 and Pr\xedncipe":{name:r.t("S\xe3o Tom\xe9 and Pr\xedncipe"),code:"239",examplePhoneNumber:"981 2345"},"Saudi Arabia":{name:r.t("Saudi Arabia"),code:"966",examplePhoneNumber:"512345678"},Senegal:{name:r.t("Senegal"),code:"221",examplePhoneNumber:"70 123 45 67"},Serbia:{name:r.t("Serbia"),code:"381",examplePhoneNumber:"601234567"},Seychelles:{name:r.t("Seychelles"),code:"248",examplePhoneNumber:"2 510 123"},"Sierra Leone":{name:r.t("Sierra Leone"),code:"232",examplePhoneNumber:"25123456"},Singapore:{name:r.t("Singapore"),code:"65",examplePhoneNumber:"8123 4567"},"Sint Maarten":{name:r.t("Sint Maarten"),code:"1721",examplePhoneNumber:"(201) 555-5555"},Slovakia:{name:r.t("Slovakia"),code:"421",examplePhoneNumber:"912123456"},Slovenia:{name:r.t("Slovenia"),code:"386",examplePhoneNumber:"31234567"},"Solomon Islands":{name:r.t("Solomon Islands"),code:"386",examplePhoneNumber:"74 21234"},Somalia:{name:r.t("Somalia"),code:"252",examplePhoneNumber:"7 1123456"},"South Africa":{name:r.t("South Africa"),code:"27",examplePhoneNumber:"711234567"},"South Korea":{name:r.t("South Korea"),code:"82",examplePhoneNumber:"1000000000"},"South Sudan":{name:r.t("South Sudan"),code:"211",examplePhoneNumber:"977123456"},Spain:{name:r.t("Spain"),code:"34",examplePhoneNumber:"612 34 56 78"},"Sri Lanka":{name:r.t("Sri Lanka"),code:"94",examplePhoneNumber:"712345678"},Suriname:{name:r.t("Suriname"),code:"597",examplePhoneNumber:"741-2345"},"Svalbard and Jan Mayen":{name:r.t("Svalbard and Jan Mayen"),code:"47",examplePhoneNumber:"406 12 345"},Swaziland:{name:r.t("Swaziland"),code:"268",examplePhoneNumber:"7612 3456"},Sweden:{name:r.t("Sweden"),code:"46",examplePhoneNumber:"701234567"},Switzerland:{name:r.t("Switzerland"),code:"41",examplePhoneNumber:"781234567"},Taiwan:{name:r.t("Taiwan"),code:"886",examplePhoneNumber:"912345678"},Tajikistan:{name:r.t("Tajikistan"),code:"992",examplePhoneNumber:"917 12 3456"},Tanzania:{name:r.t("Tanzania"),code:"255",examplePhoneNumber:"621234567"},Thailand:{name:r.t("Thailand"),code:"66",examplePhoneNumber:"812345678"},"Timor-Leste":{name:r.t("Timor-Leste"),code:"670",examplePhoneNumber:"7721 2345"},Togo:{name:r.t("Togo"),code:"228",examplePhoneNumber:"90 11 23 45"},Tokelau:{name:r.t("Tokelau"),code:"690",examplePhoneNumber:"7290"},Tonga:{name:r.t("Tonga"),code:"676",examplePhoneNumber:"771 5123"},"Trinidad and Tobago":{name:r.t("Trinidad and Tobago"),code:"1868",examplePhoneNumber:"(201) 555-5555"},Tunisia:{name:r.t("Tunisia"),code:"216",examplePhoneNumber:"20 123 456"},Turkey:{name:r.t("Turkey"),code:"90",examplePhoneNumber:"501 234 5678"},Turkmenistan:{name:r.t("Turkmenistan"),code:"993",examplePhoneNumber:"66123456"},"Turks and Caicos Islands":{name:r.t("Turks and Caicos Islands"),code:"1649",examplePhoneNumber:"(201) 555-5555"},Tuvalu:{name:r.t("Tuvalu"),code:"688",examplePhoneNumber:"901234"},"U.S. Virgin Islands":{name:r.t("U.S. Virgin Islands"),code:"1340",examplePhoneNumber:"(201) 555-5555"},Uganda:{name:r.t("Uganda"),code:"256",examplePhoneNumber:"712345678"},Ukraine:{name:r.t("Ukraine"),code:"380",examplePhoneNumber:"391234567"},"United Arab Emirates":{name:r.t("United Arab Emirates"),code:"971",examplePhoneNumber:"501234567"},"United Kingdom":{name:r.t("United Kingdom"),code:"44",examplePhoneNumber:"7400123456"},"United States":{name:r.t("United States"),code:"1",examplePhoneNumber:"(201) 555-5555"},Uruguay:{name:r.t("Uruguay"),code:"598",examplePhoneNumber:"94231234"},Uzbekistan:{name:r.t("Uzbekistan"),code:"998",examplePhoneNumber:"912345678"},Vanuatu:{name:r.t("Vanuatu"),code:"678",examplePhoneNumber:"591 2345"},"Vatican City":{name:r.t("Vatican City"),code:"39",examplePhoneNumber:"312 345 6789"},Venezuela:{name:r.t("Venezuela"),code:"58",examplePhoneNumber:"4121234567"},Vietnam:{name:r.t("Vietnam"),code:"84",examplePhoneNumber:"91 234 56 78"},"Wallis and Futuna":{name:r.t("Wallis and Futuna"),code:"681",examplePhoneNumber:"50 12 34"},"Western Sahara":{name:r.t("Western Sahara"),code:"212",examplePhoneNumber:"650123456"},Yemen:{name:r.t("Yemen"),code:"967",examplePhoneNumber:"712345678"},Zambia:{name:r.t("Zambia"),code:"260",examplePhoneNumber:"955123456"},Zimbabwe:{name:r.t("Zimbabwe"),code:"263",examplePhoneNumber:"711234567"}},i=a["United States"]},vOh4:function(e,t,n){"use strict";n.d(t,"i",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"m",function(){return v}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return y}),n.d(t,"g",function(){return j}),n.d(t,"f",function(){return k}),n.d(t,"j",function(){return E}),n.d(t,"k",function(){return C}),n.d(t,"l",function(){return I});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("lCmp"),c=n("HiDb"),l=n("zmn3"),u=n("aLpA"),d=n("e4Fz"),b=new(n("nNoG").b)("block_kit"),p=function(e){return e&&{originalOption:e,description:e.description&&e.description.text,label:e.text&&e.text.text,value:e.value,isPlaceholder:e.isPlaceholder||!1}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(l.a)(e,function(e){return p(e)})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(l.a)(e,function(e){var t=e.label,n=e.options;return{label:t.text,options:h(n)}})},f=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text},v=function(e){var t=e.placeholder,n=void 0===t?{}:t,r=e.emojiProcessor,a=e.fallback,i=void 0===a?b("Choose an option"):a,o=f(n);return o&&n.emoji?r(n.text):o||i},g=function(e,t){return e.find(function(e){return e.value===t})},_=function(e,t){return g(Object(c.a)(e,function(e){return e.options}),t)},O=function(e,t){return g(e,t)},y=function(e){return e.map(function(e){return e.originalOption})},j=function(e,t,n,r){return a()({},t,a()({},n,o()({type:e},r)))},k=function(e,t){return a()({},e,t)},E=function(e,t){var n=t.isRequired,r=t.minCharacterLimit,a=t.maxCharacterLimit,i=t.featureAppViewsV1,o=null;return n&&!e?o=i?b.t("Please complete this required field."):"Please complete this required field.":r&&e&&e.length<r?o=Object(d.c)(r,i):a&&e&&e.length>a&&(o=Object(d.b)(a,i)),o},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};switch(e.type){case u.e.channels_select:t=e.initialChannel&&{selected_channel:e.initialChannel};break;case u.e.multi_channels_select:t=e.initialChannels&&{selected_channels:e.initialChannels};break;case u.e.users_select:t=e.initialUser&&{selected_user:e.initialUser};break;case u.e.multi_users_select:t=e.initialUsers&&{selected_users:e.initialUsers};break;case u.e.conversations_select:t=e.initialConversation&&{selected_conversation:e.initialConversation};break;case u.e.multi_conversations_select:t=e.initialConversations&&{selected_conversations:e.initialConversations};break;case u.e.static_select:case u.e.external_select:t=e.initialOption&&{selected_option:e.initialOption};break;case u.e.datepicker:t=e.initialDate&&{selected_date:e.initialDate};break;case u.e.range_datepicker:t=(e.initialStartDate||e.initialEndDate)&&{selected_start_date:e.initialStartDate,selected_end_date:e.initialEndDate};break;case u.e.plain_text_input:t=e.initialValue&&{value:e.initialValue}}return t},I=function(e,t){return Object(s.a)(e,function(e){var n=e.type;return e.block_id===t&&n===u.d.input})}},vSXf:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("xnu4"),c=n("owWc"),l=n("kxpR"),u=n.n(l),d=n("aK/h"),b=n("/LiH"),p=n.n(b),h=n("HO/Y");function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){function n(n,r){var i=function(e){var t=e&&e.store;if(t&&t.getState)return t.getState()}(r);if(!i)throw new Error("withFeatures helper is being used without being provided a redux instance. A withFeatures helper must have a Provider ancestor");var l=Object(c.a)(t,function(e,t){if(0!==t.indexOf("feature_"))throw new Error("withFeatures helpers is being passed "+t+", which is not a feature flag. Feature flags look like feature_foo");return e[Object(s.a)(t)]=Object(h.j)(i,t),e},{}),d=n.innerRef,b=o()(n,["innerRef"]);return u.a.createElement(e,a()({},l,b,{ref:d}))}return n.contextTypes={store:d.b.object},n.defaultProps={innerRef:void 0},n.displayName="withFeatures("+e.displayName+")",p()(n,e)}}},vZqh:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("XfeM"),o=n("/Q0P"),s=a.a.lazy(function(){return Promise.resolve().then(n.bind(null,"JuZt"))}),c=Object(i.b)("Opens remove member dialog",function(e,t,n){return e(Object(o.a)({element:a.a.createElement(s,n)}))});c.propTypes=null,t.a=c},vakV:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("Qaea"),g=n("9rZX"),_=n.n(g),O=n("TSYQ"),y=n.n(O),j=n("DD2j"),k=(n("CbHP"),h.b.node.isRequired,h.b.bool,h.b.func,h.b.func,h.b.string,h.b.number,h.b.number,h.b.number,h.b.number,h.b.shape({top:h.b.number,left:h.b.number,right:h.b.number,bottom:h.b.number,height:h.b.number,width:h.b.number}),h.b.func,h.b.string,h.b.string,h.b.bool,h.b.func,h.b.oneOf(["above_fs","fs","menu","below_menu"]),h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.bool,h.b.string,h.b.string,h.b.object,h.b.object,h.b.bool,{allowanceX:16,allowanceY:10,offsetX:0,offsetY:0,isOpen:!1,onOpen:p.a,onClose:p.a,position:null,targetBounds:{top:0,left:0,right:20,bottom:20},onResize:p.a,overlayClassName:"c-popover",modalBodyOpenClassName:void 0,useTargetBoundsAsPosition:!1,parentSelector:void 0,zIndex:"above_fs",shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldObserveResize:!0,shouldPropagateOnClose:!1,shouldFade:!0,ariaHideApp:void 0,ariaRole:"presentation",ariaLabel:void 0,contentStyle:{},overlayStyle:{},shouldAnchorAtInitialPosition:!1}),E=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onResize=n.onResize.bind(n),n.onOpen=n.onOpen.bind(n),n.onClose=n.onClose.bind(n),n.setContentRef=n.setContentRef.bind(n),n.popoverContent=null,n.popoverContentHeight=null,n.state={contentBounds:{},targetBounds:n.props.targetBounds},n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.targetBounds!==e.targetBounds&&this.setState(function(){return{targetBounds:e.targetBounds}},function(){return t.measureContents()})}},{key:"componentDidUpdate",value:function(){if(this.props.isOpen&&this.popoverContent){var e=this.popoverContent.offsetHeight;e!==this.popoverContentHeight&&(this.popoverContentHeight=e,this.measureContents())}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function(){this.props.onResize&&this.props.onResize(),this.props.isOpen&&this.measureContents()}},{key:"onOpen",value:function(){this.props.onOpen(),this.measureContents(),this.popoverContent&&this.props.shouldObserveResize&&(this.mutationObserver=new MutationObserver(this.onResize),this.mutationObserver.observe(this.popoverContent,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}},{key:"onClose",value:function(e){this.props.shouldPropagateOnClose||e.stopPropagation(),this.props.onClose(e),this.setState(function(){return{contentBounds:{}}}),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)}},{key:"setContentRef",value:function(e){this.popoverContent=e}},{key:"getInitialPosition",value:function(e){var t=this.props,n=t.position,r=t.offsetX,a=t.offsetY,i=this.state.targetBounds;switch(n){case"top":return{width:e.width,height:e.height,top:i.top-e.height+a,bottom:i.top+a,right:i.right-(i.width-e.width)/2-r,left:i.left+(i.width-e.width)/2+r};case"top-left":return{width:e.width,height:e.height,top:i.top-e.height+a,bottom:i.top+a,right:i.left+e.width+r,left:i.left+r};case"top-right":return{width:e.width,height:e.height,top:i.top-e.height+a,bottom:i.top+a,right:i.right+r,left:i.right-e.width+r};case"left":return{width:e.width,height:e.height,top:i.top+(i.height-e.height)/2+a,bottom:i.bottom-(i.height-e.height)/2-a,right:i.left+r,left:i.left-e.width+r};case"left-bottom":return{width:e.width,height:e.height,top:i.top+a,bottom:i.top+e.height+a,right:i.left+r,left:i.left-e.width+r};case"right":return{width:e.width,height:e.height,top:i.top+(i.height-e.height)/2+a,bottom:i.bottom-(i.height-e.height)/2-a,right:i.right+e.width+r,left:i.right+r};case"right-bottom":return{width:e.width,height:e.height,top:i.top+a,bottom:i.bottom+e.height+a,right:i.right+e.width+r,left:i.right+r};case"bottom":return{width:e.width,height:e.height,top:i.bottom+a,bottom:i.bottom+e.height+a,right:i.right-(i.width-e.width)/2-r,left:i.left+(i.width-e.width)/2+r};case"bottom-left":return{width:e.width,height:e.height,top:i.bottom+a,bottom:i.bottom+e.height+a,right:i.left+e.width+r,left:i.left+r};case"bottom-right":return{width:e.width,height:e.height,top:i.bottom+a,bottom:i.bottom+e.height+a,right:i.right+r,left:i.right-e.width+r};default:return this.props.useTargetBoundsAsPosition?i:e}}},{key:"getBoundaries",value:function(){var e=window,t=e.pageYOffset,n=e.innerWidth,r=e.innerHeight;return{top:Object(j.a)(t+this.props.allowanceY),right:n-this.props.allowanceX,bottom:t+r-this.props.allowanceY,left:this.props.allowanceX}}},{key:"getStyle",value:function(){var e=this.state.contentBounds||{},t=this.getBoundaries(),n=this.props.shouldFade&&"200ms";return{overlay:a()({animationDuration:n},this.props.overlayStyle),content:a()({position:"absolute",left:e.left||t.left,top:e.top||t.top,outline:"none",transitionDuration:n},this.props.contentStyle)}}},{key:"keepInBounds",value:function(e){var t=this.getBoundaries(),n=this.getInitialPosition(e),r=n.left,a=n.top;return n.left<t.left?r=t.left:n.right>t.right&&(r=Math.max(t.left,t.right-n.width)),n.top<t.top?a=t.top:n.bottom>t.bottom&&(a=Math.max(t.top,t.bottom-n.height)),{left:r,top:a}}},{key:"measureContents",value:function(){if(this.popoverContent){var e=Object(v.findDOMNode)(this.popoverContent).getBoundingClientRect(),t=this.props.shouldAnchorAtInitialPosition?this.getInitialPosition(e):this.keepInBounds(e),n=this.state.contentBounds;if(n.left===t.left&&n.top===t.top)return;this.setState(function(){return{contentBounds:t}})}}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=y()(this.props.overlayClassName,"c-popover--z_"+this.props.zIndex,{"c-popover--fade":this.props.shouldFade}),t=this.props.shouldFade?200:0,n={label:this.props.ariaLabel};return f.a.createElement(_.a,{isOpen:this.props.isOpen,contentLabel:"popover",className:"popover",overlayClassName:e,bodyOpenClassName:this.props.modalBodyOpenClassName,style:this.getStyle(),onAfterOpen:this.onOpen,onRequestClose:this.onClose,parentSelector:this.props.parentSelector,shouldFocusAfterRender:this.props.shouldFocusAfterRender,shouldCloseOnOverlayClick:this.props.shouldCloseOnOverlayClick,shouldReturnFocusAfterClose:this.props.shouldReturnFocusAfterClose,closeTimeoutMS:t,ariaHideApp:this.props.ariaHideApp,role:this.props.ariaRole,aria:n},f.a.createElement("div",{ref:this.setContentRef,role:"presentation"},this.props.children))}}]),t}(m.Component);E.displayName="Popover",t.a=E,E.defaultProps=k},vbTZ:function(e,t,n){},vhAc:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u});var r=n("7EGn"),a=n("aK/h"),i=n("4zXV"),o=n("om+M"),s=n("Y/4G"),c=Object(o.a)("fetch a list of app actions",function(e){return e(Object(i.a)({method:"apps.actions.list",args:{},reason:"fetch-app-actions"})).then(function(e){return Object(r.a)(e,"app_actions",{})})}),l=Object(o.a)("run an app action",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type,a=n.actionId,o=n.appId,c=n.channelId,l=n.messageTs;return e(Object(i.a)({method:"apps.actions.run",args:{action_id:a,type:r,app_id:o,channel:c,message_ts:l,client_token:s.a.generateAndEnqueue()}}))});l.propTypes={type:a.b.string,actionId:a.b.string,appId:a.b.string,channelId:a.b.string,messageTs:a.b.string};var u=Object(o.a)("fetch a list of app actions for a given resource",function(e,t,n){var a=n.resourceType,o=n.resourceId;return e(Object(i.a)({method:"apps.actions.listForResource",args:{resource_type:a,resource_id:o},reason:"fetch-app-actions-for-resource"})).then(function(e){return Object(r.a)(e,"actions",[])})});u.propTypes={resourceType:a.b.oneOf(["channel"]).isRequired,resourceId:a.b.string.isRequired}},vhF3:function(e,t,n){},vht4:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("tn36"),p=n("kxpR"),h=n.n(p),m=n("TSYQ"),f=n.n(m),v=n("aK/h"),g=n("ubOb"),_=n("VMwU"),O=n("nNoG"),y=(n("xMP7"),new O.b("color_picker")),j=(v.b.number,v.b.shape({saturation:v.b.number.isRequired,brightness:v.b.number.isRequired}),v.b.func,v.b.func,v.b.func,v.b.bool.isRequired,{hue:0,value:{saturation:0,brightness:1},onChange:d.a,onFocus:d.a,onBlur:d.a}),k=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={width:160,height:160},n.top=0,n.left=0,n.isMouseDown=!1,n.gradientBoxRef=h.a.createRef(),Object(b.a)(n,["handleKeyDown","handleMouseDown","handleMouseUp","handleMouseMove","updateDimensions"]),n}return u()(t,e),o()(t,[{key:"componentDidMount",value:function(){requestAnimationFrame(this.updateDimensions)}},{key:"componentDidUpdate",value:function(){requestAnimationFrame(this.updateDimensions)}},{key:"componentWillUnmount",value:function(){this.removeDragListeners()}},{key:"getAriaValue",value:function(){var e=this.props,t=e.hue,n=e.value,r=n.saturation,a=n.brightness,i=Object(_.h)([t,r,a]);return Object(_.k)(i)}},{key:"updateDimensions",value:function(){if(this.gradientBoxRef.current){var e=this.gradientBoxRef.current.getBoundingClientRect(),t=e.top,n=e.left,r=e.width,a=e.height;this.top=t,this.left=n,this.setState(function(){return{width:r,height:a}})}}},{key:"addDragListeners",value:function(){window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove)}},{key:"removeDragListeners",value:function(){window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove)}},{key:"updateValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.saturation,n=e.brightness;this.props.onChange({saturation:Number(Math.min(1,Math.max(0,t)).toFixed(2)),brightness:Number(Math.min(1,Math.max(0,n)).toFixed(2))})}},{key:"handleKeyDown",value:function(e){var t={ArrowUp:{saturationDelta:0,brightnessDelta:.01},ArrowDown:{saturationDelta:0,brightnessDelta:-.01},ArrowLeft:{saturationDelta:-.01,brightnessDelta:0},ArrowRight:{saturationDelta:.01,brightnessDelta:0}}[{Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight"}[e.key]||e.key];if(t){e.stopPropagation(),e.preventDefault();var n=t.saturationDelta,r=t.brightnessDelta,a=this.props.value,i=a.saturation,o=a.brightness;this.updateValue({saturation:i+n,brightness:o+r})}}},{key:"handleMouseEvent",value:function(e){var t=e.clientX,n=e.clientY,r=this.state,a=r.width,i=r.height,o=(t-this.left)/a,s=1-(n-this.top)/i;this.updateValue({saturation:o,brightness:s})}},{key:"handleMouseDown",value:function(e){this.isMouseDown=!0,this.addDragListeners(),this.handleMouseEvent(e)}},{key:"handleMouseUp",value:function(){this.isMouseDown=!1,this.removeDragListeners()}},{key:"handleMouseMove",value:function(e){this.isMouseDown&&this.handleMouseEvent(e)}},{key:"renderThumb",value:function(){var e=this.state,t=e.width,n=e.height,r=this.props.value,a=r.saturation,i=r.brightness,o={left:Math.min(1,Math.max(0,a))*t,top:(1-Math.min(1,Math.max(0,i)))*n},s=f()("c-sv_picker__thumb",{"c-sv_picker__thumb--focus-visible":this.props.hasKeyboardFocus}),c=y.t("color wheel"),l=this.getAriaValue();return h.a.createElement("span",{className:s,style:o,role:"slider",tabIndex:0,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this.handleKeyDown,"aria-describedby":"sv-picker-description","aria-label":c,"aria-valuenow":l,"aria-valuetext":l})}},{key:"renderAriaDescription",value:function(){var e=y.t("Use up and down to move the slider along the Y axis, left and right to move along the X axis.");return h.a.createElement("div",{id:"sv-picker-description",className:"offscreen"},e)}},{key:"render",value:function(){var e=this.props.hue,t="linear-gradient(hsla("+e+", 100%, 100%, 0), hsla("+e+", 100%, 0%, 1)), linear-gradient(90deg, hsla("+e+", 0%, 100%), hsla("+e+", 100%, 50%))";return h.a.createElement("div",{ref:this.gradientBoxRef,className:"c-sv_picker__gradient_box",style:{background:t},role:"presentation",onMouseDown:this.handleMouseDown,"data-qa":"sv_picker_gradient_box"},this.renderThumb(),this.renderAriaDescription())}}]),t}(p.PureComponent);k.displayName="SVPicker",k.defaultProps=j,t.a=Object(g.a)(k)},vjQr:function(e,t,n){},vwQE:function(e,t,n){"use strict";var r=n("wxGk");t.a=function(e,t){return Object(r.a)(e,t,{units:"minutes",useFractionalUnits:!0})}},vxHm:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var r=n("ifKl"),a=n("vFlG"),i=n("ROZo");function o(){return Object(a.a)(window,"TS.web.space")}var s=Object(i.b)("TS.web.space.isFileRelevant",function(){return!1}),c=Object(i.b)("TS.web.space.updateSpacePrivilegesAndName",r.a)},w0D2:function(e,t,n){"use strict";var r=n("U/ze"),a=n("q5MM"),i=n("FN36"),o=Object(r.b)(function(e){return(Object(i.a)(e,"custom_status_presets")||[]).map(function(e){return{emoji:e[0],text:e[1],canonical:e[2]||void 0,duration:e.length>3&&Object.keys(a.a).indexOf(e[3])>-1&&e[3]||"no_expiration"}})});t.a=o},w0ce:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("aK/h"),h=n("kxpR"),m=n.n(h),f=n("TSYQ"),v=n.n(f),g=n("od5y"),_=(n("0b5H"),p.b.node.isRequired,p.b.string,p.b.string,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.id,i=v()("c-inline_alert",n);return m.a.createElement("div",a()({},this.props,{className:i,id:r,"data-qa-error":!0}),m.a.createElement(g.b,{type:"info-circle",className:"c-inline_alert__icon",size:"inherit",inline:!0}),m.a.createElement("span",{className:"c-inline_alert__text"},t))}}]),t}(h.PureComponent));_.displayName="InlineAlert",_.defaultProps={className:null,id:null},t.a=_},w2zL:function(e,t,n){},w4TM:function(e,t,n){"use strict";n.d(t,"c",function(){return Q}),n.d(t,"a",function(){return X});var r=n("iCc5"),a=n.n(r),i=n("FYw3"),o=n.n(i),s=n("mRg0"),c=n.n(s),l=n("YEIV"),u=n.n(l),d=n("sk9p"),b=n.n(d),p=n("m8R6"),h=n("fujP"),m=n("pxG+"),f=n("H0/5"),v=n("ifKl"),g=n("HA5h"),_=n("7EGn"),O=n("Cjy0"),y=n.n(O),j=n("mM05"),k=n.n(j),E=n("lhZz"),C=n("gvFU"),I=n("kOzZ"),w=n("rWF5"),S=n("nNoG"),T=n("9kTo"),R=n("negh"),N=n("k0G2"),x=n("9PC1"),M=y.a.import("modules/keyboard"),P={bindings:{},onEnter:v.a,onEscape:v.a,onTab:v.a,featureReactMessages:!1,shouldInsertNewline:v.a},A=["*","_","~","`","\uff0a","\uff40"],D=x.b.concat([" ","\n","\xa0"],A),L=x.a.concat([" ","\n","\xa0"],A),q=A.filter(function(e){return"."!==e}).map(function(e){return"\\"+e}).join("|"),F=new RegExp("^["+q+"]+"),B=new RegExp("["+q+"]+$"),U=/^\s+/,H=/\s+$/,K=/^[ |\u00A0]+/,G=/^(> ?)?(\u2022|-|\*)( |\u00A0)?/,V=/^(> ?)?([0-9]{1,5})(\.|\))( |\u00A0)?/,z={"*":R.s.BOLD,_:R.s.ITALIC,"~":R.s.STRIKE,"`":R.s.CODE},Y=function(e,t,n){var r=n.getContents(e,t);return Object(x.o)(r.ops,"a")},W=function(e,t,n){var r=t[0].indexOf(n);e.retain(r).delete(1).retain(t[0].length-r-1)},Q=function(e,t,n,r,a){var i=t.index,o=t.length,s=Y(i,o,n),c=e,l=!0,u=o,d=z[e],b=s.match(U);b&&(i+=b[0].length,o-=b[0].length,s=Y(i,o,n));var p=s.match(H);p&&(o-=p[0].length,s=Y(i,o,n));var h=s.match(F),m=s.match(B),f=0;if(h&&m){var v=m[0].split("").reverse().join(""),g=h[0]===v,_=h[0].length===o;if(g&&_)f=o,i+=Math.round(h[0].length/2),o=0;else if(!_){var O=0;if(g)O=h[0].length;else for(var y=0;y<h[0].length&&v[y]&&h[0][y]===v[y];y++)O+=1;O&&(i+=O,o-=f=2*O)}s=Y(i,o,n)}var j=i>0?Y(i-1,1,n):" ",C=Y(i+o,1,n);"*"!==c&&"`"!==c||(Object(S.d)(j)&&Object(S.d)(C)||Object(S.d)(j)&&C.match(U)||j.match(U)&&Object(S.d)(C))&&(c="*"===c?"\uff0a":"\uff40",l=!1);var w=n.getContents(0,i),T=Object(x.o)(w.ops).match(B),N=n.getContents(i+o),M=Object(x.o)(N.ops).match(F),P=0;if(T&&M&&-1!==T[0].indexOf(c)&&-1!==M[0].indexOf(c)){f/2<T[0].length&&T[0].indexOf(c)<f/2&&(f+=2);var A=new k.a,q=2;if(s&&-1!==s.indexOf("\n")){var K=(s=""+(T?T[0]:"")+s+(M?M[0]:"")).split("\n");P=0;var G=i-(T?T[0].length:0);A.retain(G),q=0;for(var V=0;V<K.length;V++){var Q=K[V].match(F),X=K[V].match(B),Z=Q&&-1!==Q[0].indexOf(c),J=X&&-1!==X[0].indexOf(c),$=Z?Q[0].length:0,ee=J?X[0].length:0,te=K[V].length-$-ee,ne=J&&Z,re=ne;0!==V&&V!==K[V].length-1||(ne=Z,re=J),ne?(W(A,Q,c),q+=1):Z&&A.retain($),A.retain(te),re?(W(A,X,c),q+=1):J&&A.retain(ee),V!==K.length-1&&A.retain(1)}}else{var ae=i-T[0].length;A.retain(ae+T[0].indexOf(c)),A.delete(1);var ie=T[0].length-T[0].indexOf(c)-1;A.retain(ie+o+M[0].indexOf(c)),A.delete(1)}if(n.updateContents(A),u>0)if(f>0){var oe=o;oe+=f,oe-=q,n.setSelection(i-f/2,oe)}else n.setSelection(i-1,o);else n.setSelection(i-1,0);if(d)Object(I.a)(Object(E.getStoreInstanceByTeamId)(r)).track(R.k.MSG_FORMATTING_REMOVED,{input_context:R.r.MESSAGE,input_source:a,input_format:d})}else{var se=i,ce=o,le=l&&-1===L.indexOf(j)?" "+c:c,ue=l&&-1===D.indexOf(C)?c+" ":c,de=new k.a,be=0;if(s&&-1!==s.indexOf("\n")){var pe=s.split("\n"),he=[],me=!1;P=0;for(var fe=0;fe<pe.length;fe++){var ve=pe[fe].match(F),ge=pe[fe].match(B),_e=ve&&-1!==ve[0].indexOf(c),Oe=ge&&-1!==ge[0].indexOf(c),ye=ve?ve[0].length:0,je=ge?ge[0].length:0,ke=P+ye,Ee=P+pe[fe].length-je,Ce=0===fe,Ie=fe===pe.length-1;if(pe[fe].length>0&&(Ce||Ie||!_e&&!Oe)){var we=ve,Se=ge;Ce?(we=T,Se=ge):Ie&&(we=ve,Se=M);var Te=ye&&je;Ce&&je&&(Te=!0),Ie&&ye&&Se&&(Te=!0);var Re=!1,Ne=!1;if(we&&Se&&we[0]===Se[0].split("").reverse().join("")&&(Re=!0,Ne=-1!==we[0].indexOf("`")),Re&&Ne&&(Te=!1),Re&&"`"===c&&(Te=!0),Ce&&(me=Te),Te)Ce||he.push(ke),he.push(Ee);else{Ce||he.push(P);var xe=Ie&&M?M[0].length:0;he.push(P+pe[fe].length+xe)}}P+=pe[fe].length,P+=1}be=he.length-1,me||!T?de.retain(se).insert(le,{slackmention:null}):de.retain(se-T.length).insert(le,{slackmention:null}).retain(T.length);for(var Me=0,Pe=0;Pe<he.length;Pe++){var Ae=Pe===he.length-1;de.retain(he[Pe]-Me),de.insert(Ae?ue:c,{slackmention:null}),Me=he[Pe]}}else T&&M&&T[0]===M[0].split("").reverse().join("")&&-1!==T[0].indexOf("`")?de.retain(se-T.length).insert(le,{slackmention:null}).retain(ce+T.length+M.length).insert(ue,{slackmention:null}):de.retain(se).insert(le,{slackmention:null}).retain(ce).insert(ue,{slackmention:null});if(n.updateContents(de),u>0){var De=i+le.length-f/2-1,Le=ce+f+2;n.setSelection(De,Le+be)}else n.setSelection(i+le.length,0);if(d)Object(I.a)(Object(E.getStoreInstanceByTeamId)(r)).track(R.k.MSG_FORMATTING_ADDED,{input_context:R.r.MESSAGE,input_source:a,input_format:d})}},X=function(e){var t=e.range,n=e.type,r=e.quill,a=e.texty,i=e.singleLineInput,o=e.useLists,s=e.teamId,c=e.source;if(!o||i)return!0;if(!t)return!0;var l="\u2022 ",u=R.s.BULLET_LIST;"ordered"===n?(l="1. ",u=R.s.ORDERED_LIST):"quote"===n&&(l="> ",u=R.s.BLOCKQUOTE);var d=l;if(Y(t.index,d.length,r)===d)return!1;var b=t.index,p=t.length;if(t.index>0&&"\n"!==Y(t.index-1,1,r)){var h=Y(0,t.index,r).lastIndexOf("\n");b=-1===h?0:h+1,p+=t.index-b}var f=r.getContents(b,p),v=Object(m.a)(Object(x.o)(f.ops),"\n");if(-1===v.indexOf("\n"))a.setSelection(b,0),a.insertTextAtCursor(d),a.setSelection(b+p+d.length,0);else{var g=[];v.replace(/\n/g,function(e,t){g.push(t)});for(var _=(new k.a).retain(b).insert(d),O=0,y=2,j=d.length,C=0;C<g.length;C++)d="ordered"===n?y+". ":l,_.retain(g[C]-O+1),d!==v.substr(g[C]+1,d.length)&&(_.insert(d),j+=d.length,y+=1),O=g[C]+1;r.updateContents(_),r.setSelection(b+p+j)}return Object(I.a)(Object(E.getStoreInstanceByTeamId)(s)).track(R.k.MSG_FORMATTING_ADDED,{input_context:R.r.MESSAGE,input_source:c,input_format:u}),!1},Z=function(e){var t=e.modifiers,n=void 0===t?{}:t,r=e.range,a=e.context,i=e.onEnterExternal,o=e.quill,s=e.texty,c=e.singleLineInput,l=e.useLists,u=e.shouldInsertNewline,d=void 0===u?v.a:u,b=e.useWysiwyg;if(!s.isEnabled())return!1;if(s.getModules().some(function(e){return!!e.onEnter&&e.onEnter(n,{range:r,context:a,shouldInsertNewline:d})}))return!1;if(!c&&d(n)||i(n)){var p="\n",m=0,g=!1;if(l&&r){var _=Y(0,r.index,o),O=_.lastIndexOf("\n");if(!Object(x.k)(_)){var y=_,j="";if(-1!==O){y=_.substr(O+1);var k=_.substr(0,O),E=k.lastIndexOf("\n");j=-1!==E?k.substr(E+1):k}var C=!1,I=y.match(G);if(I){var w=I[1]||"";if(I[3]&&y.length>I[0].length){var S=I[2],T=r.index+w.length-y.length;"*"!==S||j.length&&j.match(G)||(S="\u2022",o.deleteText(T,1),o.insertText(T,"\u2022")),p=""+p+w+S+" "}else y===I[0]&&j.length&&j.match(G)&&j.match(G)[0]!==j&&(o.deleteText(r.index-y.length,y.length),p="");C=!0}if(!C){var R=y.match(V);if(R){var N=R[1]||"";if(R[4]&&y.length>R[0].length)p=""+p+N+(parseInt(R[2],10)+1)+R[3]+" ";else y===R[0]&&j.length&&j.match(V)&&j.match(V)[0]!==j&&(o.deleteText(r.index-y.length,y.length),p="")}}if(p&&"\n"!==p){var M=o.getText(r.index),P=M.match(K);m=P?P[0].length:0,Object(f.a)(p)===M.substr(m,Object(f.a)(p).length)&&(p="\n",g=!0)}}}if("\n"===p&&b&&a){if(a&&!Object(h.a)(a.format)&&a.format.header&&0===a.offset)return o.setSelection(r.index,"silent"),o.insertText(r.index,"\n","user"),o.setSelection(r.index+1,"silent"),o.removeFormat(r.index),!1;if(a&&!Object(h.a)(a.format)&&a.format.header&&0!==a.offset&&!n.shiftKey&&setTimeout(function(){var e=o.getSelection();o.removeFormat(e.index)},0),a&&!Object(h.a)(a.format)&&a.format.slackhorizontalrule)return o.insertText(r.index,"\n","user"),o.setSelection(r.index+1,"silent"),o.removeFormat(r.index),!1;if(a&&a.format&&a.format["code-block"]&&a.prefix.length&&!a.suffix.length)return o.setSelection(r.index,"silent"),o.insertText(r.index," ","user"),o.setSelection(r.index,1,"silent"),o.removeFormat(r.index,1,"silent"),o.setSelection(r.index+1,0,"silent"),!1;a&&a.format&&a.format.code&&a.prefix.length&&a.suffix.length&&setTimeout(function(){return o.formatText(r.index,r.index+a.suffix.length,{code:!1},"silent"),!0},0)}p&&s.insertTextAtCursor(p),g&&m>0&&o.deleteText(r.index+p.length,m),o.scrollingContainer?o.selection.scrollIntoView(o.scrollingContainer):o.selection.scrollIntoView()}return!1},J=function(e){var t=e.modifiers,n=void 0===t?{}:t,r=e.onTabExternal,a=e.texty,i=e.context;return!a.getModules().some(function(e){return!!e.onTab&&e.onTab(n)})&&(!r||r({modifiers:n,texty:a,context:i}))},$=function(e,t){var n=t.texty,r=t.singleLineInput,a=t.useLists,i=t.onEnterExternal,o=t.onTabExternal,s=t.useFormattingCommands,c=t.inlineEmojiIsEnabled,l=t.useWysiwyg,d=t.shouldInsertNewline,m=t.teamId,f=Object(w.p)()?"metaKey":"ctrlKey",v={altLeft:{key:N.h,altKey:!0,metaKey:!1,shiftKey:!1,handler:function(){return function(e){var t=e.inlineEmojiIsEnabled,n=e.quill;if(t&&t()){var r=n.getSelection();if(r&&r.index>0){var a=n.getContents(r.index-1,1),i=Object(_.a)(a,"ops[0].insert",{});if(i.slackemoji||i.workflowtoken)return n.setSelection(r.index-1,0),!1}}return!0}({inlineEmojiIsEnabled:c,quill:e})}},enter:{key:N.e,context:{empty:!1},handler:function(t,o){return Z({range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},shiftEnter:{key:N.e,shiftKey:!0,context:{empty:!1},handler:function(t,o){return Z({modifiers:{shiftKey:!0},range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},metaEnter:{key:N.e,shiftKey:!1,shortKey:!0,handler:function(t,o){return Z({modifiers:u()({},f,!0),range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},metaShiftEnter:{key:N.e,shiftKey:!0,shortKey:!0,handler:function(t,o){var s;return Z({modifiers:(s={},u()(s,f,!0),u()(s,"shiftKey",!0),s),range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},optionEnter:{key:N.e,altKey:!0,handler:function(t,o){return Z({modifiers:{altKey:!0},range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},ctrlEnter:{key:N.e,ctrlKey:!0,handler:function(t,o){return Z({modifiers:{ctrlKey:!0},range:t,context:o,onEnterExternal:i,quill:e,texty:n,singleLineInput:r,useLists:a,shouldInsertNewline:d,useWysiwyg:l})}},tab:{key:N.k,handler:function(e,t){return J({onTabExternal:o,texty:n,context:t})}},shiftTab:{key:N.k,shiftKey:!0,handler:function(e,t){return J({modifiers:{shiftKey:!0},onTabExternal:o,texty:n,context:t})}},"code exit":{key:N.e,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){this.quill.insertText(e.index,"\n"),this.quill.setSelection(e.index+1,0),this.quill.removeFormat(e.index+1,0),this.quill.deleteText(e.index-2,2,"user")}},"list autofill":l&&{key:" ",collapsed:!0,format:{list:!1,code:!1,"code-block":!1},ctrlKey:null,shiftKey:null,altKey:null,prefix:Object(T.a)()?/^\s*?(\d+(\.|\))|-|\*|\u2022|\[ ?\]|\[x\])$/:/^\s*?(\d+(\.|\))|-|\*|\u2022)$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),a=b()(r,2),i=a[0],o=a[1],s=this.quill.getFormat();if(Object(T.a)()&&s&&s.blockquote)return!0;if(o>n)return!0;var c=void 0,l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":c="unchecked",l=R.s.CHECK_LIST;break;case"[x]":c="checked",l=R.s.CHECK_LIST;break;case"-":case"*":case"\u2022":c="bullet",l=R.s.BULLET_LIST;break;default:c="ordered",l=R.s.ORDERED_LIST}this.quill.insertText(e.index," ",y.a.sources.USER);var u=(new k.a).retain(e.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:c});return this.quill.updateContents(u,y.a.sources.USER),this.quill.setSelection(e.index-n,y.a.sources.SILENT),Object(I.a)(Object(E.getStoreInstanceByTeamId)(m)).track(R.k.MSG_FORMATTING_ADDED,{input_context:Object(T.a)()?R.r.POST:R.r.MESSAGE,input_source:R.t.MARKDOWN,input_format:l}),!1}}};return s&&Object(g.a)(v,function(e){return{bold:{key:"B",shortKey:!0,handler:function(t){return Q("*",t,this.quill,e,R.t.KEYBOARD),!1}},italic:{key:"I",shortKey:!0,handler:function(t){return Q("_",t,this.quill,e,R.t.KEYBOARD),!1}},strikethrough:{key:"X",shiftKey:!0,shortKey:!0,handler:function(t){return Q("~",t,this.quill,e,R.t.KEYBOARD),!1}},code:{key:"C",shiftKey:!0,shortKey:!0,handler:function(t){return Q("`",t,this.quill,e,R.t.KEYBOARD),!1}}}}(m)),l&&Object(g.a)(v,{bold:{key:"B",shortKey:!0,handler:function(e,t){var n=this.quill.getModule("composer");return n&&e.length?(n.formatHandler({format:"bold",index:e.index,length:e.length,source:R.t.KEYBOARD}),!1):(Object(I.a)(Object(E.getStoreInstanceByTeamId)(this.options.teamId)).track(t.format.bold?R.k.MSG_FORMATTING_REMOVED:R.k.MSG_FORMATTING_ADDED,{input_context:Object(T.a)()?R.r.POST:R.r.MESSAGE,input_source:R.t.KEYBOARD,input_format:R.s.BOLD}),!0)}},italic:{key:"I",shortKey:!0,handler:function(e,t){var n=this.quill.getModule("composer");return n&&e.length?(n.formatHandler({format:"italic",index:e.index,length:e.length,source:R.t.KEYBOARD}),!1):(Object(I.a)(Object(E.getStoreInstanceByTeamId)(this.options.teamId)).track(t.format.italic?R.k.MSG_FORMATTING_REMOVED:R.k.MSG_FORMATTING_ADDED,{input_context:Object(T.a)()?R.r.POST:R.r.MESSAGE,input_source:R.t.KEYBOARD,input_format:R.s.ITALIC}),!0)}},underline:{key:"U",shortKey:!0,handler:function(e,t){if(-1===this.quill.options.formats.indexOf("underline"))return!0;var n=this.quill.getModule("composer");return n&&e.length?(n.formatHandler({format:"underline",index:e.index,length:e.length,source:R.t.KEYBOARD}),!1):(Object(I.a)(Object(E.getStoreInstanceByTeamId)(this.options.teamId)).track(t.format.underline?R.k.MSG_FORMATTING_REMOVED:R.k.MSG_FORMATTING_ADDED,{input_context:Object(T.a)()?R.r.POST:R.r.MESSAGE,input_source:R.t.KEYBOARD,input_format:R.s.UNDERLINE}),!0)}},"block code down arrow":{key:N.c,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code-block"],suffix:/^[\r\n]$/,handler:function(e,t){var n=this.quill.getLength()-1;return t.prefix.length&&e.index===n&&this.quill.insertText(e.index+1,"\n","user"),!0}},"up arrow out of code block":{key:N.l,format:{"code-block":!0},collapsed:!0,handler:function(e,t){var n=this,r=this.quill.getLine(e.index-1),a=b()(r,2),i=a[0],o=a[1];return i&&!i.prev&&i.parent&&i.parent.statics&&i.parent.statics.blotName&&"scroll"===i.parent.statics.blotName&&0===t.prefix.length&&0===e.index&&setTimeout(function(){n.quill.insertText(o," \n",{"code-block":!1},"silent");var e=n.quill.getSelection();return n.quill.setSelection(e.index-2,0,"silent"),n.quill.formatLine(e.index,1,{"code-block":!1},"silent"),n.quill.formatLine(e.index+1,{"code-block":!0},"silent"),!1},0),!0}},"up arrow into code block":{key:N.l,format:{"code-block":!1},collapsed:!0,handler:function(e){var t=this.quill.getLine(e.index-1),n=b()(t,1)[0];if(n&&n.domNode&&n.domNode.tagName&&"PRE"===n.domNode.tagName)return this.quill.setSelection(e.index-1,0),!1;if(n&&n.prev&&n.prev.domNode&&n.prev.domNode.tagName&&"PRE"===n.prev.domNode.tagName){var r=this.quill.getIndex(n.prev);return n.prev.children.length=n.prev.children.head.text.length-1,this.quill.setSelection(r+n.prev.children.head.text.length,0,"silent"),!1}return!0}},"inline code right arrow":{key:N.i,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler:function(e,t){return!("\n"===this.quill.getText(e.index,1)&&t.prefix.length&&!t.suffix.length&&(this.quill.insertText(e.index," ","user"),this.quill.removeFormat(e.index,1,"silent"),this.quill.setSelection(e.index+1,0,"silent"),1))}},"inline code spacebar":{key:N.j,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler:function(e,t){var n=Object(p.a)(t.format,["code"]);return!(t.prefix.length&&!t.suffix.length&&(this.quill.setSelection(e.index,"silent"),this.quill.insertText(e.index," ","user"),this.quill.setSelection(e.index,1,"silent"),this.quill.removeFormat(e.index,1,"silent"),Object(h.a)(n)||this.quill.formatLine(e.index,e.length,n),this.quill.setSelection(e.index+1,0,"silent"),1))}},"delete image":Object(T.a)()&&{key:N.b,handler:function(e){var t=this,n=this.quill.getFormat(e.index+1,1),r=this.quill.getFormat(e.index,1);return!n||!n.imageSrc||"true"===n.isPrivate||(setTimeout(function(){var a=document.querySelector('docsblockembed[data-image-src="'+n.imageSrc+'"]'),i=y.a.find(a);return Object(C.b)(i),t.quill.setSelection(e.index+1,0),!(!r||!r.imageSrc||"true"===r.isPrivate||"true"!==r.isSelected||(t.quill.deleteText(e.index,1),0))},0),!1)}},"backspace image":Object(T.a)()&&{key:N.a,handler:function(e){var t=this,n=this.quill.getFormat(e.index-1,1),r=this.quill.getFormat(e.index,1);return n&&n.imageSrc&&"true"!==n.isPrivate?(setTimeout(function(){var a=document.querySelector('docsblockembed[data-image-src="'+n.imageSrc+'"]'),i=y.a.find(a);return Object(C.b)(i),t.quill.setSelection(e.index-1,0),!(!r||!r.imageSrc||"true"===r.isPrivate||"true"!==r.isSelected||(t.quill.deleteText(e.index,1),0))},0),!1):!r||!r.imageSrc||"true"===r.isPrivate||"true"!==r.isSelected||(this.quill.deleteText(e.index,1),!0)}}}),Object(w.p)()?Object(g.a)(v,{home:{key:N.g,handler:function(){this.quill.setSelection(0,0)}},shiftHome:{key:N.g,shiftKey:!0,handler:function(e){this.quill.setSelection(0,e.index+e.length)}},end:{key:N.d,handler:function(){this.quill.setSelection(this.quill.getLength(),0)}},shiftEnd:{key:N.d,shiftKey:!0,handler:function(e){this.quill.setSelection(e.index,this.quill.getLength()-e.index)}}}):v},ee=function(e,t){var n=t.onEscapeExternal,r=t.texty,a=t.singleLineInput,i=t.useLists,o=t.useWysiwyg,s=t.teamId;return{escape:{key:N.f,handler:function(t,a){return function(e){var t=e.onEscapeExternal,n=e.quill,r=e.texty,a=e.useWysiwyg,i=e.range,o=e.context;if(r.getModules().some(function(e){return!!e.onEscape&&e.onEscape()}))return!1;if(a){if(o.empty&&o.collapsed&&o.format.blockquote)return n.removeFormat(i),!1;if(o.collapsed&&o.format["code-block"]&&(o.empty||o.prefix.length&&"\n"===o.prefix.substr(-1)))return n.removeFormat(i),!1}return!t||!t()}({onEscapeExternal:n,quill:e,texty:r,useWysiwyg:o,range:t,context:a})}},orderedList:{key:55,shiftKey:!0,shortKey:!0,handler:function(t){return X({range:t,type:"ordered",quill:e,texty:r,singleLineInput:a,useLists:i,teamId:s,source:R.s.ITALIC})}},unorderedList:{key:56,shiftKey:!0,shortKey:!0,handler:function(t){return X({range:t,type:"unordered",quill:e,texty:r,singleLineInput:a,useLists:i,teamId:s,source:R.s.ITALIC})}},quoteList:{key:190,shiftKey:!0,shortKey:!0,handler:function(t){return X({range:t,type:"quote",quill:e,texty:r,singleLineInput:a,useLists:i,teamId:s,source:R.s.ITALIC})}},spaceForDuplicateBullets:i&&{key:" ",shiftKey:null,altKey:null,collapsed:!0,empty:!1,format:{code:!1,"code-block":!1},handler:function(t){return function(e){var t=e.range,n=e.quill,r=Y(0,t.index,n),a=r.lastIndexOf("\n"),i=r,o="";if(-1!==a){i=r.substr(a+1);var s=r.substr(0,a),c=s.lastIndexOf("\n");o=-1!==c?s.substr(c+1):s}if(!o.length)return!0;var l=i.match(G);if(l&&l[3]&&o.match(G)){var u=i.substr(l[0].length),d=u.match(G);if(d&&d[0]===u&&(l[2]===d[2]||"\u2022"===l[2]&&"*"===d[2]))return n.deleteText(t.index-d[0].length,d[0].length),!1}var b=i.match(V);if(b&&b[4]&&o.match(V)){var p=i.substr(b[0].length),h=p.match(V);if(h&&h[0]===p&&b[2]===h[2]&&b[3]===h[3])return n.deleteText(t.index-h[0].length,h[0].length),!1}return!0}({range:t,quill:e})}}}},te=function(e){function t(e,n){a()(this,t);var r=n;r=Object(g.a)({},P,r);var i=$(e,r);r.bindings=Object(g.a)({},r.bindings,i),e.root.addEventListener("keydown",function(t){(t.keyCode===N.g||t.keyCode===N.d)&&e.getLength()>1&&t.stopPropagation()});var s=o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r)),c=ee(e,r);return Object.keys(c).forEach(function(e){c[e]&&s.addBinding(c[e])}),s}return c()(t,e),t}(M);t.b=te},w6pt:function(e,t,n){"use strict";var r=n("yWY+");t.a=r.a},"wK/9":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return h});var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("/1FC"),c=n("IzLi"),l=n("zmn3"),u=n("f8fv"),d=n("owWc");function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(e,function(e,t,n){return o()({},e,a()({},Object(u.a)(n),t))},{})}var p=5;function h(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Object(c.a)(e)&&!Object(s.a)(e)||t>p||!e)return e;var n=void 0;Object(s.a)(e)?Object(s.a)(e)&&(n=Object(l.a)(e,function(e){return h(e)})):n=Object(d.a)(e,function(e,t,n){return o()({},e,a()({},Object(u.a)(n),h(t)))},{});return n}(e,0)}},wMtF:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("nNoG"),_=n("sk9p"),O=n.n(_),y=n("gSGL"),j=n("qAkX"),k=n("3ftV"),E=n("bPB8"),C=n("Z0Cl"),I=n("ZBlo"),w=n("fujP"),S=n("F294"),T=n("HI9p"),R=n("HiDb"),N=n("7EGn"),x=n("xWuZ"),M=n("Muja"),P=n("UXvI"),A=n("hbEN"),D=n("zmn3"),L=n("OZf9"),q=n("dYt1"),F=n("tn36"),B=n("TSYQ"),U=n.n(B),H=n("Qv4Q"),K=n("od5y"),G=n("qkTT"),V=n("kOzZ"),z=n("plEq"),Y=n("U3Q0"),W=n("qafc"),Q=n("WD4z"),X=n("XLFM"),Z=n("RAhH"),J=n("HO/Y"),$=n("7WZX"),ee=n("DTT0"),te=n("XI8A"),ne=n("4zXV"),re=n("om+M"),ae=n("//AP");Object(re.a)("Load the next page of custom emoji data",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.count,a=void 0===r?100:r,i=n.queries,o=n.userIds,s=n.reason,c=void 0===s?"customize-emoji-next-page":s,l=t();e(Object(ae.h)(!0));var u={page:Object(ae.c)(l)+1,count:a,sort_by:Object(ae.d)(l),sort_dir:Object(ae.e)(l)};return i&&(u.queries=JSON.stringify(i)),o&&(u.user_ids=JSON.stringify(o)),e(Object(ne.a)({method:"emoji.adminList",reason:c,args:u})).then(function(t){e(Object(ae.h)(!1)),e(Object(ae.a)({newCustomEmojiData:t.emoji,disabledEmoji:t.disabled_emoji,customEmojiTotalCount:t.custom_emoji_total_count,customEmojiSearchCount:t.paging.total,currentPage:t.paging.page,totalPages:t.paging.pages}))}).catch(function(e){throw e})}).propTypes={queries:h.b.array,userIds:h.b.array};var ie=Object(re.a)("Load custom emoji data with a new search query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.queries,a=n.page,i=void 0===a?1:a,o=n.count,s=void 0===o?100:o,c=n.sortBy,l=n.sortDir,u=n.userIds,d=n.reason,b=void 0===d?"customize-emoji-new-query":d;e(Object(ae.i)(!0));var p={page:i,count:s};return r&&(p.queries=JSON.stringify(r)),u&&(p.user_ids=JSON.stringify(u)),c&&l&&(p.sort_by=c,p.sort_dir=l),e(Object(ne.a)({method:"emoji.adminList",reason:b,args:p})).then(function(t){e(Object(ae.i)(!1)),e(Object(ae.j)({newCustomEmojiData:t.emoji,disabledEmoji:t.disabled_emoji,customEmojiTotalCount:t.custom_emoji_total_count,customEmojiSearchCount:t.paging.total,currentPage:t.paging.page,totalPages:t.paging.pages,sortBy:c,sortDir:l}))}).catch(function(e){throw e})});ie.propTypes={queries:h.b.array,page:h.b.number,count:h.b.number,sortBy:h.b.oneOf(["created","name"]),sortDir:h.b.oneOf(["asc","desc"]),userIds:h.b.array},Object(re.a)("Deletes the given custom emoji",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.emojiName,a=n.isPrimaryEmoji,i=void 0!==a&&a,o=n.synonyms,s=void 0===o?[]:o,c=n.reason,l=void 0===c?"customize-emoji-remove":c;return e(Object(ae.f)({emojiName:r,isPrimaryEmoji:i,synonyms:s})),e(Object(ne.a)({method:"emoji.remove",reason:l,args:{name:r}})).then(function(e){return e}).then(function(){Object(V.a)({state:t()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(function(e){throw Object(V.a)({state:t()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),e})}).propTypes={emojiName:h.b.string,isPrimaryEmoji:h.b.bool,synonyms:h.b.array};var oe=Object(re.a)("Creates a new custom emoji or alias",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.mode,a=n.name,i=n.aliasFor,o=n.image,s=n.searchArgs,c=void 0===s?{}:s,l=n.reason,u=void 0===l?"customize-emoji-add":l;return e(Object(ne.a)({method:"emoji.add",reason:u,args:{mode:r,name:a,alias_for:i,image:o}})).then(function(e){return e}).then(function(){e(ie(c))}).catch(function(e){throw e})});oe.propTypes={mode:h.b.string,name:h.b.string,aliasFor:h.b.string,image:h.b.object};var se=Object(re.a)("Gets the emoji data for a given emoji",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.reason,i=void 0===a?"customize-emoji-get-info":a;return e(Object(ne.a)({method:"emoji.getInfo",reason:i,args:{name:r}})).then(function(e){return e}).catch(function(e){throw e})});se.propTypes={name:h.b.string},Object(re.a)("Renames the custom emoji with the new name",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.oldName,a=n.newName,i=n.reason,o=void 0===i?"customize-emoji-rename":i;return e(Object(ne.a)({method:"emoji.rename",reason:o,args:{name:r,new_name:a}})).then(function(e){return e}).then(function(){e(ie()),e(Object(ae.g)(r))}).catch(function(e){throw e})}).propTypes={oldName:h.b.string,newName:h.b.string};var ce=n("K7CU"),le=(n("y1nk"),new g.b("custom_emoji_list")),ue=(h.b.func,h.b.string,h.b.func,h.b.func,h.b.func,h.b.bool,h.b.object.isRequired,h.b.object,{addCustomEmoji:p.a,orgName:null,enqueueToast:p.a,clientApp:!1,closeModal:p.a,getEmojiInfo:p.a,searchArgs:{}}),de=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={newEmojiName:"",uploadedImage:null,fileName:"",previewImageUrl:"",placeholder:!0,nameErrorText:null,apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},n.fileInput=f.a.createRef(),n.eventId="",Object(F.a)(n,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver"]),n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.clogger;this.eventId=this.props.clientApp?"ADD_CUSTOM_EMOJI_IN_CLIENT":"PAGE_CUSTOMIZE_EMOJI",e.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}})}},{key:"onEmojiNameChange",value:function(e){var t=this,n=void 0;this.setState(function(){return{newEmojiName:e,nameErrorText:n}}),/[A-Z]/.test(e)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(e)?n=le.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):e in te?n=le.t("This name is already in use by another emoji."):Object(ce.j)(e)?this.props.getEmojiInfo({name:e}).then(function(){n=le.t("This name is already in use by another emoji."),t.state.newEmojiName===e&&t.setState(function(){return{nameErrorText:n}})}).catch(function(){Object(p.a)()}):n=le.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.state.newEmojiName===e&&this.setState(function(){return{nameErrorText:n}})}},{key:"onTextFocus",value:function(){this.setState(function(){return{placeholder:!1}})}},{key:"onTextBlur",value:function(){this.setState(function(){return{placeholder:!0}})}},{key:"onUploadChange",value:function(){var e=this.fileInput.current.files[0];if(e){var t=e.name,n=URL.createObjectURL(e);this.setState(function(){return{uploadedImage:e,fileName:t,previewImageUrl:n,imagePreviewError:!1}})}else this.setState(function(){return{uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}})}},{key:"onSubmit",value:function(e){var t=this;e&&e.preventDefault();var n=this.state,r=n.newEmojiName,a=n.uploadedImage,i=n.nameErrorText,o=r.length>100;r&&a&&!Boolean(i)&&!o&&(this.setState(function(){return{goButtonIsPending:!0}}),this.props.addCustomEmoji({mode:"data",name:r,image:a,searchArgs:this.props.searchArgs}).then(function(){t.props.closeModal();var e=t.renderToastMessage();t.props.enqueueToast({element:e}),t.setState(function(){return{goButtonIsPending:!1}}),t.props.clogger.track(t.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(function(e){var n=void 0,a=Object(N.a)(e,"data.error");"error_bad_upload"===a?n=le.t("Something happened that prevented your file from being uploaded. Try again?"):"error_bad_format"===a?n=le.t("Please make sure your file is a GIF, JPEG, or PNG."):"resized_but_still_too_large"===a||"too_many_frames"===a?n=le.t("This image is a bit too big, even after resizing. A smaller file might help?"):"error_too_big"===a?n=le.t("Please choose an image smaller than 64KB."):"error_name_taken_i18n"===a?n=le.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:r}):"error_name_taken"===a?n=le.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:r}):"error_bad_name"!==a&&"error_bad_name_i18n"!==a||(n=le.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),t.setState(function(){return{apiErrorText:n,goButtonIsPending:!1}}),t.props.clogger.track(t.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}))}},{key:"onImagePreviewError",value:function(){this.setState(function(){return{imagePreviewError:!0}})}},{key:"onDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files[0];if(t){var n=t.name,r=URL.createObjectURL(t);this.setState(function(){return{uploadedImage:t,fileName:n,previewImageUrl:r,imagePreviewError:!1}})}else this.setState(function(){return{uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}})}},{key:"onDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"}},{key:"fileUpload",value:function(){document.getElementById("emojiimg").click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}},{key:"renderImagePreview",value:function(){var e=this.state.previewImageUrl,t=f.a.createElement("img",{src:e,alt:le.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1});return this.state.imagePreviewError?f.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container"},f.a.createElement(Z.c,{tip:le.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},f.a.createElement(K.b,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):f.a.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container"},t)}},{key:"renderToastMessage",value:function(){var e=this.state,t=e.newEmojiName,n=e.previewImageUrl,r=f.a.createElement(G.b,{text:t,url:n,emojiSize:G.a.MEDIUM}),a=le.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:r,newEmojiName:t});return f.a.createElement(W.b,{toastClasses:"p-customize_emoji_list__toast"},f.a.createElement("span",null,a))}},{key:"renderUploadedFileText",value:function(){var e=this.state.fileName;return e?f.a.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",e," "):f.a.createElement("div",{className:"sk_dark_gray margin_bottom_25"}," ",le.t("Select an image")," ")}},{key:"renderUploadPreview",value:function(){return this.state.fileName?this.renderImagePreview():f.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container"},f.a.createElement(K.b,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "}))}},{key:"renderUploadImagePrompt",value:function(){return f.a.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop},f.a.createElement("li",{className:"large_bottom_margin"},f.a.createElement("div",null," ",le.t("Upload an image")," "),f.a.createElement("div",{className:"normal sk_dark_gray"},le.t("Square images under 128KB work best. If your image is too large, we'll try to resize it for you.")),f.a.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},f.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered sk_off_white_bg inline_block align_middle"},this.renderUploadPreview()),f.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100 inline_block align_middle"},this.renderUploadedFileText(),f.a.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":"customize_emoji_add_dialog_file_input"}),f.a.createElement(X.d,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":"customize_emoji_add_dialog_upload"}," ",le.t("Upload Image")," ")))))}},{key:"renderPlaceholderText",value:function(){return this.state.placeholder?le.t("avocado"):""}},{key:"renderChooseNamePrompt",value:function(){var e=this.state,t=e.newEmojiName,n=e.nameErrorText;return f.a.createElement("ol",{className:"black",start:"2"},f.a.createElement("li",null,f.a.createElement("div",null," ",le.t("Give it a name")," "),f.a.createElement("div",{className:"normal sk_dark_gray p-add_custom_emoji_dialog__choose_name_container"},le.t("This is also what you\u2019ll type to add this emoji to your messages.")),f.a.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},f.a.createElement(z.a,{id:"emojiname",name:"name",value:t,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:n,"data-qa":"customize_emoji_add_dialog_input"}))))}},{key:"renderErrorMessage",value:function(){var e=this.state.apiErrorText;return e?f.a.createElement(Q.a,{level:"error",className:"margin_top_50 margin_bottom_100"},f.a.createElement("span",null," ",e," ")):null}},{key:"renderDialogMessage",value:function(){var e=this.props.orgName,t=void 0;return t=e?le.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:e}):le.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),f.a.createElement("div",{className:"p-add_custom_emoji_dialog"},f.a.createElement("div",{className:"margin_top_100"},t),f.a.createElement("div",null,this.renderErrorMessage()),f.a.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),f.a.createElement("hr",null),this.renderChooseNamePrompt()))}},{key:"render",value:function(){var e=le.t("Add custom emoji"),t=this.state,n=t.newEmojiName,r=t.uploadedImage,a=t.nameErrorText,i=t.goButtonIsPending,o=n.length>100,s={title:e,showCancelButton:!0,truncateTitle:!1,goButtonText:le.t("Save"),goButtonIsDisabled:!(n&&r)||Boolean(a)||o,goButtonIsPending:i,cancelButtonText:le.t("Cancel"),onGo:this.onSubmit,shouldCloseOnGo:!1,overlayClassName:"p-customize_emoji__dialog_overlay",modalBodyOpenClassName:"p-add_custom_emoji_dialog__modal_open",onCancel:this.props.closeModal,className:"p-add_custom_emoji_dialog__container",children:f.a.createElement("div",null,this.renderDialogMessage()),"data-qa":"customize_emoji_add_dialog"};return f.a.createElement(Y.a,s)}}]),t}(m.PureComponent);de.displayName="AddCustomEmojiDialog",de.defaultProps=ue;var be=Object(v.b)(function(e){return{clientApp:Object(J.i)(e),clogger:Object(V.a)({state:e})}},function(e){return{addCustomEmoji:function(t){return e(oe(t))},enqueueToast:function(){return e($.c.apply(void 0,arguments))},closeModal:function(){return e(Object(ee.a)())},getEmojiInfo:function(t){return e(se(t))}}})(de),pe=n("RMmo"),he=n("Qrgz"),me=function(e,t){return!(!e||!t||e.name!==t.name)},fe=n("VjHM"),ve=n("DtX9"),ge=n("bHK9"),_e=n("uf9I"),Oe=n("lhZz"),ye=n("XzsM"),je=n("D4L/"),ke=n("jYCR"),Ee=n("rtjy"),Ce=n("Zr7G"),Ie=n("rzSx"),we=(h.b.shape({html:h.b.string}),function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.emoji;return f.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.html}})}}]),t}(m.PureComponent));we.displayName="Emoji";var Se=we;we.defaultProps={emoji:{html:null}};var Te=n("yIs4"),Re=n("uPpK"),Ne=n("HDnS"),xe=n("XoJV"),Me=n("ynxK"),Pe=n("NqlN"),Ae=new g.b("emoji_picker"),De=/:/g,Le=(h.b.func,h.b.func,h.b.func,h.b.func,h.b.number,h.b.array,h.b.oneOfType([h.b.string,h.b.object]),h.b.array,h.b.bool,h.b.bool,{onSelected:p.a,onMouseEnter:p.a,onMouseLeave:p.a,onScroll:p.a,scrollToIndex:null,screenRows:[],currentSelection:{},cursorPosition:[],showEmojiUpdateOverlay:!1,featureSonicEmoji:!1}),qe=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getRowHeight=n.getRowHeight.bind(n),n.renderRow=n.renderRow.bind(n),n.setListRef=n.setListRef.bind(n),n.virtualList=null,n}return b()(t,e),c()(t,null,[{key:"renderGroupItem",value:function(e,t){return f.a.createElement("h3",{className:"p-emoji_picker__heading"},t?e.nameLocalized:e.display_name)}},{key:"renderEmptyState",value:function(){return f.a.createElement("div",null,f.a.createElement("h3",{className:"p-emoji_picker__heading"},Ae.t("Search Results")),f.a.createElement("div",{className:"p-emoji_picker__no_results"},Ae.t("No emoji found")))}}]),c()(t,[{key:"componentWillReceiveProps",value:function(e){Object(Te.a)(e.scrollToIndex)&&this.virtualList.scrollToRow(e.scrollToIndex)}},{key:"onEmojiClick",value:function(e,t){e.preventDefault(),this.props.onSelected(e,t)}},{key:"getRowHeight",value:function(e){var t=e.index;switch(this.props.screenRows[t].type){case"search":return 54;case"group":return 28;case"emoji":return this.props.screenRows.length-1===t?43:33;default:return 33}}},{key:"setListRef",value:function(e){this.virtualList=e}},{key:"isEmojiSelected",value:function(e,t){var n=this.props,r=n.cursorPosition;if(n.featureSonicEmoji){var a=e===this.props.currentSelection,i=r[1]*ce.a+r[0];return a&&t===i}var o=e.name===Object(N.a)(this.props.currentSelection,"name"),s=r[1]*ce.a+r[0];return o&&t===s}},{key:"usingKeyboard",value:function(){return-1!==this.props.cursorPosition[1]}},{key:"renderCanAddEmojiTip",value:function(){return f.a.createElement("div",{className:"p-emoji_picker__tip p-emoji_picker__tip--can_add_emoji"},f.a.createElement(K.b,{type:"plus",size:"inherit",className:"p-emoji_picker__tip__icon"}),f.a.createElement("span",{dangerouslySetInnerHTML:{__html:Ae.t('You can <a href="/admin/emoji" target="_blank">add custom emoji here</a>')}}))}},{key:"renderEmojiItem",value:function(e,t,n,r){var a=this;if(this.props.featureSonicEmoji){var i=Object(g.p)(),o=Object(xe.g)({locale:i,name:e});return f.a.createElement(Me.a,{key:e,onClick:function(t){return a.onEmojiClick(t,e)},onMouseEnter:function(){return a.props.onMouseEnter(e,t)},onMouseLeave:function(){return a.props.onMouseLeave(e)},className:U()("p-emoji_picker__list_item",{key_selection:this.usingKeyboard()&&this.isEmojiSelected(e,t)}),"data-color-index":t%ce.b,"data-name":e,"data-qa":"emoji_list_item",id:"emoji-picker-"+e.replace(De,""),"aria-label":Object(Pe.a)(o),tabIndex:"-1","aria-selected":this.isEmojiSelected(e,t),role:"option","aria-posinset":r,"aria-setsize":n},f.a.createElement(G.b,{text:e,emojiSize:G.a.MEDIUM,forceDisplay:!0}))}var s=Object(g.e)()?e.name:Object(Ie.g)(e.name);return f.a.createElement(Me.a,{key:e.name,onClick:function(t){return a.onEmojiClick(t,e)},onMouseEnter:function(){return a.props.onMouseEnter(e,t)},onMouseLeave:function(){return a.props.onMouseLeave(e)},className:U()("p-emoji_picker__list_item",{key_selection:this.usingKeyboard()&&this.isEmojiSelected(e,t)}),"data-color-index":t%ce.b,"data-name":e.name,"data-names":e.names,"data-qa":"emoji_list_item",id:"emoji-picker-"+e.name.replace(De,""),"aria-label":Object(Pe.a)(s),tabIndex:"-1","aria-selected":this.isEmojiSelected(e,t),role:"option","aria-posinset":r,"aria-setsize":n},f.a.createElement(Se,{emoji:e}))}},{key:"renderRow",value:function(e){var n=this,r=e.index,a=e.key,i=e.style,o=this.props.featureSonicEmoji,s=this.props.screenRows[r],c=r;if(0===c)return null;var l=void 0,u=function(e,t,n){return"emoji"===e.type&&t>0?Object(C.a)(n.slice(0,t),{type:"emoji"}).reduce(function(e,t){return e+t.items.length},0):0}(s,c,this.props.screenRows),d=function(e,t){return"emoji"===e.type?Object(C.a)(t,{type:"emoji"}).reduce(function(e,t){return e+t.items.length},0):0}(s,this.props.screenRows);switch(s.type){case"group":l=t.renderGroupItem(s.group,o);break;case"canAddEmojiTip":l=this.renderCanAddEmojiTip();break;case"emoji":l=s.items.map(function(e,t){var r=c*ce.a+t,a=u+t+1;return n.renderEmojiItem(e,r,d,a)})}return f.a.createElement("div",{key:a,style:i,role:"presentation"},l)}},{key:"render",value:function(){var e=this,t={screenRows:this.props.screenRows};return f.a.createElement(Re.a,null,function(n){var r=n.height,i=n.width;return f.a.createElement(Ne.a,a()({},t,{className:"p-emoji_picker__list_scroller",height:r,rowCount:e.props.screenRows.length,rowHeight:e.getRowHeight,rowRenderer:e.renderRow,scrollToAlignment:e.usingKeyboard()?"auto":"start",width:i,onRowsRendered:e.props.onScroll,noRowsRenderer:e.renderEmptyState,cursorPosition:e.props.cursorPosition,ref:e.setListRef,tabIndex:e.props.showEmojiUpdateOverlay?-1:null,id:"emoji-picker-list",role:"listbox","aria-label":""}))})}}]),t}(m.PureComponent);qe.displayName="EmojiList";var Fe=qe;qe.defaultProps=Le;var Be=n("llxT"),Ue=(h.b.array.isRequired,h.b.object,h.b.func,h.b.bool,{activeGroup:{},onGroupTabClick:p.a,featureSonicEmoji:!1}),He={"Smileys & People":"happy_smile","Frequently Used":"clock_o","Animals & Nature":"emoji_nature","Food & Drink":"emoji_food",Activities:"emoji_activities","Travel & Places":"emoji_travel",Objects:"lightbulb_o",Symbols:"heart_o",Flags:"flag",Custom:"slack"},Ke=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"renderEmojiGroupTab",value:function(e){var t=this,n=me(this.props.activeGroup,e),r=U()("p-emoji_picker__group_tab",{"p-emoji_picker__group_tab--active":n}),a=this.props.featureSonicEmoji?He[e.name]:e.tab_icon_name;return f.a.createElement(Be.a,{key:e.name,type:"button",role:"tab",className:r,onClick:function(){return t.props.onGroupTabClick(e)},"aria-label":e.display_name,"aria-selected":n?"true":"false"},f.a.createElement("span",{className:"emoji-sizer",title:e.display_name},f.a.createElement(K.b,{type:a})))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"p-emoji_picker__group_tabs",role:"tablist"},this.props.groups.map(function(t){return e.renderEmojiGroupTab(t)}))}}]),t}(m.PureComponent);Ke.displayName="EmojiGroupTabs";var Ge=Ke;Ke.defaultProps=Ue;var Ve=n("CpTu"),ze=n("uXhx"),Ye=new g.b("emoji_picker"),We=(h.b.string,h.b.array,h.b.bool,h.b.func,h.b.func,h.b.bool,{activeSkinToneId:"",choices:[],isOpen:!1,onSkinToneChanged:p.a,onOpen:p.a,featureSonicEmoji:!1}),Qe=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"maybeRenderSkinToneLabel",value:function(){return this.props.activeSkinToneId?null:f.a.createElement("span",{className:"p-emoji_picker__skintone_label","data-qa":"emoji_skintone_label"},Ye.t("Skin Tone"))}},{key:"renderToneChoices",value:function(e){var t=this;return this.props.featureSonicEmoji?e.map(function(e){var n=e.match(/skin-tone-\d+/),r=n?n[0].slice(-1):"1";return f.a.createElement(Me.a,{className:"p-emoji_picker__skintone_choice",key:r,onClick:function(){return t.props.onSkinToneChanged(r)},"data-qa":"emoji_skintone_option_"+r,role:"option",tabIndex:"-1","aria-selected":"false"},f.a.createElement(G.b,{text:e,emojiSize:G.a.MEDIUM,forceDisplay:!0}))}):e.map(function(e){return f.a.createElement(Me.a,{className:"p-emoji_picker__skintone_choice",key:e.skin_tone_id,onClick:function(){return t.props.onSkinToneChanged(e.skin_tone_id)},"data-qa":"emoji_skintone_option_"+e.skin_tone_id,role:"option",tabIndex:"-1","aria-selected":"false"},f.a.createElement(Se,{emoji:e}))})}},{key:"render",value:function(){var e=this.props,t=e.activeSkinToneId,n=e.choices,r=e.isOpen,a=e.onOpen,i=e.featureSonicEmoji,o=void 0,s=n,c=t||"1";i?(o=!t||"1"===t?":hand:":":hand::skin-tone-"+c+":",t&&(s=Object(ze.a)(s,function(e){return e===o})).push(o)):(o=Object(Ve.a)(n,{skin_tone_id:c}),t&&void 0!==o&&(s=Object(ze.a)(s,{skin_tone_id:o.skin_tone_id})).push(o));var l=U()("p-emoji_picker__skintone_btn_container",{hidden:r}),u=U()("p-emoji_picker__skintone_tip",{"p-emoji_picker__skintone_tip--visible":r}),d=U()("p-emoji_picker__skintone_options",{"p-emoji_picker__skintone_options--visible":r}),b=i?f.a.createElement(G.b,{text:o,emojiSize:G.a.MEDIUM,forceDisplay:!0}):f.a.createElement(Se,{emoji:o});return f.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},f.a.createElement("div",{onClick:a,className:l,"data-qa":"emoji_selected_skintone"},f.a.createElement("div",null,b),this.maybeRenderSkinToneLabel()),f.a.createElement("div",{className:u},Ye.t("Choose your default skin tone")),f.a.createElement("div",{className:d,"data-qa":"emoji_skintone_options"},this.renderToneChoices(s)))}}]),t}(m.PureComponent);Qe.displayName="EmojiSkinTonePicker";var Xe=Qe;Qe.defaultProps=We;var Ze=new g.b("emoji_picker"),Je=(h.b.array,h.b.func,h.b.func,h.b.func,h.b.bool,{handyReactions:[],onSelected:p.a,onMouseEnter:p.a,onMouseLeave:p.a,featureSonicEmoji:!1}),$e=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"onClick",value:function(e,t){e.preventDefault(),this.props.onSelected(e,t)}},{key:"renderReaction",value:function(e,t){var n=this;if(this.props.featureSonicEmoji){var r=e.replace(/(^:|:$)/g,"");return f.a.createElement(X.c,{key:"handy_reaction_"+r,className:"p-emoji_picker__list_item",onClick:function(e){return n.onClick(e,r)},onMouseEnter:function(){return n.props.onMouseEnter(r)},onMouseLeave:function(){return n.props.onMouseLeave()},"data-color-index":t%ce.b,role:"button",tabIndex:"-1"},f.a.createElement(G.b,{text:e,emojiSize:G.a.MEDIUM,forceDisplay:!0}))}return f.a.createElement(X.c,{key:e.name,className:"p-emoji_picker__list_item",onClick:function(t){return n.onClick(t,e)},onMouseEnter:function(){return n.props.onMouseEnter(e)},onMouseLeave:function(){return n.props.onMouseLeave()},"data-color-index":t%ce.b},f.a.createElement(Se,{emoji:e}))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"p-emoji_picker__handy_rxns"},f.a.createElement("h3",{className:"p-emoji_picker__heading p-emoji_picker__heading--handy_rxns"},Ze.t("Handy Reactions")),f.a.createElement("div",{className:"p-emoji_picker__handy_rxns_list",role:"menu"},this.props.handyReactions.map(function(t,n){return e.renderReaction(t,n)})))}}]),t}(m.PureComponent);$e.displayName="EmojiHandyReactions";var et=$e;$e.defaultProps=Je;var tt=new g.b("emoji_picker"),nt=(h.b.func.isRequired,h.b.object.isRequired,function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.clogger.track("ADD_CUSTOM_EMOJI_IN_CLIENT",{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"button",ui_properties:{element_type:"button",element_name:"add_emoji_button"}}}})}},{key:"render",value:function(){var e=this.props.onClick;return f.a.createElement(X.d,{type:"outline",size:"small",className:"p-emoji_picker__add_custom_emoji","emoji-type":"emoji",onClick:e,"data-qa":"customize_emoji_add_button"},tt.t("Add Emoji"))}}]),t}(m.Component));nt.displayName="AddEmojiButton",nt.defaultProps={};var rt=Object(v.b)(function(e){return{clogger:Object(V.a)({state:e})}})(nt);function at(e,t){if(Object(w.a)(e)||Object(w.a)(t))return[];for(var n=[],r=0;r<e.length;r+=1){var a=e[r];if(a&&-1!==t.indexOf(a.name)&&(n.push(a),n.length===t.length))break}return n.sort(function(e,n){return t.indexOf(e.name)-t.indexOf(n.name)})}var it=n("lE2N"),ot=n("0KSM");function st(e,t){if(Object(w.a)(e))return[];var n=[],r={};if(t){for(var a=0;a<e.length;a+=1){var i=e[a];if(i.emoji_names)for(var o=0;o<i.emoji_names.length;o+=1){var s=i.emoji_names[o];s&&!r[s]&&(n.push(s),r[s]=!0)}}return n}for(var c=0;c<e.length;c+=1){var l=e[c];if(l.items)for(var u=0;u<l.items.length;u+=1){var d=l.items[u];d&&!r[d.name]&&(n.push(d),r[d.name]=!0)}}return n}n("T59g");var ct=new g.b("emoji_picker"),lt=[0,-1],ut=[0,1],dt=[":hand:",":hand::skin-tone-2:",":hand::skin-tone-3:",":hand::skin-tone-4:",":hand::skin-tone-5:",":hand::skin-tone-6:"],bt=[":slightly_smiling_face:",":+1:",":heavy_check_mark:",":heart:",":eyes:"],pt=(h.b.bool,h.b.object.isRequired,h.b.bool,h.b.bool.isRequired,h.b.string,h.b.object.isRequired,h.b.func,h.b.bool,h.b.string,h.b.array,h.b.func,h.b.func,h.b.func,h.b.bool,h.b.array,h.b.func,h.b.func,h.b.bool,h.b.object,{clientApp:!1,openModal:p.a,canAddEmoji:!0,useCustomEmojiExperimentTreatment:!1,onSkinToneChanged:p.a,showHandyReactions:!1,activeSkinToneId:"",groups:[],onSelected:p.a,onClosed:p.a,emojiMap:[],searchEmoji:p.a,recordFrecencyEvent:p.a,featureSonicEmoji:!1,teamId:"",telemeter:{mark:p.a,measureAndClear:p.a}}),ht=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(F.a)(n,["openAddCustomEmojiModal","onEmojiMouseEnter","onEmojiMouseLeave","onMouseWhileUsingKeyboard","onListScroll","onSearch","onSearcherResult","onEmojiPickerClick","onGroupTabClick","onSkinToneChanged","onSkinTonePickerOpened","triggerSelect","triggerClose","resetSelection","getSkinToneModifiedName","getRowsForGroup","getSearchResults","setMenuRef","setSearchInputRef","onSearchInputChange","onSearchInputClick","getEmojiPreviewData"]),n.onSearchDebounced=Object(A.a)(n.onSearch,16,{leading:!0}),n.onArrowKeyThrottled=Object(P.a)(n.onArrowKey,16);var r=n.props.featureSonicEmoji,a=st(n.props.groups,r);return n.searchMap=r?t.buildSearchMap(n.props.emojiMap):t.buildSearchMapLegacy(a),n.skinToneChoices=r?dt:at(a,dt),n.handyReactions=t.buildHandyReactions(a,n.props.activeSkinToneId,r),n.state={currentSelection:{},isPreviewing:!1,isSkinTonePickerOpen:!1,searchQuery:"",scrollToIndex:null,activeGroup:n.getFirstTab(e.groups),isScrolledToBottom:!1,screenRows:n.getAllRows(e.groups,e.activeSkinToneId,""),cursorPosition:lt,usingKeyboard:!1,mousePosition:null},n.commands=[{keys:["enter","shift+enter"],handler:function(e){"tab"!==document.activeElement.getAttribute("role")&&n.state.isPreviewing&&n.state.currentSelection&&(e.preventDefault(),n.triggerSelect(e,n.state.currentSelection))}},{keys:["esc"],handler:function(e){e.preventDefault(),n.triggerClose(e)}},{keys:["up","shift+up"],handler:function(e){return n.onArrowKeyThrottled("up",e)}},{keys:["down","shift+down"],handler:function(e){return n.onArrowKeyThrottled("down",e)}},{keys:["left","shift+left"],handler:function(e){return n.onArrowKeyThrottled("left",e)}},{keys:["right","shift+right"],handler:function(e){return n.onArrowKeyThrottled("right",e)}}],n}return b()(t,e),c()(t,null,[{key:"emojiMatchesSkinTone",value:function(e,t){return!e.is_skin||e.skin_tone_id===(t||"1")}},{key:"buildSearchMapLegacy",value:function(e){for(var t={},n=0;n<e.length;n++)if(t[e[n].name]=e[n],e[n].name!==e[n].names)for(var r=e[n].names.split(" "),a=0;a<r.length;a++)if(r[a]!==e[n].name){var i=Object(q.a)(e[n]);i.display_name=r[a],i.name=r[a],t[r[a]]=i}return t}},{key:"buildSearchMap",value:function(e){var t={};return Object(L.a)(e,function(e){t[e.name]=e,Object(L.a)(e.aliases,function(e){t[e.name]=e})}),t}},{key:"buildHandyReactions",value:function(e,t,n){return n?t&&"1"!==t?Object(D.a)(bt,function(e){return":+1:"===e?e+":skin-tone-"+t+":":e}):bt:at(e,Object(D.a)(bt,function(e){return":+1:"===e&&t&&"1"!==t?e+":skin-tone-"+t+":":e}))}}]),c()(t,[{key:"componentWillMount",value:function(){this.props.telemeter.mark("react_emoji_menu_mount_mark")}},{key:"componentDidMount",value:function(){this.keyCommands=new pe.a(this.element),this.keyCommands.bindAll(this.commands),this.searchInput.focus(),this.props.telemeter.measureAndClear("react_emoji_menu_mount_mark","react_emoji_menu_mount")}},{key:"componentWillReceiveProps",value:function(e){var n=this;if(this.props.activeSkinToneId!==e.activeSkinToneId){this.onSearch(this.state.searchQuery);var r=e.featureSonicEmoji,a=st(e.groups,r);this.searchMap=r?t.buildSearchMap(this.props.emojiMap):t.buildSearchMapLegacy(a),this.handyReactions=t.buildHandyReactions(a,e.activeSkinToneId,r),this.setState(function(t){return{activeGroup:n.getFirstTab(e.groups),screenRows:n.getAllRows(e.groups,e.activeSkinToneId,t.searchQuery)}})}}},{key:"componentWillUnmount",value:function(){this.keyCommands.reset()}},{key:"onArrowKey",value:function(e,t){var n=this;if(!(this.state.screenRows.length<2)){var r=e;if(t.target===this.searchInput&&this.state.searchQuery&&(this.state.cursorPosition===lt||this.state.cursorPosition===ut))if("right"===e&&this.searchInput.selectionEnd===this.searchInput.value.length);else if("left"===e||"right"===e)return;t.preventDefault(),this.element.focus();var a=this.moveCursor(r),i=void 0;i=a[1]<this.state.cursorPosition[1]||1===a[1]?a[1]-1:a[1],this.setState(function(e){return{cursorPosition:a,currentSelection:n.getCell(e.screenRows,a),scrollToIndex:i,isPreviewing:!0,usingKeyboard:!0,mousePosition:null}})}}},{key:"onEmojiMouseEnter",value:function(e,t){this.state.usingKeyboard||this.setState(function(){return{currentSelection:e,cursorPosition:[t%ce.a,Math.floor(t/ce.a)],isPreviewing:!0,isSkinTonePickerOpen:!1}})}},{key:"onEmojiMouseLeave",value:function(){this.state.usingKeyboard||this.resetSelection()}},{key:"onMouseWhileUsingKeyboard",value:function(e){if(this.state.usingKeyboard){var t=[e.clientX,e.clientY];this.state.mousePosition?Object(M.a)(t,this.state.mousePosition)||this.setState(function(){return{mousePosition:null,usingKeyboard:!1,scrollToIndex:null,cursorPosition:lt}}):this.setState(function(){return{mousePosition:t}})}}},{key:"onEmojiPickerClick",value:function(){this.setState(function(){return{isSkinTonePickerOpen:!1}})}},{key:"onSkinToneChanged",value:function(e){this.props.onSkinToneChanged(e),this.setState(function(){return{isSkinTonePickerOpen:!1}})}},{key:"onSkinTonePickerOpened",value:function(){this.setState(function(){return{isSkinTonePickerOpen:!0}})}},{key:"onSearchInputChange",value:function(e){var t=this.state.searchQuery,n=e.target.value.replace(/:/g,"").trim();t!==n&&this.onSearchDebounced(n)}},{key:"onSearchInputClick",value:function(){this.setState(function(){return{cursorPosition:lt}})}},{key:"onSearch",value:function(e){var t=this,n=this.props,r=n.featureSonicEmoji,a=n.telemeter;if(a.mark("react_emoji_menu_search_mark"),r&&e){var i=e.split(/\s*,\s*/);Promise.map(i,function(e){return t.props.searchEmoji({query:e,options:{entities:{emoji:{matchKeywords:!0}},sort:{frecency:!0},limit:250,returnMetadata:!0}})}).then(function(n){var r=Object(x.a)(n);t.onSearcherResult(r,e)})}else{var o=this.getAllRows(this.props.groups,this.props.activeSkinToneId,e),s=o.length>=2&&Object(N.a)(o,"[1].items.length")>=1,c=e&&s&&Object(N.a)(o,"[1].items[0]")||{},l=!(!e||!s),u=e&&s?ut:lt;this.setState(function(n,r){return{activeGroup:t.getFirstTab(r.groups),cursorPosition:u,searchQuery:e,screenRows:o,currentSelection:c,isPreviewing:l}},function(){return a.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search")})}}},{key:"onSearcherResult",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],r=this.props,a=r.activeSkinToneId,i=r.telemeter,o=[];if(t.length>0){var s=[{emoji_names:Object(D.a)(t,"emojiBestNameMatchCanonical"),name:"Search Results"}];o=Object(R.a)(s,function(t){return e.getRowsForGroup(t,a)})}var c=o.length>=2&&Object(N.a)(o,"[1].items.length")>=1,l=n&&c&&Object(N.a)(o,"[1].items[0]")||{},u=!(!n||!c),d=n&&c?ut:lt;this.setState(function(t,r){return{activeGroup:e.getFirstTab(r.groups),cursorPosition:d,searchQuery:n,screenRows:o,currentSelection:l,isPreviewing:u}},function(){return i.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search")})}},{key:"onListScroll",value:function(e){var t=e.startIndex,n=e.stopIndex;if(!this.state.searchQuery){var r=this.state.screenRows[t];this.setState(function(e){return{activeGroup:r.group,isScrolledToBottom:n===e.screenRows.length-1,scrollToIndex:null}})}}},{key:"onGroupTabClick",value:function(e){var t=this,n=this.state.searchQuery?this.getAllRows(this.props.groups,this.props.activeSkinToneId,""):this.state.screenRows,r=Object(T.a)(n,function(t){return"group"===t.type&&me(t.group,e)}),a=r>-1?r:0;this.setState(function(){return{activeGroup:e,scrollToIndex:a,cursorPosition:[0,a+1],searchQuery:"",screenRows:n,currentSelection:Object(S.a)(e.items),usingKeyboard:!0,isPreviewing:!0}},function(){return t.searchInput.focus()})}},{key:"setMenuRef",value:function(e){this.element=e}},{key:"setSearchInputRef",value:function(e){this.searchInput=e}},{key:"getRow",value:function(e){return Object(N.a)(this.state.screenRows,"["+e+"]")}},{key:"getCell",value:function(e,t){var n=O()(t,2),r=n[0],a=n[1];return Object(N.a)(e,"["+a+"].items["+r+"]")}},{key:"getFirstTab",value:function(e){return Object(N.a)(e,"[0]")}},{key:"getEmojiPreviewData",value:function(e){var t=this.props,n=t.featureSonicEmoji,r=t.activeSkinToneId;if(n){if(Object(w.a)(e))return{name:"",aliases:""};var a=Object(H.g)(e).name,i=this.searchMap[a];if(!i)return{name:"",aliases:""};var o=Object(ce.e)(i).map(function(e){return":"+e.displayName+":"}).join(" ");return{name:this.getSkinToneModifiedName(a,r),displayName:Object(ce.g)(i),aliases:o}}var s=Object(Ie.h)(e.display_name||e.name),c=e.display_names||e.names||"";if(c=Object(Ie.j)(c),"ja-JP"===Object(g.p)()&&e.name){var l=Object(Ie.j)(e.name);c.indexOf(l)<0&&(c+=" "+l)}return{name:s,aliases:c}}},{key:"getSkinToneModifiedName",value:function(e,t){var n=this.props.teamId,r=n&&Object(Oe.getStateByTeamId)(n);return(r&&Object(ge.k)(r,{text:e,teamId:n})||Object(ce.d)(e))&&Object(ce.k)(t)?e+"::skin-tone-"+t:e}},{key:"getRowsForGroup",value:function(e,n){var r=this;if(this.props.featureSonicEmoji){var a=Object(D.a)(Object(I.a)(Object(D.a)(e.emoji_names,function(e){return r.getSkinToneModifiedName(e,n)}),ce.a),function(t){return{type:"emoji",group:e,items:t}});return a.unshift({type:"group",group:e}),a}var i=Object(D.a)(Object(I.a)(Object(C.a)(Object(E.a)(e.items),function(e){return t.emojiMatchesSkinTone(e,n)}),ce.a),function(t){return{type:"emoji",group:e,items:t}});return i.unshift({type:"group",group:e}),i}},{key:"getAllRows",value:function(e,t,n){var r=this,a=this.props,i=a.canAddEmoji,o=a.useCustomEmojiExperimentTreatment,s=this.getActiveGroups(e,t,n),c=Object(R.a)(s,function(e){return r.getRowsForGroup(e,t)});return!n&&i&&!o&&c.push({type:"canAddEmojiTip"}),c}},{key:"getActiveGroups",value:function(e,t,n){if(!n)return e;var r=this.getSearchResults(e,t,n);return r.length>0?[{display_name:"Search Results",items:r,name:"search_results"}]:[]}},{key:"getSearchResults",value:function(e,t,n){var r=t&&"1"!==t?":skin-tone-"+t+":":"";return function(e){var t=e.searchQuery,n=e.searchMap,r=e.emojiMap,a=e.skinToneModifier;if(!(n&&Object.keys(n).length&&r&&r.length))return[];var i=":"===t.substr(0,1),o=":"===t.slice(-1),s={allow_empty_query:!0,frecency:!0,prefer_exact_match:!0,match_emoji_keywords:!i&&!o},c=t.replace(/^(\+|-)|( |:)/g,""),l=[];return i?l=Object(ot.a)(c,{emoji:r},s):Object(E.a)(c.split(",")).forEach(function(e){l=l.concat(Object(ot.a)(e,{emoji:r},s))}),Object(E.a)(Object(it.a)(Object(D.a)(l,function(e){var t=e.model_ob.name_with_colons;return e.model_ob.is_skin&&a&&(t+=a),n[t]}),"names"))}({searchQuery:n,searchMap:this.searchMap,emojiMap:this.props.emojiMap,skinToneModifier:r})}},{key:"triggerSelect",value:function(e,t){if(this.props.featureSonicEmoji){var n=Object(ge.e)(t);n&&this.props.recordFrecencyEvent({id:n,text:this.state.searchQuery})}this.props.onSelected(e,t,this.state.searchQuery),e.shiftKey||this.triggerClose(e)}},{key:"triggerClose",value:function(e){this.resetSelection(),this.props.onClosed(),e.stopPropagation()}},{key:"moveCursor",value:function(e,t){var n=t;n||(n=this.state.cursorPosition);var r=n,a=O()(r,2),i=a[0],o=a[1];if(-1===o)return[0,1];var s=i,c=o;switch(e){case"down":if(2===this.state.screenRows.length)return this.moveCursor("right",[i,o]);(c=o+1)>=this.state.screenRows.length&&(c=1);break;case"up":if(2===this.state.screenRows.length)return this.moveCursor("left",[i,o]);(c=o-1)<0&&(c=this.state.screenRows.length-1);break;case"left":if((s=i-1)<0){if(2===this.state.screenRows.length){s=this.getRow(o).items.length;break}c=o-1,"emoji"!==this.getRow(c).type&&(c-=1),c<0&&(c=Object(k.a)(this.state.screenRows,{type:"emoji"})),s=this.getRow(c).items.length-1}break;case"right":if((s=i+1)>=this.getRow(o).items.length){if(2===this.state.screenRows.length){s=0;break}(c=o+1)>Object(k.a)(this.state.screenRows,{type:"emoji"})&&(c=0),"emoji"!==this.getRow(c).type&&(c+=1),s=0}}return"emoji"!==this.getRow(c).type?this.moveCursor(e,[s,c]):(this.getCell(this.state.screenRows,[s,c])||(s=this.getRow(c).items.length-1),[s,c])}},{key:"resetSelection",value:function(){this.setState(function(){return{currentSelection:{},isPreviewing:!1,scrollToIndex:null,cursorPosition:lt}})}},{key:"maybeRenderHandyReactions",value:function(){return this.props.showHandyReactions?f.a.createElement(et,{handyReactions:this.handyReactions,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave,featureSonicEmoji:this.props.featureSonicEmoji}):null}},{key:"openAddCustomEmojiModal",value:function(e){var t=this.props,n=t.clogger,r=t.isEnterprise,a=t.team,i=void 0;r&&(i=a.enterprise_name);var o=f.a.createElement(be,{orgName:i});n.track("ADD_CUSTOM_EMOJI_IN_CLIENT",{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:"add_emoji_button"}}}}),this.props.openModal({element:o}),this.triggerClose(e)}},{key:"renderStickyHeader",value:function(){var e=this.props.featureSonicEmoji;if(!this.state.activeGroup&&!this.state.searchQuery)return null;var t=e?this.state.activeGroup.nameLocalized:this.state.activeGroup.display_name,n=this.state.searchQuery?ct.t("Search Results"):t;return f.a.createElement("div",{className:"p-emoji_picker__sticky_header",id:"emoji-picker-sticky-header"},f.a.createElement("h3",{className:"p-emoji_picker__heading"},n))}},{key:"renderEmojiPreview",value:function(){var e=this.props,t=e.groups,n=e.activeSkinToneId,r=e.featureSonicEmoji,a=0===this.state.screenRows.length,i=this.state.currentSelection,o=this.getEmojiPreviewData(i);if(a){var s=st(t,r);i=r?":cry:":at(s,":cry:")[0],o=this.getEmojiPreviewData(i||{})}var c=U()("p-emoji_picker__preview_text",{"p-emoji_picker__preview_text--shortened":!n}),l=r?f.a.createElement(G.b,{text:o.name,emojiSize:G.a.LARGE,forceDisplay:!0}):f.a.createElement(Se,{emoji:i}),u=r?o.displayName:o.name;return f.a.createElement("div",{className:"p-emoji_picker__preview"},f.a.createElement("span",{className:"p-emoji_picker__preview_img","data-qa":"emoji_preview_img"},l),f.a.createElement("div",{className:c},f.a.createElement("span",{"data-qa":"emoji_preview_name"},a?ct.t("Oh no!"):u),f.a.createElement("br",null),f.a.createElement("span",{className:"p-emoji_picker__preview_aliases","data-qa":"emoji_preview_aliases"},a?ct.t("We couldn\u2019t find that emoji"):o.aliases)))}},{key:"renderCustomEmoji",value:function(){var e=this.props,t=e.canAddEmoji,n=e.clientApp,r=e.useCustomEmojiExperimentTreatment;return n&&t&&r?f.a.createElement(rt,{onClick:this.openAddCustomEmojiModal}):f.a.createElement("div",{className:"p-emoji_picker__emoji_deluxe_label"},f.a.createElement("span",null,ct.t("Emoji Deluxe")),"\u2122")}},{key:"render",value:function(){var e=this.props.featureSonicEmoji,t=this.state,n=t.screenRows,r=t.isScrolledToBottom,a=t.activeGroup,i=0===n.length,o=r?Object(j.a)(this.props.groups):a,s=void 0;s=e?Object(y.a)(this.state.currentSelection)?"emoji-picker-"+this.state.currentSelection.replace(/:/g,""):null:this.state.currentSelection.name?"emoji-picker-"+this.state.currentSelection.name.replace(/:/g,""):null;var c=U()("c-menu","p-emoji_picker",{"p-emoji_picker--keyboard_mode":this.state.usingKeyboard}),l=U()("p-emoji_picker__footer",{"p-emoji_picker__footer--previewing":this.state.isPreviewing||i}),u=ct.t("Use the left, right, up and down arrow keys to navigate the emoji search results.");return f.a.createElement("div",{className:c,"data-using-keyboard":this.state.usingKeyboard,onClick:this.onEmojiPickerClick,onMouseMove:this.onMouseWhileUsingKeyboard,ref:this.setMenuRef,role:"presentation"},f.a.createElement("div",{className:"p-emoji_picker__content"},f.a.createElement(Ge,{groups:this.props.groups,activeGroup:o,onGroupTabClick:this.onGroupTabClick,featureSonicEmoji:e}),f.a.createElement("div",{className:"p-emoji_picker__input_container"},f.a.createElement("input",{ref:this.setSearchInputRef,className:"c-input_text p-emoji_picker__input",type:"text",placeholder:ct.t("Search"),onChange:this.onSearchInputChange,onClick:this.onSearchInputClick,"aria-activedescendant":s,"aria-owns":"emoji-picker-list","aria-autocomplete":"list",role:"textbox","aria-label":ct.t("Search for an emoji",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049"}),"aria-describedby":"emoji-picker-search-description","data-qa":"emoji_picker_input"}),f.a.createElement("span",{className:"hidden",id:"emoji-picker-search-description"},u),f.a.createElement(K.b,{type:"search",className:"p-emoji_picker__icon_search"})),f.a.createElement("div",{className:"p-emoji_picker__list_container",role:"tabpanel","aria-labelledby":"emoji-picker-sticky-header"},this.renderStickyHeader(),f.a.createElement("div",{className:"p-emoji_picker__list"},f.a.createElement(Fe,{screenRows:this.state.screenRows,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave,scrollToIndex:this.state.scrollToIndex,onScroll:this.onListScroll,currentSelection:this.state.currentSelection,cursorPosition:this.state.cursorPosition,featureSonicEmoji:e}))),f.a.createElement("div",{className:l},this.maybeRenderHandyReactions(),this.renderEmojiPreview(),this.renderCustomEmoji(),f.a.createElement(Xe,{activeSkinToneId:this.props.activeSkinToneId,choices:this.skinToneChoices,isOpen:this.state.isSkinTonePickerOpen,onOpen:this.onSkinTonePickerOpened,onSkinToneChanged:this.onSkinToneChanged,featureSonicEmoji:e}))))}}]),t}(m.Component);ht.displayName="EmojiPicker",ht.defaultProps=pt;var mt=Object(v.b)(function(e,t){var n=Object(ve.b)(e),r=Object(_e.b)(e),a=Object(J.j)(e,"feature_sonic_emoji"),i="treatment"===Object(ye.c)(e,"custom_emoji_in_client");return{activeSkinToneId:Object(fe.g)(e,"preferred_skin_tone"),canAddEmoji:Object(he.m)(e,n),clientApp:Object(J.i)(e),clogger:Object(V.a)({state:e}),useCustomEmojiExperimentTreatment:i,groups:a?Object(ge.d)(e,{teamId:r}):t.groups,isEnterprise:Object(J.m)(e),emojiMap:a?Object(ge.c)(e):t.emojiMap,teamId:a?r:"",featureSonicEmoji:a,team:Object(je.d)(e),telemeter:Object(Ce.c)({state:e})}},function(e){return{openModal:function(){return e(ee.e.apply(void 0,arguments))},searchEmoji:function(){return e(ke.c.apply(void 0,arguments))},recordFrecencyEvent:function(){return e(Ee.c.apply(void 0,arguments))}}})(ht),ft=n("cMxN"),vt=n("AfrZ"),gt=new g.b("emoji_picker"),_t=(h.b.node.isRequired,h.b.number,h.b.number,h.b.string,h.b.func,h.b.func,h.b.func,h.b.bool,h.b.func,h.b.bool,h.b.bool,{offsetX:0,offsetY:-6,position:"top-left",onClick:p.a,onClose:p.a,onEmojiSelected:p.a,showHandyReactions:!1,setUserPrefByApi:p.a,customTrigger:!1,forceOpen:!1}),Ot=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEmojiSelected=n.onEmojiSelected.bind(n),n.onSkinToneChanged=n.onSkinToneChanged.bind(n),n}return b()(t,e),c()(t,[{key:"onEmojiSelected",value:function(e,t){this.props.onEmojiSelected(e,t)}},{key:"onSkinToneChanged",value:function(e){this.props.setUserPrefByApi({pref:"preferred_skin_tone",value:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.offsetX,r=t.offsetY,i=t.position,o=t.onClick,s=t.onClose,c=t.showHandyReactions,l=t.customTrigger,u=t.forceOpen;return f.a.createElement(ft.b,{ariaHasPopup:!0,onClick:o,onClose:s,customTrigger:l,forceOpen:u,renderPopover:function(t){return f.a.createElement(ft.a,a()({shouldFade:!1,allowanceX:15,allowanceY:15,position:i,offsetX:n,offsetY:r,ariaLabel:gt.t("Emoji picker dialog"),ariaRole:"dialog"},t),f.a.createElement(mt,{onSkinToneChanged:e.onSkinToneChanged,onSelected:e.onEmojiSelected,onClosed:t.onClose,showHandyReactions:c}))}},this.props.children)}}]),t}(m.Component);Ot.displayName="EmojiMenuTrigger",Ot.defaultProps=_t;var yt={setUserPrefByApi:function(){return vt.f.apply(void 0,arguments)}};t.a=Object(v.b)(null,yt)(Ot)},wOaD:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("kxpR"),h=n.n(p),m=n("aK/h"),f=n("TSYQ"),v=n.n(f),g=n("yPgC"),_=n("P9LH"),O=n("od5y"),y=(g.a.File().isRequired,m.b.oneOf(["slide","window","external","view","detail","download"]),m.b.bool,m.b.bool,m.b.string,{action:void 0,showThumbnail:!0,isCompact:!1,className:void 0}),j=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.action,r=e.showThumbnail,i=e.isCompact,o=Object(_.M)(t),s=Object(_.H)(t),c=v()("c-pillow_file__icon",this.props.className,{"c-pillow_file__icon--tombstone":o,"c-pillow_file__icon--hidden":s});if(o)return h.a.createElement(O.b,{type:"trash",className:c});if(s)return h.a.createElement(O.b,{type:"eye-closed",className:c});if(r&&t.thumb_80&&!t.has_rich_preview){var l=t.thumb_64||t.thumb_80||t.thumb_160||t.thumb_360;return h.a.createElement("i",{className:v()("c-pillow_file__thumb_36",c),style:{backgroundImage:"url("+l+")"},src:l})}var u=t.filetype||Object(_.q)(t.type),d=!i||"small";return h.a.createElement(O.a,{className:v()(c,a()({"c-pillow_file__icon--slide":n},"c-pillow_file__icon--"+n,n)),file:d,type:u,align:"top"})}}]),t}(p.PureComponent);j.displayName="FileIcon",j.defaultProps=y,t.a=j},wP1B:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("kxpR"),o=n.n(i),s=n("aK/h"),c=n("TSYQ"),l=n.n(c);n("gA5Z"),s.b.number.isRequired,s.b.number.isRequired,s.b.string,s.b.object,s.b.node;function u(e){var t=e.width,n=e.height,r=e.className,i=e.style,s=e.children;return o.a.createElement("div",{className:l()("c-aspect_box__outer",r),style:a()({},i,{width:t})},o.a.createElement("div",{className:"c-aspect_box__inner",style:{paddingTop:n/t*100+"%"}},o.a.createElement("div",{className:"c-aspect_box__content"},s)))}u.displayName="AspectBox",u.defaultProps={className:null,style:null,children:null};t.a=u},wR6u:function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f});var r=n("OtLZ"),a=n("VjHM"),i=n("AfrZ"),o=n("yHhI"),s=n("DlLn"),c=n("Gogr"),l=!0,u=!1,d=!1,b=!1;function p(e){if(l!==e&&(l=e,e))if(u)u=!1,b=!0,Object(o.b)().info("AUTH","Re-fetching auth due to added_to_team or removed_from_team rtm event that was deferred"),Object(s.c)();else if(d){d=!1;var t=Object(s.b)();b=!0,t||Object(o.b)().info("AUTH","Re-fetching auth due to accounts_changed rtm event that was deferred")}}function h(e){b||(l?(b=!0,Object(s.b)()||Object(o.a)({getState:e}).info("Re-fetching auth due to accounts_changed rtm event")):d=!0)}function m(e,t,n){if(b)return Promise.resolve();var r=Promise.resolve();return Object(a.b)(t()).includes(n)&&(Object(o.a)({getState:t}).info("Removing "+n+" from enterprise exclusion list for user_added_to_team"),r=e(Object(i.b)({teamId:n}))),r.then(function(){l?(b=!0,Object(o.a)({getState:t}).info("User was added to or removed from a team; re-fetching auth"),Object(s.c)()):u=!0})}function f(e,t,n){if(!b){var a=Object(c.c)("orderedTeamIds");Object(c.h)("orderedTeamIds",Object(r.a)(a,n)),l?(b=!0,Object(o.a)({getState:t}).info("User was added to or removed from a team; re-fetching auth"),Object(s.c)()):u=!0}}},wYji:function(e,t,n){"use strict";var r=n("aK/h"),a=n("+yap"),i=n("RB1+"),o=n("aLpA"),s=n("n74X");var c=n("XfeM"),l=n("a3KO"),u=n("HO/Y");n.d(t,"a",function(){return d});var d={fancy:"fancy",frowny:"frowny",neutral:"neutral",sadSurprise:"sad_surprise"},b=Object(c.b)("Add ephemeral feedback message to channel or thread",function(e,t,n){var r=n.message,c=n.inputText,d=n.ephemeralType,b=!1!==n.temporary,p=r.channel,h=r.thread_ts,m=h?l.a.threadsTempSlashCmdFeedback:l.a.tempSlashCmdFeedback,f=Object(u.j)(t(),"feature_sonic_inputs");if(c&&p)if(h)!function(e){var t=e.inputText,n=e.channelId,r=e.threadTs;if(e.featureSonicInputs){var a=Object(i.a)({viewContext:o.C.THREADS_FLEXPANE,channelId:n,threadTs:r});a&&a.setText(t),Object(i.a)({viewContext:o.C.THREADS_VIEW,channelId:n,threadTs:r})&&a.setText(t)}else Object(s.f)(t,n,r)}({featureSonicInputs:f,inputText:c,channelId:p,threadTs:h});else if(f){var v=Object(i.a)({viewContext:o.C.MESSAGE_PANE,channelId:p});v&&v.setText(c)}else Object(a.e)(c);b?e(Object(l.c)({ephemeralType:d||m,message:r})):(e(Object(l.e)({ephemeralType:d||m,channelId:p})),e(Object(l.b)({message:r})))});b.propTypes={temporary:r.b.bool,inputText:r.b.string,message:r.b.shape({channel:r.b.string.isRequired,slackbot_feels:r.b.string,text:r.b.node,thread_ts:r.b.string}).isRequired};t.b=b},waL6:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("QbLZ"),a=n.n(r),i=n("aLpA");function o(e,t){var n,r=e;switch(t.type){case i.e.plain_text_input:r=a()({},e,t,{maxCharacterLimit:(n=t).maxLength,minCharacterLimit:n.minLength});break;default:r=a()({},e,t)}return r}},"wdd+":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("TSYQ"),m=n.n(h),f=n("aK/h"),v=n("HO/Y"),g=n("Fjja"),_=n("x4bP"),O=n("rWF5"),y=n("nNoG"),j=n("XLFM"),k=n("0f2Y"),E=n("yHhI"),C=n("cErB"),I=n("Zr7G"),w=(n("eVD5"),n("rb67")),S=(f.b.node.isRequired,f.b.func,f.b.string,f.b.string,f.b.oneOf(["short","default"]),f.b.node,f.b.object.isRequired,f.b.object.isRequired,f.b.bool.isRequired,{renderError:void 0,id:void 0,subtype:"component_error_boundary",variant:"default",icon:"\ud83d\udc22"}),T=new y.b("error_boundary"),R=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1,errCode:null},n.onClickReloadButton=n.onClickReloadButton.bind(n),n}return u()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){this.state.hasError&&e.id!==this.props.id&&this.resetHasError()}},{key:"onClickReloadButton",value:function(e){e.preventDefault();var t=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),Object(_.a)()?(t=Object(C.o)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY","Reloading at "+t+" after hitting ErrorBoundary"),Object(w.e)().finally(function(){window.location.href=t})):(this.props.logger.info("LEGACY","Reloading at "+t+" after hitting ErrorBoundary"),window.location.href=t)}},{key:"resetHasError",value:function(){this.setState(function(){return{hasError:!1,errCode:null}})}},{key:"componentDidCatch",value:function(e,t){var n=null;try{n=Object(g.a)(e.message).substr(0,12).toUpperCase()}catch(e){}this.setState(function(){return{hasError:!0,errCode:n}}),O.k||this.props.logger.error("ERROR-BOUNDARY",e,n,t.componentStack,{subtype:this.props.subtype})}},{key:"render",value:function(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError();var e=m()("p-error_boundary",{"p-error_boundary--short":"short"===this.props.variant}),t=m()("p-error_boundary__icon",{"p-error_boundary__icon--turtle":"\ud83d\udc22"===this.props.icon});return b.a.createElement("div",{className:e},b.a.createElement("h1",{className:"p-error_boundary__heading"},b.a.createElement("span",null,T.t("Something went wrong")),b.a.createElement("span",{className:t,role:"img","aria-label":T.t("Something went wrong")},this.props.icon)),b.a.createElement("p",{className:"p-error_boundary__contact_msg"},T.rt("If the problem persists, please <a>drop us a line.</a>",null,function(e){var t=e.text,n=e.key;return b.a.createElement(k.a,{href:"https://slack.com/help/contact",rel:"noopener noreferrer",key:n},t)})),this.state.errCode&&b.a.createElement("p",{className:"p-error_boundary__error_code","data-qa":"error_code"},this.props.featureErrorBoundaryCopy?T.t("Error Code: "):"",this.state.errCode),b.a.createElement(j.d,{type:"outline",className:"margin_right_50",onClick:this.onClickReloadButton},T.t("Reload")),b.a.createElement(j.d,{href:"https://slack.com/help/contact",target:"_blank",rel:"noopener noreferrer"},T.t("Contact us")))}return this.props.children}}]),t}(d.Component);R.displayName="ErrorBoundary",R.defaultProps=S,t.a=Object(p.b)(function(e){return{logger:Object(E.a)({state:e}),telemeter:Object(I.c)({state:e}),featureErrorBoundaryCopy:Object(v.j)(e,"feature_error_boundary_copy")}})(R)},wdjV:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"i",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"n",function(){return u}),n.d(t,"q",function(){return d}),n.d(t,"m",function(){return b}),n.d(t,"p",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"c",function(){return O});var r=n("U/ze"),a=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.startTs}),i=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.startTsOffset}),o=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.highlightTs}),s=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.highlightLazy}),c=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.userSetUnreadPoint}),l=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.ghostLastRead}),u=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.isAppSpaceOpen}),d=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.unreadLineVisible}),b=Object(r.b)(function(e,t){return e&&e.messagePane&&e.messagePane.scrollmarks&&e.messagePane.scrollmarks[t]}),p=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.overlayVisible}),h=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.highlightsBackButtonVisible}),m=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.channelSessionId}),f=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.prevChannelSwitchTs}),v=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.prevChannelId}),g=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.newxpOnboardingStep}),_=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.hasMessagePaneUnmounted}),O=Object(r.b)(function(e){return e&&e.messagePane&&e.messagePane.focusRequestedTs})},wfE8:function(e,t,n){"use strict";n.d(t,"G",function(){return q}),n.d(t,"M",function(){return F}),n.d(t,"K",function(){return B}),n.d(t,"J",function(){return H}),n.d(t,"L",function(){return G}),n.d(t,"B",function(){return V}),n.d(t,"t",function(){return z}),n.d(t,"v",function(){return Y}),n.d(t,"w",function(){return W}),n.d(t,"a",function(){return Q}),n.d(t,"z",function(){return X}),n.d(t,"O",function(){return Z}),n.d(t,"C",function(){return J}),n.d(t,"D",function(){return $}),n.d(t,"l",function(){return ee}),n.d(t,"u",function(){return te}),n.d(t,"m",function(){return ne}),n.d(t,"x",function(){return re}),n.d(t,"o",function(){return ae}),n.d(t,"c",function(){return ie}),n.d(t,"A",function(){return oe}),n.d(t,"n",function(){return se}),n.d(t,"y",function(){return ce}),n.d(t,"h",function(){return le}),n.d(t,"i",function(){return ue}),n.d(t,"s",function(){return de}),n.d(t,"H",function(){return be}),n.d(t,"F",function(){return pe}),n.d(t,"N",function(){return he}),n.d(t,"I",function(){return me}),n.d(t,"E",function(){return fe}),n.d(t,"g",function(){return ve}),n.d(t,"e",function(){return ke}),n.d(t,"j",function(){return Se}),n.d(t,"d",function(){return Re}),n.d(t,"f",function(){return xe}),n.d(t,"q",function(){return Me}),n.d(t,"r",function(){return Pe}),n.d(t,"k",function(){return Ae}),n.d(t,"p",function(){return De}),n.d(t,"b",function(){return Le});var r=n("9oTK"),a=n("QbLZ"),i=n.n(a),o=n("BeL+"),s=n("NOj5"),c=n("cZF4"),l=n("gSGL"),u=n("IzLi"),d=n("fujP"),b=n("0VPD"),p=n("vFlG"),h=n("7EGn"),m=n("xWuZ"),f=n("Wy5O"),v=n("bPB8"),g=n("ZBlo"),_=n("aK/h"),O=n("Yg2s"),y=n("om+M"),j=n("DtX9"),k=n("lfDB"),E=n("HO/Y"),C=n("clTI"),I=n("CJqQ"),w=n("Fdc0"),S=n("Qrgz"),T=n("6kok"),R=n("+1yX"),N=n("4zXV"),x=n("UjNr"),M=n("yHhI"),P=n("OqoL"),A=n("St+r"),D=n("Smdl"),L={},q=Object(y.a)("Create a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.isPrivate;if(!a&&Object(w.xb)(Object(j.b)(t())))return Promise.reject(new Error("restricted_action"));if(!r)return Promise.reject(new Error("invalid_name_required"));if(Object(p.a)(L,r))return L[r];var i={name:r,validate_name:!0};return a&&(i.is_private=!0),L[r]=e(Object(N.a)({method:"conversations.create",args:i})).then(function(e){return delete L[r],e}).catch(function(e){throw delete L[r],e}),L[r]});q.propTypes={name:_.b.string,isPrivate:_.b.bool};var F=Object(y.a)("Leave a channel",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=t();if(!Object(S.j)(r,n))return Promise.reject(new Error("restricted_action"));var a={method:"conversations.leave",args:{channel:n}};return e(Object(N.a)(a)).catch(function(e){throw Object(M.a)({getState:t}).error("failed to leave channel"),e})});F.propTypes={channelId:_.b.string.isRequired};var B=Object(y.a)("Join a conversation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.inBackground,i=void 0!==a&&a;return e(Object(N.a)({method:"conversations.join",args:{channel:r,_in_background:i}}))});B.propTypes={channelId:_.b.string.isRequired,inBackground:_.b.bool};var U,H=Object(y.a)("Invite user(s) to a conversation",(U=Object(r.method)(function(e,t,n){var r=n.channelId,a=n.users,i=n.subteams;return e(Object(N.a)({method:"conversations.invite",args:{channel:r,users:a,subteams:i,force:!!i}}))}),function(e,t,n){return U.apply(this,arguments)}));H.propTypes=_.b.oneOfType([_.b.shape({channelId:_.b.string.isRequired,users:_.b.string.isRequired,subteams:_.b.string}),_.b.shape({channelId:_.b.string.isRequired,subteams:_.b.string.isRequired,users:_.b.string})]);var K,G=Object(y.a)("Removes a user from a conversation",(K=Object(r.method)(function(e,t,n){var r=n.channelId,a=n.memberId;return e(Object(N.a)({method:"conversations.kick",args:{channel:r,user:a}}))}),function(e,t,n){return K.apply(this,arguments)}));G.propTypes={channelId:_.b.string.isRequired,memberId:_.b.string.isRequired};var V=Object(y.a)("Submit Channel Export",function(e,t,n){return e(Object(N.a)({method:"conversations.export",args:{channel:n.id}})).catch(function(e){throw e})});V.propTypes={channel:_.b.object};var z=Object(y.a)("Set Channel Deleted",function(e,t,n){return e(Object(N.a)({method:"conversations.delete",args:{channel:n}})).catch(function(e){throw e})});z.propTypes=_.b.string;var Y=Object(y.a)("Rename channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.newName;return e(Object(N.a)({method:"conversations.rename",args:{channel:r,name:a,validate:!0}}))});Y.propTypes={channelId:_.b.string,newName:_.b.string};var W=Object(y.a)("Set Channel To Private",function(e,t,n){return e(Object(N.a)({method:"conversations.convertToPrivate",args:{channel:n}})).catch(function(e){throw e})});W.propTypes=_.b.string;var Q=Object(y.a)("Convert an MPIM to a Private Channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.mpimId,a=n.privateChannelName,i=n.validate;return e(Object(N.a)({method:"mpim.convertToGroup",args:{channel:r,name:a||"",validate:void 0===i||i}})).catch(function(e){throw e})});Q.propTypes={mpimId:_.b.string,privateChannelName:_.b.string,validate:_.b.bool};var X=Object(y.a)("Archive channel",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;return e(Object(N.a)({method:"conversations.archive",args:{channel:n}}))});X.propTypes={channelId:_.b.string};var Z=Object(y.a)("Unarchive channel",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId;return e(Object(N.a)({method:"conversations.unarchive",args:{channel:n}}))});Z.propTypes={channelId:_.b.string};var J=Object(y.a)("Calls the conversations.setPurpose endpoint",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.channelId,o=r.purpose;return e(Object(N.a)({method:"conversations.setPurpose",args:{channel:a,purpose:Object(P.b)(t(),o),name_tagging:!0}})).tap(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;Object(D.a)()&&t&&Promise.resolve().then(n.bind(null,"ntJl")).then(function(n){var r=n.setChannelPurpose,a=Object(h.a)(t,"purpose.last_set","").toString();e(r({id:t.id,purpose:i()({},t.purpose,{last_set:a})}))})}).catch(function(e){throw Object(M.a)({getState:t}).error("failed to set conversation purpose",e),e})});J.propTypes={channelId:_.b.string.isRequired,purpose:_.b.string};var $=Object(y.a)("Calls the conversations.setTopic endpoint",function(e,t,r){var a=r.channelId,o=r.topic;return e(Object(N.a)({method:"conversations.setTopic",args:{channel:a,topic:Object(P.b)(t(),o)}})).tap(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;Object(D.a)()&&t&&Promise.resolve().then(n.bind(null,"ntJl")).then(function(n){var r=n.setChannelTopic,a=Object(h.a)(t,"topic.last_set","").toString();e(r({id:t.id,topic:i()({},t.topic,{last_set:a})}))})}).catch(function(e){throw Object(M.a)({getState:t}).error("failed to set conversation topic",e),e})});$.propTypes={channelId:_.b.string.isRequired,topic:_.b.string};var ee=Object(y.a)("Get Channel Pref",function(e,t,n){var r=n.channelId,a=n.prefName,i=n.reason,o=void 0===i?"":i;return e(Object(N.a)({method:"channels.prefs.get",args:{channel_id:r,pref_name:a},reason:o})).catch(function(e){throw e})});ee.propTypes={channelId:_.b.string,prefName:_.b.string,reason:_.b.string};var te=Object(y.a)("Set Channel Pref",function(e,t,n){var r=n.channelId,a=n.newPrefs,i=n.reason,o=void 0===i?"":i;return e(Object(N.a)({method:"channels.prefs.set",args:{channel_id:r,prefs:a},reason:o})).catch(function(e){throw e})});te.propTypes={channelId:_.b.string,newPrefs:_.b.string,reason:_.b.string};var ne=Object(y.a)("Fetch data retention policy for channel",function(e,t,n){var r=n.channel,a=n.reason,i=void 0===a?"getDataRetention":a;return e(Object(N.a)({method:"conversations.getRetention",args:{channel:r.id},reason:i})).then(function(e){return{retentionType:parseInt(Object(h.a)(e,"retention.retention_type",0),10),retentionDuration:parseInt(Object(h.a)(e,"retention.retention_duration",0),10)}}).catch(function(e){throw e})});ne.propTypes={channel:_.b.object,reason:_.b.string};var re=Object(y.a)("Set the data retention policy for a channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channel,a=n.retentionType,i=void 0===a?0:a,o=n.retentionDuration,s=void 0===o?0:o,c={channel:r.id,retention_type:i};return 1===i&&(c.retention_duration=s),e(Object(N.a)({method:"conversations.setRetention",args:c})).catch(function(e){throw e})});re.propTypes={channel:_.b.object,retentionType:_.b.number,retentionDuration:_.b.number};var ae=Object(y.a)("Get the array of external team ids connected only by this channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason;return e(Object(N.a)({method:"conversations.info",args:{channel:r,include_external_connections:!0},reason:a})).then(function(e){var n=Object(h.a)(e,"channel.external_connections");return Object(u.a)(n)?Object(T.M)(t(),Object(C.d)(t(),r)).filter(function(e){return 1===n[e]}):[]}).catch(function(e){throw e})});ae.propTypes={channelId:_.b.string.isRequired,reason:_.b.string};var ie=Object(y.a)("Disconnect an externally shared channel",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason;return e(Object(N.a)({method:"conversations.disconnectShared",args:{channel:r},reason:a})).catch(function(e){throw e})});ie.propTypes={channelId:_.b.string.isRequired,reason:_.b.string};var oe=Object(y.a)("Cancels the pending shared channel invite with the target team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.targetTeamId,i=n.inviteId,o=n.reason,s=void 0===o?"channels-api/submitCancelExternalSharedInviteForChannel":o;return e(Object(N.a)({method:"conversations.revokeSharedInvite",args:{channel:r,target_team:a,invite_id:i},reason:s})).catch(function(e){throw e})});oe.propTypes={channelId:_.b.string,targetTeamId:_.b.string,inviteId:_.b.string};var se=Object(y.a)("Fetches the details of the pending shared channel invite",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.targetTeamId,i=n.invite,o=n.reason;return e(Object(N.a)({method:"conversations.sharedInviteInfo",args:{channel:r,target_team:a,invite:i},reason:o})).catch(function(e){throw e})});se.propTypes={channelId:_.b.string,targetTeamId:_.b.string,invite:_.b.string,reason:_.b.string};var ce=Object(y.a)("Submits a request to create a channel from an invitation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.inviteId,a=n.channelName,i=n.isPrivate,o=n.reason,s=void 0===o?"channels-api/submitAcceptSharedInvite":o;return e(Object(N.a)({method:"conversations.acceptSharedInvite",args:{invite_id:r,channel_name:a,is_private:i},reason:s})).catch(function(e){throw e})});ce.propTypes={inviteId:_.b.string.isRequired,channelName:_.b.string.isRequired,isPrivate:_.b.bool,reason:_.b.string};var le=Object(y.a)("Calls the conversations.info endpoint",function(e,t,n){var r=n.channelId,a=n.noMembers,i=n.timezoneCount,o=n.displayCounts,s=n.reason,c=void 0===s?"channels-api/fetchConversationInfo":s;return e(Object(N.a)({method:"conversations.info",args:{channel:r,no_members:a,timezone_count:i,display_counts:o},reason:c}))});le.propTypes={channelId:_.b.string.isRequired,noMembers:_.b.bool.isRequired,reason:_.b.string};var ue=Object(y.a)("Fetch the general channel",function(e,t){return e(Object(N.a)({method:"conversations.getGeneral",args:{}})).then(function(e){return e&&e.channel}).catch(function(e){throw Object(M.a)({getState:t}).error("failed to fetch the general channel",e),e})});var de=Object(y.a)("Open a conversation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.memberIds,a=n.channel,i=n.reason,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.memberIds,r=void 0===n?[]:n,a=t.channel,i=void 0===a?"":a,o=e(),s={return_im:!0};if(i)s.channel=i;else if(1===r.length){var c=r[0],l=Object(C.k)(o,c);l?s.channel=l:s.users=c}else s.users=r.join(",");return s}(t,{memberIds:r,channel:a});return e(Object(N.a)({method:"conversations.open",args:o,reason:i})).tap(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;Object(D.a)()&&t&&(Object(T.eb)(t)?e(Object(A.c)({type:"im_open",channel:t.id,user:t.user})):e(Object(A.c)({type:"mpim_open",channel:t.id,is_mpim:!0})))}).catch(function(e){throw Object(M.a)({getState:t}).error("failed to open conversation"),e})});de.propTypes={memberIds:_.b.arrayOf(_.b.string),channel:_.b.string,reason:_.b.string};var be=Object(y.a)("Decline an inbound shared channel invitation",function(e,t,n){return e(Object(N.a)({method:"conversations.declineSharedInvite",args:{invite_id:n}}))});be.propTypes=_.b.string;var pe=Object(y.a)("Share an existing channel and send an invitation",function(e,t,n){var r=n.channelId,a=n.inviteeEmail,i=n.targetDomain,o=n.invitationMessage,s=n.reason;return e(Object(N.a)({method:"conversations.inviteShared",args:{channel:r,email:a,target_domain:i,custom_message:o},reason:s}))});pe.propTypes={channelId:_.b.string.isRequired,inviteeEmail:_.b.string.isRequired,targetDomain:_.b.string.isRequired,invitationMessage:_.b.string,reason:_.b.string};var he=Object(y.a)("Create a new shared channel and send an invitation",function(e,t,n){var r=n.channelName,a=n.isPrivate,i=n.inviteeEmail,o=n.targetDomain,s=n.invitationMessage,c=n.reason,l={channel_name:r,email:i,target_domain:o,custom_message:s};return a&&(l.is_private=!0),e(Object(N.a)({method:"conversations.inviteShared",args:l,reason:c}))});he.propTypes={channelName:_.b.string.isRequired,isPrivate:_.b.bool.isRequired,inviteeEmail:_.b.string.isRequired,targetDomain:_.b.string.isRequired,invitationMessage:_.b.string,reason:_.b.string};var me=Object(y.a)("Disconnect all shared channeld with a target team",function(e,t,n){var r={target_team:n.targetTeamId};return e(Object(N.a)({method:"conversations.disconnectSharedTeam",args:r}))});me.propTypes={targetTeamId:_.b.string.isRequired};var fe=Object(y.a)("Close an MPIM or IM",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.channelId,a=n.reason,i=Object(C.d)(t(),r);return Object(T.eb)(i)||Object(T.lb)(i)?e(Object(N.a)({method:"conversations.close",args:{channel:r},reason:a})):(Object(M.a)({getState:t}).error("Refusing to close a channel that is not an MPIM or IM."),Promise.reject(new Error("method_not_supported_for_channel_type")))});fe.propTypes={channelId:_.b.string.isRequired};var ve=Object(y.a)("Calls conversations.badgeCount for a channel",function(e,t){var n={channel:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId};return e(Object(N.a)({method:"conversations.badgeCount",args:n}))});function ge(e,t){if(Object(d.a)(t))return e;var n=t.reduce(function(e,t){return e[t]=!0,e},{});return e.map(function(e){return i()({},e,{is_member:!!n[e.id]&&!Object(T.V)(e)})})}function _e(e,t){return e(Object(I.b)({channels:t}))}ve.propTypes={channelId:_.b.string};var Oe,ye=Object(y.a)("Fetches missing channels from Flannel",(Oe=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,o,s,c,l,u,d=a.ids,b=a.fetchConditionally,p=void 0!==b&&b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.resolve)(t(Object(O.c)({ids:d,fetchConditionally:p})));case 2:return i=e.sent,o=i.objects,s=i.failedIds,c=i.membershipIds,l=Object(f.a)(d,s),u=ge(o,c),e.abrupt("return",{channels:u,resolved:l,missing:s});case 9:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return Oe.apply(this,arguments)}));ye.propTypes={ids:_.b.arrayOf(_.b.string).isRequired,fetchConditionally:_.b.bool};var je,ke=Object(y.a)("Fetches and upserts missing channels from Flannel",(je=Object(r.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally;return e(ye({ids:r,fetchConditionally:void 0!==a&&a})).then(function(t){var n=t.channels,r=t.resolved,a=t.missing;return{channels:_e(e,n),resolved:r,missing:a}})}),function(e,t,n){return je.apply(this,arguments)}));ke.propTypes={ids:_.b.arrayOf(_.b.string).isRequired,fetchConditionally:_.b.bool};var Ee,Ce,Ie=Object(y.a)("Fetches missing channels from the API",(Ee=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,o,s,c,l,u,d=a.ids,p=a.reason;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 2,250,i=Object(g.a)(d,250),e.next=5,Object(r.resolve)(Promise.map(i,function(){var e=Object(r.coroutine)(regeneratorRuntime.mark(function e(n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.resolve)(t(Object(N.a)({method:"conversations.genericInfo",args:{channels:n},reason:p})).reflect());case 2:if(!(a=e.sent).isFulfilled()){e.next=6;break}return i=a.value(),e.abrupt("return",i&&i.channels);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),{concurrency:2}));case 5:return o=e.sent,s=Object(v.a)(Object(m.a)(o)),c=s.map(function(e){return e.id}),l=Object(b.a)(d,c),u=Object(f.a)(d,c),e.abrupt("return",{channels:s,resolved:l,missing:u});case 11:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return Ee.apply(this,arguments)}));Ie.propTypes={ids:_.b.arrayOf(_.b.string).isRequired,reason:_.b.string},Object(y.a)("Fetches and upserts missing channels from the API",(Ce=Object(r.method)(function(e,t,n){var r=n.ids,a=n.reason;return e(Ie({ids:r,reason:a})).then(function(t){var n=t.channels,r=t.resolved,a=t.missing;return{channels:_e(e,n),resolved:r,missing:a}})}),function(e,t,n){return Ce.apply(this,arguments)})).propTypes={ids:_.b.arrayOf(_.b.string).isRequired,reason:_.b.string};var we,Se=Object(y.a)("Fetches missing channels",(we=Object(r.coroutine)(regeneratorRuntime.mark(function e(t,n,a){var i,l,u,d,b,p,h,m,f,v=a.ids,g=a.fetchConditionally,_=void 0!==g&&g,O=a.reason,y=void 0===O?"fetchRawChannelsById":O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&v.length){e.next=2;break}return e.abrupt("return",Promise.resolve({channels:[],resolved:[],missing:[]}));case 2:return i=Object(o.a)(v).filter(R.a),e.next=5,Object(r.resolve)(t(ye({ids:i,fetchConditionally:_})));case 5:if(l=e.sent,u=l.resolved,d=l.missing,b=l.channels,!d||!d.length){e.next=17;break}return e.next=12,Object(r.resolve)(t(Ie({ids:d,reason:"fallback:"+y})));case 12:return p=e.sent,h=p.resolved,m=p.missing,f=p.channels,e.abrupt("return",{channels:Object(s.a)(b,f,"id"),resolved:Object(c.a)(u,h),missing:m});case 17:return e.abrupt("return",{channels:b,resolved:u,missing:d});case 18:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return we.apply(this,arguments)}));Se.propTypes={ids:_.b.arrayOf(_.b.string).isRequired,reason:_.b.string};var Te,Re=Object(y.a)("Fetches and upserts missing channels",(Te=Object(r.method)(function(e,t,n){var r=n.ids,a=n.fetchConditionally,i=void 0!==a&&a,o=n.reason;return e(Se({ids:r,fetchConditionally:i,reason:void 0===o?"fetchAndUpsertChannelsById":o})).then(function(t){var n=t.channels,r=t.resolved,a=t.missing;return{channels:_e(e,n),resolved:r,missing:a}})}),function(e,t,n){return Te.apply(this,arguments)}));Re.propTypes={ids:_.b.arrayOf(_.b.string).isRequired,reason:_.b.string};var Ne,xe=Object(y.a)("Fetches and upserts channels by query",(Ne=Object(r.method)(function(e,t,n){var r=n.query,a=n.includeFromAnotherTeam,o=void 0!==a&&a;if(!r)return Promise.resolve({channels:[]});var s=r;return o&&(s=Object(l.a)(r)?{query:r,filter:"xws"}:i()({},r,{filter:"xws"})),e(Object(O.d)({query:s})).then(function(t){var n=t.objects,r=t.membershipIds,a=t.next_marker,i=ge(n,r);return{channels:_e(e,i),next_marker:a}})}),function(e,t,n){return Ne.apply(this,arguments)}));xe.propTypes={query:_.b.oneOfType([_.b.string,_.b.object]).isRequired};var Me=Object(y.a)("Sets the last read cursor on a conversation",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:"conversations.mark",args:{channel:n.id,ts:n.ts},reason:n.reason};return Object(E.j)(t(),"feature_offline_mode")?e(Object(x.a)(r)):e(Object(N.a)(r))});Me.propTypes={id:_.b.string.isRequired,ts:_.b.string.isRequired,reason:_.b.string};var Pe=Object(y.a)("Sets the last_read cursor for multiple channels",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.markers,a=n.reason,i={method:"unread.markRead",args:{markers:JSON.stringify(r)},reason:a};return Object(E.j)(t(),"feature_offline_mode")?e(Object(x.a)(i)):e(Object(N.a)(i))});Pe.propTypes={markers:_.b.object.isRequired,reason:_.b.string};var Ae=Object(y.a)("Fetch list of shared channels",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason,r=t();return Object(k.a)(r)?e(Object(N.a)({method:"conversations.listShared",args:{},reason:n})):Promise.reject(new Error("API use disallowed"))});Ae.propTypes={reason:_.b.string};var De=Object(y.a)("Fetch the list of pending shared channel invites",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).reason;return e(Object(N.a)({method:"conversations.listSharedInvites",args:{},reason:n}))});De.propTypes={reason:_.b.string.isRequired};var Le=Object(y.a)("archives private channel and creates a new one with the same name",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reason,a=n.channelId,i=t(),o=Object(C.d)(i,a,!1);return Object(T.xb)(o)?Object(T.Y)(o)?Promise.reject(new Error("not_supported")):e(Object(N.a)({method:"conversations.createChild",args:{channel:a},reason:r})).catch(function(e){throw e}):Promise.reject(new Error("not_permitted"))});Le.propTypes={reason:_.b.string,channelId:_.b.string.isRequired}},wfZy:function(e,t,n){"use strict";function r(e){return!!e&&!e.detail}n.d(t,"a",function(){return r})},wh8h:function(e,t,n){},whT2:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});var r=n("EJiy"),a=n.n(r),i=n("ELlm"),o=n.n(i),s=n("QLyv"),c=n("VyaM"),l=n("qc8s"),u="America/Los_Angeles",d=-25200;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeZoneOffset,r=t.do24hrTime,a=t.includeMeridiem,i=t.includeSeconds,o=n?n/60:-420,c=Object(s.a)(e).utcOffset(o);return Object(l.a)(c,{do24hrTime:r,includeMeridiem:a,includeSeconds:i})}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeZone,r=void 0===n?u:n,i=t.timeZoneOffset,p=void 0===i?d:i,h=t.do24hrTime,m=void 0===h?"en-us"!==s.a.locale():h,f=t.includeMeridiem,v=void 0===f?!m:f,g=t.includeSeconds,_=void 0!==g&&g,O=e?s.a.utc(e):s.a.utc();if(Intl&&"object"===("undefined"==typeof Intl?"undefined":a()(Intl))&&"function"==typeof Intl.DateTimeFormat&&"object"===a()(Intl.DateTimeFormat())&&"function"==typeof Intl.DateTimeFormat().resolvedOptions&&"object"===a()(Intl.DateTimeFormat().resolvedOptions())&&void 0!==Intl.DateTimeFormat().resolvedOptions().timeZone&&Intl.DateTimeFormat().resolvedOptions().timeZone.length>0)try{var y=o()(Intl.DateTimeFormat)(s.a.locale(),{timeZone:r,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!m}),j=Object(c.a)(y.format(O),{parseFormat:["MM/DD/YYYY, hh:mm:ss A","YYYY/MM/DD hh:mm:ss"],returnMoment:!0});return Object(l.a)(j.utc().toDate(),{do24hrTime:m,includeMeridiem:v,includeSeconds:_})}catch(e){return b(O,{timeZoneOffset:p,do24hrTime:m,includeMeridiem:v,includeSeconds:_})}return b(O,{timeZoneOffset:p,do24hrTime:m,includeMeridiem:v,includeSeconds:_})}},wjFd:function(e,t,n){},wmz2:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return b});var r=n("TGBA"),a=n("NFsq"),i=n("aK/h"),o=n("XfeM"),s=n("U/ze"),c=n("VjHM"),l=n("AfrZ"),u=n("5BKc"),d=Object(o.b)("File search: set file sort",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sort;e(Object(l.f)({pref:"search_file_sort",value:n}))});d.propTypes={sort:i.b.oneOf(Object(r.a)(u.c)).isRequired};var b=Object(s.b)(function(e){var t=Object(c.g)(e,"search_file_sort");return Object(a.a)(Object(r.a)(u.c),t)?t:u.c.relevant})},wnkz:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("cErB");function a(){return!!Object(r.q)(window.location.href).local_flannel}},wqIo:function(e,t,n){},"wuO/":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});var r=n("aK/h"),a=n("XfeM"),i=n("yHhI"),o=n("+cPl"),s=n("V/Wy"),c=n("CzFX"),l=Object(a.b)("Set channel notification override, and call API",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.value,l=n.channelId,u=n.sync;if(u&&"desktop"!==r)throw new Error("Cannot use sync arg with "+r+", can only be applied when name is 'desktop'");var d=Object(s.c)(t(),l,r);return e(Object(c.c)({name:r,value:a,channelId:l,sync:u})),e(Object(o.c)({name:r,value:a,channelId:l,sync:u,reason:"prefs-store/setChannelNotificationOverride"})).catch(function(n){e(Object(c.c)({name:r,value:d,channelId:l,sync:u}));var a=n&&n.data&&n.data.error||"unknown error";Object(i.a)({getState:t}).error("PREFS","users.prefs.setNotifications failed to set "+l+": "+a)})});l.propTypes={name:r.b.string.isRequired,value:r.b.any.isRequired,channelId:r.b.string.isRequired,sync:r.b.bool};var u=Object(a.b)("Resets a channel's notification overrides",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).channelId,r=Object(s.b)(t(),n);return r?(e(Object(c.a)({channelId:n})),e(Object(o.c)({channelId:n,name:"reset",value:"default",reason:"prefs-store/resetChannelNotificationOverride"})).catch(function(a){e(Object(c.b)({channelId:n,override:r}));var o=a&&a.data&&a.data.error||"unknown error";Object(i.a)({getState:t}).error("PREFS","users.prefs.setNotifications failed to reset "+n+": "+o)})):Promise.resolve()});u.propTypes={channelId:r.b.string.isRequired};var d=Object(a.b)("Set a global notification pref via the users.prefs.setNotifications API, updating local prefs optimistically first",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.name,a=n.value,i=n.sync,l=void 0!==i&&i,u=n.reason;if(!r||null==a)return Promise.reject(new Error("setNotificationsGlobalPrefByApi requires a name and value to be passed."));var d=t(),b=Object(s.d)(d,r);return e(Object(c.d)({name:r,value:a,sync:l})),e(Object(o.d)({name:r,value:a,sync:l,reason:u})).catch(function(){e(Object(c.d)({name:r,value:b,sync:l}))})});d.propTypes={name:r.b.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:r.b.oneOfType([r.b.string,r.b.number,r.b.bool]).isRequired,sync:r.b.bool,reason:r.b.string}},wvq5:function(e,t,n){"use strict";var r=n("Qaea"),a=n.n(r);t.a=function(e,t,n){if(!t||!t.setAttribute)throw new TypeError("React mount point must be a valid HTML element");t.setAttribute("data-reactroot",""),a.a.render(e,t,n)}},wxGk:function(e,t,n){"use strict";var r=n("QLyv");t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.units,i=void 0===a?"days":a,o=n.useFractionalUnits,s=void 0!==o&&o,c=Object(r.a)(e),l=Object(r.a)(t);return c.diff(l,i,s)}},x1Ab:function(e,t,n){},x3yj:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("CpTu"),o=n("zmn3"),s=n("3Hq1"),c=n("HKE1"),l=n("7EGn"),u=n("aK/h"),d=n("XfeM"),b=n("uf9I"),p=n("HO/Y"),h=n("Mj+f"),m=n("9D+4"),f=n("Fdc0"),v=n("whT2"),g=n("nNoG"),_=n("x4bP"),O=n("jzln"),y=n("FsHF"),j=n("yHhI"),k=n("DtX9"),E=n("hk86"),C=n("QYR6"),I=Object(d.b)("Upsert a member",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).members,r=void 0===n?[]:n;if(!Object(_.a)()&&!Object(O.a)())throw new Error("Modern upsertMembers cannot be called directly, because critical member upsert logic still lives in legacy. Please call TS.members.legacyUpsertMember instead, which you can import from @slack/legacy-interop/adapters/members.js");var u=t(),d=function(e,t){return e&&t&&t.length?t.map(function(t){return function(e,t){if(!e)return null;if(!t)return null;if(!t.id)return null;var n=Object(k.i)(e,t.id)?Object(k.h)(e,t.id):{},r=function(e,t,n){if(!n.profile)return t.profile||{};var r,i=t.profile||{},o=n.profile,c=function(e,t){var n=e.fields,r=t.fields;return!Object(s.a)(n)&&Object(s.a)(r)?n:r}(i,o),l=function(e,t,n){var r={},a=Object(y.b)(),i=w(e,t,n),o=n.id,s=n.profile.avatar_hash,c=""+a+i+"-"+o+"-"+s+"-";return["24","32","48","72","192","512","1024"].forEach(function(e){r["image_"+e]=""+c+e}),r}(e,t,n),u=(r=o).real_name&&r.display_name?{real_name_normalized:Object(g.a)(r.real_name),display_name_normalized:Object(g.a)(r.display_name)}:{};return a()({},i,o,{fields:c},l,u,{is_custom_image:!!o.is_custom_image})}(e,n,t),i=t.enterprise_user?a()({},n.enterprise_user,t.enterprise_user):n.enterprise_user,o=function(e,t){if(!e.id)return t.id;if(!t.id)return e.id;if(e.id!==t.id&&e.enterprise_user&&t.enterprise_user){var n=e.id===e.enterprise_user.id,r=t.id!==t.enterprise_user.id;if(n&&r)return t.id}return e.id}(n,t),u=function(e,t){return Object(h.a)(e,t.id)||t.color}(e,t),d=function(e,t,n){if(Object(l.a)(n,"profile.always_active"))return"active";if("active"===n.presence)return"active";if("away"===n.presence)return"away";var r=Object(m.f)(e,n.id);return"active"===r?"active":"away"===r?"away":"active"===t.presence?"active":(t.presence,"away")}(e,n,t),_=function(e,t){return!Object(p.m)(e)||Object(p.l)(e)?!!t.deleted:!!t.deleted&&!Object(l.a)(t,"enterprise_user.teams.length")}(e,t),O=function(e,t,n){var r=a()({},n),i={},o=w(e,t,r);r.team_id=o,i.team_id=o;var s=Object(f.rb)(r,Object(b.b)(e));if(r._is_local=s,i._is_local=s,Object(p.m)(e)){var c=Object(b.a)(e),u=!s&&(Object(f.J)(r)===c||Object(l.a)(r,"enterprise_user.enterprise_id")===c);r._is_from_org=u,i._is_from_org=u}var d=Object(f.lb)(r,{useCachedValue:!1});return r.is_external=d,i.is_external=d,i}(e,n,t),E=function(e,t){return t.name||e.name?{isUnknown:!1,isNonExistent:!1}:{}}(n,t),C=function(e){return Object(f.Db)(e)?{is_restricted:!0}:{}}(t),I=function(e){return Object(f.zb)(e)?{is_slackbot:!0}:{}}(t),S=function(e){var t=e.profile||{},n=Object(c.a)(e.name)||"",r=Object(c.a)(t.first_name),a=Object(c.a)(t.last_name),i=Object(c.a)(t.real_name),o=Object(g.a)(i),s=Object(c.a)(t.display_name),l=Object(g.a)(s);return{_name_lc:n,_first_name_lc:r,_last_name_lc:a,_real_name_lc:i,_real_name_normalized_lc:o,_display_name_lc:s,_display_name_normalized_lc:l}}(t),T=function(e,t){return t.id===Object(p.b)(e)?{is_self:!0}:{}}(e,t),R=function(e){return e.tz?{tz:e.tz}:Object(f.zb)(e)?{tz:v.b,tz_offset:v.c}:{}}(t),N=function(e){return e.is_invited_user||void 0}(t);return"W8W0LNT4L"===t.id&&Object(j.a)({state:e}).error(t.id,"old",{isUnknown:t.isUnknown,isNonExistent:t.isNonExistent},"new",E),a()({files:[],activity:[],stars:[],mentions:[]},n,t,{id:o,profile:r,enterprise_user:i,member_color:u,presence:d,deleted:_,is_invited_user:N},O,E,C,I,S,T,R)}(e,t)}):null}(u,r),I=Object(p.b)(u),S=Object(i.a)(d,{id:I});if(S){var T=Object(k.b)(u);(T&&Object(f.xb)(T)!==Object(f.xb)(S)||T&&Object(f.Db)(T)!==Object(f.Db)(S))&&e(Object(E.b)({user:S}))}e(Object(E.d)(d)),e(Object(m.c)(d));var R=Object(b.b)(u),N=Object(o.a)(r,"id");return Object(C.b)(R,N),d});function w(e,t,n){return Object(f.J)(n)?Object(f.J)(n):Object(f.J)(t)?Object(f.J)(t):n.id===Object(l.a)(n,"enterprise_user.id")?Object(l.a)(n,"enterprise_user.enterprise_id"):Object(b.b)(e)}I.propTypes={members:u.b.arrayOf(u.b.shape({id:u.b.string.isRequired})).isRequired},t.a=I},xBZ2:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("OtLZ"),o=n("kxpR"),s=n.n(o),c=n("XHGt"),l=n("aK/h"),u=n("HO/Y"),d=n("6kok"),b=n("clTI"),p=n("A+cF"),h=n("kd6D"),m=n("VlZM"),f=n("swWY"),v=(n("Hm4q"),l.b.string,l.b.string,l.b.string,l.b.bool,l.b.object,{className:void 0,currentUserId:void 0,id:void 0,isDeactivated:!1,mpim:void 0});function g(e){var t=e.className,n=e.currentUserId,r=e.id,o=e.isDeactivated,c=e.mpim,l=Object(i.a)(Object(d.H)(c),n),u=o?h.c.dim:null;return s.a.createElement(p.d,{avatar:function(e){return s.a.createElement(m.a,a()({},e,{"data-qa":"avatar",primaryMemberId:l[0],secondaryMemberId:l[1]}))},className:t,size:"medium",style:u,text:s.a.createElement(f.a,{className:"c-medium-unified-mpim__name","data-qa":"name",id:r,multiline:!0})})}g.displayName="MediumMpimEntity",g.defaultProps=v,t.a=Object(c.b)(function(e,t){var n=t.id;return{currentUserId:Object(u.b)(e),mpim:Object(b.d)(e,n)}})(g)},xDGf:function(e,t,n){},xE6W:function(e,t,n){"use strict";var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("TSYQ"),s=n.n(o),c=n("nNoG"),l=n("MnCE"),u=n("hCvz"),d=n("od5y"),b=(n("Dw+T"),new c.b("channel_token")),p=(r.b.oneOf(["unknown","non-existent"]),r.b.bool,r.b.oneOf(["small","medium"]),r.b.oneOfType([r.b.string,r.b.number]),r.b.bool,function(e){var t=s()("c-missing_channel",{"c-missing_channel--unknown":"unknown"===e.type,"c-missing_channel--nonexistent":"non-existent"===e.type,"c-missing_channel--subtler":e.subtler,"c-missing_channel--medium":"medium"===e.size,"c-missing_channel--unknown_inverted":"unknown"===e.type&&e.invert,"c-missing_channel--non_existent_inverted":"non-existent"===e.type&&e.invert}),n=s()("c-missing_channel--medium_hash",{"c-missing_channel--subtler":e.subtler}),r=void 0;if("unknown"===e.type)r=b.t("Loading...");else{if("non-existent"!==e.type)return null;r=b.t("Private channel info")}return"medium"===e.size?i.a.createElement("div",null,i.a.createElement("div",{className:"c-missing_channel--medium-top"},i.a.createElement(d.b,{type:"hash-medium",className:n,size:"inherit"}),i.a.createElement(u.b,{tooltip:r,isNonExistent:"non-existent"===e.type,size:e.width,className:t})),i.a.createElement(u.b,{tooltip:r,isNonExistent:"non-existent"===e.type,size:e.width,className:t})):i.a.createElement(u.b,{tooltip:r,isNonExistent:"non-existent"===e.type,size:e.width,className:t})});p.defaultProps={type:"unknown",subtler:!1,size:"small",width:"random",invert:!1};var h=Object(l.a)(p);t.a=h},xGWg:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("ROZo"),a=Object(r.b)("TS.ensureFullyBooted",function(){throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")}),i=Object(r.b)("TS.legacyResynced",function(){throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")})},xIQt:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("NFsq"),a=n("ifKl"),i=n("YS90"),o=n("V5VI"),s=n("yHhI"),c=function(e){return Object(i.b)("Handle side effects",function(t,n,i){var o=e[i.type];return o&&Promise.resolve().then(function(){o.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sideEffect,o=void 0===n?a.a:n,c=e.reasons,l=void 0===c?[]:c;if(l.length){var u=i&&i.payload&&i.payload.reason;if(!Object(r.a)(l,u))return}try{o(i,t.dispatch,t.getState)}catch(e){Object(s.a)({getState:t.getState}).error("SIDE-EFFECTS","Error in side effect for '"+i.type+"'",e,{subtype:"side_effect_error"})}})}),n(i)})};t.b=c(o.e);var l=c(o.c)},xJ6S:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("QbLZ"),a=n.n(r),i=n("m1cH"),o=n.n(i),s=n("0Uag"),c=n("F0Ax"),l=n("m8R6"),u=n("TSHB"),d=n("pHS2"),b=n("OZf9"),p=n("nNoG"),h=n("yHhI"),m=n("6kok"),f=new p.b("message"),v=Object(h.b)();function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plainText,n=e.rollup,r=e.channel,i=e.user,s=e.isAppUser,p=e.i18nReplaceCallback;if(!n)return[];var h=Object(m.xb)(r)?Object(m.w)(r):"#"+Object(m.w)(r),f=[],v=n[i],g=function(e,t,n){var r=n.action,a=n.inviter,i=[];return Object(b.a)(e,function(e,n){n!==t&&e.action===r&&(a&&e.inviter!==a||i.push({id:n,name:e.name}))}),i}(n,i,v),O=_({action:v.action,channel:h,user:{name:v.name,id:i},isAppUser:s,others:g,inviter:{name:v.inviterName,id:v.inviter},first:!0,i18nReplaceCallback:p,plainText:t});f.push(O);var y=!0;return Object(b.a)(Object(d.a)(Object(u.a)(Object(l.a)(n,[].concat(o()(g.map(function(e){return e.id})),[i])),function(e,t){return a()({},e,{id:t})}),"action"),function(e,n){var r={name:e[0].name,id:e[0].id},a=Object(c.a)(e);f.push(" "),f.push(_({action:n,channel:h,user:r,isAppUser:s,others:a,also:y,i18nReplaceCallback:p,plainText:t})),y=!1}),f}function _(e){var t=e.action,n=e.channel,r=e.user,a=void 0===r?{}:r,i=e.isAppUser,o=e.others,c=void 0===o?[]:o,l=e.inviter,u=void 0===l?{}:l,d=e.first,b=e.also,p=e.i18nReplaceCallback,h=e.plainText;if(!t||!t.length)return v.error("rollups missing actions???");var m=c.length,g={userA:a.name||"UNKNOWN",userB:u.name,userC:c.length&&c[0].name,channel:n,count:m},_=Object(s.a)(p)(a,u,c),O="no_name"===n;switch(t){case"join":return i?f.rt("was added to this conversation by <inviter>{userB}</inviter>.",g,_):d&&u.id?0===g.count?h?O?f.t("was added to channel by {userB}.",{fallbackHash:"663fade8e614691f84433ad7887dc7b7c974b3dd",userB:g.userB}):f.t("was added to {channel} by {userB}.",{fallbackHash:"084f877851222b570bda71425d20fd8f72bf17d5",channel:g.channel,userB:g.userB}):O?f.rt("was added to channel by <inviter>{userB}</inviter>.",{fallbackHash:"ac4c2e860232888e3d62be4ac9e71b7d2531a698",userB:g.userB},_):f.rt("was added to {channel} by <inviter>{userB}</inviter>.",{fallbackHash:"b09006c61f4e1aaaf6d88db311e30fb02fa6eb45",channel:g.channel,userB:g.userB},_):1===g.count?h?O?f.t("was added to channel by {userB}, along with {userC}.",{fallbackHash:"88ab244bbd3766c9cb53fc5ff83d67ad624e4109",userB:g.userB,userC:g.userC}):f.t("was added to {channel} by {userB}, along with {userC}.",{fallbackHash:"898746090236eab0dfb367eddbd5553d7edb056b",channel:g.channel,userB:g.userB,userC:g.userC}):O?f.rt("was added to channel by <inviter>{userB}</inviter>, along with <other>{userC}</other>.",{fallbackHash:"510cf7999bf86f3527afd2ff0062bfcee6e9b7d5",userB:g.userB,userC:g.userC},_):f.rt("was added to {channel} by <inviter>{userB}</inviter>, along with <other>{userC}</other>.",{fallbackHash:"b3bcf82e53cdab29b53e507a82f108aaafe2b5d6",channel:g.channel,userB:g.userB,userC:g.userC},_):h?O?f.t("was added to channel by {userB}, along with {count, number} others.",{fallbackHash:"1d5701a68c5c95ca1a077a29a7b610934deae027",userB:g.userB,count:g.count}):f.t("was added to {channel} by {userB}, along with {count, number} others.",{fallbackHash:"b35c3108bb846da392ccf8b2633495210222510e",channel:g.channel,userB:g.userB,count:g.count}):O?f.rt("was added to channel by <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",{fallbackHash:"85231a4eb474d5a652fb95e8a38048ec8817d89e",userB:g.userB,count:g.count},_):f.rt("was added to {channel} by <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",{fallbackHash:"d539356ee636bd17a418f08ef1eb8e8ca0077465",channel:g.channel,userB:g.userB,count:g.count},_):d?h?O?m?f.t("joined the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("joined the channel."):m?f.t("joined {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("joined {channel}.",g):O?m?f.rt("joined the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("joined the channel."):m?f.rt("joined {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("joined {channel}.",g):b?h?m?f.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} joined.",g):f.t("Also, {userA} joined.",g):m?f.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined.",g,_):f.rt("Also, <user>{userA}</user> joined.",g,_):h?m?f.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} joined.",g):f.t("{userA} joined.",g):m?f.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined.",g,_):f.rt("<user>{userA}</user> joined.",g,_);case"leave":return i?h?f.t("was removed from this conversation by {userB}.",g):f.rt("was removed from this conversation by <inviter>{userB}</inviter>.",g,_):d?h?O?m?f.t("left the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("left the channel."):m?f.t("left {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("left {channel}.",g):O?m?f.rt("left the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("left the channel."):m?f.rt("left {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("left {channel}.",g):b?h?m?f.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} left.",g):f.t("Also, {userA} left.",g):m?f.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} left.",g,_):f.rt("Also, <user>{userA}</user> left.",g,_):h?m?f.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} left.",g):f.t("{userA} left.",g):m?f.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} left.",g,_):f.rt("<user>{userA}</user> left.",g,_);case"join,leave":return d?h?O?m?f.t("joined and left the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("joined and left the channel."):m?f.t("joined and left {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("joined and left {channel}.",g):O?m?f.rt("joined and left the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("joined and left the channel."):m?f.rt("joined and left {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("joined and left {channel}.",g):b?h?m?f.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} joined and left.",g):f.t("Also, {userA} joined and left.",g):m?f.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined and left.",g,_):f.rt("Also, <user>{userA}</user> joined and left.",g,_):h?m?f.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} joined and left.",g):f.t("{userA} joined and left.",g):m?f.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined and left.",g,_):f.rt("<user>{userA}</user> joined and left.",g,_);case"leave,join":return d&&u.id?0===g.count?h?O?f.t("rejoined the channel by invitation from {userB}.",g):f.t("rejoined {channel} by invitation from {userB}.",g):O?f.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>.",g,_):f.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>.",g,_):1===g.count?h?O?f.t("rejoined the channel by invitation from {userB}, along with {userC}.",g):f.t("rejoined {channel} by invitation from {userB}, along with {userC}.",g):O?f.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",g,_):f.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",g,_):h?O?f.t("rejoined the channel by invitation from {userB}, along with {count, number} others.",g):f.t("rejoined {channel} by invitation from {userB}, along with {count, number} others.",g):O?f.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",g,_):f.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",g,_):d?h?O?m?f.t("rejoined the channel, {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("rejoined the channel."):m?f.t("rejoined {channel}, {count, plural, =1 {along with {userC}} other {along with # others}}.",g):f.t("rejoined {channel}.",g):O?m?f.rt("rejoined the channel, {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("rejoined the channel."):m?f.rt("rejoined {channel}, {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",g,_):f.rt("rejoined {channel}.",g):b?h?m?f.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} rejoined.",g):f.t("Also, {userA} rejoined.",g):m?f.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} rejoined.",g,_):f.rt("Also, <user>{userA}</user> rejoined.",g,_):h?m?f.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} rejoined.",g):f.t("{userA} rejoined.",g):m?f.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} rejoined.",g,_):f.rt("<user>{userA}</user> rejoined.",g,_);default:return v.error("invalid rollup action???")}}},xJL3:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("aK/h"),h=n("TSYQ"),m=n.n(h),f=n("wd/R"),v=n.n(f),g=n("QbLZ"),_=n.n(g),O=n("jo6Y"),y=n.n(O),j=n("GzZI"),k=(p.b.string,p.b.string,function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSingleDayOfWeek=n.renderSingleDayOfWeek.bind(n),n}return u()(t,e),o()(t,[{key:"renderSingleDayOfWeek",value:function(e){return b.a.createElement("th",{key:e,className:"c-calendar_month__day_of_week_heading"},v()().weekday(e).format(this.props.format))}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.format,y()(e,["className","format"])),r=m()("c-calendar_month__days_of_week",t);return b.a.createElement("tr",_()({className:r},n),Object(j.a)(7,this.renderSingleDayOfWeek))}}]),t}(d.PureComponent));k.displayName="DaysOfWeek",k.defaultProps={className:null,format:"dd"};var E=k,C=(n("52et"),p.b.string,p.b.string.isRequired,p.b.string,p.b.func,p.b.string,p.b.node,{className:null,monthFormat:"YYYY-MM",renderDate:function(e){var t=e.value,n=e.format;return e.sameMonth&&v()(t,n).format("D")},dateFormat:"YYYY-MM-DD",header:b.a.createElement(E,null)}),I=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u()(t,e),o()(t,[{key:"renderDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.startMoment,r=t.endMoment,a=this.props.dateFormat,i=e.startOf("day").format(a),o=e.diff(n,"days"),s=e.clone().endOf("day").diff(r,"days"),c=o>=0&&s<=0,l=e.isSame(new Date,"day"),u=e.weekday(),d=c&&0===u&&o<7,p=c&&6===u&&o<7,h=c&&0===u&&s>-7,m=c&&6===u&&s>-7,f=this.props.renderDate({value:i,format:a,sameMonth:c,isToday:l,monthStart:0===o,monthEnd:0===s,firstWeekStart:d,firstWeekEnd:p,lastWeekStart:h,lastWeekEnd:m});return b.a.createElement("td",{key:i,className:"c-calendar_month__date_container"},f)}},{key:"renderWeek",value:function(e,t){for(var n=e.clone(),r=[];r.length<7;)r.push(this.renderDate(n,t)),n.add(1,"day");return b.a.createElement("tr",{key:e.week(),className:"c-calendar_month__week"},r)}},{key:"render",value:function(){for(var e=this.props,t=e.month,n=e.monthFormat,r=e.className,a=e.header,i=v()(t,n),o=i.clone().startOf("month"),s=i.clone().endOf("month"),c=o.clone().startOf("week"),l={startMoment:o,endMoment:s},u=[];c.isBefore(s);)u.push(this.renderWeek(c.clone(),l)),c.add(1,"week");var d=m()("c-calendar_month",r);return b.a.createElement("table",{className:d},b.a.createElement("thead",null,a),b.a.createElement("tbody",null,u))}}]),t}(d.Component);I.displayName="MonthView",I.defaultProps=C;t.a=I},xMP7:function(e,t,n){},xUg9:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("TGBA"),b=n("Muja"),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("HO/Y"),_=n("IzLi"),O=n("XfeM"),y=n("AfrZ"),j=n("XKj7"),k=n("ROZo"),E=Object(k.b)("TS.sidebar_themes.setLastThemeSelectedInUI",function(){return null}),C=n("tVnY"),I=Object(O.b)("Install a custom theme",function(e,t,n){var r=Object(C.b)(t())?9:8;if(Object(_.a)(n)&&Object.keys(n).length===r){E("custom_theme");var a={sidebar_theme:"custom_theme",sidebar_theme_custom_values:JSON.stringify(n)};e(Object(y.e)(a)),Object(j.a)()}});I.propTypes=h.b.object.isRequired;var w=I,S=n("VjHM"),T=n("p2Go"),R=n("RAhH"),N=n("yHhI"),x=n("W+QA"),M=new(n("nNoG").b)("string_format"),P=(h.b.object,h.b.object,h.b.bool,h.b.func,h.b.func,h.b.object,{buttonSidebarTheme:null,currentSidebarTheme:null,featureSidebarThemeUndo:null,onThemeInstall:p.a,clogLinkClick:p.a,logger:{error:p.a}}),A=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onUndoClick=n.onUndoClick.bind(n),n.state={showUndoButton:!1,previousSidebarTheme:null},n}return u()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.showUndoButton,n=this.props,r=n.buttonSidebarTheme,a=n.featureSidebarThemeUndo,i=e.currentSidebarTheme;a&&(t&&Object(b.a)(r,i)||this.setState(function(){return{showUndoButton:!1}}))}},{key:"onClick",value:function(){var e=this.props,t=e.onThemeInstall,n=e.clogLinkClick,r=e.currentSidebarTheme,a=e.buttonSidebarTheme;if(e.featureSidebarThemeUndo){if(this.matchesCurrentTheme())return;this.setState(function(){return{previousSidebarTheme:r,showUndoButton:!0}})}t(a),n()}},{key:"onUndoClick",value:function(){var e=this.props,t=e.clogLinkClick,n=e.onThemeInstall,r=e.featureSidebarThemeUndo,a=this.state.previousSidebarTheme;r&&(this.setState(function(){return{previousSidebarTheme:null,showUndoButton:!1}}),n(a),t())}},{key:"shouldShowUndoButton",value:function(){var e=this.props,t=e.currentSidebarTheme,n=e.featureSidebarThemeUndo,r=this.state,a=r.showUndoButton,i=r.previousSidebarTheme;return n&&a&&i&&!Object(b.a)(i,t)}},{key:"matchesCurrentTheme",value:function(){var e=this.props,t=e.currentSidebarTheme,n=e.buttonSidebarTheme;return Object(b.a)(t,n)}},{key:"renderSwitchSidebarThemeButton",value:function(){var e=this.props,t=e.featureSidebarThemeUndo,n=e.buttonSidebarTheme;return f.a.createElement(T.a,{"data-qa-theme":Object(d.a)(n).join(),onClick:this.onClick,text:M.t("Switch sidebar theme"),isDisabled:t&&this.matchesCurrentTheme()})}},{key:"renderMatchesCurrentSidebarButton",value:function(){return this.props.featureSidebarThemeUndo?f.a.createElement(R.c,{tip:M.t("This is your current sidebar theme")},f.a.createElement("span",null,this.renderSwitchSidebarThemeButton())):null}},{key:"render",value:function(){var e=this.props,t=e.featureSidebarThemeUndo,n=e.buttonSidebarTheme,r=e.logger;if(!n)return r.error("Error getting formatted sidebar theme colors. Not rendering attachment button."),null;if(t){if(this.shouldShowUndoButton())return f.a.createElement(T.a,{onClick:this.onUndoClick,text:M.t("Undo")});if(this.matchesCurrentTheme())return this.renderMatchesCurrentSidebarButton()}return this.renderSwitchSidebarThemeButton()}}]),t}(m.PureComponent);A.displayName="ThemeInstallButton",A.defaultProps=P;var D={onThemeInstall:w};t.a=Object(v.b)(function(e,t){var n=t.colors,r=Object(N.a)({state:e}),a=null,i=Object(S.g)(e,"sidebar_theme_custom_values");if(i)try{a=JSON.parse(i)}catch(e){r.error("Error parsing sidebar_theme_custom_values for sidebar theme button:",e)}return{featureSidebarThemeUndo:Object(g.j)(e,"feature_sidebar_theme_undo"),buttonSidebarTheme:Object(x.c)(Object(C.b)(e),n),currentSidebarTheme:a,logger:r}},D)(A)},xUyV:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("yHhI"),a=n("x4bP"),i="clientMinVersion",o=18e5,s="dontRefreshForMinVersionBeforeTs";function c(e){sessionStorage[i]=e}function l(e){var t=Object(r.b)({label:"MIN-VERSION"});if(!Object(a.a)())return t.info("Allowing min version reload"),!0;if(!e)return t.info("Allowing min version reload because clientMinVersion does not exist???"),!0;var n=sessionStorage[i];n&&(n=parseInt(n,10));var l=sessionStorage[s];l&&(l=parseInt(l,10));var u=document.documentElement,d=!(!u||!u.dataset)&&u.dataset.versionTs;return"dev"!==d&&"local_js"!==d&&(d=parseInt(d,10)),"dev"===d||"local_js"===d?(t.info("Allowing min version reload because we are in dev also this should never happen????"),c(e),!0):n?e!==n?(t.info("Allowing min version reload because the previous min version reload was caused by a different min version bump"),c(e),!0):l&&Date.now()>l?(t.info("Allowing min version reload because we have blocked min version reloads for the last "+o+" MS and rtm.shouldReload is still returning true"),c(e),delete sessionStorage[s],!0):d<e?(l||(l=Date.now()+o,sessionStorage[s]=l),t.info("PREVENTING min version reload because we just did a reload due to a min version bump and still got a version older than the min version bump"),!1):(c(e),!0):(t.info("Allowing min version reload because we have not recently reloaded due to a min version bump"),c(e),!0)}},xkK6:function(e,t,n){},xknn:function(e,t,n){"use strict";var r=n("VyaM");t.a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shortenDay,n=void 0!==t&&t,a=Object(r.a)(e,{returnMoment:!0});return n?a.format("ddd"):a.format("dddd")}},xncf:function(e,t,n){"use strict";n.d(t,"e",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"b",function(){return y});var r,a=n("jo6Y"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("7EGn"),d=n("m8R6"),b=n("BeL+"),p=n("aK/h"),h=n("EzZj"),m=n("MNvw"),f=n("yPgC"),v=function(e,t,n){var r=e.actions,a=e.channelIdsByActionId,i=e.actionIdsByChannelId,o=n.reduce(function(e,n){return l()({},e,s()({},n,(e[n]||[]).filter(function(e){return e!==t})))},a),c=l()({},i,s()({},t,(i[t]||[]).filter(function(e){return!n.includes(e)}))),u=n.filter(function(e){return 0===(o[e]||[]).length});return l()({},e,{actions:Object(d.a)(r,u),channelIdsByActionId:Object(d.a)(o,u),actionIdsByChannelId:c})},g=Object(h.b)("Update or insert one or more app action associated with a channelId");g.propTypes={channelId:p.b.string.isRequired,actions:p.b.arrayOf(f.a.maybeUnknown(f.a.AppAction)).isRequired};var _=Object(h.b)("Update the app actions metadata associated with a given channelId");_.propTypes={channelId:p.b.string.isRequired,count:p.b.number,isLoaded:p.b.bool,fetchFailed:p.b.bool};var O=Object(h.b)("Remove specific app actions by ID");O.propTypes={actionIds:p.b.arrayOf(p.b.string).isRequired,channelId:p.b.string.isRequired};var y=Object(h.b)("Remove all app actions tied to a given channelId");y.propTypes={channelId:p.b.string.isRequired};var j={actions:p.b.objectOf(f.a.maybeUnknown(f.a.AppAction)).isRequired,channelIdsByActionId:p.b.objectOf(p.b.arrayOf(p.b.string)).isRequired,actionIdsByChannelId:p.b.objectOf(p.b.arrayOf(p.b.string)).isRequired,actionMetaByChannelId:p.b.objectOf(p.b.shape({count:p.b.number,isLoaded:p.b.bool.isRequired,fetchFailed:p.b.bool.isRequired})).isRequired},k=Object(m.b)((r={},s()(r,g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.actions,a=r.reduce(function(e,t){return l()({},e,s()({},t.id,l()({},t,{app:l()({},Object(u.a)(e[t.id],"app",{}),t.app)})))},e.actions),i=r.reduce(function(e,t){return l()({},e,s()({},t.id,Object(b.a)((e[t.id]||[]).concat(n))))},e.channelIdsByActionId),o=r.map(function(e){return e.id}),c=Object(b.a)((e.actionIdsByChannelId[n]||[]).concat(o));return l()({},e,{actions:a,channelIdsByActionId:i,actionIdsByChannelId:l()({},e.actionIdsByChannelId,s()({},n,c))})}),s()(r,_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=i()(t,["channelId"]),a=e.actionMetaByChannelId[n]||{isLoaded:!1,fetchFailed:!1};return l()({},e,{actionMetaByChannelId:l()({},e.actionMetaByChannelId,s()({},n,l()({},a,r)))})}),s()(r,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.actionIds;return v(e,n,r)}),s()(r,y,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channelId,n=e.actionIdsByChannelId[t]||[];return v(e,t,n)}),r),{actions:{},channelIdsByActionId:{},actionIdsByChannelId:{},actionMetaByChannelId:{}},{persistenceEnabled:!0});k.propTypes=j,t.a=k},xoiQ:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("1Lli"),a=n("TSHB"),i=n("zmn3"),o=n("mkut"),s=n("OZf9"),c=n("rWF5"),l=n("Fdc0"),u=n("6GV3");function d(e){return Object(r.a)(Object(i.a)(Object(o.a)(e),function(e){return parseInt(e,10)}),null,"desc")}var b,p={24:cdn_url+"/00b63/img/avatars/ava_0002-24.png",32:cdn_url+"/00b63/img/avatars/ava_0002-32.png",36:cdn_url+"/00b63/img/avatars/ava_0002-48.png",72:cdn_url+"/00b63/img/avatars/ava_0002-72.png",192:cdn_url+"/00b63/img/avatars/ava_0002-192.png"},h={fancy:{20:cdn_url+"/7f796/img/slackbot/slackbot_fancy_20.png",24:cdn_url+"/7f796/img/slackbot/slackbot_fancy_24.png",32:cdn_url+"/7f796/img/slackbot/slackbot_fancy_32.png",36:cdn_url+"/7f796/img/slackbot/slackbot_fancy_36.png",48:cdn_url+"/7f796/img/slackbot/slackbot_fancy_48.png",72:cdn_url+"/7f796/img/slackbot/slackbot_fancy_72.png",192:cdn_url+"/7f796/img/slackbot/slackbot_fancy_192.png",360:cdn_url+"/7f796/img/slackbot/slackbot_fancy_360.png",512:cdn_url+"/7f796/img/slackbot/slackbot_fancy_512.png",1024:cdn_url+"/7f796/img/slackbot/slackbot_fancy_1024.png"},frowny:{20:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_20.png",24:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_24.png",32:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_32.png",36:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_36.png",48:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_48.png",72:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_72.png",192:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_192.png",360:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_360.png",512:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_512.png",1024:cdn_url+"/e4a49/img/slackbot/slackbot_frowny_1024.png"},neutral:{20:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_20.png",24:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_24.png",32:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_32.png",36:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_36.png",48:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_48.png",72:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_72.png",192:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_192.png",360:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_360.png",512:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_512.png",1024:cdn_url+"/8fb4a/img/slackbot/slackbot_neutral_1024.png"},sad_surprise:{20:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_20.png",24:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_24.png",32:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_32.png",36:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_36.png",48:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_48.png",72:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_72.png",192:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_192.png",360:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_360.png",512:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_512.png",1024:cdn_url+"/7f796/img/slackbot/slackbot_sad_surprise_1024.png"}},m=d(p),f=(b=h,Object(a.a)(b,function(e){return d(e)})),v="image_";function g(e){var t=e.size,n=e.teamId,r=e.memberId,a=e.avatarHash,i=e.emoji,o=e.isBot,d=void 0!==o&&o,b=e.botImages,g=void 0!==b&&b,_=e.slackbotFeels,O=void 0===_?null:_,y=c.k?"https://dev.slack.com/avatarsource/":"https://ca.slack-edge.com/",j=void 0,k=void 0,E=!1;if(!(t&&(d||n&&r&&a||i)))return{};if(i)return{emoji:i,isDefault:!1};if(r===l.c&&O&&h[O]){var C=Object(u.a)(t,f[O]),I=Object(u.a)(2*t,f[O]);j=h[O][C],k=h[O][I]}else if(!d||n&&r&&a){j=""+y+n+"-"+r+"-"+a+"-"+Object(u.a)(t),k=""+y+n+"-"+r+"-"+a+"-"+Object(u.a)(2*t)}else if(g){var w=function(e){var t=[];return Object(s.a)(e,function(e,n){if(0===n.indexOf(v)){var r=n.slice(v.length);t.unshift(parseInt(r,10))}}),t}(g),S=Object(u.a)(t,w),T=Object(u.a)(2*t,w);j=g[v+S],k=g[v+T]}if(d&&!j&&!k&&!i){var R=Object(u.a)(t,m),N=Object(u.a)(2*t,m);j=p[R],k=p[N],E=!0}return{imageUrl:j,imageUrl2x:k,emoji:i,isDefault:E}}},xrsA:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r),i=n("aK/h"),o=n("DTT0"),s=n("XfeM"),c=n("DtX9"),l=n("Fdc0"),u=n("nNoG"),d=n("kOzZ"),b=n("U3Q0"),p=n("iCc5"),h=n.n(p),m=n("V7oC"),f=n.n(m),v=n("FYw3"),g=n.n(v),_=n("mRg0"),O=n.n(_),y=n("fvjX"),j=n("XHGt"),k=n("4qCO"),E=n("nlS/"),C=n("6kok"),I=n("4Twu"),w=n("dyRQ"),S=n("clTI"),T=n("wfE8"),R=n("3C31"),N=n("WD4z"),x=(n("e31y"),new u.b("channel_invite")),M={DISABLED:"disabled",LOADING:"loading",ENABLED:"enabled"},P=(i.b.object.isRequired,i.b.string.isRequired,i.b.arrayOf(i.b.object),i.b.func.isRequired,i.b.func.isRequired,i.b.func.isRequired,function(e){function t(e){h()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={addButtonState:M.DISABLED,isAlreadyMember:!1,selectedChannelId:void 0},n.onChannelSelected=n.onChannelSelected.bind(n),n.onAddToChannel=n.onAddToChannel.bind(n),n}return O()(t,e),f()(t,[{key:"onChannelSelected",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value,n=this.props.member.id;return this.setState(function(){return{selectedChannelId:t,addButtonState:M.LOADING}}),this.props.getChannelMembershipInfoForUsers({channelId:t,userIds:[n]}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).membershipInfo,r=t[n].isMember;return e.setState(function(){return{addButtonState:r?M.DISABLED:M.ENABLED,isAlreadyMember:r}}),t})}},{key:"onAddToChannel",value:function(){var e=this.state.selectedChannelId,t=this.props.member,n=t.id;Object(l.bb)(t)?this.props.addAppToChannel({appUserId:n,channelId:e,referringEventId:"INVITE_TO_CHANNEL_DIALOG",referringUiContext:{action:"IMPRESSION"}}):this.props.submitInviteToChannel({channelId:e,users:n})}},{key:"renderChannelOption",value:function(e){return a.a.createElement(I.a,{channelId:e.value})}},{key:"renderChannelPicker",value:function(){var e=this.props,t=e.channels,n=e.memberName,r=this.state.isAlreadyMember,i=t.map(function(e){return{label:Object(C.L)(e),value:e.id}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.e,{options:i,placeholderText:x.t("Select a channel"),ariaLabel:x.t("Select a channel"),selectId:"searchSelectChannelOptions",size:"medium",selectDataQa:"search-select-channel-options",renderOption:this.renderChannelOption,renderSelectedOption:this.renderChannelOption,onOptionSelected:this.onChannelSelected}),r&&a.a.createElement(N.a,{type:"inline",level:"error",className:"p-invite_member_to_channel_dialog__error"},a.a.createElement("span",null,x.t("{name} is already a member of this channel.",{name:n,__react:!0}))))}},{key:"render",value:function(){var e=this.props.memberName,t=this.state.addButtonState,n=x.t("Add {name} to a channel",{name:e,__react:!0});return a.a.createElement(b.a,{title:n,goButtonIsDisabled:t===M.DISABLED,goButtonIsPending:t===M.LOADING,goButtonText:x.t("Add"),onGo:this.onAddToChannel},a.a.createElement("div",{className:"p-invite_member_to_channel_dialog__body"},this.renderChannelPicker()))}}]),t}(a.a.Component));P.displayName="BaseInviteMemberToChannelDialog",P.defaultProps={channels:[]};var A=Object(j.b)(function(e,t){var n=t.member;return{channels:Object(S.s)(e).sort(Object(k.b)("name")),memberName:Object(l.P)(e,n,!1)}},function(e){return Object(y.b)({getChannelMembershipInfoForUsers:w.g,submitInviteToChannel:T.J,addAppToChannel:R.a},e)})(P);n.d(t,"a",function(){return q});var D=new u.b("channel_invite");function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=e.body;return Object(o.e)({element:a.a.createElement(b.a,{title:t,goButtonText:D.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"fullscreen_modal"}),showCancelButton:!1},n)})}var q=Object(s.b)("Opens app dialog",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).memberId,r=t(),i=Object(c.b)(r),s=Object(c.c)(r,n),u=Object(d.a)({state:r}),b=Object(l.P)(r,s,!1),p=D.t("Add {name} to a channel",{name:b,__react:!0});u.track("INVITE_TO_CHANNEL_DIALOG",{contexts:{ui_context:{action:"IMPRESSION"}}}),Object(l.Db)(i)?e(L({title:p,body:D.t("You are not allowed to add other members to channels.")})):Object(l.Db)(s)?e(L({title:p,body:D.t("{name} cannot be added to any new channels.",{name:b,__react:!0})})):Object(l.xb)(s)&&!Object(l.X)(i)?e(L({title:p,body:D.t("Only a Workspace Admin can add {name} into new channels.",{name:b,__react:!0})})):e(Object(o.e)({element:a.a.createElement(A,{member:s})}))});q.propTypes={memberId:i.b.string.isRequired}},xsFx:function(e,t,n){"use strict";var r=n("kxpR"),a=n.n(r);t.a=a.a.createContext({})},xsZT:function(e,t,n){},"y/l/":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=n("aK/h"),p=n("kxpR"),h=n.n(p),m=n("XHGt"),f=n("P2f5"),v=n("DtX9"),g=n("HvGc"),_=n("Fdc0"),O=n("EHyS"),y=n("yPgC"),j=n("K5QD"),k=n("mOAw"),E=n("lm1E"),C=n("lwWk"),I=(y.a.File(["name","permalink"]).isRequired,b.b.bool,b.b.string,b.b.string,b.b.func,{followup:!1,userId:null,userName:null,previewFile:d.a}),w=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.previewFile=n.previewFile.bind(n),n.onUserClick=n.onUserClick.bind(n),n}return u()(t,e),o()(t,[{key:"onUserClick",value:function(e){Object(O.a)(e)||(e.preventDefault(),Object(k.a)(e,this.props.file.user))}},{key:"previewFile",value:function(e){Object(O.a)(e)||(e.preventDefault(),this.props.previewFile({fileId:this.props.file.id}))}},{key:"renderUserLink",value:function(){var e=this.props,t=e.userId,n=e.userName;return h.a.createElement("a",{className:"c-message__file_meta_user member",href:"/team/"+t,"data-member-id":t,onClick:this.onUserClick},n)}},{key:"renderFileLink",value:function(){var e=this.props.file;return h.a.createElement(C.a,{className:"c-message__file_link file_preview_link",href:e.permalink,"data-file-id":e.id,onClick:this.previewFile},h.a.createElement(j.a,{file:e}))}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.followup,r=e.userId,a=e.userName,i=Object(E.a)({plainText:!1,isFollowup:n,fileMode:t.mode,fileLink:this.renderFileLink(),userId:r,userName:a,userLink:this.renderUserLink()});return h.a.createElement("span",{className:"c-message__file_meta"},i)}}]),t}(p.PureComponent);w.displayName="FileCommentMeta",w.defaultProps=I;var S={previewFile:function(){return g.c.apply(void 0,arguments)}};t.a=Object(m.b)(function(e,t){var n=t.fileId,r=t.comment;if(!n||!r)return{};var a=Object(f.h)(e,n);if(!a)return{};if(a.user===r.user)return{file:a};var i=a.user,o=Object(v.c)(e,i);return{file:a,userId:i,userName:Object(_.P)(e,o)}},S)(w)},y1nk:function(e,t,n){},y41f:function(e,t,n){},y5Ed:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("QbLZ"),o=n.n(i),s=n("CpTu"),c=n("WgRr"),l=n("Z0Cl"),u=n("aK/h"),d=n("7EGn"),b=n("om+M"),p=n("4zXV"),h=n("yHhI"),m=Object(b.a)("Fetch IDP groups for a team",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!!Object(d.a)(n,"includeUsers");return e(Object(p.a)({method:"idpgroups.list",args:{include_users:r}})).then(function(e){return e.idpgroups}).catch(function(e){throw Object(h.a)({getState:t}).error("failed to fetch IDP groups"),e})});m.propTypes={includeUsers:u.b.bool};var f=n("EzZj"),v=n("MNvw"),g=n("U/ze"),_=n("XfeM"),O=n("ukIz");function y(e,t){return!(!e||!e.users)&&-1!==Object(O.a)(e.users,t)}n.d(t,"b",function(){return C});var j=Object(f.b)("Bulk add IDP groups to the store, overwriting anything previously stored");j.propTypes=u.b.object;var k=Object(v.b)(a()({},j,function(e,t){if(!t)return e;var n=Object(l.a)(t,function(e){return!!e.users||(Object(h.b)().warn('bulkAddIdpGroups: IDP group missing required "users" prop'),!1)});return o()({},e,n)}),{},{persistenceEnabled:!0});k.propTypes=u.b.objectOf(u.b.shape({name:u.b.string,users:u.b.arrayOf(u.b.string)}));t.a=k;var E=Object(g.b)(function(e){return e&&e.idpGroups?Object(c.a)(e.idpGroups):[]}),C=Object(g.b)(function(e,t){var n=E(e);return!(!n||!n.length)&&!!Object(s.a)(n,function(e){return y(e,t)})});Object(g.b)(function(e,t){var n=E(e);return n&&n.length?Object(l.a)(n,function(e){return y(e,t)}):[]});Object(_.b)("Loads the IDP groups for this workspace",function(e){return e(m({includeUsers:!0})).then(function(t){e(j(t))}).catch(function(e){throw e})}).propTypes=u.b.object},y780:function(e,t,n){},y7mK:function(e,t,n){"use strict";var r=n("XHGt"),a=n("DtX9"),i=n("N52Z"),o=n("HO/Y"),s=n("ypl0"),c=n("Fdc0"),l=n("Xthn"),u=n("BTtz");t.a=Object(r.b)(function(e,t){var n=t.userId,r=t.botId,u=t.username,d=t.botProfile,b=void 0,p=void 0,h="",m=!0,f=!1,v=!0,g=!1,_=null,O=d?d.team_id:null,y=Object(l.a)(e,{userId:n,botId:r,username:u,botProfile:d});if(n){var j=Object(a.c)(e,n);j&&(m=Object(c.Fb)(j),f=Object(c.sb)(j),p=Object(c.r)(e,j),h="/team/"+j.id,v=!Object(c.ab)(j),b=Object(c.n)(j),g=Object(c.lb)(j),_=Object(c.J)(j))}else if(u&&!r)m=!1;else if(r){var k=Object(i.c)(e,r);h="/services/"+k.id,m=!u&&!d&&!!k.isUnknown,f=!u&&!d&&!!k.isNonExistent,v=!1}var E=Object(o.j)(e,"feature_react_member_profile_card");return{theme:Object(s.a)(e),name:y,userId:n,color:p,botId:r||b,botTeamId:O,href:h,isUnknown:m,isNonExistent:f,memberIsHuman:v,memberIsExternal:g,memberTeamId:_,featureReactMemberProfileCard:E}})(u.a)},y8dB:function(e,t,n){"use strict";var r=n("YEIV"),a=n.n(r),i=n("BeL+"),o=n("TSHB"),s=n("NFsq"),c=["channel_join","channel_leave","group_join","group_leave"],l=["app_conversation_join","app_conversation_leave"];t.a=function(e){for(var t={},n=[],r=0;r<e.length;r++){var u=e[r];if(n.push(u),Object(s.a)(l,u.subtype)&&(t[u.ts]=a()({},u.user,{action:"app_conversation_join"===u.subtype?"join":"leave",inviter:u.inviter,ts:u.ts,timestamps:[u.ts]})),Object(s.a)(c,u.subtype)){for(t[u.ts]=a()({},u.user,{actions:[u.subtype],inviter:u.inviter,ts:u.ts,timestamps:[u.ts]});r+1<e.length;){var d=e[r+1];if(!Object(s.a)(c,d.subtype))break;var b=t[u.ts][d.user]&&t[u.ts][d.user].actions;b&&b.length?1===b.length&&d.subtype!==b[0]?(b.push(d.subtype),t[u.ts][d.user].timestamps.push(d.ts),d.inviter&&(t[u.ts][d.user].inviter=d.inviter)):2===b.length&&d.subtype!==b[1]&&(t[u.ts][d.user].actions=[b[1],d.subtype],t[u.ts][d.user].timestamps.push(d.ts),d.inviter&&(t[u.ts][d.user].inviter=d.inviter)):t[u.ts][d.user]={actions:[d.subtype],inviter:d.inviter,ts:d.ts,timestamps:[d.ts]},r+=1}t[u.ts]=Object(o.a)(t[u.ts],function(e){var t=e.actions,n=e.inviter,r=e.ts,a=e.timestamps;return{action:Object(i.a)(t.map(function(e){return"channel_join"===(t=e)||"group_join"===t?"join":"leave";var t})).join(","),inviter:n,ts:r,timestamps:a}})}}return{messages:n,rollups:t}}},yChY:function(e,t,n){"use strict";n.r(t);var r=n("XfeM"),a=n("PR8O"),i=Object(r.b)("/slackserviceworker slash command",function(){Object(a.a)()&&window.open("chrome://serviceworker-internals")});t.default=i},yJbr:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"n",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"p",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"b",function(){return _});var r=n("ROZo"),a=Object(r.b)("TS.files.getFileById",function(){}),i=(Object(r.b)("TS.files.fileIsImage",function(){return!0}),Object(r.b)("TS.files.editFileTitle"),Object(r.b)("TS.files.createPublicURL")),o=(Object(r.b)("TS.files.getFileActions",function(){return{}}),Object(r.b)("TS.files.getThumbSrcForFile"),Object(r.b)("TS.files.maybePruneChannels")),s=(Object(r.b)("TS.files.nonImageCanUseFSFV"),Object(r.b)("TS.files.refreshFile",function(){return!1}),Object(r.b)("TS.files.removeFile")),c=Object(r.b)("TS.files.cancelCurrentUpload"),l=Object(r.b)("TS.files.team_file_changed_sig.dispatch",function(){return!1}),u=(Object(r.b)("TS.files.upload"),Object(r.b)("TS.files.upsertFile")),d=Object(r.b)("TS.files.upsertAndSignal"),b=Object(r.b)("TS.files.team_file_comment_edited_sig.dispatch"),p=Object(r.b)("TS.files.team_file_comment_added_sig.dispatch"),h=Object(r.b)("TS.files.team_file_changed_sig.dispatch"),m=Object(r.b)("TS.files.openBoxChooser"),f=Object(r.b)("TS.files.openDropboxChooser"),v=Object(r.b)("TS.files.gdrive.openPickerWindow"),g=Object(r.b)("TS.files.onedrive.openPickerWindow"),_=Object(r.b)("TS.files.createAndOpenNewSpace",function(){return!1})},yPgC:function(e,t,n){"use strict";var r=n("aK/h"),a=r.b.shape({id:r.b.string.isRequired,name:r.b.string.isRequired,icons:r.b.objectOf(r.b.string).isRequired,is_xoxa_app:r.b.bool,app_user_id:r.b.string}),i=n("DVJN"),o=r.b.shape({appId:r.b.string.isRequired,id:r.b.string.isRequired,name:r.b.string.isRequired,description:r.b.string,type:i.b,app:r.b.object,channelId:r.b.string}),s=r.b.shape({app:r.b.shape({id:r.b.string.isRequired,name:r.b.string.isRequired,icons:r.b.oneOfType([r.b.objectOf(r.b.string),r.b.array]).isRequired}).isRequired,id:r.b.string.isRequired,name:r.b.string.isRequired,description:r.b.string.isRequired}),c=r.b.shape({id:r.b.string,type:i.b.isRequired,name:r.b.string.isRequired,description:r.b.string.isRequired,callbackId:r.b.string.isRequired}),l=r.b.shape({app_id:r.b.string.isRequired,home_workspace_id:r.b.string,home_enterprise_id:r.b.string,service_id:r.b.string.isRequired,config_url:r.b.string,app_type:r.b.oneOf(["xoxp","xoxa","custom_integration","slack"]),profile:r.b.shape({name:r.b.string.isRequired,color:r.b.string,description:r.b.string,tagline:r.b.string,icons:r.b.objectOf(r.b.string)}).isRequired,directory_profile:r.b.shape({screenshots:r.b.array,youtube_url:r.b.string,home_url:r.b.string,support_url:r.b.string,is_distributed:r.b.bool,is_published:r.b.bool}).isRequired,installation:r.b.shape({installer_user_id:r.b.string,is_active:r.b.bool,is_deleted:r.b.bool}).isRequired,app_user:r.b.shape({id:r.b.string,username:r.b.string}),commands:r.b.arrayOf(r.b.shape({name:r.b.string.isRequired,usage:r.b.string,description:r.b.string}).isRequired),legacy_app:r.b.object,id:r.b.string}),u=n("TGBA"),d=n("aLpA"),b=r.b.shape({type:r.b.oneOf(Object(u.a)(d.d)).isRequired}),p=r.b.arrayOf(b),h=r.b.shape({id:r.b.string.isRequired,team_id:r.b.string.isRequired,app_id:r.b.string,bot_id:r.b.string,type:r.b.oneOf(Object(u.a)(d.a)).isRequired,title:r.b.shape({type:r.b.oneOf([d.e.plain_text]),text:r.b.string,emoji:r.b.bool}),close:r.b.shape({type:r.b.oneOf([d.e.plain_text]),text:r.b.string,emoji:r.b.bool}),submit:r.b.shape({type:r.b.oneOf([d.e.plain_text]),text:r.b.string,emoji:r.b.bool}),blocks:p.isRequired,state:r.b.shape({values:r.b.object.isRequired,version:r.b.number.isRequired}),remove_stack_on_close:r.b.bool,root_view_id:r.b.string,previous_view_id:r.b.string}),m=r.b.shape({experiment_id:r.b.string.isRequired,type:r.b.oneOf(["user","team"]).isRequired,group:r.b.string,trigger:r.b.string.isRequired,log_exposures:r.b.bool.isRequired,exposure_id:r.b.number.isRequired}),f=n("QbLZ"),v=n.n(f),g=n("yHhI"),_=n("rWF5"),O=function(e,t){return _.k&&Object(g.b)().warn("You're using a browser that doesn't support the JS Proxy API! React PropTypes checking might not work as expected."),Object.keys(t).forEach(function(n){try{Object.defineProperty(e,n,{value:t[n]})}catch(e){}}),e},y=function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=v()({},e);return t.forEach(function(t){e[t]&&(n[t]=e[t].isRequired||e[t])}),r.b.shape(n)};return window.Proxy?new Proxy(t,{get:function(t,n){return e[n]}}):O(t,e)},j=y({id:r.b.string.isRequired,name:r.b.string,title:r.b.string,size:r.b.number,filetype:r.b.string,mode:r.b.string,mimetype:r.b.string,pretty_type:r.b.string,user:r.b.string,username:r.b.string,is_starred:r.b.bool,_rxn_key:r.b.string,timestamp:r.b.number,public_url_shared:r.b.bool,created:r.b.number,url_private:r.b.string,url_private_download:r.b.string,permalink:r.b.string,edit_link:r.b.string,comments:r.b.arrayOf(r.b.object),comments_count:r.b.number,initial_comment:r.b.object,is_external:r.b.bool,external_type:r.b.string,width:r.b.number,height:r.b.number,has_rich_preview:r.b.bool,video:r.b.object,thumb_video:r.b.string,thumb_360:r.b.string,thumb_360_w:r.b.number,thumb_360_h:r.b.number,thumb_480:r.b.string,thumb_480_w:r.b.number,thumb_480_h:r.b.number,thumb_720:r.b.string,thumb_720_w:r.b.number,thumb_720_h:r.b.number,thumb_800:r.b.string,thumb_800_w:r.b.number,thumb_800_h:r.b.number,thumb_pdf:r.b.string,thumb_pdf_w:r.b.number,thumb_pdf_h:r.b.number,is_truncated:r.b.bool,content:r.b.string,content_html:r.b.string,content_highlight_html:r.b.string,preview:r.b.string,preview_highlight:r.b.string,preview_is_truncated:r.b.bool,lines_more:r.b.number,updated:r.b.number,sent_to_self:r.b.bool,from:r.b.arrayOf(r.b.object),to:r.b.arrayOf(r.b.object),cc:r.b.arrayOf(r.b.object),subject:r.b.string,attachments:r.b.arrayOf(r.b.object),preview_plain_text:r.b.string,simplified_html:r.b.string}),k=r.b.shape({id:r.b.number.isRequired,title:r.b.string.isRequired,ts:r.b.number.isRequired,num_unread:r.b.number.isRequired,short_text:r.b.string.isRequired,state:r.b.oneOf(["open","resolved","read","unread"]).isRequired,is_resolved:r.b.bool.isRequired,is_closed:r.b.bool.isRequired,allow_csat:r.b.bool.isRequired,rating:r.b.oneOf(["good","bad","none"])}),E=y({id:r.b.string.isRequired,name:r.b.string.isRequired,handle:r.b.string.isRequired,description:r.b.string,users:r.b.arrayOf(r.b.string)}),C=r.b.shape({id:r.b.string.isRequired,isUnknown:r.b.bool,isNonExistent:r.b.bool});var I=n("negh"),w=r.b.shape({id:r.b.string.isRequired,appId:r.b.string,label:r.b.node,name:r.b.string.isRequired,description:r.b.string,iconSet:r.b.objectOf(r.b.string),iconType:r.b.string,danger:r.b.bool,isLoading:r.b.bool,frecencyId:r.b.string.isRequired,"data-qa":r.b.string.isRequired,uiElement:r.b.oneOf(Object(u.a)(I.y)).isRequired}),S=y({action:r.b.string.isRequired,name:r.b.string,inviter:r.b.string,inviterName:r.b.string,ts:r.b.string,timestamps:r.b.array}),T=function(e){return r.b.objectOf(S(e))},R=r.b.shape({count:r.b.number.isRequired,name:r.b.string.isRequired,users:r.b.arrayOf(r.b.string).isRequired,url:r.b.string}),N=n("g0Ht"),x=y({id:r.b.string.isRequired,ordering:r.b.number,field_name:r.b.string,label:r.b.string,hint:r.b.string,type:r.b.string,possible_values:r.b.arrayOf(r.b.string),is_hidden:r.b.bool}),M=r.b.shape({filterQuery:r.b.string,isDisabled:r.b.bool,isRequired:r.b.bool,options:r.b.oneOfType([r.b.arrayOf(r.b.shape({label:r.b.string,value:r.b.any.isRequired})),r.b.arrayOf(r.b.shape({label:r.b.string,options:r.b.arrayOf(r.b.shape({label:r.b.string,value:r.b.any.isRequired}))}))]).isRequired,isExpanded:r.b.bool,selectId:r.b.string,selectedOptions:r.b.array,activeRowIndex:r.b.number}),P=n("k2C/"),A=n("YeHu");function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UNKNOWN COMPONENT";return e[t]&&Object(P.a)(e[t])?null:new Error("The prop \u2018"+t+"\u2019 is required through type TeamId in \u2018"+n+"\u2019, but its value is \u2018"+e[t]+"\u2019.")}D[A.a]=function(){return"TeamId"};var L=D;function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UNKNOWN COMPONENT";return e[t]&&Object(P.b)(e[t])?null:new Error("The prop \u2018"+t+"\u2019 is required through type EnterpriseId in \u2018"+n+"\u2019, but its value is \u2018"+e[t]+"\u2019.")}q[A.a]=function(){return"EnterpriseId"};var F=q,B=r.b.shape({timestamp:r.b.number.isRequired,title:r.b.string.isRequired,description:r.b.string.isRequired,url:r.b.string,url_title:r.b.string,html:r.b.bool,html_title:r.b.bool});t.a={App:a,AppAction:o,AppActionMenuItem:s,AppActionConfig:c,AppActionType:i.b,AppProfile:l,AppView:h,BlockKitBlocks:p,Experiment:m,File:j,UserGroup:E,GenericUnknown:C,HelpCenterIssue:k,maybeUnknown:function(e){return r.b.oneOfType([e,C])},MessageAction:w,Rollup:T,Reaction:R,ScopeInfo:N.a,SlackKit:{SelectState:M},TeamProfileField:x,TeamId:L,EnterpriseId:F,WhatsNewUpdate:B}},"yWY+":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("kxpR"),s=n.n(o),c=n("lQgN"),l=n("nNoG"),u=n("hCvz"),d=new l.b("member_token"),b=(i.b.oneOf(["unknown","non-existent"]),i.b.bool,function(e){var t=e.subtler,n=e.type,r="unknown"===n?d.t("Loading\u2026"):d.t("Private user info");return s.a.createElement(u.b,a()({isUnknown:"unknown"===n,isNonExistent:"non-existent"===n,subtler:t,tooltip:r},Object(c.a)(e)))});b.displayName="MissingMember",b.defaultProps={type:"unknown",subtler:!1},t.a=b},yY9y:function(e,t,n){"use strict";n("aK/h");var r=n("kxpR"),a=n.n(r),i=n("TSYQ"),o=n.n(i),s=n("MnCE"),c=n("od5y"),l=n("nNoG"),u=(n("ShIb"),new l.b("presence")),d=function(e){var t=e.inheritIconSize,n=e.inline,r=e.isActive,i=e.isDnd,s=e.isSelf,l=e.isSlackbot,d=e.invert,b=e.userType,p=e.className,h=r?"presence-online":"presence-offline",m=o()(p,"c-presence",{"c-presence--active":r&&!d,"c-presence--away":!r&&!d,"c-presence--inverted":d}),f=void 0;return f=r?i?u.t("Active, notifications snoozed"):u.t("Active"):i?u.t("Away, notifications snoozed"):u.t("Away"),"member"===b?i?h=r?"presence-dnd":"presence-dnd-offline":l&&(h="heart"):"ra"===b?h=i?r?"presence-ra-dnd":"presence-ra-dnd-offline":r?"presence-ra-online":"presence-ra-offline":"ura"===b?h=i?r?"presence-ura-dnd":"presence-ura-dnd-offline":r?"presence-ura-online":"presence-ura-offline":"external"===b&&(h=i?r?"presence-external-dnd":"presence-external-dnd-offline":r?"presence-external-online":"presence-external-offline"),a.a.createElement(c.b,{type:h,className:m,title:f,"aria-hidden":!0,size:t?"inherit":void 0,inline:n,"data-qa":"presence_indicator","data-qa-presence-self":s,"data-qa-presence-active":r,"data-qa-presence-dnd":i})};d.displayName="Presence",d.defaultProps={inheritIconSize:!1,inline:!0,isActive:!1,isDnd:!1,isSlackbot:!1,userType:"member",className:void 0,isSelf:!1,invert:!1},t.a=Object(s.a)(d)},yZHI:function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(!!t(e)||r(e.parentElement,t))}n.d(t,"a",function(){return r})},yg0S:function(e,t,n){"use strict";var r=n("XHGt"),a=n("BDy0"),i=n("1Ji4");t.a=Object(r.b)(function(e){return{isScreenReaderEnabled:Object(a.b)(e)}})(i.a)},yh68:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("hbEN"),m=n("kxpR"),f=n.n(m),v=n("aK/h"),g=n("XHGt"),_=n("yHhI"),O=n("jYCR"),y=Object(_.b)();function j(e){v.b.object.isRequired,v.b.string.isRequired,v.b.bool,v.b.array,v.b.object,v.b.bool,v.b.bool,v.b.number,v.b.func,v.b.func,v.b.func,v.b.func.isRequired;var t={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,isDisabled:!1,debounceWaitPeriod:50,onSearch:p.a,onSearchError:p.a,processOptions:function(e){return Promise.resolve(e)}},n=function(t){function n(e){o()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.inputRef=f.a.createRef(),t.searchPromise=null,t.setSelectState=t.setSelectState.bind(t),t.state={filterQuery:"",options:[],isExpanded:e.isExpanded,selectId:e.selectId,selectedOptions:e.selectedOptions||[],selectedOption:e.selectedOption||null,isRequired:e.isRequired,isLoading:!1,isDisabled:e.isDisabled},t.search=Object(h.a)(t.search,e.debounceWaitPeriod),t}return b()(n,t),c()(n,[{key:"componentDidMount",value:function(){this.search(this.state.filterQuery)}},{key:"componentWillUnmount",value:function(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}},{key:"setSelectState",value:function(e,t){var n=e();void 0!==n.filterQuery&&n.filterQuery!==this.state.filterQuery&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this.setState(function(){return{isLoading:!0}}),this.search(n.filterQuery)),this.setState(function(){return n},t)}},{key:"search",value:function(e){var t=this;this.props.onSearch(e),this.searchPromise=this.props.search({query:e,options:this.props.searcherOptions}).then(function(n){var r=(n||[]).map(function(e){return{value:e.id,label:e.id,entity:e}});t.props.processOptions(r,e).then(function(e){t.setSelectState(function(){return{options:e}}),t.setState(function(){return{isLoading:!1}})})}).catch(function(e){t.setState(function(){return{isLoading:!1}}),y.error("Error when searching for select id: "+t.props.selectId+", error: "+e),t.props.onSearchError(e)})}},{key:"render",value:function(){return f.a.createElement(e,a()({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:this.inputRef,isLoading:this.state.isLoading}))}}]),n}(m.Component);n.displayName="SearcherSelectWrapper",n.defaultProps=t;var r={search:function(){return O.c.apply(void 0,arguments)}};return Object(g.b)(null,r)(n)}},"yhC+":function(e,t,n){},yhoe:function(e,t,n){},"yk+1":function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("kxpR"),s=n.n(o),c=n("TSYQ"),l=n.n(c),u=n("XHGt"),d=n("MnCE"),b=n("hOQf"),p=n("clTI"),h=n("smxp"),m=n("DtX9"),f=n("HO/Y"),v=n("XzsM"),g=n("lek6"),_=n("jnHx"),O=n("EOxd"),y=n("iCc5"),j=n.n(y),k=n("V7oC"),E=n.n(k),C=n("FYw3"),I=n.n(C),w=n("mRg0"),S=n.n(w),T=n("CpTu"),R=n("bPB8"),N=n("zmn3"),x=n("owWc"),M=n("ifKl"),P=n("7Ztl"),A=n("2Inn"),D=n("HHn2"),L=n("Fdc0"),q=n("82mD"),F=n("RbWr"),B=n("nNoG"),U=n("Smdl"),H=n("i1Fx"),K=n("od5y"),G=(n("oJ6u"),function(){return s.a.createElement("span",{className:"c-animated_ellipsis"},s.a.createElement("span",{className:"p-animated_ellipsis__fullstop"},"."),s.a.createElement("span",{className:"p-animated_ellipsis__fullstop"},"."),s.a.createElement("span",{className:"p-animated_ellipsis__fullstop"},"."))});G.displayName="AnimatedEllipsis";var V=G,z=n("w6pt"),Y=n("3dqR"),W=n("RAhH"),Q=n("VwYs"),X=n("m36V"),Z=n("GGbT"),J=n("D4L/"),$=n("x4bP"),ee=n("1YQg"),te=n("UF3u"),ne=new B.b("calls"),re={participants:i.b.array,dateEnd:i.b.number,dateStart:i.b.number,isDmCall:i.b.bool,wasMissed:i.b.bool,wasRejected:i.b.bool,isCreator:i.b.bool,callName:i.b.string,dmCallName:i.b.string,isParticipant:i.b.bool,callId:i.b.string,msgTs:i.b.string,subtype:i.b.oneOf(["sh_room_shared","sh_room_created"]),url:i.b.string,openGantryCall:i.b.func},ae={participants:[],dateEnd:null,isDmCall:!1,wasMissed:!1,wasRejected:!1,isCreator:!1,callName:"",dmCallName:"",isParticipant:!1,callId:"",dateStart:null,msgTs:"",url:"",subtype:"sh_room_created",openGantryCall:M.a},ie=function(e,t){return Object(x.a)(Object(N.a)(Object(R.a)(t),function(t){return t&&t.isUnknown?s.a.createElement(z.a,{key:t.id,type:"unknown"}):t?Object(L.P)(e,t):void 0}),function(e,n,r){return t[r-1]&&e.push(", "),e.push(n),e},[])},oe=function(e){function t(e){j()(this,t);var n=I()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRef=n.setRef.bind(n),n.onCallClick=n.onCallClick.bind(n),n}return S()(t,e),E()(t,[{key:"setRef",value:function(e){this.ref=e}},{key:"onCallClick",value:function(e){e.preventDefault(),Object(U.a)()?this.props.openGantryCall({callId:this.props.callId}):this.props.dateEnd||Object(H.b)(this.ref.querySelector(".c-message__call_description"))}},{key:"render",value:function(){var e=this.props,t=e.participants,n=e.dateEnd,r=e.isDmCall,a=e.wasMissed,i=e.wasRejected,o=e.isCreator,c=e.callName,u=e.dmCallName,d=e.isParticipant,b=e.callId,p=e.dateStart,h=e.msgTs,m=e.subtype,f=e.featureReactMessages,v=e.participantList,_=e.participantNames,O=r&&2===t.length,y=!n&&r&&o,j=!n&&r,k=Object(Z.a)({dateEnd:n,isDmCall:r,wasMissed:a,wasRejected:i,isCreator:o,isParticipant:d,dmCallName:Object(B.n)(u),participantsCount:t.length}),E=n?"c-message__call_icon--ended c-icon--calls-ended":"c-icon--calls",C=s.a.createElement("span",{className:"c-message__call_description"},k),I=c?s.a.createElement(g.a,{text:c,className:"c-message__call_name",noJumbomoji:!0}):null,w=!y&&!j||O?null:s.a.createElement(V,null);n||(C=s.a.createElement("a",{href:this.props.url,className:"c-message__call_description c-message__call_description--linked","data-qa":"call_attachment_link"},k,w),I=c?s.a.createElement("a",{href:this.props.url,className:"c-message__call_name c-message__call_name--linked"},s.a.createElement(g.a,{text:c,noJumbomoji:!0})):null);var S=s.a.createElement("div",{className:"c-message__call_title"},C);I&&(S=s.a.createElement("div",{className:"c-message__call_title"},I,C));var T="";if(r&&n&&p&&a||r&&!n&&p||!r&&0===t.length||y||j)T=s.a.createElement("div",{className:"c-message__call_sub"},ne.t("Started at {time}",{time:Object(q.p)(p)}));else if(r&&n&&p&&!a&&f)T=s.a.createElement("div",{className:"c-message__call_sub"},ne.rt("Started at {time} and lasted {duration}",{time:Object(q.p)(p),duration:s.a.createElement("strong",null,Object(q.s)(n-p))}));else if(!r&&n&&f)T=s.a.createElement("div",{className:"c-message__call_sub"},ne.rt("Lasted {duration} with {participants}",{duration:s.a.createElement("strong",null,Object(q.s)(n-p)),participants:s.a.createElement("div",{className:"c-message__call_participants"},v)}));else if(!r&&t.length>0){var R=t.map(function(e){var t=e.isUnknown?ne.t("Loading\u2026"):_[e.id];return s.a.createElement(W.c,{tip:t,key:e.id},s.a.createElement("span",{className:"c-message__call_avatar"},s.a.createElement(Y.b,{userId:e.id,size:16})))});T=s.a.createElement("div",{className:"c-message__call_sub"},s.a.createElement("span",null,ne.rt("Started at {time}",{time:Object(q.p)(p)}),s.a.createElement("span",{className:"c-message__call_participant_count"},s.a.createElement(K.a,{type:"user",className:"c-message__call_user_icon",align:"baseline"})," ",t.length)),s.a.createElement("div",{className:"c-message__call_participants"},R))}var N="sh_room_shared"===m?ne.t("Shared a call"):ne.t("Started a call"),x=Object(D.a)("call",h,{id:b}),M=l()("c-message__call",{"c-message__call--active":!n,"c-message__call--ended":n});return s.a.createElement("div",{className:M,ref:this.setRef,role:"presentation"},s.a.createElement("div",{className:"c-message__body c-message__body--automated"},N," ",s.a.createElement(X.a,{expandableKey:x,useAttachmentRules:!1}),s.a.createElement(Q.a,{expandableKey:x,useAttachmentRules:!1},s.a.createElement("div",{className:"c-message__call_attachment",role:"presentation",onClick:this.onCallClick},s.a.createElement(K.a,{className:"c-message__call_icon "+E}),s.a.createElement("div",{className:"c-message__call_info","data-qa":"call_attachment"},S,T)))))}}]),t}(F.a);oe.displayName="CallSubtype",oe.propTypes=re,oe.defaultProps=ae;var se={openGantryCall:A.e},ce=Object(u.b)(function(e,t){var n=Object(f.j)(e,"feature_react_messages"),r=Object(P.b)(e,t.callId);if(!r)return{featureReactMessages:n};var a=Object(f.b)(e),i=Object(P.f)(r).map(function(t){return Object(m.c)(e,t)}),o={};return i.forEach(function(t){o[t.id]=Object(L.P)(e,t)}),{participants:i,participantList:ie(e,i),participantNames:o,dateEnd:r.dateEnd,dateStart:r.dateStart,isDmCall:r.isDmCall,wasMissed:r.callObjectInviteResponse===ee.c.Missed,wasRejected:r.callObjectInviteResponse===ee.c.Rejected,isCreator:a===r.createdBy,callName:r.name,dmCallName:Object(P.e)(e,t.callId),url:Object($.a)()?"/calls/"+Object(J.d)(e).id+"/"+r.id:"/call/"+r.id,isParticipant:!!Object(T.a)(i,{id:a}),featureReactMessages:n}},se,null,{areStatePropsEqual:function(e,t){return Object(te.a)(e,t,2)}})(oe),le=(i.b.string.isRequired,i.b.string,i.b.string,i.b.string,i.b.string,i.b.string,i.b.string,i.b.bool,i.b.string,i.b.string,i.b.string,i.b.string,i.b.string,i.b.bool,i.b.bool,i.b.bool,function(e){var t=e.subtype,n=e.text,r=e.callId,i=e.msgTs,o=e.memberId,c=e.featurePlatformCallsApi,u=l()("c-message__body","c-message__body--automated",{"c-message__body--call":"sh_room_shared"===t||"sh_room_created"===t});if("sh_room_shared"===t||"sh_room_created"===t)return c?s.a.createElement(O.a,{callId:r,msgTs:i}):s.a.createElement(ce,{subtype:t,callId:r,msgTs:i});var d={text:n};return"reminder_add"!==t&&"reminder_delete"!==t||(d.doInlineImages=!0,d.enableSlackActionLinks=!0),"bot_add"!==t&&"bot_enable"!==t&&"bot_updated"!==t&&"bot_disable"!==t&&"bot_remove"!==t||(d.noHighlights=!0,d.doInlineImages=!0,d.enableSlackActionLinks=!0,d.explicitlyRenameBotLink=!0,d.memberId=o),s.a.createElement(g.a,a()({className:u},d))});le.displayName="TestableAutomatedSubtype",le.defaultProps={channelPurpose:null,channelTopic:null,channelName:null,channelOldName:null,channelNewName:null,orgName:null,channelIsMoved:!1,text:"",callId:null,msgTs:null,memberId:null,currentMemberId:null,featureSliChannelArchiveSuggestions:!1,inSliChannelArchiveSuggestionsExperiment:!1,featurePlatformCallsApi:!1};Object(d.a)(le);var ue=Object(u.b)(function(e,t){var n=t.subtype,r=t.channelId,a=t.timestamp,i=Object(f.j)(e,"feature_sli_channel_archive_suggestions"),o=Object(f.j)(e,"feature_platform_calls_api"),s=Object(f.j)(e,"feature_change_purpose_to_description"),c=i&&"sli_channel_archive_suggestions"===Object(v.c)(e,"sli_channel_archive_suggestions"),l=Object(p.d)(e,r),u=Object(h.a)(e,r,a),d=Object(m.b)(e);return{subtype:n,text:Object(_.a)({message:u,channel:l,member:d,inSliChannelArchiveSuggestionsExperiment:c,featureChangePurposeToDescription:s}),callId:u._call_id,msgTs:u.ts,memberId:Object(b.G)(u),featurePlatformCallsApi:o}})(le);ue.propTypes={channelId:i.b.string.isRequired,subtype:i.b.string.isRequired,timestamp:i.b.string.isRequired};t.a=ue},yluG:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("aK/h"),a=n("kxpR"),i=n.n(a),o=n("derf"),s=n("5mKg"),c=(n("6mX7"),r.b.object,{externalTeam:void 0});function l(e){var t=e.externalTeam,n=Object(s.e)(t),r=Object(s.i)(t);return t&&n?i.a.createElement("div",{className:"p-app_external_team_banner"},i.a.createElement("span",{className:"p-app_external_team_banner__team_name overflow_ellipsis bold"},n),r&&i.a.createElement(o.b,{id:r,className:"p-app_external_team_banner__team_icon"})):null}l.displayName="AppExternalTeamBanner",l.defaultProps=c},ynxK:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("jo6Y"),o=n.n(i),s=n("kxpR"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=n("aK/h"),b=n("NcDR"),p=n("i7LB"),h=(n("7nuq"),d.b.string,d.b.bool,d.b.bool,d.b.bool,{className:void 0,disabled:!1,invert:!1,hasKeyboardFocus:!1}),m=c.a.forwardRef(function(e,t){var n=e.className,r=e.disabled,i=e.invert,s=e.hasKeyboardFocus,l=o()(e,["className","disabled","invert","hasKeyboardFocus"]),d=u()("c-link--button",{"c-link--focus-visible":s,"c-link--disabled":r,"c-link--invert":i},n);return c.a.createElement("button",a()({},Object(p.a)(l),{disabled:r,className:d,type:"button",ref:t}))});m.defaultProps=h,m.displayName="ButtonLink",t.a=Object(b.a)(m)},ypl0:function(e,t,n){"use strict";var r=n("U/ze"),a=n("VjHM"),i=Object(r.b)(function(e){return"dense"===Object(a.g)(e,"messages_theme")?"dense":"light"});t.a=i},yqYW:function(e,t,n){},yqck:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("tfYw"),b=n.n(d),p=n("mRg0"),h=n.n(p),m=n("ifKl"),f=n("HJ27"),v=n("OZf9"),g=n("BlE4"),_=n("HA5h"),O=n("tn36"),y=n("Cjy0"),j=n.n(y),k=n("mM05"),E=n.n(k),C=n("nNoG"),I=n("yHhI"),w=n("ICFZ"),S=n("rWF5"),T=n("tRvn"),R=n("pWPO"),N=n("TmhL"),x=n("QqPV"),M=n("9PC1");function P(e){if(e instanceof Element){if("paragraph-break"===e.getAttribute("data-stringify-type"))return!0;if("BR"===e.tagName)return!0}return!1}function A(e){var t=0;return!function(e){return e instanceof Element&&e.hasAttribute("data-stringify-type")}(e)?e.hasChildNodes()?Object(v.a)(e.childNodes,function(e){t+=A(e)}):e.textContent.trim()&&(t+=1):t+=1,t}var D=j.a.import("modules/clipboard"),L={featureSonicClipboard:!1,getUserHighlightWords:m.a,isModern:!1,logger:{info:m.a},onPaste:m.a,onPasted:m.a,shouldFocusOnPaste:m.a},q=function(e){function t(e,n){o()(this,t);var r=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.options=Object(_.a)({},L,n),r.hasFixedPastedNodes=!1,r.options.isModern&&(Object(O.a)(r,["onCopy","onGlobalPaste"]),e.container.addEventListener("copy",r.onCopy),e.container.addEventListener("cut",r.onCopy),r.options.featureSonicClipboard&&(window.addEventListener("paste",r.onGlobalPaste),r.addMatcher("*",function(e,t){if(r.hasFixedPastedNodes)return t;r.hasFixedPastedNodes=!0,Object(f.a)(r.quill.clipboard.container.childNodes,function(e){return!A(e)&&(r.quill.clipboard.container.removeChild(e),!0)});var n=r.quill.clipboard.container.querySelectorAll('[data-stringify-type="replace"]'),a=r.isPastingMultipleNodes();return Object(v.a)(n,function(e){if(!e.hasAttribute("data-stringify-requires-siblings")||a){var t=e.getAttribute("data-stringify-text"),n=document.createTextNode(t);e.parentNode.replaceChild(n,e)}}),t}),r.addMatcher("img",function(){return new E.a}),r.addMatcher("[data-stringify-ignore]",function(){return new E.a}),r.addMatcher(Node.TEXT_NODE,function(e){return(new E.a).insert(e.textContent)}),r.options.useWysiwyg&&r.addMatcher("strike",function(e,t){return new E.a(t.map(function(e){return a()({},e,{attributes:a()({},e.attributes,{strike:!0})})}))}),r.options.useWysiwyg||(r.addMatcher('[data-stringify-type="bold"]',function(e,t){if(!r.isPastingMultipleNodes())return t;var n="ja-JP"===Object(C.p)()?"\uff0a":"*";return Object(M.n)(t,n,n)}),r.addMatcher('[data-stringify-type="italic"]',function(e,t){if(!r.isPastingMultipleNodes())return t;var n="ja-JP"===Object(C.p)()?"\uff3f":"_";return Object(M.n)(t,n,n)}),r.addMatcher('[data-stringify-type="strike"]',function(e,t){return r.isPastingMultipleNodes()?Object(M.n)(t,"~","~"):t}),r.addMatcher('[data-stringify-type="code"]',function(e,t){if(!r.isPastingMultipleNodes())return t;var n="ja-JP"===Object(C.p)()?"\uff40":"`";return Object(M.n)(t,n,n)}),r.addMatcher('[data-stringify-type="pre"]',function(e,t){var n=void 0,a=Object(M.o)(t.ops);return n=Object(g.a)(a,"\n")?(new E.a).insert(a.slice(0,-1)):t,r.isPastingMultipleNodes()?Object(M.n)(n,"```\n","\n```"):n}),r.addMatcher('[data-stringify-type="quote"]',function(e,t){var n=Object(S.g)()===S.a.FIREFOX,r=0;t.eachLine(function(){r+=1});var a=new E.a;if(n&&e.previousSibling&&e.previousSibling instanceof Text&&a.insert("\n"),t.eachLine(function(e,t,i){n&&!e.length()&&i===r-1||(a=a.insert("> ").concat(e),i<r-1&&a.insert("\n"))}),e.nextElementSibling&&!P(e.nextElementSibling)){var i=Object(M.o)(a.ops);Object(g.a)(i,"\n")||a.insert("\n")}else if(n&&(!e.nextElementSibling||P(e.nextElementSibling))){var o=Object(M.o)(a.ops);Object(g.a)(o,"\n")&&(a=(new E.a).insert(o.slice(0,-1)))}return a}),r.addMatcher('[data-stringify-type="blockquote"]',function(e,t){return Object(M.n)(t,">>> ")})),r.addMatcher('[data-stringify-type="emoji"]',function(e){var t=e.getAttribute("data-stringify-emoji");return(new E.a).insert({slackemoji:{text:t}})}),r.addMatcher('[data-stringify-type="paragraph-break"]',function(){return(new E.a).insert("\n\n")}),r.addMatcher('[data-stringify-type="mention"]',function(e){var t=e.getAttribute("data-stringify-id"),n=e.getAttribute("data-stringify-label");return(new E.a).insert(n,{slackmention:{id:t,label:n,mention:Object(N.a)(t,n,r.options.getUserHighlightWords())}})}))),r}return h()(t,e),c()(t,[{key:"unload",value:function(){window.removeEventListener("paste",this.onGlobalPaste)}},{key:"isPastingMultipleNodes",value:function(){return A(this.quill.clipboard.container)>1}},{key:"onCopy",value:function(e){e.preventDefault(),e.stopPropagation(),this.options.logger.info("COPY",'handling "'+e.type+'" event');var t=this.quill.getSelection();if(t&&0!==t.length){var n=this.quill.getContents(t),r=Object(R.a)({contents:n.ops});this.options.logger.info("COPY","found "+r.length+" chars"),Object(w.c)(e,{"text/plain":r,text:r,"public.utf8-plain-text":r,"slack/texty":JSON.stringify(n)}),this.options.logger.info("COPY","copied "+r.length+" chars"),"cut"===e.type&&(this.quill.deleteText(t.index,t.length),this.quill.setSelection(t.index),this.options.logger.info("COPY","deleted selection"))}else this.options.logger.info("COPY","no selection")}},{key:"onGlobalPaste",value:function(e){this.options.shouldFocusOnPaste()&&(Object(T.a)(document.activeElement)||this.quill.hasFocus()||(this.quill.focus(),this.onPaste(e)))}},{key:"onPaste",value:function(e){if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection();if(n){this.hasFixedPastedNodes=!1;try{if(!this.options.onPaste(e)){var r=e.clipboardData.getData("text/plain")?"text/plain":"Text",a=e.clipboardData.getData(r);if(!a)return;if(this.options.isModern){var i=e.clipboardData.getData("text/html");if(a&&!i||i&&-1===i.indexOf("data-stringify-"))if(e.preventDefault(),this.quill.focus(),n.length>0&&this.quill.deleteText(n.index,n.length),this.options.useWysiwyg){var o=Object(x.a)((new E.a).insert(a),{featureRichTextLinks:!0});this.options.texty.insertContentsAtCursor({contents:o.ops})}else this.quill.insertText(n.index,a,"user"),this.quill.setSelection(n.index+a.length,0)}e.defaultPrevented||b()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onPaste",this).call(this,e),setTimeout(this.options.onPasted,0)}}catch(e){var s=e instanceof Error?e.message||e.description:JSON.stringify(e);Object(I.b)().error("Error on paste: "+s)}}}}}]),t}(D);t.a=q},yt6e:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("ifKl"),b=(n("aK/h"),n("kxpR")),p=n.n(b),h=n("VymY"),m=n("k0G2"),f=n("PR8O"),v=n("rWF5"),g=n("yU6Y"),_=n.n(g).a.msie,O=function(){var e=Object(h.b)(document.getElementById("client-ui"));e&&e.focus()},y=function(){var e=Object(h.c)(document.getElementById("client-ui"));e&&e.focus()},j=function(e){var t=e.keyCode,n=e.type,r=e.shiftKey,a=e.ctrlKey,i=e.metaKey;t===m.k&&(a||v.p&&i||(clearTimeout(w.keydownTimeoutId),w.relatedEvent={type:n,keyCode:t,shiftKey:r},w.keydownTimeoutId=setTimeout(function(){w.relatedEvent=null},15)))},k=function(e){var t=e.type;clearTimeout(w.mousedownTimeoutId),w.relatedEvent={type:t},w.mousedownTimeoutId=setTimeout(function(){w.relatedEvent=null},15)},E=function(e){var t=e.relatedTarget;w.relatedTarget=t},C=function(e){var t=e.target,n=e.relatedTarget,r=w.relatedEvent,a=r&&"keydown"===r.type?r:null,i=t===w.firstHiddenTabStop,o=t===w.lastHiddenTabStop;if(t!==document){if(i&&a){if(a.shiftKey)return void t.blur();if(!n)return void O()}if(o&&a)a.shiftKey?y():t.blur();else if(!n&&!a&&(i||o)){if(w.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},i)return O(),void(w.relatedEvent=null);o&&(y(),w.relatedEvent=null)}}},I=function(e){var t=e.relatedTarget;w.blurTimeoutId&&(clearTimeout(w.blurTimeoutId),w.blurTimeoutId=null);var n=w.relatedEvent||{},r=n.shiftKey,a=n.type,i=n.keyCode;!t&&"keydown"===a&&(w.blurTimeoutId=setTimeout(function(){document.activeElement===document.body&&(w.relatedEvent={type:a,shiftKey:r,keyCode:i},(r?y:O)(),w.relatedEvent=null)},150))},w=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.blurTimeoutId=null,n.hasFocus=!1,n}return u()(t,e),o()(t,[{key:"componentWillMount",value:function(){var e=p.a.Children.only(this.props.children);"function"==typeof e.type&&this.checkChildIsValid(e),0===t.instances&&(Object(f.a)()?document.addEventListener("blur",I,!0):(!function(){var e=document.createElement("div");e.innerHTML='<div aria-hidden="true" style="position:absolute" tabindex="1"></div><div aria-hidden="true" style="position:absolute" tabindex="0"></div>';var t=e.firstChild,n=e.lastChild,r=document.body;r.insertBefore(t,r.firstChild),r.appendChild(n),w.firstHiddenTabStop=t,w.lastHiddenTabStop=n}(),_?document.addEventListener("focusin",C,!1):document.addEventListener("focus",C,!0)),_&&(document.addEventListener("focusin",E,!1),document.addEventListener("focusout",E,!1)),document.addEventListener("keydown",j,!0),document.addEventListener("mousedown",k,!0)),t.instances+=1}},{key:"componentWillUnmount",value:function(){0===t.instances&&(Object(f.a)()?document.removeEventListener("blur",I,!0):(document.body.removeChild(w.firstHiddenTabStop),document.body.removeChild(w.lastHiddenTabStop),_?document.removeEventListener("focusin",C,!1):document.removeEventListener("focus",C,!0)),_&&(document.removeEventListener("focusin",E,!1),document.removeEventListener("focusout",E,!1)),document.removeEventListener("keydown",j,!0),document.removeEventListener("mousedown",k,!0)),t.instances-=1,this.blurTimeoutId&&clearTimeout(this.blurTimeoutId)}},{key:"onFocus",value:function(e){var n=this.hasFocus?this.props.onFocusWithin:this.props.onFocusEnter;this.hasFocus=!0;var r=e.currentTarget,a=e.target;n({relatedTarget:e.relatedTarget||t.relatedTarget,currentTarget:r,target:a,relatedEvent:t.relatedEvent})}},{key:"onBlur",value:function(e){var n=this;this.blurTimeoutId&&(clearTimeout(this.blurTimeoutId),this.blurTimeoutId=null);var r=e.currentTarget,a=e.target,i=e.relatedTarget||t.relatedTarget,o={relatedTarget:i,currentTarget:r,target:a};i?this.blurTimeoutId=setTimeout(function(){n.blurTimeoutId=null,r&&!r.contains(i)&&n.handleBlur(o)},150):this.handleBlur(o)}},{key:"checkChildIsValid",value:function(e){var t=e.props,n=t.onFocus,r=t.onBlur;if(!(!!n&&!!r))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}},{key:"handleBlur",value:function(e){this.hasFocus&&(this.hasFocus=!1,this.props.onFocusLeave(e))}},{key:"render",value:function(){var e=this.props.children;return p.a.cloneElement(e,{onFocus:this.onFocus,onBlur:this.onBlur},e.props.children)}}]),t}(b.PureComponent);w.displayName="FocusManager",w.instances=0,w.defaultProps={children:null,onFocusEnter:d.a,onFocusWithin:d.a,onFocusLeave:d.a};var S=w;t.a=S},yuSY:function(e,t,n){},yz0T:function(e,t,n){},yz26:function(e,t,n){},z0G2:function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("OZf9"),c=n("ukTK"),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.keys,r=void 0===n?[]:n,i=t.heightCache,o=void 0===i?new c.a:i;a()(this,e),this.keys=r,this.heightCache=o,this.layout()}return o()(e,[{key:"layout",value:function(){var e=this,t=this.keys,n={},r=0;Object(s.a)(t,function(t){n[t]=r,r+=e.getHeight(t)}),this.tops=n,this.totalHeight=r}},{key:"getHeight",value:function(e){return this.heightCache.get(e)}},{key:"getHeightValidity",value:function(e){return this.heightCache.getValidity(e)}},{key:"getTop",value:function(e){return this.tops[e]}},{key:"getBottom",value:function(e){return this.tops[e]+this.getHeight(e)}},{key:"getTops",value:function(){return this.tops}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"getOffsetForKey",value:function(e){return e?this.getTop(e):this.totalHeight}},{key:"getBounds",value:function(e,t){for(var n=this.keys,r=0;r+1<n.length;){var a=n[r+1];if(this.getTop(a)>e)break;r+=1}for(var i=r;i<n.length;){var o=n[i];if(this.getTop(o)>t)break;i+=1}return{start:r,end:i}}},{key:"setHeight",value:function(e,t){this.heightCache.set(e,t),this.layout()}},{key:"setKeys",value:function(e){this.keys=e,this.layout()}}]),e}();t.a=l},z9FX:function(e,t,n){},"zAO+":function(e,t,n){"use strict";var r=n("iCc5"),a=n.n(r),i=n("V7oC"),o=n.n(i),s=n("FYw3"),c=n.n(s),l=n("mRg0"),u=n.n(l),d=n("kxpR"),b=n.n(d),p=n("XHGt"),h=n("aK/h"),m=n("nNoG"),f=n("HO/Y"),v=n("Qrgz"),g=n("KEK+"),_=n("RAhH"),O=(n("L+JM"),new m.b("shared_channels")),y=(h.b.func.isRequired,h.b.bool.isRequired,h.b.bool,h.b.bool.isRequired,h.b.bool.isRequired,function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return u()(t,e),o()(t,[{key:"onChange",value:function(e){"public"===e.target.value&&this.props.onChange({isPrivate:!1}),"private"===e.target.value&&this.props.onChange({isPrivate:!0})}},{key:"render",value:function(){var e=this.props,t=e.featureSonicEscCreation,n=e.hasPublicChannelPermission,r=e.hasPrivateChannelPermission,a=e.isPrivate;if(!t)return null;var i=b.a.createElement("label",{className:"p-public_private_input__label",htmlFor:"channel_privacy_public",disabled:!n},b.a.createElement(g.a,{id:"channel_privacy_public",name:"channel_privacy",value:"public",checked:!a,onChange:this.onChange,disabled:!n,"data-qa":"channel_privacy_public_input"})," ",b.a.createElement("strong",null,O.t("Public",{note:"An option label for the privacy status of a channel: public or private"}))," ",b.a.createElement("span",{className:"p-public_private_input__label_text"},O.t("Any member of this workspace can join"))),o=b.a.createElement("label",{className:"p-public_private_input__label",htmlFor:"channel_privacy_private",disabled:!r},b.a.createElement(g.a,{id:"channel_privacy_private",name:"channel_privacy",value:"private",checked:a,onChange:this.onChange,disabled:!r,"data-qa":"channel_privacy_private_input"})," ",b.a.createElement("strong",null,O.t("Private",{note:"An option label for the privacy status of a channel: public or private"}))," ",b.a.createElement("span",{className:"p-public_private_input__label_text"},O.t("Members of this workspace can only join by invitation")));return b.a.createElement("div",{className:"p-public_private_input"},n?i:b.a.createElement(_.c,{tip:O.t("Creating public channels is restricted to select members",{note:"Tooltip rendered to a user who is creating a new shared channel but does not have permissions to create a public channel"}),position:"top"},i),r?o:b.a.createElement(_.c,{tip:O.t("Making a channel private is restricted to select members",{note:"Tooltip rendered to a user who is creating a new shared channel but does not have permissions to create a private channel"}),position:"top"},o))}}]),t}(b.a.Component));y.displayName="PublicPrivateInput",y.defaultProps={featureSonicEscCreation:!1};t.a=Object(p.b)(function(e){return{featureSonicEscCreation:Object(f.j)(e,"feature_sonic_esc_creation"),hasPublicChannelPermission:Object(v.C)(e),hasPrivateChannelPermission:Object(v.B)(e)}})(y)},zBEu:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u});var r=n("ROZo"),a=Object(r.b)("TS.newxp.slackbot_response_sent_sig.dispatch"),i=Object(r.b)("TS.newxp.slackbot_skip_or_stop_sig.dispatch"),o=Object(r.b)("TS.newxp.slackbot_continue_sig.dispatch"),s=Object(r.b)("TS.newxp.cancelOnboarding"),c=Object(r.b)("TS.newxp.resumeOnboarding"),l=Object(r.b)("TS.newxp.startOnboardingClick"),u=Object(r.b)("TS.newxp.startOnboarding")},zFoL:function(e,t,n){"use strict";var r=n("aK/h"),a=n("XfeM"),i=n("clTI"),o=n("aLpA"),s=n("jYCR"),c=Object(a.b)("Find members that match a search query",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.query,a=n.channelId,c=n.limit,l=void 0===c?o.c:c,u=t(),d=a?Object(i.d)(u,a):null;return e(Object(s.c)({query:r,options:{entities:{broadcastKeywords:{currentChannel:d},userGroups:{includeDeleted:!1},members:{includeSelf:!0,includeSlackbot:!1}},allowEmptyQuery:!0,sort:{currentChannel:d,preferChannelMembers:!!d},limit:l,tiered:!0}}))});c.propTypes={channelId:r.b.string,query:r.b.string,limit:r.b.number},t.a=c},zNK5:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var r=n("aK/h"),a=n("EzZj"),i=n("juCJ"),o=Object(a.b)("Stops the API queue");o.propTypes=null;var s=Object(a.b)("Restarts the API queue");s.propTypes=null;var c=Object(a.b)("Enqueue and call a BaseRequest");c.propTypes={request:r.b.instanceOf(i.b),expedited:r.b.bool};var l=Object(a.b)("Wait until this ApiQ Instance has an empty queue");l.propTypes=r.b.any;var u=Object(a.b)("Maybe reassign max active api requests");u.propTypes=null},zPRk:function(e,t,n){"use strict";var r=n("TdMD"),a=n.n(r),i=n("fpvb"),o=n("xIQt"),s=n("4GGS"),c=n("YEIV"),l=n.n(c),u=n("QbLZ"),d=n.n(u),b=n("sk9p"),p=n.n(b),h=n("fujP"),m=n("K7TJ"),f=n("YS90"),v=n("tVnY"),g=n("HO/Y"),_=n("uf9I"),O=n("W+QA"),y=n("VMwU"),j=n("VjHM"),k=n("g5qt"),E=n("0NgK"),C=n("yHhI"),I=n("ZS+m"),w=[],S=Object(I.a)([function(e){return Object(j.g)(e,"mac_ssb_bullet")},E.g,E.f],function(e,t,n){return{showBullet:e,unreads:t,unreadHighlights:n}}),T=Object(I.a)([function(e){return Object(j.g)(e,"sidebar_theme")},j.c,v.b],function(e,t,n){var r=Object(O.e)(e,t,{useGlobalNav:n});return{titlebarBackground:Object(y.c)(r.column_bg,32,{outputHex:!0}),titlebarTextColor:r.text_color}}),R=Object(I.a)(w.map(function(e){return function(t){return Object(g.j)(t,e)}}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(m.a)(w.map(function(e,n){return[e,t[n]]}))}),N=Object(I.a)([function(e){return Object(g.j)(e,"feature_desktop_sonic_rollout")},function(e){return Object(g.j)(e,"feature_desktop_sonic_beta_rollout")},function(e){return Object(g.j)(e,"feature_desktop_sonic_disable_rollout")}],function(e,t,n){var r="beta"===Object(k.K)();return{isSonicEnabled:!n&&(r?t:e),isSonicDisabled:n}});var x=Object(I.a)([T,R,N,S],function(e,t,n,r){return{theme:e,featureFlags:t,bootConfig:n,unreads:r}}),M={},P=Object(f.b)("Handle desktop data sync",function(e,t,n){var r=e.getState(),a=Object(_.b)(r);if(!a)return t(n);M[a]||(M[a]={});var i=x(r),o=Object.entries(i).reduce(function(e,t){var n=p()(t,2),r=n[0],i=n[1];return M[a][r]===i?e:(M[a][r]=i,d()({},e,l()({},r,i)))},{});if(!Object(h.a)(o)){Object(C.a)({getState:e.getState}).info("DESKTOP-MIDDLEWARE","Forwarding redux payload to desktop",Object.keys(o));var s=l()({},a,o);Object(k.r)({teams:s})}return t(n)}),A=n("UXvI"),D=n("rWF5"),L=n("24sB"),q=n("Smdl"),F=n("Z0v/"),B=[],U={};var H=Object(A.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.reducerConfig,r=Object(_.b)(t),a=U[r]||{};U[r]=t,t&&Object.keys(t).forEach(function(e){if(t[e]!==a[e]){var r=Object(F.p)(n&&n[e]);if(r){var i=r.persistenceEnabled,o=r.beforeWriteTransform;if(i){var s=o?o(t[e]):t[e];if(!Object(L.a)(s)){if(B.includes(e))return;Object(C.b)().error('Redux store "'+e+'" has unserializable state!\nFix this by ensuring that the store contains no functions or promises.\nAre you not working on the '+e+" store? Were you just minding your own business when this error popped up out of nowhere?\nPlease DM @drew this error message and he'll look into it."),B.push(e)}}}else Object(C.b)().error('dev-only-unserializable-state-detector-middleware cannot find a persistence config for the store "'+e+'". Please share this message in #devel-redux-persist')}})},1e4),K=Object(f.b)("In dev, warns when store state is unserializable",function(e,t,n){if(!((D.k||D.n)&&!Object(q.a)()))return t(n);var r=e.getState(),a=t(n),i=Object(_.b)(r),o=Object(F.o)(i);if(!i)return a;var s=e.getState();return H({state:s,reducerConfig:o}),a}),G=n("BeG2"),V=n("lhZz"),z=n("30MO"),Y=n("HDs8"),W=n("zNK5"),Q=n("YB7p"),X=n("5O0F"),Z="SAME-ORIGIN-CHECK",J="/api/api.test?_x_check_same_origin_request=1";var $=n("Z7Ay"),ee=n("4zXV"),te=n("iEG+");var ne=n("3OZj"),re=n("lDGG"),ae=n("13mM"),ie=n("XfeM"),oe=n("Zr7G"),se=n("eK5+"),ce=Object(se.a)(1),le=null,ue=null,de=Object(ie.b)("Resolves only when we have established and upserted client online status",function(e){return e(Object(re.d)()).catch(function(){return new Promise(function(t){le=window.setTimeout(function(){t(e(de()))},5e3)})})});de.propTypes=null;var be=Object(ie.b)("Resolves only when we have established and upserted client online status",function(e){return ue||(ce&&Object(oe.a)().mark("api_connectivity_lost"),ue=e(de()).tap(function(){ce&&Object(oe.a)().measureAndClear("api_connectivity_lost","api_connectivity_lost")}).finally(function(){clearTimeout(le),ue=null,le=null})),ue});be.propTypes=null;var pe=be,he=n("5UAc"),me=n("IY6O"),fe={},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dispatch,r=t.getState;if(!fe[e]){var a=Object(C.a)({teamId:e}),i=function(e){if(Object(q.a)()){var t=Object(V.getClientStoreInstance)();return Object(me.getFocusedWorkspace)(t.getState())===e}return!0}(e),o=new Y.a({isOnline:function(){return Object(ae.d)(r())},isClientOnline:function(){return Object(g.j)(r(),"feature_connectivity_manager")?Object(ae.c)(r()):Object(z.a)()},maxActiveRequests:i?10:1,reconnectService:function(){var e=Object(g.j)(r(),"feature_connectivity_manager")&&Object(q.a)()?Object(V.getClientStoreInstance)().dispatch:n;return e(Object(re.b)(!1)),a.info("API-Q","Pausing queue because service is offline"),Object(g.j)(r(),"feature_connectivity_manager")?e(pe()).finally(function(){a.info("API-Q","Unpausing queue, back online")}):Object(z.b)().then(function(){n(Object(re.b)(!0)),n(Object(re.a)(!0)),a.info("API-Q","Unpausing queue, back online")})},reconnectClient:function(){Object(z.a)()&&function(){var e=Object(C.b)({label:Z});e.info("Testing a request on the same origin"),fetch(J).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).status;e.info("Success! It is likely that CORS or another IT policy is blocking some Slack domains."),t===X.a.UNAVAILABLE_FOR_LEGAL_REASONS&&Object(Q.a)({reason:"451-service-unavailable-for-legal-reasons",reasonKey:"451_service_unavailable_for_legal_reasons"})}).catch(function(t){e.info("Request failed with error:",t)})}();var e=Object(g.j)(r(),"feature_connectivity_manager")&&Object(q.a)()?Object(V.getClientStoreInstance)().dispatch:n;return e(Object(re.a)(!1)),a.info("API-Q","Pausing queue because client is offline"),Object(g.j)(r(),"feature_connectivity_manager")?e(Object(he.a)()).finally(function(){a.info("API-Q","Unpausing queue, back online")}):Object(z.b)().then(function(){n(Object(re.b)(!0)),n(Object(re.a)(!0)),a.info("API-Q","Unpausing queue, back online")})}});fe[e]=o,function(e){var t=e.teamId,n=e.q,r=e.dispatch;Object($.c)(t,"api",{q:n,call:function(e){return r(Object(ee.a)(e))},callExpedited:function(e){return r(Object(ee.b)(e))}})}({teamId:e,q:o,dispatch:n}),function(e){var t=e.teamId,n=e.q,r=e.dispatch;Object($.c)(t,"flannel",{q:n,call:function(e){return r(Object(te.a)(e))}})}({teamId:e,q:o,dispatch:n})}return fe[e]};var ge=Object(f.b)("Dispatches requests to the API Queue",function(e,t,n){var r,a=e.dispatch,i=e.getState(),o=Object(_.b)(i);switch(n.type){case W.e.getType():return Object(C.a)({state:i}).info("Halting the API queue"),void ve(o,e).stop();case W.d.getType():return Object(C.a)({state:i}).info("Restarting the API queue"),void ve(o,e).restart();case W.b.getType():var s=n.payload,c=s.request,l=s.expedited,u=void 0!==l&&l;a(Object(ne.b)());var d=Object($.d)("networkDelay.api")||0,b=ve(o,e);return Promise.delay(d,b.q(c,u));case W.a.getType():return ve(o,e).awaitEmptyQ();case W.c.getType():return fe[r=o]&&Object.keys(fe).forEach(function(e){var t=fe[e];r===e?t.assignApiCallThreshold(10):t.assignApiCallThreshold(1)}),t(n);default:return t(n)}}),_e=n("lhpG"),Oe={},ye={},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oe[e]=t},ke=function(e){return Oe[e]||{}},Ee=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}};function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=void 0===t?{}:t,r=e.reducerConfig,a=void 0===r?{}:r,i=e.teamId,o=e.userId,s=e.keyPrefix,c=void 0===s?"":s,l=e.prevStatePassedIn,u=void 0;l?u=l:(u=ke(i),je(i,n)),Object.keys(n).forEach(function(e){var t=a[e],r=n[e],s=u[e];if(r!==s){var l=Object(F.l)({teamId:i,userId:o,key:""+c+e});if(Object(F.r)(t))Ce({state:r,prevState:s,reducerConfig:Object(F.k)(t),keyPrefix:l+"."});else{var d=Object(F.p)(t)||{},b=d.persistenceEnabled,p=void 0!==b&&b,h=d.persistImmediately,m=void 0!==h&&h,f=d.beforeWriteTransform;if(p&&m){var v=f?f(n[e]):n[e];Ee(l,v)}}}})}var Ie={},we=Object(f.b)("Persists data from Redux into localStorage for rehydration later",function(e,t,n){var r=e.getState(),a=Object(_.b)(r),i=Object(g.b)(r),o=Object(F.o)(a);r&&o&&a&&i&&function(e){var t=Ie[e];return t||(t=Object(A.a)(Ce,100),Ie[e]=t),t}(a)({state:r,teamId:a,userId:i,reducerConfig:o});return a&&!ye[a]&&(ye[a]={persist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;Object(C.a)({teamId:a}).info("DEBUG","Persisting to immediate persistence"),Ce({state:e,teamId:a,userId:i,reducerConfig:o})},get:function(){return Object(C.a)({teamId:a}).info("DEBUG","Getting immediately persisted state"),_e.c&&Object(_e.c)({teamId:a,userId:i})},clear:function(){return Object(C.a)({teamId:a}).info("DEBUG","Clearing immediately persisted state"),_e.b&&Object(_e.b)({teamId:a,userId:i})}},Object($.c)(a,"persist.immediatePersist",ye[a])),t(n)}),Se=n("aK/h"),Te=Object(ie.b)("Dispatches an action to all booted teams",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.action,a=n.enterpriseId,i=n.ignoreIds,o=void 0===i?[]:i;Object(me.getBootedWorkspacesByOrg)(t(),a).filter(function(e){return!o.includes(e)}).forEach(function(e){Object(V.dispatchForTeamId)(e,r)})});Te.propTypes={action:Se.b.object.isRequired,enterpriseId:Se.b.string.isRequired};var Re=Te,Ne=!1;var xe=Object(f.b)("Syncs data between workspaces in the same org by fanning out actions to other workspaces",function(e,t,n){if(!Object(q.a)()||Ne)return t(n);var r=e.getState(),a=t(n),i=e.getState(),o=Object(_.a)(i),s=Object(_.b)(i),c=Object(F.o)(s);i&&o&&c&&function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prevState,r=void 0===n?{}:n,a=t.state,i=void 0===a?{}:a,o=t.reducerConfig,s=void 0===o?{}:o,c=!1;return Object.keys(i).forEach(function(t){if(!c){var n=s[t],a=i[t],o=r[t];a!==o&&(Object(F.r)(n)?c=e({prevState:o,state:a,reducerConfig:Object(F.k)(n)}):Object(F.w)(n)&&(c=!0))}}),c}({prevState:r,state:i,reducerConfig:c})&&(Ne=!0,Object(V.getClientStoreInstance)().dispatch(Re({enterpriseId:o,action:n,ignoreIds:[s]})));return Ne=!1,a}),Me=n("iJtp"),Pe=n("jzln"),Ae=[i.b,a.a,xe,o.b,G.c,s.a,K,ge];k.X&&Object(k.Y)()&&Ae.push(P),Object(Me.a)()||Object(Pe.a)()||Ae.push(we),void 0!==window.__karma__&&Ae.unshift(function(){return function(e){var t=function e(){return e._testOnlySpyableDispatch.apply(e,arguments)};return t._testOnlySpyableDispatch=e,t}});t.a=Ae},zUhB:function(e,t,n){},"zWa+":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var r=n("aK/h"),a=n("EzZj"),i=Object(a.b)("Update one team pref");i.propTypes={pref:r.b.string.isRequired,value:r.b.any.isRequired};var o=Object(a.b)("Update multiple team preferences");o.propTypes=r.b.object.isRequired;var s=Object(a.b)("Initialize team preferences");s.propTypes=r.b.object.isRequired},zYj7:function(e,t,n){},zfae:function(e,t,n){"use strict";n.d(t,"d",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return M}),n.d(t,"a",function(){return A}),n.d(t,"h",function(){return D});var r,a=n("m1cH"),i=n.n(a),o=n("YEIV"),s=n.n(o),c=n("QbLZ"),l=n.n(c),u=n("kiPk"),d=n("m8R6"),b=n("OZf9"),p=n("HI9p"),h=n("CpTu"),m=n("Z0Cl"),f=n("3Hq1"),v=n("/1FC"),g=n("fujP"),_=n("aK/h"),O=n("EzZj"),y=n("XfeM"),j=n("MNvw"),k=n("U/ze"),E=n("CsuD"),C=n("yPgC"),I=_.b.shape({reactions:_.b.objectOf(C.a.Reaction)}),w=Object(O.b)("update a reaction key");w.propTypes={key:_.b.string.isRequired,reactions:_.b.arrayOf(C.a.Reaction)};var S=Object(O.b)("deletes reaction keys");S.propTypes={keys:_.b.arrayOf(_.b.string).isRequired};var T=Object(O.b)("bulk update reactions");T.propTypes=_.b.arrayOf(_.b.shape({key:_.b.string.isRequired,reactions:_.b.arrayOf(C.a.Reaction)})).isRequired;var R=Object(j.b)((r={},s()(r,w,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.reactions;return n?l()({},e,s()({},n,r)):e}),s()(r,S,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).keys;return t&&t.length?Object(d.a)(e,t):e}),s()(r,T,function(e,t){if(!Object(v.a)(t))return e;var n=Object(m.a)(t,"key");if(!n.length)return e;var r=l()({},e);return Object(b.a)(n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=e.reactions;Object(f.a)(t)||Object(f.a)(n)||(r[t]=n)}),r}),r),{},{persistenceEnabled:!0});R.propTypes=I,t.c=R;var N=Object(k.b)(function(e,t){return e&&e.reactions&&e.reactions[t]}),x=Object(k.b)(function(e,t,n){return Object(h.a)(N(e,t)||[],function(e){return e.name===n})}),M=function(e,t){return Object(u.a)(N(e,t),"count")},P=Object(y.b)("upsert reactions for a reaction key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.key,a=n.reactions;if(!n.fromUserAction){var i=Object(E.a)(r);if(i)return i.then(function(){return e(P({key:r,reactions:a}))}),!1}return e(w({key:r,reactions:a})),!0});P.propTypes={key:_.b.string.isRequired,reactions:_.b.arrayOf(C.a.Reaction),fromUserAction:_.b.bool};var A=Object(y.b)("add a single reaction by a user for a reaction key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.key,a=n.name,o=n.userId,s=n.url,c=n.fromUserAction;if(Object(f.a)(r)||Object(f.a)(a)||Object(f.a)(o))return!1;var u=l()({users:[],count:0,name:a},x(t(),r,a));s&&(u.url=s);var d=[].concat(i()(u.users));-1===d.indexOf(o)&&(d.push(o),u.count+=1);var b=N(t(),r)||[],h=Object(p.a)(b,function(e){return e.name===a}),m=void 0;return m=-1===h?[].concat(i()(b),[l()({},u,{users:d})]):[].concat(i()(b.slice(0,h)),[l()({},u,{users:d})],i()(b.slice(h+1))),e(P({key:r,reactions:m,fromUserAction:c}))});A.propTypes={key:_.b.string.isRequired,name:_.b.string.isRequired,userId:_.b.string.isRequired,url:_.b.string,fromUserAction:_.b.bool};var D=Object(y.b)("remove a single reaction by a user for a reaction key",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.key,a=n.name,o=n.userId,s=n.fromUserAction;if(Object(f.a)(r)||Object(f.a)(a))return!1;var c=l()({},x(t(),r,a));if(Object(g.a)(c))return!1;var u=[].concat(i()(c.users)),d=u.indexOf(o);d>-1&&(u=[].concat(i()(u.slice(0,d)),i()(u.slice(d+1))),c.count-=1);var b=N(t(),r),h=Object(p.a)(b,function(e){return e.name===a});if(Object(f.a)(b))return!1;var m=void 0;return m=!u.length||c.count<1?[].concat(i()(b.slice(0,h)),i()(b.slice(h+1))):[].concat(i()(b.slice(0,h)),[l()({},c,{users:u})],i()(b.slice(h+1))),e(P({key:r,reactions:m,fromUserAction:s}))});D.propTypes={key:_.b.string.isRequired,name:_.b.string.isRequired,userId:_.b.string.isRequired,fromUserAction:_.b.bool}},zlNY:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("tn36"),h=n("kxpR"),m=n.n(h),f=n("XHGt"),v=n("kX2h"),g=n("0Sj2"),_=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(p.a)(n,["setRef"]),n}return b()(t,e),c()(t,[{key:"setRef",value:function(e){this.select=e}},{key:"focus",value:function(){this.select&&this.select.focus()}},{key:"focusSelectInput",value:function(){this.select&&this.select.focusSelectInput()}},{key:"render",value:function(){var e=a()({},this.props,{innerRef:this.setRef});return m.a.createElement(v.a,e)}}]),t}(h.Component);_.displayName="ChannelsSelect";var O={optionsFetcher:g.a},y=Object(f.b)(null,O,null,{withRef:!0})(_),j=n("REvl"),k=n("jo6Y"),E=n.n(k),C=n("aK/h"),I=(C.b.bool,C.b.func.isRequired,C.b.func.isRequired,function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(p.a)(n,["setRef"]),n}return b()(t,e),c()(t,[{key:"setRef",value:function(e){this.select=e}},{key:"focus",value:function(){this.select&&this.select.focus()}},{key:"focusSelectInput",value:function(){this.select&&this.select.focusSelectInput()}},{key:"render",value:function(){var e=this.props,t=e.includeApps,n=e.memberOptionsFetcher,r=e.memberNoAppsOptionsFetcher,i=E()(e,["includeApps","memberOptionsFetcher","memberNoAppsOptionsFetcher"]),o=a()({},i,{innerRef:this.setRef,optionsFetcher:t?n:r});return m.a.createElement(v.a,o)}}]),t}(h.Component));I.displayName="MembersSelect",I.defaultProps={includeApps:!0};var w={memberOptionsFetcher:g.g,memberNoAppsOptionsFetcher:g.f},S=Object(f.b)(null,w,null,{withRef:!0})(I),T=n("cTBa");n.d(t,"a",function(){return y}),n.d(t,"b",function(){return j.a}),n.d(t,"c",function(){return S});t.d=T.b},zmUX:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("iCc5"),o=n.n(i),s=n("V7oC"),c=n.n(s),l=n("FYw3"),u=n.n(l),d=n("mRg0"),b=n.n(d),p=n("ifKl"),h=n("aK/h"),m=n("kxpR"),f=n.n(m),v=n("XHGt"),g=n("TSYQ"),_=n.n(g),O=n("lhZz"),y=n("D4L/"),j=n("uf9I"),k=n("7/2U"),E=n("od5y"),C=n("cD5Y"),I=n("nNoG"),w=n("qEEt"),S=n("plEq"),T=n("6kok"),R=n("5mKg"),N=n("HO/Y"),x=(n("B8oY"),new I.b("channel_options")),M=new I.b("ui_validation"),P=(h.b.string.isRequired,h.b.oneOfType([h.b.string,h.b.object]),h.b.bool,h.b.object,h.b.bool,h.b.string.isRequired,h.b.bool,h.b.string,h.b.func,h.b.func,h.b.bool,h.b.string.isRequired,h.b.string.isRequired,h.b.bool.isRequired,h.b.bool.isRequired,h.b.number.isRequired,h.b.bool,{additionalVerificationError:"",additionalVerificationGood:!1,channel:null,nameNeedsChecking:!1,isCheckingAdditionalVerification:!1,placeholder:"",onInvalid:p.a,onValid:p.a,shouldFix:!1,focusOnMount:!1}),A=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.renderWarning=n.renderWarning.bind(n),n.state={showInvalidCharactersWarning:!1,showLowercaseWarning:!1,showMaxLengthWarning:!1,showNameRequiredWarning:!1,showNameTakenWarning:!1,showPunctuationWarning:!1,showSpecialsWarning:!1,value:n.props.value},n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.nameNeedsChecking&&this.onChange(this.props.value)}},{key:"onChange",value:function(e){var t=e,n=this.props,r=n.nameNeedsChecking,a=n.onInvalid,i=n.onValid,o=n.shouldFix,s=n.teamId,c=n.maxChannelNameLength;o&&(t=this.fixName(t));var l=Object(O.getStateByTeamId)(s),u=Object(k.a)(l,t,this.props.value,c),d=u.hasNameRequiredWarning,b=u.hasMaxLengthWarning,p=u.hasSpecialsWarning,h=u.hasPunctuationWarning,m=u.hasLowercaseWarning,f=u.hasNameTakenWarning;if(t===this.props.value&&!r)return a({value:t}),void this.setState(function(){return{showLowercaseWarning:!1,showMaxLengthWarning:!1,showNameRequiredWarning:!1,showNameTakenWarning:!1,showPunctuationWarning:!1,showSpecialsWarning:!1,value:t}});m||b||d||f||h||p?a({value:t}):i({value:t}),this.setState(function(){return{showLowercaseWarning:m,showMaxLengthWarning:b,showNameRequiredWarning:d,showNameTakenWarning:f,showPunctuationWarning:h,showSpecialsWarning:p,value:t}})}},{key:"fixName",value:function(e){var t=e.toLowerCase().replace(/^#+/,"");t=(t=(t=t.replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/\s/g,"-");var n=this.state.showInvalidCharactersWarning;return n=!(!t||t===e),this.setState(function(){return{showInvalidCharactersWarning:n}}),t}},{key:"maybeRenderAdditionalValidationMarks",value:function(){var e=this.props,t=e.additionalVerificationGood,n=e.isCheckingAdditionalVerification,r=this.state,a=r.showLowercaseWarning,i=r.showMaxLengthWarning,o=r.showNameRequiredWarning,s=r.showNameTakenWarning,c=r.showPunctuationWarning,l=r.showSpecialsWarning;return a||i||o||s||c||l?null:n?f.a.createElement("span",{className:"p-channel_name_input--validating"},f.a.createElement(C.a,{size:"large",className:"inline_block"})):t?f.a.createElement("span",{"data-qa":"channel_name_input_validation",className:"p-channel_name_input--validating sk_seafoam_green"},x.t("Available"),f.a.createElement(E.a,{align:"baseline",type:"check_circle_o_large"})):null}},{key:"maybeRenderAdditionalVerificationWarning",value:function(){var e=this.props.additionalVerificationError;return e.length?this.renderWarning(e):null}},{key:"renderRules",value:function(){var e=this.props,t=e.channel,n=e.workspaceName,r=e.featureLongerChannelNames;if(Object(T.Y)(t))return this.renderWarning(x.t("Names should be lowercase, with no spaces. Changes will only be visible to {workspaceName}.",{workspaceName:Object(I.n)(n)}),!1);var a=r?x.t("Names must be lowercase, without spaces or periods, and can\u2019t be longer than 80 characters.",{fallbackHash:"69c839e687fd5541731e10a9158a3e434673fc87"}):x.t("Names should be lowercase, with no spaces.");return this.renderWarning(a,!1)}},{key:"renderNameTakenWarning",value:function(){return this.renderWarning(M.t("{name} is already taken by a channel, username, or user group.",{name:this.state.value}))}},{key:"renderInvalidCharactersWarning",value:function(){return this.renderWarning(x.t("You entered some disallowed characters in the name, which we\u2019ve fixed. Make sure it looks good to you, and try again!"))}},{key:"renderLowercaseWarning",value:function(){return this.renderWarning(M.t("Channel names must be all lowercase. Try again?"))}},{key:"renderMaxLengthWarning",value:function(e){var t=this.props.featureLongerChannelNames?M.t("Channel names can\u2019t be longer than {maxlength} characters.",{maxlength:e}):M.t("Blerg, that\u2019s a bit too long! Channel names must be fewer than {maxlength} characters.",{maxlength:e+1});return this.renderWarning(t)}},{key:"renderRequiredWarning",value:function(){return this.renderWarning(M.t("Don\u2019t forget to name your channel."))}},{key:"renderPunctuationWarning",value:function(){return this.renderWarning(M.t("Names can\u2019t consist solely of punctuation. Please elaborate!"))}},{key:"renderSpecialsWarning",value:function(){return this.renderWarning(M.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"))}},{key:"renderWarning",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=f.a.createElement("span",{className:"flex_none small_right_margin"},f.a.createElement(E.a,{type:"warning"})),r=_()("p-channel_name_input--input_note",{"p-channel_name_input--alert":t});return f.a.createElement("span",{className:r},t&&n,f.a.createElement("span",{className:"flex_one"},e))}},{key:"renderTextInput",value:function(e){var t=this.props,n=t.id,r=t.placeholder,i=t.featureChannelIsNewCreateEdit,o=t.featureLongerChannelNames,s=t.maxChannelNameLength,c=t.focusOnMount,l=this.state.value,u=_()("c-input_text","p-channel_name_input--input",{"p-channel_name_input--input_with_warning":e}),d={id:n,placeholder:r,value:l,onChange:this.onChange,name:"channel_name_input",className:u};if(i||o){var b=a()({},d,{showError:!1,maxCharacterLimit:s,focusOnMount:c});return f.a.createElement(S.a,b)}var p=a()({},d,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!!c||void 0});return f.a.createElement(w.b,p)}},{key:"render",value:function(){var e=this.props,t=e.additionalVerificationError,n=e.maxChannelNameLength,r=this.state,a=r.showInvalidCharactersWarning,i=r.showLowercaseWarning,o=r.showMaxLengthWarning,s=r.showNameRequiredWarning,c=r.showNameTakenWarning,l=r.showPunctuationWarning,u=r.showSpecialsWarning,d=a||i||o||s||c||l||u;return t&&t.length&&(d=!0),f.a.createElement("div",{className:"position_relative"},this.renderTextInput(d),this.maybeRenderAdditionalValidationMarks(),f.a.createElement("div",{"data-qa":"channel_name_input_warnings",className:"p-channel_name_input--warnings"},a&&this.renderInvalidCharactersWarning(),i&&this.renderLowercaseWarning(),o&&this.renderMaxLengthWarning(n),s&&this.renderRequiredWarning(),c&&this.renderNameTakenWarning(),l&&this.renderPunctuationWarning(),u&&this.renderSpecialsWarning(),this.maybeRenderAdditionalVerificationWarning()),this.renderRules())}}]),t}(m.PureComponent);A.displayName="ChannelNameInput",A.defaultProps=P;var D=Object(v.b)(function(e){var t=Object(N.j)(e,"feature_longer_channel_names"),n=Object(k.b)(t),r=Object(j.b)(e),a=Object(y.i)(e,r);return{workspaceName:Object(R.e)(a),featureChannelIsNewCreateEdit:Object(N.j)(e,"feature_channel_is_new_create_edit"),featureLongerChannelNames:t,maxChannelNameLength:n,teamId:r}})(A);t.a=D},zmyB:function(e,t,n){},zo7m:function(e,t,n){"use strict";var r=n("AFNo"),a=Object(r.a)("(noop) Open the edit profile modal via side-effect");a.propTypes=null,t.a=a},zqCN:function(e,t,n){},zrSA:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("aK/h"),o=n("XfeM"),s=n("HO/Y"),c=n("TcTh"),l=n("M+2+"),u=n("CXsT"),d=n("Iq6W"),b=n("uf9I"),p=n("hOQf"),h=n("2HDu"),m=Object(o.b)("Add single raw / unprocessed message to store",function(e,t,n){var r=t(),i=Object(b.b)(r),o=n.channel,m={channelId:o,timestamps:[n.ts],oldest:n.ts,hasMore:!1,append:!0},f=e(Object(u.a)({imsgs:[n],channelId:n.channel}));if(e(Object(d.a)(f)),e(Object(c.b)(m)),Object(s.j)(r,"feature_message_history_cfm")&&Object(l.b)(i,o,[n.ts]),Object(p.ib)(n)){var v=Object(h.c)(o,n.thread_ts);e(Object(c.b)(a()({},m,{channelId:v})))}return f[0]});m.propTypes={ts:i.b.string.isRequired,channel:i.b.string.isRequired},t.a=m},zwKj:function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return y});var r=n("zmn3"),a=n("mM05"),i=n.n(a),o=n("aK/h"),s=n("qMFv"),c=n("x4bP"),l=n("RB1+"),u=n("aLpA"),d=n("XfeM"),b=n("HO/Y"),p=n("aW/o"),h=n("hPvj"),m=n("b+9+"),f=n("Fdc0"),v=n("+yap"),g=n("2Y1Y"),_=function(e,t,n){var a=t.app_card_color,i=t.app_user_id,o=t.auth,s=t.bot_user,c=t.config,l=t.commands,u=t.config_url,d=t.enterprise_id,b=t.desc,p=t.icons,h=t.id,m=t.is_directory_published,v=t.is_slack_integration,g=t.is_distributed,_=t.is_xoxa_app,O=t.is_workflow_app,y=t.long_desc,j=t.long_desc_formatted,k=t.name,E=t.support_url,C=t.team_id,I=t.screenshots,w=t.url,S=t.youtube_url,T=t.auth_summary_list,R="xoxp";_?R="xoxa":c&&c.is_custom_integration?R="custom_integration":v&&(R="slack");var N=!0,x=!1;c?(0!==parseInt(c.date_deleted,10)&&(x=!0,N=!1),0!==parseInt(c.date_deleted,10)&&(N=!1),c.is_active<1&&(N=!1)):o?o.revoked&&(N=!1):N=!1;var M=null;c&&c.created_by&&(M=c.created_by),o&&o.created_by&&(M=o.created_by);var P=l?Object(r.a)(l,function(e){return{name:e.name,usage:e.usage,description:e.desc}}):null,A=null;_?A={id:i,username:k}:s?A={id:s.id,username:s.username}:n&&(A={id:n.id,username:Object(f.w)(n)});var D=k;c&&(c.real_name?D=c.real_name:c.username&&(D=c.username));var L=b;c&&c.descriptive_label&&(L=c.descriptive_label);var q=p;c&&c.icons&&(q=c.icons);var F=s&&s.memberships_count||null;return{app_id:h,home_workspace_id:C,home_enterprise_id:d,service_id:e,config_url:u,app_type:R,is_workflow_app:O,profile:{name:D,color:a||void 0,description:y,formattedDescription:j,tagline:L,icons:q,custom_integration_type:c&&c.custom_integration_type||null},directory_profile:{screenshots:I,youtube_url:S,home_url:w,support_url:E,is_distributed:g,is_published:m},installation:{installer_user_id:M,is_active:N,is_deleted:x,memberships_count:F,date_created:c&&c.date_created||null},app_user:A,commands:P,auth_summary_list:T,legacy_app:t}},O=function(e){var t=Object(v.c)(),n=Object(g.j)(t);Object(g.j)(t,e+" "+n),Object(g.b)(t,e.length+1,n.length),Object(g.c)(t)},y=Object(d.b)("prepend slash command to current text in message input",function(e,t,n){var r=n.commandName,a=t(),o=Object(b.j)(a,"feature_sonic_inputs"),d=Object(p.a)(a),f=Object(h.d)(a,{channelId:d});if(Object(c.a)()||Object(s.a)("messages"),Object(c.a)()||o){var v=Object(l.a)({viewContext:u.C.MESSAGE_PANE,channelId:d});if(v)v.isEmpty()?v.setText(r):v.prependContents({contents:(new i.a).insert(r+" ").ops}),v.focus(),v.setCursorAtEnd();else{var g=new i.a(f),_=g.length(),y=(new i.a).insert(""+r);_&&y.insert(" ");var j=y.length(),k=g.compose(y);e(Object(h.e)({channelId:d,delta:k,range:{index:j,length:_}})),e(Object(m.g)(!1))}}else O(r)});y.propTypes={commandName:o.b.string.isRequired}}}]);